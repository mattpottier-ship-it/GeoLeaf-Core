@import url("./geoleaf-theme.css");

/* ==========================================================================
   GeoLeaf.POI ‚Äì Styles UI pour la gestion des points d‚Äôint√©r√™t
   Pilot√© par les variables de th√®me (geoleaf-theme.css)
   ========================================================================== */

/* ------------------------------------------------------------
   1) Marqueur POI (L.divIcon)
   ------------------------------------------------------------ */

.gl-poi-marker {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    /* Pas de background ni border ici : le SVG int√©rieur g√®re l'affichage */
    width: 12px;
    height: 12px;
}

/* SVG ic√¥ne √† l'int√©rieur du marqueur (sprite) */
.gl-poi-marker__icon {
    width: 100%;
    height: 100%;
    display: block;
    /* Couleur de remplissage pour les symboles SVG utilisant currentColor */
    color: var(--gl-poi-fill, var(--gl-color-poi-fill));
    /* Ombre pour donner du relief */
    filter: drop-shadow(0 1px 2px var(--gl-color-overlay-soft));
}

/* SVG cercle simple (mode sans ic√¥ne) */
.gl-poi-marker__circle {
    width: 100%;
    height: 100%;
    display: block;
    /* Ombre pour les cercles simples */
    filter: drop-shadow(0 1px 2px var(--gl-color-overlay-soft));
}

/* Clusters */
.gl-poi-cluster {
    background-color: var(--gl-color-poi-fill);
    border: 3px solid var(--gl-color-poi-stroke);
    color: var(--gl-color-text-inverse);
    font-weight: 600;
    box-shadow: var(--gl-shadow-medium);
}

/* ------------------------------------------------------------
   2) Tooltip POI
   ------------------------------------------------------------ */

/* Tooltip POI utilisant les m√™mes variables que les popups pour coh√©rence visuelle */
.gl-poi-tooltip.leaflet-tooltip,
.gl-geojson-tooltip.leaflet-tooltip {
    background: var(--gl-color-popup-bg);
    color: var(--gl-color-popup-text);
    border: 1px solid var(--gl-color-popup-border);
    box-shadow: var(--gl-shadow-soft);
    border-radius: 0.375rem;
    padding: 0.35rem 0.65rem;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Roboto", sans-serif;
    font-size: 0.8rem;
    font-weight: 500;
    backdrop-filter: blur(4px);
}

/* Fl√®che du tooltip */
.gl-poi-tooltip.leaflet-tooltip::before,
.gl-geojson-tooltip.leaflet-tooltip::before {
    border-top-color: var(--gl-color-popup-border);
}

.gl-poi-tooltip.leaflet-tooltip.leaflet-tooltip-top::before,
.gl-geojson-tooltip.leaflet-tooltip.leaflet-tooltip-top::before {
    border-top-color: var(--gl-color-popup-border);
}

.gl-poi-tooltip.leaflet-tooltip.leaflet-tooltip-bottom::before,
.gl-geojson-tooltip.leaflet-tooltip.leaflet-tooltip-bottom::before {
    border-bottom-color: var(--gl-color-popup-border);
}

.gl-poi-tooltip.leaflet-tooltip.leaflet-tooltip-left::before,
.gl-geojson-tooltip.leaflet-tooltip.leaflet-tooltip-left::before {
    border-left-color: var(--gl-color-popup-border);
}

.gl-poi-tooltip.leaflet-tooltip.leaflet-tooltip-right::before,
.gl-geojson-tooltip.leaflet-tooltip.leaflet-tooltip-right::before {
    border-right-color: var(--gl-color-popup-border);
}

/* ------------------------------------------------------------
   3) Popup POI enrichie
   ------------------------------------------------------------ */

.gl-poi-popup {
    display: flex;
    flex-direction: column;
    gap: 0.10rem;
    max-width: 300px;
    min-width: 260px;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Roboto", sans-serif;
    font-size: 0.875rem;
    line-height: 1.35;
}

/* ------------------------------------------------------------------
   Harmonisation avec Leaflet popup : fond semi-transparent suivant le
   th√®me (utilise les variables d√©finies dans geoleaf-theme.css)
   ------------------------------------------------------------------ */
.leaflet-popup-content-wrapper {
    background: var(--gl-color-popup-bg);   /* 100% opaque, th√®me light/dark */
    color: var(--gl-color-popup-text);
    border: 1px solid var(--gl-color-popup-border);
    box-shadow: var(--gl-shadow-medium);
    border-radius: 0.5rem;
    backdrop-filter: blur(6px);             /* optionnel : adoucit visuellement le fond */
}

/* Fl√®che du popup */
.leaflet-popup-tip-container .leaflet-popup-tip,
.leaflet-popup-tip {
    background: var(--gl-color-popup-bg-elevated, var(--gl-color-popup-bg));
    border-top-color: var(--gl-color-popup-border);
}

/* Force les popups au-dessus des theme selectors (850) */
.leaflet-map-pane .leaflet-popup-pane {
    z-index: 1050 !important;
}

/* Assure que les popups passent au-dessus des theme selectors */
.leaflet-popup-pane,
.leaflet-pane.leaflet-popup-pane {
    z-index: 1050 !important;
}

.leaflet-popup {
    z-index: 1050 !important;
}

.gl-poi-popup__photo {
    position: relative;
    overflow: hidden;
    border-radius: 0.5rem;
    max-height: 160px;
}

.gl-poi-popup__photo img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Bloc texte sous la photo : on ajoute du padding interne
   pour ‚Äúouvrir‚Äù visuellement la bulle et l‚Äôagrandir. */
.gl-poi-popup__body {
    display: flex;
    flex-direction: column;
}

/* Titre coll√© sous la photo + trait de s√©paration avec le texte */
.gl-poi-popup__body .gl-poi-popup__title {
    margin-top: 0;
    font-size: 0.95rem;
    font-weight: 600;
    padding-bottom: 0.25rem;
     border-bottom: 1px solid var(--gl-poi-title-border);
}

/* Ajustement de l‚Äôic√¥ne pour bon alignement */
.gl-poi-popup__icon {
    width: 22px;
    height: 22px;
   vertical-align: middle;
}

.gl-poi-popup__body .gl-poi-popup__desc {
    margin-top: 0;
    font-size: 0.8rem;
}

.gl-poi-popup__badges {
    display: flex;
    flex-wrap: wrap;
    gap: 0.25rem;
    margin-top: 0.20rem;
}

.gl-poi-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.15rem 0.45rem;
    border-radius: 999px;
    font-size: 0.7rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    border: 1px solid var(--gl-color-border-subtle);
    color: inherit;
}

/* Variants de badges */
.gl-poi-badge--cat,
.gl-poi-badge--secondary {
    background: var(--gl-color-badge-subcategory-bg);
    border-color: var(--gl-color-badge-subcategory-border);
}

.gl-poi-badge--imp,
.gl-poi-badge--important,
.gl-poi-badge--tag {
    background: var(--gl-color-badge-category-bg);
    border-color: var(--gl-color-badge-category-border);
}

.gl-poi-badge--default {
    background: var(--gl-color-badge-default-bg, rgba(128, 128, 128, 0.1));
    border-color: var(--gl-color-badge-default-border, rgba(128, 128, 128, 0.3));
}

/* Rating (√©toiles) */
.gl-rating {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 0.35rem;
}

.gl-rating__label {
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--gl-text-secondary);
}

.gl-rating__stars {
    display: inline-flex;
    gap: 2px;
}

.gl-rating__star {
    font-size: 1.2rem;
    color: #d1d5db;
    transition: color 0.2s;
}

.gl-rating__star--filled {
    color: #fbbf24;
}

.gl-rating__value {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--gl-text-primary);
}

/* Couleur du lien "Voir plus" selon le th√®me */
.gl-poi-popup__link {
    display: inline-flex;
    align-items: center;
    justify-content: flex-end;
    align-self: flex-end;
    margin-top: 0.25rem;
    font-size: 0.8rem;
    font-weight: 500;

    /* Couleur pilot√©e par le th√®me */
    color: var(--gl-color-accent);

    text-decoration: none;
    border-bottom: 1px solid currentColor;
    text-align: right;
}

.gl-poi-popup__link:hover {
    opacity: 0.85;
}

/* R√®gle plus sp√©cifique pour s'assurer que la couleur suit la variable de th√®me
   m√™me si d'autres styles h√©rit√©s ou r√®gles globales ciblent les liens. */
.leaflet-popup-content-wrapper .gl-poi-popup__body .gl-poi-popup__link,
.leaflet-popup-content-wrapper .gl-poi-popup__body .gl-poi-popup__link:visited {
    color: var(--gl-color-accent);
    border-bottom-color: currentColor;
}

.leaflet-popup-content-wrapper .gl-poi-popup__body .gl-poi-popup__link:hover {
    color: color-mix(in srgb, var(--gl-color-accent) 85%, transparent);
}

/* ==========================================================================
   4) Liste / panneau POI
   ========================================================================== */

/* Listes √† puces/num√©rot√©es dans le side panel */
.gl-poi-list-unordered,
.gl-poi-list-ordered {
    margin: 0;
    padding-left: 1.5rem;
    color: var(--gl-color-text-main);
    font-size: 0.9rem;
    line-height: 1.6;
}

.gl-poi-list-unordered {
    list-style-type: disc;
}

.gl-poi-list-ordered {
    list-style-type: decimal;
}

.gl-poi-list-unordered li,
.gl-poi-list-ordered li {
    margin-bottom: 0.4rem;
    padding-left: 0.25rem;
}

.gl-poi-list-unordered li:last-child,
.gl-poi-list-ordered li:last-child {
    margin-bottom: 0;
}

/* Tableaux dans le side panel */
.gl-poi-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9rem;
    line-height: 1.5;
    color: var(--gl-color-text-main);
}

.gl-poi-table thead {
    background-color: var(--gl-color-bg-subtle);
}

.gl-poi-table th {
    font-weight: 600;
    text-align: left;
}

.gl-poi-table th,
.gl-poi-table td {
    padding: 10px 12px;
}

.gl-poi-table tbody tr:hover {
    background-color: var(--gl-color-bg-hover, rgba(0, 0, 0, 0.02));
}

/* Liste de POI (sidebar/recherche) */
.gl-poi-list {
    display: flex;
    flex-direction: column;
    gap: 4px;
    max-height: 280px;
    overflow-y: auto;
    padding: 4px 0;
    scrollbar-width: thin;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    font-size: 0.8rem;
}

/* Scrollbar */
.gl-poi-list::-webkit-scrollbar {
    width: 4px;
}
.gl-poi-list::-webkit-scrollbar-thumb {
    background: var(--gl-color-border-soft);
    border-radius: 9999px;
}

/* Item */
.gl-poi-item {
    display: flex;
    flex-direction: column;
    gap: 2px;
    padding: 6px 8px;
    border-radius: 10px;
    cursor: pointer;
    transition:
        background-color 140ms ease-out,
        box-shadow 140ms ease-out,
        transform 140ms ease-out;
    background: var(--gl-color-bg-surface-muted);
    border: 1px solid var(--gl-color-border-soft);
    color: var(--gl-color-text-main);
}

.gl-poi-item:hover {
    transform: translateY(-1px);
    box-shadow: var(--gl-shadow-medium);
}

/* Titre */
.gl-poi-item__title {
    font-weight: 600;
    font-size: 0.82rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 6px;
}

/* M√©tas */
.gl-poi-item__meta {
    font-size: 0.76rem;
    opacity: 0.8;
}

/* Tags */
.gl-poi-item__tags {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    margin-top: 2px;
}

.gl-poi-item__tag {
    padding: 1px 6px;
    border-radius: 9999px;
    font-size: 0.7rem;
    font-weight: 500;
    background: var(--gl-color-accent-soft);
    color: var(--gl-color-accent);
}

/* -------------------------------------------------------------------------
   Side panel (full height right drawer) for "Voir plus"
   ------------------------------------------------------------------------- */
.gl-poi-sidepanel-overlay {
    position: fixed;
    inset: 0;
    background: var(--gl-color-overlay-soft);
    opacity: 0;
    pointer-events: none;
    transition: opacity .22s ease;
    z-index: 1099;
}
.gl-poi-sidepanel-overlay.open {
    opacity: 1;
    pointer-events: auto;
}

.gl-poi-sidepanel {
    position: fixed;
    top: 0;
    right: 0;
    height: 100vh;
    width: 420px;
    max-width: 100vw;
    background: var(--gl-color-bg-surface);
    color: var(--gl-color-text-main);
    box-shadow: var(--gl-shadow-panel);
    transform: translateX(100%);
    transition: transform .28s ease;
    z-index: 1100;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}
.gl-poi-sidepanel.open {
    transform: translateX(0);
}

.gl-poi-sidepanel__header {
    display:flex;
    justify-content: flex-end;
    padding: 6px 8px 0 8px; /* reduce top/bottom padding to tighten header */
}
.gl-poi-sidepanel__close {
    background: var(--gl-color-accent);
    border: none;
    font-size: 18px;
    line-height: 1;
    cursor: pointer;
    color: var(--gl-color-text-inverse);
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--gl-shadow-soft);
    transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
}
.gl-poi-sidepanel__close:hover {
    transform: translateY(-1px);
    box-shadow: var(--gl-shadow-medium);
    opacity: 0.98;
}
.gl-poi-sidepanel__content {
    padding: 0 12px 12px 12px; /* remove top padding so title sits flush under photo */
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 0; /* ensure no implicit gaps */
    align-items: stretch;
}
.gl-poi-sidepanel__photo img {
    width: 100%;
    height: auto;
    border-radius: 8px;
    display:block;
    margin: 5px 0px;

}

.gl-poi-sidepanel__content .gl-poi-sidepanel__title-text { line-height: 1.08; }
.gl-poi-sidepanel__content .gl-poi-sidepanel__title { display:flex; align-items:center; gap:0.375rem; font-weight:700; margin-top: 0; justify-content: flex-start; text-align: left; padding-top: 0; }
.gl-poi-sidepanel__content .gl-poi-sidepanel__title-text { font-size: 1.05rem; display: block; line-height: 1.15; }
/* underline the title */
.gl-poi-sidepanel__content .gl-poi-sidepanel__title { border-bottom: 2px solid var(--gl-color-border-soft); padding-bottom: 4px; }

/* Ensure title is left-aligned, occupies remaining space and truncates if too long */
.gl-poi-sidepanel__content .gl-poi-sidepanel__title .gl-poi-sidepanel__title-text,
.gl-poi-sidepanel__content .gl-poi-sidepanel__title-text {
    flex: 1 1 auto;
    text-align: left;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.gl-poi-sidepanel__icon {
    width: 32px;
    height: 32px;
    flex-shrink: 0;
    vertical-align: middle;
}

.gl-poi-field--title {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.3rem;
    font-weight: bold;
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    padding-bottom: 0.25rem;
    border-bottom: 1px solid var(--gl-poi-title-border);
}

/* Safety: ensure the title wrapper uses full width and aligns children to start */
.gl-poi-sidepanel__content .gl-poi-sidepanel__title {
    width: 100%;
    justify-content: flex-start;
    align-items: center;
    margin: 5px 0px;
    padding-bottom: 2px;
}
.gl-poi-sidepanel__desc { margin-top: 8px; color: var(--gl-color-text-muted); }
.gl-poi-sidepanel__badges { margin-top: 12px; display:flex; gap:6px; flex-wrap:wrap; }
.gl-poi-sidepanel__link { display:inline-block; margin-top:14px; color: var(--gl-color-accent); text-decoration: underline; }

/* Badge container pour espacer les badges cat√©gorie/sous-cat√©gorie */
.gl-poi-badge-container {
    display: inline-block;
    margin: 0.25rem 0;
}

.gl-poi-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.6rem;
    border-radius: 999px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    color: var(--gl-color-text-inverse);
}

/* Am√©lioration du style des liens website */
.gl-poi-link-container {
    margin: 0.5rem 0;
}

.gl-poi-website-link {
    display: inline-flex;
    align-items: center;
    justify-content: flex-end;
    align-self: flex-end;
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--gl-color-accent);
    text-decoration: none;
    border-bottom: 1px solid currentColor;
}

.gl-poi-website-link:hover {
    opacity: 0.85;
}


/* When the sidepanel is open, shift the map and legend left instead of overlaying */
body.gl-poi-sidepanel-open #geoleaf-map,
body.gl-poi-sidepanel-open .gl-map {
    right: var(--gl-sidepanel-width);
    transition: right .28s ease;
}

/* Shift legend/control boxes left so they remain visible (adjust margin) */
body.gl-poi-sidepanel-open .leaflet-bottom.leaflet-right {
    right: calc(420px + 10px);
    transition: right .28s ease;
}

body.gl-poi-sidepanel-open .gl-layer-manager,
body.gl-poi-sidepanel-open .gl-layer-manager__wrapper {
    transition: all .28s ease;
}

/* ==========================================================================
   4) √âtats highlight / selected synchronis√©s avec la carte
   ========================================================================== */

.gl-poi-item--highlight {
    box-shadow:
        0 0 0 1px var(--gl-color-accent),
        var(--gl-shadow-medium);
}

.gl-poi-item--selected {
    box-shadow:
        0 0 0 1px var(--gl-color-accent),
        var(--gl-shadow-strong);
}

.gl-poi-item__bullet {
    width: 8px;
    height: 8px;
    border-radius: 9999px;
    margin-right: 4px;
    flex-shrink: 0;
    background: var(--gl-color-accent);
}

/* ==========================================================================
   5) Panneau d‚Äôinfo flottant (aper√ßu)
   ========================================================================== */

.gl-poi-info {
    position: absolute;
    bottom: 16px;
    left: 16px;
    right: auto;
    max-width: 280px;
    padding: 10px 12px;
    border-radius: 14px;
    font-size: 0.8rem;
    line-height: 1.4;
    z-index: 510;
    box-shadow: var(--gl-shadow-strong);
    backdrop-filter: blur(8px);
    pointer-events: none;

    background: var(--gl-color-popup-bg);
    border: 1px solid var(--gl-color-popup-border);
    color: var(--gl-color-popup-text);
}

/* ==========================================================================
   6) Responsive
   ========================================================================== */

@media (max-width: 768px) {
    .gl-poi-info {
        left: 12px;
        right: 12px;
        bottom: 12px;
        max-width: none;
    }

    .gl-poi-item {
        padding: 6px 6px;
    }

    .gl-poi-item__label {
        font-size: 0.78rem;
    }
}

/* ------------------------------------------------------------
   CLUSTERS POI ‚Äì PERSONNALISATION SIMPLE
   Couleur + taille via variables CSS (ou valeurs par d√©faut)
   √Ä AJOUTER EN BAS DU FICHIER
   ------------------------------------------------------------ */

/* Conteneur du cluster (icone MarkerCluster) */
.leaflet-container .marker-cluster {
    background: transparent;
    border-radius: 999px;
}

/* Disque color√© du cluster ‚Äì utilise les variables de th√®me */
.leaflet-container .marker-cluster-small div,
.leaflet-container .marker-cluster-medium div,
.leaflet-container .marker-cluster-large div {
    background: radial-gradient(
        circle,
        var(--gl-color-poi-cluster-center)   15%,
        var(--gl-color-poi-cluster-mid)      40%,
        var(--gl-color-poi-cluster-outer)    70%,
        var(--gl-color-poi-cluster-edge)    100%
    );

    width: var(--gl-size-poi-cluster);
    height: var(--gl-size-poi-cluster);
    line-height: var(--gl-size-poi-cluster);
    border-radius: 999px;
    box-shadow: var(--gl-shadow-medium);
    display: flex;
    justify-content: center;
    align-items: center;
    transition: all 160ms ease-out;
}

/* Nombre au centre du cluster */
.leaflet-container .marker-cluster-small span,
.leaflet-container .marker-cluster-medium span,
.leaflet-container .marker-cluster-large span {
    color: var(--gl-color-poi-cluster-text);
    font-weight: 600;
    font-size: 0.85rem;
}

/* ==========================================================================
   Accord√©ons pour le sidepanel
   ========================================================================== */

.gl-accordion {
    border: 1px solid var(--gl-color-border-soft);
    border-radius: 8px;
    margin: 8px 0;
    overflow: hidden;
    background: var(--gl-color-bg-surface-muted);
    transition: border-color 0.2s ease;
}

.gl-accordion:hover {
    border-color: var(--gl-color-accent);
}

.gl-accordion__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px 12px 16px;
    font-weight: 600;
    font-size: 0.95rem;
    cursor: pointer;
    list-style: none;
    background: var(--gl-color-bg-surface);
    color: var(--gl-color-text-main);
    user-select: none;
    transition: background 0.2s ease;
    gap: 15px;
}

/* Masquer le marker par d√©faut du summary */
.gl-accordion__header::-webkit-details-marker {
    display: none;
}

.gl-accordion__header::marker {
    display: none;
}

.gl-accordion__header:hover {
    background: var(--gl-color-bg-surface-elevated);
}

/* Fl√®che personnalis√©e dans le HTML */
.gl-accordion__arrow {
    font-size: 0.8rem;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    color: var(--gl-color-accent);
    flex-shrink: 0;
    display: inline-block;
    margin-left: auto;
    margin-right: 8px;
}

details[open] > .gl-accordion__header .gl-accordion__arrow {
    transform: rotate(180deg);
}

/* Ancienne r√®gle ::after (backup si besoin) */
.gl-accordion__header::after {
    content: '';
}

.gl-accordion__panel {
    padding: 0 16px;
    color: var(--gl-color-text-main);
    line-height: 1.6;
    overflow: hidden;
    transition: opacity 0.3s ease, transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Animation pour l'ouverture */
details[open] .gl-accordion__panel {
    animation: accordionOpen 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes accordionOpen {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Wrapper interne pour le padding anim√© */
.gl-accordion__panel-content {
    padding: 16px 0;
}

.gl-accordion__panel p {
    margin: 0 0 12px 0;
}

.gl-accordion__panel p:last-child {
    margin-bottom: 0;
}

/* Section styling inside accordion */
.gl-poi-sidepanel__section {
    margin: 12px 0;
}

.gl-poi-sidepanel__section-title {
    font-weight: 600;
    font-size: 0.9rem;
    margin-bottom: 8px;
    color: var(--gl-color-accent);
}

.gl-poi-sidepanel__section ul {
    margin: 0;
    padding-left: 20px;
}

.gl-poi-sidepanel__section li {
    margin: 4px 0;
}

/* Tags styling */
.gl-poi-sidepanel__tags {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 8px;
}

.gl-poi-tag {
    display: inline-block;
    padding: 4px 10px;
    background: var(--gl-color-accent-soft);
    color: var(--gl-color-accent);
    border-radius: 16px;
    font-size: 0.8rem;
    font-weight: 500;
}

/* Reviews styling */
.gl-poi-sidepanel__reviews {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.gl-poi-sidepanel__rating {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--gl-color-accent);
}

.gl-poi-sidepanel__reviews-count {
    font-size: 0.85rem;
    color: var(--gl-color-text-muted);
}

.gl-poi-sidepanel__reviews-summary {
    font-size: 0.9rem;
    line-height: 1.5;
}

/* Gallery styling - nouvelle structure avec image principale + miniatures */
.gl-poi-gallery {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 12px;
}

.gl-poi-gallery__main {
    width: 100%;
    aspect-ratio: 16/10;
    overflow: hidden;
    border-radius: 8px;
    cursor: pointer;
    position: relative;
    background: var(--gl-color-bg-surface-muted);
}

.gl-poi-gallery__main img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: transform 0.3s ease;
}

.gl-poi-gallery__main:hover img {
    transform: scale(1.05);
}

.gl-poi-gallery__main::after {
    content: 'üîç';
    position: absolute;
    top: 12px;
    right: 12px;
    background: var(--gl-color-overlay-strong);
    color: var(--gl-color-text-inverse);
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.gl-poi-gallery__main:hover::after {
    opacity: 1;
}

.gl-poi-gallery__thumbnails {
    display: flex;
    gap: 8px;
    overflow-x: auto;
    padding: 4px 0;
    scrollbar-width: thin;
    scrollbar-color: var(--gl-color-accent) transparent;
}

.gl-poi-gallery__thumbnails::-webkit-scrollbar {
    height: 6px;
}

.gl-poi-gallery__thumbnails::-webkit-scrollbar-track {
    background: transparent;
}

.gl-poi-gallery__thumbnails::-webkit-scrollbar-thumb {
    background: var(--gl-color-accent);
    border-radius: 3px;
}

.gl-poi-gallery__thumb {
    flex: 0 0 80px;
    height: 60px;
    overflow: hidden;
    border-radius: 6px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: border-color 0.2s ease, transform 0.2s ease;
}

.gl-poi-gallery__thumb:hover {
    border-color: var(--gl-color-accent);
    transform: translateY(-2px);
}

.gl-poi-gallery__thumb img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

.gl-poi-gallery__thumb.active {
    border-color: var(--gl-color-accent);
    box-shadow: var(--gl-shadow-medium);
}

/* Navigation arrows for gallery */
.gl-poi-gallery__nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: var(--gl-color-overlay-strong);
    color: var(--gl-color-text-inverse);
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    font-size: 24px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    transition: background 0.2s ease, transform 0.2s ease;
}

.gl-poi-gallery__nav:hover {
    background: var(--gl-color-overlay-stronger);
    transform: translateY(-50%) scale(1.1);
}

.gl-poi-gallery__nav--prev {
    left: 12px;
}

.gl-poi-gallery__nav--next {
    right: 12px;
}

/* Container for tags */
.gl-poi-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    padding: 8px 0;
}

.gl-poi-sidepanel__tags-section {
    margin-top: 24px;
    padding-top: 16px;
    border-top: 1px solid var(--gl-color-border-subtle);
}

.gl-poi-sidepanel__tags-title {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 12px;
    color: var(--gl-color-text);
}

/* ==========================================================================
   Lightbox plein √©cran GLOBALE (recouvre toute la page, pas juste le panneau)
   ========================================================================== */

.gl-poi-lightbox-global {
    position: fixed;
    inset: 0;
    z-index: 10000;
    display: none;
    align-items: center;
    justify-content: center;
    background: var(--gl-color-overlay-stronger);
}

.gl-poi-lightbox-global .gl-poi-lightbox__overlay {
    position: absolute;
    inset: 0;
    cursor: pointer;
}

.gl-poi-lightbox-global .gl-poi-lightbox__content {
    position: relative;
    width: 90%;
    height: 90%;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1;
}

.gl-poi-lightbox-global .gl-poi-lightbox__image {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    border-radius: 4px;
    transition: transform 0.2s ease;
}

.gl-poi-lightbox-global .gl-poi-lightbox__close {
    position: absolute;
    top: 20px;
    right: 20px;
    background: var(--gl-color-overlay-strong);
    color: var(--gl-color-text-inverse);
    border: none;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    font-size: 32px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    z-index: 2;
    transition: background 0.2s ease;
}

.gl-poi-lightbox-global .gl-poi-lightbox__close:hover {
    background: var(--gl-color-overlay-stronger);
}

.gl-poi-lightbox-global .gl-poi-lightbox__prev,
.gl-poi-lightbox-global .gl-poi-lightbox__next {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: var(--gl-color-overlay-strong);
    color: var(--gl-color-text-inverse);
    border: none;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    font-size: 32px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
    transition: background 0.2s ease, transform 0.2s ease;
}

.gl-poi-lightbox-global .gl-poi-lightbox__prev:hover,
.gl-poi-lightbox-global .gl-poi-lightbox__next:hover {
    background: var(--gl-color-overlay-stronger);
    transform: translateY(-50%) scale(1.1);
}

.gl-poi-lightbox-global .gl-poi-lightbox__prev {
    left: 40px;
}

.gl-poi-lightbox-global .gl-poi-lightbox__next {
    right: 40px;
}

.gl-poi-lightbox-global .gl-poi-lightbox__counter {
    position: absolute;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--gl-color-overlay-strong);
    color: var(--gl-color-text-inverse);
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 500;
    z-index: 2;
}

/* ==========================================================================
   Lightbox plein √©cran (old styles, kept for compatibility)
   ========================================================================== */

.gl-lightbox {
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.gl-lightbox--open {
    opacity: 1;
}

.gl-lightbox__overlay {
    position: absolute;
    inset: 0;
    background: var(--gl-color-overlay-stronger);
    cursor: pointer;
}

.gl-lightbox__content {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.gl-lightbox__image-container {
    max-width: 90vw;
    max-height: 90vh;
    display: flex;
    align-items: center;
    justify-content: center;
    touch-action: pan-x pan-y pinch-zoom;
}

.gl-lightbox__image {
    max-width: 100%;
    max-height: 90vh;
    object-fit: contain;
    user-select: none;
    transition: transform 0.3s ease;
}

.gl-lightbox__close,
.gl-lightbox__prev,
.gl-lightbox__next {
    position: absolute;
    background: var(--gl-color-overlay-strong);
    border: none;
    color: var(--gl-color-text-inverse);
    cursor: pointer;
    font-size: 32px;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s ease, transform 0.2s ease;
    z-index: 10001;
    line-height: 1;
}

.gl-lightbox__close:hover,
.gl-lightbox__prev:hover,
.gl-lightbox__next:hover {
    background: var(--gl-color-overlay-stronger);
    transform: scale(1.1);
}

.gl-lightbox__close {
    top: 20px;
    right: 20px;
    font-size: 40px;
}

.gl-lightbox__prev {
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
}

.gl-lightbox__prev:hover {
    transform: translateY(-50%) scale(1.1);
}

.gl-lightbox__next {
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
}

.gl-lightbox__next:hover {
    transform: translateY(-50%) scale(1.1);
}

.gl-lightbox__counter {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--gl-color-overlay-strong);
    color: var(--gl-color-text-inverse);
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 500;
    z-index: 10001;
}

/* Mobile responsive */
@media (max-width: 768px) {
    .gl-lightbox__close {
        top: 10px;
        right: 10px;
        width: 40px;
        height: 40px;
        font-size: 28px;
    }

    .gl-lightbox__prev,
    .gl-lightbox__next {
        width: 40px;
        height: 40px;
        font-size: 24px;
    }

    .gl-lightbox__prev {
        left: 10px;
    }

    .gl-lightbox__next {
        right: 10px;
    }

    .gl-lightbox__counter {
        bottom: 10px;
        font-size: 12px;
        padding: 6px 12px;
    }
}

/* Description short */
.gl-poi-sidepanel__desc-short {
    margin: 12px 0;
    color: var(--gl-color-text-muted);
    line-height: 1.5;
    font-size: 0.9rem;
}

/* Actions section */
.gl-poi-sidepanel__actions {
    margin-top: 12px;
    margin-bottom: 20px;
}

/* Price styling */
.gl-poi-sidepanel__price-range {
    font-size: 1rem;
    font-weight: 600;
    color: var(--gl-color-accent);
    margin-bottom: 6px;
}

.gl-poi-sidepanel__price-desc {
    font-size: 0.85rem;
    color: var(--gl-color-text-muted);
    line-height: 1.4;
}
