@import url("./geoleaf-theme.css");

/* ==========================================================================
   GeoLeaf.UI.Branding – Styles pour l'affichage du branding
   ==========================================================================
   Affiche un texte de branding personnalisable en bas de la carte
   - Conteneur principal : .geoleaf-branding
   - Contenu            : .branding-content
   ========================================================================== */

/* =======================================================================
   1. Conteneur principal Leaflet
   ======================================================================= */

.geoleaf-branding {
    /* Le contrôle Leaflet est inséré dans le container défini par position */
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
    font-size: 0.6rem;
    color: var(--gl-color-text-muted);
    pointer-events: auto;
    margin: 0 !important;
    padding: 0 !important;
    transition: margin-left 160ms ease-out;
}

/* Supprimer les marges du conteneur Leaflet bottomleft */
.leaflet-bottom.leaflet-left {
    margin: 0 !important;
    padding: 0 0 6px 0 !important;
    left: 0 !important;
    bottom: 0 !important;
    display: grid !important;
    grid-template-columns: auto auto !important;
    grid-template-rows: auto auto !important;
    gap: 6px !important;
    transition: margin-left 160ms ease-out;
    align-items: start !important;
    pointer-events: none;
}

/* Légende sur toute la largeur en haut */
.leaflet-bottom.leaflet-left > .gl-map-legend {
    grid-column: 1 / -1 !important;
    grid-row: 1 !important;
}

/* Branding en bas à gauche */
.leaflet-bottom.leaflet-left > .geoleaf-branding {
    grid-column: 1 !important;
    grid-row: 2 !important;
    margin: 0 !important;
    align-self: end !important;
}

/* Scale en bas à droite du branding */
.leaflet-bottom.leaflet-left > .leaflet-control:has(.gl-scale-main-wrapper) {
    grid-column: 2 !important;
    grid-row: 2 !important;
    margin: 0 !important;
    align-self: end !important;
}

.leaflet-bottom.leaflet-left > .leaflet-control:has(.gl-scale-main-wrapper) .gl-scale-main-wrapper {
    margin-bottom: 0 !important;
}

/* Forcer tous les contrôles Leaflet sur la même ligne */
.leaflet-bottom.leaflet-left > * {
    margin: 0 !important;
    flex-shrink: 0 !important;
    pointer-events: none;
}

/* Décalage quand le panneau de filtres est ouvert */
body:has(#gl-filter-panel.is-open) .leaflet-bottom.leaflet-left {
    margin-left: 320px;
}

/* =======================================================================
   2. Contenu du branding
   ======================================================================= */

.branding-content {
    background: var(--gl-color-legend-bg);
    color: var(--gl-color-text-muted);
    border-radius: 0;
    padding: 3px 10px;
    margin: 0;
    border: 1px solid var(--gl-color-legend-border);
    border-left: none;
    border-bottom: none;
    box-shadow: var(--gl-shadow-soft);
    text-align: left;
    font-weight: 300;
    letter-spacing: 0.01em;
    white-space: nowrap;
    opacity: 0.75;
    transition: opacity 120ms ease;
    height: 22px;
    display: flex;
    align-items: center;
    font-size: 0.6rem;
}

.branding-content:hover {
    opacity: 0.95;
}

/* =======================================================================
   3. Adaptation responsive
   ======================================================================= */

@media (max-width: 768px) {
    .geoleaf-branding {
        font-size: 0.6rem;
    }

    .branding-content {
        padding: 3px 6px;
    }
}

/* =======================================================================
   4. Mode sombre / clair (via variables CSS du thème)
   ======================================================================= */

/* Les variables CSS sont définies dans geoleaf-theme.css :
   - --gl-color-legend-bg
   - --gl-color-text-muted
   - --gl-color-legend-border
   - --gl-shadow-soft

   Le thème est appliqué dynamiquement via GeoLeaf.UI.applyTheme()
*/
