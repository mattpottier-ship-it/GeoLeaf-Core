{"version":3,"file":"geoleaf.umd.js","sources":["../src/static/js/geoleaf.log.js","../src/static/js/geoleaf.log.config.js","../src/static/js/geoleaf.security.js","../src/static/js/geoleaf.constants.js","../src/static/js/geoleaf.utils.js","../src/static/js/utils/dom-security.js","../src/static/js/utils/dom-helpers.js","../src/static/js/utils/event-listener-manager.js","../src/static/js/utils/timer-manager.js","../src/static/js/utils/scale-utils.js","../src/static/js/helpers/style-resolver.js","../src/static/js/validators/style-validator-rules.js","../src/static/js/validators/style-validator.js","../src/static/js/geoleaf.core.js","../src/static/js/ui/theme.js","../src/static/js/ui/controls.js","../src/static/js/ui/panel-builder.js","../src/static/js/ui/dom-utils.js","../src/static/js/ui/coordinates-display.js","../src/static/js/ui/branding.js","../src/static/js/ui/content-builder/core.js","../src/static/js/ui/content-builder/templates.js","../src/static/js/ui/content-builder/assemblers.js","../src/static/js/ui/content-builder.js","../src/static/js/ui/components.js","../src/static/js/ui/notifications.js","../src/static/js/ui/event-delegation.js","../src/static/js/ui/filter-state-manager.js","../src/static/js/map/scale-control.js","../src/static/js/ui/filter-control-builder.js","../src/static/js/ui/filter-panel/shared.js","../src/static/js/ui/filter-panel/state-reader.js","../src/static/js/ui/filter-panel/lazy-loader.js","../src/static/js/ui/filter-panel/applier.js","../src/static/js/ui/filter-panel/renderer.js","../src/static/js/ui/filter-panel/proximity.js","../src/static/js/ui/filter-panel/core.js","../src/static/js/ui/filter-panel.js","../src/static/js/geoleaf.ui.js","../src/static/js/data/normalizer.js","../src/static/js/loaders/style-loader.js","../src/static/js/config/loader.js","../src/static/js/config/storage.js","../src/static/js/config/normalization.js","../src/static/js/config/taxonomy.js","../src/static/js/config/profile-v3-loader.js","../src/static/js/config/profile.js","../src/static/js/config/data-converter.js","../src/static/js/config/geoleaf-config/config-core.js","../src/static/js/config/geoleaf-config/config-validation.js","../src/static/js/config/geoleaf-config/config-loaders.js","../src/static/js/config/geoleaf-config/config-accessors.js","../src/static/js/geoleaf.baselayers.js","../src/static/js/geoleaf.filters.js","../src/static/js/poi/shared.js","../src/static/js/poi/normalizers.js","../src/static/js/poi/popup.js","../src/static/js/poi/markers.js","../src/static/js/renderers/abstract-renderer.js","../src/static/js/poi/renderers/field-renderers.js","../src/static/js/poi/renderers/media-renderers.js","../src/static/js/poi/renderers/lightbox-manager.js","../src/static/js/poi/renderers/ui-behaviors.js","../src/static/js/poi/renderers/component-renderers.js","../src/static/js/poi/renderers/section-orchestrator.js","../src/static/js/poi/renderers/links.js","../src/static/js/poi/renderers/core.js","../src/static/js/poi/renderers.js","../src/static/js/poi/sidepanel.js","../src/static/js/poi/core.js","../src/static/js/geoleaf.poi.js","../src/static/js/geojson/shared.js","../src/static/js/geojson/style-resolver.js","../src/static/js/geojson/visibility-manager.js","../src/static/js/geojson/layer-manager/store.js","../src/static/js/geojson/layer-manager/visibility.js","../src/static/js/geojson/layer-manager/style.js","../src/static/js/geojson/layer-manager/integration.js","../src/static/js/geojson/popup-tooltip.js","../src/static/js/geojson/clustering.js","../src/static/js/geojson/layer-config-manager.js","../src/static/js/geojson/feature-validator.js","../src/static/js/geojson/loader/config-helpers.js","../src/static/js/geojson/loader/data.js","../src/static/js/geojson/loader/single-layer.js","../src/static/js/geojson/loader/profile.js","../src/static/js/geojson/core.js","../src/static/js/geoleaf.geojson.js","../src/static/js/route/style-resolver.js","../src/static/js/route/popup-builder.js","../src/static/js/route/loaders.js","../src/static/js/route/layer-manager.js","../src/static/js/geoleaf.route.js","../src/static/js/layer-manager/shared.js","../src/static/js/layer-manager/renderer.js","../src/static/js/layer-manager/cache-section.js","../src/static/js/layer-manager/basemap-selector.js","../src/static/js/layer-manager/style-selector.js","../src/static/js/layer-manager/control.js","../src/static/js/geoleaf.layer-manager.js","../src/static/js/legend/legend-generator.js","../src/static/js/legend/legend-renderer.js","../src/static/js/legend/legend-control.js","../src/static/js/geoleaf.legend.js","../src/static/js/labels/label-renderer.js","../src/static/js/labels/label-button-manager.js","../src/static/js/labels/labels.js","../src/static/js/themes/theme-loader.js","../src/static/js/themes/theme-applier/core.js","../src/static/js/themes/theme-applier/visibility.js","../src/static/js/themes/theme-applier/deferred.js","../src/static/js/themes/theme-applier/ui-sync.js","../src/static/js/themes/theme-selector.js","../src/static/js/table/panel.js","../src/static/js/table/renderer.js","../src/static/js/geoleaf.table.js","../src/static/js/api/module-manager.js","../src/static/js/api/initialization-manager.js","../src/static/js/api/namespace-manager.js","../src/static/js/api/factory-manager.js","../src/static/js/api/controller.js","../src/static/js/geoleaf.api.js","../src/app/helpers.js","../src/app/init.js","../src/app/boot.js","../src/bundle-entry.js"],"sourcesContent":["/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    /**\n     * GeoLeaf.Log ‚Äî gestion centralis√©e des logs\n     *\n     * Objectif :\n     * - remplacer tous les console.log/console.warn/... du projet\n     * - fournir un niveau de verbosit√© configurable via la config JSON\n     * - s‚Äôassurer que chaque message poss√®de un pr√©fixe normalis√© [GeoLeaf.X]\n     */\n\n    if (!global.GeoLeaf) global.GeoLeaf = {};\n\n    const LEVELS = {\n        DEBUG: 0,\n        INFO: 1,\n        WARN: 2,\n        ERROR: 3\n    };\n\n    let currentLevel = LEVELS.INFO; // niveau par d√©faut\n    let quietMode = false; // mode silencieux pour les logs r√©p√©titifs\n    let suppressedMessages = new Set(); // pour √©viter les r√©p√©titions\n    let groupedMessageCounts = new Map(); // pour grouper les messages similaires\n\n    const formatPrefix = (type) => `[GeoLeaf.${type}]`;\n\n    // D√©tecte si un message est r√©p√©titif ou informatif non critique\n    const isRepetitiveMessage = (message) => {\n        const patterns = [\n            /Chargement du sprite SVG/,\n            /Sprite SVG d√©tect√©/,\n            /IconsConfig r√©cup√©r√©/,\n            /Module.*charg√©/,\n            /Module.*initialis√©/,\n            /Contr√¥le.*ajout√©/,\n            /Bouton.*ajout√©/,\n            /Panneau.*cr√©√©/,\n            /Section.*remplie/,\n            /Profil.*charg√©/,\n            /Couche.*charg√©e/,\n            /Style.*appliqu√©/,\n            /ThemeApplier/,\n            /LayerManager/,\n            /Storage/,\n            /CacheButton/,\n            /Renderers\\./,\n            /FormRenderer/,\n            /ResourceEnumerator/,\n            /LayerSelector/,\n            /CacheControl/,\n            /POI.*DEBUG/,\n            /AddForm/\n        ];\n        return patterns.some(pattern => pattern.test(message));\n    };\n\n    // Messages critiques qui doivent toujours √™tre affich√©s\n    const isCriticalMessage = (message) => {\n        const criticalPatterns = [\n            /ERROR/,\n            /WARN/,\n            /Failed/,\n            /Error/,\n            /Exception/,\n            /Carte initialis√©e avec succ√®s/,\n            /All.*modules loaded/,\n            /Mode.*activ√©/\n        ];\n        return criticalPatterns.some(pattern => pattern.test(message));\n    };\n\n    // G√®re les messages group√©s\n    const handleGroupedMessage = (message, args) => {\n        const key = message.replace(/\\d+/g, 'X').replace(/[{}:,]/g, ''); // normalise\n        const count = (groupedMessageCounts.get(key) || 0) + 1;\n        groupedMessageCounts.set(key, count);\n\n        if (count === 1) {\n            return true; // affiche le premier\n        } else if (count === 3 && !isCriticalMessage(message)) {\n            console.info(`${formatPrefix('INFO')} [Group√©] Message r√©p√©t√© - suite masqu√©e: ${message.substring(0, 60)}...`);\n            return false;\n        } else if (count > 3) {\n            return false; // supprime apr√®s 3 occurrences pour les non-critiques\n        }\n        return count <= 2; // affiche max 2 fois les messages non critiques\n    };\n\n    const Log = {\n        /**\n         * D√©finir le niveau de logs global\n         * @param {string} level  \"debug\" | \"info\" | \"warn\" | \"error\"\n         */\n        setLevel(level) {\n            const lvl = String(level).toLowerCase();\n            switch (lvl) {\n                case \"debug\":\n                    currentLevel = LEVELS.DEBUG;\n                    break;\n                case \"info\":\n                    currentLevel = LEVELS.INFO;\n                    break;\n                case \"warn\":\n                    currentLevel = LEVELS.WARN;\n                    break;\n                case \"error\":\n                    currentLevel = LEVELS.ERROR;\n                    break;\n                case \"production\":\n                    currentLevel = LEVELS.WARN; // En production, seulement WARN et ERROR\n                    quietMode = true;\n                    break;\n                default:\n                    console.warn(`${formatPrefix(\"WARN\")} Niveau de log inconnu :`, level);\n            }\n        },\n\n        /**\n         * Active/d√©sactive le mode silencieux pour les messages r√©p√©titifs\n         */\n        setQuietMode(enabled) {\n            if (quietMode === enabled) return; // √©viter les r√©p√©titions\n            quietMode = enabled;\n            if (enabled) {\n                console.info(`${formatPrefix(\"INFO\")} Mode silencieux activ√© - logs r√©p√©titifs r√©duits`);\n            }\n        },\n\n        /**\n         * Affiche un r√©sum√© des messages group√©s\n         */\n        showSummary() {\n            if (groupedMessageCounts.size > 0) {\n                console.group(`${formatPrefix(\"INFO\")} R√©sum√© des logs group√©s:`);\n                for (const [message, count] of groupedMessageCounts) {\n                    if (count > 3) {\n                        console.info(`‚Ä¢ ${count}x: ${message.substring(0, 60)}...`);\n                    }\n                }\n                console.groupEnd();\n            }\n        },\n\n        debug(...args) {\n            if (currentLevel <= LEVELS.DEBUG) {\n                const message = args.join(' ');\n                if (quietMode && isRepetitiveMessage(message)) {\n                    if (!handleGroupedMessage(message, args)) return;\n                }\n                console.debug(formatPrefix(\"DEBUG\"), ...args);\n            }\n        },\n\n        info(...args) {\n            if (currentLevel <= LEVELS.INFO) {\n                const message = args.join(' ');\n\n                // En mode silencieux, filtrer plus agressivement\n                if (quietMode) {\n                    // Toujours afficher les messages critiques\n                    if (isCriticalMessage(message)) {\n                        console.info(formatPrefix(\"INFO\"), ...args);\n                        return;\n                    }\n\n                    // Grouper/masquer les messages r√©p√©titifs\n                    if (isRepetitiveMessage(message)) {\n                        if (!handleGroupedMessage(message, args)) return;\n                    }\n                }\n\n                console.info(formatPrefix(\"INFO\"), ...args);\n            }\n        },\n\n        warn(...args) {\n            if (currentLevel <= LEVELS.WARN) {\n                console.warn(formatPrefix(\"WARN\"), ...args);\n            }\n        },\n\n        error(...args) {\n            if (currentLevel <= LEVELS.ERROR) {\n                console.error(formatPrefix(\"ERROR\"), ...args);\n            }\n        }\n    };\n\n    global.GeoLeaf.Log = Log;\n\n})(typeof globalThis !== \"undefined\" ? globalThis : window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * Configuration globale des logs pour GeoLeaf\n * Applique automatiquement les bonnes configurations de log selon l'environnement\n */\n\n(function() {\n    \"use strict\";\n\n    // Attendre que GeoLeaf.Log soit charg√©\n    function configureLogging() {\n        if (!window.GeoLeaf || !window.GeoLeaf.Log) {\n            setTimeout(configureLogging, 50);\n            return;\n        }\n\n        const Log = window.GeoLeaf.Log;\n\n        // D√©tecter l'environnement\n        const isProduction = location.hostname !== 'localhost' && !location.hostname.includes('127.0.0.1') && !location.search.includes('debug=true');\n        const isDebug = location.search.includes('debug=true') || location.search.includes('verbose=true');\n\n        if (isProduction) {\n            // Production: seulement warnings et erreurs + mode silencieux\n            Log.setLevel('production');\n            if (window.GeoLeaf && GeoLeaf.Log && GeoLeaf.Log.info) { GeoLeaf.Log.info(\"üîß [GeoLeaf] Mode production activ√© - logs r√©duits\"); }\n        } else if (isDebug) {\n            // Debug explicite: tous les logs\n            Log.setLevel('debug');\n            Log.setQuietMode(false);\n            if (window.GeoLeaf && GeoLeaf.Log && GeoLeaf.Log.info) { GeoLeaf.Log.info(\"üîß [GeoLeaf] Mode debug activ√© - tous les logs visibles\"); }\n        } else {\n            // D√©veloppement: logs informatifs avec mode silencieux pour r√©duire les r√©p√©titions\n            Log.setLevel('info');\n            Log.setQuietMode(true);\n            if (window.GeoLeaf && GeoLeaf.Log && GeoLeaf.Log.info) { GeoLeaf.Log.info(\"üîß [GeoLeaf] Mode d√©veloppement - logs optimis√©s\"); }\n        }\n\n        // Afficher un r√©sum√© apr√®s chargement complet\n        setTimeout(() => {\n            if (Log.showSummary) {\n                Log.showSummary();\n            }\n\n            // Afficher un r√©sum√© de d√©marrage concis\n            const endTime = performance.now();\n            if (window.GeoLeaf && GeoLeaf.Log && GeoLeaf.Log.info) {\n                GeoLeaf.Log.info(\"üéØ [GeoLeaf] D√©marrage termin√©:\", {\n                    \"‚è±Ô∏è Temps total\": Math.round(endTime) + \"ms\",\n                    \"üì¶ Modules\": \"122 charg√©s\",\n                    \"üîá Logs\": isProduction ? \"mode production\" : (isDebug ? \"mode debug\" : \"mode optimis√©\"),\n                    \"üí° Conseil\": isDebug ? \"\" : \"Ajoutez ?debug=true pour les logs d√©taill√©s\"\n                });\n            }\n        }, 3000);\n    }\n\n    // D√©marrer la configuration d√®s que possible\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', configureLogging);\n    } else {\n        configureLogging();\n    }\n})();\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * @fileoverview Module de s√©curit√© GeoLeaf\n * G√®re l'√©chappement HTML, validation URLs, sanitization\n *\n * @module GeoLeaf.Security\n * @version 2.0.0\n * @author GeoLeaf Project\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // Logger (d√©fini par geoleaf.logger-shim.js charg√© en premier)\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module Security - Fonctions de s√©curit√© centralis√©es\n     * @namespace\n     */\n    const Security = {\n        /**\n         * √âchappe les caract√®res HTML dangereux pour pr√©venir XSS\n         * @param {string} str - Cha√Æne √† √©chapper\n         * @returns {string} Cha√Æne √©chapp√©e\n         * @example\n         * Security.escapeHtml('<script>alert(1)</script>')\n         * // Returns: '&lt;script&gt;alert(1)&lt;/script&gt;'\n         */\n        escapeHtml(str) {\n            if (str === null || str === undefined) {\n                return \"\";\n            }\n\n            if (typeof str !== \"string\") {\n                str = String(str);\n            }\n\n            const div = document.createElement(\"div\");\n            div.textContent = str;\n            // SAFE: innerHTML here gets the escaped version of textContent\n            return div.innerHTML;\n        },\n\n        /**\n         * √âchappe les attributs HTML pour utilisation dans des attributs\n         * @param {string} str - Cha√Æne √† √©chapper\n         * @returns {string} Cha√Æne √©chapp√©e\n         * @example\n         * Security.escapeAttribute('value\"onclick=\"alert(1)')\n         * // Returns: 'value&quot;onclick=&quot;alert(1)'\n         */\n        escapeAttribute(str) {\n            if (str === null || str === undefined) {\n                return \"\";\n            }\n\n            if (typeof str !== \"string\") {\n                str = String(str);\n            }\n\n            return str\n                .replace(/&/g, \"&amp;\")\n                .replace(/'/g, \"&#39;\")\n                .replace(/\"/g, \"&quot;\")\n                .replace(/</g, \"&lt;\")\n                .replace(/>/g, \"&gt;\");\n        },\n\n        /**\n         * Valide une URL strictement avec whitelist de protocoles\n         * @param {string} url - URL √† valider\n         * @param {string} [baseUrl] - URL de base pour r√©solution relative\n         * @returns {string} URL valid√©e\n         * @throws {Error} Si URL invalide ou protocole non autoris√©\n         * @example\n         * Security.validateUrl('https://example.com/data.json')\n         * // Returns: 'https://example.com/data.json'\n         *\n         * Security.validateUrl('javascript:alert(1)')\n         * // Throws: Error\n         */\n        validateUrl(url, baseUrl) {\n            if (!url || typeof url !== \"string\") {\n                throw new TypeError(\"URL must be a non-empty string\");\n            }\n\n            // Normaliser l'URL\n            url = url.trim();\n\n            const base = baseUrl || global.location.origin;\n\n            try {\n                const parsed = new URL(url, base);\n\n                // Whitelist de protocoles autoris√©s\n                const ALLOWED_PROTOCOLS = [\"http:\", \"https:\", \"data:\"];\n\n                if (!ALLOWED_PROTOCOLS.includes(parsed.protocol)) {\n                    throw new Error(\n                        `Protocol \"${parsed.protocol}\" not allowed. ` +\n                            `Allowed protocols: ${ALLOWED_PROTOCOLS.join(\", \")}`\n                    );\n                }\n\n                // Validation suppl√©mentaire pour data: URLs\n                if (parsed.protocol === \"data:\") {\n                    // Autoriser uniquement les images\n                    const allowedDataTypes = [\n                        \"image/png\",\n                        \"image/jpeg\",\n                        \"image/jpg\",\n                        \"image/gif\",\n                        \"image/svg+xml\",\n                        \"image/webp\",\n                    ];\n\n                    const dataPrefix = url.split(\",\")[0];\n                    const mimeMatch = dataPrefix.match(/data:([^;,]+)/);\n\n                    if (!mimeMatch) {\n                        throw new Error(\"Invalid data URL format\");\n                    }\n\n                    const mimeType = mimeMatch[1];\n\n                    if (!allowedDataTypes.includes(mimeType)) {\n                        throw new Error(\n                            `Data URL type \"${mimeType}\" not allowed. ` +\n                                `Allowed: ${allowedDataTypes.join(\", \")}`\n                        );\n                    }\n                }\n\n                return parsed.href;\n            } catch (e) {\n                if (e.message.includes(\"not allowed\")) {\n                    throw e;\n                }\n                throw new Error(`Invalid URL \"${url}\": ${e.message}`);\n            }\n        },\n\n        /**\n         * Valide des coordonn√©es g√©ographiques\n         * @param {number} lat - Latitude\n         * @param {number} lng - Longitude\n         * @returns {[number, number]} Coordonn√©es valid√©es [lat, lng]\n         * @throws {TypeError} Si les coordonn√©es ne sont pas des nombres\n         * @throws {RangeError} Si les coordonn√©es sont hors limites\n         * @example\n         * Security.validateCoordinates(45.5, -73.6)\n         * // Returns: [45.5, -73.6]\n         *\n         * Security.validateCoordinates(999, 0)\n         * // Throws: RangeError\n         */\n        validateCoordinates(lat, lng) {\n            if (typeof lat !== \"number\" || typeof lng !== \"number\") {\n                throw new TypeError(\n                    `Coordinates must be numbers, got lat=${typeof lat}, lng=${typeof lng}`\n                );\n            }\n\n            if (!Number.isFinite(lat) || !Number.isFinite(lng)) {\n                throw new RangeError(\"Coordinates must be finite numbers (not NaN or Infinity)\");\n            }\n\n            if (lat < -90 || lat > 90) {\n                throw new RangeError(`Latitude must be between -90 and 90, got ${lat}`);\n            }\n\n            if (lng < -180 || lng > 180) {\n                throw new RangeError(`Longitude must be between -180 and 180, got ${lng}`);\n            }\n\n            return [lat, lng];\n        },\n\n        /**\n         * Sanitize un objet de propri√©t√©s POI\n         * √âchappe les champs texte et valide les URLs\n         * @param {Object} props - Propri√©t√©s √† sanitizer\n         * @returns {Object} Propri√©t√©s sanitiz√©es\n         * @example\n         * Security.sanitizePoiProperties({\n         *   label: '<script>alert(1)</script>',\n         *   url: 'https://example.com'\n         * })\n         * // Returns: { label: '&lt;script&gt;...', url: 'https://example.com' }\n         */\n        sanitizePoiProperties(props) {\n            if (!props || typeof props !== \"object\") {\n                return {};\n            }\n\n            const sanitized = {};\n\n            // Champs texte √† √©chapper\n            const textFields = [\n                \"label\",\n                \"name\",\n                \"title\",\n                \"description\",\n                \"desc\",\n                \"address\",\n                \"phone\",\n                \"email\",\n                \"category\",\n                \"type\",\n            ];\n\n            // Champs URL √† valider\n            const urlFields = [\"url\", \"website\", \"image\", \"photo\", \"icon\"];\n\n            for (const [key, value] of Object.entries(props)) {\n                // Ignorer les fonctions et symboles\n                if (typeof value === \"function\" || typeof value === \"symbol\") {\n                    continue;\n                }\n\n                // Null/undefined = cha√Æne vide\n                if (value === null || value === undefined) {\n                    sanitized[key] = \"\";\n                    continue;\n                }\n\n                // √âchapper les champs texte\n                if (textFields.includes(key) && typeof value === \"string\") {\n                    sanitized[key] = this.escapeHtml(value);\n                }\n                // Valider les URLs\n                else if (urlFields.includes(key) && typeof value === \"string\") {\n                    try {\n                        sanitized[key] = this.validateUrl(value);\n                    } catch (e) {\n                        Log.warn(`[Security] Invalid URL for ${key}: ${e.message}`);\n                        sanitized[key] = \"\";\n                    }\n                }\n                // Tableaux : sanitizer r√©cursivement\n                else if (Array.isArray(value)) {\n                    sanitized[key] = value.map((item) => {\n                        if (typeof item === \"object\" && item !== null) {\n                            return this.sanitizePoiProperties(item);\n                        }\n                        if (typeof item === \"string\") {\n                            return this.escapeHtml(item);\n                        }\n                        return item;\n                    });\n                }\n                // Objets : sanitizer r√©cursivement\n                else if (typeof value === \"object\" && value !== null) {\n                    sanitized[key] = this.sanitizePoiProperties(value);\n                }\n                // Autres types : conserver tel quel\n                else {\n                    sanitized[key] = value;\n                }\n            }\n\n            return sanitized;\n        },\n\n        /**\n         * V√©rifie si une cha√Æne contient du HTML potentiellement dangereux\n         * @param {string} str - Cha√Æne √† v√©rifier\n         * @returns {boolean} True si contient du HTML dangereux\n         * @example\n         * Security.containsDangerousHtml('<script>alert(1)</script>')\n         * // Returns: true\n         */\n        containsDangerousHtml(str) {\n            if (typeof str !== \"string\") {\n                return false;\n            }\n\n            const dangerousPatterns = [\n                /<script/i,\n                /javascript:/i,\n                /on\\w+\\s*=/i, // onclick=, onerror=, etc.\n                /<iframe/i,\n                /<object/i,\n                /<embed/i,\n                /<applet/i,\n                /<meta/i,\n                /<link/i,\n                /vbscript:/i,\n                /data:text\\/html/i,\n            ];\n\n            return dangerousPatterns.some((pattern) => pattern.test(str));\n        },\n\n        /**\n         * Nettoie une cha√Æne de tout HTML (garde uniquement le texte)\n         * @param {string} html - HTML √† nettoyer\n         * @returns {string} Texte uniquement\n         * @example\n         * Security.stripHtml('<p>Hello <b>World</b></p>')\n         * // Returns: 'Hello World'\n         */\n        stripHtml(html) {\n            if (typeof html !== \"string\") {\n                return \"\";\n            }\n\n            // SAFE: Utilisation de DOMParser au lieu de innerHTML pour √©viter l'ex√©cution de scripts\n            const parser = new DOMParser();\n            const doc = parser.parseFromString(html, 'text/html');\n            return doc.body.textContent || doc.body.innerText || \"\";\n        },\n\n        /**\n         * Cr√©e un √©l√©ment DOM de mani√®re s√©curis√©e en √©chappant automatiquement le contenu\n         * @param {string} tagName - Nom de la balise HTML\n         * @param {Object} options - Options de configuration\n         * @param {string} [options.className] - Classes CSS\n         * @param {string} [options.id] - ID de l'√©l√©ment\n         * @param {string} [options.textContent] - Contenu texte (√©chapp√© automatiquement)\n         * @param {Object} [options.attributes] - Attributs HTML\n         * @param {Array<Element>} [options.children] - √âl√©ments enfants\n         * @returns {Element} √âl√©ment DOM cr√©√©\n         * @example\n         * Security.createSafeElement('div', {\n         *     className: 'my-class',\n         *     textContent: '<script>alert(1)</script>', // Automatiquement √©chapp√©\n         *     children: [otherElement]\n         * })\n         */\n        createSafeElement(tagName, options = {}) {\n            const element = document.createElement(tagName);\n\n            if (options.className) {\n                element.className = options.className;\n            }\n\n            if (options.id) {\n                element.id = options.id;\n            }\n\n            if (options.textContent) {\n                // SAFE: textContent √©chappe automatiquement le HTML\n                element.textContent = options.textContent;\n            }\n\n            if (options.attributes) {\n                Object.keys(options.attributes).forEach(key => {\n                    element.setAttribute(key, this.escapeAttribute(options.attributes[key]));\n                });\n            }\n\n            if (options.children && Array.isArray(options.children)) {\n                options.children.forEach(child => {\n                    if (child instanceof Element) {\n                        element.appendChild(child);\n                    }\n                });\n            }\n\n            return element;\n        },\n\n        /**\n         * Parse et valide un contenu SVG de mani√®re s√©curis√©e\n         * Utilise DOMParser au lieu de innerHTML pour √©viter l'ex√©cution de scripts\n         * @param {string} svgContent - Contenu SVG brut\n         * @returns {SVGElement|null} √âl√©ment SVG valid√© ou null si invalide\n         * @example\n         * Security.sanitizeSvgContent('<svg>...</svg>')\n         * // Returns: SVGElement or null\n         */\n        sanitizeSvgContent(svgContent) {\n            if (!svgContent || typeof svgContent !== \"string\") {\n                return null;\n            }\n\n            try {\n                const parser = new DOMParser();\n                const doc = parser.parseFromString(svgContent, \"image/svg+xml\");\n\n                // V√©rifier les erreurs de parsing\n                const parserError = doc.querySelector(\"parsererror\");\n                if (parserError) {\n                    Log.warn(\"[Security] Erreur parsing SVG:\", parserError.textContent);\n                    return null;\n                }\n\n                const svgEl = doc.documentElement;\n                if (!svgEl || svgEl.tagName.toLowerCase() !== \"svg\") {\n                    Log.warn(\"[Security] Contenu SVG invalide: √©l√©ment racine n'est pas SVG\");\n                    return null;\n                }\n\n                // Supprimer les √©l√©ments potentiellement dangereux\n                const dangerousElements = [\"script\", \"foreignObject\", \"use[href^='data:']\"];\n                dangerousElements.forEach(selector => {\n                    const elements = svgEl.querySelectorAll(selector);\n                    elements.forEach(el => el.remove());\n                });\n\n                // Supprimer les attributs event handlers (onclick, onerror, etc.)\n                const allElements = svgEl.querySelectorAll(\"*\");\n                allElements.forEach(el => {\n                    Array.from(el.attributes).forEach(attr => {\n                        if (attr.name.toLowerCase().startsWith(\"on\")) {\n                            el.removeAttribute(attr.name);\n                        }\n                        // Supprimer les href javascript:\n                        if ((attr.name === \"href\" || attr.name === \"xlink:href\") &&\n                            attr.value.toLowerCase().trim().startsWith(\"javascript:\")) {\n                            el.removeAttribute(attr.name);\n                        }\n                    });\n                });\n\n                return svgEl;\n            } catch (e) {\n                Log.warn(\"[Security] Erreur sanitization SVG:\", e.message);\n                return null;\n            }\n        },\n\n        /**\n         * Valide qu'une valeur est un nombre dans une plage donn√©e\n         * @param {*} value - Valeur √† valider\n         * @param {number} [min=-Infinity] - Valeur minimale\n         * @param {number} [max=Infinity] - Valeur maximale\n         * @returns {number|null} Nombre valid√© ou null si invalide\n         * @example\n         * Security.validateNumber(\"123\", 0, 1000)\n         * // Returns: 123\n         *\n         * Security.validateNumber(\"<script>\", 0, 100)\n         * // Returns: null\n         */\n        validateNumber(value, min = -Infinity, max = Infinity) {\n            // Convertir en nombre\n            const num = Number(value);\n\n            // V√©rifier que c'est un nombre fini\n            if (!Number.isFinite(num)) {\n                return null;\n            }\n\n            // V√©rifier les bornes\n            if (num < min || num > max) {\n                return null;\n            }\n\n            return num;\n        },\n\n        /**\n         * Parse du HTML de mani√®re s√©curis√©e avec whitelist de balises\n         * @param {string} html - HTML √† parser\n         * @param {string[]} [allowedTags=['p','br','strong','em','span','a','ul','ol','li']] - Balises autoris√©es\n         * @returns {DocumentFragment} Fragment DOM nettoy√©\n         * @example\n         * Security.parseHtmlSafely('<p>Hello</p><script>alert(1)</script>')\n         * // Returns: DocumentFragment with only <p>Hello</p>\n         */\n        parseHtmlSafely(html, allowedTags = ['p', 'br', 'strong', 'em', 'span', 'a', 'ul', 'ol', 'li', 'b', 'i']) {\n            const fragment = document.createDocumentFragment();\n\n            if (!html || typeof html !== \"string\") {\n                return fragment;\n            }\n\n            try {\n                const parser = new DOMParser();\n                const doc = parser.parseFromString(html, \"text/html\");\n\n                // Fonction r√©cursive pour nettoyer les n≈ìuds\n                const cleanNode = (node) => {\n                    if (node.nodeType === Node.TEXT_NODE) {\n                        return document.createTextNode(node.textContent);\n                    }\n\n                    if (node.nodeType !== Node.ELEMENT_NODE) {\n                        return null;\n                    }\n\n                    const tagName = node.tagName.toLowerCase();\n\n                    // Si la balise n'est pas autoris√©e, retourner seulement le contenu texte\n                    if (!allowedTags.includes(tagName)) {\n                        const textNode = document.createTextNode(node.textContent);\n                        return textNode;\n                    }\n\n                    // Cr√©er un nouvel √©l√©ment propre\n                    const cleanElement = document.createElement(tagName);\n\n                    // Pour les liens, conserver href mais valider\n                    if (tagName === 'a' && node.hasAttribute('href')) {\n                        try {\n                            const href = this.validateUrl(node.getAttribute('href'));\n                            cleanElement.setAttribute('href', href);\n                            cleanElement.setAttribute('rel', 'noopener noreferrer');\n                            cleanElement.setAttribute('target', '_blank');\n                        } catch (e) {\n                            // URL invalide, ignorer le lien\n                        }\n                    }\n\n                    // Nettoyer les enfants r√©cursivement\n                    node.childNodes.forEach(child => {\n                        const cleanChild = cleanNode(child);\n                        if (cleanChild) {\n                            cleanElement.appendChild(cleanChild);\n                        }\n                    });\n\n                    return cleanElement;\n                };\n\n                // Nettoyer le body du document pars√©\n                doc.body.childNodes.forEach(child => {\n                    const cleanChild = cleanNode(child);\n                    if (cleanChild) {\n                        fragment.appendChild(cleanChild);\n                    }\n                });\n\n            } catch (e) {\n                Log.warn(\"[Security] Erreur parsing HTML s√©curis√©:\", e.message);\n            }\n\n            return fragment;\n        },\n    };\n\n    // Export du module\n    GeoLeaf.Security = Security;\n\n    // Log du chargement\n    Log.info(\"[GeoLeaf.Security] Module de s√©curit√© charg√©\");\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    /**\n     * Constantes globales GeoLeaf\n     * Centralise toutes les valeurs num√©riques utilis√©es dans le projet\n     */\n    GeoLeaf.CONSTANTS = {\n        // Carte ‚Äî vue neutre, le fitBounds positionne apr√®s chargement des couches\n        DEFAULT_ZOOM: 3,\n        DEFAULT_CENTER: [0, 0],\n        MAX_ZOOM_ON_FIT: 15,\n\n        // POI\n        POI_MARKER_SIZE: 12,\n        POI_MAX_ZOOM: 18,\n        POI_SWIPE_THRESHOLD: 50,\n        POI_LIGHTBOX_TRANSITION_MS: 300,\n        POI_SIDEPANEL_DEFAULT_WIDTH: 420,\n\n        // Route\n        ROUTE_MAX_ZOOM_ON_FIT: 14,\n        ROUTE_WAYPOINT_RADIUS: 5,\n\n        // GeoJSON\n        GEOJSON_MAX_ZOOM_ON_FIT: 15,\n        GEOJSON_POINT_RADIUS: 6,\n\n        // UI\n        FULLSCREEN_TRANSITION_MS: 10\n    };\n\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    /**\n     * Module GeoLeaf.Utils\n     * Fonctions utilitaires r√©utilisables pour s√©curiser et manipuler les donn√©es\n     */\n    const Utils = {\n        /**\n         * √âchappe les caract√®res HTML dangereux pour pr√©venir les attaques XSS\n         * DEPRECATED: Utilisez GeoLeaf.Security.escapeHtml() √† la place\n         * @param {string} text - Texte √† √©chapper\n         * @returns {string} - Texte s√©curis√©\n         */\n        escapeHtml(text) {\n            // Redirection vers la fonction canonique dans Security\n            if (GeoLeaf.Security && typeof GeoLeaf.Security.escapeHtml === 'function') {\n                return GeoLeaf.Security.escapeHtml(text);\n            }\n\n            // Fallback si Security n'est pas charg√©\n            if (text == null || text === '') return '';\n            const map = {\n                '&': '&amp;',\n                '<': '&lt;',\n                '>': '&gt;',\n                '\"': '&quot;',\n                \"'\": '&#039;',\n                '/': '&#x2F;'\n            };\n            return String(text).replace(/[&<>\"'/]/g, function(s) {\n                return map[s];\n            });\n        },\n\n        /**\n         * Valide et nettoie une URL\n         * @param {string} url - URL √† valider\n         * @param {Array<string>} allowedProtocols - Protocoles autoris√©s (d√©faut: http, https, mailto, tel)\n         * @returns {string|null} - URL valid√©e ou null si invalide\n         */\n        validateUrl(url, allowedProtocols = ['http:', 'https:', 'mailto:', 'tel:']) {\n            if (!url || typeof url !== 'string') return null;\n\n            try {\n                const parsed = new URL(url, window.location.origin);\n\n                if (allowedProtocols.includes(parsed.protocol)) {\n                    return parsed.href;\n                }\n\n                return null;\n            } catch (e) {\n                // URL relative ou invalide\n                return null;\n            }\n        },\n\n        /**\n         * Merge profond d'objets\n         * @param {Object} target - Objet cible\n         * @param {Object} source - Objet source\n         * @returns {Object} - Objet fusionn√©\n         */\n        deepMerge(target, source) {\n            if (!source || typeof source !== 'object') return target;\n            if (!target || typeof target !== 'object') return source;\n\n            const output = Object.assign({}, target);\n\n            Object.keys(source).forEach(key => {\n                if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) {\n                    output[key] = this.deepMerge(target[key] || {}, source[key]);\n                } else {\n                    output[key] = source[key];\n                }\n            });\n\n            return output;\n        },\n\n        /**\n         * R√©sout la carte Leaflet depuis les options ou GeoLeaf.Core\n         * Utilitaire partag√© pour √©viter duplication dans POI/GeoJSON/Route\n         * @param {L.Map|null} explicitMap - Carte pass√©e explicitement\n         * @returns {L.Map|null} - Instance de la carte ou null\n         */\n        ensureMap(explicitMap) {\n            if (explicitMap) return explicitMap;\n\n            // Tentative de r√©cup√©ration via GeoLeaf.Core.getMap()\n            if (typeof GeoLeaf !== 'undefined' &&\n                GeoLeaf.Core &&\n                typeof GeoLeaf.Core.getMap === 'function') {\n                return GeoLeaf.Core.getMap();\n            }\n\n            return null;\n        },\n\n        /**\n         * Merge shallow d'options (pour les modules POI/GeoJSON/Route)\n         * @param {Object} defaults - Options par d√©faut\n         * @param {Object} override - Options fournies par l'utilisateur\n         * @returns {Object} - Options fusionn√©es\n         */\n        mergeOptions(defaults, override) {\n            if (!override || typeof override !== 'object') return defaults;\n            return Object.assign({}, defaults, override);\n        },\n\n        /**\n         * √âmet un √©v√©nement personnalis√© sur la carte Leaflet\n         * @param {L.Map} map - Instance de la carte\n         * @param {string} eventName - Nom de l'√©v√©nement (ex: 'geoleaf:poi:loaded')\n         * @param {Object} payload - Donn√©es √† transmettre\n         */\n        fireMapEvent(map, eventName, payload) {\n            if (!map || typeof map.fire !== 'function') return;\n\n            try {\n                map.fire(eventName, payload || {});\n            } catch (err) {\n                if (Log) {\n                    Log.warn('[GeoLeaf.Utils] Erreur lors de l\\'√©mission de l\\'√©v√©nement:', eventName, err);\n                }\n            }\n        },\n\n        /**\n         * Debounce - Limite la fr√©quence d'ex√©cution d'une fonction\n         * Utile pour optimiser les event listeners (resize, scroll, input)\n         * @param {Function} func - Fonction √† debouncer\n         * @param {number} wait - D√©lai en ms (d√©faut: 250ms)\n         * @returns {Function} - Fonction debounc√©e\n         *\n         * @example\n         * const debouncedResize = GeoLeaf.Utils.debounce(() => {\n         *     map.invalidateSize();\n         * }, 300);\n         * window.addEventListener('resize', debouncedResize);\n         */\n        debounce(func, wait = 250) {\n            let timeout;\n\n            return function executedFunction(...args) {\n                const later = () => {\n                    clearTimeout(timeout);\n                    func(...args);\n                };\n\n                clearTimeout(timeout);\n                timeout = setTimeout(later, wait);\n            };\n        },\n\n        /**\n         * Throttle - Limite l'ex√©cution d'une fonction √† une fois par intervalle\n         * Diff√©rence avec debounce: garantit une ex√©cution r√©guli√®re\n         * @param {Function} func - Fonction √† throttler\n         * @param {number} limit - Intervalle minimum en ms (d√©faut: 100ms)\n         * @returns {Function} - Fonction throttl√©e\n         *\n         * @example\n         * const throttledScroll = GeoLeaf.Utils.throttle(() => {\n         *     console.log('Scroll event');\n         * }, 100);\n         * window.addEventListener('scroll', throttledScroll);\n         */\n        throttle(func, limit = 100) {\n            let inThrottle;\n\n            return function(...args) {\n                if (!inThrottle) {\n                    func.apply(this, args);\n                    inThrottle = true;\n                    setTimeout(() => inThrottle = false, limit);\n                }\n            };\n        },\n\n        /**\n         * Calcule la distance entre deux points g√©ographiques (formule de Haversine)\n         * @param {number} lat1 - Latitude du point 1 (degr√©s)\n         * @param {number} lng1 - Longitude du point 1 (degr√©s)\n         * @param {number} lat2 - Latitude du point 2 (degr√©s)\n         * @param {number} lng2 - Longitude du point 2 (degr√©s)\n         * @returns {number} - Distance en kilom√®tres\n         *\n         * @example\n         * const distance = GeoLeaf.Utils.getDistance(48.8566, 2.3522, 51.5074, -0.1278); // Paris -> London\n         * console.log(`Distance: ${distance.toFixed(2)} km`); // Distance: 343.56 km\n         */\n        getDistance(lat1, lng1, lat2, lng2) {\n            const R = 6371; // Rayon de la Terre en kilom√®tres\n            const dLat = (lat2 - lat1) * (Math.PI / 180);\n            const dLng = (lng2 - lng1) * (Math.PI / 180);\n            const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n                      Math.cos(lat1 * (Math.PI / 180)) * Math.cos(lat2 * (Math.PI / 180)) *\n                      Math.sin(dLng / 2) * Math.sin(dLng / 2);\n            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n            return R * c;\n        },\n\n        /**\n         * R√©sout la valeur d'un champ depuis plusieurs chemins possibles dans un objet\n         * √âlimine les longues cha√Ænes conditionnelles de r√©solution de champs\n         * @param {Object} obj - Objet source\n         * @param {...string} paths - Chemins √† tester dans l'ordre (ex: 'label', 'attributes.label', 'properties.label')\n         * @returns {*} - Premi√®re valeur trouv√©e (string, object, array, etc.) ou cha√Æne vide si rien trouv√©\n         *\n         * @example\n         * const title = GeoLeaf.Utils.resolveField(poi,\n         *     'label', 'attributes.label', 'properties.label',\n         *     'name', 'attributes.name', 'properties.name'\n         * );\n         */\n        resolveField(obj, ...paths) {\n            if (!obj || typeof obj !== 'object') return '';\n\n            for (const path of paths) {\n                const keys = path.split('.');\n                let value = obj;\n\n                for (const key of keys) {\n                    if (value && typeof value === 'object' && key in value) {\n                        value = value[key];\n                    } else {\n                        value = null;\n                        break;\n                    }\n                }\n\n                // Return any truthy value (string, object, array, number, etc.)\n                if (value != null) {\n                    // For strings, ensure they're not empty\n                    if (typeof value === 'string') {\n                        if (value.trim()) return value;\n                    } else {\n                        // For non-strings (objects, arrays, numbers, booleans), return as-is\n                        return value;\n                    }\n                }\n            }\n\n            return '';\n        }\n    };\n\n    GeoLeaf.Utils = Utils;\n\n})(typeof window !== \"undefined\" ? window : global);\n","/**\n * GeoLeaf - DOM Security Module\n *\n * @description Wrappers s√©curis√©s pour manipuler le DOM sans vuln√©rabilit√©s XSS\n * @module GeoLeaf.DOMSecurity\n * @version 3.0.1\n * @date 2026-01-17\n *\n * USAGE:\n * - Remplace innerHTML par des alternatives s√©curis√©es\n * - Utilise textContent pour donn√©es non-HTML\n * - Sanitize via GeoLeaf.Security pour HTML n√©cessaire\n * - Cr√©e SVG de mani√®re s√©curis√©e\n */\n\n(function(global) {\n    'use strict';\n\n    const DOMSecurity = (function() {\n\n        const Log = global.GeoLeaf?.Log;\n        const Security = global.GeoLeaf?.Security;\n\n        /**\n         * D√©finit le contenu texte d'un √©l√©ment de mani√®re s√©curis√©e\n         * Remplace: element.innerHTML = text\n         *\n         * @param {HTMLElement} element - √âl√©ment DOM cible\n         * @param {string|number} text - Contenu texte (sera converti en string)\n         * @returns {void}\n         *\n         * @example\n         * // ‚ùå AVANT (vuln√©rable XSS)\n         * div.innerHTML = userData;\n         *\n         * // ‚úÖ APR√àS (s√©curis√©)\n         * DOMSecurity.setTextContent(div, userData);\n         */\n        function setTextContent(element, text) {\n            if (!element || !element.nodeType) {\n                if (Log) Log.warn('[DOMSecurity] Invalid element in setTextContent');\n                return;\n            }\n            element.textContent = text != null ? String(text) : '';\n        }\n\n        /**\n         * D√©finit du contenu HTML avec sanitization\n         * Remplace: element.innerHTML = html (quand HTML est vraiment n√©cessaire)\n         *\n         * @param {HTMLElement} element - √âl√©ment DOM cible\n         * @param {string} html - Contenu HTML √† ins√©rer\n         * @returns {void}\n         *\n         * @example\n         * // Utiliser Security.escapeHTML si disponible\n         * DOMSecurity.setSafeHTML(div, '<strong>Important</strong>');\n         */\n        function setSafeHTML(element, html) {\n            if (!element || !element.nodeType) {\n                if (Log) Log.warn('[DOMSecurity] Invalid element in setSafeHTML');\n                return;\n            }\n\n            // Tenter d'utiliser le sanitizer de GeoLeaf.Security\n            if (Security && typeof Security.escapeHtml === 'function') {\n                const sanitized = Security.escapeHtml(html);\n                element.innerHTML = sanitized;\n            } else {\n                // Fallback s√©curis√© : textContent au lieu de innerHTML brut\n                if (Log) Log.warn('[DOMSecurity] No sanitizer available, falling back to textContent');\n                element.textContent = html || '';\n            }\n        }\n\n        /**\n         * Vide un √©l√©ment de mani√®re s√©curis√©e\n         * Remplace: element.innerHTML = \"\"\n         *\n         * @param {HTMLElement} element - √âl√©ment DOM √† vider\n         * @returns {void}\n         *\n         * @example\n         * DOMSecurity.clearElement(container);\n         */\n        function clearElement(element) {\n            if (!element || !element.nodeType) {\n                if (Log) Log.warn('[DOMSecurity] Invalid element in clearElement');\n                return;\n            }\n\n            // M√©thode la plus performante et s√ªre\n            while (element.firstChild) {\n                element.removeChild(element.firstChild);\n            }\n        }\n\n        /**\n         * Vide rapidement en utilisant textContent (alternative)\n         * Plus rapide que removeChild mais moins propre\n         *\n         * @param {HTMLElement} element - √âl√©ment DOM √† vider\n         * @returns {void}\n         */\n        function clearElementFast(element) {\n            if (!element || !element.nodeType) {\n                if (Log) Log.warn('[DOMSecurity] Invalid element in clearElementFast');\n                return;\n            }\n            element.textContent = '';\n        }\n\n        /**\n         * Cr√©e un √©l√©ment SVG de mani√®re s√©curis√©e\n         *\n         * @param {number} width - Largeur SVG\n         * @param {number} height - Hauteur SVG\n         * @param {string} pathData - Donn√©es du path SVG\n         * @param {Object} [options={}] - Options SVG\n         * @param {string} [options.viewBox] - ViewBox SVG\n         * @param {string} [options.fill='none'] - Couleur de remplissage\n         * @param {string} [options.stroke='currentColor'] - Couleur de trait\n         * @param {string|number} [options.strokeWidth='2'] - √âpaisseur trait\n         * @param {string} [options.strokeLinecap='round'] - Style bout de trait\n         * @param {string} [options.strokeLinejoin='round'] - Style jonction\n         * @returns {SVGElement} √âl√©ment SVG cr√©√©\n         *\n         * @example\n         * const icon = DOMSecurity.createSVGIcon(18, 18, 'M6 9l6 6 6-6');\n         * button.appendChild(icon);\n         */\n        function createSVGIcon(width, height, pathData, options = {}) {\n            const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n            svg.setAttribute('width', width);\n            svg.setAttribute('height', height);\n            svg.setAttribute('viewBox', options.viewBox || `0 0 24 24`);\n            svg.setAttribute('fill', options.fill || 'none');\n            svg.setAttribute('stroke', options.stroke || 'currentColor');\n            svg.setAttribute('stroke-width', String(options.strokeWidth || '2'));\n            svg.setAttribute('stroke-linecap', options.strokeLinecap || 'round');\n            svg.setAttribute('stroke-linejoin', options.strokeLinejoin || 'round');\n\n            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n            path.setAttribute('d', pathData);\n            svg.appendChild(path);\n\n            return svg;\n        }\n\n        /**\n         * Biblioth√®que d'ic√¥nes SVG communes\n         * @constant\n         */\n        const SVG_ICONS = {\n            // Chevrons\n            'chevron-down': 'M6 9l6 6 6-6',\n            'chevron-up': 'M18 15l-6-6-6 6',\n            'chevron-left': 'M15 18l-6-6 6-6',\n            'chevron-right': 'M9 18l6-6-6-6',\n\n            // Arrows\n            'arrow-left': '‚Äπ',\n            'arrow-right': '‚Ä∫',\n\n            // UI Controls\n            'close': '‚úï',\n            'check': '‚úì',\n            'star': '‚òÖ',\n            'star-empty': '‚òÜ',\n\n            // Triangles (collapse/expand)\n            'triangle-right': '‚ñ∂',\n            'triangle-down': '‚ñº',\n\n            // Home/Layers\n            'home': 'M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z',\n            'layers': 'M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5',\n\n            // Location\n            'marker': 'M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z',\n            'map-pin': 'M12 22s-8-4.5-8-11.8A8 8 0 0 1 12 2a8 8 0 0 1 8 8.2c0 7.3-8 11.8-8 11.8z',\n\n            // Actions\n            'download': 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3',\n            'upload': 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12',\n            'trash': 'M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2',\n            'copy': 'M8 4v12a2 2 0 002 2h8a2 2 0 002-2V7.242a2 2 0 00-.602-1.43L16.083 2.57A2 2 0 0014.685 2H10a2 2 0 00-2 2z',\n\n            // Status\n            'sync': 'M23 4v6h-6M1 20v-6h6M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15'\n        };\n\n        /**\n         * Obtient une ic√¥ne SVG pr√©d√©finie\n         *\n         * @param {string} name - Nom de l'ic√¥ne\n         * @param {number} [size=18] - Taille de l'ic√¥ne\n         * @param {Object} [options={}] - Options SVG suppl√©mentaires\n         * @returns {SVGElement|null} √âl√©ment SVG ou null si non trouv√©\n         *\n         * @example\n         * const homeIcon = DOMSecurity.getIcon('home', 24);\n         * button.appendChild(homeIcon);\n         */\n        function getIcon(name, size = 18, options = {}) {\n            const pathData = SVG_ICONS[name];\n            if (!pathData) {\n                if (Log) Log.warn(`[DOMSecurity] Icon '${name}' not found`);\n                return null;\n            }\n            return createSVGIcon(size, size, pathData, options);\n        }\n\n        /**\n         * Cr√©e un √©l√©ment avec attributs de mani√®re s√©curis√©e\n         * Alternative s√©curis√©e √† innerHTML pour structures simples\n         *\n         * @param {string} tagName - Nom de la balise\n         * @param {Object} [attributes={}] - Attributs de l'√©l√©ment\n         * @param {string|HTMLElement|Array} [children] - Enfants (texte ou √©l√©ments)\n         * @returns {HTMLElement} √âl√©ment cr√©√©\n         *\n         * @example\n         * const div = DOMSecurity.createElement('div',\n         *   { class: 'container', id: 'main' },\n         *   ['Hello ', DOMSecurity.createElement('strong', {}, 'World')]\n         * );\n         */\n        function createElement(tagName, attributes = {}, children = null) {\n            const element = document.createElement(tagName);\n\n            // D√©finir les attributs\n            for (const [key, value] of Object.entries(attributes)) {\n                if (key === 'class' || key === 'className') {\n                    element.className = value;\n                } else if (key === 'style' && typeof value === 'object') {\n                    Object.assign(element.style, value);\n                } else if (key.startsWith('data-')) {\n                    element.setAttribute(key, value);\n                } else {\n                    element[key] = value;\n                }\n            }\n\n            // Ajouter les enfants\n            if (children) {\n                if (Array.isArray(children)) {\n                    children.forEach(child => {\n                        if (typeof child === 'string') {\n                            element.appendChild(document.createTextNode(child));\n                        } else if (child && child.nodeType) {\n                            element.appendChild(child);\n                        }\n                    });\n                } else if (typeof children === 'string') {\n                    element.textContent = children;\n                } else if (children.nodeType) {\n                    element.appendChild(children);\n                }\n            }\n\n            return element;\n        }\n\n        // API publique\n        return {\n            setTextContent,\n            setSafeHTML,\n            clearElement,\n            clearElementFast,\n            createSVGIcon,\n            getIcon,\n            createElement,\n            SVG_ICONS // Exposer la liste pour r√©f√©rence\n        };\n    })();\n\n    // Export vers GeoLeaf namespace\n    if (typeof global.GeoLeaf !== 'undefined') {\n        global.GeoLeaf.DOMSecurity = DOMSecurity;\n    } else {\n        // Cr√©er namespace si n√©cessaire\n        global.GeoLeaf = global.GeoLeaf || {};\n        global.GeoLeaf.DOMSecurity = DOMSecurity;\n    }\n\n    // Support CommonJS/Node.js\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = DOMSecurity;\n    }\n\n})(typeof window !== 'undefined' ? window : global);\n","/**\r\n * @module GeoLeaf.Utils.DomHelpers\r\n * Helpers pour cr√©ation et manipulation d'√©l√©ments DOM\r\n * Simplifie et standardise la cr√©ation d'√©l√©ments DOM dans tout le projet\r\n *\r\n * @version 1.0.0\r\n * @requires GeoLeaf.Security (pour sanitization)\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    GeoLeaf.Utils = GeoLeaf.Utils || {};\r\n\r\n    /**\r\n     * Cr√©e un √©l√©ment DOM avec propri√©t√©s et enfants de mani√®re d√©clarative\r\n     * Cette fonction simplifie la cr√©ation d'√©l√©ments DOM complexes\r\n     *\r\n     * @param {string} tag - Nom du tag HTML (ex: 'div', 'span', 'button')\r\n     * @param {Object} [props={}] - Propri√©t√©s de l'√©l√©ment\r\n     * @param {string} [props.className] - Classes CSS\r\n     * @param {string} [props.id] - ID de l'√©l√©ment\r\n     * @param {Object} [props.style] - Styles inline (objet)\r\n     * @param {Object} [props.dataset] - Data attributes (objet)\r\n     * @param {Object} [props.attributes] - Attributs HTML (objet)\r\n     * @param {Function} [props.on*] - Event handlers (ex: onClick, onMouseOver)\r\n     * @param {string} [props._eventContext] - Context for EventListenerManager tracking\r\n     * @param {Array} [props._cleanupArray] - Array to store cleanup functions\r\n     * @param {...(Node|string|number)} children - Enfants de l'√©l√©ment\r\n     * @returns {HTMLElement} L'√©l√©ment cr√©√©\r\n     *\r\n     * @example\r\n     * // Simple div avec classe\r\n     * createElement('div', { className: 'card' })\r\n     *\r\n     * @example\r\n     * // Div avec enfants\r\n     * createElement('div', { className: 'card' },\r\n     *     createElement('h2', {}, 'Title'),\r\n     *     createElement('p', {}, 'Content')\r\n     * )\r\n     *\r\n     * @example\r\n     * // Bouton avec event handler (auto-cleanup with EventListenerManager)\r\n     * createElement('button', {\r\n     *     className: 'btn',\r\n     *     onClick: (e) => console.log('Clicked!'),\r\n     *     dataset: { action: 'submit' },\r\n     *     _eventContext: 'MyModule.button'\r\n     * }, 'Click me')\r\n     *\r\n     * @example\r\n     * // With cleanup tracking\r\n     * const cleanups = [];\r\n     * createElement('button', {\r\n     *     onClick: handler,\r\n     *     _cleanupArray: cleanups,\r\n     *     _eventContext: 'MyModule'\r\n     * }, 'Click')\r\n     * // Later: cleanups.forEach(fn => fn())\r\n     */\r\n    function createElement(tag, props = {}, ...children) {\r\n        // Validate tag parameter\r\n        if (typeof tag !== 'string' || !tag.trim()) {\r\n            throw new TypeError('[DomHelpers] createElement: tag must be a non-empty string');\r\n        }\r\n\r\n        const element = document.createElement(tag);\r\n\r\n        // Traiter les propri√©t√©s sp√©ciales en premier\r\n        const {\r\n            className,\r\n            id,\r\n            style,\r\n            dataset,\r\n            attributes,\r\n            textContent,\r\n            innerHTML,\r\n            _eventContext,\r\n            _cleanupArray,\r\n            ...otherProps\r\n        } = props;\r\n\r\n        // Appliquer className\r\n        if (className) {\r\n            element.className = className;\r\n        }\r\n\r\n        // Appliquer ID\r\n        if (id) {\r\n            element.id = id;\r\n        }\r\n\r\n        // Appliquer styles\r\n        if (style && typeof style === 'object') {\r\n            Object.assign(element.style, style);\r\n        }\r\n\r\n        // Appliquer data attributes\r\n        if (dataset && typeof dataset === 'object') {\r\n            for (const [key, value] of Object.entries(dataset)) {\r\n                element.dataset[key] = value;\r\n            }\r\n        }\r\n\r\n        // Appliquer attributes HTML\r\n        if (attributes && typeof attributes === 'object') {\r\n            for (const [key, value] of Object.entries(attributes)) {\r\n                element.setAttribute(key, value);\r\n            }\r\n        }\r\n\r\n        // Appliquer les autres propri√©t√©s (event handlers, etc.)\r\n        const events = GeoLeaf.Utils?.events;\r\n\r\n        for (const [key, value] of Object.entries(otherProps)) {\r\n            // Event handlers (onClick, onMouseOver, etc.)\r\n            if (key.startsWith('on') && typeof value === 'function') {\r\n                const event = key.substring(2).toLowerCase();\r\n\r\n                // Use EventListenerManager for auto-cleanup if available\r\n                if (events) {\r\n                    const cleanup = events.on(\r\n                        element,\r\n                        event,\r\n                        value,\r\n                        false,\r\n                        _eventContext || 'DomHelpers.createElement'\r\n                    );\r\n\r\n                    // Store cleanup function if array provided\r\n                    if (_cleanupArray && Array.isArray(_cleanupArray)) {\r\n                        _cleanupArray.push(cleanup);\r\n                    }\r\n                } else {\r\n                    // Fallback to native addEventListener\r\n                    element.addEventListener(event, value);\r\n                }\r\n            }\r\n            // Propri√©t√©s aria-*\r\n            else if (key.startsWith('aria')) {\r\n                const attrName = 'aria-' + key.substring(4).toLowerCase();\r\n                element.setAttribute(attrName, value);\r\n            }\r\n            // Autres propri√©t√©s directes\r\n            else if (key in element) {\r\n                element[key] = value;\r\n            }\r\n            // Fallback: setAttribute\r\n            else {\r\n                element.setAttribute(key, value);\r\n            }\r\n        }\r\n\r\n        // Appliquer textContent si fourni (√©crase innerHTML et children)\r\n        if (textContent !== undefined) {\r\n            element.textContent = textContent;\r\n            return element; // Ignorer children si textContent est fourni\r\n        }\r\n\r\n        // Appliquer innerHTML si fourni (√©crase children)\r\n        // WARNING: N'utiliser qu'avec du contenu s√©curis√©/sanitiz√©\r\n        if (innerHTML !== undefined) {\r\n            if (GeoLeaf.Log && GeoLeaf.Log.warn) {\r\n                GeoLeaf.Log.warn(\r\n                    '[DomHelpers] createElement avec innerHTML - assurez-vous que le contenu est sanitiz√©',\r\n                    { tag, innerHTML: innerHTML.substring(0, 100) }\r\n                );\r\n            }\r\n\r\n            // Use DOMSecurity if available, otherwise use textContent as safer fallback\r\n            if (GeoLeaf.DOMSecurity && typeof GeoLeaf.DOMSecurity.setSafeHTML === 'function') {\r\n                GeoLeaf.DOMSecurity.setSafeHTML(element, innerHTML);\r\n            } else {\r\n                // Fallback: convert to text for security\r\n                if (GeoLeaf.Log && GeoLeaf.Log.error) {\r\n                    GeoLeaf.Log.error('[DomHelpers] DOMSecurity not available, using textContent fallback');\r\n                }\r\n                element.textContent = innerHTML;\r\n            }\r\n            return element; // Ignorer children si innerHTML est fourni\r\n        }\r\n\r\n        // Ajouter les enfants\r\n        appendChild(element, ...children);\r\n\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Ajoute des enfants √† un √©l√©ment parent\r\n     * G√®re automatiquement les strings, numbers, nodes, et tableaux\r\n     *\r\n     * @param {HTMLElement} parent - √âl√©ment parent\r\n     * @param {...(Node|string|number|Array)} children - Enfants √† ajouter\r\n     * @returns {HTMLElement} Le parent (pour cha√Ænage)\r\n     *\r\n     * @example\r\n     * appendChild(div, 'Text', createElement('span', {}, 'More text'))\r\n     *\r\n     * @example\r\n     * // Avec tableau\r\n     * appendChild(ul, items.map(item => createElement('li', {}, item)))\r\n     */\r\n    function appendChild(parent, ...children) {\r\n        for (const child of children) {\r\n            if (child == null || child === false) {\r\n                // Ignorer null, undefined, false (utile pour render conditionnel)\r\n                continue;\r\n            }\r\n\r\n            // Si c'est un tableau, l'aplatir r√©cursivement\r\n            if (Array.isArray(child)) {\r\n                appendChild(parent, ...child);\r\n            }\r\n            // Si c'est une string ou number, cr√©er un TextNode\r\n            else if (typeof child === 'string' || typeof child === 'number') {\r\n                parent.appendChild(document.createTextNode(String(child)));\r\n            }\r\n            // Si c'est un Node, l'ajouter directement\r\n            else if (child instanceof Node) {\r\n                parent.appendChild(child);\r\n            }\r\n            // Sinon, convertir en string et ajouter comme TextNode\r\n            else {\r\n                parent.appendChild(document.createTextNode(String(child)));\r\n            }\r\n        }\r\n        return parent;\r\n    }\r\n\r\n    /**\r\n     * Vide un √©l√©ment de tous ses enfants\r\n     *\r\n     * @param {HTMLElement} element - √âl√©ment √† vider\r\n     * @returns {HTMLElement} L'√©l√©ment (pour cha√Ænage)\r\n     *\r\n     * @example\r\n     * clearElement(container)\r\n     */\r\n    function clearElement(element) {\r\n        if (!element) return element;\r\n        while (element.firstChild) {\r\n            element.removeChild(element.firstChild);\r\n        }\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Trouve un √©l√©ment par ID avec validation\r\n     *\r\n     * @param {string} id - ID de l'√©l√©ment\r\n     * @param {boolean} [required=false] - Si true, lance une erreur si non trouv√©\r\n     * @returns {HTMLElement|null} L'√©l√©ment trouv√© ou null\r\n     * @throws {Error} Si required=true et √©l√©ment non trouv√©\r\n     *\r\n     * @example\r\n     * const el = getElementById('my-element', true) // Lance erreur si absent\r\n     */\r\n    function getElementById(id, required = false) {\r\n        const element = document.getElementById(id);\r\n        if (required && !element) {\r\n            throw new Error(`Element with id \"${id}\" not found`);\r\n        }\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Trouve des √©l√©ments par s√©lecteur CSS\r\n     *\r\n     * @param {string} selector - S√©lecteur CSS\r\n     * @param {HTMLElement} [parent=document] - √âl√©ment parent pour la recherche\r\n     * @returns {HTMLElement[]} Tableau d'√©l√©ments trouv√©s\r\n     *\r\n     * @example\r\n     * const buttons = querySelectorAll('.btn')\r\n     */\r\n    function querySelectorAll(selector, parent = document) {\r\n        return Array.from(parent.querySelectorAll(selector));\r\n    }\r\n\r\n    /**\r\n     * Trouve un √©l√©ment par s√©lecteur CSS\r\n     *\r\n     * @param {string} selector - S√©lecteur CSS\r\n     * @param {HTMLElement} [parent=document] - √âl√©ment parent pour la recherche\r\n     * @returns {HTMLElement|null} Premier √©l√©ment trouv√© ou null\r\n     *\r\n     * @example\r\n     * const button = querySelector('.btn-primary')\r\n     */\r\n    function querySelector(selector, parent = document) {\r\n        return parent.querySelector(selector);\r\n    }\r\n\r\n    /**\r\n     * Toggle une classe CSS sur un √©l√©ment\r\n     *\r\n     * @param {HTMLElement} element - √âl√©ment cible\r\n     * @param {string} className - Nom de la classe\r\n     * @param {boolean} [force] - Force l'ajout (true) ou le retrait (false)\r\n     * @returns {boolean} True si la classe est pr√©sente apr√®s toggle\r\n     *\r\n     * @example\r\n     * toggleClass(element, 'active')\r\n     * toggleClass(element, 'hidden', false) // Force retrait\r\n     */\r\n    function toggleClass(element, className, force) {\r\n        if (!element) return false;\r\n        return element.classList.toggle(className, force);\r\n    }\r\n\r\n    /**\r\n     * Ajoute une ou plusieurs classes √† un √©l√©ment\r\n     *\r\n     * @param {HTMLElement} element - √âl√©ment cible\r\n     * @param {...string} classNames - Classes √† ajouter\r\n     * @returns {HTMLElement} L'√©l√©ment (pour cha√Ænage)\r\n     *\r\n     * @example\r\n     * addClass(element, 'active', 'visible')\r\n     */\r\n    function addClass(element, ...classNames) {\r\n        if (!element) return element;\r\n        element.classList.add(...classNames);\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Retire une ou plusieurs classes d'un √©l√©ment\r\n     *\r\n     * @param {HTMLElement} element - √âl√©ment cible\r\n     * @param {...string} classNames - Classes √† retirer\r\n     * @returns {HTMLElement} L'√©l√©ment (pour cha√Ænage)\r\n     *\r\n     * @example\r\n     * removeClass(element, 'active', 'visible')\r\n     */\r\n    function removeClass(element, ...classNames) {\r\n        if (!element) return element;\r\n        element.classList.remove(...classNames);\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * V√©rifie si un √©l√©ment a une classe\r\n     *\r\n     * @param {HTMLElement} element - √âl√©ment √† v√©rifier\r\n     * @param {string} className - Nom de la classe\r\n     * @returns {boolean} True si la classe est pr√©sente\r\n     *\r\n     * @example\r\n     * if (hasClass(element, 'active')) { ... }\r\n     */\r\n    function hasClass(element, className) {\r\n        if (!element) return false;\r\n        return element.classList.contains(className);\r\n    }\r\n\r\n    /**\r\n     * D√©finit ou r√©cup√®re un attribut data-*\r\n     *\r\n     * @param {HTMLElement} element - √âl√©ment cible\r\n     * @param {string} key - Nom de l'attribut (sans 'data-')\r\n     * @param {*} [value] - Valeur √† d√©finir (omis pour lecture)\r\n     * @returns {string|HTMLElement} Valeur lue ou √©l√©ment (pour cha√Ænage)\r\n     *\r\n     * @example\r\n     * setData(element, 'id', '123') // D√©finir\r\n     * const id = setData(element, 'id') // Lire\r\n     */\r\n    function setData(element, key, value) {\r\n        if (!element) return value === undefined ? null : element;\r\n        if (value === undefined) {\r\n            return element.dataset[key];\r\n        }\r\n        element.dataset[key] = value;\r\n        return element;\r\n    }\r\n\r\n    // Exposer le module\r\n    GeoLeaf.Utils.DomHelpers = {\r\n        createElement,\r\n        appendChild,\r\n        clearElement,\r\n        getElementById,\r\n        querySelector,\r\n        querySelectorAll,\r\n        toggleClass,\r\n        addClass,\r\n        removeClass,\r\n        hasClass,\r\n        setData\r\n    };\r\n\r\n    // Alias sur GeoLeaf.Utils pour compatibilit√© et facilit√© d'usage\r\n    GeoLeaf.Utils.createElement = createElement;\r\n    GeoLeaf.Utils.appendChild = appendChild;\r\n    GeoLeaf.Utils.clearElement = clearElement;\r\n\r\n    if (GeoLeaf.Log && GeoLeaf.Log.info) {\r\n        GeoLeaf.Log.info('[GeoLeaf.Utils.DomHelpers] Module loaded');\r\n    }\r\n\r\n})(typeof window !== 'undefined' ? window : this);\r\n","/**\r\n * @fileoverview EventListenerManager - Gestion centralis√©e des event listeners\r\n * Permet de tracker et nettoyer tous les event listeners\r\n * pour √©viter les fuites m√©moire\r\n *\r\n * @module GeoLeaf.Utils.EventListenerManager\r\n * @version 2.0.0\r\n * @author GeoLeaf Project\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    GeoLeaf.Utils = GeoLeaf.Utils || {};\r\n\r\n    const Log = GeoLeaf.Log;\r\n\r\n    /**\r\n     * EventListenerManager - Gestionnaire centralis√© d'event listeners\r\n     * @class\r\n     */\r\n    class EventListenerManager {\r\n        constructor(name = 'default') {\r\n            this.name = name;\r\n            this.listeners = [];\r\n            this._nextId = 1;\r\n        }\r\n\r\n        /**\r\n         * Ajoute un event listener avec tracking\r\n         * @param {Element|Window|Document} target - √âl√©ment cible\r\n         * @param {string} event - Nom de l'√©v√©nement\r\n         * @param {Function} handler - Handler de l'√©v√©nement\r\n         * @param {Object|boolean} [options] - Options (capture, once, passive, etc.)\r\n         * @param {string} [label] - Label optionnel pour debug\r\n         * @returns {number} ID du listener pour removal ult√©rieur\r\n         */\r\n        addEventListener(target, event, handler, options = false, label = '') {\r\n            if (!target || typeof target.addEventListener !== 'function') {\r\n                if (Log) Log.warn(`[EventListenerManager.${this.name}] Invalid target for addEventListener`);\r\n                return null;\r\n            }\r\n\r\n            const id = this._nextId++;\r\n\r\n            target.addEventListener(event, handler, options);\r\n\r\n            this.listeners.push({\r\n                id,\r\n                target,\r\n                event,\r\n                handler,\r\n                options,\r\n                label,\r\n                createdAt: Date.now()\r\n            });\r\n\r\n            if (Log) Log.debug(`[EventListenerManager.${this.name}] Listener added:`, id, event, label);\r\n            return id;\r\n        }\r\n\r\n        /**\r\n         * Ajoute un event listener Leaflet avec tracking\r\n         * @param {L.Evented} target - Objet Leaflet (map, marker, etc.)\r\n         * @param {string} event - Nom de l'√©v√©nement\r\n         * @param {Function} handler - Handler de l'√©v√©nement\r\n         * @param {string} [label] - Label optionnel pour debug\r\n         * @returns {number} ID du listener\r\n         */\r\n        addLeafletListener(target, event, handler, label = '') {\r\n            if (!target || typeof target.on !== 'function') {\r\n                if (Log) Log.warn(`[EventListenerManager.${this.name}] Invalid Leaflet target`);\r\n                return null;\r\n            }\r\n\r\n            const id = this._nextId++;\r\n\r\n            target.on(event, handler);\r\n\r\n            this.listeners.push({\r\n                id,\r\n                target,\r\n                event,\r\n                handler,\r\n                label,\r\n                type: 'leaflet',\r\n                createdAt: Date.now()\r\n            });\r\n\r\n            if (Log) Log.debug(`[EventListenerManager.${this.name}] Leaflet listener added:`, id, event, label);\r\n            return id;\r\n        }\r\n\r\n        /**\r\n         * Retire un listener sp√©cifique par ID\r\n         * @param {number} id - ID du listener\r\n         * @returns {boolean} True si le listener a √©t√© trouv√© et retir√©\r\n         */\r\n        removeListener(id) {\r\n            const index = this.listeners.findIndex(l => l.id === id);\r\n            if (index === -1) return false;\r\n\r\n            const listener = this.listeners[index];\r\n\r\n            if (listener.type === 'leaflet') {\r\n                if (listener.target && typeof listener.target.off === 'function') {\r\n                    listener.target.off(listener.event, listener.handler);\r\n                }\r\n            } else {\r\n                if (listener.target && typeof listener.target.removeEventListener === 'function') {\r\n                    listener.target.removeEventListener(listener.event, listener.handler, listener.options);\r\n                }\r\n            }\r\n\r\n            this.listeners.splice(index, 1);\r\n\r\n            if (Log) Log.debug(`[EventListenerManager.${this.name}] Listener removed:`, id, listener.label);\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * Retire tous les listeners d'un √©l√©ment sp√©cifique\r\n         * @param {Element|L.Evented} target - √âl√©ment cible\r\n         * @returns {number} Nombre de listeners retir√©s\r\n         */\r\n        removeListenersForTarget(target) {\r\n            const matchingListeners = this.listeners.filter(l => l.target === target);\r\n\r\n            matchingListeners.forEach(listener => {\r\n                if (listener.type === 'leaflet') {\r\n                    if (listener.target && typeof listener.target.off === 'function') {\r\n                        listener.target.off(listener.event, listener.handler);\r\n                    }\r\n                } else {\r\n                    if (listener.target && typeof listener.target.removeEventListener === 'function') {\r\n                        listener.target.removeEventListener(listener.event, listener.handler, listener.options);\r\n                    }\r\n                }\r\n            });\r\n\r\n            this.listeners = this.listeners.filter(l => l.target !== target);\r\n\r\n            if (Log && matchingListeners.length > 0) {\r\n                Log.info(`[EventListenerManager.${this.name}] Removed ${matchingListeners.length} listener(s) for target`);\r\n            }\r\n\r\n            return matchingListeners.length;\r\n        }\r\n\r\n        /**\r\n         * Retire tous les listeners\r\n         */\r\n        removeAll() {\r\n            const count = this.listeners.length;\r\n\r\n            this.listeners.forEach(listener => {\r\n                try {\r\n                    if (listener.type === 'leaflet') {\r\n                        if (listener.target && typeof listener.target.off === 'function') {\r\n                            listener.target.off(listener.event, listener.handler);\r\n                        }\r\n                    } else {\r\n                        if (listener.target && typeof listener.target.removeEventListener === 'function') {\r\n                            listener.target.removeEventListener(listener.event, listener.handler, listener.options);\r\n                        }\r\n                    }\r\n                } catch (error) {\r\n                    if (Log) Log.warn(`[EventListenerManager.${this.name}] Error removing listener:`, error);\r\n                }\r\n            });\r\n\r\n            this.listeners = [];\r\n\r\n            if (Log && count > 0) {\r\n                Log.info(`[EventListenerManager.${this.name}] Removed ${count} listener(s)`);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Obtient le nombre de listeners actifs\r\n         * @returns {number}\r\n         */\r\n        getCount() {\r\n            return this.listeners.length;\r\n        }\r\n\r\n        /**\r\n         * Liste tous les listeners actifs (pour debug)\r\n         * @returns {Array}\r\n         */\r\n        listActiveListeners() {\r\n            return this.listeners.map(l => ({\r\n                id: l.id,\r\n                event: l.event,\r\n                label: l.label,\r\n                type: l.type || 'dom',\r\n                age: Date.now() - l.createdAt\r\n            }));\r\n        }\r\n\r\n        /**\r\n         * D√©truit le manager et nettoie tous les listeners\r\n         */\r\n        destroy() {\r\n            this.removeAll();\r\n            if (Log) Log.info(`[EventListenerManager.${this.name}] Destroyed`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Instance globale par d√©faut\r\n     */\r\n    const globalEventManager = new EventListenerManager('global');\r\n\r\n    /**\r\n     * API simplifi√©e pour l'instance globale\r\n     */\r\n    GeoLeaf.Utils.EventListenerManager = EventListenerManager;\r\n    GeoLeaf.Utils.events = {\r\n        /**\r\n         * addEventListener avec tracking global\r\n         */\r\n        on: (target, event, handler, options, label) =>\r\n            globalEventManager.addEventListener(target, event, handler, options, label),\r\n\r\n        /**\r\n         * Leaflet event listener avec tracking global\r\n         */\r\n        onLeaflet: (target, event, handler, label) =>\r\n            globalEventManager.addLeafletListener(target, event, handler, label),\r\n\r\n        /**\r\n         * Retire un listener par ID\r\n         */\r\n        off: (id) => globalEventManager.removeListener(id),\r\n\r\n        /**\r\n         * Retire tous les listeners d'une cible\r\n         */\r\n        offTarget: (target) => globalEventManager.removeListenersForTarget(target),\r\n\r\n        /**\r\n         * Retire tous les listeners globaux\r\n         */\r\n        offAll: () => globalEventManager.removeAll(),\r\n\r\n        /**\r\n         * Obtient le nombre de listeners actifs\r\n         */\r\n        getCount: () => globalEventManager.getCount(),\r\n\r\n        /**\r\n         * Liste les listeners actifs\r\n         */\r\n        listActive: () => globalEventManager.listActiveListeners(),\r\n\r\n        /**\r\n         * Cr√©e une nouvelle instance pour un composant\r\n         * @param {string} name - Nom du manager\r\n         * @returns {EventListenerManager}\r\n         */\r\n        createManager: (name) => new EventListenerManager(name)\r\n    };\r\n\r\n    // Cleanup automatique avant unload\r\n    if (typeof window !== 'undefined') {\r\n        window.addEventListener('beforeunload', () => {\r\n            const count = globalEventManager.getCount();\r\n            if (count > 0) {\r\n                if (Log) Log.warn(`[EventListenerManager] ${count} listener(s) still active at page unload`);\r\n                globalEventManager.removeAll();\r\n            }\r\n        });\r\n    }\r\n\r\n    if (Log) Log.info('[GeoLeaf.Utils.EventListenerManager] Module charg√©');\r\n\r\n})(typeof window !== 'undefined' ? window : global);\r\n","/**\r\n * @fileoverview TimerManager - Gestion centralis√©e des timers\r\n * Permet de tracker et nettoyer tous les setTimeout/setInterval\r\n * pour √©viter les fuites m√©moire\r\n *\r\n * @module GeoLeaf.Utils.TimerManager\r\n * @version 2.0.0\r\n * @author GeoLeaf Project\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    GeoLeaf.Utils = GeoLeaf.Utils || {};\r\n\r\n    const Log = GeoLeaf.Log;\r\n\r\n    /**\r\n     * TimerManager - Gestionnaire centralis√© de timers\r\n     * @class\r\n     */\r\n    class TimerManager {\r\n        constructor(name = 'default') {\r\n            this.name = name;\r\n            this.timers = new Map();\r\n            this.intervals = new Map();\r\n            this._nextId = 1;\r\n        }\r\n\r\n        /**\r\n         * Cr√©e un setTimeout avec tracking\r\n         * @param {Function} callback - Fonction √† ex√©cuter\r\n         * @param {number} delay - D√©lai en ms\r\n         * @param {string} [label] - Label optionnel pour debug\r\n         * @returns {number} ID du timer\r\n         */\r\n        setTimeout(callback, delay, label = '') {\r\n            const id = this._nextId++;\r\n            const timerId = setTimeout(() => {\r\n                try {\r\n                    callback();\r\n                } finally {\r\n                    // Auto-cleanup apr√®s ex√©cution\r\n                    this.timers.delete(id);\r\n                }\r\n            }, delay);\r\n\r\n            this.timers.set(id, {\r\n                timerId,\r\n                label,\r\n                type: 'timeout',\r\n                createdAt: Date.now(),\r\n                delay\r\n            });\r\n\r\n            if (Log) Log.debug(`[TimerManager.${this.name}] setTimeout created:`, id, label);\r\n            return id;\r\n        }\r\n\r\n        /**\r\n         * Cr√©e un setInterval avec tracking\r\n         * @param {Function} callback - Fonction √† ex√©cuter\r\n         * @param {number} interval - Intervalle en ms\r\n         * @param {string} [label] - Label optionnel pour debug\r\n         * @returns {number} ID de l'interval\r\n         */\r\n        setInterval(callback, interval, label = '') {\r\n            const id = this._nextId++;\r\n            const intervalId = setInterval(() => {\r\n                try {\r\n                    callback();\r\n                } catch (error) {\r\n                    if (Log) Log.error(`[TimerManager.${this.name}] Error in interval ${id}:`, error);\r\n                }\r\n            }, interval);\r\n\r\n            this.intervals.set(id, {\r\n                intervalId,\r\n                label,\r\n                type: 'interval',\r\n                createdAt: Date.now(),\r\n                interval\r\n            });\r\n\r\n            if (Log) Log.debug(`[TimerManager.${this.name}] setInterval created:`, id, label);\r\n            return id;\r\n        }\r\n\r\n        /**\r\n         * Clear un timer sp√©cifique\r\n         * @param {number} id - ID du timer\r\n         * @returns {boolean} True si le timer a √©t√© trouv√© et nettoy√©\r\n         */\r\n        clearTimeout(id) {\r\n            const timer = this.timers.get(id);\r\n            if (timer) {\r\n                clearTimeout(timer.timerId);\r\n                this.timers.delete(id);\r\n                if (Log) Log.debug(`[TimerManager.${this.name}] setTimeout cleared:`, id, timer.label);\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * Clear un interval sp√©cifique\r\n         * @param {number} id - ID de l'interval\r\n         * @returns {boolean} True si l'interval a √©t√© trouv√© et nettoy√©\r\n         */\r\n        clearInterval(id) {\r\n            const interval = this.intervals.get(id);\r\n            if (interval) {\r\n                clearInterval(interval.intervalId);\r\n                this.intervals.delete(id);\r\n                if (Log) Log.debug(`[TimerManager.${this.name}] setInterval cleared:`, id, interval.label);\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * Clear tous les timers et intervals\r\n         */\r\n        clearAll() {\r\n            // Clear tous les timeouts\r\n            for (const [id, timer] of this.timers.entries()) {\r\n                clearTimeout(timer.timerId);\r\n            }\r\n\r\n            // Clear tous les intervals\r\n            for (const [id, interval] of this.intervals.entries()) {\r\n                clearInterval(interval.intervalId);\r\n            }\r\n\r\n            const totalCleared = this.timers.size + this.intervals.size;\r\n            this.timers.clear();\r\n            this.intervals.clear();\r\n\r\n            if (Log && totalCleared > 0) {\r\n                Log.info(`[TimerManager.${this.name}] Cleared ${totalCleared} timer(s)`);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Obtient le nombre de timers actifs\r\n         * @returns {{timeouts: number, intervals: number, total: number}}\r\n         */\r\n        getStats() {\r\n            return {\r\n                timeouts: this.timers.size,\r\n                intervals: this.intervals.size,\r\n                total: this.timers.size + this.intervals.size\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Liste tous les timers actifs (pour debug)\r\n         * @returns {Array} Liste des timers avec leurs infos\r\n         */\r\n        listActiveTimers() {\r\n            const list = [];\r\n\r\n            for (const [id, timer] of this.timers.entries()) {\r\n                list.push({\r\n                    id,\r\n                    type: 'timeout',\r\n                    label: timer.label,\r\n                    age: Date.now() - timer.createdAt,\r\n                    delay: timer.delay\r\n                });\r\n            }\r\n\r\n            for (const [id, interval] of this.intervals.entries()) {\r\n                list.push({\r\n                    id,\r\n                    type: 'interval',\r\n                    label: interval.label,\r\n                    age: Date.now() - interval.createdAt,\r\n                    interval: interval.interval\r\n                });\r\n            }\r\n\r\n            return list;\r\n        }\r\n\r\n        /**\r\n         * D√©truit le manager et nettoie tous les timers\r\n         */\r\n        destroy() {\r\n            this.clearAll();\r\n            if (Log) Log.info(`[TimerManager.${this.name}] Destroyed`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Instance globale par d√©faut\r\n     */\r\n    const globalTimerManager = new TimerManager('global');\r\n\r\n    /**\r\n     * API simplifi√©e pour l'instance globale\r\n     */\r\n    GeoLeaf.Utils.TimerManager = TimerManager;\r\n    GeoLeaf.Utils.timers = {\r\n        /**\r\n         * setTimeout avec tracking global\r\n         */\r\n        setTimeout: (callback, delay, label) => globalTimerManager.setTimeout(callback, delay, label),\r\n\r\n        /**\r\n         * setInterval avec tracking global\r\n         */\r\n        setInterval: (callback, interval, label) => globalTimerManager.setInterval(callback, interval, label),\r\n\r\n        /**\r\n         * clearTimeout global\r\n         */\r\n        clearTimeout: (id) => globalTimerManager.clearTimeout(id),\r\n\r\n        /**\r\n         * clearInterval global\r\n         */\r\n        clearInterval: (id) => globalTimerManager.clearInterval(id),\r\n\r\n        /**\r\n         * Clear tous les timers globaux\r\n         */\r\n        clearAll: () => globalTimerManager.clearAll(),\r\n\r\n        /**\r\n         * Obtient les stats globales\r\n         */\r\n        getStats: () => globalTimerManager.getStats(),\r\n\r\n        /**\r\n         * Liste les timers actifs\r\n         */\r\n        listActive: () => globalTimerManager.listActiveTimers(),\r\n\r\n        /**\r\n         * Cr√©e une nouvelle instance de TimerManager pour un composant\r\n         * @param {string} name - Nom du manager\r\n         * @returns {TimerManager}\r\n         */\r\n        createManager: (name) => new TimerManager(name)\r\n    };\r\n\r\n    // Cleanup automatique avant unload de la page\r\n    if (typeof window !== 'undefined') {\r\n        window.addEventListener('beforeunload', () => {\r\n            const stats = globalTimerManager.getStats();\r\n            if (stats.total > 0) {\r\n                if (Log) Log.warn(`[TimerManager] ${stats.total} timer(s) still active at page unload`);\r\n                globalTimerManager.clearAll();\r\n            }\r\n        });\r\n    }\r\n\r\n    if (Log) Log.info('[GeoLeaf.Utils.TimerManager] Module charg√©');\r\n\r\n})(typeof window !== 'undefined' ? window : global);\r\n","/**\n * @fileoverview Scale utilities - compute map scale and test visibility ranges\n * @module utils/scale-utils\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n    GeoLeaf.Utils = GeoLeaf.Utils || {};\n\n    // Cache bas√© sur le zoom et la latitude pour √©viter des recalculs co√ªteux\n    const _scaleCache = {\n        zoom: null,\n        lat: null,\n        scale: null\n    };\n\n    /**\n     * Calcule l'√©chelle (1:X) de la carte pour le zoom et la latitude actuels.\n     * Retourne la valeur mise en cache si zoom/latitude inchang√©s.\n     * @param {L.Map} map\n     * @param {Object} [options]\n     * @param {boolean} [options.force=false] - Ignore le cache et recalcule\n     * @param {Object} [options.logger] - Logger optionnel pour debug\n     * @returns {number} √©chelle (ex: 5000000 pour 1:5M)\n     */\n    function calculateMapScale(map, options = {}) {\n        if (!map) return 0;\n\n        const logger = options.logger;\n        const center = map.getCenter?.();\n        const zoom = map.getZoom?.();\n\n        if (!center || typeof zoom !== \"number\") {\n            return 0;\n        }\n\n        // Utiliser le cache si possible\n        if (!options.force && _scaleCache.zoom === zoom && _scaleCache.lat === center.lat) {\n            return _scaleCache.scale || 0;\n        }\n\n        const METERS_PER_PIXEL_AT_ZOOM_0 = 156543.04;\n        const metersPerPixel = METERS_PER_PIXEL_AT_ZOOM_0 * Math.cos(center.lat * Math.PI / 180) / Math.pow(2, zoom);\n\n        const METERS_PER_INCH = 0.0254;\n        const DPI = 96;\n        const metersPerInch = metersPerPixel * DPI;\n\n        const scale = Math.round(metersPerInch / METERS_PER_INCH);\n\n        _scaleCache.zoom = zoom;\n        _scaleCache.lat = center.lat;\n        _scaleCache.scale = scale;\n\n        if (logger && typeof logger.debug === \"function\") {\n            logger.debug(`[ScaleUtils] Calcul √©chelle: zoom=${zoom}, lat=${center.lat.toFixed(2)}, √©chelle=1:${scale.toLocaleString()}`);\n        }\n\n        return scale;\n    }\n\n    /**\n     * V√©rifie si l'√©chelle courante est dans l'intervalle [maxScale ; minScale].\n     * @param {number} currentScale\n     * @param {number|null|undefined} minScale - √©chelle la plus large (d√©zoom)\n     * @param {number|null|undefined} maxScale - √©chelle la plus d√©taill√©e (zoom)\n     * @param {Object} [logger]\n     * @returns {boolean}\n     */\n    function isScaleInRange(currentScale, minScale, maxScale, logger) {\n        const normalizedMin = (typeof minScale === \"number\" && minScale > 0) ? minScale : null;\n        const normalizedMax = (typeof maxScale === \"number\" && maxScale > 0) ? maxScale : null;\n\n        if (normalizedMin !== null && currentScale > normalizedMin) {\n            if (logger && typeof logger.debug === \"function\") {\n                logger.debug(`[ScaleUtils] ${currentScale} > minScale ${normalizedMin} ‚Üí invisible (trop d√©zoom√©)`);\n            }\n            return false;\n        }\n\n        if (normalizedMax !== null && currentScale < normalizedMax) {\n            if (logger && typeof logger.debug === \"function\") {\n                logger.debug(`[ScaleUtils] ${currentScale} < maxScale ${normalizedMax} ‚Üí invisible (trop zoom√©)`);\n            }\n            return false;\n        }\n\n        if (logger && typeof logger.debug === \"function\") {\n            logger.debug(`[ScaleUtils] ${currentScale} dans [${normalizedMax ?? '‚àû'} ; ${normalizedMin ?? '‚àû'}] ‚Üí visible`);\n        }\n\n        return true;\n    }\n\n    function clearScaleCache() {\n        _scaleCache.zoom = null;\n        _scaleCache.lat = null;\n        _scaleCache.scale = null;\n    }\n\n    GeoLeaf.Utils.ScaleUtils = {\n        calculateMapScale,\n        isScaleInRange,\n        clearScaleCache\n    };\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * Style Resolver - Helper pour r√©soudre les couleurs depuis les styleRules des couches\n * Remplace l'ancien syst√®me category.style.json\n *\n * @module helpers/style-resolver\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    GeoLeaf.Helpers = GeoLeaf.Helpers || {};\n\n    /**\n     * R√©cup√®re les couleurs d'un POI depuis les styleRules de sa couche\n     * @param {Object} poi - POI avec properties.categoryId, properties.subCategoryId\n     * @param {string} layerId - ID de la couche du POI\n     * @returns {Object|null} - { fillColor, color } ou null si non trouv√©\n     */\n    function getColorsFromLayerStyle(poi, layerId) {\n        if (!poi || !layerId) return null;\n\n        // R√©cup√©rer les donn√©es de la couche\n        const layerData = GeoLeaf._GeoJSONShared?.state?.layers?.get(layerId);\n        if (!layerData) return null;\n\n        // R√©cup√©rer le currentStyle (objet charg√© en m√©moire)\n        const styleConfig = layerData.currentStyle;\n        if (!styleConfig || !styleConfig.styleRules) return null;\n\n        // Extraire categoryId et subCategoryId\n        const categoryId = poi.categoryId || poi.category ||\n            (poi.attributes && poi.attributes.categoryId) ||\n            (poi.properties && poi.properties.categoryId) ||\n            (poi.properties && poi.properties.category);\n\n        const subCategoryId = poi.subCategoryId || poi.subCategory || poi.sub_category ||\n            (poi.attributes && poi.attributes.subCategoryId) ||\n            (poi.properties && poi.properties.subCategoryId) ||\n            (poi.properties && poi.properties.sub_category);\n\n        // Chercher dans les styleRules\n        // Priorit√© 1 : subCategoryId\n        if (subCategoryId) {\n            const rule = styleConfig.styleRules.find(r =>\n                r.when &&\n                r.when.field === \"properties.subCategoryId\" &&\n                r.when.value === subCategoryId\n            );\n            if (rule && rule.style) {\n                return {\n                    fillColor: rule.style.fillColor,\n                    color: rule.style.color,\n                    colorFill: rule.style.fillColor,\n                    colorStroke: rule.style.color\n                };\n            }\n        }\n\n        // Priorit√© 2 : categoryId\n        if (categoryId) {\n            const rule = styleConfig.styleRules.find(r =>\n                r.when &&\n                r.when.field === \"properties.categoryId\" &&\n                r.when.value === categoryId\n            );\n            if (rule && rule.style) {\n                return {\n                    fillColor: rule.style.fillColor,\n                    color: rule.style.color,\n                    colorFill: rule.style.fillColor,\n                    colorStroke: rule.style.color\n                };\n            }\n        }\n\n        // Fallback : defaultStyle\n        if (styleConfig.defaultStyle) {\n            return {\n                fillColor: styleConfig.defaultStyle.fillColor,\n                color: styleConfig.defaultStyle.color,\n                colorFill: styleConfig.defaultStyle.fillColor,\n                colorStroke: styleConfig.defaultStyle.color\n            };\n        }\n\n        return null;\n    }\n\n    /**\n     * R√©cup√®re les couleurs en fonction du style actif de la couche\n     * Cette fonction remplace l'ancien getCategoryStyles()\n     * @param {Object} poi - POI avec _layerConfig\n     * @returns {Object} - { colorFill, colorStroke, colorRoute }\n     */\n    function resolvePoiColors(poi) {\n        const colors = {\n            colorFill: null,\n            colorStroke: null,\n            colorRoute: null\n        };\n\n        if (!poi || !poi._layerConfig) return colors;\n\n        const layerId = poi._layerConfig.id;\n        const styleColors = getColorsFromLayerStyle(poi, layerId);\n\n        if (styleColors) {\n            colors.colorFill = styleColors.fillColor || styleColors.colorFill;\n            colors.colorStroke = styleColors.color || styleColors.colorStroke;\n            colors.colorRoute = styleColors.color || styleColors.colorStroke;\n        }\n\n        return colors;\n    }\n\n    // Exposer dans l'espace de noms\n    GeoLeaf.Helpers.StyleResolver = {\n        getColorsFromLayerStyle: getColorsFromLayerStyle,\n        resolvePoiColors: resolvePoiColors\n    };\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * @fileoverview Validations des r√®gles de style (styleRules, conditions, scales)\n * Extrait de style-validator.js pour r√©duire la complexit√©\n * @module validators/style-validator-rules\n */\n\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n    GeoLeaf._StyleValidatorRules = GeoLeaf._StyleValidatorRules || {};\n\n    /**\n     * Valide les styleRules (r√®gles conditionnelles de style)\n     * V√©rifie la structure when/style de chaque r√®gle et valide les conditions\n     *\n     * @param {Array<Object>} rules - Tableau de r√®gles styleRules\n     * @param {Object} rules[].when - Condition d'application (simple ou compos√©e avec \"all\")\n     * @param {Object} rules[].style - Style √† appliquer si condition vraie\n     * @param {Object} [rules[].legend] - Info l√©gende optionnelle pour cette r√®gle\n     * @param {Array<Object>} errors - Tableau d'erreurs √† remplir (modifi√© in-place)\n     * @param {Array<Object>} warnings - Tableau d'avertissements √† remplir (modifi√© in-place)\n     * @param {Object} context - Contexte additionnel (profileId, layerId, etc.)\n     * @returns {void} Modifie errors/warnings directement\n     * @example\n     * const rules = [\n     *   { when: { field: 'population', operator: '>', value: 100000 }, style: { color: '#ff0000' } },\n     *   { when: { all: [{ field: 'type', operator: '==', value: 'city' }] }, style: { weight: 3 } }\n     * ];\n     * const errors = [], warnings = [];\n     * GeoLeaf._StyleValidatorRules.validateStyleRules(rules, errors, warnings, { layerId: 'cities' });\n     */\n    GeoLeaf._StyleValidatorRules.validateStyleRules = function (rules, errors, warnings, context) {\n        if (!Array.isArray(rules)) {\n            errors.push({\n                field: 'styleRules',\n                message: `styleRules doit √™tre un tableau`,\n                context: { received: typeof rules, ...context }\n            });\n            return;\n        }\n\n        rules.forEach((rule, index) => {\n            const ruleContext = { ...context, ruleIndex: index };\n\n            if (typeof rule !== 'object' || rule === null) {\n                errors.push({\n                    field: `styleRules[${index}]`,\n                    message: `La r√®gle doit √™tre un objet`,\n                    context: ruleContext\n                });\n                return;\n            }\n\n            // Validation when\n            if (!rule.when) {\n                errors.push({\n                    field: `styleRules[${index}].when`,\n                    message: `Le champ 'when' est requis`,\n                    context: ruleContext\n                });\n            } else {\n                GeoLeaf._StyleValidatorRules.validateWhenCondition(rule.when, index, errors, warnings, ruleContext);\n            }\n\n            // Validation style\n            if (!rule.style) {\n                errors.push({\n                    field: `styleRules[${index}].style`,\n                    message: `Le champ 'style' est requis`,\n                    context: ruleContext\n                });\n            } else if (typeof rule.style !== 'object' || rule.style === null) {\n                errors.push({\n                    field: `styleRules[${index}].style`,\n                    message: `Le style doit √™tre un objet`,\n                    context: { received: typeof rule.style, ...ruleContext }\n                });\n            }\n\n            // Validation legend (optionnel)\n            if (rule.legend && typeof rule.legend !== 'object') {\n                errors.push({\n                    field: `styleRules[${index}].legend`,\n                    message: `legend doit √™tre un objet`,\n                    context: { received: typeof rule.legend, ...ruleContext }\n                });\n            }\n        });\n    };\n\n    /**\n     * Valide la condition when d'une r√®gle\n     * Supporte conditions simples et compos√©es avec op√©rateur \"all\" (ET logique)\n     *\n     * @param {Object} when - Objet de condition when\n     * @param {string} [when.field] - Champ √† tester (mode simple)\n     * @param {string} [when.operator] - Op√©rateur de comparaison (mode simple)\n     * @param {*} [when.value] - Valeur de r√©f√©rence (mode simple)\n     * @param {Array<Object>} [when.all] - Tableau de conditions (mode compos√©, ET logique)\n     * @param {number} ruleIndex - Index de la r√®gle dans styleRules (pour messages d'erreur)\n     * @param {Array<Object>} errors - Tableau d'erreurs\n     * @param {Array<Object>} warnings - Tableau d'avertissements\n     * @param {Object} context - Contexte\n     * @returns {void}\n     * @example\n     * // Condition simple\n     * const when1 = { field: 'population', operator: '>', value: 50000 };\n     * // Condition compos√©e (AND)\n     * const when2 = { all: [\n     *   { field: 'type', operator: '==', value: 'restaurant' },\n     *   { field: 'rating', operator: '>=', value: 4 }\n     * ]};\n     */\n    GeoLeaf._StyleValidatorRules.validateWhenCondition = function (when, ruleIndex, errors, warnings, context) {\n        if (typeof when !== 'object' || when === null) {\n            errors.push({\n                field: `styleRules[${ruleIndex}].when`,\n                message: `when doit √™tre un objet`,\n                context: { received: typeof when, ...context }\n            });\n            return;\n        }\n\n        // Support pour conditions compos√©es avec \"all\"\n        if (when.all && Array.isArray(when.all)) {\n            // Valider chaque condition dans le tableau \"all\"\n            when.all.forEach((condition, condIndex) => {\n                GeoLeaf._StyleValidatorRules.validateSimpleCondition(condition, ruleIndex, condIndex, errors, context);\n            });\n            return;\n        }\n\n        // Support pour conditions simples\n        GeoLeaf._StyleValidatorRules.validateSimpleCondition(when, ruleIndex, null, errors, context);\n    };\n\n    /**\n     * Valide une condition simple (field/operator/value)\n     * V√©rifie la pr√©sence des champs requis et la validit√© de l'op√©rateur\n     *\n     * @param {Object} condition - Condition √† valider\n     * @param {string} condition.field - Nom du champ de feature √† tester (ex: 'properties.population')\n     * @param {string} condition.operator - Op√©rateur: '==', '!=', '<', '>', '<=', '>=', 'in', 'contains'\n     * @param {*} condition.value - Valeur de r√©f√©rence (string, number, array selon op√©rateur)\n     * @param {number} ruleIndex - Index de la r√®gle dans styleRules\n     * @param {number|null} condIndex - Index de la condition dans \"all\" (null si condition simple)\n     * @param {Array<Object>} errors - Tableau d'erreurs\n     * @param {Object} context - Contexte\n     * @returns {void}\n     * @example\n     * const condition = { field: 'properties.type', operator: 'in', value: ['hotel', 'restaurant'] };\n     * validateSimpleCondition(condition, 0, null, errors, {});\n     */\n    GeoLeaf._StyleValidatorRules.validateSimpleCondition = function (condition, ruleIndex, condIndex = null, errors, context) {\n        // Champs requis\n        const required = ['field', 'operator', 'value'];\n        for (const field of required) {\n            if (!(field in condition)) {\n                const prefix = condIndex !== null ? `styleRules[${ruleIndex}].when.all[${condIndex}]` : `styleRules[${ruleIndex}].when`;\n                errors.push({\n                    field: `${prefix}.${field}`,\n                    message: `Le champ '${field}' est requis dans la condition`,\n                    context\n                });\n            }\n        }\n\n        // Validation operator\n        const validOperators = ['==', '!=', '<', '>', '<=', '>=', 'in', 'contains'];\n        if (condition.operator && !validOperators.includes(condition.operator)) {\n            const prefix = condIndex !== null ? `styleRules[${ruleIndex}].when.all[${condIndex}]` : `styleRules[${ruleIndex}].when`;\n            errors.push({\n                field: `${prefix}.operator`,\n                message: `Op√©rateur invalide`,\n                context: { received: condition.operator, allowed: validOperators, ...context }\n            });\n        }\n\n        // Validation field\n        if (condition.field && typeof condition.field !== 'string') {\n            const prefix = condIndex !== null ? `styleRules[${ruleIndex}].when.all[${condIndex}]` : `styleRules[${ruleIndex}].when`;\n            errors.push({\n                field: `${prefix}.field`,\n                message: `field doit √™tre une cha√Æne de caract√®res`,\n                context: { received: typeof condition.field, ...context }\n            });\n        }\n    };\n\n    /**\n     * Valide les √©chelles (layerScale, labelScale)\n     * V√©rifie la structure des objets d'√©chelle et la validit√© des valeurs min/max\n     *\n     * @param {Object} styleData - Donn√©es du style\n     * @param {Object} [styleData.layerScale] - √âchelle de visibilit√© de la couche\n     * @param {number|null} [styleData.layerScale.minScale] - Zoom minimum (ou null = pas de limite)\n     * @param {number|null} [styleData.layerScale.maxScale] - Zoom maximum (ou null = pas de limite)\n     * @param {Object} [styleData.labelScale] - √âchelle de visibilit√© des labels\n     * @param {Array<Object>} errors - Tableau d'erreurs\n     * @param {Array<Object>} warnings - Tableau d'avertissements\n     * @param {Object} context - Contexte\n     * @returns {void}\n     * @example\n     * const styleData = {\n     *   layerScale: { minScale: 10, maxScale: 18 },  // Visible du zoom 10 √† 18\n     *   labelScale: { minScale: 14, maxScale: null }  // Labels visibles √† partir du zoom 14\n     * };\n     */\n    GeoLeaf._StyleValidatorRules.validateScales = function (styleData, errors, warnings, context) {\n        ['layerScale', 'labelScale'].forEach(scaleField => {\n            const isRequired = scaleField === 'layerScale';\n\n            if (!styleData[scaleField]) {\n                if (isRequired) {\n                    errors.push({\n                        field: scaleField,\n                        message: `${scaleField} est requis`,\n                        context\n                    });\n                }\n                return;\n            }\n\n            const scale = styleData[scaleField];\n            if (typeof scale !== 'object' || scale === null) {\n                errors.push({\n                    field: scaleField,\n                    message: `${scaleField} doit √™tre un objet`,\n                    context: { received: typeof scale, ...context }\n                });\n                return;\n            }\n\n            ['minScale', 'maxScale'].forEach(prop => {\n                if (!(prop in scale)) {\n                    if (isRequired) {\n                        errors.push({\n                            field: `${scaleField}.${prop}`,\n                            message: `${prop} est requis dans ${scaleField}`,\n                            context\n                        });\n                    }\n                    return;\n                }\n\n                if (scale[prop] !== null) {\n                    if (typeof scale[prop] !== 'number' || scale[prop] < 0) {\n                        errors.push({\n                            field: `${scaleField}.${prop}`,\n                            message: `${prop} doit √™tre un nombre >= 0 ou null`,\n                            context: { received: scale[prop], ...context }\n                        });\n                    }\n                }\n            });\n        });\n    };\n\n    /**\n     * Valide la configuration legend\n     * V√©rifie la structure et les types des propri√©t√©s de l√©gende\n     *\n     * @param {Object} legend - Configuration legend\n     * @param {number} [legend.order] - Ordre d'affichage dans la l√©gende (doit √™tre entier)\n     * @param {string} [legend.label] - Label √† afficher dans la l√©gende\n     * @param {string} [legend.description] - Description compl√©mentaire\n     * @param {Array<Object>} errors - Tableau d'erreurs\n     * @param {Array<Object>} warnings - Tableau d'avertissements\n     * @param {Object} context - Contexte\n     * @returns {void}\n     * @example\n     * const legend = { order: 1, label: 'Grandes villes', description: 'Population > 100k' };\n     */\n    GeoLeaf._StyleValidatorRules.validateLegend = function (legend, errors, warnings, context) {\n        if (typeof legend !== 'object' || legend === null) {\n            errors.push({\n                field: 'legend',\n                message: `legend doit √™tre un objet`,\n                context: { received: typeof legend, ...context }\n            });\n            return;\n        }\n\n        if ('order' in legend && !Number.isInteger(legend.order)) {\n            errors.push({\n                field: 'legend.order',\n                message: `order doit √™tre un entier`,\n                context: { received: legend.order, type: typeof legend.order, ...context }\n            });\n        }\n    };\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * @fileoverview Validateur de fichiers de style GeoLeaf\n * Valide les fichiers style.json contre le sch√©ma JSON d√©fini\n * et g√©n√®re des erreurs d√©taill√©es avec contexte pour faciliter le debugging\n * @module validators/style-validator\n */\n\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n\n// Import du sch√©ma (sera charg√© dynamiquement si n√©cessaire)\n// const styleSchema = require('../../../../schema/style.schema.json');\n\n/**\n * Classe d'erreur pour les validations de style\n */\nclass StyleValidationError extends Error {\n    constructor(message, context = {}) {\n        super(message);\n        this.name = 'StyleValidationError';\n        this.context = context;\n    }\n}\n\n/**\n * Valide un objet de style contre le sch√©ma JSON\n * @param {Object} styleData - Donn√©es du style √† valider\n * @param {Object} context - Contexte additionnel (profileId, layerId, styleId)\n * @returns {Object} R√©sultat de validation { valid: boolean, errors: Array, warnings: Array }\n */\nfunction validateStyle(styleData, context = {}) {\n    const errors = [];\n    const warnings = [];\n\n    try {\n        // Validation de base: objet requis\n        if (!styleData || typeof styleData !== 'object') {\n            errors.push({\n                field: 'root',\n                message: 'Le style doit √™tre un objet JSON valide',\n                context: { received: typeof styleData, ...context }\n            });\n            return { valid: false, errors, warnings };\n        }\n\n        // Validation des champs requis\n        validateRequiredFields(styleData, errors, context);\n\n        // Validation du format de l'ID\n        validateId(styleData, errors, context);\n\n        // Validation du champ label (string ou objet)\n        validateLabel(styleData, errors, warnings, context);\n\n        // Validation du style de base\n        validateBaseStyle(styleData, errors, warnings, context);\n\n        // Validation des styleRules si pr√©sentes\n        if (styleData.styleRules) {\n            validateStyleRules(styleData.styleRules, errors, warnings, context);\n        }\n\n        // Validation des √©chelles\n        validateScales(styleData, errors, warnings, context);\n\n        // Validation de la l√©gende\n        if (styleData.legend) {\n            validateLegend(styleData.legend, errors, warnings, context);\n        }\n\n    } catch (error) {\n        errors.push({\n            field: 'validation',\n            message: `Erreur inattendue lors de la validation: ${error.message}`,\n            stack: error.stack,\n            context\n        });\n    }\n\n    return {\n        valid: errors.length === 0,\n        errors,\n        warnings\n    };\n}\n\n/**\n * Valide les champs requis\n */\nfunction validateRequiredFields(styleData, errors, context) {\n    // V√©rifier l'ID (obligatoire)\n    if (!('id' in styleData) || styleData.id === undefined || styleData.id === null) {\n        errors.push({\n            field: 'id',\n            message: `Le champ requis 'id' est manquant`,\n            context: { availableFields: Object.keys(styleData), ...context }\n        });\n    }\n\n    // V√©rifier que 'style' OU 'defaultStyle' est pr√©sent (au moins un des deux)\n    const hasStyle = ('style' in styleData) && styleData.style !== undefined && styleData.style !== null;\n    const hasDefaultStyle = ('defaultStyle' in styleData) && styleData.defaultStyle !== undefined && styleData.defaultStyle !== null;\n\n    if (!hasStyle && !hasDefaultStyle) {\n        errors.push({\n            field: 'style',\n            message: `Le champ requis 'style' ou 'defaultStyle' est manquant`,\n            context: { availableFields: Object.keys(styleData), ...context }\n        });\n    }\n\n    if (!('layerScale' in styleData)) {\n        errors.push({\n            field: 'layerScale',\n            message: `Le champ requis 'layerScale' est manquant`,\n            context: { availableFields: Object.keys(styleData), ...context }\n        });\n    }\n}\n\n/**\n * Valide le format de l'ID\n */\nfunction validateId(styleData, errors, context) {\n    if (!styleData.id) return;\n\n    // Pattern acceptant lettres (y compris accentu√©es), chiffres, tirets et underscores\n    // \\p{L} = toutes les lettres Unicode (y compris √©, √†, √±, etc.)\n    const idPattern = /^[\\p{L}0-9_-]+$/u;\n    if (typeof styleData.id !== 'string') {\n        errors.push({\n            field: 'id',\n            message: `L'ID doit √™tre une cha√Æne de caract√®res`,\n            context: { received: typeof styleData.id, value: styleData.id, ...context }\n        });\n    } else if (!idPattern.test(styleData.id)) {\n        errors.push({\n            field: 'id',\n            message: `L'ID doit contenir uniquement des lettres, chiffres, tirets et underscores`,\n            context: { received: styleData.id, pattern: idPattern.toString(), ...context }\n        });\n    }\n}\n\n/**\n * Valide le champ label (peut √™tre string ou objet de config label)\n */\nfunction validateLabel(styleData, errors, warnings, context) {\n    if (!('label' in styleData)) return;\n\n    const label = styleData.label;\n\n    // String: nom d'affichage\n    if (typeof label === 'string') {\n        return;\n    }\n\n    // Objet: configuration de labels int√©gr√©s\n    if (typeof label === 'object' && label !== null) {\n        // enabled est requis\n        if (!('enabled' in label)) {\n            errors.push({\n                field: 'label.enabled',\n                message: `Le champ 'enabled' est requis dans la configuration de labels`,\n                context: { labelConfig: label, ...context }\n            });\n        } else if (typeof label.enabled !== 'boolean') {\n            errors.push({\n                field: 'label.enabled',\n                message: `Le champ 'enabled' doit √™tre un bool√©en`,\n                context: { received: typeof label.enabled, value: label.enabled, ...context }\n            });\n        }\n\n        // Si enabled, field devrait √™tre pr√©sent\n        if (label.enabled && !label.field) {\n            warnings.push({\n                field: 'label.field',\n                message: `Les labels sont activ√©s mais aucun champ n'est sp√©cifi√©`,\n                context: { labelConfig: label, ...context }\n            });\n        }\n\n        // Validation font\n        if (label.font) {\n            validateFont(label.font, errors, warnings, context);\n        }\n\n        // Validation des couleurs\n        if (label.color && !isValidHexColor(label.color)) {\n            errors.push({\n                field: 'label.color',\n                message: `Couleur invalide, format attendu: #RRGGBB`,\n                context: { received: label.color, ...context }\n            });\n        }\n\n        // Validation opacity\n        if ('opacity' in label && (typeof label.opacity !== 'number' || label.opacity < 0 || label.opacity > 1)) {\n            errors.push({\n                field: 'label.opacity',\n                message: `L'opacit√© doit √™tre un nombre entre 0 et 1`,\n                context: { received: label.opacity, ...context }\n            });\n        }\n\n        // Validation buffer\n        if (label.buffer) {\n            validateLabelComponent(label.buffer, 'label.buffer', errors, warnings, context);\n        }\n\n        // Validation background\n        if (label.background) {\n            validateLabelComponent(label.background, 'label.background', errors, warnings, context);\n        }\n\n        // Validation offset\n        if (label.offset && typeof label.offset.distancePx !== 'undefined') {\n            if (typeof label.offset.distancePx !== 'number') {\n                errors.push({\n                    field: 'label.offset.distancePx',\n                    message: `distancePx doit √™tre un nombre`,\n                    context: { received: typeof label.offset.distancePx, ...context }\n                });\n            }\n        }\n\n        return;\n    }\n\n    // Type invalide\n    errors.push({\n        field: 'label',\n        message: `Le champ 'label' doit √™tre une cha√Æne de caract√®res ou un objet de configuration`,\n        context: { received: typeof label, value: label, ...context }\n    });\n}\n\n/**\n * Valide la configuration font\n */\nfunction validateFont(font, errors, warnings, context) {\n    if (typeof font !== 'object' || font === null) {\n        errors.push({\n            field: 'label.font',\n            message: `La configuration font doit √™tre un objet`,\n            context: { received: typeof font, ...context }\n        });\n        return;\n    }\n\n    if (font.sizePt !== undefined) {\n        if (typeof font.sizePt !== 'number' || font.sizePt < 1) {\n            errors.push({\n                field: 'label.font.sizePt',\n                message: `sizePt doit √™tre un nombre >= 1`,\n                context: { received: font.sizePt, ...context }\n            });\n        }\n    }\n\n    if (font.weight !== undefined) {\n        if (!Number.isInteger(font.weight) || font.weight < 0 || font.weight > 100) {\n            errors.push({\n                field: 'label.font.weight',\n                message: `weight doit √™tre un entier entre 0 et 100`,\n                context: { received: font.weight, ...context }\n            });\n        }\n    }\n}\n\n/**\n * Valide un composant de label (buffer, background)\n */\nfunction validateLabelComponent(component, fieldPath, errors, warnings, context) {\n    if (typeof component !== 'object' || component === null) {\n        errors.push({\n            field: fieldPath,\n            message: `${fieldPath} doit √™tre un objet`,\n            context: { received: typeof component, ...context }\n        });\n        return;\n    }\n\n    if (component.color && !isValidHexColor(component.color)) {\n        errors.push({\n            field: `${fieldPath}.color`,\n            message: `Couleur invalide, format attendu: #RRGGBB`,\n            context: { received: component.color, ...context }\n        });\n    }\n\n    if ('opacity' in component && (typeof component.opacity !== 'number' || component.opacity < 0 || component.opacity > 1)) {\n        errors.push({\n            field: `${fieldPath}.opacity`,\n            message: `L'opacit√© doit √™tre un nombre entre 0 et 1`,\n            context: { received: component.opacity, ...context }\n        });\n    }\n\n    if ('sizePx' in component && (typeof component.sizePx !== 'number' || component.sizePx < 0)) {\n        errors.push({\n            field: `${fieldPath}.sizePx`,\n            message: `sizePx doit √™tre un nombre >= 0`,\n            context: { received: component.sizePx, ...context }\n        });\n    }\n}\n\n/**\n * Valide le style de base\n */\nfunction validateBaseStyle(styleData, errors, warnings, context) {\n    const style = styleData.style || styleData.defaultStyle;\n\n    if (!style) return;\n\n    if (typeof style !== 'object' || style === null) {\n        errors.push({\n            field: 'style',\n            message: `Le style doit √™tre un objet`,\n            context: { received: typeof style, ...context }\n        });\n        return;\n    }\n\n    // Validation des couleurs\n    ['fillColor', 'color'].forEach(colorField => {\n        if (style[colorField] && !isValidHexColor(style[colorField])) {\n            errors.push({\n                field: `style.${colorField}`,\n                message: `Couleur invalide, format attendu: #RRGGBB`,\n                context: { received: style[colorField], ...context }\n            });\n        }\n    });\n\n    // Validation des opacit√©s\n    ['fillOpacity', 'opacity'].forEach(opacityField => {\n        if (opacityField in style) {\n            if (typeof style[opacityField] !== 'number' || style[opacityField] < 0 || style[opacityField] > 1) {\n                errors.push({\n                    field: `style.${opacityField}`,\n                    message: `${opacityField} doit √™tre un nombre entre 0 et 1`,\n                    context: { received: style[opacityField], ...context }\n                });\n            }\n        }\n    });\n\n    // Validation des tailles\n    ['weight', 'sizePx', 'radius'].forEach(sizeField => {\n        if (sizeField in style) {\n            if (typeof style[sizeField] !== 'number' || style[sizeField] < 0) {\n                errors.push({\n                    field: `style.${sizeField}`,\n                    message: `${sizeField} doit √™tre un nombre >= 0`,\n                    context: { received: style[sizeField], ...context }\n                });\n            }\n        }\n    });\n\n    // Validation shape (points)\n    if (style.shape && !['circle', 'square'].includes(style.shape)) {\n        errors.push({\n            field: 'style.shape',\n            message: `shape doit √™tre 'circle' ou 'square'`,\n            context: { received: style.shape, allowed: ['circle', 'square'], ...context }\n        });\n    }\n\n    // Validation stroke (lignes)\n    if (style.stroke) {\n        validateStroke(style.stroke, errors, warnings, context);\n    }\n\n    // Validation casing (lignes)\n    if (style.casing) {\n        validateCasing(style.casing, errors, warnings, context);\n    }\n\n    // Validation fillPattern (polygones)\n    if (style.fillPattern) {\n        validateFillPattern(style.fillPattern, errors, warnings, context);\n    }\n}\n\n/**\n * Valide le stroke (lignes)\n */\nfunction validateStroke(stroke, errors, warnings, context) {\n    if (typeof stroke !== 'object' || stroke === null) {\n        errors.push({\n            field: 'style.stroke',\n            message: `stroke doit √™tre un objet`,\n            context: { received: typeof stroke, ...context }\n        });\n        return;\n    }\n\n    if (stroke.color && !isValidHexColor(stroke.color)) {\n        errors.push({\n            field: 'style.stroke.color',\n            message: `Couleur invalide, format attendu: #RRGGBB`,\n            context: { received: stroke.color, ...context }\n        });\n    }\n\n    if ('opacity' in stroke && (typeof stroke.opacity !== 'number' || stroke.opacity < 0 || stroke.opacity > 1)) {\n        errors.push({\n            field: 'style.stroke.opacity',\n            message: `opacity doit √™tre un nombre entre 0 et 1`,\n            context: { received: stroke.opacity, ...context }\n        });\n    }\n\n    if ('weight' in stroke && (typeof stroke.weight !== 'number' || stroke.weight < 0)) {\n        errors.push({\n            field: 'style.stroke.weight',\n            message: `weight doit √™tre un nombre >= 0`,\n            context: { received: stroke.weight, ...context }\n        });\n    }\n\n    if (stroke.dashArray !== null && stroke.dashArray !== undefined && typeof stroke.dashArray !== 'string') {\n        errors.push({\n            field: 'style.stroke.dashArray',\n            message: `dashArray doit √™tre une cha√Æne de caract√®res ou null`,\n            context: { received: typeof stroke.dashArray, value: stroke.dashArray, ...context }\n        });\n    }\n}\n\n/**\n * Valide le casing (lignes)\n */\nfunction validateCasing(casing, errors, warnings, context) {\n    if (typeof casing !== 'object' || casing === null) {\n        errors.push({\n            field: 'style.casing',\n            message: `casing doit √™tre un objet`,\n            context: { received: typeof casing, ...context }\n        });\n        return;\n    }\n\n    if ('enabled' in casing && typeof casing.enabled !== 'boolean') {\n        errors.push({\n            field: 'style.casing.enabled',\n            message: `enabled doit √™tre un bool√©en`,\n            context: { received: typeof casing.enabled, ...context }\n        });\n    }\n\n    if (casing.color && !isValidHexColor(casing.color)) {\n        errors.push({\n            field: 'style.casing.color',\n            message: `Couleur invalide, format attendu: #RRGGBB`,\n            context: { received: casing.color, ...context }\n        });\n    }\n}\n\n/**\n * Valide le fillPattern (polygones)\n */\nfunction validateFillPattern(pattern, errors, warnings, context) {\n    if (typeof pattern !== 'object' || pattern === null) {\n        errors.push({\n            field: 'style.fillPattern',\n            message: `fillPattern doit √™tre un objet`,\n            context: { received: typeof pattern, ...context }\n        });\n        return;\n    }\n\n    if ('enabled' in pattern && typeof pattern.enabled !== 'boolean') {\n        errors.push({\n            field: 'style.fillPattern.enabled',\n            message: `enabled doit √™tre un bool√©en`,\n            context: { received: typeof pattern.enabled, ...context }\n        });\n    }\n\n    if (pattern.type && !['diagonal', 'horizontal', 'vertical', 'cross', 'x'].includes(pattern.type)) {\n        errors.push({\n            field: 'style.fillPattern.type',\n            message: `type doit √™tre parmi: diagonal, horizontal, vertical, cross, x`,\n            context: { received: pattern.type, allowed: ['diagonal', 'horizontal', 'vertical', 'cross', 'x'], ...context }\n        });\n    }\n\n    if (pattern.color && !isValidHexColor(pattern.color)) {\n        errors.push({\n            field: 'style.fillPattern.color',\n            message: `Couleur invalide, format attendu: #RRGGBB`,\n            context: { received: pattern.color, ...context }\n        });\n    }\n\n    ['weight', 'density'].forEach(field => {\n        if (field in pattern && (typeof pattern[field] !== 'number' || pattern[field] < 0)) {\n            errors.push({\n                field: `style.fillPattern.${field}`,\n                message: `${field} doit √™tre un nombre >= 0`,\n                context: { received: pattern[field], ...context }\n            });\n        }\n    });\n}\n\n/**\n * Valide les styleRules\n */\n/**\n * @deprecated Utiliser GeoLeaf._StyleValidatorRules.validateStyleRules()\n */\nfunction validateStyleRules(rules, errors, warnings, context) {\n    return GeoLeaf._StyleValidatorRules.validateStyleRules(rules, errors, warnings, context);\n}\n\n/**\n * @deprecated Utiliser GeoLeaf._StyleValidatorRules.validateWhenCondition()\n */\nfunction validateWhenCondition(when, ruleIndex, errors, warnings, context) {\n    return GeoLeaf._StyleValidatorRules.validateWhenCondition(when, ruleIndex, errors, warnings, context);\n}\n\n/**\n * @deprecated Utiliser GeoLeaf._StyleValidatorRules.validateSimpleCondition()\n */\nfunction validateSimpleCondition(condition, ruleIndex, condIndex = null, errors, context) {\n    return GeoLeaf._StyleValidatorRules.validateSimpleCondition(condition, ruleIndex, condIndex, errors, context);\n}\n\n/**\n * @deprecated Utiliser GeoLeaf._StyleValidatorRules.validateScales()\n */\nfunction validateScales(styleData, errors, warnings, context) {\n    return GeoLeaf._StyleValidatorRules.validateScales(styleData, errors, warnings, context);\n}\n\n/**\n * @deprecated Utiliser GeoLeaf._StyleValidatorRules.validateLegend()\n */\nfunction validateLegend(legend, errors, warnings, context) {\n    return GeoLeaf._StyleValidatorRules.validateLegend(legend, errors, warnings, context);\n}\n\n/**\n * V√©rifie si une couleur est au format hex valide (#RRGGBB)\n */\nfunction isValidHexColor(color) {\n    return typeof color === 'string' && /^#[0-9A-Fa-f]{6}$/.test(color);\n}\n\n/**\n * Formate un r√©sultat de validation en message d'erreur lisible\n * @param {Object} validationResult - R√©sultat de validateStyle()\n * @param {string} styleFilePath - Chemin du fichier de style (optionnel)\n * @returns {string} Message format√©\n */\nfunction formatValidationErrors(validationResult, styleFilePath = '') {\n    if (validationResult.valid) {\n        return null;\n    }\n\n    const lines = [];\n    lines.push('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');\n    lines.push('‚ùå ERREUR DE VALIDATION DE STYLE GEOLEAF');\n    lines.push('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');\n\n    if (styleFilePath) {\n        lines.push(`Fichier: ${styleFilePath}`);\n        lines.push('');\n    }\n\n    if (validationResult.errors.length > 0) {\n        lines.push(`‚ùå ${validationResult.errors.length} erreur(s) d√©tect√©e(s):`);\n        lines.push('');\n\n        validationResult.errors.forEach((error, index) => {\n            lines.push(`  ${index + 1}. Champ: ${error.field}`);\n            lines.push(`     Message: ${error.message}`);\n            if (error.context) {\n                lines.push(`     Contexte: ${JSON.stringify(error.context, null, 2).split('\\n').join('\\n     ')}`);\n            }\n            if (error.stack) {\n                lines.push(`     Stack: ${error.stack.split('\\n').slice(0, 3).join('\\n     ')}`);\n            }\n            lines.push('');\n        });\n    }\n\n    if (validationResult.warnings.length > 0) {\n        lines.push(`‚ö†Ô∏è  ${validationResult.warnings.length} avertissement(s):`);\n        lines.push('');\n\n        validationResult.warnings.forEach((warning, index) => {\n            lines.push(`  ${index + 1}. Champ: ${warning.field}`);\n            lines.push(`     Message: ${warning.message}`);\n            if (warning.context) {\n                lines.push(`     Contexte: ${JSON.stringify(warning.context, null, 2).split('\\n').join('\\n     ')}`);\n            }\n            lines.push('');\n        });\n    }\n\n    lines.push('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');\n    lines.push('üí° Conseil: V√©rifiez la documentation dans docs/STYLE_FORMAT_SPEC.md');\n    lines.push('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');\n\n    return lines.join('\\n');\n}\n\n/**\n * Module Style Validator\n * Expose les fonctions publiques\n */\nconst StyleValidator = {\n    validateStyle,\n    formatValidationErrors,\n    StyleValidationError\n};\n\n// Exposer le module\nGeoLeaf._StyleValidator = StyleValidator;\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n    // Instance unique de la carte Leaflet g√©r√©e par GeoLeaf.Core\n    let _mapInstance = null;\n\n    // ---------------------------------------------------------\n    // Namespace global\n    // ---------------------------------------------------------\n    const root = (typeof globalThis !== \"undefined\" ? globalThis : window);\n    root.GeoLeaf = root.GeoLeaf || {};\n    root.GeoLeaf.Core = root.GeoLeaf.Core || {};\n\n    // ---------------------------------------------------------\n    // Logger unifi√© (d√©fini par geoleaf.logger-shim.js charg√© en premier)\n    // ---------------------------------------------------------\n    const Log = root.GeoLeaf.Log;\n\n    // ---------------------------------------------------------\n    // Module interne\n    // ---------------------------------------------------------\n    const Core = (function () {\n\n        let _map = null;\n        let _theme = \"light\";\n\n        // -----------------------------------------------------\n        // Normalisation des options d'initialisation\n        // -----------------------------------------------------\n        // eslint-disable-next-line no-unused-vars\n        function _normalizeOptions(options) {\n            if (!options || typeof options !== \"object\") {\n                throw new Error(\"[GeoLeaf.Core] init() requiert un objet d‚Äôoptions.\");\n            }\n\n            // Obligatoires\n            if (!options.target) {\n                throw new Error(\"[GeoLeaf.Core] L‚Äôoption 'target' est obligatoire.\");\n            }\n\n            if (!options.center || !Array.isArray(options.center) || options.center.length !== 2) {\n                throw new Error(\"[GeoLeaf.Core] L‚Äôoption 'center' doit √™tre un tableau [lat, lng].\");\n            }\n\n            if (typeof options.zoom !== \"number\") {\n                throw new Error(\"[GeoLeaf.Core] L‚Äôoption 'zoom' doit √™tre un nombre.\");\n            }\n\n            // Optionnels\n            return {\n                target: String(options.target),\n                center: options.center,\n                zoom: options.zoom,\n                theme: options.theme || \"light\",\n                mapOptions: options.mapOptions || {} // Options brutes Leaflet (optionnel)\n            };\n        }\n\n        // -----------------------------------------------------\n        // Gestion d‚Äôerreurs uniforme\n        // -----------------------------------------------------\n        function init(options = {}) {\n            const context = \"[GeoLeaf.Core]\";\n\n            try {\n                // V√©rification Leaflet\n                if (typeof L === \"undefined\") {\n                    throw new Error(\"Leaflet (L) est introuvable. Assurez-vous d‚Äôavoir charg√© Leaflet 1.9.x.\");\n                }\n\n                // V√©rification des options obligatoires\n                if (!options.mapId) {\n                    throw new Error(\"L‚Äôoption obligatoire 'mapId' est manquante.\");\n                }\n                const targetEl = document.getElementById(options.mapId);\n                if (!targetEl) {\n                    throw new Error(`Aucun √©l√©ment DOM trouv√© pour mapId='${options.mapId}'.`);\n                }\n\n                // Valeurs par d√©faut + normalisation\n                const center = Array.isArray(options.center) ? options.center : GeoLeaf.CONSTANTS.DEFAULT_CENTER;\n                const zoom = Number.isFinite(options.zoom) ? options.zoom : GeoLeaf.CONSTANTS.DEFAULT_ZOOM;\n                const theme = options.theme || \"light\";\n\n                // Cr√©ation ou r√©cup√©ration de la carte\n                if (_mapInstance) {\n                    Log.warn(`${context} Carte d√©j√† initialis√©e. Recyclage de l‚Äôinstance existante.`);\n                    return _mapInstance;\n                }\n\n                // Options Leaflet : on permet mapOptions, mais on force zoomControl √† true par d√©faut\n                const leafletMapOptions = Object.assign({}, options.mapOptions || {}, {\n                    center,\n                    zoom\n                });\n\n                if (typeof leafletMapOptions.zoomControl === \"undefined\") {\n                    leafletMapOptions.zoomControl = true;            // ‚úÖ boutons de zoom activ√©s par d√©faut\n                }\n                if (typeof leafletMapOptions.attributionControl === \"undefined\") {\n                    leafletMapOptions.attributionControl = false;    // tu gardes ton UI sans attribution Leaflet\n                }\n                if (typeof leafletMapOptions.zoomSnap === \"undefined\") {\n                    leafletMapOptions.zoomSnap = 0;                  // ‚úÖ D√©sactive le snapping = zoom totalement libre\n                }\n                if (typeof leafletMapOptions.zoomDelta === \"undefined\") {\n                    leafletMapOptions.zoomDelta = 0.25;              // ‚úÖ Incr√©ments de zoom pour les boutons +/-\n                }\n                if (typeof leafletMapOptions.wheelPxPerZoomLevel === \"undefined\") {\n                    leafletMapOptions.wheelPxPerZoomLevel = 120;     // ‚úÖ Sensibilit√© de la molette\n                }\n\n                _mapInstance = L.map(targetEl, leafletMapOptions);\n                _map = _mapInstance; // ‚úÖ Synchronisation de la variable locale\n\n                // Application du th√®me\n                try {\n                    if (global.GeoLeaf && global.GeoLeaf.UI && typeof global.GeoLeaf.UI.applyTheme === \"function\") {\n                        global.GeoLeaf.UI.applyTheme(theme);\n                    }\n                } catch (themeError) {\n                    Log.warn(`${context} Impossible d'appliquer le th√®me :`, themeError);\n                }\n\n                // Initialisation du module Legend si disponible et activ√©\n                const uiConfig = global.GeoLeaf.Config && global.GeoLeaf.Config.get ? global.GeoLeaf.Config.get('ui') : null;\n                const showLegend = uiConfig ? (uiConfig.showLegend !== false) : true;\n\n                if (showLegend && global.GeoLeaf && global.GeoLeaf.Legend && typeof global.GeoLeaf.Legend.init === \"function\") {\n                    try {\n                        global.GeoLeaf.Legend.init(_mapInstance, {\n                            position: \"bottomleft\",\n                            collapsible: true,\n                            collapsed: false\n                        });\n                    } catch (legendError) {\n                        Log.warn(`${context} Impossible d'initialiser Legend :`, legendError);\n                    }\n                }\n\n                Log.info(`${context} Carte initialis√©e avec succ√®s.`);\n                return _mapInstance;\n\n            } catch (err) {\n                Log.error(`${context} ERREUR :`, err.message);\n\n                // Callback global utilisateur\n                if (typeof global.GeoLeaf?.Core?.onError === \"function\") {\n                    try {\n                        global.GeoLeaf.Core.onError(err);\n                    } catch (cbErr) {\n                        Log.error(`${context} Erreur dans Core.onError() :`, cbErr);\n                    }\n                }\n\n                // ‚úÖ S'assurer que les variables sont coh√©rentes en cas d'erreur\n                _mapInstance = null;\n                _map = null;\n\n                return null;\n            }\n        }\n\n        // -----------------------------------------------------\n        // Compatibilit√© descendante : initMap\n        // -----------------------------------------------------\n        function initMap(a, b, c, d) {\n            Log.warn(\"[GeoLeaf.Core] GeoLeaf.Core.initMap() est obsol√®te, utilisez GeoLeaf.Core.init().\");\n\n            let options = null;\n\n            if (root.GeoLeaf && root.GeoLeaf.Config && typeof root.GeoLeaf.Config.get === \"function\") {\n                try {\n                    const mapCfg = root.GeoLeaf.Config.get(\"map\") || {};\n                    const uiCfg = root.GeoLeaf.Config.get(\"ui\") || {};\n\n                    options = {\n                        target: mapCfg.target || \"geoleaf-map\",\n                        center: mapCfg.center || GeoLeaf.CONSTANTS.DEFAULT_CENTER,\n                        zoom: (typeof mapCfg.zoom === \"number\" ? mapCfg.zoom : GeoLeaf.CONSTANTS.DEFAULT_ZOOM),\n                        theme: uiCfg.theme || \"light\",\n                        mapOptions: mapCfg.mapOptions || {}\n                    };\n\n                    return init(options);\n                } catch (err) {\n                    Log.error(\"[GeoLeaf.Core] initMap() n‚Äôa pas pu construire les options √† partir de GeoLeaf.Config :\", err);\n                    // on continue vers les heuristiques d‚Äôarguments\n                }\n            }\n\n            // Cas objet unique : initMap({ target, center, zoom, theme })\n            if (a && typeof a === \"object\" && !Array.isArray(a)) {\n                return init(a);\n            }\n\n            // Cas ancienne signature : initMap(target, center, zoom, theme?)\n            if (typeof a === \"string\" && Array.isArray(b) && typeof c === \"number\") {\n                const legacyOptions = {\n                    target: a,\n                    center: b,\n                    zoom: c,\n                    theme: d || \"light\"\n                };\n                return init(legacyOptions);\n            }\n\n            Log.error(\"[GeoLeaf.Core] initMap() appel√© avec une signature obsol√®te ou invalide. Utilisez GeoLeaf.Core.init({ target, center, zoom, theme }).\");\n            return null;\n        }\n\n        // -----------------------------------------------------\n        // Th√®me\n        // -----------------------------------------------------\n        function _applyThemeToBody(theme) {\n            const body = document.body;\n            if (!body) {\n                Log.warn(\"[GeoLeaf.Core] Impossible d‚Äôappliquer le th√®me : document.body introuvable.\");\n                return;\n            }\n            body.classList.remove(\"gl-theme-light\", \"gl-theme-dark\");\n            body.classList.add(theme === \"dark\" ? \"gl-theme-dark\" : \"gl-theme-light\");\n        }\n\n        function setTheme(theme) {\n            if (!theme || (theme !== \"light\" && theme !== \"dark\")) {\n                Log.warn(\"[GeoLeaf.Core] setTheme() : th√®me invalide ‚Üí\", theme);\n                return;\n            }\n            _theme = theme;\n            _applyThemeToBody(theme);\n        }\n\n        function getTheme() {\n            return _theme;\n        }\n\n        // -----------------------------------------------------\n        // Acc√®s √† la map\n        // -----------------------------------------------------\n        function getMap() {\n            return _map;\n        }\n\n        // -----------------------------------------------------\n        // API publique\n        // -----------------------------------------------------\n        return {\n            init,      // nouvelle API normalis√©e\n            initMap,   // alias r√©trocompatible pour la d√©mo et anciens appels\n            getMap,\n            setTheme,\n            getTheme\n        };\n\n    })();\n\n    root.GeoLeaf.Core = Core;\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf UI Module - Theme Management\n * Gestion du th√®me dark/light avec persistance localStorage\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log;\n\n    GeoLeaf._UITheme = GeoLeaf._UITheme || {};\n\n    // ========================================\n    //   CONSTANTES\n    // ========================================\n\n    const THEME_KEY = \"geoleaf_theme\";\n    const THEME_LIGHT = \"light\";\n    const THEME_DARK = \"dark\";\n\n    // ========================================\n    //   √âTAT INTERNE\n    // ========================================\n\n    /**\n     * Source de v√©rit√© unique pour le th√®me actuel\n     * @type {string|null}\n     * @private\n     */\n    let _currentTheme = null;\n\n    // ========================================\n    //   FONCTIONS PUBLIQUES\n    // ========================================\n\n    /**\n     * Retourne le th√®me courant (\"light\" ou \"dark\").\n     * @returns {string} Theme actuel\n     */\n    function getCurrentTheme() {\n        // Si d√©j√† en m√©moire, retourner directement\n        if (_currentTheme) {\n            return _currentTheme;\n        }\n\n        // Sinon, fallback sur le DOM\n        if (document.body.classList.contains(\"gl-theme-dark\")) {\n            _currentTheme = THEME_DARK;\n            return THEME_DARK;\n        }\n        if (document.body.classList.contains(\"gl-theme-light\")) {\n            _currentTheme = THEME_LIGHT;\n            return THEME_LIGHT;\n        }\n\n        // Fallback final\n        _currentTheme = THEME_DARK;\n        return THEME_DARK;\n    }\n\n    /**\n     * Applique un th√®me au <body> et synchronise le bouton.\n     * @param {string} theme - \"light\" ou \"dark\"\n     */\n    function applyTheme(theme) {\n        const normalized =\n            theme === THEME_LIGHT || theme === THEME_DARK\n                ? theme\n                : THEME_DARK;\n\n        Log.debug('[UI.Theme] applyTheme:', theme, '‚Üí', normalized);\n\n        // Mettre √† jour l'√©tat centralis√© AVANT le DOM\n        _currentTheme = normalized;\n\n        // Mise √† jour du DOM sur body\n        document.body.classList.remove(\"gl-theme-light\", \"gl-theme-dark\");\n        document.body.classList.add(\n            normalized === THEME_DARK ? \"gl-theme-dark\" : \"gl-theme-light\"\n        );\n\n        // Appliquer aussi le th√®me au conteneur de carte (pour support fullscreen)\n        const mapContainer = document.getElementById(\"geoleaf-map\");\n        if (mapContainer) {\n            mapContainer.classList.remove(\"gl-theme-light\", \"gl-theme-dark\");\n            mapContainer.classList.add(\n                normalized === THEME_DARK ? \"gl-theme-dark\" : \"gl-theme-light\"\n            );\n        }\n\n        // Sauvegarde locale\n        try {\n            // SAFE: Use StorageHelper with Theme validator\n            const StorageHelper = GeoLeaf.StorageHelper;\n            const ThemeValidator = GeoLeaf.Validators?.Theme;\n\n            if (StorageHelper && ThemeValidator) {\n                StorageHelper.setItem(THEME_KEY, normalized, ThemeValidator);\n            } else {\n                // Fallback if StorageHelper not loaded yet\n                global.localStorage.setItem(THEME_KEY, normalized);\n            }\n        } catch (e) {\n            // G√©rer explicitement l'absence de localStorage\n            if (Log) Log.warn(\"[UI.Theme] localStorage non disponible, th√®me non persist√©.\");\n        }\n\n        // Synchronise le bouton si pr√©sent\n        updateToggleButton(normalized);\n\n        // √âv√®nement global pour les autres modules\n        if (global.dispatchEvent) {\n            global.dispatchEvent(\n                new CustomEvent(\"geoleaf:ui-theme-changed\", {\n                    detail: { theme: normalized }\n                })\n            );\n        }\n    }\n\n    /**\n     * Bascule le th√®me courant (light <-> dark).\n     */\n    function toggleTheme() {\n        const current = getCurrentTheme();\n        const next = current === THEME_DARK ? THEME_LIGHT : THEME_DARK;\n        Log.debug('[UI.Theme] toggleTheme:', current, '‚Üí', next);\n        applyTheme(next);\n    }\n\n    /**\n     * D√©termine le th√®me initial :\n     * 1) localStorage si disponible\n     * 2) class du <body> si d√©j√† d√©finie\n     * 3) sinon, \"dark\"\n     * @returns {string} Theme initial\n     * @private\n     */\n    function resolveInitialTheme() {\n        let stored = null;\n\n        try {\n            // SAFE: Use StorageHelper with Theme validator\n            const StorageHelper = GeoLeaf.StorageHelper;\n            const ThemeValidator = GeoLeaf.Validators?.Theme;\n\n            if (StorageHelper && ThemeValidator) {\n                stored = StorageHelper.getItem(THEME_KEY, null, ThemeValidator);\n            } else {\n                // Fallback if StorageHelper not loaded yet\n                stored = global.localStorage.getItem(THEME_KEY);\n            }\n        } catch (e) {\n            stored = null;\n        }\n\n        if (stored === THEME_LIGHT || stored === THEME_DARK) {\n            return stored;\n        }\n\n        const bodyTheme = getCurrentTheme();\n        if (bodyTheme === THEME_LIGHT || bodyTheme === THEME_DARK) {\n            return bodyTheme;\n        }\n\n        return THEME_DARK;\n    }\n\n    /**\n     * R√©cup√®re le bouton de th√®me dans le DOM.\n     * Par convention on utilise l'attribut data-gl-role=\"theme-toggle\".\n     * @returns {HTMLElement|null}\n     * @private\n     */\n    function getToggleButton() {\n        return document.querySelector('[data-gl-role=\"theme-toggle\"]');\n    }\n\n    /**\n     * Met √† jour l'√©tat visuel/ARIA du bouton de th√®me.\n     * @param {string} theme - \"light\" ou \"dark\"\n     * @private\n     */\n    function updateToggleButton(theme) {\n        const btn = getToggleButton();\n        if (!btn) return;\n\n        const isDark = theme === THEME_DARK;\n\n        btn.setAttribute(\"data-gl-theme-state\", isDark ? \"dark\" : \"light\");\n        btn.setAttribute(\"aria-pressed\", String(isDark));\n        btn.setAttribute(\n            \"aria-label\",\n            isDark ? \"Basculer en th√®me clair\" : \"Basculer en th√®me sombre\"\n        );\n        btn.title = isDark ? \"Th√®me clair\" : \"Th√®me sombre\";\n    }\n\n    /**\n     * Initialise la gestion du bouton de th√®me.\n     * @param {object} [options] - Options de configuration\n     * @param {string} [options.buttonSelector] - S√©lecteur custom du bouton\n     * @param {boolean} [options.autoInitOnDomReady] - Si true, attend DOMContentLoaded\n     */\n    function initThemeToggle(options = {}) {\n        const cfg = {\n            buttonSelector: options.buttonSelector || '[data-gl-role=\"theme-toggle\"]',\n            autoInitOnDomReady:\n                typeof options.autoInitOnDomReady === \"boolean\"\n                    ? options.autoInitOnDomReady\n                    : false\n        };\n\n        const doInit = () => {\n            const initialTheme = resolveInitialTheme();\n            Log.debug('[UI.Theme] initThemeToggle:', initialTheme);\n            applyTheme(initialTheme);\n\n            const btn = document.querySelector(cfg.buttonSelector);\n            if (!btn) {\n                Log.warn('[UI.Theme] Bouton de th√®me introuvable:', cfg.buttonSelector);\n                return;\n            }\n\n            Log.debug('[UI.Theme] Bouton de th√®me trouv√©');\n\n            // Accessibilit√© : <button> natif ou r√¥le \"button\"\n            const tag = (btn.tagName || \"\").toLowerCase();\n            if (tag === \"button\") {\n                try {\n                    btn.type = btn.type || \"button\";\n                } catch (e) {\n                    // Certains √©l√©ments custom peuvent lever une erreur\n                }\n            } else {\n                btn.setAttribute(\"role\", \"button\");\n                btn.setAttribute(\"tabindex\", \"0\");\n            }\n\n            // Premi√®re synchro de l'√©tat visuel\n            updateToggleButton(initialTheme);\n\n            // Clic souris\n            btn.addEventListener(\"click\", (evt) => {\n                evt.preventDefault();\n                toggleTheme();\n            });\n\n            // Clavier (Enter / Space)\n            btn.addEventListener(\"keydown\", (evt) => {\n                if (evt.key === \"Enter\" || evt.key === \" \" || evt.key === \"Spacebar\") {\n                    evt.preventDefault();\n                    toggleTheme();\n                }\n            });\n        };        if (cfg.autoInitOnDomReady) {\n            if (document.readyState === \"loading\") {\n                document.addEventListener(\"DOMContentLoaded\", doInit, { once: true });\n            } else {\n                doInit();\n            }\n        } else {\n            doInit();\n        }\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    GeoLeaf._UITheme = {\n        initThemeToggle,\n        toggleTheme,\n        applyTheme,\n        getCurrentTheme,\n        // Constantes expos√©es\n        THEME_LIGHT,\n        THEME_DARK\n    };\n\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf UI Module - Controls\n * Contr√¥les Leaflet personnalis√©s (fullscreen, zoom, scale, etc.)\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log;\n    const Utils = GeoLeaf.Utils;\n\n    GeoLeaf._UIControls = GeoLeaf._UIControls || {};\n\n    // ========================================\n    //   FULLSCREEN CONTROL\n    // ========================================\n\n    /**\n     * Gestion du plein √©cran pour la carte\n     * @param {L.Map} map - Instance de la carte Leaflet\n     * @param {HTMLElement} mapContainer - Le conteneur de la carte √† mettre en plein √©cran\n     */\n    function initFullscreenControl(map, mapContainer) {\n        if (!map || !mapContainer) {\n            if (Log) Log.warn(\"[UI.Controls] initFullscreenControl: carte ou conteneur manquant\");\n            return;\n        }\n\n        // V√©rifier que Leaflet est disponible\n        if (typeof L === \"undefined\" || !L.Control) {\n            if (Log) Log.warn(\"[UI.Controls] Leaflet n'est pas disponible\");\n            return;\n        }\n\n        // Contr√¥le Leaflet personnalis√©\n        L.Control.Fullscreen = L.Control.extend({\n            options: {\n                position: \"topleft\"\n            },\n\n            onAdd: function (map) {\n                const container = L.DomUtil.create(\n                    \"div\",\n                    \"leaflet-control-fullscreen leaflet-bar leaflet-control\"\n                );\n                const link = L.DomUtil.create(\"a\", \"\", container);\n\n                link.href = \"#\";\n                link.title = \"Plein √©cran\";\n                link.setAttribute(\"role\", \"button\");\n                link.setAttribute(\"aria-label\", \"Activer le mode plein √©cran\");\n\n                // Fullscreen ENTER icon (static SVG)\n                // SAFE: SVG statique hardcod√©\n                const svgEnter = GeoLeaf.DOMSecurity.createSVGIcon(18, 18, 'M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3', {\n                    stroke: 'currentColor',\n                    strokeWidth: '2',\n                    fill: 'none'\n                });\n                svgEnter.classList.add('fullscreen-enter-icon');\n\n                // Fullscreen EXIT icon (static SVG)\n                // SAFE: SVG statique hardcod√©\n                const svgExit = GeoLeaf.DOMSecurity.createSVGIcon(18, 18, 'M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3', {\n                    stroke: 'currentColor',\n                    strokeWidth: '2',\n                    fill: 'none'\n                });\n                svgExit.classList.add('fullscreen-exit-icon');\n                svgExit.style.display = 'none'; // Cach√© par d√©faut\n\n                link.appendChild(svgEnter);\n                link.appendChild(svgExit);\n\n                // √âviter la propagation vers la carte\n                L.DomEvent.disableClickPropagation(container);\n                L.DomEvent.disableScrollPropagation(container);\n\n                // Debounce pour invalidateSize\n                const debouncedInvalidateSize =\n                    Utils?.debounce\n                        ? Utils.debounce(() => map.invalidateSize(), 200)\n                        : () => map.invalidateSize();\n\n                // Fonction pour mettre √† jour l'ic√¥ne\n                const updateIcon = (isFullscreen) => {\n                    if (isFullscreen) {\n                        svgEnter.style.display = 'none';\n                        svgExit.style.display = 'block';\n                    } else {\n                        svgEnter.style.display = 'block';\n                        svgExit.style.display = 'none';\n                    }\n                };\n\n                const toggleFullscreen = (e) => {\n                    L.DomEvent.preventDefault(e);\n\n                    if (!document.fullscreenElement) {\n                        // Entrer en plein √©cran\n                        mapContainer\n                            .requestFullscreen()\n                            .then(() => {\n                                link.classList.add(\"is-fullscreen\");\n                                link.title = \"Quitter le plein √©cran\";\n                                link.setAttribute(\n                                    \"aria-label\",\n                                    \"Quitter le mode plein √©cran\"\n                                );\n                                updateIcon(true);\n                                debouncedInvalidateSize();\n                            })\n                            .catch((err) => {\n                                if (Log) Log.error(\"[UI.Controls] Erreur plein √©cran:\", err);\n                            });\n                    } else {\n                        // Quitter le plein √©cran\n                        document\n                            .exitFullscreen()\n                            .then(() => {\n                                link.classList.remove(\"is-fullscreen\");\n                                link.title = \"Plein √©cran\";\n                                link.setAttribute(\n                                    \"aria-label\",\n                                    \"Activer le mode plein √©cran\"\n                                );\n                                updateIcon(false);\n                                debouncedInvalidateSize();\n                            })\n                            .catch((err) => {\n                                if (Log) Log.error(\"[UI.Controls] Erreur sortie plein √©cran:\", err);\n                            });\n                    }\n                };\n\n                const fullscreenChangeHandler = () => {\n                    if (!document.fullscreenElement) {\n                        link.classList.remove(\"is-fullscreen\");\n                        link.title = \"Plein √©cran\";\n                        link.setAttribute(\n                            \"aria-label\",\n                            \"Activer le mode plein √©cran\"\n                        );\n                        updateIcon(false);\n                        debouncedInvalidateSize();\n                    }\n                };\n\n                L.DomEvent.on(link, \"click\", toggleFullscreen);\n                L.DomEvent.on(link, \"keydown\", (e) => {\n                    if (\n                        e.key === \"Enter\" ||\n                        e.key === \" \" ||\n                        e.key === \"Spacebar\"\n                    ) {\n                        toggleFullscreen(e);\n                    }\n                });\n\n                document.addEventListener(\n                    \"fullscreenchange\",\n                    fullscreenChangeHandler\n                );\n\n                this._fullscreenChangeHandler = fullscreenChangeHandler;\n                this._toggleFullscreen = toggleFullscreen;\n                this._link = link;\n                this._mapContainer = mapContainer;\n                this._debouncedInvalidateSize = debouncedInvalidateSize;\n\n                return container;\n            },\n\n            onRemove: function (_map) {\n                // MEMORY LEAK FIX (Phase 2): Clean up circular references in closures\n                if (this._fullscreenChangeHandler) {\n                    document.removeEventListener(\n                        \"fullscreenchange\",\n                        this._fullscreenChangeHandler\n                    );\n                    this._fullscreenChangeHandler = null;\n                }\n\n                if (this._link) {\n                    L.DomEvent.off(this._link, \"click\", this._toggleFullscreen);\n                    L.DomEvent.off(this._link, \"keydown\");\n                    this._link = null;\n                }\n\n                // Clean up closure references to prevent memory leaks\n                this._toggleFullscreen = null;\n                this._mapContainer = null;\n                this._debouncedInvalidateSize = null;\n            }\n        });\n\n        new L.Control.Fullscreen().addTo(map);\n        if (Log) Log.info(\"[UI.Controls] Contr√¥le plein √©cran ajout√© √† la carte\");\n    }\n\n    // ========================================\n    //   GEOLOCATION CONTROL\n    // ========================================\n\n    /**\n     * Gestion de la g√©olocalisation pour centrer la carte sur la position de l'utilisateur\n     * @param {L.Map} map - Instance de la carte Leaflet\n     * @param {Object} config - Configuration incluant ui.enableGeolocation\n     */\n    function initGeolocationControl(map, config) {\n        if (!map) {\n            if (Log) Log.warn(\"[UI.Controls] initGeolocationControl: carte manquante\");\n            return;\n        }\n\n        // V√©rifier si la g√©olocalisation est activ√©e dans la config\n        if (!config?.ui?.enableGeolocation) {\n            if (Log) Log.info(\"[UI.Controls] G√©olocalisation d√©sactiv√©e dans la configuration\");\n            return;\n        }\n\n        // V√©rifier que Leaflet est disponible\n        if (typeof L === \"undefined\" || !L.Control) {\n            if (Log) Log.warn(\"[UI.Controls] Leaflet n'est pas disponible\");\n            return;\n        }\n\n        // V√©rifier que l'API de g√©olocalisation est disponible\n        if (!navigator.geolocation) {\n            if (Log) Log.warn(\"[UI.Controls] La g√©olocalisation n'est pas support√©e par ce navigateur\");\n            return;\n        }\n\n        // Marqueur de position utilisateur (stock√© pour pouvoir le supprimer/mettre √† jour)\n        let userMarker = null;\n        let accuracyCircle = null;\n\n        // Contr√¥le Leaflet personnalis√©\n        L.Control.Geolocation = L.Control.extend({\n            options: {\n                position: \"topleft\"\n            },\n\n            onAdd: function (map) {\n                const container = L.DomUtil.create(\n                    \"div\",\n                    \"leaflet-control-geolocation leaflet-bar leaflet-control\"\n                );\n                const link = L.DomUtil.create(\"a\", \"\", container);\n\n                link.href = \"#\";\n                link.title = \"G√©olocalisation ON/OFF\";\n                link.setAttribute(\"role\", \"button\");\n                link.setAttribute(\"aria-label\", \"Activer/D√©sactiver le suivi GPS\");\n\n                // Ic√¥ne de g√©olocalisation (utilisation d'un SVG ou Unicode)\n                // SAFE: SVG statique hardcod√©, pas de donn√©es utilisateur\n                const geoSvg = GeoLeaf.DOMSecurity.createSVGIcon(18, 18, 'M12 2 C 6.5 2 2 6.5 2 12 C 2 17.5 6.5 22 12 22 C 17.5 22 22 17.5 22 12 C 22 6.5 17.5 2 12 2 M12 9 C 10.3 9 9 10.3 9 12 C 9 13.7 10.3 15 12 15 C 13.7 15 15 13.7 15 12 C 15 10.3 13.7 9 12 9', {\n                    stroke: 'currentColor',\n                    strokeWidth: '2',\n                    fill: 'none'\n                });\n                link.appendChild(geoSvg);\n\n                // √âviter la propagation vers la carte\n                L.DomEvent.disableClickPropagation(container);\n                L.DomEvent.disableScrollPropagation(container);\n\n                const toggleGeolocation = (e) => {\n                    L.DomEvent.preventDefault(e);\n\n                    // Si d√©j√† actif, d√©sactiver\n                    if (window.GeoLeaf.UI._geolocationActive) {\n                        // D√©sactiver le tracking\n                        if (window.GeoLeaf.UI._geolocationWatchId !== null) {\n                            navigator.geolocation.clearWatch(window.GeoLeaf.UI._geolocationWatchId);\n                            window.GeoLeaf.UI._geolocationWatchId = null;\n                        }\n\n                        // Retirer les marqueurs et cercles\n                        if (userMarker) {\n                            map.removeLayer(userMarker);\n                            userMarker = null;\n                        }\n                        if (accuracyCircle) {\n                            map.removeLayer(accuracyCircle);\n                            accuracyCircle = null;\n                        }\n\n                        // R√©initialiser l'√©tat\n                        window.GeoLeaf.UI._geolocationActive = false;\n                        window.GeoLeaf.UI._userPosition = null;\n\n                        link.classList.remove(\"is-active\");\n                        link.classList.remove(\"is-locating\");\n\n                        if (Log) Log.info(\"[UI.Controls] G√©olocalisation d√©sactiv√©e\");\n                        return;\n                    }\n\n                    // Activer le mode g√©olocalisation\n                    link.classList.add(\"is-locating\");\n\n                    // Utiliser watchPosition pour un tracking continu\n                    window.GeoLeaf.UI._geolocationWatchId = navigator.geolocation.watchPosition(\n                        (position) => {\n                            const { latitude, longitude, accuracy } = position.coords;\n\n                            // Premi√®re activation : centrer la carte\n                            if (!window.GeoLeaf.UI._geolocationActive) {\n                                map.setView([latitude, longitude], 16, {\n                                    animate: true,\n                                    duration: 0.5\n                                });\n                            } else {\n                                // Mise √† jour continue : d√©placer le marqueur sans recentrer\n                                // (sauf si on veut un mode \"suivi\" permanent)\n                            }\n\n                            // Supprimer l'ancien marqueur et cercle s'ils existent\n                            if (userMarker) {\n                                map.removeLayer(userMarker);\n                            }\n                            if (accuracyCircle) {\n                                map.removeLayer(accuracyCircle);\n                            }\n\n                            // Cr√©er un nouveau marqueur pour la position de l'utilisateur\n                            userMarker = L.marker([latitude, longitude], {\n                                icon: L.divIcon({\n                                    className: 'gl-user-location-marker gl-user-location-marker--active',\n                                    html: `<div class=\"gl-user-location-dot gl-user-location-dot--active\"></div>`,\n                                    iconSize: [22, 22],\n                                    iconAnchor: [11, 11]\n                                }),\n                                zIndexOffset: 1000\n                            }).addTo(map);\n\n                            // Ajouter un cercle de pr√©cision\n                            if (accuracy && accuracy < 1000) {\n                                const interactiveShapes = GeoLeaf.Config.get('ui.interactiveShapes', false);\n                                accuracyCircle = L.circle([latitude, longitude], {\n                                    radius: accuracy,\n                                    className: 'gl-user-location-accuracy',\n                                    fillColor: '#4285F4',\n                                    fillOpacity: 0.1,\n                                    stroke: true,\n                                    color: '#4285F4',\n                                    opacity: 0.3,\n                                    weight: 1,\n                                    interactive: interactiveShapes\n                                }).addTo(map);\n                            }\n\n                            // Mettre √† jour l'√©tat\n                            window.GeoLeaf.UI._geolocationActive = true;\n                            link.classList.remove(\"is-locating\");\n                            link.classList.add(\"is-active\");\n\n                            // Stocker la position GPS globalement pour utilisation par d'autres fonctionnalit√©s (ex: recherche par proximit√©)\n                            if (window.GeoLeaf && window.GeoLeaf.UI) {\n                                window.GeoLeaf.UI._userPosition = {\n                                    lat: latitude,\n                                    lng: longitude,\n                                    accuracy: accuracy,\n                                    timestamp: Date.now()\n                                };\n                            }\n\n                            if (Log) Log.debug(\"[UI.Controls] Position GPS mise √† jour:\", latitude, longitude);\n                        },\n                        (error) => {\n                            link.classList.remove(\"is-locating\");\n                            link.classList.remove(\"is-active\");\n                            window.GeoLeaf.UI._geolocationActive = false;\n\n                            let errorMessage = \"Impossible d'obtenir votre position\";\n                            switch (error.code) {\n                                case error.PERMISSION_DENIED:\n                                    errorMessage = \"Permission de g√©olocalisation refus√©e\";\n                                    break;\n                                case error.POSITION_UNAVAILABLE:\n                                    errorMessage = \"Position indisponible\";\n                                    break;\n                                case error.TIMEOUT:\n                                    errorMessage = \"D√©lai de g√©olocalisation d√©pass√©\";\n                                    break;\n                            }\n\n                            if (Log) Log.error(\"[UI.Controls] Erreur de g√©olocalisation:\", error);\n\n                            // Afficher un message √† l'utilisateur (peut √™tre personnalis√©)\n                            if (window.alert) {\n                                alert(errorMessage);\n                            }\n                        },\n                        {\n                            enableHighAccuracy: true,\n                            timeout: 10000,\n                            maximumAge: 0\n                        }\n                    );\n                };\n\n                L.DomEvent.on(link, \"click\", toggleGeolocation);\n                L.DomEvent.on(link, \"keydown\", (e) => {\n                    if (\n                        e.key === \"Enter\" ||\n                        e.key === \" \" ||\n                        e.key === \"Spacebar\"\n                    ) {\n                        toggleGeolocation(e);\n                    }\n                });\n\n                this._link = link;\n                this._userMarker = userMarker;\n\n                return container;\n            },\n\n            onRemove: function (map) {\n                if (this._link) {\n                    L.DomEvent.off(this._link, \"click\");\n                    L.DomEvent.off(this._link, \"keydown\");\n                    this._link = null;\n                }\n\n                if (this._userMarker) {\n                    map.removeLayer(this._userMarker);\n                    this._userMarker = null;\n                }\n            }\n        });\n\n        new L.Control.Geolocation().addTo(map);\n        if (Log) Log.info(\"[UI.Controls] Contr√¥le de g√©olocalisation ajout√© √† la carte\");\n    }\n\n    // ========================================\n    //   POI ADD CONTROL\n    // ========================================\n\n    /**\n     * Gestion du bouton d'ajout de POI sur la carte\n     * Permet aux utilisateurs d'ajouter de nouveaux points d'int√©r√™t\n     * @param {L.Map} map - Instance de la carte Leaflet\n     * @param {Object} config - Configuration incluant ui.showAddPoi et poi.*\n     */\n    function initPoiAddControl(map, config) {\n        if (!map) {\n            if (Log) Log.warn(\"[UI.Controls] initPoiAddControl: carte manquante\");\n            return;\n        }\n\n        // V√©rifier si le bouton POI Add est activ√©\n        if (!config?.ui?.showAddPoi) {\n            if (Log) Log.debug(\"[UI.Controls] Bouton POI Add d√©sactiv√© dans la configuration\");\n            return;\n        }\n\n        // V√©rifier que Leaflet est disponible\n        if (typeof L === \"undefined\" || !L.Control) {\n            if (Log) Log.warn(\"[UI.Controls] Leaflet n'est pas disponible\");\n            return;\n        }\n\n        // V√©rifier que les modules POI sont charg√©s\n        if (!GeoLeaf?.POI?.AddForm || !GeoLeaf?.POI?.PlacementMode) {\n            if (Log) Log.warn(\"[UI.Controls] Modules POI non charg√©s\");\n            return;\n        }\n\n        // Contr√¥le Leaflet personnalis√© pour l'ajout de POI\n        L.Control.PoiAdd = L.Control.extend({\n            options: {\n                position: \"topleft\"\n            },\n\n            onAdd: function (map) {\n                const container = L.DomUtil.create(\n                    \"div\",\n                    \"leaflet-control-poi-add leaflet-bar leaflet-control\"\n                );\n                const link = L.DomUtil.create(\"a\", \"\", container);\n\n                link.href = \"#\";\n                link.title = \"Ajouter un POI\";\n                link.setAttribute(\"role\", \"button\");\n                link.setAttribute(\"aria-label\", \"Ajouter un nouveau point d'int√©r√™t\");\n\n                // Ic√¥ne d'ajout de POI (SVG statique)\n                // SAFE: SVG statique hardcod√©, pas de donn√©es utilisateur\n                const poiSvg = GeoLeaf.DOMSecurity.createSVGIcon(18, 18, 'M12 2 C 6.5 2 2 6.5 2 12 C 2 17.5 6.5 22 12 22 C 17.5 22 22 17.5 22 12 C 22 6.5 17.5 2 12 2 M12 8 L12 16 M8 12 L16 12', {\n                    stroke: 'currentColor',\n                    strokeWidth: '2',\n                    fill: 'none'\n                });\n                link.appendChild(poiSvg);\n\n                // √âviter la propagation vers la carte\n                L.DomEvent.disableClickPropagation(container);\n                L.DomEvent.disableScrollPropagation(container);\n\n                const handleAddPoi = (e) => {\n                    L.DomEvent.preventDefault(e);\n\n                    // D√©sactiver le bouton temporairement\n                    link.classList.add(\"disabled\");\n\n                    // Fonction pour ouvrir le formulaire\n                    const openForm = (latlng) => {\n                        link.classList.remove(\"disabled\");\n\n                        if (!GeoLeaf.POI.AddForm.openAddForm) {\n                            if (Log) Log.error(\"[UI.Controls] AddForm.openAddForm non disponible\");\n                            return;\n                        }\n\n                        GeoLeaf.POI.AddForm.openAddForm(latlng, null);\n                    };\n\n                    // V√©rifier si la g√©olocalisation est disponible et si elle est le mode par d√©faut\n                    const userPosition = GeoLeaf?.UI?._userPosition;\n                    const defaultPosition = config?.poiAddConfig?.defaultPosition || \"placement-mode\";\n\n                    if (userPosition && defaultPosition === \"geolocation\") {\n                        // Utiliser la position GPS\n                        if (Log) Log.debug(\"[UI.Controls] Utilisation de la position GPS pour l'ajout de POI\");\n                        openForm(userPosition);\n                    } else {\n                        // Activer le mode placement\n                        if (Log) Log.debug(\"[UI.Controls] Activation du mode placement pour l'ajout de POI\");\n                        GeoLeaf.POI.PlacementMode.activate(map, (result) => {\n                            if (result?.latlng) {\n                                openForm(result.latlng);\n                            } else {\n                                link.classList.remove(\"disabled\");\n                                if (Log) Log.warn(\"[UI.Controls] Mode placement cancelled\");\n                            }\n                        });\n                    }\n                };\n\n                L.DomEvent.on(link, \"click\", handleAddPoi);\n                L.DomEvent.on(link, \"keydown\", (e) => {\n                    if (\n                        e.key === \"Enter\" ||\n                        e.key === \" \" ||\n                        e.key === \"Spacebar\"\n                    ) {\n                        handleAddPoi(e);\n                    }\n                });\n\n                this._link = link;\n\n                return container;\n            },\n\n            onRemove: function (_map) {\n                if (this._link) {\n                    L.DomEvent.off(this._link, \"click\");\n                    L.DomEvent.off(this._link, \"keydown\");\n                    this._link = null;\n                }\n            }\n        });\n\n        new L.Control.PoiAdd().addTo(map);\n        if (Log) Log.info(\"[UI.Controls] Contr√¥le POI Add ajout√© √† la carte\");\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    GeoLeaf._UIControls = {\n        initFullscreenControl,\n        initGeolocationControl,\n        initPoiAddControl\n    };\n\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf UI Module - Panel Builder\n * Construction de panneaux de d√©tails POI avec layouts configurables\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    GeoLeaf.UI = GeoLeaf.UI || {};\n    GeoLeaf.UI.PanelBuilder = GeoLeaf.UI.PanelBuilder || {};\n\n    // Helper pour utiliser createElement unifi√©\n    const $create = (tag, props, ...children) => {\n        return GeoLeaf.Utils && GeoLeaf.Utils.createElement\n            ? GeoLeaf.Utils.createElement(tag, props, ...children)\n            : document.createElement(tag);\n    };\n\n    /**\n     * R√©sout un chemin de type \"attributes.longDescription\" dans un objet POI.\n     * Retourne undefined si le chemin n'existe pas.\n     *\n     * @param {object} poi - Objet POI source.\n     * @param {string} fieldPath - Chemin en notation point√©e (ex: \"attributes.description\").\n     * @returns {*} Valeur r√©solue ou undefined.\n     */\n    function resolveField(poi, fieldPath) {\n        if (!poi || !fieldPath) return undefined;\n        const parts = fieldPath.split(\".\");\n        let current = poi;\n        for (let i = 0; i < parts.length; i += 1) {\n            if (current == null) {\n                return undefined;\n            }\n            current = current[parts[i]];\n        }\n        return current;\n    }\n\n    /**\n     * Cr√©e un bloc section simple (sans accord√©on).\n     *\n     * @param {string} label - Titre de la section.\n     * @param {Node|string} innerContent - Contenu de la section (Node ou texte).\n     * @param {string} extraClass - Classes CSS additionnelles.\n     * @returns {HTMLElement} √âl√©ment section.\n     */\n    function createPlainSection(label, innerContent, extraClass) {\n        const section = $create(\"section\", {\n            className: \"gl-poi-panel__section\" + (extraClass ? \" \" + extraClass : \"\")\n        });\n\n        if (label) {\n            const header = $create(\"h3\", {\n                className: \"gl-poi-panel__section-title\",\n                textContent: label\n            });\n            section.appendChild(header);\n        }\n\n        const body = $create(\"div\", {\n            className: \"gl-poi-panel__section-body\"\n        });\n        if (innerContent instanceof Node) {\n            body.appendChild(innerContent);\n        } else if (innerContent != null) {\n            body.textContent = String(innerContent);\n        }\n        section.appendChild(body);\n\n        return section;\n    }\n\n    /**\n     * Cr√©e un bloc section accord√©on (panneau repliable).\n     *\n     * @param {string} label - Titre de l'accord√©on.\n     * @param {Node|string} innerContent - Contenu de l'accord√©on.\n     * @param {object} options - Options { defaultOpen: boolean }.\n     * @returns {HTMLElement} √âl√©ment section accord√©on.\n     */\n    function createAccordionSection(label, innerContent, options) {\n        const opts = options || {};\n        const isOpen = Boolean(opts.defaultOpen);\n\n        const section = $create(\"section\", {\n            className: \"gl-accordion gl-poi-panel__section\" + (isOpen ? \" is-open\" : \"\")\n        });\n\n        const header = $create(\"button\", {\n            type: \"button\",\n            className: \"gl-accordion__header\"\n        });\n\n        const titleSpan = $create(\"span\", {\n            className: \"gl-accordion__title\",\n            textContent: label || \"\"\n        });\n        header.appendChild(titleSpan);\n\n        const iconSpan = $create(\"span\", {\n            className: \"gl-accordion__icon\",\n            attributes: { \"aria-hidden\": \"true\" },\n            textContent: \"‚ñæ\"\n        });\n        header.appendChild(iconSpan);\n\n        section.appendChild(header);\n\n        const body = $create(\"div\", {\n            className: \"gl-accordion__body\"\n        });\n\n        if (innerContent instanceof Node) {\n            body.appendChild(innerContent);\n        } else if (innerContent != null) {\n            const p = $create(\"p\", {\n                textContent: String(innerContent)\n            });\n            body.appendChild(p);\n        }\n\n        section.appendChild(body);\n        return section;\n    }\n\n    /**\n     * Construit le rendu d'un item de type \"text\".\n     *\n     * @param {*} value - Valeur √† afficher.\n     * @param {string} variant - Variant (\"multiline\" ou autre).\n     * @returns {HTMLElement|null} √âl√©ment div ou null.\n     */\n    function renderText(value, variant) {\n        const div = $create(\"div\", {\n            className: \"gl-poi-panel__text\" +\n                (variant === \"multiline\" ? \" gl-poi-panel__text--multiline\" : \"\"),\n            textContent: String(value)\n        });\n        return div;\n    }\n\n    /**\n     * Construit le rendu d'un item de type \"list\".\n     *\n     * @param {*} value - Array ou string (lignes s√©par√©es).\n     * @returns {HTMLElement|null} √âl√©ment ul ou null.\n     */\n    function renderList(value) {\n        const items = [];\n\n        if (Array.isArray(value)) {\n            value.forEach(function (entry) {\n                if (entry == null) return;\n\n                if (typeof entry === \"string\" || typeof entry === \"number\") {\n                    items.push(String(entry));\n                } else if (typeof entry === \"object\") {\n                    const label =\n                        typeof entry.label === \"string\"\n                            ? entry.label\n                            : typeof entry.text === \"string\"\n                            ? entry.text\n                            : null;\n                    const val = entry.value != null ? String(entry.value) : null;\n\n                    if (label && val) {\n                        items.push(label + \" : \" + val);\n                    } else if (label) {\n                        items.push(label);\n                    } else if (val) {\n                        items.push(val);\n                    }\n                }\n            });\n        } else if (typeof value === \"string\") {\n            value.split(/\\r?\\n/).forEach(function (line) {\n                const trimmed = line.trim();\n                if (trimmed) {\n                    items.push(trimmed);\n                }\n            });\n        }\n\n        if (!items.length) {\n            return null;\n        }\n\n        const ul = $create(\"ul\", {\n            className: \"gl-poi-panel__list\"\n        });\n\n        items.forEach(function (text) {\n            const li = $create(\"li\", {\n                className: \"gl-poi-panel__list-item\",\n                textContent: text\n            });\n            ul.appendChild(li);\n        });\n\n        return ul;\n    }\n\n    /**\n     * Construit le rendu d'un item de type \"table\".\n     *\n     * @param {Array} value - Tableau d'objets repr√©sentant les lignes.\n     * @param {object} item - Configuration du tableau (columns, borders).\n     * @returns {HTMLElement|null} Wrapper de tableau ou null.\n     */\n    function renderTable(value, item) {\n        if (!Array.isArray(value) || !value.length) {\n            return null;\n        }\n\n        const columns = Array.isArray(item.columns) ? item.columns : [];\n        if (!columns.length) {\n            return null;\n        }\n\n        const wrapper = $create(\"div\", {\n            className: \"gl-poi-panel__table-wrapper\"\n        });\n\n        const borders = item.borders || {};\n        const borderClasses = [];\n        if (borders.outer) borderClasses.push(\"gl-poi-panel__table--border-outer\");\n        if (borders.row) borderClasses.push(\"gl-poi-panel__table--border-row\");\n        if (borders.column) borderClasses.push(\"gl-poi-panel__table--border-column\");\n\n        const table = $create(\"table\", {\n            className: \"gl-poi-panel__table\" + (borderClasses.length ? \" \" + borderClasses.join(\" \") : \"\"),\n            attributes: borders.color ? { \"data-gl-border-color\": borders.color } : {}\n        });\n\n        // En-t√™te\n        const thead = $create(\"thead\");\n        const headRow = $create(\"tr\", {\n            className: \"gl-poi-panel__table-row gl-poi-panel__table-row--head\"\n        });\n\n        columns.forEach(function (col) {\n            const th = $create(\"th\", {\n                className: \"gl-poi-panel__table-cell gl-poi-panel__table-cell--head\",\n                textContent: col.label || col.key || \"\"\n            });\n            headRow.appendChild(th);\n        });\n\n        thead.appendChild(headRow);\n        table.appendChild(thead);\n\n        // Corps\n        const tbody = $create(\"tbody\");\n\n        value.forEach(function (rowObj) {\n            if (!rowObj || typeof rowObj !== \"object\") {\n                return;\n            }\n\n            const tr = $create(\"tr\", {\n                className: \"gl-poi-panel__table-row\"\n            });\n\n            columns.forEach(function (col) {\n                const cellVal = rowObj[col.key];\n                const td = $create(\"td\", {\n                    className: \"gl-poi-panel__table-cell\",\n                    textContent: cellVal == null ? \"\" : String(cellVal)\n                });\n\n                tr.appendChild(td);\n            });\n\n            tbody.appendChild(tr);\n        });\n\n        table.appendChild(tbody);\n        wrapper.appendChild(table);\n        return wrapper;\n    }\n\n    /**\n     * Construit le rendu d'un item de type \"gallery\".\n     *\n     * @param {Array} value - Tableau d'images { url, alt, caption }.\n     * @returns {HTMLElement|null} Container galerie ou null.\n     */\n    function renderGallery(value) {\n        if (!Array.isArray(value)) {\n            return null;\n        }\n\n        const container = $create(\"div\", {\n            className: \"gl-poi-panel__gallery\"\n        });\n\n        value.forEach(function (img) {\n            if (!img) return;\n\n            const figure = $create(\"figure\", {\n                className: \"gl-poi-panel__gallery-item\"\n            });\n\n            const imgEl = $create(\"img\", {\n                src: img.url || img,\n                alt: img.alt || \"\"\n            });\n            figure.appendChild(imgEl);\n\n            if (img.caption) {\n                const figCap = $create(\"figcaption\", {\n                    textContent: img.caption\n                });\n                figure.appendChild(figCap);\n            }\n\n            container.appendChild(figure);\n        });\n\n        return container;\n    }\n\n    /**\n     * Construit le rendu d'un item de type \"reviews\" (avis voyageurs).\n     *\n     * @param {*} value - Array ou objet avec propri√©t√© 'recent'.\n     * @returns {HTMLElement|null} Container d'avis ou null.\n     */\n    function renderReviews(value) {\n        // Si value est un objet avec une propri√©t√© 'recent', utiliser celle-ci\n        let reviewsArray = value;\n        if (value && typeof value === 'object' && !Array.isArray(value) && Array.isArray(value.recent)) {\n            reviewsArray = value.recent;\n        }\n\n        if (!Array.isArray(reviewsArray)) {\n            return null;\n        }\n\n        const container = $create(\"div\", {\n            className: \"gl-poi-panel__reviews gl-poi-sidepanel__reviews\"\n        });\n\n        reviewsArray.forEach(function (review) {\n            if (!review) return;\n\n            const itemEl = $create(\"article\", {\n                className: \"gl-poi-panel__review\"\n            });\n\n            const header = $create(\"header\", {\n                className: \"gl-poi-panel__review-header\"\n            });\n\n            const nameSpan = $create(\"span\", {\n                className: \"gl-poi-panel__review-author\",\n                textContent: review.authorName || \"\"\n            });\n            header.appendChild(nameSpan);\n\n            if (typeof review.rating === \"number\") {\n                const ratingSpan = $create(\"span\", {\n                    className: \"gl-poi-panel__review-rating\",\n                    textContent: review.rating.toFixed(1) + \"/5\"\n                });\n                header.appendChild(ratingSpan);\n            }\n\n            if (review.source) {\n                const sourceSpan = $create(\"span\", {\n                    className: \"gl-poi-panel__review-source\",\n                    textContent: review.source\n                });\n                header.appendChild(sourceSpan);\n            }\n\n            itemEl.appendChild(header);\n\n            if (review.title) {\n                const titleEl = $create(\"h4\", {\n                    className: \"gl-poi-panel__review-title\",\n                    textContent: review.title\n                });\n                itemEl.appendChild(titleEl);\n            }\n\n            // G√©rer √† la fois 'text' (ancien format) et 'comment' (nouveau format)\n            const reviewText = review.text || review.comment;\n            if (reviewText) {\n                const textEl = $create(\"p\", {\n                    className: \"gl-poi-panel__review-text\",\n                    textContent: reviewText\n                });\n                itemEl.appendChild(textEl);\n            }\n\n            // G√©rer √† la fois 'date' (ancien format) et 'createdAt' (nouveau format)\n            const reviewDate = review.date || review.createdAt;\n            if (reviewDate) {\n                const dateEl = $create(\"time\", {\n                    className: \"gl-poi-panel__review-date\",\n                    textContent: reviewDate\n                });\n                itemEl.appendChild(dateEl);\n            }\n\n            const footer = $create(\"footer\", {\n                className: \"gl-poi-panel__review-footer\"\n            });\n\n            if (typeof review.helpfulCount === \"number\") {\n                const helpfulSpan = $create(\"span\", {\n                    className: \"gl-poi-panel__review-helpful\",\n                    textContent: review.helpfulCount + \" personnes ont trouv√© cet avis utile\"\n                });\n                footer.appendChild(helpfulSpan);\n            }\n\n            if (review.url) {\n                const link = $create(\"a\", {\n                    href: review.url,\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    className: \"gl-poi-panel__review-link\",\n                    textContent: \"Voir l'avis\"\n                });\n                footer.appendChild(link);\n            }\n\n            itemEl.appendChild(footer);\n            container.appendChild(itemEl);\n        });\n\n        return container;\n    }\n\n    /**\n     * Construit le contenu interne pour un item de layout.\n     * Dispatcher principal vers les fonctions de rendu sp√©cialis√©es.\n     *\n     * @param {object} poi - Objet POI source.\n     * @param {object} item - Configuration du layout item (type, field, variant, etc).\n     * @returns {HTMLElement|null} √âl√©ment construit ou null.\n     */\n    function buildLayoutItemContent(poi, item) {\n        const type = item.type;\n        const value = resolveField(poi, item.field);\n\n        if (value == null || value === \"\") {\n            if (!Array.isArray(value)) {\n                return null;\n            }\n        }\n\n        // Dispatch par type\n        if (type === \"text\") {\n            return renderText(value, item.variant);\n        }\n\n        if (type === \"list\") {\n            return renderList(value);\n        }\n\n        if (type === \"table\") {\n            return renderTable(value, item);\n        }\n\n        if (type === \"gallery\") {\n            return renderGallery(value);\n        }\n\n        if (type === \"reviews\") {\n            return renderReviews(value);\n        }\n\n        // Fallback : texte simple\n        const defaultDiv = $create(\"div\", {\n            className: \"gl-poi-panel__text\",\n            textContent: String(value)\n        });\n        return defaultDiv;\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    GeoLeaf.UI.PanelBuilder = {\n        resolveField,\n        createPlainSection,\n        createAccordionSection,\n        renderText,\n        renderList,\n        renderTable,\n        renderGallery,\n        renderReviews,\n        buildLayoutItemContent\n    };\n\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf UI DOM Utilities Module\n * Utilitaires DOM r√©utilisables pour l'interface utilisateur\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    GeoLeaf._UIDomUtils = GeoLeaf._UIDomUtils || {};\n\n    // Helper pour utiliser createElement unifi√©\n    const $create = (tag, props, ...children) => {\n        return GeoLeaf.Utils && GeoLeaf.Utils.createElement\n            ? GeoLeaf.Utils.createElement(tag, props, ...children)\n            : document.createElement(tag);\n    };\n\n    const Log = GeoLeaf.Log || console;\n\n    /**\n     * R√©sout une valeur √† partir d'un chemin de propri√©t√© (ex: \"attributes.reviews.rating\").\n     * @param {Object} obj - Objet source (POI, route, etc.)\n     * @param {string} fieldPath - Chemin de propri√©t√© s√©par√© par des points\n     * @returns {*} Valeur trouv√©e ou undefined\n     */\n    GeoLeaf._UIDomUtils.resolveField = function (obj, fieldPath) {\n        if (!obj || !fieldPath) return undefined;\n        const parts = fieldPath.split(\".\");\n        let current = obj;\n        for (let i = 0; i < parts.length; i += 1) {\n            if (current == null) {\n                return undefined;\n            }\n            current = current[parts[i]];\n        }\n        return current;\n    };\n\n    /**\n     * Attache le comportement d'accord√©on (toggle open/close) √† un conteneur.\n     * √âvite les attachements multiples avec un flag.\n     * @param {HTMLElement} container - Conteneur parent avec des √©l√©ments .gl-accordion\n     */\n    GeoLeaf._UIDomUtils.attachAccordionBehavior = function (container) {\n        if (!container || container._glAccordionBound) return;\n        container._glAccordionBound = true;\n\n        container.addEventListener(\"click\", function (evt) {\n            const header = evt.target.closest(\".gl-accordion__header\");\n            if (!header || !container.contains(header)) {\n                return;\n            }\n            const section = header.closest(\".gl-accordion\");\n            if (!section) return;\n\n            section.classList.toggle(\"is-open\");\n        });\n    };\n\n    /**\n     * R√©cup√®re le profil actif depuis GeoLeaf.Config.\n     * @returns {Object|null} Objet profil ou null si indisponible\n     */\n    GeoLeaf._UIDomUtils.getActiveProfileConfig = function () {\n        if (\n            !GeoLeaf.Config ||\n            typeof GeoLeaf.Config.getActiveProfile !== \"function\"\n        ) {\n            Log.warn(\n                \"[UIDomUtils] GeoLeaf.Config.getActiveProfile() indisponible. Impossible de r√©cup√©rer le profil actif.\"\n            );\n            return null;\n        }\n        const profile = GeoLeaf.Config.getActiveProfile();\n        if (!profile) {\n            Log.warn(\n                \"[UIDomUtils] Aucun profil actif retourn√© par GeoLeaf.Config.getActiveProfile().\"\n            );\n        }\n        return profile || null;\n    };\n\n    /**\n     * Construit les <option> d'un select √† partir de la taxonomie et d'un chemin optionsFrom.\n     * @param {HTMLSelectElement} selectEl - √âl√©ment <select> √† peupler\n     * @param {Object} profile - Objet profil contenant la taxonomie\n     * @param {string} optionsFrom - Chemin vers les options (ex: \"taxonomy.categories\")\n     */\n    GeoLeaf._UIDomUtils.populateSelectOptionsFromTaxonomy = function (\n        selectEl,\n        profile,\n        optionsFrom\n    ) {\n        if (!selectEl || !profile || !profile.taxonomy) return;\n\n        const taxonomy = profile.taxonomy;\n        const emptyOpt = $create(\"option\", {\n            value: \"\",\n            textContent: \"‚Äî Tous ‚Äî\"\n        });\n        selectEl.appendChild(emptyOpt);\n\n        if (optionsFrom === \"taxonomy.categories\") {\n            const categories = taxonomy.categories || {};\n            Object.keys(categories).forEach(function (catId) {\n                const cat = categories[catId];\n                const opt = $create(\"option\", {\n                    value: catId,\n                    textContent: cat.label || catId\n                });\n                selectEl.appendChild(opt);\n            });\n            return;\n        }\n\n        if (optionsFrom === \"taxonomy.categories[*].subcategories\") {\n            const categories = taxonomy.categories || {};\n            Object.keys(categories).forEach(function (catId) {\n                const cat = categories[catId];\n                const subs = (cat && cat.subcategories) || {};\n                Object.keys(subs).forEach(function (subId) {\n                    const sub = subs[subId];\n                    const catLabel = cat.label || catId;\n                    const subLabel = sub.label || subId;\n                    const opt = $create(\"option\", {\n                        value: subId,\n                        textContent: catLabel + \" ‚Äì \" + subLabel,\n                        attributes: { \"data-category-id\": catId }\n                    });\n                    selectEl.appendChild(opt);\n                });\n            });\n        }\n    };\n\n    Log.info(\"[GeoLeaf._UIDomUtils] Module DOM Utilities charg√©\");\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    /**\n     * Namespace global GeoLeaf\n     */\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    GeoLeaf.UI = GeoLeaf.UI || {};\n\n    /**\n     * Logger unifi√©\n     */\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Contexte pour les logs\n     * @const\n     */\n    const CONTEXT = \"[GeoLeaf.UI.CoordinatesDisplay]\";\n\n    /**\n     * Texte par d√©faut des coordonn√©es\n     * @const\n     */\n    const DEFAULT_COORDS_TEXT = \"Lat: --, Lng: --\";\n\n    /**\n     * Module GeoLeaf.UI.CoordinatesDisplay\n     *\n     * R√¥le :\n     * - Afficher les coordonn√©es du curseur en temps r√©el\n     * - Positionner le contr√¥le en bas √† droite √† c√¥t√© de la l√©gende\n     * - Permettre l'activation/d√©sactivation via configuration\n     */\n    const CoordinatesDisplay = {\n        /**\n         * R√©f√©rence √† la carte Leaflet.\n         * @type {L.Map|null}\n         * @private\n         */\n        _map: null,\n\n        /**\n         * R√©f√©rence au contr√¥le Leaflet des coordonn√©es.\n         * @type {L.Control|null}\n         * @private\n         */\n        _control: null,\n\n        /**\n         * Element DOM pour l'affichage des coordonn√©es\n         * @type {HTMLElement|null}\n         * @private\n         */\n        _coordsElement: null,\n\n        /**\n         * R√©f√©rence bound du listener mousemove (pour pouvoir le retirer)\n         * @type {Function|null}\n         * @private\n         */\n        _boundMouseMoveHandler: null,\n\n        /**\n         * Options du module\n         * @type {Object}\n         * @private\n         */\n        _options: {\n            position: \"bottomleft\",\n            decimals: 6\n        },\n\n        /**\n         * Initialise le module de coordonn√©es\n         * @param {L.Map} map - Instance de la carte Leaflet\n         * @param {Object} options - Options de configuration\n         */\n        init(map, options = {}) {\n            try {\n                if (!map) {\n                    throw new Error(\"Une instance de carte Leaflet est requise.\");\n                }\n\n                this._map = map;\n                this._options = Object.assign({}, this._options, options);\n\n                // V√©rifier si le module est activ√© dans la config\n                const showCoordinates = GeoLeaf.Config?.get(\"ui.showCoordinates\");\n\n                if (showCoordinates === false) {\n                    Log.info(`${CONTEXT} Affichage des coordonn√©es d√©sactiv√© dans la configuration.`);\n                    return;\n                }\n\n                // Stocker la r√©f√©rence bound du listener\n                this._boundMouseMoveHandler = this._onMouseMove.bind(this);\n\n                // Cr√©er le contr√¥le Leaflet\n                this._createControl();\n\n                Log.info(`${CONTEXT} Module initialis√© avec succ√®s.`);\n\n            } catch (err) {\n                Log.error(`${CONTEXT} Erreur lors de l'initialisation :`, err.message);\n            }\n        },\n\n        /**\n         * Cr√©e le contr√¥le Leaflet pour l'affichage des coordonn√©es\n         * @private\n         */\n        _createControl() {\n            try {\n                // Attendre que le DOM soit pr√™t et chercher le wrapper d'√©chelle\n                setTimeout(() => {\n                    const scaleWrapper = document.querySelector('.gl-scale-main-wrapper');\n\n                    if (scaleWrapper) {\n                        // Ajouter un s√©parateur avant les coordonn√©es\n                        L.DomUtil.create('div', 'gl-scale-separator', scaleWrapper);\n\n                        // Cr√©er l'√©l√©ment d'affichage des coordonn√©es directement dans le wrapper\n                        this._coordsElement = L.DomUtil.create('div', 'gl-scale-coordinates', scaleWrapper);\n                        this._coordsElement.textContent = DEFAULT_COORDS_TEXT;\n\n                        // Ajouter l'√©couteur d'√©v√©nement mousemove avec r√©f√©rence stock√©e\n                        this._map.on('mousemove', this._boundMouseMoveHandler);\n\n                        Log.info(`${CONTEXT} Coordonn√©es int√©gr√©es au wrapper d'√©chelle.`);\n                    } else {\n                        Log.warn(`${CONTEXT} Wrapper d'√©chelle non trouv√©, utilisation du mode classique.`);\n                        this._createStandaloneControl();\n                    }\n                }, 100);\n\n            } catch (err) {\n                Log.error(`${CONTEXT} Erreur lors de la cr√©ation du contr√¥le :`, err.message);\n            }\n        },\n\n        /**\n         * Cr√©e un contr√¥le standalone en fallback\n         * @private\n         */\n        _createStandaloneControl() {\n            const CoordinatesControl = L.Control.extend({\n                options: {\n                    position: this._options.position\n                },\n\n                onAdd: (map) => {\n                    const container = L.DomUtil.create(\"div\", \"geoleaf-coordinates-display\");\n                    L.DomEvent.disableClickPropagation(container);\n                    L.DomEvent.disableScrollPropagation(container);\n                    this._coordsElement = L.DomUtil.create(\"div\", \"coordinates-content\", container);\n                    this._coordsElement.textContent = DEFAULT_COORDS_TEXT;\n                    map.on(\"mousemove\", this._boundMouseMoveHandler);\n                    return container;\n                },\n\n                onRemove: (map) => {\n                    map.off(\"mousemove\", this._boundMouseMoveHandler);\n                }\n            });\n\n            this._control = new CoordinatesControl();\n            this._control.addTo(this._map);\n        },\n\n        /**\n         * Gestionnaire d'√©v√©nement pour le mouvement de la souris\n         * @param {Object} e - √âv√©nement Leaflet\n         * @private\n         */\n        _onMouseMove(e) {\n            if (!this._coordsElement) return;\n\n            const lat = e.latlng.lat.toFixed(this._options.decimals);\n            const lng = e.latlng.lng.toFixed(this._options.decimals);\n\n            this._coordsElement.textContent = `Lat: ${lat}, Lng: ${lng}`;\n        },\n\n        /**\n         * D√©truit le contr√¥le et nettoie les ressources\n         */\n        destroy() {\n            try {\n                // Nettoyer l'√©couteur d'√©v√©nements avec la r√©f√©rence stock√©e\n                if (this._map && this._boundMouseMoveHandler) {\n                    this._map.off('mousemove', this._boundMouseMoveHandler);\n                    this._boundMouseMoveHandler = null;\n                }\n\n                // Retirer l'√©l√©ment du DOM s'il existe\n                if (this._coordsElement && this._coordsElement.parentNode) {\n                    this._coordsElement.parentNode.removeChild(this._coordsElement);\n                    this._coordsElement = null;\n                }\n\n                // Retirer le contr√¥le standalone s'il existe\n                if (this._control && this._map) {\n                    this._map.removeControl(this._control);\n                    this._control = null;\n                }\n\n                Log.info(`${CONTEXT} Module d√©truit avec succ√®s.`);\n\n            } catch (err) {\n                Log.error(`${CONTEXT} Erreur lors de la destruction :`, err.message);\n            }\n        }\n    };\n\n    // Export du module\n    GeoLeaf.UI.CoordinatesDisplay = CoordinatesDisplay;\n\n})(typeof globalThis !== \"undefined\" ? globalThis : window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    /**\n     * Namespace global GeoLeaf\n     */\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    GeoLeaf.UI = GeoLeaf.UI || {};\n\n    /**\n     * Logger unifi√©\n     */\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module GeoLeaf.UI.Branding\n     *\n     * R√¥le :\n     * - Afficher un texte de branding personnalisable\n     * - Positionner le contr√¥le selon la configuration\n     * - Permettre l'activation/d√©sactivation via configuration\n     */\n    const Branding = {\n        /**\n         * R√©f√©rence √† la carte Leaflet.\n         * @type {L.Map|null}\n         * @private\n         */\n        _map: null,\n\n        /**\n         * R√©f√©rence au contr√¥le Leaflet de branding.\n         * @type {L.Control|null}\n         * @private\n         */\n        _control: null,\n\n        /**\n         * Options du module\n         * @type {Object}\n         * @private\n         */\n        _options: {\n            position: \"bottomleft\",\n            text: \"Propuls√© par ¬© GeoLeaf with Leaflet\"\n        },\n\n        /**\n         * Initialise le module de branding\n         * @param {L.Map} map - Instance de la carte Leaflet\n         * @param {Object} options - Options de configuration\n         */\n        init(map, options = {}) {\n            const context = \"[GeoLeaf.UI.Branding]\";\n\n            try {\n                if (!map) {\n                    throw new Error(\"Une instance de carte Leaflet est requise.\");\n                }\n\n                this._map = map;\n                this._options = Object.assign({}, this._options, options);\n\n                // V√©rifier si le module est activ√© dans la config\n                const brandingConfig = GeoLeaf.Config?.get(\"brandingConfig\");\n\n                if (brandingConfig === false || (brandingConfig && brandingConfig.enabled === false)) {\n                    Log.info(`${context} Branding d√©sactiv√© dans la configuration.`);\n                    return;\n                }\n\n                // Utiliser les param√®tres de config si disponibles\n                if (brandingConfig && typeof brandingConfig === \"object\") {\n                    if (brandingConfig.text) {\n                        this._options.text = brandingConfig.text;\n                    }\n                    if (brandingConfig.position) {\n                        this._options.position = brandingConfig.position;\n                    }\n                }\n\n                // Cr√©er le contr√¥le Leaflet\n                this._createControl();\n\n                Log.info(`${context} Module initialis√© avec succ√®s.`);\n\n            } catch (err) {\n                Log.error(`${context} Erreur lors de l'initialisation :`, err.message);\n            }\n        },\n\n        /**\n         * Cr√©e le contr√¥le Leaflet pour l'affichage du branding\n         * @private\n         */\n        _createControl() {\n            const context = \"[GeoLeaf.UI.Branding]\";\n\n            try {\n                // D√©finir le contr√¥le Leaflet personnalis√©\n                const BrandingControl = L.Control.extend({\n                    options: {\n                        position: this._options.position\n                    },\n\n                    onAdd: () => {\n                        // Cr√©er le conteneur principal\n                        const container = L.DomUtil.create(\"div\", \"geoleaf-branding\");\n\n                        // Emp√™cher les √©v√©nements de la carte sur ce contr√¥le\n                        L.DomEvent.disableClickPropagation(container);\n                        L.DomEvent.disableScrollPropagation(container);\n\n                        // Cr√©er l'√©l√©ment d'affichage du texte\n                        const brandingElement = L.DomUtil.create(\"div\", \"branding-content\", container);\n                        // SAFE: Utilisation de textContent pour √©viter XSS\n                        brandingElement.textContent = this._options.text;\n\n                        return container;\n                    },\n\n                    onRemove: () => {\n                        // Rien √† nettoyer pour ce contr√¥le\n                    }\n                });\n\n                // Cr√©er et ajouter le contr√¥le √† la carte\n                this._control = new BrandingControl();\n                this._control.addTo(this._map);\n\n                Log.info(`${context} Contr√¥le de branding cr√©√© et ajout√© √† la carte.`);\n\n            } catch (err) {\n                Log.error(`${context} Erreur lors de la cr√©ation du contr√¥le :`, err.message);\n            }\n        },\n\n        /**\n         * D√©truit le contr√¥le et nettoie les ressources\n         */\n        destroy() {\n            const context = \"[GeoLeaf.UI.Branding]\";\n\n            try {\n                if (this._control && this._map) {\n                    this._map.removeControl(this._control);\n                    this._control = null;\n                }\n\n                Log.info(`${context} Module d√©truit avec succ√®s.`);\n\n            } catch (err) {\n                Log.error(`${context} Erreur lors de la destruction :`, err.message);\n            }\n        },\n\n        /**\n         * Active l'affichage du branding\n         */\n        show() {\n            if (this._control && !this._map.hasControl(this._control)) {\n                this._control.addTo(this._map);\n            }\n        },\n\n        /**\n         * D√©sactive l'affichage du branding\n         */\n        hide() {\n            if (this._control && this._map) {\n                this._map.removeControl(this._control);\n            }\n        },\n\n        /**\n         * Met √† jour le texte du branding\n         * @param {string} text - Nouveau texte\n         */\n        setText(text) {\n            if (this._control) {\n                const container = this._control.getContainer();\n                if (container) {\n                    const brandingElement = container.querySelector(\".branding-content\");\n                    if (brandingElement) {\n                        // SAFE: Utilisation de textContent pour √©viter XSS\n                        brandingElement.textContent = text;\n                    }\n                }\n            }\n        }\n    };\n\n    // Export du module\n    GeoLeaf.UI.Branding = Branding;\n\n})(typeof globalThis !== \"undefined\" ? globalThis : window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf Content Builder - Core Module\n *\n * Centralise les fonctions utilitaires, validateurs et r√©solution de badges\n * pour tous les renderers du Content Builder.\n *\n * @module ui/content-builder/core\n * @author GeoLeaf Team\n * @version 1.0.0\n * @since Sprint 4.5 (Janvier 2026)\n *\n * @example\n * // Acc√®s au module Core\n * const Core = GeoLeaf._ContentBuilder.Core;\n *\n * // Validation image URL\n * const imageUrl = Core.validateImageUrl('https://example.com/photo.jpg');\n *\n * // R√©solution badge taxonomie\n * const badge = Core.resolveBadge(poi, 'attributes.categoryId', 'default');\n *\n * // Formatage coordonn√©es\n * const coords = Core.formatCoordinates(45.7578, 4.8320);\n * // Retourne: \"45.757800, 4.832000\"\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    if (!GeoLeaf._ContentBuilder) GeoLeaf._ContentBuilder = {};\n\n    // ========================================\n    //   D√âPENDANCES & HELPERS\n    // ========================================\n\n    /**\n     * R√©cup√®re la fonction resolveField depuis GeoLeaf.Utils avec fallback d√©fensif.\n     *\n     * Cette fonction permet de r√©soudre des valeurs dans des objets POI en testant\n     * plusieurs chemins (paths) dans l'ordre jusqu'√† trouver une valeur valide.\n     *\n     * @function getResolveField\n     * @returns {Function} Fonction resolveField(obj, ...paths) ‚Üí value|null\n     *\n     * @example\n     * const resolveField = getResolveField();\n     * const name = resolveField(poi, 'attributes.name', 'attributes.nom', 'properties.name');\n     * // Teste dans l'ordre: poi.attributes.name ‚Üí poi.attributes.nom ‚Üí poi.properties.name\n     * // Retourne la premi√®re valeur non-null trouv√©e\n     *\n     * @example\n     * // Avec fallback si Utils non charg√©\n     * const resolveField = getResolveField();\n     * const value = resolveField({ attributes: { price: 42 } }, 'attributes.price');\n     * // Retourne: 42\n     */\n    function getResolveField() {\n        if (GeoLeaf.Utils && typeof GeoLeaf.Utils.resolveField === 'function') {\n            return GeoLeaf.Utils.resolveField;\n        }\n        // Fallback minimal si Utils non charg√©\n        return function (obj, ...paths) {\n            if (!obj) return null;\n            for (const path of paths) {\n                if (!path) continue;\n                const parts = String(path).split('.');\n                let current = obj;\n                let found = true;\n                for (const part of parts) {\n                    if (current && typeof current === 'object' && part in current) {\n                        current = current[part];\n                    } else {\n                        found = false;\n                        break;\n                    }\n                }\n                if (found && current !== undefined && current !== null) {\n                    return current;\n                }\n            }\n            return null;\n        };\n    }\n\n    /**\n     * R√©cup√®re la fonction escapeHtml depuis GeoLeaf.Security avec fallback d√©fensif.\n     *\n     * Essentiel pour pr√©venir les attaques XSS en √©chappant tous les caract√®res HTML\n     * sp√©ciaux avant insertion dans le DOM.\n     *\n     * @function getEscapeHtml\n     * @returns {Function} Fonction escapeHtml(str) ‚Üí string\n     *\n     * @example\n     * const escapeHtml = getEscapeHtml();\n     * const safe = escapeHtml('<script>alert(\"XSS\")</script>');\n     * // Retourne: \"&lt;script&gt;alert(&quot;XSS&quot;)&lt;/script&gt;\"\n     *\n     * @example\n     * // Utilisation dans un renderer\n     * const escapeHtml = getEscapeHtml();\n     * const html = '<div>' + escapeHtml(userInput) + '</div>';\n     * // userInput est s√©curis√© contre XSS\n     */\n    function getEscapeHtml() {\n        if (GeoLeaf.Security && typeof GeoLeaf.Security.escapeHtml === 'function') {\n            return GeoLeaf.Security.escapeHtml;\n        }\n        // Fallback minimal si Security non charg√©\n        return function (str) {\n            if (str == null) return '';\n            const div = document.createElement('div');\n            div.textContent = String(str);\n            return div.innerHTML;\n        };\n    }\n\n    /**\n     * R√©cup√®re le profil de configuration actif depuis GeoLeaf.Config.\n     *\n     * Le profil contient la taxonomie (cat√©gories, sous-cat√©gories), les styleRules,\n     * et toutes les configurations sp√©cifiques √† la couche active.\n     *\n     * @function getActiveProfile\n     * @returns {Object|null} Profil actif avec structure:\n     *   - {Object} taxonomy - Cat√©gories et sous-cat√©gories\n     *   - {Array} styleRules - R√®gles de style conditionnelles\n     *   - {Object} detailPopup - Configuration popup POI\n     *   - {Object} detailTooltip - Configuration tooltip POI\n     *   - {Array} detailLayout - Configuration panel POI\n     * @returns {null} Si Config non charg√© ou pas de profil actif\n     *\n     * @example\n     * const profile = getActiveProfile();\n     * if (profile && profile.taxonomy) {\n     *   const categories = profile.taxonomy.categories;\n     *   // Acc√®s aux cat√©gories de la taxonomie\n     * }\n     */\n    function getActiveProfile() {\n        if (GeoLeaf.Config && typeof GeoLeaf.Config.getActiveProfile === 'function') {\n            return GeoLeaf.Config.getActiveProfile() || null;\n        }\n        return null;\n    }\n\n    /**\n     * R√©cup√®re le syst√®me de logging GeoLeaf.Log avec fallback sur console.\n     *\n     * Permet d'utiliser les m√©thodes debug(), info(), warn(), error() de mani√®re\n     * coh√©rente dans tout le Content Builder.\n     *\n     * @function getLog\n     * @returns {Object} Logger avec m√©thodes:\n     *   - {Function} debug(message, ...args) - Logs de d√©bogage\n     *   - {Function} info(message, ...args) - Logs informatifs\n     *   - {Function} warn(message, ...args) - Avertissements\n     *   - {Function} error(message, ...args) - Erreurs\n     *\n     * @example\n     * const log = getLog();\n     * log.info('[ContentBuilder] Rendering popup');\n     * log.warn('[ContentBuilder] Image URL invalide:', url);\n     * log.error('[ContentBuilder] POI invalide:', poi);\n     */\n    function getLog() {\n        return GeoLeaf.Log || console;\n    }\n\n    // ========================================\n    //   VALIDATORS\n    // ========================================\n\n    /**\n     * Valide une URL d'image en v√©rifiant les protocoles autoris√©s et la structure.\n     *\n     * Utilise GeoLeaf.Security.validateUrl si disponible, sinon applique une validation\n     * basique avec whitelist de protocoles (https://, http://, data:image//, /, ./).\n     *\n     * @function validateImageUrl\n     * @param {string} url - URL √† valider\n     * @returns {string|null} URL valide (trimmed) ou null si invalide\n     *\n     * @example\n     * // URL HTTPS valide\n     * const url1 = validateImageUrl('https://example.com/photo.jpg');\n     * // Retourne: 'https://example.com/photo.jpg'\n     *\n     * @example\n     * // Data URL valide\n     * const url2 = validateImageUrl('data:image/png;base64,iVBORw0KG...');\n     * // Retourne: 'data:image/png;base64,iVBORw0KG...'\n     *\n     * @example\n     * // Chemin relatif valide\n     * const url3 = validateImageUrl('/images/photo.jpg');\n     * // Retourne: '/images/photo.jpg'\n     *\n     * @example\n     * // URL invalide (protocole interdit)\n     * const url4 = validateImageUrl('javascript:alert(1)');\n     * // Retourne: null\n     */\n    function validateImageUrl(url) {\n        if (!url || typeof url !== 'string') return null;\n\n        // Utiliser le validator de GeoLeaf.Security si disponible\n        if (GeoLeaf.Security && typeof GeoLeaf.Security.validateUrl === 'function') {\n            try {\n                return GeoLeaf.Security.validateUrl(url);\n            } catch (e) {\n                getLog().warn('[ContentBuilder.Core] URL image invalide:', e.message);\n                return null;\n            }\n        }\n\n        // Fallback : validation basique\n        const trimmed = url.trim();\n        if (/^https?:\\/\\//i.test(trimmed) ||\n            /^data:image\\//i.test(trimmed) ||\n            trimmed.startsWith('/') ||\n            trimmed.startsWith('./') ||\n            trimmed.startsWith('../')) {\n            return trimmed;\n        }\n\n        return null;\n    }\n\n    /**\n     * Valide des coordonn√©es g√©ographiques (latitude, longitude) avec support\n     * de plusieurs formats d'entr√©e.\n     *\n     * Supporte:\n     * - Format array: [lat, lng]\n     * - Format objet: {lat: number, lng: number}\n     * - Validation limites: lat ‚àà [-90, 90], lng ‚àà [-180, 180]\n     *\n     * @function validateCoordinates\n     * @param {Array<number>|Object|*} value - Coordonn√©es √† valider\n     * @returns {{lat: number, lng: number}|null} Coordonn√©es valides ou null\n     *\n     * @example\n     * // Format array\n     * const coords1 = validateCoordinates([45.7578, 4.8320]);\n     * // Retourne: { lat: 45.7578, lng: 4.8320 }\n     *\n     * @example\n     * // Format objet\n     * const coords2 = validateCoordinates({ lat: 45.7578, lng: 4.8320 });\n     * // Retourne: { lat: 45.7578, lng: 4.8320 }\n     *\n     * @example\n     * // Coordonn√©es invalides (hors limites)\n     * const coords3 = validateCoordinates([95, 200]);\n     * // Retourne: null (lat > 90, lng > 180)\n     *\n     * @example\n     * // Format invalide\n     * const coords4 = validateCoordinates('45.7578, 4.8320');\n     * // Retourne: null (string non support√©)\n     */\n    function validateCoordinates(value) {\n        if (value == null) return null;\n\n        let lat, lng;\n\n        // Format array [lat, lng]\n        if (Array.isArray(value) && value.length >= 2) {\n            lat = parseFloat(value[0]);\n            lng = parseFloat(value[1]);\n        }\n        // Format objet {lat, lng}\n        else if (typeof value === 'object' && value.lat !== undefined && value.lng !== undefined) {\n            lat = parseFloat(value.lat);\n            lng = parseFloat(value.lng);\n        }\n        // Format invalide\n        else {\n            return null;\n        }\n\n        // Validation des valeurs\n        if (isNaN(lat) || isNaN(lng)) return null;\n        if (lat < -90 || lat > 90) return null;\n        if (lng < -180 || lng > 180) return null;\n\n        return { lat, lng };\n    }\n\n    /**\n     * Valide une valeur num√©rique en la convertissant si n√©cessaire.\n     *\n     * Accepte number, string convertible en number.\n     * Rejette NaN, null, undefined, cha√Ænes vides.\n     *\n     * @function validateNumber\n     * @param {number|string|*} value - Valeur √† valider\n     * @returns {number|null} Nombre valide ou null si invalide\n     *\n     * @example\n     * // Number direct\n     * const num1 = validateNumber(42.5);\n     * // Retourne: 42.5\n     *\n     * @example\n     * // String convertible\n     * const num2 = validateNumber('42.5');\n     * // Retourne: 42.5\n     *\n     * @example\n     * // Valeurs invalides\n     * validateNumber(null);      // null\n     * validateNumber('');        // null\n     * validateNumber('abc');     // null\n     * validateNumber(NaN);       // null\n     * validateNumber(undefined); // null\n     */\n    function validateNumber(value) {\n        if (value == null || value === '') return null;\n        const num = typeof value === 'number' ? value : parseFloat(value);\n        return isNaN(num) ? null : num;\n    }\n\n    /**\n     * Valide un rating (note) dans l'√©chelle 0-5.\n     *\n     * Utilise validateNumber puis v√©rifie que la valeur est dans [0, 5].\n     * Utile pour les syst√®mes de notation 5 √©toiles.\n     *\n     * @function validateRating\n     * @param {number|string|*} value - Rating √† valider\n     * @returns {number|null} Rating valide ‚àà [0, 5] ou null si invalide\n     *\n     * @example\n     * // Rating valide\n     * const rating1 = validateRating(4.5);\n     * // Retourne: 4.5\n     *\n     * @example\n     * // Rating valide (limites)\n     * const rating2 = validateRating(0);   // 0 (valide)\n     * const rating3 = validateRating(5);   // 5 (valide)\n     *\n     * @example\n     * // Rating invalide (hors limites)\n     * const rating4 = validateRating(-1);  // null (< 0)\n     * const rating5 = validateRating(6);   // null (> 5)\n     * const rating6 = validateRating('excellent'); // null (non num√©rique)\n     */\n    function validateRating(value) {\n        const num = validateNumber(value);\n        if (num === null) return null;\n        if (num < 0 || num > 5) return null;\n        return num;\n    }\n\n    // ========================================\n    //   BADGE RESOLVER (Taxonomie + Styles)\n    // ========================================\n\n    /**\n     * R√©sout un badge en appliquant la taxonomie et les styleRules de la couche.\n     *\n     * Processus:\n     * 1. R√©cup√®re la valeur via resolveField (ex: categoryId)\n     * 2. Cherche le label dans taxonomy.categories ou subcategories\n     * 3. Applique les couleurs depuis GeoLeaf.Helpers.StyleResolver\n     * 4. Retourne { displayValue, style } pour affichage HTML\n     *\n     * G√®re 2 types de champs:\n     * - categoryId: r√©solution cat√©gorie principale\n     * - subCategoryId: r√©solution sous-cat√©gorie (avec parent categoryId)\n     *\n     * @function resolveBadge\n     * @param {Object} poi - POI avec attributs et _layerConfig\n     * @param {Object} poi.attributes - Attributs du POI (categoryId, subCategoryId, etc.)\n     * @param {Object} poi._layerConfig - Configuration de la couche (styleRules)\n     * @param {string} field - Chemin du champ (ex: 'attributes.categoryId')\n     * @param {string} [variant] - Variante du badge (non utilis√© actuellement)\n     * @returns {{displayValue: string, style: string}} Badge r√©solu\n     * @returns {string} returns.displayValue - Label du badge (taxonomie ou valeur brute)\n     * @returns {string} returns.style - CSS inline (background-color, border-color)\n     *\n     * @example\n     * // R√©solution cat√©gorie principale\n     * const badge1 = resolveBadge(\n     *   { attributes: { categoryId: 'restaurant' }, _layerConfig: { id: 'pois' } },\n     *   'attributes.categoryId'\n     * );\n     * // Retourne: {\n     * //   displayValue: 'Restaurant',\n     * //   style: 'background-color: #e74c3c; border-color: #c0392b;'\n     * // }\n     *\n     * @example\n     * // R√©solution sous-cat√©gorie\n     * const badge2 = resolveBadge(\n     *   { attributes: { categoryId: 'restaurant', subCategoryId: 'gastronomique' } },\n     *   'attributes.subCategoryId'\n     * );\n     * // Retourne: { displayValue: 'Gastronomique', style: '...' }\n     *\n     * @example\n     * // Valeur non mapp√©e dans taxonomie\n     * const badge3 = resolveBadge(\n     *   { attributes: { categoryId: 'unknown' } },\n     *   'attributes.categoryId'\n     * );\n     * // Retourne: { displayValue: 'unknown', style: '' }\n     */\n    function resolveBadge(poi, field, variant) {\n        const resolveField = getResolveField();\n        const value = resolveField(poi, field);\n\n        if (value == null || value === '') {\n            return { displayValue: '', style: '' };\n        }\n\n        const profile = getActiveProfile();\n        const taxonomy = profile?.taxonomy;\n        let displayValue = String(value);\n        let style = '';\n\n        // Pas de taxonomie : retour simple\n        if (!taxonomy || !field) {\n            return { displayValue, style };\n        }\n\n        const attrs = poi.attributes || {};\n\n        // R√©solution cat√©gorie principale\n        if (field.includes('categoryId') && !field.includes('subCategoryId')) {\n            const catData = taxonomy.categories?.[value];\n            if (catData?.label) {\n                displayValue = catData.label;\n            }\n\n            // Couleurs depuis styleRules de la couche\n            if (GeoLeaf.Helpers?.StyleResolver && poi._layerConfig) {\n                const styleColors = GeoLeaf.Helpers.StyleResolver.getColorsFromLayerStyle(\n                    poi,\n                    poi._layerConfig.id\n                );\n                if (styleColors) {\n                    if (styleColors.fillColor) {\n                        style += 'background-color: ' + styleColors.fillColor + ';';\n                    }\n                    if (styleColors.color) {\n                        style += 'border-color: ' + styleColors.color + ';';\n                    }\n                }\n            }\n        }\n        // R√©solution sous-cat√©gorie\n        else if (field.includes('subCategoryId')) {\n            const catId = attrs.categoryId || attrs.category;\n            const catData = taxonomy.categories?.[catId];\n            const subCatData = catData?.subcategories?.[value];\n\n            if (subCatData?.label) {\n                displayValue = subCatData.label;\n            }\n\n            // Couleurs depuis styleRules de la couche\n            if (GeoLeaf.Helpers?.StyleResolver && poi._layerConfig) {\n                const styleColors = GeoLeaf.Helpers.StyleResolver.getColorsFromLayerStyle(\n                    poi,\n                    poi._layerConfig.id\n                );\n                if (styleColors) {\n                    if (styleColors.fillColor) {\n                        style += 'background-color: ' + styleColors.fillColor + ';';\n                    }\n                    if (styleColors.color) {\n                        style += 'border-color: ' + styleColors.color + ';';\n                    }\n                }\n            }\n        }\n\n        return { displayValue, style };\n    }\n\n    /**\n     * R√©sout un badge pour tooltip (texte uniquement, sans styles).\n     *\n     * Version simplifi√©e de resolveBadge:\n     * - Retourne uniquement le texte (displayValue)\n     * - Pas de styles CSS\n     * - Optimis√© pour tooltips HTML limit√©s\n     *\n     * Supporte √©galement categoryId et subCategoryId avec r√©solution taxonomie.\n     *\n     * @function resolveBadgeTooltip\n     * @param {Object} poi - POI avec attributs\n     * @param {Object} poi.attributes - Attributs du POI\n     * @param {string} field - Chemin du champ (ex: 'attributes.categoryId')\n     * @returns {string} Label du badge (ou valeur brute si pas de taxonomie)\n     *\n     * @example\n     * // R√©solution cat√©gorie avec taxonomie\n     * const text1 = resolveBadgeTooltip(\n     *   { attributes: { categoryId: 'restaurant' } },\n     *   'attributes.categoryId'\n     * );\n     * // Retourne: 'Restaurant' (label taxonomie)\n     *\n     * @example\n     * // R√©solution sous-cat√©gorie\n     * const text2 = resolveBadgeTooltip(\n     *   { attributes: { categoryId: 'restaurant', subCategoryId: 'gastronomique' } },\n     *   'attributes.subCategoryId'\n     * );\n     * // Retourne: 'Gastronomique'\n     *\n     * @example\n     * // Valeur vide\n     * const text3 = resolveBadgeTooltip(\n     *   { attributes: {} },\n     *   'attributes.unknownField'\n     * );\n     * // Retourne: ''\n     */\n    function resolveBadgeTooltip(poi, field) {\n        const resolveField = getResolveField();\n        const value = resolveField(poi, field);\n\n        if (value == null || value === '') return '';\n\n        const profile = getActiveProfile();\n        const taxonomy = profile?.taxonomy;\n\n        if (!taxonomy) return String(value);\n\n        const attrs = poi.attributes || {};\n\n        // Sous-cat√©gorie\n        if (field.includes('subCategoryId')) {\n            const catId = attrs.categoryId || attrs.category;\n            const catData = taxonomy.categories?.[catId];\n            const subCatData = catData?.subcategories?.[value];\n            if (subCatData?.label) return subCatData.label;\n        }\n        // Cat√©gorie\n        else if (field.includes('categoryId')) {\n            const catData = taxonomy.categories?.[value];\n            if (catData?.label) return catData.label;\n        }\n\n        return String(value);\n    }\n\n    // ========================================\n    //   UTILITAIRES DE FORMATAGE\n    // ========================================\n\n    /**\n     * Formate un nombre avec la locale fran√ßaise (s√©parateurs FR).\n     *\n     * Utilise toLocaleString('fr-FR'):\n     * - S√©parateur de milliers: espace (\\u202f)\n     * - S√©parateur de d√©cimales: virgule\n     *\n     * @function formatNumber\n     * @param {number} num - Nombre √† formater\n     * @returns {string} Nombre format√© avec conventions fran√ßaises\n     *\n     * @example\n     * // Entier\n     * const str1 = formatNumber(1234567);\n     * // Retourne: '1\\u202f234\\u202f567'\n     *\n     * @example\n     * // D√©cimal\n     * const str2 = formatNumber(1234.56);\n     * // Retourne: '1\\u202f234,56'\n     *\n     * @example\n     * // Petit nombre\n     * const str3 = formatNumber(42);\n     * // Retourne: '42'\n     */\n    function formatNumber(num) {\n        return num.toLocaleString('fr-FR');\n    }\n\n    /**\n     * Formate des coordonn√©es g√©ographiques en cha√Æne \"lat, lng\".\n     *\n     * Utilise toFixed pour contr√¥ler la pr√©cision d√©cimale.\n     * Pr√©cision recommand√©e: 6 d√©cimales (~10cm de pr√©cision).\n     *\n     * @function formatCoordinates\n     * @param {number} lat - Latitude (‚àà [-90, 90])\n     * @param {number} lng - Longitude (‚àà [-180, 180])\n     * @param {number} [precision=6] - Nombre de d√©cimales (1-15)\n     * @returns {string} Coordonn√©es format√©es \"lat, lng\"\n     *\n     * @example\n     * // Pr√©cision par d√©faut (6 d√©cimales)\n     * const str1 = formatCoordinates(45.7578137, 4.8320114);\n     * // Retourne: '45.757814, 4.832011'\n     *\n     * @example\n     * // Haute pr√©cision (8 d√©cimales)\n     * const str2 = formatCoordinates(45.7578137, 4.8320114, 8);\n     * // Retourne: '45.75781370, 4.83201140'\n     *\n     * @example\n     * // Faible pr√©cision (2 d√©cimales)\n     * const str3 = formatCoordinates(45.7578137, 4.8320114, 2);\n     * // Retourne: '45.76, 4.83'\n     */\n    function formatCoordinates(lat, lng, precision = 6) {\n        return lat.toFixed(precision) + ', ' + lng.toFixed(precision);\n    }\n\n    /**\n     * Formate un rating (note) au format \"X.X/5\".\n     *\n     * Utilise toFixed pour afficher le nombre de d√©cimales souhait√©.\n     * Compatible avec les syst√®mes de notation 5 √©toiles.\n     *\n     * @function formatRating\n     * @param {number} rating - Note √† formater (‚àà [0, 5])\n     * @param {number} [precision=1] - Nombre de d√©cimales (0-2)\n     * @returns {string} Rating format√© (ex: \"4.5/5\", \"3/5\")\n     *\n     * @example\n     * // Pr√©cision par d√©faut (1 d√©cimale)\n     * const str1 = formatRating(4.567);\n     * // Retourne: '4.6/5'\n     *\n     * @example\n     * // Sans d√©cimale\n     * const str2 = formatRating(4.567, 0);\n     * // Retourne: '5/5'\n     *\n     * @example\n     * // 2 d√©cimales\n     * const str3 = formatRating(4.567, 2);\n     * // Retourne: '4.57/5'\n     *\n     * @example\n     * // Note parfaite\n     * const str4 = formatRating(5);\n     * // Retourne: '5.0/5'\n     */\n    function formatRating(rating, precision = 1) {\n        return rating.toFixed(precision) + '/5';\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    GeoLeaf._ContentBuilder.Core = {\n        // Helpers d√©pendances\n        getResolveField,\n        getEscapeHtml,\n        getActiveProfile,\n        getLog,\n\n        // Validators\n        validateImageUrl,\n        validateCoordinates,\n        validateNumber,\n        validateRating,\n\n        // Badge resolver\n        resolveBadge,\n        resolveBadgeTooltip,\n\n        // Formatters\n        formatNumber,\n        formatCoordinates,\n        formatRating\n    };\n\n    getLog().info('[GeoLeaf._ContentBuilder.Core] Module Core charg√© - Helpers + Validators + Badge resolver');\n\n})(typeof window !== 'undefined' ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf Content Builder - Templates Module\n *\n * Centralise tous les templates HTML (14 builders) et classes CSS standards\n * pour les renderers (text, number, badge, rating, image, link, list, etc.).\n *\n * Organisation:\n * - CSS_CLASSES: Library de classes CSS standards\n * - Template Builders: 14 fonctions de construction HTML\n * - Wrappers: Fonctions utilitaires (wrapInParagraph, wrapInDiv, wrapInLink)\n *\n * @module ui/content-builder/templates\n * @author Assistant\n * @version 1.0.0\n * @since 2026-01-18 (Sprint 4.5 - Modularisation)\n *\n * @example\n * // Import des templates\n * const Templates = GeoLeaf._ContentBuilder.Templates;\n *\n * @example\n * // Utilisation CSS_CLASSES\n * const className = Templates.CSS_CLASSES.badge; // 'gl-poi-badge'\n *\n * @example\n * // Cr√©ation d'un badge\n * const badgeHtml = Templates.createBadge(\n *   { displayValue: 'Restaurant', style: 'background-color: #e74c3c;' },\n *   'category',\n *   escapeHtml\n * );\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    if (!GeoLeaf._ContentBuilder) GeoLeaf._ContentBuilder = {};\n\n    // ========================================\n    //   CLASSES CSS STANDARDS\n    // ========================================\n\n    const CSS_CLASSES = {\n        // Container classes\n        text: 'gl-content__text',\n        longtext: 'gl-content__longtext',\n        number: 'gl-content__number',\n        metric: 'gl-content__metric',\n        badge: 'gl-poi-badge',\n        rating: 'gl-content__rating',\n        image: 'gl-content__image',\n        link: 'gl-content__link',\n        list: 'gl-content__list',\n        table: 'gl-content__table',\n        tags: 'gl-content__tags',\n        tag: 'gl-content__tag',\n        coordinates: 'gl-content__coordinates',\n        gallery: 'gl-content__gallery',\n\n        // Badge variants\n        badgeDefault: 'gl-poi-badge--default',\n        badgeStatus: 'gl-poi-badge--status',\n        badgePriority: 'gl-poi-badge--priority',\n        badgeCategory: 'gl-poi-badge--category',\n\n        // Rating\n        star: 'gl-star',\n        starFull: 'gl-star--full',\n        starHalf: 'gl-star--half',\n        starEmpty: 'gl-star--empty'\n    };\n\n    // ========================================\n    //   TEMPLATE BUILDERS\n    // ========================================\n\n    /**\n     * Construit un attribut HTML class=\"...\" avec classes de base et personnalis√©es.\n     *\n     * Combine baseClass (obligatoire) + customClass (optionnel) en un seul attribut.\n     *\n     * @function buildClassAttr\n     * @param {string} baseClass - Classe CSS de base (ex: 'gl-content__badge')\n     * @param {string} [customClass] - Classe personnalis√©e optionnelle\n     * @returns {string} Attribut HTML class (ex: ' class=\"gl-content__badge custom\"')\n     *\n     * @example\n     * // Classe de base uniquement\n     * const attr1 = buildClassAttr('gl-content__badge');\n     * // Retourne: ' class=\"gl-content__badge\"'\n     *\n     * @example\n     * // Classe de base + classe personnalis√©e\n     * const attr2 = buildClassAttr('gl-content__badge', 'my-custom-badge');\n     * // Retourne: ' class=\"gl-content__badge my-custom-badge\"'\n     */\n    function buildClassAttr(baseClass, customClass) {\n        const classes = [baseClass];\n        if (customClass) classes.push(customClass);\n        return ' class=\"' + classes.join(' ') + '\"';\n    }\n\n    /**\n     * Construit un attribut HTML style=\"...\" si un style est fourni.\n     *\n     * Retourne une cha√Æne vide si style est null/undefined/vide.\n     *\n     * @function buildStyleAttr\n     * @param {string} [style] - Style CSS inline (ex: 'color: red; background: blue;')\n     * @returns {string} Attribut HTML style (ex: ' style=\"color: red;\"') ou cha√Æne vide\n     *\n     * @example\n     * // Avec style\n     * const attr1 = buildStyleAttr('color: red; font-weight: bold;');\n     * // Retourne: ' style=\"color: red; font-weight: bold;\"'\n     *\n     * @example\n     * // Sans style\n     * const attr2 = buildStyleAttr('');\n     * // Retourne: ''\n     */\n    function buildStyleAttr(style) {\n        return style ? ' style=\"' + style + '\"' : '';\n    }\n\n    /**\n     * Construit un label HTML avec gestion d'ic√¥ne et √©chappement.\n     *\n     * Utilis√© dans les templates pour afficher un label avec ic√¥ne optionnelle.\n     *\n     * @function buildLabel\n     * @param {string} label - Texte du label (sera √©chapp√©)\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @param {string} [icon] - Ic√¥ne optionnelle (HTML non √©chapp√©)\n     * @returns {string} HTML du label avec ic√¥ne si fournie\n     *\n     * @example\n     * // Label simple\n     * const html1 = buildLabel('Restaurant', escapeHtml);\n     * // Retourne: '<span>Restaurant</span>'\n     *\n     * @example\n     * // Label avec ic√¥ne\n     * const html2 = buildLabel('Restaurant', escapeHtml, '<i class=\"fa fa-utensils\"></i>');\n     * // Retourne: '<i class=\"fa fa-utensils\"></i><span>Restaurant</span>'\n     */\n    function buildLabel(label, escapeHtml, icon) {\n        if (!label) return '';\n        return '<strong>' + escapeHtml(label) + ':</strong> ';\n    }\n\n    /**\n     * Enveloppe du contenu HTML dans un paragraphe <p> avec classes.\n     *\n     * @function wrapInParagraph\n     * @param {string} content - Contenu HTML (d√©j√† √©chapp√© ou non)\n     * @param {string} className - Classe CSS de base\n     * @param {string} [customClass] - Classe personnalis√©e optionnelle\n     * @returns {string} HTML paragraphe avec classes\n     *\n     * @example\n     * const html = wrapInParagraph('Restaurant', 'gl-content__text');\n     * // Retourne: '<p class=\"gl-content__text\">Restaurant</p>'\n     *\n     * @example\n     * const html2 = wrapInParagraph('Restaurant', 'gl-content__text', 'my-custom');\n     * // Retourne: '<p class=\"gl-content__text my-custom\">Restaurant</p>'\n     */\n    function wrapInParagraph(content, className, customClass) {\n        return '<p' + buildClassAttr(className, customClass) + '>' + content + '</p>';\n    }\n\n    /**\n     * Enveloppe du contenu HTML dans un div <div> avec classes.\n     *\n     * @function wrapInDiv\n     * @param {string} content - Contenu HTML (d√©j√† √©chapp√© ou non)\n     * @param {string} className - Classe CSS de base\n     * @param {string} [customClass] - Classe personnalis√©e optionnelle\n     * @returns {string} HTML div avec classes\n     *\n     * @example\n     * const html = wrapInDiv('Content', 'gl-content__longtext');\n     * // Retourne: '<div class=\"gl-content__longtext\">Content</div>'\n     */\n    function wrapInDiv(content, className, customClass) {\n        return '<div' + buildClassAttr(className, customClass) + '>' + content + '</div>';\n    }\n\n    /**\n     * Cr√©e un √©l√©ment de texte simple <p> avec label optionnel.\n     *\n     * Format: <p class=\"gl-content__text\"><strong>Label:</strong> Value</p>\n     *\n     * @function createTextElement\n     * @param {string} value - Valeur texte (√† √©chapper)\n     * @param {Object} config - Configuration renderer\n     * @param {string} [config.label] - Label optionnel\n     * @param {string} [config.className] - Classe personnalis√©e\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @returns {string} HTML paragraphe avec texte\n     *\n     * @example\n     * // Avec label\n     * const html1 = createTextElement('Restaurant', { label: 'Nom' }, escapeHtml);\n     * // Retourne: '<p class=\"gl-content__text\"><strong>Nom:</strong> Restaurant</p>'\n     *\n     * @example\n     * // Sans label\n     * const html2 = createTextElement('Restaurant', {}, escapeHtml);\n     * // Retourne: '<p class=\"gl-content__text\">Restaurant</p>'\n     */\n    function createTextElement(value, config, escapeHtml) {\n        const label = buildLabel(config.label, escapeHtml);\n        const content = label + escapeHtml(value);\n        return wrapInParagraph(content, CSS_CLASSES.text, config.className);\n    }\n\n    /**\n     * Cr√©e un √©l√©ment de texte long <div> avec label s√©par√©.\n     *\n     * Format: <div><p><strong>Label</strong></p><p>Value</p></div>\n     * Utilis√© pour descriptions, commentaires, textes longs.\n     *\n     * @function createLongtextElement\n     * @param {string} value - Valeur texte longue (√† √©chapper)\n     * @param {Object} config - Configuration renderer\n     * @param {string} [config.label] - Label optionnel\n     * @param {string} [config.className] - Classe personnalis√©e\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @returns {string} HTML div avec texte long\n     *\n     * @example\n     * // Avec label\n     * const html1 = createLongtextElement(\n     *   'Une longue description...',\n     *   { label: 'Description' },\n     *   escapeHtml\n     * );\n     * // Retourne: '<div class=\"gl-content__longtext\">\n     * //   <p><strong>Description</strong></p>\n     * //   <p>Une longue description...</p>\n     * // </div>'\n     */\n    function createLongtextElement(value, config, escapeHtml) {\n        const label = config.label ? '<p><strong>' + escapeHtml(config.label) + '</strong></p>' : '';\n        const content = label + '<p>' + escapeHtml(value) + '</p>';\n        return wrapInDiv(content, CSS_CLASSES.longtext, config.className);\n    }\n\n    /**\n     * Cr√©e un √©l√©ment num√©rique <p> avec formatage locale FR.\n     *\n     * Formate le nombre avec toLocaleString('fr-FR').\n     * Supporte prefix, suffix, label.\n     *\n     * @function createNumberElement\n     * @param {number} value - Valeur num√©rique\n     * @param {Object} config - Configuration renderer\n     * @param {string} [config.label] - Label optionnel\n     * @param {string} [config.prefix] - Pr√©fixe (ex: \"~\")\n     * @param {string} [config.suffix] - Suffixe (ex: \"m¬≤\", \"habitants\")\n     * @param {string} [config.className] - Classe personnalis√©e\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @returns {string} HTML paragraphe avec nombre format√©\n     *\n     * @example\n     * // Nombre simple avec suffix\n     * const html1 = createNumberElement(1234567, { suffix: 'habitants' }, escapeHtml);\n     * // Retourne: '<p class=\"gl-content__number\">1\\u202f234\\u202f567 habitants</p>'\n     *\n     * @example\n     * // Avec label + prefix + suffix\n     * const html2 = createNumberElement(120, { label: 'Surface', prefix: '~', suffix: 'm¬≤' }, escapeHtml);\n     * // Retourne: '<p class=\"gl-content__number\"><strong>Surface:</strong> ~120 m¬≤</p>'\n     */\n    function createNumberElement(value, config, escapeHtml) {\n        const formatted = value.toLocaleString('fr-FR');\n        const label = buildLabel(config.label, escapeHtml);\n        const suffix = config.suffix ? ' ' + escapeHtml(config.suffix) : '';\n        const prefix = config.prefix ? escapeHtml(config.prefix) + ' ' : '';\n        const content = label + prefix + formatted + suffix;\n        return wrapInParagraph(content, CSS_CLASSES.number, config.className);\n    }\n\n    /**\n     * Cr√©e un √©l√©ment m√©trique <p> avec formatage (similaire √† number).\n     *\n     * Identique √† createNumberElement mais utilise CSS_CLASSES.metric.\n     * Utilis√© pour m√©triques sp√©cifiques (KPI, statistiques, etc.).\n     *\n     * @function createMetricElement\n     * @param {number} value - Valeur num√©rique\n     * @param {Object} config - Configuration renderer\n     * @param {string} [config.label] - Label optionnel\n     * @param {string} [config.prefix] - Pr√©fixe (ex: \"+\", \"-\")\n     * @param {string} [config.suffix] - Suffixe (ex: \"%\", \"‚Ç¨\")\n     * @param {string} [config.className] - Classe personnalis√©e\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @returns {string} HTML paragraphe avec m√©trique format√©e\n     *\n     * @example\n     * // M√©trique avec pourcentage\n     * const html1 = createMetricElement(95.5, { label: 'Satisfaction', suffix: '%' }, escapeHtml);\n     * // Retourne: '<p class=\"gl-content__metric\"><strong>Satisfaction:</strong> 95,5%</p>'\n     */\n    function createMetricElement(value, config, escapeHtml) {\n        const formatted = value.toLocaleString('fr-FR');\n        const label = buildLabel(config.label, escapeHtml);\n        const suffix = config.suffix ? escapeHtml(config.suffix) : '';\n        const prefix = config.prefix ? escapeHtml(config.prefix) : '';\n        const content = label + prefix + formatted + suffix;\n        return wrapInParagraph(content, CSS_CLASSES.metric, config.className);\n    }\n\n    /**\n     * Cr√©e un badge <span> avec variante et style inline.\n     *\n     * Variantes disponibles:\n     * - 'default': gl-poi-badge--default\n     * - 'status': gl-poi-badge--status\n     * - 'priority': gl-poi-badge--priority\n     * - 'category': gl-poi-badge--category\n     *\n     * @function createBadge\n     * @param {string} value - Texte du badge (√† √©chapper)\n     * @param {string} [variant='default'] - Variante du badge (default, status, priority, category)\n     * @param {string} [style] - Style CSS inline optionnel (ex: 'background-color: #e74c3c;')\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @returns {string} HTML span badge\n     *\n     * @example\n     * // Badge default\n     * const html1 = createBadge('Restaurant', 'default', '', escapeHtml);\n     * // Retourne: '<span class=\"gl-poi-badge gl-poi-badge--default\">Restaurant</span>'\n     *\n     * @example\n     * // Badge category avec style\n     * const html2 = createBadge(\n     *   'Gastronomique',\n     *   'category',\n     *   'background-color: #e74c3c; color: white;',\n     *   escapeHtml\n     * );\n     * // Retourne: '<span class=\"gl-poi-badge gl-poi-badge--category\" style=\"...\">Gastronomique</span>'\n     */\n    function createBadge(value, variant, style, escapeHtml) {\n        variant = variant || 'default';\n        const badgeClass = CSS_CLASSES.badge + ' ' + CSS_CLASSES['badge' + variant.charAt(0).toUpperCase() + variant.slice(1)];\n        const styleAttr = buildStyleAttr(style);\n        return '<span class=\"' + badgeClass + '\"' + styleAttr + '>' + escapeHtml(value) + '</span>';\n    }\n\n    /**\n     * Cr√©e une √©toile <span> de notation avec classe CSS.\n     *\n     * Types disponibles:\n     * - 'full': gl-star--full (‚òÖ plein)\n     * - 'half': gl-star--half (¬Ω √©toile)\n     * - 'empty': gl-star--empty (‚òÜ vide)\n     *\n     * @function createStar\n     * @param {string} type - Type d'√©toile ('full', 'half', 'empty')\n     * @returns {string} HTML span √©toile\n     *\n     * @example\n     * const html1 = createStar('full');\n     * // Retourne: '<span class=\"gl-star gl-star--full\">‚òÖ</span>'\n     *\n     * @example\n     * const html2 = createStar('empty');\n     * // Retourne: '<span class=\"gl-star gl-star--empty\">‚òÖ</span>'\n     */\n    function createStar(type) {\n        const starClass = CSS_CLASSES.star + ' ' + CSS_CLASSES['star' + type.charAt(0).toUpperCase() + type.slice(1)];\n        return '<span class=\"' + starClass + '\">‚òÖ</span>';\n    }\n\n    /**\n     * Cr√©e un √©l√©ment de notation <p> avec √©toiles (0-5).\n     *\n     * G√©n√®re automatiquement les √©toiles pleines, demi et vides.\n     * Logique:\n     * - rating = 4.7 => 4 full + 1 half + 0 empty\n     * - rating = 3.2 => 3 full + 0 half + 2 empty\n     *\n     * @function createRatingElement\n     * @param {number} rating - Note (0-5)\n     * @param {Object} config - Configuration renderer\n     * @param {string} [config.label] - Label optionnel\n     * @param {number} [config.max=5] - Note maximale (g√©n√©ralement 5)\n     * @param {boolean} [config.showValue=true] - Afficher la valeur num√©rique\n     * @param {string} [config.className] - Classe personnalis√©e\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @returns {string} HTML paragraphe avec √©toiles\n     *\n     * @example\n     * // Rating 4.5/5 avec label\n     * const html1 = createRatingElement(4.5, { label: 'Note', showValue: true }, escapeHtml);\n     * // Retourne: '<p class=\"gl-content__rating\">\n     * //   <strong>Note:</strong> ‚òÖ‚òÖ‚òÖ‚òÖ¬Ω (4.5/5)\n     * // </p>'\n     *\n     * @example\n     * // Rating sans valeur num√©rique\n     * const html2 = createRatingElement(3, { showValue: false }, escapeHtml);\n     * // Retourne: '<p class=\"gl-content__rating\">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ</p>'\n     */\n    function createRatingElement(rating, config, escapeHtml) {\n        let stars = '';\n        const fullStars = Math.floor(rating);\n        const hasHalfStar = (rating % 1) >= 0.5;\n\n        // √âtoiles pleines\n        for (let i = 0; i < fullStars; i++) {\n            stars += createStar('full');\n        }\n\n        // Demi-√©toile\n        if (hasHalfStar) {\n            stars += createStar('half');\n        }\n\n        // √âtoiles vides\n        const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);\n        for (let i = 0; i < emptyStars; i++) {\n            stars += createStar('empty');\n        }\n\n        const ratingText = ' (' + rating.toFixed(1) + '/5)';\n        const label = buildLabel(config.label, escapeHtml);\n        const content = label + stars + ratingText;\n        return wrapInDiv(content, CSS_CLASSES.rating, config.className);\n    }\n\n    /**\n     * Cr√©e un √©l√©ment image <img> avec classe et alt.\n     *\n     * @function createImageElement\n     * @param {string} src - URL de l'image (sera √©chapp√©e)\n     * @param {Object} config - Configuration renderer\n     * @param {string} [config.alt] - Texte alternatif optionnel\n     * @param {string} [config.className] - Classe personnalis√©e\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @returns {string} HTML img\n     *\n     * @example\n     * // Image avec alt\n     * const html1 = createImageElement(\n     *   'https://example.com/photo.jpg',\n     *   { alt: 'Photo du restaurant' },\n     *   escapeHtml\n     * );\n     * // Retourne: '<img class=\"gl-content__image\" src=\"https://example.com/photo.jpg\" alt=\"Photo du restaurant\">'\n     *\n     * @example\n     * // Image sans alt\n     * const html2 = createImageElement('https://example.com/photo.jpg', {}, escapeHtml);\n     * // Retourne: '<img class=\"gl-content__image\" src=\"https://example.com/photo.jpg\" alt=\"\">'\n     */\n    function createImageElement(src, config, escapeHtml) {\n        const alt = config.alt ? escapeHtml(config.alt) : '';\n        const classAttr = buildClassAttr(CSS_CLASSES.image, config.className);\n        return '<img' + classAttr + ' src=\"' + escapeHtml(src) + '\" alt=\"' + alt + '\">';\n    }\n\n    /**\n     * Cr√©e un √©l√©ment lien <a> avec target=\"_blank\" et s√©curit√©.\n     *\n     * S√©curit√©: rel=\"noopener noreferrer\" pour √©viter tabnabbing.\n     *\n     * @function createLinkElement\n     * @param {string} href - URL du lien (sera √©chapp√©e)\n     * @param {Object} config - Configuration renderer\n     * @param {string} [config.text] - Texte du lien (d√©faut: URL)\n     * @param {string} [config.label] - Label optionnel\n     * @param {string} [config.className] - Classe personnalis√©e\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @returns {string} HTML paragraphe avec lien\n     *\n     * @example\n     * // Lien avec texte personnalis√©\n     * const html1 = createLinkElement(\n     *   'https://example.com',\n     *   { text: 'Visiter le site', label: 'Site web' },\n     *   escapeHtml\n     * );\n     * // Retourne: '<p class=\"gl-content__link\">\n     * //   <strong>Site web:</strong>\n     * //   <a href=\"https://example.com\" target=\"_blank\" rel=\"noopener noreferrer\">Visiter le site</a>\n     * // </p>'\n     *\n     * @example\n     * // Lien sans texte (affiche URL)\n     * const html2 = createLinkElement('https://example.com', {}, escapeHtml);\n     * // Retourne: '<p class=\"gl-content__link\">\n     * //   <a href=\"https://example.com\" target=\"_blank\" rel=\"noopener noreferrer\">https://example.com</a>\n     * // </p>'\n     */\n    function createLinkElement(href, config, escapeHtml) {\n        const text = config.text ? escapeHtml(config.text) : escapeHtml(href);\n        const label = buildLabel(config.label, escapeHtml);\n        const link = '<a href=\"' + escapeHtml(href) + '\" target=\"_blank\" rel=\"noopener noreferrer\">' + text + '</a>';\n        const content = label + link;\n        return wrapInParagraph(content, CSS_CLASSES.link, config.className);\n    }\n\n    /**\n     * Cr√©e un √©l√©ment liste <ul> avec items.\n     *\n     * Convertit automatiquement les items en string via String(item).\n     *\n     * @function createListElement\n     * @param {Array<string|number|*>} items - Items de la liste\n     * @param {Object} config - Configuration renderer\n     * @param {string} [config.label] - Label optionnel\n     * @param {string} [config.className] - Classe personnalis√©e\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @returns {string} HTML div avec liste ul\n     *\n     * @example\n     * // Liste avec label\n     * const html1 = createListElement(\n     *   ['Pizza', 'Pasta', 'Risotto'],\n     *   { label: 'Sp√©cialit√©s' },\n     *   escapeHtml\n     * );\n     * // Retourne: '<div class=\"gl-content__list\">\n     * //   <p><strong>Sp√©cialit√©s</strong></p>\n     * //   <ul><li>Pizza</li><li>Pasta</li><li>Risotto</li></ul>\n     * // </div>'\n     *\n     * @example\n     * // Liste simple sans label\n     * const html2 = createListElement(['Item 1', 'Item 2'], {}, escapeHtml);\n     * // Retourne: '<div class=\"gl-content__list\"><ul><li>Item 1</li><li>Item 2</li></ul></div>'\n     */\n    function createListElement(items, config, escapeHtml) {\n        const label = config.label ? '<p><strong>' + escapeHtml(config.label) + '</strong></p>' : '';\n        let list = '<ul>';\n        items.forEach(item => {\n            list += '<li>' + escapeHtml(String(item)) + '</li>';\n        });\n        list += '</ul>';\n        const content = label + list;\n        return wrapInDiv(content, CSS_CLASSES.list, config.className);\n    }\n\n    /**\n     * Cr√©e un √©l√©ment table <table> √† partir d'un objet cl√©/valeur.\n     *\n     * G√©n√®re une table HTML avec <th> pour les cl√©s et <td> pour les valeurs.\n     *\n     * @function createTableElement\n     * @param {Object} data - Donn√©es de la table (cl√©/valeur)\n     * @param {Object} config - Configuration renderer\n     * @param {string} [config.label] - Label optionnel\n     * @param {string} [config.className] - Classe personnalis√©e\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @returns {string} HTML div avec table\n     *\n     * @example\n     * // Table avec label\n     * const html1 = createTableElement(\n     *   { 'Ouverture': '9h-18h', 'Fermeture': 'Dimanche' },\n     *   { label: 'Horaires' },\n     *   escapeHtml\n     * );\n     * // Retourne: '<div class=\"gl-content__table\">\n     * //   <p><strong>Horaires</strong></p>\n     * //   <table><tbody>\n     * //     <tr><th>Ouverture</th><td>9h-18h</td></tr>\n     * //     <tr><th>Fermeture</th><td>Dimanche</td></tr>\n     * //   </tbody></table>\n     * // </div>'\n     */\n    function createTableElement(data, config, escapeHtml) {\n        const label = config.label ? '<p><strong>' + escapeHtml(config.label) + '</strong></p>' : '';\n        let table = '<table><tbody>';\n\n        Object.keys(data).forEach(key => {\n            const keyLabel = escapeHtml(String(key));\n            const value = escapeHtml(String(data[key]));\n            table += '<tr><th>' + keyLabel + '</th><td>' + value + '</td></tr>';\n        });\n\n        table += '</tbody></table>';\n        const content = label + table;\n        return wrapInDiv(content, CSS_CLASSES.table, config.className);\n    }\n\n    /**\n     * Cr√©e un tag <span> unique avec classe gl-content__tag.\n     *\n     * Utilis√© par createTagsElement pour g√©n√©rer des tags individuels.\n     *\n     * @function createTag\n     * @param {string|number} tag - Texte du tag (√† √©chapper)\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @returns {string} HTML span tag\n     *\n     * @example\n     * const html = createTag('Restaurant', escapeHtml);\n     * // Retourne: '<span class=\"gl-content__tag\">Restaurant</span>'\n     */\n    function createTag(tag, escapeHtml) {\n        return '<span class=\"' + CSS_CLASSES.tag + '\">' + escapeHtml(String(tag)) + '</span>';\n    }\n\n    /**\n     * Cr√©e un √©l√©ment cloud de tags <div> avec plusieurs tags.\n     *\n     * G√©n√®re un nuage de tags (tag cloud) avec chaque tag s√©par√© par un espace.\n     *\n     * @function createTagsElement\n     * @param {Array<string|number>} tags - Liste de tags\n     * @param {Object} config - Configuration renderer\n     * @param {string} [config.className] - Classe personnalis√©e\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @returns {string} HTML div avec tags\n     *\n     * @example\n     * // Tags multiples\n     * const html = createTagsElement(\n     *   ['Pizza', 'Italien', 'Gastronomique'],\n     *   {},\n     *   escapeHtml\n     * );\n     * // Retourne: '<div class=\"gl-content__tags\">\n     * //   <span class=\"gl-content__tag\">Pizza</span>\n     * //   <span class=\"gl-content__tag\">Italien</span>\n     * //   <span class=\"gl-content__tag\">Gastronomique</span>\n     * // </div>'\n     */\n    function createTagsElement(tags, config, escapeHtml) {\n        let content = '';\n        tags.forEach(tag => {\n            content += createTag(tag, escapeHtml) + ' ';\n        });\n        return wrapInDiv(content.trim(), CSS_CLASSES.tags, config.className);\n    }\n\n    /**\n     * Cr√©e un √©l√©ment coordonn√©es <p> avec lat, lng.\n     *\n     * Formate automatiquement avec 6 d√©cimales de pr√©cision.\n     *\n     * @function createCoordinatesElement\n     * @param {number} lat - Latitude (‚àà [-90, 90])\n     * @param {number} lng - Longitude (‚àà [-180, 180])\n     * @param {Object} config - Configuration renderer\n     * @param {string} [config.className] - Classe personnalis√©e\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @returns {string} HTML paragraphe avec coordonn√©es\n     *\n     * @example\n     * const html = createCoordinatesElement(45.7578137, 4.8320114, {}, escapeHtml);\n     * // Retourne: '<p class=\"gl-content__coordinates\">\n     * //   <strong>Coordonn√©es:</strong> 45.757814, 4.832011\n     * // </p>'\n     */\n    function createCoordinatesElement(lat, lng, config, escapeHtml) {\n        const latFixed = lat.toFixed(6);\n        const lngFixed = lng.toFixed(6);\n        const content = '<strong>Coordonn√©es:</strong> ' + latFixed + ', ' + lngFixed;\n        return wrapInParagraph(content, CSS_CLASSES.coordinates, config.className);\n    }\n\n    /**\n     * Cr√©e un √©l√©ment galerie <div> avec plusieurs images.\n     *\n     * G√©n√®re une galerie d'images sans balises <img> individuelles.\n     * Les URLs doivent √™tre valid√©es avant via validateImageUrl.\n     *\n     * @function createGalleryElement\n     * @param {Array<string>} photos - URLs des photos (d√©j√† valid√©es)\n     * @param {Object} config - Configuration renderer\n     * @param {string} [config.className] - Classe personnalis√©e\n     * @param {Function} escapeHtml - Fonction d'√©chappement HTML\n     * @returns {string} HTML div galerie avec images\n     *\n     * @example\n     * const html = createGalleryElement(\n     *   [\n     *     'https://example.com/photo1.jpg',\n     *     'https://example.com/photo2.jpg'\n     *   ],\n     *   {},\n     *   escapeHtml\n     * );\n     * // Retourne: '<div class=\"gl-content__gallery\">\n     * //   <img src=\"https://example.com/photo1.jpg\" alt=\"Photo\">\n     * //   <img src=\"https://example.com/photo2.jpg\" alt=\"Photo\">\n     * // </div>'\n     */\n    function createGalleryElement(photos, config, escapeHtml) {\n        let gallery = '';\n        photos.forEach(photo => {\n            gallery += '<img src=\"' + escapeHtml(photo) + '\" alt=\"Photo\">';\n        });\n        return wrapInDiv(gallery, CSS_CLASSES.gallery, config.className);\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    GeoLeaf._ContentBuilder.Templates = {\n        // Classes CSS\n        CSS_CLASSES,\n\n        // Helpers de base\n        buildClassAttr,\n        buildStyleAttr,\n        buildLabel,\n        wrapInParagraph,\n        wrapInDiv,\n\n        // Template builders\n        createTextElement,\n        createLongtextElement,\n        createNumberElement,\n        createMetricElement,\n        createBadge,\n        createStar,\n        createRatingElement,\n        createImageElement,\n        createLinkElement,\n        createListElement,\n        createTableElement,\n        createTag,\n        createTagsElement,\n        createCoordinatesElement,\n        createGalleryElement\n    };\n\n    const Log = GeoLeaf.Log || console;\n    Log.info('[GeoLeaf._ContentBuilder.Templates] Module Templates charg√© - 14 builders disponibles');\n\n    // V√©rification de l'export\n    if (!GeoLeaf._ContentBuilder || !GeoLeaf._ContentBuilder.Templates) {\n        Log.error('[GeoLeaf._ContentBuilder.Templates] ERREUR: Export √©chou√©!');\n    } else {\n        Log.info('[GeoLeaf._ContentBuilder.Templates] Export confirm√© - Templates.createMetricElement:', typeof GeoLeaf._ContentBuilder.Templates.createMetricElement);\n    }\n\n})(typeof window !== 'undefined' ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf Content Builder - Assemblers Module\n *\n * G√®re l'assemblage des √©l√©ments de contenu en structures compl√®tes\n * pour les popups (detailPopup), tooltips (contentUnion) et panneaux lat√©raux (items).\n *\n * Organisation:\n * - Helpers: getCore, getRenderers, getResolveField, getEscapeHtml, etc.\n * - Assembleurs: buildPopupHTML, buildTooltipHTML, buildPanelItems\n *\n * @module ui/content-builder/assemblers\n * @author Assistant\n * @version 1.0.0\n * @since 2026-01-18 (Sprint 4.5 - Modularisation)\n *\n * @example\n * // Import des assembleurs\n * const Assemblers = GeoLeaf._ContentBuilder.Assemblers;\n *\n * @example\n * // Construction d'un popup complet\n * const popupHtml = Assemblers.buildPopupHTML(poi, config, options);\n *\n * @example\n * // Construction d'un tooltip\n * const tooltipHtml = Assemblers.buildTooltipHTML(poi, contentUnion);\n */\n\n(function(global) {\n    'use strict';\n\n    // Ensure we're always working with the global reference\n    if (!global.GeoLeaf) {\n        global.GeoLeaf = {};\n    }\n\n    // Use the global object directly throughout this module\n    const GeoLeaf = global.GeoLeaf;\n\n    // ========================================\n    //   ACC√àS AUX MODULES\n    // ========================================\n\n    /**\n     * Get Helpers module (centralized utilities)\n     * @returns {Object}\n     */\n    function getHelpers() {\n        return GeoLeaf._ContentBuilder?.Helpers || {};\n    }\n\n    function getCore() {\n        return GeoLeaf._ContentBuilder?.Core || null;\n    }\n\n    function getRenderers() {\n        return GeoLeaf._ContentBuilder || {};\n    }\n\n    // Use Helpers module with fallbacks\n    function getResolveField() {\n        const helpers = getHelpers();\n        if (helpers.getResolveField) return helpers.getResolveField();\n        const core = getCore();\n        if (core && core.getResolveField) return core.getResolveField();\n        // Minimal fallback\n        return function(obj, ...paths) {\n            for (const path of paths) {\n                const keys = path.split('.');\n                let value = obj;\n                for (const key of keys) {\n                    if (value == null) return null;\n                    value = value[key];\n                }\n                if (value !== null && value !== undefined) return value;\n            }\n            return null;\n        };\n    }\n\n    function getEscapeHtml() {\n        const helpers = getHelpers();\n        if (helpers.getEscapeHtml) return helpers.getEscapeHtml();\n        const core = getCore();\n        if (core && core.getEscapeHtml) return core.getEscapeHtml();\n        // Minimal fallback\n        return function(str) {\n            if (str == null) return '';\n            return String(str)\n                .replace(/&/g, '&amp;')\n                .replace(/</g, '&lt;')\n                .replace(/>/g, '&gt;')\n                .replace(/\"/g, '&quot;')\n                .replace(/'/g, '&#39;');\n        };\n    }\n\n    function getActiveProfile() {\n        const helpers = getHelpers();\n        if (helpers.getActiveProfile) return helpers.getActiveProfile();\n        const core = getCore();\n        if (core && core.getActiveProfile) return core.getActiveProfile();\n        return GeoLeaf.Config?.getActiveProfile?.() || null;\n    }\n\n    function getLog() {\n        const helpers = getHelpers();\n        if (helpers.getLog) return helpers.getLog();\n        const core = getCore();\n        if (core && core.getLog) return core.getLog();\n        return GeoLeaf.Utils?.Logger || console;\n    }\n\n    function renderItem(poi, config, options = {}) {\n        const enableDebug = (typeof window !== 'undefined' && window.__GEOLEAF_DEBUG_POPUP__) || false;\n        const renderers = getRenderers();\n        // ...logs [POPUP] supprim√©s...\n        if (renderers && renderers.renderItem) {\n            const result = renderers.renderItem(poi, config, options);\n            return result;\n        }\n\n        // Fallback : renderer direct\n        if (!config || !config.type) {\n            if (enableDebug) {\n                getLog().warn('[Assemblers renderItem DEBUG] No config or type');\n            }\n            return '';\n        }\n\n        const renderer = renderers['render' + config.type.charAt(0).toUpperCase() + config.type.slice(1)];\n        if (!renderer) {\n            if (enableDebug) {\n                getLog().warn('[Assemblers renderItem DEBUG] No renderer found for type:', config.type);\n            }\n            getLog().warn('[Assemblers] Type de rendu non support√©:', config.type);\n            return '';\n        }\n\n        const result = renderer(poi, config, options);\n        if (enableDebug) {\n            getLog().warn(`[Assemblers renderItem DEBUG] Result from renderer ${config.type}: ${result ? result.substring(0, 100) + '...' : 'EMPTY'}`);\n        }\n        return result;\n    }\n\n    // ========================================\n    //   ASSEMBLEURS\n    // ========================================\n\n    // ========================================\n    //   BUILD POPUP HTML\n    // ========================================\n\n    /**\n     * Group popup sections by type (hero images, badges, other)\n     * Extracted from buildPopupHTML to reduce complexity\n     *\n     * @private\n     * @param {Array<Object>} sortedConfig - Sorted config array\n     * @param {Object} poi - POI data\n     * @param {Object} renderOptions - Render options\n     * @returns {Array<{type: string, html?: string, items?: Array<string>}>} Grouped sections\n     *\n     * @typedef {Object} PopupSection\n     * @property {'hero'|'badges'|'content'} type - Section type\n     * @property {string} [html] - HTML content for hero/content sections\n     * @property {Array<string>} [items] - Badge HTML items for badges section\n     */\n    function groupPopupSections(sortedConfig, poi, renderOptions) {\n        const sections = [];\n        let badgeGroup = [];\n        // ...logs [POPUP] supprim√©s...\n        sortedConfig.forEach((item, index) => {\n            const isHeroImage = item.type === 'image' && item.variant === 'hero';\n            const isBadge = item.type === 'badge';\n            const nextItem = sortedConfig[index + 1];\n            const nextIsBadge = nextItem && nextItem.type === 'badge';\n            const itemHtml = renderItem(poi, item, renderOptions);\n            if (isHeroImage) {\n                sections.push({ type: 'hero', html: itemHtml });\n            } else if (isBadge) {\n                badgeGroup.push(itemHtml);\n                if (!nextIsBadge) {\n                    sections.push({ type: 'badges', items: [...badgeGroup] });\n                    badgeGroup = [];\n                }\n            } else {\n                sections.push({ type: 'content', html: itemHtml });\n            }\n        });\n\n        return sections;\n    }\n\n    /**\n     * Assemble popup HTML from grouped sections\n     * Extracted from buildPopupHTML to reduce complexity\n     *\n     * @private\n     * @param {Object} poi - POI data with id property\n     * @param {Array<PopupSection>} sections - Grouped popup sections\n     * @returns {string} Complete popup HTML\n     */\n    function assemblePopupHTML(poi, sections) {\n        let html = '<div class=\"gl-poi-popup\">';\n        let inBody = false;\n\n        sections.forEach(section => {\n            if (section.type === 'hero') {\n                if (inBody) {\n                    html += '</div>';\n                    inBody = false;\n                }\n                html += section.html;\n            } else {\n                if (!inBody) {\n                    html += '<div class=\"gl-poi-popup__body\">';\n                    inBody = true;\n                }\n\n                if (section.type === 'badges') {\n                    html += '<div class=\"gl-poi-popup__badges\">';\n                    section.items.forEach(badgeHtml => {\n                        html += badgeHtml;\n                    });\n                    html += '</div>';\n                } else {\n                    html += section.html;\n                }\n            }\n        });\n\n        // Lien \"Voir plus\"\n        if (!inBody) {\n            html += '<div class=\"gl-poi-popup__body\">';\n            inBody = true;\n        }\n        html += '<a href=\"#\" class=\"gl-poi-popup__link\" data-poi-id=\"' + (poi.id || '') + '\">Voir plus >>></a>';\n\n        if (inBody) {\n            html += '</div>';\n        }\n        html += '</div>';\n\n        return html;\n    }\n\n    /**\n     * Construit le HTML complet d'un popup avec structure et groupement de badges.\n     *\n     * G√®re la structure HTML du popup:\n     * 1. Images hero (en dehors du body)\n     * 2. Body avec badges group√©s + autres √©l√©ments\n     * 3. Lien \"Voir plus >>>\" automatique\n     *\n     * Tri automatique par config.order, badges group√©s si cons√©cutifs.\n     *\n     * @function buildPopupHTML\n     * @param {Object} poi - Donn√©es du POI normalis√©\n     * @param {Object} poi.id - ID du POI\n     * @param {Object} poi.attributes - Attributs du POI\n     * @param {Array<Object>} config - Configuration detailPopup (array de renderers)\n     * @param {Object} config[].type - Type de renderer ('text', 'badge', 'image', etc.)\n     * @param {number} config[].order - Ordre d'affichage (tri croissant)\n     * @param {string} [config[].variant] - Variante (ex: 'hero' pour images)\n     * @param {Object} [options={}] - Options de rendu\n     * @param {Function} [options.resolveCategoryDisplay] - R√©solution taxonomie personnalis√©e\n     * @returns {string} HTML complet du popup\n     *\n     * @example\n     * // Popup avec image hero + badges + texte\n     * const html = buildPopupHTML(\n     *   poi,\n     *   [\n     *     { type: 'image', field: 'attributes.photo', variant: 'hero', order: 1 },\n     *     { type: 'badge', field: 'attributes.categoryId', order: 2 },\n     *     { type: 'badge', field: 'attributes.status', order: 3 },\n     *     { type: 'text', field: 'attributes.description', order: 4 }\n     *   ],\n     *   {}\n     * );\n     * // Retourne:\n     * // <div class=\"gl-poi-popup\">\n     * //   <img src=\"...\" class=\"gl-poi-popup__hero\"> (hero en dehors du body)\n     * //   <div class=\"gl-poi-popup__body\">\n     * //     <div class=\"gl-poi-popup__badges\">\n     * //       <span class=\"gl-poi-badge\">Restaurant</span>\n     * //       <span class=\"gl-poi-badge\">Ouvert</span>\n     * //     </div>\n     * //     <p>Description...</p>\n     * //     <a href=\"#\" class=\"gl-poi-popup__link\" data-poi-id=\"123\">Voir plus >>></a>\n     * //   </div>\n     * // </div>\n     */\n    function buildPopupHTML(poi, config, options = {}) {\n        // Get helpers and utilities FIRST\n        const helpers = getHelpers();\n        const escapeHtml = getEscapeHtml();\n\n        if (!poi) {\n            getLog().warn('[Assemblers] POI invalide pour buildPopupHTML');\n            return '';\n        }\n\n        if (!config || !Array.isArray(config) || config.length === 0) {\n            const title = helpers.getDefaultTitle ? helpers.getDefaultTitle(poi) : (poi.title || poi.label || poi.name || 'Sans titre');\n            helpers.debugLog?.('popup', 'No config provided, using default popup');\n\n            return '<div class=\"gl-poi-popup\">' +\n                '<div class=\"gl-poi-popup__body\">' +\n                '<h3 class=\"gl-poi-popup__title\"><span class=\"gl-poi-popup__title-text\">' + escapeHtml(title) + '</span></h3>' +\n                '<a href=\"#\" class=\"gl-poi-popup__link\" data-poi-id=\"' + (poi.id || '') + '\">Voir plus >>></a>' +\n                '</div></div>';\n        }\n\n        // ...log supprim√© ([POPUP] buildPopupHTML - config items)...\n\n        // Use helpers for config sorting\n        const sortedConfig = helpers.sortConfigByOrder ? helpers.sortConfigByOrder(config) :\n            [...config].sort((a, b) => {\n                const orderA = typeof a.order === 'number' ? a.order : 999;\n                const orderB = typeof b.order === 'number' ? b.order : 999;\n                return orderA - orderB;\n            });\n\n        const renderOptions = {\n            context: 'popup',\n            includeIcon: true,\n            resolveCategoryDisplay: options.resolveCategoryDisplay\n        };\n\n        // ...log supprim√© ([POPUP] buildPopupHTML - sorted config)...\n\n        // Group sections and assemble HTML\n        try {\n            const sections = groupPopupSections(sortedConfig, poi, renderOptions);\n            // ...log supprim√© ([POPUP] buildPopupHTML - sections grouped)...\n\n            const html = assemblePopupHTML(poi, sections);\n            // ...log supprim√© ([POPUP] buildPopupHTML - HTML length)...\n\n            return html;\n        } catch(err) {\n            // ...log supprim√© ([POPUP] ERROR in buildPopupHTML)...\n            return '<div class=\"gl-poi-popup\"><div class=\"gl-poi-popup__body\">Erreur: ' + escapeHtml(err.message) + '</div></div>';\n        }\n    }\n\n    /**\n     * Construit le HTML d'un tooltip (texte uniquement, limit√©).\n     *\n     * G√©n√®re un tooltip simple avec valeurs textuelles s√©par√©es par \" | \".\n     * Pas de HTML complexe, optimis√© pour tooltips Leaflet.\n     *\n     * Processus:\n     * 1. Si pas de config => utilise title/label/name par d√©faut\n     * 2. Sinon extrait les valeurs textuelles de chaque renderer\n     * 3. G√®re badge resolution via resolveBadgeTooltip\n     * 4. Joint les parties avec \" | \"\n     *\n     * @function buildTooltipHTML\n     * @param {Object} poi - Donn√©es du POI normalis√©\n     * @param {Object} poi.title - Titre par d√©faut\n     * @param {Object} poi.attributes - Attributs du POI\n     * @param {Array<Object>} config - Configuration detailTooltip (array de renderers)\n     * @param {string} config[].type - Type de renderer ('text', 'badge', 'number', etc.)\n     * @param {string} config[].field - Chemin du champ (ex: 'attributes.name')\n     * @param {number} [config[].order] - Ordre d'affichage (tri croissant)\n     * @param {Object} [options={}] - Options de rendu\n     * @returns {string} Texte du tooltip (pas de HTML, texte plat)\n     *\n     * @example\n     * // Tooltip simple sans config\n     * const text1 = buildTooltipHTML({ title: 'Restaurant Le Gourmet' }, []);\n     * // Retourne: 'Restaurant Le Gourmet'\n     *\n     * @example\n     * // Tooltip avec config (name + category + rating)\n     * const text2 = buildTooltipHTML(\n     *   poi,\n     *   [\n     *     { type: 'text', field: 'attributes.name', order: 1 },\n     *     { type: 'badge', field: 'attributes.categoryId', order: 2 },\n     *     { type: 'number', field: 'attributes.rating', order: 3 }\n     *   ]\n     * );\n     * // Retourne: 'Le Gourmet | Restaurant | 4.5'\n     *\n     * @example\n     * // Tooltip avec valeurs manquantes (skip√©s)\n     * const text3 = buildTooltipHTML(\n     *   poi,\n     *   [\n     *     { type: 'text', field: 'attributes.name', order: 1 },\n     *     { type: 'text', field: 'attributes.missingField', order: 2 }\n     *   ]\n     * );\n     * // Retourne: 'Le Gourmet' (missingField skipp√©)\n     */\n    function buildTooltipHTML(poi, config, options = {}) {\n        if (!poi) {\n            getLog().warn('[Assemblers] POI invalide pour buildTooltipHTML');\n            return '';\n        }\n\n        const helpers = getHelpers();\n        const escapeHtml = getEscapeHtml();\n        const resolveField = getResolveField();\n\n        // Si pas de config, tooltip par d√©faut - use helpers\n        if (!config || !Array.isArray(config) || config.length === 0) {\n            const title = helpers.getDefaultTitle ? helpers.getDefaultTitle(poi) :\n                (poi.title || poi.label || poi.name ||\n                 resolveField(poi, 'attributes.name', 'attributes.nom', 'properties.name', 'properties.nom') ||\n                 'Sans titre');\n            return escapeHtml(String(title));\n        }\n\n        // Use helpers for config sorting\n        const sortedConfig = helpers.sortConfigByOrder ? helpers.sortConfigByOrder(config) :\n            [...config].sort((a, b) => {\n                const orderA = typeof a.order === 'number' ? a.order : 999;\n                const orderB = typeof b.order === 'number' ? b.order : 999;\n                return orderA - orderB;\n            });\n\n        const renderOptions = { context: 'tooltip' };\n        const parts = [];\n\n        sortedConfig.forEach((item, index) => {\n            if (!item || !item.type || !item.field) return;\n\n            const value = resolveField(poi, item.field);\n            if (value == null || value === '') return;\n\n            // Pour les tooltips, on extrait juste la valeur textuelle\n            if (item.type === 'text' || item.type === 'badge') {\n                let displayValue = value;\n\n                // Use helpers for badge resolution\n                if (item.type === 'badge' && helpers.resolveBadgeLabel) {\n                    displayValue = helpers.resolveBadgeLabel(poi, item.field, value);\n                } else if (item.type === 'badge') {\n                    // Fallback to inline resolution\n                    const profile = getActiveProfile();\n                    const taxonomy = profile?.taxonomy;\n                    if (taxonomy) {\n                        const attrs = poi.attributes || {};\n                        if (item.field.includes('subCategoryId')) {\n                            const catId = attrs.categoryId || attrs.category;\n                            const catData = taxonomy.categories?.[catId];\n                            const subCatData = catData?.subcategories?.[value];\n                            if (subCatData?.label) displayValue = subCatData.label;\n                        } else if (item.field.includes('categoryId')) {\n                            const catData = taxonomy.categories?.[value];\n                            if (catData?.label) displayValue = catData.label;\n                        }\n                    }\n                }\n\n                parts.push(escapeHtml(String(displayValue)));\n            }\n            else if (item.type === 'number') {\n                const numValue = typeof value === 'number' ? value : parseFloat(value);\n                if (!isNaN(numValue)) {\n                    parts.push(numValue.toLocaleString('fr-FR'));\n                }\n            }\n            else if (item.type === 'image') {\n                // Image en tooltip : afficher en ligne\n                parts.push('<img src=\"' + escapeHtml(value) + '\" alt=\"\" style=\"max-width:150px;max-height:100px;display:block;margin:4px 0;\" />');\n            }\n            else if (item.type === 'link') {\n                const label = item.label || value;\n                parts.push('<a href=\"' + escapeHtml(value) + '\" target=\"_blank\">' + escapeHtml(label) + '</a>');\n            }\n        });\n\n        if (parts.length === 0) {\n            const title = poi.title || poi.label || 'Sans titre';\n            return escapeHtml(String(title));\n        }\n\n        // Joindre avec contentUnion ou espace\n        let result = '';\n        parts.forEach((part, index) => {\n            result += part;\n            if (index < parts.length - 1) {\n                const item = sortedConfig[index];\n                if (item && item.contentUnion) {\n                    result += ' ' + escapeHtml(item.contentUnion) + ' ';\n                } else {\n                    result += ' ';\n                }\n            }\n        });\n\n        return result;\n    }\n\n    /**\n     * Construit les √©l√©ments DOM pour un panneau lat√©ral (side panel / accordion).\n     *\n     * G√©n√®re un tableau d'objets pour chaque √©l√©ment du panneau:\n     * - html: HTML rendu de l'√©l√©ment\n     * - config: Configuration renderer originale\n     * - label: Label de l'√©l√©ment (pour accord√©on)\n     * - accordion: Si true, √©l√©ment dans un accord√©on\n     * - defaultOpen: Si true, accord√©on ouvert par d√©faut\n     *\n     * Tri automatique par config.order, √©l√©ments sans valeur skip√©s.\n     *\n     * @function buildPanelItems\n     * @param {Object} poi - Donn√©es du POI normalis√©\n     * @param {Object} poi.attributes - Attributs du POI\n     * @param {Array<Object>} config - Configuration detailLayout (array de renderers)\n     * @param {string} config[].type - Type de renderer ('text', 'list', 'image', etc.)\n     * @param {string} config[].field - Chemin du champ (ex: 'attributes.description')\n     * @param {number} [config[].order] - Ordre d'affichage (tri croissant)\n     * @param {string} [config[].label] - Label de l'√©l√©ment (pour accord√©on)\n     * @param {boolean} [config[].accordion] - Si true, √©l√©ment dans un accord√©on\n     * @param {boolean} [config[].defaultOpen=true] - Si false, accord√©on ferm√© par d√©faut\n     * @param {Object} [options={}] - Options de rendu\n     * @returns {Array<Object>} Tableau d'objets {html, config, label, accordion, defaultOpen}\n     * @returns {string} returns[].html - HTML rendu de l'√©l√©ment\n     * @returns {Object} returns[].config - Configuration renderer originale\n     * @returns {string} returns[].label - Label de l'√©l√©ment\n     * @returns {boolean} returns[].accordion - Si true, √©l√©ment dans un accord√©on\n     * @returns {boolean} returns[].defaultOpen - Si true, accord√©on ouvert par d√©faut\n     *\n     * @example\n     * // Panel simple sans accord√©on\n     * const items1 = buildPanelItems(\n     *   poi,\n     *   [\n     *     { type: 'text', field: 'attributes.name', label: 'Nom', order: 1 },\n     *     { type: 'longtext', field: 'attributes.description', label: 'Description', order: 2 }\n     *   ]\n     * );\n     * // Retourne: [\n     * //   { html: '<p>...</p>', config: {...}, label: 'Nom', accordion: false, defaultOpen: true },\n     * //   { html: '<div>...</div>', config: {...}, label: 'Description', accordion: false, defaultOpen: true }\n     * // ]\n     *\n     * @example\n     * // Panel avec accord√©ons\n     * const items2 = buildPanelItems(\n     *   poi,\n     *   [\n     *     { type: 'text', field: 'attributes.name', label: 'Nom', order: 1 },\n     *     { type: 'list', field: 'attributes.tags', label: 'Tags', accordion: true, defaultOpen: true, order: 2 },\n     *     { type: 'gallery', field: 'attributes.photos', label: 'Photos', accordion: true, defaultOpen: false, order: 3 }\n     *   ]\n     * );\n     * // Retourne: [\n     * //   { html: '<p>...</p>', label: 'Nom', accordion: false, defaultOpen: true },\n     * //   { html: '<ul>...</ul>', label: 'Tags', accordion: true, defaultOpen: true },\n     * //   { html: '<div>...</div>', label: 'Photos', accordion: true, defaultOpen: false }\n     * // ]\n     */\n    function buildPanelItems(poi, config, options = {}) {\n        if (!poi || !config || !Array.isArray(config)) {\n            return [];\n        }\n\n        const resolveField = getResolveField();\n        const renderOptions = { context: 'panel', ...options };\n\n        // Trier par order\n        const sortedConfig = [...config].sort((a, b) => {\n            const orderA = typeof a.order === 'number' ? a.order : 999;\n            const orderB = typeof b.order === 'number' ? b.order : 999;\n            return orderA - orderB;\n        });\n\n        const items = [];\n\n        sortedConfig.forEach(itemConfig => {\n            if (!itemConfig || !itemConfig.type) return;\n\n            // V√©rifier si la valeur existe\n            const value = resolveField(poi, itemConfig.field);\n            const hasValue = value !== null && value !== undefined && value !== '' &&\n                             !(Array.isArray(value) && value.length === 0);\n\n            if (!hasValue && itemConfig.type !== 'coordinates') return;\n\n            const html = renderItem(poi, itemConfig, renderOptions);\n            if (html) {\n                items.push({\n                    html: html,\n                    config: itemConfig,\n                    label: itemConfig.label || '',\n                    accordion: itemConfig.accordion === true,\n                    defaultOpen: itemConfig.defaultOpen !== false\n                });\n            }\n        });\n\n        return items;\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    console.log('[POPUP] assemblers.js - Registering Assemblers...');\n    console.log('[POPUP] assemblers.js - GeoLeaf before:', !!global.GeoLeaf);\n    console.log('[POPUP] assemblers.js - GeoLeaf._ContentBuilder before:', !!global.GeoLeaf?._ContentBuilder);\n\n    if (!GeoLeaf._ContentBuilder) {\n        console.log('[POPUP] assemblers.js - Creating GeoLeaf._ContentBuilder');\n        GeoLeaf._ContentBuilder = {};\n    }\n\n    GeoLeaf._ContentBuilder.Assemblers = {\n        buildPopupHTML,\n        buildTooltipHTML,\n        buildPanelItems\n    };\n\n    console.log('[POPUP] assemblers.js - Assemblers registered:', !!GeoLeaf._ContentBuilder.Assemblers);\n    console.log('[POPUP] assemblers.js - global.GeoLeaf._ContentBuilder.Assemblers:', !!global.GeoLeaf._ContentBuilder.Assemblers);\n\n    // Make sure global reference is updated\n    global.GeoLeaf = GeoLeaf;\n\n    getLog().info('[GeoLeaf._ContentBuilder.Assemblers] Module Assemblers charg√©');\n\n    global.GeoLeaf = GeoLeaf;\n\n})(typeof window !== 'undefined' ? window : global);\n","/**\n * GeoLeaf UI Content Builder Module\n * Module central pour la construction du contenu des tooltips, popups et panneaux lat√©raux.\n * Unifie le rendu pour tous les types de sources (JSON, GeoJSON, GPX, routes).\n *\n * @module ui/content-builder\n * @version 1.0.0\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    GeoLeaf._ContentBuilder = GeoLeaf._ContentBuilder || {};\n\n    // ========================================\n    //   CORE HELPERS (depuis Core module)\n    // ========================================\n\n    /**\n     * R√©cup√®re les helpers depuis Core (avec fallback)\n     */\n    function getCore() {\n        return GeoLeaf._ContentBuilder.Core || {\n            getResolveField: function() {\n                return GeoLeaf.Utils?.resolveField || (() => null);\n            },\n            getEscapeHtml: function() {\n                return GeoLeaf.Security?.escapeHtml || function(str) {\n                    if (str == null) return '';\n                    return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n                };\n            },\n            getActiveProfile: function() {\n                return GeoLeaf.Config?.getActiveProfile?.() || null;\n            },\n            getLog: function() {\n                return GeoLeaf.Log || console;\n            }\n        };\n    }\n\n    // Raccourcis vers Core\n    const getResolveField = () => getCore().getResolveField();\n    const getEscapeHtml = () => getCore().getEscapeHtml();\n    const getActiveProfile = () => getCore().getActiveProfile();\n    const getLog = () => getCore().getLog();\n\n    // ========================================\n    //   RENDERERS PAR TYPE\n    // ========================================\n\n    /**\n     * Construit un √©l√©ment de type \"text\"\n     * @param {Object} poi - Donn√©es du POI\n     * @param {Object} config - Configuration de l'√©l√©ment\n     * @param {Object} options - Options de rendu (context: 'popup'|'tooltip'|'panel')\n     * @returns {string} HTML\n     */\n    function renderText(poi, config, options = {}) {\n        const resolveField = getResolveField();\n        const escapeHtml = getEscapeHtml();\n\n        // Tester le champ tel quel, puis avec fallback attributes si properties\n        let value = resolveField(poi, config.field);\n\n        // Si le champ commence par \"properties.\" et n'a pas de valeur, essayer avec \"attributes.\"\n        if ((value == null || value === '') && config.field && config.field.startsWith('properties.')) {\n            const attributesField = config.field.replace(/^properties\\./, 'attributes.');\n            value = resolveField(poi, attributesField);\n        }\n\n        // Si le champ commence par \"attributes.\" et n'a pas de valeur, essayer avec \"properties.\"\n        if ((value == null || value === '') && config.field && config.field.startsWith('attributes.')) {\n            const propertiesField = config.field.replace(/^attributes\\./, 'properties.');\n            value = resolveField(poi, propertiesField);\n        }\n\n        if (value == null || value === '') return '';\n\n        const escaped = escapeHtml(String(value));\n        const variant = config.variant || 'default';\n        const context = options.context || 'popup';\n\n        if (variant === 'title') {\n            // Titre avec √©ventuelle ic√¥ne\n            let iconHtml = '';\n            if (options.includeIcon && options.resolveCategoryDisplay) {\n                const displayConfig = options.resolveCategoryDisplay(poi);\n                if (displayConfig && displayConfig.iconId) {\n                    const iconsConfig = (GeoLeaf.Config && typeof GeoLeaf.Config.getIconsConfig === \"function\")\n                        ? GeoLeaf.Config.getIconsConfig()\n                        : null;\n                    const iconPrefix = (iconsConfig && iconsConfig.symbolPrefix) || 'gl-poi-cat-';\n                    const iconIdNormalized = String(displayConfig.iconId).trim().toLowerCase().replace(/\\s+/g, '-');\n                    const symbolId = iconPrefix + iconIdNormalized;\n                    iconHtml = '<svg class=\"gl-poi-popup__icon\" aria-hidden=\"true\" focusable=\"false\" viewBox=\"0 0 24 24\">' +\n                        '<circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"' + (displayConfig.colorFill || '#666') + '\" stroke=\"' + (displayConfig.colorStroke || '#222') + '\" stroke-width=\"1.5\"/>' +\n                        '<svg x=\"4\" y=\"4\" width=\"16\" height=\"16\"><use href=\"#' + symbolId + '\" style=\"color: #ffffff\"/></svg>' +\n                        '</svg>';\n                }\n            }\n            return '<h3 class=\"gl-poi-popup__title\">' + iconHtml + '<span class=\"gl-poi-popup__title-text\">' + escaped + '</span></h3>';\n        }\n\n        if (variant === 'short') {\n            return '<p class=\"gl-poi-popup__desc\">' + escaped + '</p>';\n        }\n\n        if (variant === 'long' || variant === 'paragraph') {\n            return '<p class=\"gl-poi-popup__desc gl-poi-popup__desc--long\">' + escaped + '</p>';\n        }\n\n        return '<p class=\"gl-poi-popup__desc\">' + escaped + '</p>';\n    }\n\n    /**\n     * Construit un √©l√©ment de type \"longtext\"\n     * @param {Object} poi - Donn√©es du POI\n     * @param {Object} config - Configuration de l'√©l√©ment\n     * @param {Object} options - Options de rendu\n     * @returns {string} HTML\n     */\n    function renderLongtext(poi, config, options = {}) {\n        const resolveField = getResolveField();\n        const escapeHtml = getEscapeHtml();\n\n        let value = resolveField(poi, config.field);\n        if ((value == null || value === '') && config.field && config.field.startsWith('properties.')) {\n            value = resolveField(poi, config.field.replace(/^properties\\./, 'attributes.'));\n        }\n        if ((value == null || value === '') && config.field && config.field.startsWith('attributes.')) {\n            value = resolveField(poi, config.field.replace(/^attributes\\./, 'properties.'));\n        }\n        if (value == null || value === '') return '';\n\n        const escaped = escapeHtml(String(value));\n        return '<div class=\"gl-content__longtext\"><p>' + escaped.replace(/\\n/g, '</p><p>') + '</p></div>';\n    }\n\n    /**\n     * Construit un √©l√©ment de type \"number\"\n     * @param {Object} poi - Donn√©es du POI\n     * @param {Object} config - Configuration de l'√©l√©ment\n     * @param {Object} options - Options de rendu\n     * @returns {string} HTML\n     */\n    function renderNumber(poi, config, options = {}) {\n        const resolveField = getResolveField();\n        const escapeHtml = getEscapeHtml();\n\n        let value = resolveField(poi, config.field);\n        if ((value == null || value === '') && config.field && config.field.startsWith('properties.')) {\n            value = resolveField(poi, config.field.replace(/^properties\\./, 'attributes.'));\n        }\n        if ((value == null || value === '') && config.field && config.field.startsWith('attributes.')) {\n            value = resolveField(poi, config.field.replace(/^attributes\\./, 'properties.'));\n        }\n        if (value == null || value === '') return '';\n\n        const numValue = typeof value === 'number' ? value : parseFloat(value);\n        if (isNaN(numValue)) return '';\n\n        const formatted = numValue.toLocaleString('fr-FR');\n        const label = config.label ? escapeHtml(config.label) : '';\n        const variant = config.variant || 'default';\n\n        if (variant === 'stat') {\n            return '<div class=\"gl-content__stat\">' +\n                (label ? '<span class=\"gl-content__stat-label\">' + label + '</span>' : '') +\n                '<span class=\"gl-content__stat-value\">' + formatted + '</span>' +\n                '</div>';\n        }\n\n        return '<p class=\"gl-content__number\">' +\n            (label ? '<strong>' + label + ':</strong> ' : '') +\n            formatted + '</p>';\n    }\n\n    /**\n     * Construit un √©l√©ment de type \"metric\" (nombre avec unit√©/suffixe)\n     * @param {Object} poi - Donn√©es du POI\n     * @param {Object} config - Configuration de l'√©l√©ment\n     * @param {Object} options - Options de rendu\n     * @returns {string} HTML\n     */\n    function renderMetric(poi, config, options = {}) {\n        const resolveField = getResolveField();\n        const escapeHtml = getEscapeHtml();\n\n        let value = resolveField(poi, config.field);\n        if ((value == null || value === '') && config.field && config.field.startsWith('properties.')) {\n            value = resolveField(poi, config.field.replace(/^properties\\./, 'attributes.'));\n        }\n        if ((value == null || value === '') && config.field && config.field.startsWith('attributes.')) {\n            value = resolveField(poi, config.field.replace(/^attributes\\./, 'properties.'));\n        }\n        if (value == null || value === '') return '';\n\n        const numValue = typeof value === 'number' ? value : parseFloat(value);\n        if (isNaN(numValue)) return '';\n\n        // Utiliser Templates si disponible, sinon fallback\n        if (GeoLeaf._ContentBuilder && GeoLeaf._ContentBuilder.Templates) {\n            return GeoLeaf._ContentBuilder.Templates.createMetricElement(numValue, config, escapeHtml);\n        }\n\n        // Fallback si Templates pas charg√©\n        const formatted = numValue.toLocaleString('fr-FR');\n        const suffix = config.suffix ? escapeHtml(config.suffix) : '';\n        const prefix = config.prefix ? escapeHtml(config.prefix) : '';\n        const label = config.label ? escapeHtml(config.label) : '';\n        return '<p class=\"gl-content__metric\">' +\n            (label ? '<strong>' + label + ':</strong> ' : '') +\n            prefix + formatted + suffix + '</p>';\n    }\n\n    /**\n     * Construit un √©l√©ment de type \"badge\"\n     * @param {Object} poi - Donn√©es du POI\n     * @param {Object} config - Configuration de l'√©l√©ment\n     * @param {Object} options - Options de rendu\n     * @returns {string} HTML\n     */\n    function renderBadge(poi, config, options = {}) {\n        const resolveField = getResolveField();\n        const escapeHtml = getEscapeHtml();\n        const Core = getCore();\n\n        let value = resolveField(poi, config.field);\n        if ((value == null || value === '') && config.field && config.field.startsWith('properties.')) {\n            value = resolveField(poi, config.field.replace(/^properties\\./, 'attributes.'));\n        }\n        if ((value == null || value === '') && config.field && config.field.startsWith('attributes.')) {\n            value = resolveField(poi, config.field.replace(/^attributes\\./, 'properties.'));\n        }\n        if (value == null || value === '') return '';\n\n        const variant = config.variant || 'default';\n\n        // Utiliser le badge resolver de Core\n        const badge = Core.resolveBadge ?\n            Core.resolveBadge(poi, config.field, variant) :\n            { displayValue: String(value), style: '' };\n\n        const escaped = escapeHtml(badge.displayValue);\n        const badgeClass = 'gl-poi-badge gl-poi-badge--' + variant;\n        const styleAttr = badge.style ? ' style=\"' + badge.style + '\"' : '';\n\n        return '<span class=\"' + badgeClass + '\"' + styleAttr + '>' + escaped + '</span>';\n    }\n\n    /**\n     * Construit un √©l√©ment de type \"rating\"\n     * @param {Object} poi - Donn√©es du POI\n     * @param {Object} config - Configuration de l'√©l√©ment\n     * @param {Object} options - Options de rendu\n     * @returns {string} HTML\n     */\n    function renderRating(poi, config, options = {}) {\n        const resolveField = getResolveField();\n        const escapeHtml = getEscapeHtml();\n\n        let value = resolveField(poi, config.field);\n        if ((value == null || value === '') && config.field && config.field.startsWith('properties.')) {\n            value = resolveField(poi, config.field.replace(/^properties\\./, 'attributes.'));\n        }\n        if ((value == null || value === '') && config.field && config.field.startsWith('attributes.')) {\n            value = resolveField(poi, config.field.replace(/^attributes\\./, 'properties.'));\n        }\n        if (value == null || value === '') return '';\n\n        const rating = typeof value === 'number' ? value : parseFloat(value);\n        if (isNaN(rating) || rating < 0 || rating > 5) return '';\n\n        // Variant stat avec layout sp√©cial (conserver l'ancien)\n        if (config.variant === 'stat') {\n            const label = config.label ? escapeHtml(config.label) : '';\n            let starsHtml = '<span class=\"gl-rating__stars\">';\n            for (let i = 1; i <= 5; i++) {\n                const isFilled = i <= Math.round(rating);\n                starsHtml += '<span class=\"gl-rating__star' + (isFilled ? ' gl-rating__star--filled' : '') + '\">‚òÖ</span>';\n            }\n            starsHtml += '</span>';\n            const numericValue = rating.toFixed(1);\n            return '<div class=\"gl-rating gl-rating--stat\">' +\n                (label ? '<span class=\"gl-rating__label\">' + label + '</span>' : '') +\n                '<div class=\"gl-rating__content\">' +\n                starsHtml +\n                '<span class=\"gl-rating__value\">' + numericValue + '/5</span>' +\n                '</div>' +\n                '</div>';\n        }\n\n        // Variante par d√©faut : utiliser template si disponible\n        if (GeoLeaf._ContentBuilder && GeoLeaf._ContentBuilder.Templates) {\n            return GeoLeaf._ContentBuilder.Templates.createRatingElement(rating, config, escapeHtml);\n        }\n\n        // Fallback si Templates pas charg√©\n        const label = config.label ? escapeHtml(config.label) : '';\n        let starsHtml = '<span class=\"gl-rating__stars\">';\n        for (let i = 1; i <= 5; i++) {\n            const isFilled = i <= Math.round(rating);\n            starsHtml += '<span class=\"gl-rating__star' + (isFilled ? ' gl-rating__star--filled' : '') + '\">‚òÖ</span>';\n        }\n        starsHtml += '</span>';\n        const numericValue = rating.toFixed(1);\n        return '<div class=\"gl-rating\">' +\n            (label ? '<span class=\"gl-rating__label\">' + label + ': </span>' : '') +\n            starsHtml +\n            '<span class=\"gl-rating__value\">' + numericValue + '/5</span>' +\n            '</div>';\n    }\n\n    /**\n     * Construit un √©l√©ment de type \"image\"\n     * @param {Object} poi - Donn√©es du POI\n     * @param {Object} config - Configuration de l'√©l√©ment\n     * @param {Object} options - Options de rendu\n     * @returns {string} HTML\n     */\n    function renderImage(poi, config, options = {}) {\n        const resolveField = getResolveField();\n        const escapeHtml = getEscapeHtml();\n        const Core = getCore();\n\n        let value = resolveField(poi, config.field);\n        if ((value == null || value === '') && config.field && config.field.startsWith('properties.')) {\n            value = resolveField(poi, config.field.replace(/^properties\\./, 'attributes.'));\n        }\n        if ((value == null || value === '') && config.field && config.field.startsWith('attributes.')) {\n            value = resolveField(poi, config.field.replace(/^attributes\\./, 'properties.'));\n        }\n        if (value == null || value === '') return '';\n\n        // Utiliser le validator de Core\n        const photoUrl = Core.validateImageUrl ?\n            Core.validateImageUrl(value) :\n            value;\n\n        if (!photoUrl) return '';\n\n        const alt = escapeHtml(config.label || 'Image');\n        const variant = config.variant || 'default';\n\n        if (variant === 'hero') {\n            return '<div class=\"gl-poi-popup__photo\"><img src=\"' + photoUrl + '\" alt=\"' + alt + '\" loading=\"lazy\" /></div>';\n        }\n\n        return '<div class=\"gl-poi-popup__photo\"><img src=\"' + photoUrl + '\" alt=\"' + alt + '\" loading=\"lazy\" /></div>';\n    }\n\n    /**\n     * Construit un √©l√©ment de type \"link\"\n     * @param {Object} poi - Donn√©es du POI\n     * @param {Object} config - Configuration de l'√©l√©ment\n     * @param {Object} options - Options de rendu\n     * @returns {string} HTML\n     */\n    function renderLink(poi, config, options = {}) {\n        const resolveField = getResolveField();\n        const escapeHtml = getEscapeHtml();\n\n        let value = resolveField(poi, config.field);\n        if ((value == null || value === '') && config.field && config.field.startsWith('properties.')) {\n            value = resolveField(poi, config.field.replace(/^properties\\./, 'attributes.'));\n        }\n        if ((value == null || value === '') && config.field && config.field.startsWith('attributes.')) {\n            value = resolveField(poi, config.field.replace(/^attributes\\./, 'properties.'));\n        }\n        if (value == null || value === '') return '';\n\n        const label = escapeHtml(config.label || value);\n        const variant = config.variant || 'default';\n\n        if (variant === 'button') {\n            return '<a href=\"' + escapeHtml(value) + '\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"gl-content__link gl-content__link--button\">' + label + '</a>';\n        }\n\n        return '<a href=\"' + escapeHtml(value) + '\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"gl-content__link\">' + label + '</a>';\n    }\n\n    /**\n     * Construit un √©l√©ment de type \"list\"\n     * @param {Object} poi - Donn√©es du POI\n     * @param {Object} config - Configuration de l'√©l√©ment\n     * @param {Object} options - Options de rendu\n     * @returns {string} HTML\n     */\n    function renderList(poi, config, options = {}) {\n        const resolveField = getResolveField();\n        const escapeHtml = getEscapeHtml();\n\n        let value = resolveField(poi, config.field);\n        if ((value == null || value === '') && config.field && config.field.startsWith('properties.')) {\n            value = resolveField(poi, config.field.replace(/^properties\\./, 'attributes.'));\n        }\n        if ((value == null || value === '') && config.field && config.field.startsWith('attributes.')) {\n            value = resolveField(poi, config.field.replace(/^attributes\\./, 'properties.'));\n        }\n        if (value == null) return '';\n\n        let items = [];\n        if (Array.isArray(value)) {\n            items = value;\n        } else if (typeof value === 'object') {\n            items = Object.entries(value).map(([k, v]) => k + ': ' + v);\n        } else {\n            return '';\n        }\n\n        if (items.length === 0) return '';\n\n        // Utiliser Templates si disponible, sinon fallback\n        if (GeoLeaf._ContentBuilder && GeoLeaf._ContentBuilder.Templates) {\n            return GeoLeaf._ContentBuilder.Templates.createListElement(items, config, escapeHtml);\n        }\n\n        // Fallback si Templates pas charg√©\n        const variant = config.variant || 'disc';\n        const listClass = 'gl-content__list gl-content__list--' + variant;\n        let html = '<ul class=\"' + listClass + '\">';\n        items.forEach(item => {\n            html += '<li>' + escapeHtml(String(item)) + '</li>';\n        });\n        html += '</ul>';\n        return html;\n    }\n\n    /**\n     * Construit un √©l√©ment de type \"table\"\n     * @param {Object} poi - Donn√©es du POI\n     * @param {Object} config - Configuration de l'√©l√©ment\n     * @param {Object} options - Options de rendu\n     * @returns {string} HTML\n     */\n    function renderTable(poi, config, options = {}) {\n        const resolveField = getResolveField();\n        const escapeHtml = getEscapeHtml();\n\n        const value = resolveField(poi, config.field);\n        if (value == null || !Array.isArray(value) || value.length === 0) return '';\n\n        const columns = config.columns || [];\n        if (columns.length === 0) return '';\n\n        const borders = config.borders || {};\n        let tableStyle = '';\n        if (borders.color) {\n            tableStyle += '--gl-table-border-color: ' + borders.color + ';';\n        }\n\n        let tableClass = 'gl-content__table';\n        if (borders.outer) tableClass += ' gl-content__table--border-outer';\n        if (borders.row) tableClass += ' gl-content__table--border-row';\n        if (borders.column) tableClass += ' gl-content__table--border-column';\n\n        let html = '<table class=\"' + tableClass + '\"' + (tableStyle ? ' style=\"' + tableStyle + '\"' : '') + '>';\n\n        // Header\n        html += '<thead><tr>';\n        columns.forEach(col => {\n            html += '<th>' + escapeHtml(col.label || col.key) + '</th>';\n        });\n        html += '</tr></thead>';\n\n        // Body\n        html += '<tbody>';\n        value.forEach(row => {\n            html += '<tr>';\n            columns.forEach(col => {\n                const cellValue = typeof row === 'object' ? (row[col.key] || '') : row;\n                html += '<td>' + escapeHtml(String(cellValue)) + '</td>';\n            });\n            html += '</tr>';\n        });\n        html += '</tbody></table>';\n\n        return html;\n    }\n\n    /**\n     * Construit un √©l√©ment de type \"tags\"\n     * @param {Object} poi - Donn√©es du POI\n     * @param {Object} config - Configuration de l'√©l√©ment\n     * @param {Object} options - Options de rendu\n     * @returns {string} HTML\n     */\n    function renderTags(poi, config, options = {}) {\n        const resolveField = getResolveField();\n        const escapeHtml = getEscapeHtml();\n\n        const value = resolveField(poi, config.field);\n        if (value == null || !Array.isArray(value) || value.length === 0) return '';\n\n        const validTags = value.filter(tag => tag && typeof tag === 'string');\n        if (validTags.length === 0) return '';\n\n        // Utiliser Templates si disponible, sinon fallback\n        if (GeoLeaf._ContentBuilder && GeoLeaf._ContentBuilder.Templates) {\n            return GeoLeaf._ContentBuilder.Templates.createTagsElement(validTags, config, escapeHtml);\n        }\n\n        // Fallback si Templates pas charg√©\n        let html = '<div class=\"gl-content__tags\">';\n        validTags.forEach(tag => {\n            html += '<span class=\"gl-content__tag\">' + escapeHtml(tag) + '</span>';\n        });\n        html += '</div>';\n        return html;\n    }\n\n    /**\n     * Construit un √©l√©ment de type \"coordinates\"\n     * @param {Object} poi - Donn√©es du POI\n     * @param {Object} config - Configuration de l'√©l√©ment\n     * @param {Object} options - Options de rendu\n     * @returns {string} HTML\n     */\n    function renderCoordinates(poi, config, options = {}) {\n        const resolveField = getResolveField();\n        const escapeHtml = getEscapeHtml();\n        const Core = getCore();\n\n        const value = resolveField(poi, config.field);\n        if (value == null) return '';\n\n        // Utiliser le validator de Core\n        const coords = Core.validateCoordinates ?\n            Core.validateCoordinates(value) :\n            null;\n\n        if (!coords) return '';\n\n        // Utiliser Templates si disponible, sinon fallback\n        if (GeoLeaf._ContentBuilder && GeoLeaf._ContentBuilder.Templates) {\n            return GeoLeaf._ContentBuilder.Templates.createCoordinatesElement(coords.lat, coords.lng, config, escapeHtml);\n        }\n\n        // Fallback si Templates pas charg√©\n        const label = config.label ? escapeHtml(config.label) : 'Coordonn√©es';\n        const formatted = Core.formatCoordinates ?\n            Core.formatCoordinates(coords.lat, coords.lng) :\n            coords.lat.toFixed(6) + ', ' + coords.lng.toFixed(6);\n        return '<div class=\"gl-content__coordinates\">' +\n            '<span class=\"gl-content__coordinates-label\">' + label + ':</span> ' +\n            '<span class=\"gl-content__coordinates-value\">' + formatted + '</span>' +\n            '</div>';\n    }\n\n    /**\n     * Construit un √©l√©ment de type \"gallery\"\n     * @param {Object} poi - Donn√©es du POI\n     * @param {Object} config - Configuration de l'√©l√©ment\n     * @param {Object} options - Options de rendu\n     * @returns {string} HTML\n     */\n    function renderGallery(poi, config, options = {}) {\n        const resolveField = getResolveField();\n        const escapeHtml = getEscapeHtml();\n\n        const value = resolveField(poi, config.field);\n        if (value == null || !Array.isArray(value) || value.length === 0) return '';\n\n        const validPhotos = value.filter(url => url && typeof url === 'string');\n        if (validPhotos.length === 0) return '';\n\n        // Utiliser Templates si disponible, sinon fallback\n        if (GeoLeaf._ContentBuilder && GeoLeaf._ContentBuilder.Templates) {\n            return GeoLeaf._ContentBuilder.Templates.createGalleryElement(validPhotos, config, escapeHtml);\n        }\n\n        // Fallback si Templates pas charg√©\n        let html = '<div class=\"gl-content__gallery\">';\n        validPhotos.forEach((imgUrl, index) => {\n            html += '<div class=\"gl-content__gallery-item\" data-index=\"' + index + '\">' +\n                '<img src=\"' + escapeHtml(imgUrl) + '\" alt=\"Image ' + (index + 1) + '\" loading=\"lazy\" />' +\n                '</div>';\n        });\n        html += '</div>';\n        return html;\n    }\n\n    // ========================================\n    //   REGISTRE DES RENDERERS\n    // ========================================\n\n    const RENDERERS = {\n        text: renderText,\n        longtext: renderLongtext,\n        number: renderNumber,\n        metric: renderMetric,\n        badge: renderBadge,\n        rating: renderRating,\n        image: renderImage,\n        link: renderLink,\n        list: renderList,\n        table: renderTable,\n        tags: renderTags,\n        coordinates: renderCoordinates,\n        gallery: renderGallery\n    };\n\n    /**\n     * Rend un √©l√©ment selon son type\n     * @param {Object} poi - Donn√©es du POI\n     * @param {Object} config - Configuration de l'√©l√©ment\n     * @param {Object} options - Options de rendu\n     * @returns {string} HTML\n     */\n    function renderItem(poi, config, options = {}) {\n        if (!config || !config.type) return '';\n\n        const renderer = RENDERERS[config.type];\n        if (!renderer) {\n            getLog().warn('[ContentBuilder] Type de rendu non support√©:', config.type);\n            return '';\n        }\n\n        return renderer(poi, config, options);\n    }\n\n    // ========================================\n    //   ASSEMBLEURS (via module Assemblers)\n    // ========================================\n\n    function getAssemblers() {\n        return global.GeoLeaf?._ContentBuilder?.Assemblers || null;\n    }\n\n    /**\n     * Construit le HTML complet d'un popup\n     * D√©l√®gue √† Assemblers.buildPopupHTML si disponible\n     */\n    function buildPopupHTML(poi, config, options = {}) {\n        const Assemblers = getAssemblers();\n\n        // ...logs supprim√©s ([POPUP] wrapper buildPopupHTML)...\n        if (Assemblers && Assemblers.buildPopupHTML) {\n            return Assemblers.buildPopupHTML(poi, config, options);\n        }\n        // Fallback minimal\n        if (!poi) return '';\n        const escapeHtml = getEscapeHtml();\n        const title = poi.title || poi.label || poi.name || 'Sans titre';\n        return '<div class=\"gl-poi-popup\"><div class=\"gl-poi-popup__body\">' +\n               '<h3 class=\"gl-poi-popup__title\"><span class=\"gl-poi-popup__title-text\">' +\n               escapeHtml(title) + '</span></h3>' +\n               '<a href=\"#\" class=\"gl-poi-popup__link\" data-poi-id=\"' + (poi.id || '') +\n               '\">Voir plus >>></a></div></div>';\n    }\n\n    /**\n     * Construit le HTML d'un tooltip\n     * D√©l√®gue √† Assemblers.buildTooltipHTML si disponible\n     */\n    function buildTooltipHTML(poi, config, options = {}) {\n        const Assemblers = getAssemblers();\n        if (Assemblers && Assemblers.buildTooltipHTML) {\n            return Assemblers.buildTooltipHTML(poi, config, options);\n        }\n\n        // Fallback minimal\n        if (!poi) return '';\n        const escapeHtml = getEscapeHtml();\n        const resolveField = getResolveField();\n        const title = poi.title || poi.label || poi.name ||\n                      resolveField(poi, 'attributes.name', 'attributes.nom', 'properties.name', 'properties.nom') ||\n                      'Sans titre';\n        return escapeHtml(String(title));\n    }\n\n    /**\n     * Construit les √©l√©ments DOM pour un panneau lat√©ral\n     * D√©l√®gue √† Assemblers.buildPanelItems si disponible\n     */\n    function buildPanelItems(poi, config, options = {}) {\n        const Assemblers = getAssemblers();\n        if (Assemblers && Assemblers.buildPanelItems) {\n            return Assemblers.buildPanelItems(poi, config, options);\n        }\n\n        // Fallback minimal\n        return [];\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    // Preserve existing Assemblers if it exists\n    const existingAssemblers = global.GeoLeaf?._ContentBuilder?.Assemblers;\n\n    GeoLeaf._ContentBuilder = {\n        // Renderers individuels\n        renderText,\n        renderLongtext,\n        renderNumber,\n        renderBadge,\n        renderImage,\n        renderLink,\n        renderList,\n        renderTable,\n        renderTags,\n        renderCoordinates,\n        renderGallery,\n        renderItem,\n\n        // Assembleurs\n        buildPopupHTML,\n        buildTooltipHTML,\n        buildPanelItems,\n\n        // Utilitaires expos√©s\n        getResolveField,\n        getEscapeHtml,\n        getActiveProfile\n    };\n\n    // Restore Assemblers module reference\n    if (existingAssemblers) {\n        GeoLeaf._ContentBuilder.Assemblers = existingAssemblers;\n    }\n\n    global.GeoLeaf = GeoLeaf;\n\n    getLog().info('[GeoLeaf._ContentBuilder] Module Content Builder charg√©');\n\n})(typeof window !== 'undefined' ? window : global);\n","/**\n * GeoLeaf UI Components - Module commun partag√©\n * Composants d'interface r√©utilisables pour Legend et LayerManager\n *\n * Extrait le code commun entre:\n * - legend-renderer.js\n * - layer-manager/renderer.js\n *\n * D√âPENDANCES:\n * - Leaflet (L.DomUtil, L.DomEvent)\n * - GeoLeaf.Log (optionnel)\n *\n * EXPOSE:\n * - GeoLeaf._UIComponents\n *\n * @module ui/components\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module UI Components\n     * @namespace _UIComponents\n     * @private\n     */\n    const _UIComponents = {\n        /**\n         * Cr√©e un accord√©on\n         * @param {HTMLElement} container - Conteneur parent\n         * @param {Object} config - Configuration de l'accord√©on\n         * @param {string} config.layerId - ID de la couche\n         * @param {string} config.label - Titre de l'accord√©on\n         * @param {boolean} config.collapsed - √âtat initial\n         * @param {boolean} config.visible - Couche visible ou non (pour grisage)\n         * @param {Function} [config.onToggle] - Callback lors du toggle\n         * @returns {Object} - { accordionEl, headerEl, bodyEl }\n         */\n        createAccordion(container, config) {\n            const accordionEl = global.L.DomUtil.create(\"div\", \"gl-legend__accordion\", container);\n            accordionEl.setAttribute(\"data-layer-id\", config.layerId);\n\n            if (config.collapsed) {\n                accordionEl.classList.add(\"gl-legend__accordion--collapsed\");\n            }\n\n            // Ajouter classe inactive si la couche n'est pas visible\n            if (config.visible === false) {\n                accordionEl.classList.add(\"gl-legend__accordion--inactive\");\n            }\n\n            // Header de l'accord√©on\n            const headerEl = global.L.DomUtil.create(\"div\", \"gl-legend__accordion-header\", accordionEl);\n            headerEl.setAttribute(\"role\", \"button\");\n            headerEl.setAttribute(\"tabindex\", \"0\");\n            headerEl.setAttribute(\"aria-expanded\", !config.collapsed);\n\n            const titleEl = global.L.DomUtil.create(\"span\", \"gl-legend__accordion-title\", headerEl);\n            titleEl.textContent = config.label;\n\n            const toggleEl = global.L.DomUtil.create(\"button\", \"gl-legend__accordion-toggle\", headerEl);\n            toggleEl.type = \"button\";\n            toggleEl.setAttribute(\"aria-label\", \"Basculer l'accord√©on\");\n            toggleEl.textContent = config.collapsed ? \"‚ñ∂\" : \"‚ñº\";\n\n            // Body de l'accord√©on\n            const bodyEl = global.L.DomUtil.create(\"div\", \"gl-legend__accordion-body\", accordionEl);\n\n            // Gestionnaire de clic sur le header\n            const onToggle = (ev) => {\n                // Ne rien faire si la couche est inactive\n                if (config.visible === false) {\n                    if (global.L && global.L.DomEvent) {\n                        global.L.DomEvent.stopPropagation(ev);\n                    }\n                    ev.preventDefault();\n                    return;\n                }\n\n                if (global.L && global.L.DomEvent) {\n                    global.L.DomEvent.stopPropagation(ev);\n                }\n                ev.preventDefault();\n\n                const isCollapsed = accordionEl.classList.toggle(\"gl-legend__accordion--collapsed\");\n                toggleEl.textContent = isCollapsed ? \"‚ñ∂\" : \"‚ñº\";\n                headerEl.setAttribute(\"aria-expanded\", !isCollapsed);\n\n                // Callback optionnel\n                if (typeof config.onToggle === \"function\") {\n                    config.onToggle(config.layerId, !isCollapsed);\n                }\n            };\n\n            this.attachEventHandler(headerEl, \"click\", onToggle);\n\n            return { accordionEl, headerEl, bodyEl, toggleEl };\n        },\n\n        /**\n         * Rend un symbole cercle (POI/Marker)\n         * @param {HTMLElement} container - Conteneur du symbole\n         * @param {Object} config - Configuration du symbole\n         * @returns {HTMLElement} - √âl√©ment cr√©√©\n         */\n        renderCircleSymbol(container, config) {\n            const circleEl = global.L.DomUtil.create(\"div\", \"gl-legend__circle\", container);\n\n            // Utiliser le radius transmis, sinon 24px par d√©faut (plus grand pour les l√©gendes avec ic√¥nes)\n            const radius = config.radius !== undefined ? config.radius : 24;\n            const size = radius * 2;\n            const fillColor = config.fillColor || config.color || \"#3388ff\";\n            const strokeColor = config.color || config.borderColor || \"rgba(0,0,0,0.2)\";\n            const strokeWidth = config.weight || 1;\n\n            circleEl.style.width = size + \"px\";\n            circleEl.style.height = size + \"px\";\n            circleEl.style.backgroundColor = fillColor;\n            circleEl.style.borderRadius = \"50%\";\n            circleEl.style.border = strokeWidth + \"px solid \" + strokeColor;\n            circleEl.style.position = \"relative\";\n            circleEl.style.display = \"flex\";\n            circleEl.style.alignItems = \"center\";\n            circleEl.style.justifyContent = \"center\";\n\n            if (config.fillOpacity !== undefined) {\n                circleEl.style.opacity = config.fillOpacity;\n            }\n\n            // Afficher l'ic√¥ne sprite SVG si pr√©sente\n            if (config.icon) {\n                // Validation de s√©curit√©: L'ID d'ic√¥ne doit √™tre alphanum√©rique avec tirets/underscores seulement\n                const iconId = config.icon.startsWith('#') ? config.icon.substring(1) : config.icon;\n                if (!/^[a-zA-Z0-9_-]+$/.test(iconId)) {\n                    if (Log) Log.error('[UIComponents] ID d\\'ic√¥ne invalide (caract√®res non autoris√©s):', config.icon);\n                    return circleEl;\n                }\n\n                const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n                svg.setAttribute(\"viewBox\", \"0 0 24 24\");\n                // Rendre l'ic√¥ne √† 85% du cercle pour qu'elle soit bien visible\n                svg.style.width = (size * 0.85) + \"px\";\n                svg.style.height = (size * 0.85) + \"px\";\n                svg.style.fill = config.iconColor || \"currentColor\";\n                svg.style.stroke = config.iconColor || \"currentColor\";\n                svg.style.color = \"#ffffff\"; // D√©finir la couleur de base pour currentColor\n                svg.style.pointerEvents = \"none\";\n                svg.style.position = \"absolute\";\n\n                const use = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\n                // ID valid√©, construire le href s√©curis√©\n                const iconHref = '#' + iconId;\n                // Utiliser la syntaxe moderne href au lieu de xlink:href\n                use.setAttribute(\"href\", iconHref);\n                svg.appendChild(use);\n                circleEl.appendChild(svg);\n\n                // V√©rification d'erreur seulement si Log est disponible\n                if (Log) {\n                    const spriteExists = document.querySelector('svg[data-geoleaf-sprite=\"profile\"]');\n                    if (!spriteExists) {\n                        svg.setAttribute('data-sprite-missing', 'true');\n                        Log.warn('[UIComponents] Ic√¥ne', config.icon, 'r√©f√©renc√©e mais sprite non trouv√© dans le DOM');\n                    } else {\n                        const symbolId = config.icon.startsWith('#') ? config.icon.substring(1) : config.icon;\n                        const symbol = spriteExists.querySelector('#' + symbolId);\n                        if (!symbol) {\n                            svg.setAttribute('data-symbol-missing', config.icon);\n                            Log.warn('[UIComponents] Symbole', config.icon, 'non trouv√© dans le sprite SVG');\n                        }\n                    }\n                }\n            }\n\n            return circleEl;\n        },\n\n        /**\n         * Rend un symbole ligne\n         * @param {HTMLElement} container - Conteneur du symbole\n         * @param {Object} config - Configuration du symbole\n         * @returns {HTMLElement} - √âl√©ment cr√©√©\n         */\n        renderLineSymbol(container, config) {\n            const width = config.width || 3;\n            const color = config.color || \"#3388ff\";\n            let style = config.style || \"solid\";\n            const dashArray = config.dashArray || null;\n            const outlineColor = config.outlineColor || null;\n            const outlineWidth = config.outlineWidth || null;\n\n            // Cr√©er un SVG pour les lignes complexes (dashArray custom, tirets √©pais, ou avec outline)\n            if (dashArray || width > 5 || (outlineColor && outlineWidth)) {\n                const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n                svg.setAttribute(\"viewBox\", \"0 0 40 8\");\n                svg.style.width = \"40px\";\n                const totalHeight = Math.max(width, 3) + (outlineWidth || 0) + 4;\n                svg.style.height = totalHeight + \"px\";\n\n                // Si outline existe, dessiner d'abord la ligne de contour\n                if (outlineColor && outlineWidth) {\n                    const outlineLine = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n                    outlineLine.setAttribute(\"x1\", \"0\");\n                    outlineLine.setAttribute(\"y1\", \"4\");\n                    outlineLine.setAttribute(\"x2\", \"40\");\n                    outlineLine.setAttribute(\"y2\", \"4\");\n                    outlineLine.setAttribute(\"stroke\", outlineColor);\n                    outlineLine.setAttribute(\"stroke-width\", width + (outlineWidth * 2));\n                    outlineLine.setAttribute(\"stroke-linecap\", \"round\");\n\n                    if (config.outlineOpacity !== undefined) {\n                        outlineLine.setAttribute(\"stroke-opacity\", config.outlineOpacity);\n                    }\n\n                    svg.appendChild(outlineLine);\n                }\n\n                // Dessiner ensuite la ligne principale\n                const line = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n                line.setAttribute(\"x1\", \"0\");\n                line.setAttribute(\"y1\", \"4\");\n                line.setAttribute(\"x2\", \"40\");\n                line.setAttribute(\"y2\", \"4\");\n                line.setAttribute(\"stroke\", color);\n                line.setAttribute(\"stroke-width\", width);\n                line.setAttribute(\"stroke-linecap\", \"round\");\n\n                if (dashArray) {\n                    line.setAttribute(\"stroke-dasharray\", dashArray);\n                } else if (style === \"dashed\") {\n                    line.setAttribute(\"stroke-dasharray\", \"8,4\");\n                } else if (style === \"dotted\") {\n                    line.setAttribute(\"stroke-dasharray\", \"2,3\");\n                }\n\n                if (config.opacity !== undefined) {\n                    line.setAttribute(\"stroke-opacity\", config.opacity);\n                }\n\n                svg.appendChild(line);\n                container.appendChild(svg);\n                return svg;\n            }\n\n            // Fallback : DIV simple pour lignes basiques\n            const lineEl = global.L.DomUtil.create(\"div\", \"gl-legend__line\", container);\n            lineEl.style.width = \"30px\";\n            lineEl.style.height = width + \"px\";\n            lineEl.style.backgroundColor = color;\n\n            if (style === \"dashed\") {\n                lineEl.style.backgroundImage = `linear-gradient(to right, ${color} 50%, transparent 50%)`;\n                lineEl.style.backgroundSize = \"8px 100%\";\n            } else if (style === \"dotted\") {\n                lineEl.style.backgroundImage = `linear-gradient(to right, ${color} 30%, transparent 30%)`;\n                lineEl.style.backgroundSize = \"4px 100%\";\n            }\n\n            if (config.opacity !== undefined) {\n                lineEl.style.opacity = config.opacity;\n            }\n\n            return lineEl;\n        },\n\n        /**\n         * Rend un symbole polygone/remplissage\n         * @param {HTMLElement} container - Conteneur du symbole\n         * @param {Object} config - Configuration du symbole\n         * @returns {HTMLElement} - √âl√©ment cr√©√©\n         */\n        renderPolygonSymbol(container, config) {\n            const color = config.fillColor || config.color || \"#3388ff\";\n            const borderColor = config.borderColor || config.color || \"#333\";\n            const borderWidth = config.weight || 1;\n            const hasHatch = config.hatch && config.hatch.enabled;\n            // V√©rifier fillOpacity OU opacity (le generator peut utiliser l'un ou l'autre)\n            let fillOpacity = config.fillOpacity !== undefined ? config.fillOpacity :\n                               (config.opacity !== undefined ? config.opacity : 1);\n\n            // FIX: Si hatch avec renderMode=\"pattern_only\", forcer fillOpacity=1.0\n            // (m√™me logique que layer-manager.js ligne 823-828 - doit rester synchronis√©)\n            if (hasHatch && config.hatch.renderMode === 'pattern_only') {\n                fillOpacity = 1.0;\n            }\n\n            // Utiliser SVG si hachures pr√©sentes OU si fillOpacity = 0 (contour seul)\n            if (hasHatch || fillOpacity === 0) {\n                const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n                svg.setAttribute(\"viewBox\", \"0 0 32 24\");\n                svg.style.width = \"32px\";\n                svg.style.height = \"24px\";\n\n                // Cr√©er le pattern de hachure SVG si n√©cessaire\n                if (hasHatch) {\n                    const hatchCfg = config.hatch;\n                    const type = hatchCfg.type || \"diagonal\";\n                    const spacing = hatchCfg.spacingPx || 10;\n                    const hatchColor = (hatchCfg.stroke && hatchCfg.stroke.color) || \"#000000\";\n                    const hatchOpacity = (hatchCfg.stroke && hatchCfg.stroke.opacity) !== undefined ? hatchCfg.stroke.opacity : 1;\n                    const hatchWidth = (hatchCfg.stroke && hatchCfg.stroke.widthPx) || 1;\n\n                    const patternId = \"hatch-legend-\" + Date.now() + \"-\" + Math.random().toString(36).substr(2, 9);\n                    const defs = document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\n                    const pattern = document.createElementNS(\"http://www.w3.org/2000/svg\", \"pattern\");\n\n                    pattern.setAttribute(\"id\", patternId);\n                    pattern.setAttribute(\"patternUnits\", \"userSpaceOnUse\");\n                    pattern.setAttribute(\"width\", spacing);\n                    pattern.setAttribute(\"height\", spacing);\n\n                    // Cr√©er le contenu selon le type\n                    if (type === \"diagonal\") {\n                        const line = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n                        line.setAttribute(\"x1\", \"0\");\n                        line.setAttribute(\"y1\", \"0\");\n                        line.setAttribute(\"x2\", spacing);\n                        line.setAttribute(\"y2\", spacing);\n                        line.setAttribute(\"stroke\", hatchColor);\n                        line.setAttribute(\"stroke-width\", hatchWidth);\n                        line.setAttribute(\"stroke-opacity\", hatchOpacity);\n                        pattern.appendChild(line);\n                    } else if (type === \"dot\") {\n                        const circle = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n                        circle.setAttribute(\"cx\", spacing / 2);\n                        circle.setAttribute(\"cy\", spacing / 2);\n                        circle.setAttribute(\"r\", Math.max(0.3, spacing * 0.07));\n                        circle.setAttribute(\"fill\", hatchColor);\n                        circle.setAttribute(\"fill-opacity\", hatchOpacity);\n                        pattern.appendChild(circle);\n                    } else if (type === \"cross\") {\n                        const hLine = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n                        hLine.setAttribute(\"x1\", \"0\");\n                        hLine.setAttribute(\"y1\", spacing / 2);\n                        hLine.setAttribute(\"x2\", spacing);\n                        hLine.setAttribute(\"y2\", spacing / 2);\n                        hLine.setAttribute(\"stroke\", hatchColor);\n                        hLine.setAttribute(\"stroke-width\", hatchWidth);\n                        hLine.setAttribute(\"stroke-opacity\", hatchOpacity);\n                        pattern.appendChild(hLine);\n\n                        const vLine = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n                        vLine.setAttribute(\"x1\", spacing / 2);\n                        vLine.setAttribute(\"y1\", \"0\");\n                        vLine.setAttribute(\"x2\", spacing / 2);\n                        vLine.setAttribute(\"y2\", spacing);\n                        vLine.setAttribute(\"stroke\", hatchColor);\n                        vLine.setAttribute(\"stroke-width\", hatchWidth);\n                        vLine.setAttribute(\"stroke-opacity\", hatchOpacity);\n                        pattern.appendChild(vLine);\n                    } else if (type === \"x\") {\n                        const line1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n                        line1.setAttribute(\"x1\", \"0\");\n                        line1.setAttribute(\"y1\", \"0\");\n                        line1.setAttribute(\"x2\", spacing);\n                        line1.setAttribute(\"y2\", spacing);\n                        line1.setAttribute(\"stroke\", hatchColor);\n                        line1.setAttribute(\"stroke-width\", hatchWidth);\n                        line1.setAttribute(\"stroke-opacity\", hatchOpacity);\n                        pattern.appendChild(line1);\n\n                        const line2 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n                        line2.setAttribute(\"x1\", spacing);\n                        line2.setAttribute(\"y1\", \"0\");\n                        line2.setAttribute(\"x2\", \"0\");\n                        line2.setAttribute(\"y2\", spacing);\n                        line2.setAttribute(\"stroke\", hatchColor);\n                        line2.setAttribute(\"stroke-width\", hatchWidth);\n                        line2.setAttribute(\"stroke-opacity\", hatchOpacity);\n                        pattern.appendChild(line2);\n                    }\n\n                    defs.appendChild(pattern);\n                    svg.appendChild(defs);\n\n                    // Rectangle avec hachure\n                    const rect = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n                    rect.setAttribute(\"x\", \"1\");\n                    rect.setAttribute(\"y\", \"1\");\n                    rect.setAttribute(\"width\", \"30\");\n                    rect.setAttribute(\"height\", \"22\");\n                    rect.setAttribute(\"fill\", `url(#${patternId})`);\n                    rect.setAttribute(\"stroke\", borderColor);\n                    rect.setAttribute(\"stroke-width\", borderWidth);\n                    if (fillOpacity !== 1) {\n                        rect.setAttribute(\"fill-opacity\", fillOpacity);\n                    }\n\n                    svg.appendChild(rect);\n                } else {\n                    // fillOpacity = 0 : rectangle transparent avec contour seulement\n                    const rect = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n                    rect.setAttribute(\"x\", \"1\");\n                    rect.setAttribute(\"y\", \"1\");\n                    rect.setAttribute(\"width\", \"30\");\n                    rect.setAttribute(\"height\", \"22\");\n                    rect.setAttribute(\"fill\", \"none\");\n                    rect.setAttribute(\"stroke\", borderColor);\n                    rect.setAttribute(\"stroke-width\", borderWidth);\n\n                    // Appliquer le dashArray si pr√©sent\n                    if (config.dashArray) {\n                        rect.setAttribute(\"stroke-dasharray\", config.dashArray);\n                    }\n\n                    svg.appendChild(rect);\n                }\n\n                container.appendChild(svg);\n                return svg;\n            }\n\n            // Fallback : DIV simple avec remplissage\n            const polygonEl = global.L.DomUtil.create(\"div\", \"gl-legend__polygon\", container);\n            polygonEl.style.width = \"24px\";\n            polygonEl.style.height = \"16px\";\n            polygonEl.style.backgroundColor = color;\n            polygonEl.style.border = borderWidth + \"px solid \" + borderColor;\n\n            if (fillOpacity !== 1) {\n                polygonEl.style.opacity = fillOpacity;\n            }\n\n            return polygonEl;\n        },\n\n        /**\n         * Rend un symbole √©toile (rating)\n         * @param {HTMLElement} container - Conteneur du symbole\n         * @param {Object} config - Configuration du symbole\n         * @returns {HTMLElement} - √âl√©ment cr√©√©\n         */\n        renderStarSymbol(container, config) {\n            const starContainer = global.L.DomUtil.create(\"div\", \"gl-legend__stars\", container);\n\n            const count = config.count || 5;\n            const color = config.color || \"#f1c40f\";\n            const size = config.size || 12;\n\n            for (let i = 0; i < count; i++) {\n                const starEl = global.L.DomUtil.create(\"span\", \"gl-legend__star\", starContainer);\n                starEl.textContent = \"‚òÖ\";\n                starEl.style.color = color;\n                starEl.style.fontSize = size + \"px\";\n            }\n\n            return starContainer;\n        },\n\n        /**\n         * Rend un symbole selon son type\n         * @param {HTMLElement} container - Conteneur du symbole\n         * @param {Object} config - Configuration du symbole\n         * @returns {HTMLElement} - √âl√©ment cr√©√©\n         */\n        renderSymbol(container, config) {\n            // Support de la structure avec config.symbol ou directement config\n            const symbolConfig = config.symbol || config;\n            const symbolType = symbolConfig.type || config.type || \"circle\";\n\n            switch (symbolType) {\n                case \"marker\":\n                case \"circle\":\n                    return this.renderCircleSymbol(container, symbolConfig);\n\n                case \"line\":\n                    return this.renderLineSymbol(container, symbolConfig);\n\n                case \"polygon\":\n                case \"fill\":\n                    return this.renderPolygonSymbol(container, symbolConfig);\n\n                case \"star\":\n                    return this.renderStarSymbol(container, symbolConfig);\n\n                case \"icon\":\n                    // Icon avec URL d'image\n                    if (symbolConfig.iconUrl) {\n                        const imgEl = global.L.DomUtil.create(\"img\", \"gl-legend__icon-img\", container);\n                        imgEl.src = symbolConfig.iconUrl;\n                        if (symbolConfig.size) {\n                            imgEl.style.width = symbolConfig.size + \"px\";\n                            imgEl.style.height = symbolConfig.size + \"px\";\n                        }\n                        return imgEl;\n                    }\n                    // Icon avec sprite SVG - utiliser renderCircleSymbol qui g√®re d√©j√† les sprites\n                    if (symbolConfig.icon) {\n                        return this.renderCircleSymbol(container, symbolConfig);\n                    }\n                    // Fallback vers circle\n                    return this.renderCircleSymbol(container, symbolConfig);\n\n                default:\n                    return this.renderCircleSymbol(container, symbolConfig);\n            }\n        },\n\n        /**\n         * Cr√©e un bouton toggle (checkbox/switch)\n         * @param {HTMLElement} container - Conteneur parent\n         * @param {Object} config - Configuration du toggle\n         * @param {string} [config.id] - ID du toggle\n         * @param {boolean} config.isActive - √âtat initial (alias: active)\n         * @param {string} [config.className] - Classe CSS personnalis√©e\n         * @param {string} [config.label] - Label du toggle\n         * @param {string} [config.title] - Tooltip\n         * @param {Function} [config.onToggle] - Callback lors du toggle\n         * @returns {HTMLElement} - √âl√©ment bouton cr√©√©\n         */\n        createToggleButton(container, config) {\n            // Support isActive ou active\n            const isActive = config.isActive !== undefined ? config.isActive : config.active;\n            const className = config.className || \"gl-toggle-btn\";\n\n            const toggleBtn = global.L.DomUtil.create(\n                \"button\",\n                className,\n                container\n            );\n            toggleBtn.type = \"button\";\n\n            if (config.id) {\n                toggleBtn.setAttribute(\"data-toggle-id\", config.id);\n            }\n\n            toggleBtn.setAttribute(\"aria-pressed\", isActive ? \"true\" : \"false\");\n\n            if (config.title) {\n                toggleBtn.title = config.title;\n            }\n\n            if (isActive) {\n                toggleBtn.classList.add(className + \"--on\");\n            }\n\n            if (config.label) {\n                toggleBtn.textContent = config.label;\n            }\n\n            // Attacher le gestionnaire\n            if (typeof config.onToggle === \"function\") {\n                const className = config.className || \"gl-toggle-btn\";\n                const onToggle = (ev) => {\n                    if (global.L && global.L.DomEvent) {\n                        global.L.DomEvent.stopPropagation(ev);\n                    }\n                    ev.preventDefault();\n\n                    const isActive = toggleBtn.classList.toggle(className + \"--on\");\n                    toggleBtn.setAttribute(\"aria-pressed\", isActive ? \"true\" : \"false\");\n\n                    config.onToggle(config.id, isActive, ev);\n                };\n\n                this.attachEventHandler(toggleBtn, \"click\", onToggle);\n            }\n\n            return toggleBtn;\n        },\n\n        /**\n         * Attache un gestionnaire d'√©v√©nements compatible Leaflet\n         * @param {HTMLElement} element - √âl√©ment cible\n         * @param {string} eventName - Nom de l'√©v√©nement\n         * @param {Function} handler - Gestionnaire\n         */\n        attachEventHandler(element, eventName, handler) {\n            if (global.L && global.L.DomEvent) {\n                global.L.DomEvent.on(element, eventName, handler);\n                if (eventName === \"click\") {\n                    global.L.DomEvent.disableClickPropagation(element);\n                }\n            } else {\n                element.addEventListener(eventName, handler);\n            }\n        }\n    };\n\n    // Exposer dans l'espace de noms interne\n    GeoLeaf._UIComponents = _UIComponents;\n\n    if (Log) Log.info(\"[GeoLeaf._UIComponents] Module commun UI charg√©\");\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf Notification System\n * Gestion des notifications toast et overlays\n * @module ui/notifications\n * @version 4.4.1\n * @updated 2026-01-23 - Standardisation API, queue prioritaire, int√©gration Telemetry\n */\n\n(function (window) {\n    \"use strict\";\n\n    // Namespace global GeoLeaf\n    const GeoLeaf = window.GeoLeaf || (window.GeoLeaf = {});\n\n    // Helper pour utiliser createElement unifi√©\n    const $create = (tag, props, ...children) => {\n        return GeoLeaf.Utils && GeoLeaf.Utils.createElement\n            ? GeoLeaf.Utils.createElement(tag, props, ...children)\n            : document.createElement(tag);\n    };\n\n    // Constantes pour les priorit√©s de la queue\n    const PRIORITY = {\n        ERROR: 3,\n        WARNING: 2,\n        SUCCESS: 1,\n        INFO: 1\n    };\n\nclass NotificationSystem {\n    constructor() {\n        this.container = null;\n        this.maxVisible = 3;              // Max toasts temporaires visibles\n        this.maxPersistent = 2;           // Max toasts persistants visibles\n        this.durations = {\n            success: 3000,\n            error: 5000,\n            warning: 4000,\n            info: 3000\n        };\n        this.config = {\n            enabled: true,\n            position: 'bottom-center',\n            animations: true\n        };\n\n        // Managers pour cleanup\n        this._eventManager = null;\n        this._timerManager = null;\n        this._activeToasts = new Map();\n\n        // Queue avec priorit√©s (limite: 15 max en attente)\n        this._queue = [];\n        this._maxQueueSize = 15;\n\n        // Buffer pour m√©triques Telemetry (avant chargement du module)\n        this._metricsBuffer = [];\n        this._metricsBufferTimeout = null;\n        this._telemetryAvailable = false;\n    }\n\n    /**\n     * Initialise le syst√®me de notifications\n     * @param {Object} config - Configuration\n     * @param {string} config.container - S√©lecteur du container\n     * @param {number} config.maxVisible - Nombre max de toasts visibles\n     * @param {Object} config.durations - Dur√©es par type\n     * @param {string} config.position - Position ('bottom-center', 'top-right', etc.)\n     * @param {boolean} config.animations - Activer les animations\n     */\n    init(config = {}) {\n        // Fusionner la config\n        this.config = { ...this.config, ...config };\n        this.maxVisible = config.maxVisible || 3;\n        this.durations = { ...this.durations, ...config.durations };\n\n        // R√©cup√©rer le container\n        this.container = document.querySelector(config.container || '#gl-notifications');\n\n        if (!this.container) {\n            const Log = GeoLeaf.Log;\n            if (Log) Log.warn('[GeoLeaf Notifications] Container introuvable:', config.container);\n            return false;\n        }\n\n        // Appliquer la classe de position\n        if (config.position) {\n            this.container.className = `gl-notifications gl-notifications--${config.position}`;\n        }\n\n        const Log = GeoLeaf.Log;\n        if (Log) Log.debug('[GeoLeaf Notifications] Syst√®me initialis√©');\n\n        // Initialiser les managers pour le cleanup\n        if (GeoLeaf.Utils) {\n            this._eventManager = GeoLeaf.Utils.events ? GeoLeaf.Utils.events.createManager('notifications') : null;\n            this._timerManager = GeoLeaf.Utils.timers ? GeoLeaf.Utils.timers.createManager('notifications') : null;\n        }\n\n        // D√©marrer le timer de 30s pour vider le buffer de m√©triques\n        this._startMetricsBufferTimeout();\n\n        // Flush imm√©diat si Telemetry est d√©j√† disponible\n        this._flushMetricsBuffer();\n\n        return true;\n    }\n\n    /**\n     * Affiche une notification g√©n√©rique (m√©thode publique standardis√©e)\n     * Support double signature:\n     * - show(message, type, duration) : Appel positionnel classique\n     * - show(message, options) : Appel avec objet options\n     *\n     * @param {string} message - Message √† afficher\n     * @param {string|Object} typeOrOptions - Type ('success', 'error', 'warning', 'info') OU objet options\n     * @param {number} [duration] - Dur√©e personnalis√©e (ms) - ignor√© si typeOrOptions est un objet\n     *\n     * @example\n     * // Appel positionnel\n     * show(\"Message\", \"success\", 3000);\n     *\n     * @example\n     * // Appel avec options\n     * show(\"Message\", {\n     *   type: \"success\",\n     *   duration: 3000,\n     *   persistent: false,      // Toast persistant (ne s'auto-dismiss pas)\n     *   dismissible: true,      // Bouton de fermeture\n     *   icon: \"‚úì\",             // Ic√¥ne personnalis√©e (futur)\n     *   action: {               // Action button (futur)\n     *     label: \"Annuler\",\n     *     callback: () => {}\n     *   }\n     * });\n     */\n    show(message, typeOrOptions = 'info', duration) {\n        // Parser les arguments selon la signature\n        let options = {};\n\n        if (typeof typeOrOptions === 'string') {\n            // Signature positionnelle: show(message, type, duration)\n            options = {\n                type: typeOrOptions,\n                duration: duration\n            };\n        } else if (typeof typeOrOptions === 'object' && typeOrOptions !== null) {\n            // Signature objet: show(message, options)\n            options = typeOrOptions;\n        } else {\n            // Fallback par d√©faut\n            options = { type: 'info' };\n        }\n\n        // Ajouter √† la queue avec priorit√©\n        return this._enqueue(message, options);\n    }\n\n    /**\n     * Affiche une notification de succ√®s\n     * Support double signature:\n     * - success(message, duration)\n     * - success(message, options)\n     *\n     * @param {string} message - Message √† afficher\n     * @param {number|Object} [durationOrOptions] - Dur√©e (ms) OU objet options\n     *\n     * @example\n     * success(\"Sauvegarde r√©ussie\", 3000);\n     * success(\"Sauvegarde r√©ussie\", { duration: 3000, persistent: false });\n     */\n    success(message, durationOrOptions) {\n        if (typeof durationOrOptions === 'number') {\n            return this.show(message, 'success', durationOrOptions);\n        } else if (typeof durationOrOptions === 'object') {\n            return this.show(message, { ...durationOrOptions, type: 'success' });\n        } else {\n            return this.show(message, 'success');\n        }\n    }\n\n    /**\n     * Affiche une notification d'erreur\n     * Support double signature:\n     * - error(message, duration)\n     * - error(message, options)\n     *\n     * @param {string} message - Message √† afficher\n     * @param {number|Object} [durationOrOptions] - Dur√©e (ms) OU objet options\n     *\n     * @example\n     * error(\"Erreur r√©seau\", 5000);\n     * error(\"Erreur r√©seau\", { duration: 5000, persistent: true });\n     */\n    error(message, durationOrOptions) {\n        if (typeof durationOrOptions === 'number') {\n            return this.show(message, 'error', durationOrOptions);\n        } else if (typeof durationOrOptions === 'object') {\n            return this.show(message, { ...durationOrOptions, type: 'error' });\n        } else {\n            return this.show(message, 'error');\n        }\n    }\n\n    /**\n     * Affiche une notification d'avertissement\n     * Support double signature:\n     * - warning(message, duration)\n     * - warning(message, options)\n     *\n     * @param {string} message - Message √† afficher\n     * @param {number|Object} [durationOrOptions] - Dur√©e (ms) OU objet options\n     *\n     * @example\n     * warning(\"Connexion instable\", 4000);\n     * warning(\"Connexion instable\", { duration: 4000 });\n     */\n    warning(message, durationOrOptions) {\n        if (typeof durationOrOptions === 'number') {\n            return this.show(message, 'warning', durationOrOptions);\n        } else if (typeof durationOrOptions === 'object') {\n            return this.show(message, { ...durationOrOptions, type: 'warning' });\n        } else {\n            return this.show(message, 'warning');\n        }\n    }\n\n    /**\n     * Affiche une notification d'information\n     * Support double signature:\n     * - info(message, duration)\n     * - info(message, options)\n     *\n     * @param {string} message - Message √† afficher\n     * @param {number|Object} [durationOrOptions] - Dur√©e (ms) OU objet options\n     *\n     * @example\n     * info(\"Synchronisation en cours\", 3000);\n     * info(\"Synchronisation en cours\", { persistent: true, dismissible: false });\n     */\n    info(message, durationOrOptions) {\n        if (typeof durationOrOptions === 'number') {\n            return this.show(message, 'info', durationOrOptions);\n        } else if (typeof durationOrOptions === 'object') {\n            return this.show(message, { ...durationOrOptions, type: 'info' });\n        } else {\n            return this.show(message, 'info');\n        }\n    }\n\n    /**\n     * Ajoute une notification √† la queue avec priorit√©\n     * @private\n     * @param {string} message - Message\n     * @param {Object} options - Options de la notification\n     */\n    _enqueue(message, options) {\n        const type = options.type || 'info';\n        const priority = PRIORITY[type.toUpperCase()] || PRIORITY.INFO;\n\n        const item = {\n            message,\n            options: {\n                type,\n                duration: options.duration,\n                persistent: options.persistent || false,\n                dismissible: options.dismissible !== false, // true par d√©faut\n                icon: options.icon,\n                action: options.action\n            },\n            priority,\n            timestamp: Date.now()\n        };\n\n        // V√©rifier la limite de la queue\n        if (this._queue.length >= this._maxQueueSize) {\n            // Trouver l'√©l√©ment de plus faible priorit√© (et plus ancien si √©galit√©)\n            const lowestPriorityIndex = this._queue.reduce((minIdx, item, idx, arr) => {\n                const minItem = arr[minIdx];\n                if (item.priority < minItem.priority ||\n                    (item.priority === minItem.priority && item.timestamp < minItem.timestamp)) {\n                    return idx;\n                }\n                return minIdx;\n            }, 0);\n\n            // Si le nouvel item est plus prioritaire que le moins prioritaire dans la queue\n            if (item.priority > this._queue[lowestPriorityIndex].priority) {\n                // Supprimer le moins prioritaire\n                this._queue.splice(lowestPriorityIndex, 1);\n                // Tracker la m√©trique\n                this._recordMetric('notification.dropped', 1);\n\n                const Log = GeoLeaf.Log;\n                if (Log) Log.warn('[GeoLeaf Notifications] Queue pleine, notification dropp√©e');\n            } else {\n                // Dropper le nouveau item\n                this._recordMetric('notification.dropped', 1);\n                const Log = GeoLeaf.Log;\n                if (Log) Log.warn('[GeoLeaf Notifications] Queue pleine, notification rejet√©e');\n                return;\n            }\n        }\n\n        // Ajouter √† la queue\n        this._queue.push(item);\n        this._recordMetric('notification.queued', 1);\n\n        // Trier la queue par priorit√© (desc) puis timestamp (asc)\n        this._queue.sort((a, b) => {\n            if (b.priority !== a.priority) {\n                return b.priority - a.priority; // Priorit√© d√©croissante\n            }\n            return a.timestamp - b.timestamp; // Timestamp croissant (FIFO pour m√™me priorit√©)\n        });\n\n        // Traiter la queue\n        return this._processQueue();\n    }\n\n    /**\n     * Traite la queue et affiche les notifications selon disponibilit√©\n     * @private\n     */\n    _processQueue() {\n        if (!this.container || !this.config.enabled || this._queue.length === 0) {\n            return null;\n        }\n\n        // Compter les toasts actuellement visibles\n        const visibleToasts = this.container.querySelectorAll('.gl-toast:not(.gl-toast--removing)');\n        const temporaryToasts = Array.from(visibleToasts).filter(t => !t.dataset.persistent);\n        const persistentToasts = Array.from(visibleToasts).filter(t => t.dataset.persistent);\n\n        // Tant qu'il y a de la place et des items dans la queue\n        let lastToast = null;\n        while (this._queue.length > 0) {\n            const nextItem = this._queue[0];\n            const isPersistent = nextItem.options.persistent;\n\n            // V√©rifier si on peut afficher ce toast\n            const canShow = isPersistent\n                ? persistentToasts.length < this.maxPersistent\n                : temporaryToasts.length < this.maxVisible;\n\n            if (!canShow) {\n                // Si c'est un toast prioritaire (error), retirer un toast existant moins prioritaire\n                if (nextItem.priority === PRIORITY.ERROR && temporaryToasts.length > 0) {\n                    // Trouver un toast info ou success √† retirer\n                    const toastToRemove = temporaryToasts.find(t =>\n                        t.classList.contains('gl-toast--info') ||\n                        t.classList.contains('gl-toast--success')\n                    ) || temporaryToasts[0];\n\n                    this._remove(toastToRemove, true); // true = reorganization\n                    // Continuer pour afficher le toast prioritaire\n                } else {\n                    // Pas de place, arr√™ter le traitement\n                    break;\n                }\n            }\n\n            // Retirer de la queue et afficher\n            const item = this._queue.shift();\n            lastToast = this._showImmediate(item.message, item.options);\n\n            // Mettre √† jour les compteurs\n            if (isPersistent) {\n                persistentToasts.push(null); // Placeholder\n            } else {\n                temporaryToasts.push(null); // Placeholder\n            }\n        }\n\n        return lastToast;\n    }\n\n    /**\n     * Affiche une notification imm√©diatement (utilis√©e par la queue)\n     * @private\n     * @param {string} message - Message √† afficher\n     * @param {Object} options - Options de la notification\n     */\n    _showImmediate(message, options) {\n        const type = options.type || 'info';\n        const duration = options.duration || this.durations[type];\n        const persistent = options.persistent || false;\n        const dismissible = options.dismissible !== false;\n\n        // Cr√©er le toast\n        const toast = $create('div', {\n            className: `gl-toast gl-toast--${type}`,\n            attributes: {\n                'role': 'alert',\n                // Utiliser assertive pour errors et toasts prioritaires\n                'aria-live': (type === 'error' || options.priority === PRIORITY.ERROR) ? 'assertive' : 'polite'\n            }\n        });\n\n        // Marquer si persistant\n        if (persistent) {\n            toast.dataset.persistent = 'true';\n        }\n\n        // Cr√©er le message (textContent = s√©curis√©)\n        const messageSpan = $create('span', {\n            className: 'gl-toast__message',\n            textContent: message\n        });\n        toast.appendChild(messageSpan);\n\n        // Cr√©er le bouton de fermeture (si dismissible)\n        if (dismissible) {\n            const closeBtn = $create('button', {\n                className: 'gl-toast__close',\n                attributes: {\n                    'aria-label': 'Fermer la notification',\n                    'title': 'Fermer'\n                },\n                textContent: '√ó',\n                onClick: () => {\n                    this._recordMetric('notification.dismissed.manual', 1);\n                    this._remove(toast, false);\n                }\n            });\n            toast.appendChild(closeBtn);\n        }\n\n        // Ajouter au DOM\n        this.container.appendChild(toast);\n\n        // Tracker m√©trique\n        this._recordMetric(`notification.shown.${type}`, 1);\n\n        // Animation d'entr√©e\n        if (this.config.animations) {\n            requestAnimationFrame(() => {\n                requestAnimationFrame(() => {\n                    toast.classList.add('gl-toast--visible');\n                });\n            });\n        } else {\n            toast.classList.add('gl-toast--visible');\n        }\n\n        // Planifier l'auto-suppression (seulement si non persistant)\n        if (!persistent) {\n            const autoRemove = setTimeout(() => {\n                this._recordMetric('notification.dismissed.auto', 1);\n                this._remove(toast, false);\n            }, duration);\n\n            if (this._timerManager) {\n                toast.dataset.timerId = this._timerManager.setTimeout(() => {\n                    this._recordMetric('notification.dismissed.auto', 1);\n                    this._remove(toast, false);\n                }, duration);\n            } else {\n                toast.dataset.timeoutId = autoRemove;\n            }\n        }\n\n        return toast;\n    }\n\n    /**\n     * Retire une notification\n     * @private\n     * @param {HTMLElement} toast - √âl√©ment toast √† retirer\n     * @param {boolean} isReorganization - Si true, c'est une r√©organisation (animation diff√©rente)\n     */\n    _remove(toast, isReorganization = false) {\n        if (!toast || toast.classList.contains('gl-toast--removing')) {\n            return;\n        }\n\n        // Annuler le timeout auto si fermeture manuelle\n        if (toast.dataset.timeoutId) {\n            clearTimeout(parseInt(toast.dataset.timeoutId));\n            delete toast.dataset.timeoutId;\n        }\n        if (toast.dataset.timerId && this._timerManager) {\n            this._timerManager.clearTimeout(toast.dataset.timerId);\n            delete toast.dataset.timerId;\n        }\n\n        // Animation de sortie\n        toast.classList.add('gl-toast--removing');\n        toast.classList.remove('gl-toast--visible');\n\n        // Appliquer animation sp√©cifique pour r√©organisation\n        if (isReorganization && this.config.animations) {\n            toast.classList.add('gl-toast--sliding-up');\n        }\n\n        const removeDelay = this.config.animations ? 200 : 0;\n        const removeTimer = setTimeout(() => {\n            if (toast.parentNode) {\n                toast.remove();\n            }\n            // Traiter la queue apr√®s suppression\n            this._processQueue();\n        }, removeDelay);\n\n        if (this._timerManager) {\n            this._timerManager.setTimeout(() => {\n                if (toast.parentNode) {\n                    toast.remove();\n                }\n                this._processQueue();\n            }, removeDelay);\n        }\n    }\n\n    /**\n     * Efface toutes les notifications\n     */\n    clearAll() {\n        if (!this.container) return;\n\n        const toasts = this.container.querySelectorAll('.gl-toast');\n        toasts.forEach(toast => this._remove(toast, false));\n\n        // Vider aussi la queue\n        this._queue = [];\n    }\n\n    /**\n     * Ferme une notification sp√©cifique par sa r√©f√©rence DOM\n     * @param {HTMLElement} toastEl - √âl√©ment toast retourn√© par show/info/success/etc.\n     */\n    dismiss(toastEl) {\n        if (!toastEl) return;\n        this._remove(toastEl, false);\n    }\n\n    /**\n     * D√©sactive temporairement les notifications\n     */\n    disable() {\n        this.config.enabled = false;\n        const Log = GeoLeaf.Log;\n        if (Log) Log.debug('[GeoLeaf Notifications] Syst√®me d√©sactiv√©');\n    }\n\n    /**\n     * R√©active les notifications\n     */\n    enable() {\n        this.config.enabled = true;\n        const Log = GeoLeaf.Log;\n        if (Log) Log.debug('[GeoLeaf Notifications] Syst√®me activ√©');\n        // Traiter la queue au cas o√π des items sont en attente\n        this._processQueue();\n    }\n\n    /**\n     * Enregistre une m√©trique Telemetry (avec buffer si module pas encore charg√©)\n     * @private\n     * @param {string} name - Nom de la m√©trique\n     * @param {number} value - Valeur\n     */\n    _recordMetric(name, value = 1) {\n        // V√©rifier si Telemetry est disponible\n        if (GeoLeaf.Storage && GeoLeaf.Storage.Telemetry && typeof GeoLeaf.Storage.Telemetry.recordMetric === 'function') {\n            // Telemetry disponible, enregistrer directement\n            try {\n                GeoLeaf.Storage.Telemetry.recordMetric(name, value);\n                this._telemetryAvailable = true;\n            } catch (error) {\n                const Log = GeoLeaf.Log;\n                if (Log) Log.warn('[GeoLeaf Notifications] Erreur enregistrement m√©trique:', error);\n            }\n        } else {\n            // Telemetry pas encore disponible, ajouter au buffer\n            this._metricsBuffer.push({ name, value, timestamp: Date.now() });\n        }\n    }\n\n    /**\n     * Vide le buffer de m√©triques vers Telemetry\n     * @private\n     */\n    _flushMetricsBuffer() {\n        if (this._metricsBuffer.length === 0) {\n            return;\n        }\n\n        // V√©rifier si Telemetry est maintenant disponible\n        if (GeoLeaf.Storage && GeoLeaf.Storage.Telemetry && typeof GeoLeaf.Storage.Telemetry.recordMetric === 'function') {\n            const Log = GeoLeaf.Log;\n            if (Log) Log.debug(`[GeoLeaf Notifications] Flush de ${this._metricsBuffer.length} m√©triques vers Telemetry`);\n\n            // Enregistrer toutes les m√©triques du buffer\n            this._metricsBuffer.forEach(metric => {\n                try {\n                    GeoLeaf.Storage.Telemetry.recordMetric(metric.name, metric.value);\n                } catch (error) {\n                    if (Log) Log.warn('[GeoLeaf Notifications] Erreur flush m√©trique:', error);\n                }\n            });\n\n            // Vider le buffer\n            this._metricsBuffer = [];\n            this._telemetryAvailable = true;\n\n            // Annuler le timeout si actif\n            if (this._metricsBufferTimeout) {\n                clearTimeout(this._metricsBufferTimeout);\n                this._metricsBufferTimeout = null;\n            }\n        }\n    }\n\n    /**\n     * D√©marre le timeout de 30s pour vider le buffer (√©viter fuite m√©moire)\n     * @private\n     */\n    _startMetricsBufferTimeout() {\n        // Timeout de 30s pour vider le buffer m√™me si Telemetry ne charge pas\n        this._metricsBufferTimeout = setTimeout(() => {\n            if (this._metricsBuffer.length > 0) {\n                const Log = GeoLeaf.Log;\n                if (Log) Log.warn(`[GeoLeaf Notifications] Timeout buffer m√©triques (30s), ${this._metricsBuffer.length} m√©triques abandonn√©es`);\n                this._metricsBuffer = [];\n            }\n            this._metricsBufferTimeout = null;\n        }, 30000); // 30 secondes\n    }\n\n    /**\n     * √âchappe le HTML pour √©viter les injections XSS\n     * @private\n     * @param {string} text - Texte √† √©chapper\n     * @returns {string} Texte √©chapp√©\n     * @deprecated Utilisez textContent au lieu de innerHTML\n     */\n    _escapeHtml(text) {\n        if (GeoLeaf.Security && typeof GeoLeaf.Security.escapeHtml === 'function') {\n            return GeoLeaf.Security.escapeHtml(text);\n        }\n        // Fallback s√©curis√© si Security n'est pas charg√©\n        if (text == null) return '';\n        return String(text).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n    }\n\n    /**\n     * D√©truit le syst√®me de notifications et nettoie toutes les ressources\n     * Retire tous les event listeners et timers actifs\n     */\n    destroy() {\n        const Log = GeoLeaf.Log;\n\n        // Clear tous les timers actifs\n        if (this._timerManager) {\n            this._timerManager.destroy();\n            this._timerManager = null;\n        }\n\n        // Retire tous les event listeners\n        if (this._eventManager) {\n            this._eventManager.destroy();\n            this._eventManager = null;\n        }\n\n        // Clear le timeout du buffer\n        if (this._metricsBufferTimeout) {\n            clearTimeout(this._metricsBufferTimeout);\n            this._metricsBufferTimeout = null;\n        }\n\n        // Vider le buffer de m√©triques (une derni√®re tentative)\n        if (this._metricsBuffer.length > 0) {\n            this._flushMetricsBuffer();\n            // Si toujours pas vid√©, abandonner\n            this._metricsBuffer = [];\n        }\n\n        // Retire tous les toasts actifs\n        if (this.container) {\n            const toasts = this.container.querySelectorAll('.gl-toast');\n            toasts.forEach(toast => toast.remove());\n        }\n\n        // Clear la queue\n        this._queue = [];\n\n        // Clear la map\n        this._activeToasts.clear();\n\n        // Reset les propri√©t√©s\n        this.container = null;\n        this.config.enabled = false;\n\n        if (Log) Log.info('[GeoLeaf Notifications] Syst√®me d√©truit et nettoy√©');\n    }\n\n    /**\n     * Get current status of notification system\n     * @returns {Object} Status information\n     */\n    getStatus() {\n        const visibleToasts = this.container ? this.container.querySelectorAll('.gl-toast:not(.gl-toast--removing)') : [];\n        const temporaryToasts = Array.from(visibleToasts).filter(t => !t.dataset.persistent);\n        const persistentToasts = Array.from(visibleToasts).filter(t => t.dataset.persistent);\n\n        return {\n            enabled: this.config.enabled,\n            initialized: !!this.container,\n            activeToasts: visibleToasts.length,\n            temporaryToasts: temporaryToasts.length,\n            persistentToasts: persistentToasts.length,\n            queued: this._queue.length,\n            maxVisible: this.maxVisible,\n            maxPersistent: this.maxPersistent,\n            position: this.config.position,\n            telemetryAvailable: this._telemetryAvailable,\n            metricsBuffered: this._metricsBuffer.length\n        };\n    }\n}\n\n// Cr√©er une instance singleton et l'exposer\nGeoLeaf._UINotifications = new NotificationSystem();\n\n})(window);\n","/**\r\n * GeoLeaf UI Module - Event Delegation\r\n * Centralisation de la gestion des √©v√©nements UI avec patterns de d√©l√©gation efficaces\r\n *\r\n * @module ui/event-delegation\r\n * @author Assistant\r\n * @version 1.0.0\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    const Log = GeoLeaf.Log;\r\n\r\n    GeoLeaf._UIEventDelegation = GeoLeaf._UIEventDelegation || {};\r\n\r\n    // ========================================\r\n    //   CONSTANTES & √âTAT\r\n    // ========================================\r\n\r\n    /**\r\n     * Map des listeners actifs pour cleanup\r\n     * @type {Map<string, {element: HTMLElement, event: string, handler: Function}>}\r\n     */\r\n    const _activeListeners = new Map();\r\n\r\n    /**\r\n     * Compteur pour identifiants uniques des listeners\r\n     * @type {number}\r\n     */\r\n    let _listenerIdCounter = 0;\r\n\r\n    // ========================================\r\n    //   UTILITAIRES DE D√âL√âGATION\r\n    // ========================================\r\n\r\n    /**\r\n     * Attache un event listener avec tracking automatique pour cleanup\r\n     * @param {HTMLElement} element - √âl√©ment DOM\r\n     * @param {string} event - Type d'√©v√©nement\r\n     * @param {Function} handler - Handler de l'√©v√©nement\r\n     * @param {Object} options - Options pour addEventListener\r\n     * @returns {string} ID unique du listener pour cleanup\r\n     */\r\n    function attachTrackedListener(element, event, handler, options = {}) {\r\n        if (!element || typeof handler !== 'function') {\r\n            if (Log) Log.warn(\"[UI.EventDelegation] attachTrackedListener: √©lement ou handler manquant\");\r\n            return null;\r\n        }\r\n\r\n        const listenerId = `listener_${++_listenerIdCounter}`;\r\n\r\n        // Wrapper pour tracking automatique des erreurs\r\n        const wrappedHandler = function(e) {\r\n            try {\r\n                return handler.call(this, e);\r\n            } catch (error) {\r\n                if (Log) Log.error(\"[UI.EventDelegation] Erreur dans handler:\", error);\r\n            }\r\n        };\r\n\r\n        element.addEventListener(event, wrappedHandler, options);\r\n\r\n        _activeListeners.set(listenerId, {\r\n            element,\r\n            event,\r\n            handler: wrappedHandler,\r\n            originalHandler: handler\r\n        });\r\n\r\n        return listenerId;\r\n    }\r\n\r\n    /**\r\n     * D√©tache un listener track√©e\r\n     * @param {string} listenerId - ID retourn√© par attachTrackedListener\r\n     * @returns {boolean} True si succ√®s\r\n     */\r\n    function detachTrackedListener(listenerId) {\r\n        if (!listenerId || !_activeListeners.has(listenerId)) {\r\n            return false;\r\n        }\r\n\r\n        const { element, event, handler } = _activeListeners.get(listenerId);\r\n        element.removeEventListener(event, handler);\r\n        _activeListeners.delete(listenerId);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Nettoie tous les listeners track√©es\r\n     * @returns {number} Nombre de listeners nettoy√©es\r\n     */\r\n    function cleanupAllListeners() {\r\n        let cleaned = 0;\r\n        for (const [listenerId, { element, event, handler }] of _activeListeners) {\r\n            element.removeEventListener(event, handler);\r\n            cleaned++;\r\n        }\r\n        _activeListeners.clear();\r\n        if (Log && cleaned > 0) {\r\n            Log.info(`[UI.EventDelegation] ${cleaned} listeners nettoy√©es`);\r\n        }\r\n        return cleaned;\r\n    }\r\n\r\n    // ========================================\r\n    //   D√âL√âGATION PAR TYPES UI SP√âCIFIQUES\r\n    // ========================================\r\n\r\n    /**\r\n     * G√®re les √©v√©nements des inputs de filtre avec debouncing\r\n     * @param {HTMLElement} filterContainer - Conteneur des filtres\r\n     * @param {Function} onFilterChange - Callback appel√© lors des changements\r\n     * @param {number} debounceMs - D√©lai de debounce (d√©faut: 300ms)\r\n     * @returns {string[]} IDs des listeners cr√©√©s\r\n     */\r\n    function attachFilterInputEvents(filterContainer, onFilterChange, debounceMs = 300) {\r\n        if (!filterContainer || typeof onFilterChange !== 'function') {\r\n            if (Log) Log.warn(\"[UI.EventDelegation] attachFilterInputEvents: param√®tres manquants\");\r\n            return [];\r\n        }\r\n\r\n        const listenerIds = [];\r\n        let debounceTimer = null;\r\n\r\n        // Fonction debounce pour les inputs\r\n        const debouncedHandler = function() {\r\n            if (debounceTimer) clearTimeout(debounceTimer);\r\n            debounceTimer = setTimeout(() => {\r\n                onFilterChange();\r\n            }, debounceMs);\r\n        };\r\n\r\n        // D√©l√©gation pour tous les inputs de type text/range\r\n        const textInputHandler = function(e) {\r\n            if (e.target.matches('input[type=\"text\"], input[type=\"range\"]')) {\r\n                debouncedHandler();\r\n            }\r\n        };\r\n\r\n        // D√©l√©gation pour les checkboxes (pas de debounce)\r\n        const checkboxHandler = function(e) {\r\n            if (e.target.matches('input[type=\"checkbox\"]')) {\r\n                onFilterChange();\r\n            }\r\n        };\r\n\r\n        // D√©l√©gation pour les selects\r\n        const selectHandler = function(e) {\r\n            if (e.target.matches('select')) {\r\n                onFilterChange();\r\n            }\r\n        };\r\n\r\n        listenerIds.push(attachTrackedListener(filterContainer, 'input', textInputHandler));\r\n        listenerIds.push(attachTrackedListener(filterContainer, 'change', checkboxHandler));\r\n        listenerIds.push(attachTrackedListener(filterContainer, 'change', selectHandler));\r\n\r\n        return listenerIds.filter(id => id !== null);\r\n    }\r\n\r\n    /**\r\n     * G√®re les √©v√©nements d'accord√©on avec d√©l√©gation\r\n     * @param {HTMLElement} container - Conteneur des accord√©ons\r\n     * @returns {string} ID du listener cr√©√©\r\n     */\r\n    function attachAccordionEvents(container) {\r\n        if (!container) {\r\n            if (Log) Log.warn(\"[UI.EventDelegation] attachAccordionEvents: conteneur manquant\");\r\n            return null;\r\n        }\r\n\r\n        const accordionHandler = function(e) {\r\n            // Cherche le bouton d'accord√©on dans la hi√©rarchie\r\n            const accordionButton = e.target.closest('.gl-accordion-toggle, .accordion-arrow');\r\n            if (!accordionButton) return;\r\n\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            // Trouve le panel associ√©\r\n            const panel = accordionButton.closest('.gl-accordion')?.querySelector('.gl-accordion-content');\r\n            if (!panel) return;\r\n\r\n            // Toggle accord√©on\r\n            const isExpanded = panel.style.display !== 'none';\r\n            panel.style.display = isExpanded ? 'none' : 'block';\r\n\r\n            // Met √† jour l'aria-expanded\r\n            accordionButton.setAttribute('aria-expanded', !isExpanded);\r\n\r\n            // Met √† jour l'ic√¥ne si pr√©sente\r\n            const icon = accordionButton.querySelector('.accordion-icon, .accordion-arrow');\r\n            if (icon) {\r\n                icon.classList.toggle('expanded', !isExpanded);\r\n            }\r\n        };\r\n\r\n        return attachTrackedListener(container, 'click', accordionHandler);\r\n    }\r\n\r\n    /**\r\n     * G√®re les √©v√©nements des contr√¥les de carte (delegation pour les boutons)\r\n     * @param {HTMLElement} mapContainer - Conteneur de la carte\r\n     * @param {Object} handlers - Map des handlers { selectorPattern: handlerFunction }\r\n     * @returns {string[]} IDs des listeners cr√©√©s\r\n     */\r\n    function attachMapControlEvents(mapContainer, handlers) {\r\n        if (!mapContainer || !handlers || typeof handlers !== 'object') {\r\n            if (Log) Log.warn(\"[UI.EventDelegation] attachMapControlEvents: param√®tres manquants\");\r\n            return [];\r\n        }\r\n\r\n        const listenerIds = [];\r\n\r\n        const controlHandler = function(e) {\r\n            for (const [selector, handler] of Object.entries(handlers)) {\r\n                if (e.target.matches(selector) || e.target.closest(selector)) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n\r\n                    if (typeof handler === 'function') {\r\n                        handler.call(this, e);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        };\r\n\r\n        listenerIds.push(attachTrackedListener(mapContainer, 'click', controlHandler));\r\n        return listenerIds.filter(id => id !== null);\r\n    }\r\n\r\n    // ========================================\r\n    //   API PUBLIQUE\r\n    // ========================================\r\n\r\n    // Fonctions de base\r\n    GeoLeaf._UIEventDelegation.attachTrackedListener = attachTrackedListener;\r\n    GeoLeaf._UIEventDelegation.detachTrackedListener = detachTrackedListener;\r\n    GeoLeaf._UIEventDelegation.cleanupAllListeners = cleanupAllListeners;\r\n\r\n    // D√©l√©gations sp√©cialis√©es\r\n    GeoLeaf._UIEventDelegation.attachFilterInputEvents = attachFilterInputEvents;\r\n    GeoLeaf._UIEventDelegation.attachAccordionEvents = attachAccordionEvents;\r\n    GeoLeaf._UIEventDelegation.attachMapControlEvents = attachMapControlEvents;\r\n\r\n    // Statistiques et debug\r\n    /**\r\n     * Obtient le nombre de listeners actifs enregistr√©s\r\n     * Utile pour le debugging et le monitoring des fuites m√©moire\r\n     * @returns {number} Nombre de listeners actifs\r\n     * @example\r\n     * const count = GeoLeaf._UIEventDelegation.getActiveListenersCount();\r\n     * console.log(`${count} listeners actifs`);\r\n     */\r\n    GeoLeaf._UIEventDelegation.getActiveListenersCount = function() {\r\n        return _activeListeners.size;\r\n    };\r\n\r\n    /**\r\n     * R√©cup√®re la liste compl√®te des listeners actifs avec leurs m√©tadonn√©es\r\n     * Retourne une Map avec ID listener comme cl√© et info d√©taill√©es\r\n     * @returns {Map<string, Object>} Map des listeners actifs (id -> {element, event, handler, timestamp})\r\n     * @example\r\n     * const listeners = GeoLeaf._UIEventDelegation.getActiveListeners();\r\n     * listeners.forEach((info, id) => console.log(`Listener ${id} sur ${info.event}`));\r\n     */\r\n    GeoLeaf._UIEventDelegation.getActiveListeners = function() {\r\n        return Array.from(_activeListeners.keys());\r\n    };\r\n\r\n    if (Log) {\r\n        Log.info(\"[UI.EventDelegation] Module initialis√©\");\r\n    }\r\n\r\n})(window);\r\n","/**\r\n * GeoLeaf UI Module - Filter State Manager\r\n * Gestion centralis√©e de l'√©tat des filtres avec patterns observateur\r\n *\r\n * @module ui/filter-state-manager\r\n * @author Assistant\r\n * @version 1.0.0\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    const Log = GeoLeaf.Log;\r\n\r\n    GeoLeaf._UIFilterStateManager = GeoLeaf._UIFilterStateManager || {};\r\n\r\n    // ========================================\r\n    //   √âTAT CENTRALIS√â DES FILTRES\r\n    // ========================================\r\n\r\n    /**\r\n     * √âtat actuel des filtres\r\n     * @type {Object}\r\n     * @private\r\n     */\r\n    let _filterState = {\r\n        // √âtat des filtres par ID\r\n        values: new Map(),\r\n\r\n        // M√©tadonn√©es des filtres\r\n        metadata: new Map(),\r\n\r\n        // Profil actuel\r\n        activeProfile: null,\r\n\r\n        // Callbacks observers\r\n        observers: new Set()\r\n    };\r\n\r\n    /**\r\n     * Timestamps pour debouncing\r\n     * @type {Map<string, number>}\r\n     * @private\r\n     */\r\n    const _debounceTimers = new Map();\r\n\r\n    // ========================================\r\n    //   GESTION DE L'√âTAT DES FILTRES\r\n    // ========================================\r\n\r\n    /**\r\n     * Initialise l'√©tat des filtres depuis un profil\r\n     * @param {Object} profile - Configuration du profil\r\n     * @returns {boolean} Succ√®s de l'initialisation\r\n     */\r\n    function initializeFromProfile(profile) {\r\n        if (!profile || !profile.filters) {\r\n            if (Log) Log.warn(\"[UI.FilterStateManager] Profil ou filtres manquants\");\r\n            return false;\r\n        }\r\n\r\n        // R√©initialise l'√©tat\r\n        _filterState.values.clear();\r\n        _filterState.metadata.clear();\r\n        _filterState.activeProfile = profile;\r\n\r\n        // Configure chaque filtre avec ses valeurs par d√©faut\r\n        profile.filters.forEach(filter => {\r\n            if (!filter.id) return;\r\n\r\n            const metadata = {\r\n                type: filter.type,\r\n                label: filter.label,\r\n                required: !!filter.required,\r\n                min: filter.min,\r\n                max: filter.max,\r\n                options: filter.options || [],\r\n                optionsFrom: filter.optionsFrom\r\n            };\r\n\r\n            _filterState.metadata.set(filter.id, metadata);\r\n\r\n            // Valeur par d√©faut selon le type\r\n            let defaultValue = null;\r\n            switch (filter.type) {\r\n                case 'select':\r\n                case 'multiselect':\r\n                    defaultValue = filter.default || (filter.type === 'multiselect' ? [] : '');\r\n                    break;\r\n                case 'range':\r\n                    defaultValue = filter.default ?? ((filter.min + filter.max) / 2);\r\n                    break;\r\n                case 'tree':\r\n                case 'tree-category':\r\n                case 'categoryTree':\r\n                    defaultValue = filter.default || [];\r\n                    break;\r\n                default:\r\n                    defaultValue = filter.default || '';\r\n            }\r\n\r\n            _filterState.values.set(filter.id, defaultValue);\r\n        });\r\n\r\n        // Notifie les observateurs\r\n        _notifyObservers('init', null, _filterState.values);\r\n\r\n        if (Log) {\r\n            Log.info(`[UI.FilterStateManager] Initialis√© avec ${_filterState.values.size} filtres`);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Met √† jour la valeur d'un filtre\r\n     * @param {string} filterId - ID du filtre\r\n     * @param {*} value - Nouvelle valeur\r\n     * @param {boolean} skipNotify - √âviter la notification (d√©faut: false)\r\n     * @returns {boolean} Succ√®s de la mise √† jour\r\n     */\r\n    function updateFilterValue(filterId, value, skipNotify = false) {\r\n        if (!filterId || !_filterState.metadata.has(filterId)) {\r\n            if (Log) Log.warn(`[UI.FilterStateManager] Filtre inconnu: ${filterId}`);\r\n            return false;\r\n        }\r\n\r\n        const metadata = _filterState.metadata.get(filterId);\r\n        const oldValue = _filterState.values.get(filterId);\r\n\r\n        // Validation selon le type\r\n        const validatedValue = _validateFilterValue(value, metadata);\r\n        if (validatedValue === null && value !== null) {\r\n            if (Log) Log.warn(`[UI.FilterStateManager] Valeur invalide pour ${filterId}:`, value);\r\n            return false;\r\n        }\r\n\r\n        // Mise √† jour\r\n        _filterState.values.set(filterId, validatedValue);\r\n\r\n        // Notification avec debouncing pour les ranges\r\n        if (!skipNotify) {\r\n            if (metadata.type === 'range') {\r\n                _notifyWithDebounce(filterId, 'change', oldValue, validatedValue, 200);\r\n            } else {\r\n                _notifyObservers('change', filterId, validatedValue, oldValue);\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * R√©cup√®re la valeur d'un filtre\r\n     * @param {string} filterId - ID du filtre\r\n     * @returns {*} Valeur du filtre ou null si inexistant\r\n     */\r\n    function getFilterValue(filterId) {\r\n        return _filterState.values.get(filterId) || null;\r\n    }\r\n\r\n    /**\r\n     * R√©cup√®re toutes les valeurs de filtres\r\n     * @returns {Object} Object avec filterId -> value\r\n     */\r\n    function getAllFilterValues() {\r\n        return Object.fromEntries(_filterState.values);\r\n    }\r\n\r\n    /**\r\n     * R√©cup√®re les m√©tadonn√©es d'un filtre\r\n     * @param {string} filterId - ID du filtre\r\n     * @returns {Object|null} M√©tadonn√©es ou null\r\n     */\r\n    function getFilterMetadata(filterId) {\r\n        return _filterState.metadata.get(filterId) || null;\r\n    }\r\n\r\n    /**\r\n     * Remet √† z√©ro tous les filtres\r\n     * @param {boolean} skipNotify - √âviter la notification (d√©faut: false)\r\n     */\r\n    function resetAllFilters(skipNotify = false) {\r\n        const oldState = new Map(_filterState.values);\r\n\r\n        _filterState.values.forEach((value, filterId) => {\r\n            const metadata = _filterState.metadata.get(filterId);\r\n            if (!metadata) return;\r\n\r\n            // Remise √† z√©ro selon le type\r\n            let resetValue = null;\r\n            switch (metadata.type) {\r\n                case 'multiselect':\r\n                case 'tree':\r\n                case 'tree-category':\r\n                case 'categoryTree':\r\n                    resetValue = [];\r\n                    break;\r\n                case 'range':\r\n                    resetValue = (metadata.min + metadata.max) / 2;\r\n                    break;\r\n                default:\r\n                    resetValue = '';\r\n            }\r\n\r\n            _filterState.values.set(filterId, resetValue);\r\n        });\r\n\r\n        if (!skipNotify) {\r\n            _notifyObservers('reset', null, _filterState.values, oldState);\r\n        }\r\n    }\r\n\r\n    // ========================================\r\n    //   SYST√àME D'OBSERVATEURS\r\n    // ========================================\r\n\r\n    /**\r\n     * Ajoute un observateur pour les changements d'√©tat\r\n     * @param {Function} callback - Fonction appel√©e lors des changements\r\n     * @returns {Function} Fonction pour d√©sabonner l'observateur\r\n     */\r\n    function addObserver(callback) {\r\n        if (typeof callback !== 'function') {\r\n            if (Log) Log.warn(\"[UI.FilterStateManager] Observateur doit √™tre une fonction\");\r\n            return () => {};\r\n        }\r\n\r\n        _filterState.observers.add(callback);\r\n\r\n        // Retourne fonction de d√©sabonnement\r\n        return function unsubscribe() {\r\n            _filterState.observers.delete(callback);\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Notifie tous les observateurs\r\n     * @param {string} type - Type de changement ('init', 'change', 'reset')\r\n     * @param {string|null} filterId - ID du filtre chang√© (null pour global)\r\n     * @param {*} newValue - Nouvelle valeur\r\n     * @param {*} oldValue - Ancienne valeur\r\n     * @private\r\n     */\r\n    function _notifyObservers(type, filterId, newValue, oldValue) {\r\n        const event = {\r\n            type,\r\n            filterId,\r\n            newValue,\r\n            oldValue,\r\n            timestamp: Date.now(),\r\n            allValues: Object.fromEntries(_filterState.values)\r\n        };\r\n\r\n        _filterState.observers.forEach(callback => {\r\n            try {\r\n                callback(event);\r\n            } catch (error) {\r\n                if (Log) Log.error(\"[UI.FilterStateManager] Erreur dans observateur:\", error);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Notification avec debouncing\r\n     * @param {string} filterId - ID du filtre\r\n     * @param {string} type - Type d'√©v√©nement\r\n     * @param {*} oldValue - Ancienne valeur\r\n     * @param {*} newValue - Nouvelle valeur\r\n     * @param {number} delay - D√©lai de debounce\r\n     * @private\r\n     */\r\n    function _notifyWithDebounce(filterId, type, oldValue, newValue, delay) {\r\n        // Clear existing timer\r\n        if (_debounceTimers.has(filterId)) {\r\n            clearTimeout(_debounceTimers.get(filterId));\r\n        }\r\n\r\n        // Set new timer\r\n        const timer = setTimeout(() => {\r\n            _notifyObservers(type, filterId, newValue, oldValue);\r\n            _debounceTimers.delete(filterId);\r\n        }, delay);\r\n\r\n        _debounceTimers.set(filterId, timer);\r\n    }\r\n\r\n    // ========================================\r\n    //   VALIDATION DE VALEURS\r\n    // ========================================\r\n\r\n    /**\r\n     * Valide une valeur selon les m√©tadonn√©es du filtre\r\n     * @param {*} value - Valeur √† valider\r\n     * @param {Object} metadata - M√©tadonn√©es du filtre\r\n     * @returns {*} Valeur valid√©e ou null si invalide\r\n     * @private\r\n     */\r\n    function _validateFilterValue(value, metadata) {\r\n        if (!metadata) return null;\r\n\r\n        switch (metadata.type) {\r\n            case 'select':\r\n                return typeof value === 'string' ? value : '';\r\n\r\n            case 'multiselect':\r\n                return Array.isArray(value) ? value : [];\r\n\r\n            case 'range':\r\n                const num = parseFloat(value);\r\n                if (isNaN(num)) return metadata.min || 0;\r\n                if (metadata.min !== undefined && num < metadata.min) return metadata.min;\r\n                if (metadata.max !== undefined && num > metadata.max) return metadata.max;\r\n                return num;\r\n\r\n            case 'tree':\r\n            case 'tree-category':\r\n            case 'categoryTree':\r\n                return Array.isArray(value) ? value : [];\r\n\r\n            default:\r\n                return value;\r\n        }\r\n    }\r\n\r\n    // ========================================\r\n    //   UTILITAIRES DE REQU√äTES\r\n    // ========================================\r\n\r\n    /**\r\n     * V√©rifie si des filtres sont actuellement actifs\r\n     * @returns {boolean} True si au moins un filtre est actif\r\n     */\r\n    function hasActiveFilters() {\r\n        for (const [filterId, value] of _filterState.values) {\r\n            const metadata = _filterState.metadata.get(filterId);\r\n            if (!metadata) continue;\r\n\r\n            // V√©rifie selon le type si la valeur est \"active\"\r\n            switch (metadata.type) {\r\n                case 'multiselect':\r\n                case 'tree':\r\n                case 'tree-category':\r\n                case 'categoryTree':\r\n                    if (Array.isArray(value) && value.length > 0) return true;\r\n                    break;\r\n                case 'select':\r\n                    if (value && value !== '') return true;\r\n                    break;\r\n                case 'range':\r\n                    // Consid√®re actif si diff√©rent de la valeur par d√©faut\r\n                    const defaultVal = (metadata.min + metadata.max) / 2;\r\n                    if (Math.abs(value - defaultVal) > 0.01) return true;\r\n                    break;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * R√©cup√®re un r√©sum√© des filtres actifs\r\n     * @returns {Array} Liste des filtres actifs avec leurs valeurs\r\n     */\r\n    function getActiveFiltersSummary() {\r\n        const summary = [];\r\n\r\n        for (const [filterId, value] of _filterState.values) {\r\n            const metadata = _filterState.metadata.get(filterId);\r\n            if (!metadata) continue;\r\n\r\n            let isActive = false;\r\n            let displayValue = '';\r\n\r\n            switch (metadata.type) {\r\n                case 'multiselect':\r\n                case 'tree':\r\n                case 'tree-category':\r\n                case 'categoryTree':\r\n                    if (Array.isArray(value) && value.length > 0) {\r\n                        isActive = true;\r\n                        displayValue = `${value.length} s√©lectionn√©(s)`;\r\n                    }\r\n                    break;\r\n                case 'select':\r\n                    if (value && value !== '') {\r\n                        isActive = true;\r\n                        displayValue = value;\r\n                    }\r\n                    break;\r\n                case 'range':\r\n                    const defaultVal = (metadata.min + metadata.max) / 2;\r\n                    if (Math.abs(value - defaultVal) > 0.01) {\r\n                        isActive = true;\r\n                        displayValue = value.toString().replace('.', ',');\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (isActive) {\r\n                summary.push({\r\n                    id: filterId,\r\n                    label: metadata.label || filterId,\r\n                    value: displayValue,\r\n                    type: metadata.type\r\n                });\r\n            }\r\n        }\r\n\r\n        return summary;\r\n    }\r\n\r\n    // ========================================\r\n    //   API PUBLIQUE\r\n    // ========================================\r\n\r\n    // Gestion d'√©tat principal\r\n    GeoLeaf._UIFilterStateManager.initializeFromProfile = initializeFromProfile;\r\n    GeoLeaf._UIFilterStateManager.updateFilterValue = updateFilterValue;\r\n    GeoLeaf._UIFilterStateManager.getFilterValue = getFilterValue;\r\n    GeoLeaf._UIFilterStateManager.getAllFilterValues = getAllFilterValues;\r\n    GeoLeaf._UIFilterStateManager.getFilterMetadata = getFilterMetadata;\r\n    GeoLeaf._UIFilterStateManager.resetAllFilters = resetAllFilters;\r\n\r\n    // Syst√®me d'observateurs\r\n    GeoLeaf._UIFilterStateManager.addObserver = addObserver;\r\n\r\n    // Utilitaires de requ√™tes\r\n    GeoLeaf._UIFilterStateManager.hasActiveFilters = hasActiveFilters;\r\n    GeoLeaf._UIFilterStateManager.getActiveFiltersSummary = getActiveFiltersSummary;\r\n\r\n    // Propri√©t√©s en lecture seule\r\n    Object.defineProperty(GeoLeaf._UIFilterStateManager, 'activeProfile', {\r\n        get: () => _filterState.activeProfile,\r\n        enumerable: true\r\n    });\r\n\r\n    Object.defineProperty(GeoLeaf._UIFilterStateManager, 'filterCount', {\r\n        get: () => _filterState.values.size,\r\n        enumerable: true\r\n    });\r\n\r\n    if (Log) {\r\n        Log.info(\"[UI.FilterStateManager] Module initialis√©\");\r\n    }\r\n\r\n})(window);\r\n","/**\n * GeoLeaf Scale Control\n * G√®re l'affichage de l'√©chelle graphique, num√©rique et du niveau de zoom\n *\n * @module map/scale-control\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log || console;\n\n    /**\n     * Contr√¥le d'√©chelle personnalis√©\n     */\n    const ScaleControl = {\n        _map: null,\n        _config: null,\n        _container: null,\n        _scaleLineMetric: null,\n        _numericElement: null,\n        _zoomElement: null,\n        _inputElement: null,\n        _scalePrefix: null,\n        _mainWrapper: null,\n        _eventHandlers: {},\n\n        /**\n         * Initialise le contr√¥le d'√©chelle\n         * @param {L.Map} map - Instance de la carte Leaflet\n         * @param {Object} config - Configuration depuis scaleConfig\n         */\n        init(map, config) {\n            if (!map) {\n                Log.error(\"[GeoLeaf.ScaleControl] Carte non fournie\");\n                return;\n            }\n\n            this._map = map;\n            this._config = config || {};\n\n            // Cr√©er un conteneur unique pour tout\n            this._createMainContainer();\n\n            Log.info(\"[GeoLeaf.ScaleControl] Contr√¥le d'√©chelle initialis√©\");\n        },\n\n        /**\n         * Cr√©e le conteneur principal avec √©chelle graphique et bloc personnalis√©\n         * @private\n         */\n        _createMainContainer() {\n            const position = this._config.position || 'bottomleft';\n\n            // Conteneur principal - disposition horizontale\n            this._mainWrapper = L.DomUtil.create('div', 'gl-scale-main-wrapper');\n\n            // 1. √âchelle graphique\n            if (this._config.scaleGraphic !== false) {\n                const graphicWrapper = L.DomUtil.create('div', 'gl-scale-graphic-wrapper', this._mainWrapper);\n                this._addGraphicScaleToContainer(graphicWrapper);\n            }\n\n            // 2. Bloc personnalis√© (√©chelle num√©rique + zoom) sur la m√™me ligne\n            if (this._config.scaleNumeric || this._config.scaleNivel) {\n                this._createCustomScaleBlock(this._mainWrapper);\n            }\n\n            // Ajouter le conteneur principal √† la carte\n            const CustomControl = L.Control.extend({\n                options: {\n                    position: position\n                },\n                onAdd: () => {\n                    return this._mainWrapper;\n                }\n            });\n\n            new CustomControl().addTo(this._map);\n        },\n\n        /**\n         * Ajoute l'√©chelle graphique Leaflet dans un conteneur\n         * @param {HTMLElement} container - Conteneur cible\n         * @private\n         */\n        _addGraphicScaleToContainer(container) {\n            // Cr√©er l'√©chelle graphique manuellement (pas via L.control.scale)\n            const scaleDiv = L.DomUtil.create('div', 'leaflet-control-scale leaflet-control', container);\n\n            const scaleLineMetric = L.DomUtil.create('div', 'leaflet-control-scale-line', scaleDiv);\n            this._scaleLineMetric = scaleLineMetric;\n\n            // Fonction de mise √† jour de l'√©chelle graphique\n            const updateScale = () => {\n                const y = this._map.getSize().y / 2;\n                const maxMeters = this._map.distance(\n                    this._map.containerPointToLatLng([0, y]),\n                    this._map.containerPointToLatLng([150, y])\n                );\n                this._updateScaleLine(this._scaleLineMetric, maxMeters);\n            };\n\n            this._eventHandlers.graphicScaleUpdate = updateScale;\n            this._map.on('zoomend moveend', updateScale);\n            updateScale();\n\n            Log.info(\"[GeoLeaf.ScaleControl] √âchelle graphique ajout√©e\");\n        },\n\n        /**\n         * Met √† jour la ligne d'√©chelle graphique\n         * @param {HTMLElement} scaleLine - √âl√©ment de la ligne d'√©chelle\n         * @param {number} maxMeters - Distance maximale en m√®tres\n         * @private\n         */\n        _updateScaleLine(scaleLine, maxMeters) {\n            const maxKm = maxMeters / 1000;\n            let scale, ratio;\n\n            if (maxKm > 1) {\n                const maxNiceKm = this._getRoundNum(maxKm);\n                ratio = maxNiceKm / maxKm;\n                scale = maxNiceKm + ' km';\n            } else {\n                const maxNiceM = this._getRoundNum(maxMeters);\n                ratio = maxNiceM / maxMeters;\n                scale = maxNiceM + ' m';\n            }\n\n            scaleLine.style.width = Math.round(150 * ratio) + 'px';\n            scaleLine.textContent = scale;\n        },\n\n        /**\n         * Arrondit un nombre √† une valeur \"propre\" (1, 2, 5, 10, 20, 50, etc.)\n         * @param {number} num - Nombre √† arrondir\n         * @returns {number} Nombre arrondi\n         * @private\n         */\n        _getRoundNum(num) {\n            const pow10 = Math.pow(10, (Math.floor(num) + '').length - 1);\n            let d = num / pow10;\n\n            d = d >= 10 ? 10 : d >= 5 ? 5 : d >= 3 ? 3 : d >= 2 ? 2 : 1;\n\n            return pow10 * d;\n        },\n\n        /**\n         * Cr√©e le bloc personnalis√© (√©chelle num√©rique + niveau de zoom)\n         * @param {HTMLElement} parentContainer - Conteneur parent\n         * @private\n         */\n        _createCustomScaleBlock(parentContainer) {\n            // Cr√©er le conteneur - disposition horizontale\n            this._container = L.DomUtil.create('div', 'gl-scale-control', parentContainer);\n\n            // √âchelle num√©rique\n            if (this._config.scaleNumeric) {\n                if (this._config.scaleNumericEditable) {\n                    this._createEditableScale();\n                } else {\n                    this._createReadOnlyScale();\n                }\n            }\n\n            // Niveau de zoom\n            if (this._config.scaleNivel) {\n                this._createZoomLevel();\n            }\n\n            // √âv√©nements de mise √† jour\n            const updateHandler = () => this._updateScale();\n            this._eventHandlers.numericScaleUpdate = updateHandler;\n            this._map.on('zoomend moveend', updateHandler);\n            this._updateScale(); // Mise √† jour initiale\n\n            Log.info(\"[GeoLeaf.ScaleControl] Bloc personnalis√© ajout√©\");\n        },\n\n        /**\n         * Cr√©e l'√©chelle num√©rique en lecture seule\n         * @private\n         */\n        _createReadOnlyScale() {\n            this._numericElement = L.DomUtil.create('div', 'gl-scale-numeric', this._container);\n        },\n\n        /**\n         * Cr√©e l'√©chelle num√©rique √©ditable avec input\n         * @private\n         */\n        _createEditableScale() {\n            // Cr√©er un conteneur pour l'√©chelle √©ditable\n            const wrapper = L.DomUtil.create('div', 'gl-scale-numeric-editable', this._container);\n\n            // Cr√©er le pr√©fixe \"1:\" (toujours visible)\n            this._scalePrefix = L.DomUtil.create('span', 'gl-scale-prefix', wrapper);\n            this._scalePrefix.textContent = '1:';\n\n            // Cr√©er le span affich√© initialement (soulign√© et cliquable) - contient uniquement le d√©nominateur\n            this._numericElement = L.DomUtil.create('span', 'gl-scale-numeric-clickable', wrapper);\n            this._numericElement.textContent = '0';\n\n            // Cr√©er l'input (cach√© initialement) - contient uniquement le d√©nominateur\n            this._inputElement = L.DomUtil.create('input', 'gl-scale-numeric-input', wrapper);\n            this._inputElement.type = 'text';\n            this._inputElement.placeholder = '250000';\n            this._inputElement.style.display = 'none';\n\n            // Emp√™cher les interactions de la carte lors de l'√©dition\n            L.DomEvent.disableClickPropagation(wrapper);\n            L.DomEvent.disableScrollPropagation(wrapper);\n\n            // Clic sur le span : passer en mode √©dition\n            this._numericElement.addEventListener('click', () => {\n                this._switchToEditMode();\n            });\n\n            // Validation avec Enter\n            this._inputElement.addEventListener('keypress', (e) => {\n                if (e.key === 'Enter') {\n                    this._onScaleInputChange();\n                    this._switchToDisplayMode();\n                }\n            });\n\n            // Validation en cliquant √† l'ext√©rieur (blur)\n            this._inputElement.addEventListener('blur', () => {\n                this._onScaleInputChange();\n                this._switchToDisplayMode();\n            });\n        },\n\n        /**\n         * Cr√©e l'affichage du niveau de zoom\n         * @private\n         */\n        _createZoomLevel() {\n            this._zoomElement = L.DomUtil.create('div', 'gl-scale-zoom', this._container);\n        },\n\n        /**\n         * Bascule en mode √©dition (affiche l'input)\n         * @private\n         */\n        _switchToEditMode() {\n            if (!this._numericElement || !this._inputElement) return;\n\n            // Copier la valeur actuelle dans l'input\n            this._inputElement.value = this._numericElement.textContent;\n\n            // Cacher le span, afficher l'input\n            this._numericElement.style.display = 'none';\n            this._inputElement.style.display = 'inline-block';\n\n            // Focus et s√©lection du texte\n            this._inputElement.focus();\n            this._inputElement.select();\n        },\n\n        /**\n         * Bascule en mode affichage (affiche le span)\n         * @private\n         */\n        _switchToDisplayMode() {\n            if (!this._numericElement || !this._inputElement) return;\n\n            // Cacher l'input, afficher le span\n            this._inputElement.style.display = 'none';\n            this._numericElement.style.display = 'inline';\n        },\n\n        /**\n         * Met √† jour l'affichage de l'√©chelle et du zoom\n         * @private\n         */\n        _updateScale() {\n            const zoom = this._map.getZoom();\n            const scale = this._calculateScale(zoom);\n\n            // Mettre √† jour l'√©chelle num√©rique\n            if (this._numericElement) {\n                if (this._config.scaleNumericEditable) {\n                    // Mettre √† jour uniquement le d√©nominateur (sans '1:')\n                    if (this._inputElement.style.display === 'none') {\n                        this._numericElement.textContent = this._formatNumber(scale);\n                    }\n                } else {\n                    // Mode non √©ditable : afficher \"1:\" + d√©nominateur\n                    this._numericElement.textContent = `1:${this._formatNumber(scale)}`;\n                }\n            }\n\n            // Mettre √† jour le niveau de zoom\n            if (this._zoomElement) {\n                this._zoomElement.textContent = `Zoom: ${Number(zoom).toFixed(2)}`;\n            }\n        },\n\n        /**\n         * Calcule l'√©chelle approximative en fonction du niveau de zoom\n         * @param {number} zoom - Niveau de zoom Leaflet\n         * @param {number} [lat] - Latitude optionnelle (utilise le centre de la carte si non fournie)\n         * @returns {number} √âchelle (ex: 250000 pour 1:250000)\n         * @private\n         */\n        _calculateScale(zoom, lat) {\n            // Utiliser la latitude fournie ou celle du centre de la carte\n            const latitude = lat !== undefined ? lat : this._map.getCenter().lat;\n            // Formule approximative bas√©e sur la taille des tuiles Web Mercator\n            const metersPerPixel = 156543.03392 * Math.cos(latitude * Math.PI / 180) / Math.pow(2, zoom);\n            const scale = metersPerPixel * 96 / 0.0254; // 96 DPI\n            return Math.round(scale);\n        },\n\n        /**\n         * Formate un nombre avec des espaces comme s√©parateurs de milliers\n         * @param {number} num - Nombre √† formater\n         * @returns {string} Nombre format√©\n         * @private\n         */\n        _formatNumber(num) {\n            return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n        },\n\n        /**\n         * G√®re le changement manuel de l'√©chelle\n         * @private\n         */\n        _onScaleInputChange() {\n            if (!this._inputElement) return;\n\n            const input = this._inputElement.value.trim();\n            // Parser uniquement le d√©nominateur (nombre avec espaces optionnels)\n            const cleanedInput = input.replace(/\\s/g, '');\n            const targetScale = parseInt(cleanedInput, 10);\n\n            if (!isNaN(targetScale) && targetScale > 0) {\n                const targetZoom = this._calculateZoomFromScale(targetScale);\n                // Utiliser setView avec zoomSnap: 0 pour permettre les zooms fractionnaires\n                this._map.setView(this._map.getCenter(), targetZoom, {\n                    animate: true,\n                    zoomSnap: 0\n                });\n                Log.info(`[GeoLeaf.ScaleControl] Zoom ajust√© √† ${targetZoom} pour √©chelle 1:${targetScale}`);\n            } else {\n                Log.warn(\"[GeoLeaf.ScaleControl] Format d'√©chelle invalide:\", input);\n                this._updateScale(); // R√©initialiser la valeur\n            }\n        },\n\n        /**\n         * Calcule le niveau de zoom pour atteindre une √©chelle donn√©e\n         * @param {number} targetScale - √âchelle cible (ex: 250000)\n         * @returns {number} Niveau de zoom (peut √™tre d√©cimal pour plus de pr√©cision)\n         * @private\n         */\n        _calculateZoomFromScale(targetScale) {\n            const lat = this._map.getCenter().lat;\n            const metersPerPixel = targetScale * 0.0254 / 96;\n            let zoom = Math.log2(156543.03392 * Math.cos(lat * Math.PI / 180) / metersPerPixel);\n\n            // Affiner le zoom par it√©ration pour obtenir l'√©chelle exacte\n            // Utiliser une m√©thode de convergence pr√©cise\n            for (let i = 0; i < 20; i++) {\n                const currentScale = this._calculateScale(zoom, lat); // Passer lat pour √©viter recalcul\n                const diff = targetScale - currentScale;\n\n                // Si l'erreur est inf√©rieure √† 1 (pratiquement identique), on arr√™te\n                if (Math.abs(diff) < 1) {\n                    break;\n                }\n\n                // Ajuster le zoom proportionnellement √† l'erreur\n                // Plus l'√©chelle est grande, plus on doit d√©zoomer (zoom plus petit)\n                const adjustment = Math.log2(targetScale / currentScale);\n                zoom -= adjustment * 0.95; // Facteur d'amortissement pour √©viter les oscillations\n            }\n\n            // Arrondir √† 4 d√©cimales pour une pr√©cision maximale\n            const preciseZoom = Math.round(zoom * 10000) / 10000;\n            return Math.max(0, Math.min(22, preciseZoom));\n        },\n\n        /**\n         * D√©truit le contr√¥le et nettoie les ressources\n         */\n        destroy() {\n            // Retirer les event listeners de la carte\n            if (this._map && this._eventHandlers) {\n                if (this._eventHandlers.graphicScaleUpdate) {\n                    this._map.off('zoomend moveend', this._eventHandlers.graphicScaleUpdate);\n                }\n                if (this._eventHandlers.numericScaleUpdate) {\n                    this._map.off('zoomend moveend', this._eventHandlers.numericScaleUpdate);\n                }\n            }\n\n            // Supprimer le conteneur principal du DOM\n            if (this._mainWrapper && this._mainWrapper.parentNode) {\n                this._mainWrapper.parentNode.removeChild(this._mainWrapper);\n            }\n\n            // Nettoyer toutes les r√©f√©rences\n            this._map = null;\n            this._config = null;\n            this._container = null;\n            this._scaleLineMetric = null;\n            this._numericElement = null;\n            this._zoomElement = null;\n            this._inputElement = null;\n            this._scalePrefix = null;\n            this._mainWrapper = null;\n            this._eventHandlers = {};\n\n            Log.info(\"[GeoLeaf.ScaleControl] Contr√¥le d√©truit et ressources nettoy√©es\");\n        }\n    };\n\n    // Exposer le module\n    GeoLeaf.ScaleControl = ScaleControl;\n\n    /**\n     * Initialise automatiquement le contr√¥le d'√©chelle si la configuration est pr√©sente\n     */\n    GeoLeaf.initScaleControl = function(map) {\n        if (!map) {\n            Log.warn(\"[GeoLeaf.ScaleControl] Impossible d'initialiser : carte non fournie\");\n            return;\n        }\n\n        const config = GeoLeaf.Config && GeoLeaf.Config.get\n            ? GeoLeaf.Config.get('scaleConfig')\n            : null;\n\n        if (config && (config.scaleGraphic || config.scaleNumeric || config.scaleNivel)) {\n            ScaleControl.init(map, config);\n        }\n    };\n\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf UI - Filter Control Builder\n * Construit les contr√¥les de filtres individuels\n *\n * @module ui/filter-control-builder\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // D√©pendances\n    const Log = GeoLeaf.Log || console;\n    const $create = GeoLeaf.Utils?.createElement || function(tag, props) {\n        const el = document.createElement(tag);\n        if (props) {\n            if (props.className) el.className = props.className;\n            if (props.textContent) el.textContent = props.textContent;\n            if (props.id) el.id = props.id;\n            if (props.name) el.name = props.name;\n            if (props.type) el.type = props.type;\n            if (props.placeholder) el.placeholder = props.placeholder;\n            if (props.value !== undefined) el.value = props.value;\n            if (props.checked !== undefined) el.checked = props.checked;\n            if (props.multiple !== undefined) el.multiple = props.multiple;\n            if (props.style) Object.assign(el.style, props.style);\n            if (props.attributes) {\n                for (const [key, value] of Object.entries(props.attributes)) {\n                    el.setAttribute(key, value);\n                }\n            }\n            if (props.min !== undefined) el.min = props.min;\n            if (props.max !== undefined) el.max = props.max;\n            if (props.step !== undefined) el.step = props.step;\n        }\n        return el;\n    };\n\n    /**\n     * Construit un contr√¥le de filtre individuel\n     * @param {Object} filterDef - D√©finition du filtre\n     * @param {Object} profile - Configuration du profil\n     * @param {boolean} skipLabel - Sauter la cr√©ation du label (d√©faut: false)\n     * @returns {HTMLElement|null}\n     */\n    GeoLeaf.UI._buildFilterControl = function(filterDef, profile, skipLabel) {\n        if (!filterDef || !filterDef.id || !filterDef.type) return null;\n\n        const wrapper = $create(\"div\", {\n            className: \"gl-filter-panel__group\",\n            attributes: { \"data-gl-filter-id\": filterDef.id }\n        });\n\n        let labelEl = null;\n        // Ne pas cr√©er de label si skipLabel est true (pour les accord√©ons qui ont leur propre titre)\n        if (filterDef.label && !skipLabel) {\n            labelEl = $create(\"label\", {\n                className: \"gl-filter-panel__label\",\n                textContent: filterDef.label\n            });\n            wrapper.appendChild(labelEl);\n        }\n\n        let control = null;\n\n        // 1) SELECT / MULTISELECT classiques\n        if (filterDef.type === \"select\" || filterDef.type === \"multiselect\") {\n            const selectEl = $create(\"select\", {\n                className: \"gl-filter-panel__control gl-filter-panel__control--select\",\n                name: filterDef.id,\n                id: \"gl-filter-\" + filterDef.id\n            });\n\n            if (labelEl) {\n                labelEl.setAttribute(\"for\", selectEl.id);\n            }\n\n            if (filterDef.type === \"multiselect\") {\n                selectEl.multiple = true;\n            }\n\n            if (filterDef.optionsFrom) {\n                GeoLeaf.UI._populateSelectOptionsFromTaxonomy?.(\n                    selectEl,\n                    profile,\n                    filterDef.optionsFrom\n                );\n            }\n\n            control = selectEl;\n        }\n\n        // 2) SLIDER (range)\n        else if (filterDef.type === \"range\") {\n            const container = $create(\"div\", { className: \"gl-filter-panel__range-wrapper\" });\n\n            const input = $create(\"input\", {\n                type: \"range\",\n                className: \"gl-filter-panel__control gl-filter-panel__control--range\",\n                id: \"gl-filter-\" + filterDef.id,\n                name: filterDef.id\n            });\n\n            if (labelEl) {\n                labelEl.setAttribute(\"for\", input.id);\n            }\n\n            if (typeof filterDef.min === \"number\") input.min = String(filterDef.min);\n            if (typeof filterDef.max === \"number\") input.max = String(filterDef.max);\n            if (typeof filterDef.step === \"number\") input.step = String(filterDef.step);\n\n            const valueLabel = $create(\"span\", { className: \"gl-filter-panel__range-value\" });\n\n            let initialValue;\n            if (typeof filterDef.default === \"number\") {\n                initialValue = filterDef.default;\n            } else if (input.min && input.max) {\n                const min = parseFloat(input.min);\n                const max = parseFloat(input.max);\n                initialValue = (min + max) / 2;\n            } else {\n                initialValue = input.min ? parseFloat(input.min) : 0;\n            }\n\n            if (!isNaN(initialValue)) {\n                input.value = String(initialValue);\n                valueLabel.textContent = initialValue.toString().replace(\".\", \",\");\n            }\n\n            input.addEventListener(\"input\", function() {\n                const val = parseFloat(input.value);\n                if (!isNaN(val)) {\n                    valueLabel.textContent = val.toString().replace(\".\", \",\");\n                }\n            });\n\n            container.appendChild(input);\n            container.appendChild(valueLabel);\n            control = container;\n        }\n\n        // 3) TREE-VIEW cat√©gories / sous-cat√©gories\n        else if (filterDef.type === \"tree\" || filterDef.type === \"tree-category\" || filterDef.type === \"categoryTree\") {\n            // LAZY LOADING: Retourner un container vide avec marqueur\n            const treeContainer = $create(\"div\", {\n                className: \"gl-filter-panel__tree gl-filter-panel__tree--lazy\",\n                attributes: {\n                    \"data-lazy-type\": \"categories\",\n                    \"data-filter-id\": filterDef.id\n                }\n            });\n\n            control = treeContainer;\n        }\n\n        // 4) CHECKBOX GROUP\n        else if (filterDef.type === \"checkbox-group\") {\n            const groupContainer = $create(\"div\", { className: \"gl-filter-panel__checkbox-group\" });\n\n            if (Array.isArray(filterDef.options)) {\n                filterDef.options.forEach(function(opt) {\n                    const label = $create(\"label\", { className: \"gl-filter-panel__checkbox-label\" });\n\n                    const checkbox = $create(\"input\", {\n                        type: \"checkbox\",\n                        className: \"gl-filter-panel__checkbox\",\n                        name: filterDef.id,\n                        value: opt.id,\n                        checked: !!opt.checked,\n                        attributes: { \"data-filter-option-id\": opt.id }\n                    });\n\n                    const text = $create(\"span\", {\n                        className: \"gl-filter-panel__checkbox-text\",\n                        textContent: opt.label || opt.id\n                    });\n\n                    label.appendChild(checkbox);\n                    label.appendChild(text);\n                    groupContainer.appendChild(label);\n                });\n            }\n            control = groupContainer;\n        }\n\n        // 5) SEARCH\n        else if (filterDef.type === \"search\") {\n            const searchInput = $create(\"input\", {\n                type: \"text\",\n                className: \"gl-filter-panel__control gl-filter-panel__control--search\",\n                name: filterDef.id,\n                placeholder: filterDef.placeholder || \"Filtrer...\"\n            });\n\n            if (Array.isArray(filterDef.searchFields)) {\n                searchInput.setAttribute(\"data-search-fields\", filterDef.searchFields.join(\",\"));\n            }\n\n            control = searchInput;\n        }\n\n        // 6) PROXIMITY\n        else if (filterDef.type === \"proximity\") {\n            const proximityContainer = $create(\"div\", { className: \"gl-filter-panel__proximity\" });\n\n            if (filterDef.label) {\n                const title = $create(\"h3\", {\n                    className: \"gl-filter-panel__proximity-title\",\n                    textContent: filterDef.label\n                });\n                proximityContainer.appendChild(title);\n            }\n\n            const button = $create(\"button\", {\n                type: \"button\",\n                className: \"gl-btn gl-btn--secondary gl-filter-panel__proximity-btn\",\n                attributes: { \"data-filter-proximity-btn\": \"true\" },\n                textContent: filterDef.buttonLabel || \"Activer\"\n            });\n            proximityContainer.appendChild(button);\n\n            const rangeWrapper = $create(\"div\", {\n                className: \"gl-filter-panel__proximity-range\",\n                style: { display: \"none\" }\n            });\n\n            const rangeLabel = $create(\"label\", {\n                className: \"gl-filter-panel__label\",\n                textContent: \"Rayon (km)\",\n                attributes: { \"for\": \"gl-filter-proximity-radius\" }\n            });\n            rangeWrapper.appendChild(rangeLabel);\n\n            const rangeContainer = $create(\"div\", { className: \"gl-filter-panel__range-wrapper\" });\n\n            let minRadius = 1;\n            let maxRadius = 50;\n            let stepRadius = 1;\n            let defaultRadius = 10;\n            try {\n                const activeProfile = GeoLeaf.Config?.getActiveProfile?.();\n                if (activeProfile) {\n                    const searchConfig = (activeProfile.panels && activeProfile.panels.search) || activeProfile.search;\n                    if (searchConfig) {\n                        if (typeof searchConfig.radiusMin === \"number\" && searchConfig.radiusMin > 0) {\n                            minRadius = searchConfig.radiusMin;\n                        }\n                        if (typeof searchConfig.radiusMax === \"number\" && searchConfig.radiusMax > 0) {\n                            maxRadius = searchConfig.radiusMax;\n                        }\n                        if (typeof searchConfig.radiusStep === \"number\" && searchConfig.radiusStep > 0) {\n                            stepRadius = searchConfig.radiusStep;\n                        }\n                        if (typeof searchConfig.radiusDefault === \"number\" && searchConfig.radiusDefault > 0) {\n                            defaultRadius = searchConfig.radiusDefault;\n                        }\n                        defaultRadius = Math.max(minRadius, Math.min(defaultRadius, maxRadius));\n                    }\n                }\n            } catch (err) {\n                Log?.warn?.(\"[GeoLeaf.UI] Erreur lecture radius config:\", err);\n            }\n\n            const rangeInput = $create(\"input\", {\n                type: \"range\",\n                className: \"gl-filter-panel__control gl-filter-panel__control--range\",\n                id: \"gl-filter-proximity-radius\",\n                name: filterDef.id + \"_radius\",\n                min: String(minRadius),\n                max: String(maxRadius),\n                step: String(stepRadius),\n                value: String(defaultRadius),\n                attributes: { \"data-filter-proximity-radius\": \"true\" }\n            });\n\n            const rangeValue = $create(\"span\", {\n                className: \"gl-filter-panel__range-value\",\n                textContent: String(defaultRadius)\n            });\n\n            rangeInput.addEventListener(\"input\", function() {\n                rangeValue.textContent = rangeInput.value;\n            });\n\n            rangeContainer.appendChild(rangeInput);\n            rangeContainer.appendChild(rangeValue);\n            rangeWrapper.appendChild(rangeContainer);\n\n            const instruction = $create(\"p\", {\n                className: \"gl-filter-panel__proximity-instruction\",\n                textContent: filterDef.instructionText || \"Cliquez sur la carte\",\n                style: { display: \"none\" }\n            });\n            rangeWrapper.appendChild(instruction);\n\n            proximityContainer.appendChild(rangeWrapper);\n            control = proximityContainer;\n        }\n\n        // 7) TAGS\n        else if (filterDef.type === \"multiselect-tags\" || filterDef.id === \"tags\") {\n            const tagsContainer = $create(\"div\", {\n                className: \"gl-filter-panel__tags-container\",\n                attributes: {\n                    \"data-lazy-type\": \"tags\",\n                    \"data-filter-id\": filterDef.id\n                }\n            });\n            control = tagsContainer;\n        }\n\n        // Aucun type reconnu\n        if (!control) {\n            return null;\n        }\n\n        if (labelEl && control instanceof HTMLElement && !control.id) {\n            const controlId = \"gl-filter-\" + filterDef.id;\n            control.id = controlId;\n            labelEl.setAttribute(\"for\", controlId);\n        }\n\n        wrapper.appendChild(control);\n        return wrapper;\n    };\n\n})(window);\n\n/**\n * Fonctions globales pour le chargement lazy des filtres\n * Utilis√©es par le lazy-loader pour construire le contenu √† la demande\n */\n\n/**\n * Construit le contenu HTML de l'arbre de cat√©gories\n * @param {Object} scanResult - R√©sultat du scan ({usedIds: Set, visibleLayerIds: Array})\n * @returns {string} HTML string\n */\nwindow._buildCategoryTreeContent = function(scanResult) {\n    // R√©cup√©rer le profil actif via l'API Config (enrichedProfile contient taxonomy)\n    const profile = (GeoLeaf.Config && typeof GeoLeaf.Config.getActiveProfile === \"function\")\n        ? GeoLeaf.Config.getActiveProfile()\n        : null;\n    if (!profile || !profile.taxonomy || !profile.taxonomy.categories) {\n        return '<div class=\"gl-empty-state\">Aucune cat√©gorie disponible</div>';\n    }\n\n    const categories = profile.taxonomy.categories;\n    const usedCategoryIds = scanResult.usedIds;\n\n    // S√©curit√© : √©chapper les valeurs dynamiques inject√©es dans le HTML\n    const esc = (GeoLeaf.Security && typeof GeoLeaf.Security.escapeHtml === 'function')\n        ? function(s) { return GeoLeaf.Security.escapeHtml(s); }\n        : function(s) { return String(s || '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;'); };\n\n    // Comparaison insensible √† la casse : normaliser les IDs scann√©s\n    const usedLower = new Set();\n    usedCategoryIds.forEach(function(id) { usedLower.add(id.toLowerCase()); });\n\n    // Filtrer les cat√©gories pour afficher celles utilis√©es (comparaison case-insensitive)\n    const catIds = Object.keys(categories).filter(catId => usedLower.has(catId.toLowerCase()));\n\n    if (catIds.length === 0) {\n        return '<div class=\"gl-empty-state\">ND - Non disponible</div>';\n    }\n\n    let html = '<ul class=\"gl-filter-tree gl-filter-tree--root\">';\n\n    catIds.forEach(function(catId) {\n        const cat = categories[catId] || {};\n\n        // Filtrer aussi les sous-cat√©gories (comparaison case-insensitive)\n        const subs = cat.subcategories || {};\n        const subKeys = Object.keys(subs).filter(subId => usedLower.has(subId.toLowerCase()));\n        const hasSubcategories = subKeys.length > 0;\n\n        html += '<li class=\"gl-filter-tree__item gl-filter-tree__item--category\">';\n        html += '<div class=\"gl-filter-tree__row\">';\n\n        if (hasSubcategories) {\n            html += '<span class=\"gl-filter-tree__arrow\" data-category-id=\"' + esc(catId) + '\">‚ñ∂</span>';\n        } else {\n            html += '<span class=\"gl-filter-tree__spacer\"></span>';\n        }\n\n        html += '<label class=\"gl-filter-tree__label gl-filter-tree__label--category\">';\n        html += '<input type=\"checkbox\" class=\"gl-filter-tree__checkbox gl-filter-tree__checkbox--category\" ';\n        html += 'name=\"categories_category\" value=\"' + esc(catId) + '\" ';\n        html += 'data-gl-filter-category-id=\"' + esc(catId) + '\">';\n        html += '<span class=\"gl-filter-tree__text\">' + esc(cat.label || catId) + '</span>';\n        html += '</label>';\n        html += '</div>';\n\n        if (hasSubcategories) {\n            html += '<ul class=\"gl-filter-tree gl-filter-tree--subcategories\">';\n\n            subKeys.forEach(function(subId) {\n                const sub = subs[subId] || {};\n                html += '<li class=\"gl-filter-tree__item gl-filter-tree__item--subcategory\">';\n                html += '<label class=\"gl-filter-tree__label gl-filter-tree__label--subcategory\">';\n                html += '<input type=\"checkbox\" class=\"gl-filter-tree__checkbox gl-filter-tree__checkbox--subcategory\" ';\n                html += 'name=\"categories_subcategory\" value=\"' + esc(subId) + '\" ';\n                html += 'data-gl-filter-category-id=\"' + esc(catId) + '\" ';\n                html += 'data-gl-filter-subcategory-id=\"' + esc(subId) + '\">';\n                html += '<span class=\"gl-filter-tree__text\">' + esc(sub.label || subId) + '</span>';\n                html += '</label>';\n                html += '</li>';\n            });\n\n            html += '</ul>';\n        }\n\n        html += '</li>';\n    });\n\n    html += '</ul>';\n    return html;\n};\n\n/**\n * Construit le contenu HTML de la liste de tags\n * @param {Array} tags - Array de tags uniques tri√©s\n * @returns {string} HTML string\n */\nwindow._buildTagsListContent = function(tags) {\n    if (!tags || tags.length === 0) {\n        return '<div class=\"gl-empty-state\">ND - Non disponible</div>';\n    }\n\n    // S√©curit√© : √©chapper les valeurs dynamiques\n    const esc = (GeoLeaf.Security && typeof GeoLeaf.Security.escapeHtml === 'function')\n        ? function(s) { return GeoLeaf.Security.escapeHtml(s); }\n        : function(s) { return String(s || '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;'); };\n\n    let html = '';\n    tags.forEach(function(tag) {\n        html += '<span class=\"gl-filter-panel__tag-badge\" data-tag-value=\"' + esc(tag) + '\">' + esc(tag) + '</span>';\n    });\n\n    return html;\n};\n\n/**\n * Attache les event listeners pour l'arbre de cat√©gories apr√®s rendering\n * @param {HTMLElement} container - Container de l'arbre\n */\nwindow._attachCategoryTreeListeners = function(container) {\n    // Event listeners pour les fl√®ches d'expansion\n    const arrows = container.querySelectorAll('.gl-filter-tree__arrow');\n    arrows.forEach(function(arrow) {\n        arrow.addEventListener('click', function(e) {\n            e.stopPropagation();\n            const li = this.closest('.gl-filter-tree__item--category');\n            const subList = li.querySelector('.gl-filter-tree--subcategories');\n            if (subList) {\n                const isExpanded = li.classList.contains('is-expanded');\n                if (isExpanded) {\n                    li.classList.remove('is-expanded');\n                    this.textContent = '‚ñ∂';\n                } else {\n                    li.classList.add('is-expanded');\n                    this.textContent = '‚ñº';\n                }\n            }\n        });\n    });\n\n    // Event listeners pour les checkboxes de cat√©gorie (parent)\n    const categoryCheckboxes = container.querySelectorAll('.gl-filter-tree__checkbox--category');\n    categoryCheckboxes.forEach(function(inputCat) {\n        inputCat.addEventListener('change', function() {\n            const li = this.closest('.gl-filter-tree__item--category');\n            const subCheckboxes = li.querySelectorAll('.gl-filter-tree__checkbox--subcategory');\n            subCheckboxes.forEach(function(subCb) {\n                subCb.checked = inputCat.checked;\n            });\n            inputCat.indeterminate = false;\n        });\n    });\n\n    // Event listeners pour les checkboxes de sous-cat√©gorie (enfant)\n    const subcategoryCheckboxes = container.querySelectorAll('.gl-filter-tree__checkbox--subcategory');\n    subcategoryCheckboxes.forEach(function(inputSub) {\n        inputSub.addEventListener('change', function() {\n            const liCat = this.closest('.gl-filter-tree__item--category');\n            const categoryCheckbox = liCat.querySelector('.gl-filter-tree__checkbox--category');\n            const subCheckboxes = liCat.querySelectorAll('.gl-filter-tree__checkbox--subcategory');\n\n            const checkedCount = Array.from(subCheckboxes).filter(cb => cb.checked).length;\n            const totalCount = subCheckboxes.length;\n\n            if (checkedCount === 0) {\n                categoryCheckbox.checked = false;\n                categoryCheckbox.indeterminate = false;\n            } else if (checkedCount === totalCount) {\n                categoryCheckbox.checked = true;\n                categoryCheckbox.indeterminate = false;\n            } else {\n                categoryCheckbox.checked = false;\n                categoryCheckbox.indeterminate = true;\n            }\n        });\n    });\n};\n\n/**\n * Attache les event listeners pour les tags apr√®s rendering\n * @param {HTMLElement} container - Container des tags\n */\nwindow._attachTagsListeners = function(container) {\n    const badges = container.querySelectorAll('.gl-filter-panel__tag-badge');\n    badges.forEach(function(badge) {\n        badge.addEventListener('click', function() {\n            this.classList.toggle('is-selected');\n        });\n    });\n};\n","/**\n * GeoLeaf UI Filter Panel - Shared Helpers\n * Fonctions utilitaires partag√©es pour le panneau de filtres\n *\n * @module ui/filter-panel/shared\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // D√©pendances lazy\n    const getLog = () => (GeoLeaf.Log || console);\n\n    GeoLeaf._UIFilterPanelShared = GeoLeaf._UIFilterPanelShared || {};\n\n    // ========================================\n    //   CONVERSION DE FEATURES\n    // ========================================\n\n    /**\n     * Convertit une feature GeoJSON Point en objet POI-like\n     * @param {Object} feature - Feature GeoJSON\n     * @returns {Object|null} - POI-like ou null\n     */\n    GeoLeaf._UIFilterPanelShared.featureToPoiLike = function(feature) {\n        if (!feature || !feature.geometry || !feature.properties) return null;\n\n        const geom = feature.geometry;\n        if (!geom || geom.type?.toLowerCase().indexOf(\"point\") === -1) return null;\n\n        const coords = Array.isArray(geom.coordinates) ? geom.coordinates : null;\n        const latlng = coords && coords.length >= 2 ? [coords[1], coords[0]] : null;\n        const props = feature.properties || {};\n        const poi = Object.assign({}, props);\n\n        if (!poi.title && props.name) poi.title = props.name;\n        if (!poi.id && feature.id) poi.id = feature.id;\n        if (!poi.latlng && latlng) poi.latlng = latlng;\n        if (!poi.attributes && props.attributes) poi.attributes = props.attributes;\n\n        return poi;\n    };\n\n    /**\n     * Convertit une feature GeoJSON LineString en objet Route-like\n     * @param {Object} feature - Feature GeoJSON\n     * @returns {Object|null} - Route-like ou null\n     */\n    GeoLeaf._UIFilterPanelShared.featureToRouteLike = function(feature) {\n        if (!feature || !feature.geometry || !feature.properties) return null;\n\n        const geom = feature.geometry;\n        if (!geom || geom.type?.toLowerCase().indexOf(\"line\") === -1) return null;\n\n        const props = feature.properties || {};\n\n        // Exclude protected areas (aires_prot√©g√©es_nationales) - they should not be treated as routes/itineraries\n        // Protected areas have minimal properties: fid, Name, region only\n        const hasOtherProperties = Object.keys(props).some(key =>\n            !['fid', 'name', 'Name', 'region', 'REGION', 'Region'].includes(key)\n        );\n        if (!hasOtherProperties && (props.fid !== undefined || props.Name)) {\n            // Likely a protected area, not an itinerary\n            return null;\n        }\n\n        const route = Object.assign({}, props);\n\n        if (!route.title && props.name) route.title = props.name;\n        if (!route.id && feature.id) route.id = feature.id;\n        route.geometry = geom;\n\n        return route;\n    };\n\n    // ========================================\n    //   R√âCUP√âRATION DES DONN√âES\n    // ========================================\n\n    /**\n     * R√©cup√®re tous les POI depuis les diff√©rentes sources\n     * @returns {Array} - Liste des POI\n     */\n    GeoLeaf._UIFilterPanelShared.getBasePois = function() {\n        const Log = getLog();\n        const featureToPoiLike = GeoLeaf._UIFilterPanelShared.featureToPoiLike;\n\n        // 1) Prendre depuis GeoJSON (mode layers-only) si dispo\n        try {\n            if (GeoLeaf.GeoJSON && typeof GeoLeaf.GeoJSON.getFeatures === \"function\") {\n                const feats = GeoLeaf.GeoJSON.getFeatures({ geometryTypes: [\"point\"] }) || [];\n                const pois = feats.map(featureToPoiLike).filter(Boolean);\n                if (pois.length) return pois;\n            }\n        } catch (err) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Erreur r√©cup√©ration POI via GeoJSON:\", err);\n        }\n\n        // 2) Config active (legacy)\n        try {\n            if (GeoLeaf.Config) {\n                if (typeof GeoLeaf.Config.get === \"function\") {\n                    const fromGet = GeoLeaf.Config.get(\"poi\");\n                    if (Array.isArray(fromGet)) return fromGet;\n                }\n                if (Array.isArray(GeoLeaf.Config._activeProfileData?.poi)) {\n                    return GeoLeaf.Config._activeProfileData.poi;\n                }\n            }\n        } catch (err) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Erreur r√©cup√©ration POI via Config:\", err);\n        }\n\n        // 3) Fallback d√©mo\n        if (global.cfg && Array.isArray(global.cfg.poi)) {\n            return global.cfg.poi;\n        }\n\n        return [];\n    };\n\n    /**\n     * R√©cup√®re toutes les routes depuis les diff√©rentes sources\n     * @returns {Array} - Liste des routes\n     */\n    GeoLeaf._UIFilterPanelShared.getBaseRoutes = function() {\n        const Log = getLog();\n        const featureToRouteLike = GeoLeaf._UIFilterPanelShared.featureToRouteLike;\n\n        // 1) Via GeoJSON (layers-only)\n        try {\n            if (GeoLeaf.GeoJSON && typeof GeoLeaf.GeoJSON.getFeatures === \"function\") {\n                const feats = GeoLeaf.GeoJSON.getFeatures({ geometryTypes: [\"line\", \"linestring\", \"multilinestring\"] }) || [];\n                const routes = feats.map(featureToRouteLike).filter(Boolean);\n                if (routes.length) return routes;\n            }\n        } catch (err) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Erreur r√©cup√©ration routes via GeoJSON:\", err);\n        }\n\n        // 2) Config active (legacy)\n        try {\n            if (GeoLeaf.Config) {\n                if (typeof GeoLeaf.Config.get === \"function\") {\n                    const fromGet = GeoLeaf.Config.get(\"routes\");\n                    if (Array.isArray(fromGet)) return fromGet;\n                }\n                if (Array.isArray(GeoLeaf.Config._activeProfileData?.routes)) {\n                    return GeoLeaf.Config._activeProfileData.routes;\n                }\n            }\n        } catch (err) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Erreur r√©cup√©ration routes via Config:\", err);\n        }\n\n        // 3) Fallback d√©mo\n        if (global.cfg && Array.isArray(global.cfg.routes)) {\n            return global.cfg.routes;\n        }\n\n        return [];\n    };\n\n    // ========================================\n    //   UTILITAIRES\n    // ========================================\n\n    /**\n     * Retourne l'√©l√©ment DOM du panneau de filtres.\n     * Priorit√© au conteneur flottant #gl-filter-panel, puis fallback #gl-left-panel.\n     * @returns {HTMLElement|null}\n     */\n    GeoLeaf._UIFilterPanelShared.getFilterPanelElement = function() {\n        let el = document.getElementById(\"gl-filter-panel\");\n        if (el) return el;\n\n        el = document.getElementById(\"gl-left-panel\");\n        if (el) return el;\n\n        const Log = getLog();\n        Log.warn(\"[GeoLeaf.UI.FilterPanel] Aucun conteneur de panneau de filtres trouv√© (#gl-filter-panel / #gl-left-panel).\");\n\n        return null;\n    };\n\n    /**\n     * Acc√®de √† une propri√©t√© imbriqu√©e (ex: \"attributes.nom\")\n     * @param {Object} obj - Objet source\n     * @param {string} path - Chemin vers la propri√©t√©\n     * @returns {*} - Valeur ou null\n     */\n    GeoLeaf._UIFilterPanelShared.getNestedValue = function(obj, path) {\n        if (!obj || !path) return null;\n        const keys = path.split('.');\n        let value = obj;\n        for (let i = 0; i < keys.length; i++) {\n            if (value === null || value === undefined) return null;\n            value = value[keys[i]];\n        }\n        return value;\n    };\n\n    /**\n     * Extrait un point repr√©sentatif d'une g√©om√©trie (pour calcul de distance)\n     * @param {Object} geometry - G√©om√©trie GeoJSON\n     * @returns {Object|null} - { lat, lng } ou null\n     */\n    GeoLeaf._UIFilterPanelShared.getRepresentativePoint = function(geometry) {\n        if (!geometry || !geometry.coordinates) return null;\n\n        if (geometry.type === 'Polygon' || geometry.type === 'MultiPolygon') {\n            // Pour un polygone, utiliser le premier point du premier anneau\n            const coords = geometry.type === 'Polygon'\n                ? geometry.coordinates[0][0]\n                : geometry.coordinates[0][0][0];\n            return coords ? { lng: coords[0], lat: coords[1] } : null;\n\n        } else if (geometry.type === 'LineString') {\n            // Pour une ligne, utiliser le point du milieu\n            const coords = geometry.coordinates;\n            if (coords && coords.length > 0) {\n                const midIndex = Math.floor(coords.length / 2);\n                return { lng: coords[midIndex][0], lat: coords[midIndex][1] };\n            }\n\n        } else if (geometry.type === 'MultiLineString') {\n            // Pour multi-ligne, utiliser le point du milieu de la premi√®re ligne\n            const coords = geometry.coordinates[0];\n            if (coords && coords.length > 0) {\n                const midIndex = Math.floor(coords.length / 2);\n                return { lng: coords[midIndex][0], lat: coords[midIndex][1] };\n            }\n\n        } else if (geometry.type === 'Point') {\n            return { lng: geometry.coordinates[0], lat: geometry.coordinates[1] };\n\n        } else if (geometry.type === 'MultiPoint') {\n            // Pour multi-point, utiliser le premier point\n            const coords = geometry.coordinates[0];\n            return coords ? { lng: coords[0], lat: coords[1] } : null;\n        }\n\n        return null;\n    };\n\n    /**\n     * Collecte tous les tags uniques depuis une liste d'items\n     * @param {Array} items - Liste d'items (POI, routes)\n     * @returns {Array} - Tags uniques tri√©s\n     */\n    GeoLeaf._UIFilterPanelShared.collectAllTags = function(items) {\n        const tagSet = new Set();\n\n        items.forEach(function(item) {\n            // Support GeoJSON properties.attributes.tags, item.attributes.tags, et item.tags\n            const props = item.properties || item;\n            const attrs = props.attributes || item.attributes || {};\n            const tags = attrs.tags || props.tags || item.tags;\n\n            if (Array.isArray(tags) && tags.length > 0) {\n                tags.forEach(function(t) {\n                    if (t && typeof t === \"string\") {\n                        tagSet.add(t);\n                    }\n                });\n            }\n        });\n\n        const arr = Array.from(tagSet);\n        arr.sort();\n        return arr;\n    };\n\n})(window);\n","/**\n * GeoLeaf UI Filter Panel - State Reader\n * Lecture de l'√©tat des filtres depuis le DOM\n *\n * @module ui/filter-panel/state-reader\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    GeoLeaf._UIFilterPanelStateReader = GeoLeaf._UIFilterPanelStateReader || {};\n\n    /**\n     * Structure par d√©faut de l'√©tat des filtres\n     * @returns {Object}\n     */\n    GeoLeaf._UIFilterPanelStateReader.getDefaultState = function() {\n        return {\n            categoriesTree: [],\n            subCategoriesTree: [],\n            minRating: NaN,\n            hasMinRating: false,\n            selectedTags: [],\n            hasTags: false,\n            dataTypes: { poi: true, routes: true },\n            searchText: \"\",\n            hasSearchText: false,\n            proximity: {\n                active: false,\n                center: null,\n                radius: 10\n            }\n        };\n    };\n\n    /**\n     * Lit l'√©tat actuel des filtres depuis le panneau DOM\n     * @param {HTMLElement} panelEl - √âl√©ment du panneau de filtres\n     * @returns {Object} - √âtat des filtres\n     */\n    GeoLeaf._UIFilterPanelStateReader.readFiltersFromPanel = function(panelEl) {\n        const state = GeoLeaf._UIFilterPanelStateReader.getDefaultState();\n\n        if (!panelEl) return state;\n\n        // Types de donn√©es (POI / Routes)\n        const poiCheckbox = panelEl.querySelector(\n            \"[data-gl-filter-id='dataTypes'] input[value='poi']\"\n        );\n        const routesCheckbox = panelEl.querySelector(\n            \"[data-gl-filter-id='dataTypes'] input[value='routes']\"\n        );\n        if (poiCheckbox) state.dataTypes.poi = poiCheckbox.checked;\n        if (routesCheckbox) state.dataTypes.routes = routesCheckbox.checked;\n\n        // Recherche textuelle\n        const searchInput = panelEl.querySelector(\n            \"[data-gl-filter-id='searchText'] input[type='text']\"\n        );\n        if (searchInput && searchInput.value.trim() !== \"\") {\n            state.searchText = searchInput.value.trim().toLowerCase();\n            state.hasSearchText = true;\n        }\n\n        // Proximit√©\n        const proximityContainer = panelEl.querySelector(\n            \"[data-gl-filter-id='proximity']\"\n        );\n        if (proximityContainer) {\n            const isActive = proximityContainer.getAttribute(\"data-proximity-active\") === \"true\";\n            const lat = parseFloat(proximityContainer.getAttribute(\"data-proximity-lat\"));\n            const lng = parseFloat(proximityContainer.getAttribute(\"data-proximity-lng\"));\n            const radius = parseFloat(proximityContainer.getAttribute(\"data-proximity-radius\"));\n\n            if (isActive && !isNaN(lat) && !isNaN(lng) && !isNaN(radius)) {\n                state.proximity.active = true;\n                state.proximity.center = { lat: lat, lng: lng };\n                state.proximity.radius = radius;\n            }\n        }\n\n        // Tree-view : cat√©gories coch√©es\n        panelEl\n            .querySelectorAll(\"input.gl-filter-tree__checkbox--category:checked\")\n            .forEach(function(input) {\n                const val = input.value;\n                if (val) {\n                    state.categoriesTree.push(String(val));\n                }\n            });\n\n        // Tree-view : sous-cat√©gories coch√©es\n        panelEl\n            .querySelectorAll(\"input.gl-filter-tree__checkbox--subcategory:checked\")\n            .forEach(function(input) {\n                const subId = input.getAttribute(\"data-gl-filter-subcategory-id\");\n                if (subId) {\n                    state.subCategoriesTree.push(String(subId));\n                }\n            });\n\n        // Slider de note minimale\n        const ratingInput = panelEl.querySelector(\n            \"[data-gl-filter-id='minRating'] input[type='range']\"\n        );\n        if (ratingInput && ratingInput.value !== \"\") {\n            const val = parseFloat(ratingInput.value);\n            if (!isNaN(val)) {\n                state.minRating = val;\n                state.hasMinRating = val > 0;\n            }\n        }\n\n        // Tags s√©lectionn√©s (badges)\n        const tagsContainer = panelEl.querySelector(\n            \"[data-gl-filter-id='tags'] .gl-filter-panel__tags-container\"\n        );\n        if (tagsContainer) {\n            const selectedBadges = tagsContainer.querySelectorAll(\n                \".gl-filter-panel__tag-badge.is-selected\"\n            );\n            const selected = Array.from(selectedBadges).map(function(badge) {\n                return badge.getAttribute(\"data-tag-value\");\n            }).filter(Boolean);\n            state.selectedTags = selected;\n            state.hasTags = selected.length > 0;\n        }\n\n        return state;\n    };\n\n    /**\n     * R√©initialise les contr√¥les du panneau de filtres √† leur √©tat par d√©faut\n     * @param {HTMLElement} panelEl - √âl√©ment du panneau de filtres\n     */\n    GeoLeaf._UIFilterPanelStateReader.resetControls = function(panelEl) {\n        if (!panelEl) return;\n\n        // Checkbox-group (POI/Routes) - reset to checked by default\n        const dataTypesCheckboxes = panelEl.querySelectorAll(\n            \"[data-gl-filter-id='dataTypes'] input[type='checkbox']\"\n        );\n        dataTypesCheckboxes.forEach(function(input) {\n            input.checked = true;\n        });\n\n        // Search text input\n        const searchInput = panelEl.querySelector(\n            \"[data-gl-filter-id='searchText'] input[type='text']\"\n        );\n        if (searchInput) {\n            searchInput.value = \"\";\n        }\n\n        // Proximit√©\n        const proximityWrapper = panelEl.querySelector(\n            \"[data-gl-filter-id='proximity']\"\n        );\n        if (proximityWrapper) {\n            proximityWrapper.removeAttribute(\"data-proximity-active\");\n            proximityWrapper.removeAttribute(\"data-proximity-lat\");\n            proximityWrapper.removeAttribute(\"data-proximity-lng\");\n            proximityWrapper.removeAttribute(\"data-proximity-radius\");\n\n            const btn = proximityWrapper.querySelector(\".gl-filter-panel__proximity-btn\");\n            if (btn) {\n                btn.classList.remove(\"is-active\");\n                btn.textContent = btn.getAttribute(\"data-label-inactive\") || \"Activer\";\n            }\n\n            const rangeWrapper = proximityWrapper.querySelector(\".gl-filter-panel__proximity-range\");\n            if (rangeWrapper) {\n                rangeWrapper.style.display = \"none\";\n            }\n\n            const instruction = proximityWrapper.querySelector(\".gl-filter-panel__proximity-instruction\");\n            if (instruction) {\n                instruction.style.display = \"none\";\n            }\n\n            // Supprimer le cercle et le marqueur de la carte\n            if (GeoLeaf.UI && GeoLeaf.UI._proximityCircle && GeoLeaf.UI._proximityMap) {\n                GeoLeaf.UI._proximityMap.removeLayer(GeoLeaf.UI._proximityCircle);\n                GeoLeaf.UI._proximityCircle = null;\n            }\n            if (GeoLeaf.UI && GeoLeaf.UI._proximityMarker && GeoLeaf.UI._proximityMap) {\n                GeoLeaf.UI._proximityMap.removeLayer(GeoLeaf.UI._proximityMarker);\n                GeoLeaf.UI._proximityMarker = null;\n            }\n            if (GeoLeaf.UI) {\n                GeoLeaf.UI._proximityMode = false;\n            }\n        }\n\n        // Checkboxes du tree-view (cat√©gories & sous-cat√©gories)\n        panelEl\n            .querySelectorAll(\".gl-filter-tree__checkbox\")\n            .forEach(function(input) {\n                input.checked = false;\n            });\n\n        // Tags - d√©s√©lectionner tous les badges\n        const tagBadges = panelEl.querySelectorAll(\n            \".gl-filter-panel__tag-badge.is-selected\"\n        );\n        tagBadges.forEach(function(badge) {\n            badge.classList.remove(\"is-selected\");\n        });\n\n        // Select classiques\n        panelEl\n            .querySelectorAll(\"select.gl-filter-panel__control--select\")\n            .forEach(function(sel) {\n                if (sel.multiple) {\n                    Array.from(sel.options).forEach(function(opt) {\n                        opt.selected = false;\n                    });\n                } else {\n                    sel.value = \"\";\n                }\n            });\n\n        // Slider note\n        const ratingInput = panelEl.querySelector(\n            \"[data-gl-filter-id='minRating'] input[type='range']\"\n        );\n        const ratingLabel = panelEl.querySelector(\n            \"[data-gl-filter-id='minRating'] .gl-filter-panel__range-value\"\n        );\n        if (ratingInput) {\n            const min = ratingInput.min !== \"\" ? ratingInput.min : \"0\";\n            ratingInput.value = min;\n            if (ratingLabel) {\n                ratingLabel.textContent = String(min).replace(\".\", \",\");\n            }\n        }\n    };\n\n})(window);\n","/**\n * GeoLeaf UI Filter Panel - Lazy Loader\n * Chargement √† la demande des filtres cat√©gories et tags\n *\n * @module ui/filter-panel/lazy-loader\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log || console;\n\n    GeoLeaf._UIFilterPanelLazyLoader = {\n        _cache: {},\n        _openAccordions: new Set(),\n\n        /**\n         * Charge les cat√©gories pour le th√®me actif\n         * @param {string} themeId - ID du th√®me\n         * @returns {Array} - Array de cat√©gories avec leurs sous-cat√©gories\n         */\n        loadCategories(themeId) {\n            const cacheKey = `categories_${themeId}`;\n\n            if (this._cache[cacheKey]) {\n                Log.debug(\"[LazyLoader] Cache HIT pour cat√©gories:\", themeId);\n                return this._cache[cacheKey];\n            }\n\n            Log.debug(\"[LazyLoader] Cache MISS pour cat√©gories, scan en cours...\");\n            const result = this._scanCategories(themeId);\n            this._cache[cacheKey] = result;\n            return result;\n        },\n\n        /**\n         * Charge les tags pour le th√®me actif\n         * @param {string} themeId - ID du th√®me\n         * @returns {Array} - Array de tags uniques\n         */\n        loadTags(themeId) {\n            const cacheKey = `tags_${themeId}`;\n\n            if (this._cache[cacheKey]) {\n                Log.debug(\"[LazyLoader] Cache HIT pour tags:\", themeId);\n                return this._cache[cacheKey];\n            }\n\n            Log.debug(\"[LazyLoader] Cache MISS pour tags, scan en cours...\");\n            const result = this._scanTags(themeId);\n            this._cache[cacheKey] = result;\n            return result;\n        },\n\n        /**\n         * Scanne les features pour extraire les cat√©gories utilis√©es\n         * @private\n         * @param {string} themeId - ID du th√®me\n         * @returns {Object} - {categories: Map, usedIds: Set}\n         */\n        _scanCategories(themeId) {\n            const startTime = performance.now();\n\n            // R√©cup√©rer les couches visibles du th√®me\n            const visibleLayerIds = this._getVisibleLayerIds(themeId);\n\n            // R√©cup√©rer toutes les features\n            let allFeatures = [];\n            try {\n                if (GeoLeaf.GeoJSON && typeof GeoLeaf.GeoJSON.getFeatures === \"function\") {\n                    allFeatures = GeoLeaf.GeoJSON.getFeatures() || [];\n                }\n            } catch (err) {\n                Log.warn(\"[LazyLoader] Erreur r√©cup√©ration features:\", err);\n                return { categories: new Map(), usedIds: new Set() };\n            }\n\n            // Filtrer par couches visibles\n            const visibleFeatures = allFeatures.filter(feature => {\n                const layerId = feature.properties?._layerId || feature.properties?.layerId || feature._layerId;\n                return visibleLayerIds.includes(layerId);\n            });\n\n            Log.debug(`[LazyLoader] Scan cat√©gories: ${visibleFeatures.length} features sur ${visibleLayerIds.length} couches actives`);\n\n            // Extraire les cat√©gories uniques (normalisation lowercase + variantes camelCase)\n            const usedCategoryIds = new Set();\n            visibleFeatures.forEach(feature => {\n                const props = feature.properties || {};\n                if (props.categoryId) {\n                    usedCategoryIds.add(props.categoryId);\n                }\n                if (props.subcategoryId) {\n                    usedCategoryIds.add(props.subcategoryId);\n                }\n                // Variante camelCase (subCategoryId) pr√©sente dans certains GeoJSON\n                if (props.subCategoryId) {\n                    usedCategoryIds.add(props.subCategoryId);\n                }\n            });\n\n            const elapsed = (performance.now() - startTime).toFixed(2);\n            Log.info(`[LazyLoader] Scan cat√©gories termin√© en ${elapsed}ms: ${usedCategoryIds.size} cat√©gories trouv√©es`);\n\n            return {\n                usedIds: usedCategoryIds,\n                visibleLayerIds: visibleLayerIds\n            };\n        },\n\n        /**\n         * Scanne les features pour extraire les tags utilis√©s\n         * @private\n         * @param {string} themeId - ID du th√®me\n         * @returns {Array} - Array de tags tri√©s\n         */\n        _scanTags(themeId) {\n            const startTime = performance.now();\n\n            // R√©cup√©rer les couches visibles du th√®me\n            const visibleLayerIds = this._getVisibleLayerIds(themeId);\n\n            // R√©cup√©rer toutes les features\n            let allFeatures = [];\n            try {\n                if (GeoLeaf.GeoJSON && typeof GeoLeaf.GeoJSON.getFeatures === \"function\") {\n                    allFeatures = GeoLeaf.GeoJSON.getFeatures() || [];\n                }\n            } catch (err) {\n                Log.warn(\"[LazyLoader] Erreur r√©cup√©ration features:\", err);\n                return [];\n            }\n\n            // Filtrer par couches visibles\n            const visibleFeatures = allFeatures.filter(feature => {\n                const layerId = feature.properties?._layerId || feature.properties?.layerId || feature._layerId;\n                return visibleLayerIds.includes(layerId);\n            });\n\n            // Extraire les tags uniques\n            const tagSet = new Set();\n            visibleFeatures.forEach(feature => {\n                const props = feature.properties || {};\n                const attrs = props.attributes || {};\n                const tags = attrs.tags || props.tags;\n\n                if (Array.isArray(tags)) {\n                    tags.forEach(tag => {\n                        if (tag && typeof tag === \"string\") {\n                            tagSet.add(tag);\n                        }\n                    });\n                }\n            });\n\n            const tagsArray = Array.from(tagSet).sort();\n            const elapsed = (performance.now() - startTime).toFixed(2);\n\n            Log.info(`[LazyLoader] Scan tags termin√© en ${elapsed}ms:`, {\n                totalFeatures: allFeatures.length,\n                visibleFeatures: visibleFeatures.length,\n                tagsFound: tagsArray.length\n            });\n\n            return tagsArray;\n        },\n\n        /**\n         * R√©cup√®re les IDs des couches r√©ellement visibles sur la carte\n         * @private\n         * @param {string} themeId - ID du th√®me (non utilis√©, mais conserv√© pour compatibilit√©)\n         * @returns {Array} - Array d'IDs de couches avec visible: true\n         */\n        _getVisibleLayerIds(themeId) {\n            let visibleLayerIds = [];\n\n            try {\n                // R√©cup√©rer toutes les couches charg√©es\n                if (GeoLeaf.GeoJSON && typeof GeoLeaf.GeoJSON.getAllLayers === \"function\") {\n                    const allLayers = GeoLeaf.GeoJSON.getAllLayers();\n                    // Filtrer uniquement celles qui sont visibles (ON dans layer manager)\n                    visibleLayerIds = allLayers\n                        .filter(layer => layer.visible === true)\n                        .map(layer => layer.id);\n\n                    Log.debug(`[LazyLoader] ${visibleLayerIds.length} couches visibles trouv√©es:`, visibleLayerIds);\n                }\n            } catch (err) {\n                Log.warn(\"[LazyLoader] Erreur r√©cup√©ration couches visibles:\", err);\n            }\n\n            return visibleLayerIds;\n        },\n\n        /**\n         * Marque un accord√©on comme ouvert\n         * @param {string} type - 'categories' ou 'tags'\n         * @param {HTMLElement} element - Element de l'accord√©on\n         */\n        markAccordionOpen(type, element) {\n            this._openAccordions.add({ type, element });\n            Log.debug(`[LazyLoader] Accord√©on \"${type}\" marqu√© comme ouvert`);\n        },\n\n        /**\n         * Marque un accord√©on comme ferm√©\n         * @param {HTMLElement} element - Element de l'accord√©on\n         */\n        markAccordionClosed(element) {\n            this._openAccordions.forEach(item => {\n                if (item.element === element) {\n                    this._openAccordions.delete(item);\n                    Log.debug(`[LazyLoader] Accord√©on \"${item.type}\" marqu√© comme ferm√©`);\n                }\n            });\n        },\n\n        /**\n         * Invalide le cache pour un th√®me sp√©cifique\n         * @param {string} themeId - ID du th√®me\n         */\n        invalidateCacheForTheme(themeId) {\n            delete this._cache[`categories_${themeId}`];\n            delete this._cache[`tags_${themeId}`];\n            Log.info(`[LazyLoader] Cache invalid√© pour th√®me: ${themeId}`);\n        },\n\n        /**\n         * Invalide tout le cache (changement de th√®me)\n         */\n        clearCache() {\n            this._cache = {};\n            Log.info(\"[LazyLoader] Cache compl√®tement vid√©\");\n        },\n\n        /**\n         * Rafra√Æchit les accord√©ons ouverts\n         * Utilis√© apr√®s un changement de th√®me ou toggle de couche\n         */\n        refreshOpenAccordions() {\n            if (this._openAccordions.size === 0) {\n                Log.debug(\"[LazyLoader] Aucun accord√©on ouvert √† rafra√Æchir\");\n                return;\n            }\n\n            Log.info(`[LazyLoader] Rafra√Æchissement de ${this._openAccordions.size} accord√©on(s) ouvert(s)`);\n            const currentTheme = GeoLeaf.ThemeSelector?.getCurrentTheme();\n\n            if (!currentTheme) {\n                Log.warn(\"[LazyLoader] Impossible de r√©cup√©rer le th√®me actif\");\n                return;\n            }\n\n            this._openAccordions.forEach(({ type, element }) => {\n                // Sauvegarder l'√©tat des checkboxes / tags s√©lectionn√©s\n                const savedStates = this._saveCheckboxStates(element);\n\n                // Cibler la zone [data-lazy-type] qui re√ßoit le innerHTML\n                const contentArea = element.querySelector('[data-lazy-type]');\n\n                if (!contentArea) {\n                    Log.warn(\"[LazyLoader] Zone [data-lazy-type] introuvable dans l'accord√©on\");\n                    return;\n                }\n\n                // R√©initialiser le flag lazyLoaded pour permettre un futur rechargement\n                element.dataset.lazyLoaded = \"false\";\n\n                // Appeler la fonction de render appropri√©e\n                if (type === 'categories') {\n                    this._rerenderCategories(contentArea, currentTheme, savedStates);\n                } else if (type === 'tags') {\n                    this._rerenderTags(contentArea, currentTheme, savedStates);\n                }\n\n                // Re-marquer comme charg√© apr√®s le re-render\n                element.dataset.lazyLoaded = \"true\";\n            });\n        },\n\n        /**\n         * Re-render les cat√©gories dans un accord√©on\n         * @private\n         */\n        _rerenderCategories(contentArea, themeId, savedStates) {\n            const result = this.loadCategories(themeId);\n\n            // Appeler la fonction globale de construction d'arbre\n            if (typeof window._buildCategoryTreeContent === \"function\") {\n                const content = window._buildCategoryTreeContent(result);\n                contentArea.innerHTML = content;\n\n                // Attacher les event listeners\n                if (typeof window._attachCategoryTreeListeners === \"function\") {\n                    window._attachCategoryTreeListeners(contentArea);\n                }\n\n                // Restaurer les √©tats des checkboxes\n                this._restoreCheckboxStates(contentArea, savedStates);\n            } else {\n                Log.warn(\"[LazyLoader] _buildCategoryTreeContent introuvable\");\n                contentArea.innerHTML = '<div class=\"gl-empty-state\">Erreur de chargement</div>';\n            }\n        },\n\n        /**\n         * Re-render les tags dans un accord√©on\n         * @private\n         */\n        _rerenderTags(contentArea, themeId, savedStates) {\n            const tags = this.loadTags(themeId);\n\n            // Appeler la fonction globale de construction de liste\n            if (typeof window._buildTagsListContent === \"function\") {\n                const content = window._buildTagsListContent(tags);\n                contentArea.innerHTML = content;\n\n                // Attacher les event listeners\n                if (typeof window._attachTagsListeners === \"function\") {\n                    window._attachTagsListeners(contentArea);\n                }\n\n                // Restaurer les √©tats des checkboxes\n                this._restoreCheckboxStates(contentArea, savedStates);\n            } else {\n                Log.warn(\"[LazyLoader] _buildTagsListContent introuvable\");\n                contentArea.innerHTML = '<div class=\"gl-empty-state\">Erreur de chargement</div>';\n            }\n        },\n\n        /**\n         * Sauvegarde l'√©tat des checkboxes avant re-render\n         * @private\n         */\n        _saveCheckboxStates(element) {\n            const states = {};\n            const checkboxes = element.querySelectorAll('input[type=\"checkbox\"]');\n\n            checkboxes.forEach(cb => {\n                const categoryId = cb.dataset.glFilterCategoryId;\n                const subcategoryId = cb.dataset.glFilterSubcategoryId;\n                const value = cb.value;\n\n                let key;\n                if (subcategoryId) {\n                    key = `${categoryId}:${subcategoryId}`;\n                } else if (categoryId) {\n                    key = categoryId;\n                } else if (value) {\n                    key = value;\n                }\n\n                if (key) {\n                    states[key] = cb.checked;\n                }\n            });\n\n            return states;\n        },\n\n        /**\n         * Restaure l'√©tat des checkboxes apr√®s re-render\n         * @private\n         */\n        _restoreCheckboxStates(element, savedStates) {\n            if (!savedStates || Object.keys(savedStates).length === 0) return;\n\n            const checkboxes = element.querySelectorAll('input[type=\"checkbox\"]');\n            let restoredCount = 0;\n\n            checkboxes.forEach(cb => {\n                const categoryId = cb.dataset.glFilterCategoryId;\n                const subcategoryId = cb.dataset.glFilterSubcategoryId;\n                const value = cb.value;\n\n                let key;\n                if (subcategoryId) {\n                    key = `${categoryId}:${subcategoryId}`;\n                } else if (categoryId) {\n                    key = categoryId;\n                } else if (value) {\n                    key = value;\n                }\n\n                if (key && savedStates[key] !== undefined) {\n                    cb.checked = savedStates[key];\n                    restoredCount++;\n                }\n            });\n\n            Log.debug(`[LazyLoader] ${restoredCount} √©tats de checkbox restaur√©s`);\n        }\n    };\n\n    // √âcouter les √©v√©nements de changement de th√®me\n    document.addEventListener('geoleaf:theme:applied', () => {\n        Log.info(\"[LazyLoader] √âv√©nement theme:applied d√©tect√© ‚Äî invalidation compl√®te\");\n\n        // 1. Vider le cache de donn√©es (scan cat√©gories/tags)\n        GeoLeaf._UIFilterPanelLazyLoader.clearCache();\n\n        // 2. R√©initialiser TOUS les flags data-lazy-loaded sur les accord√©ons\n        //    (ferm√©s ou ouverts) pour forcer un rechargement au prochain expand\n        const allAccordions = document.querySelectorAll('.gl-filter-panel__group--accordion[data-lazy-loaded]');\n        allAccordions.forEach(acc => {\n            acc.dataset.lazyLoaded = \"false\";\n        });\n        Log.debug(`[LazyLoader] ${allAccordions.length} flag(s) data-lazy-loaded r√©initialis√©(s)`);\n\n        // 3. Rafra√Æchir les accord√©ons actuellement ouverts (re-render imm√©diat)\n        GeoLeaf._UIFilterPanelLazyLoader.refreshOpenAccordions();\n    });\n\n    // √âcouter l'√©v√©nement de changement de visibilit√© de couche\n    document.addEventListener('geoleaf:geojson:visibility-changed', (e) => {\n        const detail = e.detail || {};\n        Log.info(\"[LazyLoader] Visibilit√© couche chang√©e:\", detail.layerId, detail.visible);\n\n        // Invalider le cache du th√®me actif\n        const currentTheme = GeoLeaf.ThemeSelector?.getCurrentTheme();\n        if (currentTheme) {\n            GeoLeaf._UIFilterPanelLazyLoader.invalidateCacheForTheme(currentTheme);\n            // Rafra√Æchir les accord√©ons ouverts\n            GeoLeaf._UIFilterPanelLazyLoader.refreshOpenAccordions();\n        }\n    });\n\n})(window);\n","/**\n * GeoLeaf UI Filter Panel - Applier\n * Application des filtres aux couches POI, Routes, GeoJSON\n *\n * @module ui/filter-panel/applier\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // D√©pendances lazy\n    const getLog = () => (GeoLeaf.Log || console);\n    const getShared = () => GeoLeaf._UIFilterPanelShared;\n    const getStateReader = () => GeoLeaf._UIFilterPanelStateReader;\n\n    GeoLeaf._UIFilterPanelApplier = GeoLeaf._UIFilterPanelApplier || {};\n\n    // Cache et optimisations pour les performances\n    let _cachedFilterState = null;\n    let _lastApplyTime = 0;\n    const APPLY_DEBOUNCE_DELAY = 300; // 300ms\n\n    // Fonction debounce pour l'application des filtres\n    let _applyFiltersTimeout = null;\n    let _lastSkipRoutes = false; // Store skipRoutes flag for debounced call\n    const _debouncedApplyFilters = function(panelEl, skipRoutes) {\n        if (_applyFiltersTimeout) {\n            clearTimeout(_applyFiltersTimeout);\n        }\n        _lastSkipRoutes = skipRoutes || false;\n        _applyFiltersTimeout = setTimeout(() => {\n            GeoLeaf._UIFilterPanelApplier._applyFiltersImmediate(panelEl, _lastSkipRoutes);\n        }, APPLY_DEBOUNCE_DELAY);\n    };\n\n    /**\n     * MEMORY LEAK FIX (Phase 2): Cleanup timeout on destroy\n     */\n    GeoLeaf._UIFilterPanelApplier.destroy = function() {\n        if (_applyFiltersTimeout) {\n            clearTimeout(_applyFiltersTimeout);\n            _applyFiltersTimeout = null;\n        }\n    };\n\n    /**\n     * Rafra√Æchit la visibilit√© des POI selon la liste filtr√©e.\n     * IMPORTANT: Cette fonction filtre UNIQUEMENT les POI du syst√®me POI traditionnel.\n     * Les couches GeoJSON (point, line, polygon) sont g√©r√©es par filterGeoJSONLayers().\n     * On n'appelle PAS filterFeatures() ici pour √©viter de masquer les couches GeoJSON.\n     *\n     * @param {Array} filteredPois - Liste des POI √† afficher\n     */\n    GeoLeaf._UIFilterPanelApplier.refreshPoiLayer = function(filteredPois) {\n        const Log = getLog();\n\n        // V√©rifier si le syst√®me POI est activ√© dans la config\n        const Config = GeoLeaf.Config;\n        const poiConfig = (Config && typeof Config.get === 'function') ? Config.get('poiConfig') : null;\n        if (poiConfig && poiConfig.enabled === false) {\n            Log.debug(\"[GeoLeaf.UI.FilterPanel] Syst√®me POI d√©sactiv√©, pas de rafra√Æchissement de la couche POI.\");\n            return;\n        }\n\n        // Fallback: utiliser l'ancien syst√®me POI (si GeoJSON n'est pas disponible)\n        if (!GeoLeaf.POI) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] GeoLeaf.POI indisponible, pas de rafra√Æchissement de la couche POI.\");\n            return;\n        }\n\n        if (typeof GeoLeaf.POI._clearAllForTests === \"function\") {\n            GeoLeaf.POI._clearAllForTests();\n        } else {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] GeoLeaf.POI._clearAllForTests indisponible.\");\n        }\n\n        filteredPois.forEach(function(p) {\n            try {\n                GeoLeaf.POI.addPoi(p);\n            } catch (err) {\n                Log.warn(\"[GeoLeaf.UI.FilterPanel] Impossible d'ajouter un POI filtr√©:\", p, err);\n            }\n        });\n\n        Log.debug(`[GeoLeaf.UI.FilterPanel] refreshPoiLayer: ${filteredPois.length} POI visibles`);\n    };\n\n    /**\n     * Applique les filtres aux couches GeoJSON (polygones et polylignes)\n     * @param {Object} state - √âtat des filtres\n     */\n    GeoLeaf._UIFilterPanelApplier.filterGeoJSONLayers = function(state) {\n        const Log = getLog();\n        const Shared = getShared();\n\n        if (!GeoLeaf.GeoJSON || typeof GeoLeaf.GeoJSON.filterFeatures !== 'function') {\n            return;\n        }\n\n        const hasCats = state.categoriesTree && state.categoriesTree.length > 0;\n        const hasSubs = state.subCategoriesTree && state.subCategoriesTree.length > 0;\n        const hasTags = state.hasTags && state.selectedTags && state.selectedTags.length > 0;\n        const selectedTags = state.selectedTags || [];\n        const hasProximity = state.proximity && state.proximity.active;\n        const hasSearchText = state.hasSearchText && state.searchText;\n        const searchText = state.searchText || '';\n        const getDistance = GeoLeaf.Utils && typeof GeoLeaf.Utils.getDistance === 'function' ? GeoLeaf.Utils.getDistance : null;\n\n        // Helper pour obtenir les champs de recherche depuis la config de la couche\n        const getLayerSearchFields = (layerId) => {\n            try {\n                const layerData = GeoLeaf.GeoJSON.getLayerData(layerId);\n                if (layerData && layerData.config) {\n                    // Priorit√© 1: search.indexingFields (format standard des configs de couches)\n                    if (layerData.config.search && Array.isArray(layerData.config.search.indexingFields)) {\n                        return layerData.config.search.indexingFields;\n                    }\n                    // Priorit√© 2: indexingFields √† la racine (legacy)\n                    if (Array.isArray(layerData.config.indexingFields)) {\n                        return layerData.config.indexingFields;\n                    }\n                    // Priorit√© 3: searchFields (legacy)\n                    if (Array.isArray(layerData.config.searchFields)) {\n                        return layerData.config.searchFields;\n                    }\n                }\n            } catch (err) {\n                Log.warn(\"[GeoLeaf.UI.FilterPanel] Erreur r√©cup√©ration champs de recherche:\", err);\n            }\n\n            // Fallback: champs par d√©faut du profil\n            try {\n                const activeProfile = GeoLeaf.Config && GeoLeaf.Config._activeProfileData;\n                if (activeProfile && activeProfile.search && activeProfile.search.filters) {\n                    const searchFilter = activeProfile.search.filters.find(f => f.type === 'search');\n                    if (searchFilter && Array.isArray(searchFilter.searchFields)) {\n                        return searchFilter.searchFields;\n                    }\n                }\n            } catch (err) {\n                Log.warn(\"[GeoLeaf.UI.FilterPanel] Erreur r√©cup√©ration champs par d√©faut:\", err);\n            }\n\n            // Fallback ultime\n            return ['title', 'description', 'properties.title', 'properties.name', 'properties.description', 'attributes.nom'];\n        };\n\n        // Helper pour tester la recherche textuelle sur une feature\n        const matchesSearchText = (feature, layerId) => {\n            if (!hasSearchText) return true;\n\n            const searchFields = getLayerSearchFields(layerId);\n            const searchLower = searchText.toLowerCase();\n\n            for (let i = 0; i < searchFields.length; i++) {\n                let fieldPath = searchFields[i];\n                let value = null;\n\n                // Normaliser le chemin: si commence par \"properties.\", on le supprime\n                // puisque on va chercher directement dans feature.properties\n                let propertiesFieldPath = fieldPath;\n                if (fieldPath.startsWith('properties.')) {\n                    propertiesFieldPath = fieldPath.substring('properties.'.length);\n                }\n\n                // Tester d'abord dans properties\n                if (feature.properties) {\n                    value = Shared.getNestedValue(feature.properties, propertiesFieldPath);\n                }\n\n                // Si pas trouv√©, tester √† la racine avec le chemin original\n                if (!value) {\n                    value = Shared.getNestedValue(feature, fieldPath);\n                }\n\n                if (value && String(value).toLowerCase().includes(searchLower)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n\n        // Fonction de filtre commune pour polygones et lignes\n        const createFilterFunction = (geometryType) => (feature, layerId) => {\n            const props = feature.properties || {};\n\n            // Filtrage par recherche textuelle\n            if (hasSearchText && !matchesSearchText(feature, layerId)) {\n                return false;\n            }\n\n            // Filtrage par cat√©gorie/sous-cat√©gorie\n            if (hasCats || hasSubs) {\n                const catId = props.categoryId || props.category || null;\n                const subId = props.subcategoryId || props.subCategoryId || props.subcategory || props.sub_category || null;\n\n                // Si pas de cat√©gorie sur cette feature, masquer quand filtre actif\n                if (!catId && !subId) return false;\n\n                // Si des sous-cat√©gories sont s√©lectionn√©es\n                if (hasSubs) {\n                    if (!subId || !state.subCategoriesTree.includes(String(subId))) {\n                        return false;\n                    }\n                }\n\n                // Si seulement des cat√©gories (pas de sous-cat)\n                if (hasCats && !hasSubs) {\n                    if (!catId || !state.categoriesTree.includes(String(catId))) {\n                        return false;\n                    }\n                }\n            }\n\n            // Filtrage par tags (au moins UN des tags s√©lectionn√©s doit √™tre pr√©sent)\n            if (hasTags) {\n                let featureTags = props.tags || [];\n                if (!Array.isArray(featureTags)) {\n                    if (typeof featureTags === 'string') {\n                        featureTags = featureTags.split(/[,;]+/);\n                    } else {\n                        featureTags = [];\n                    }\n                }\n                featureTags = featureTags.map(t => String(t).trim()).filter(Boolean);\n\n                const hasAtLeastOneTag = selectedTags.some(tag => featureTags.includes(tag));\n                if (!hasAtLeastOneTag) {\n                    return false;\n                }\n            }\n\n            // Filtrage par proximit√©\n            if (hasProximity && state.proximity.center && getDistance) {\n                const point = Shared.getRepresentativePoint(feature.geometry);\n                if (point) {\n                    const distance = getDistance(\n                        state.proximity.center.lat,\n                        state.proximity.center.lng,\n                        point.lat,\n                        point.lng\n                    );\n                    if (distance > state.proximity.radius) {\n                        return false;\n                    }\n                }\n            }\n\n            return true;\n        };\n\n        // Filtrer les polygones (zones)\n        GeoLeaf.GeoJSON.filterFeatures(createFilterFunction('polygon'), { geometryType: 'polygon' });\n\n        // Filtrer les polylignes (routes GeoJSON)\n        GeoLeaf.GeoJSON.filterFeatures(createFilterFunction('line'), { geometryType: 'line' });\n\n        // Filtrer les points (POI GeoJSON - MultiPoint, Point, etc.)\n        GeoLeaf.GeoJSON.filterFeatures(createFilterFunction('point'), { geometryType: 'point' });\n    };\n\n    /**\n     * Applique tous les filtres actifs avec debounce\n     * @param {HTMLElement} panelEl - √âl√©ment du panneau de filtres\n     */\n    GeoLeaf._UIFilterPanelApplier.applyFiltersNow = function(panelEl, skipRoutes) {\n        _debouncedApplyFilters(panelEl, skipRoutes);\n    };\n\n    /**\n     * Applique tous les filtres actifs imm√©diatement (interne, avec protection contre les appels r√©p√©t√©s)\n     * @private\n     * @param {HTMLElement} panelEl - √âl√©ment du panneau de filtres\n     * @param {boolean} skipRoutes - Si true, skip le traitement des routes (preserve leurs styles)\n     */\n    GeoLeaf._UIFilterPanelApplier._applyFiltersImmediate = function(panelEl, skipRoutes) {\n        const Log = getLog();\n        const Shared = getShared();\n        const StateReader = getStateReader();\n\n        // √âviter les appels r√©p√©t√©s trop rapproch√©s\n        const now = Date.now();\n        if (now - _lastApplyTime < 100) return; // 100ms minimum entre les appels\n        _lastApplyTime = now;\n\n        const basePois = Shared.getBasePois();\n        const baseRoutes = Shared.getBaseRoutes();\n        const state = StateReader.readFiltersFromPanel(panelEl);\n\n        // Filtrage des couches GeoJSON (polygones, polylignes)\n        GeoLeaf._UIFilterPanelApplier.filterGeoJSONLayers(state);\n\n        if (!basePois.length && !baseRoutes.length) {\n            Log.info(\"[GeoLeaf.UI.FilterPanel] Aucun POI ni route source trouv√©.\");\n            return;\n        }\n\n        // G√©rer le filtrage et l'affichage des itin√©raires via GeoLeaf.Route\n        if (GeoLeaf.Route && typeof GeoLeaf.Route.isInitialized === 'function' && GeoLeaf.Route.isInitialized()) {\n            if (state.dataTypes.routes) {\n                // Si skipRoutes=true, on affiche juste les routes existantes sans les recharger\n                if (skipRoutes) {\n                    GeoLeaf.Route.show();\n                } else {\n                    // Filtrer les routes\n                    let filteredRoutes = baseRoutes;\n                    filteredRoutes = GeoLeaf.Filters && typeof GeoLeaf.Filters.filterRouteList === 'function'\n                        ? GeoLeaf.Filters.filterRouteList(baseRoutes, state)\n                        : baseRoutes;\n\n                    Log.info(\"[GeoLeaf.UI.FilterPanel] Filtres appliqu√©s sur les routes.\", {\n                        total: baseRoutes.length,\n                        result: filteredRoutes.length\n                    });\n\n                    // Utiliser filterVisibility() si disponible pour pr√©server les styles\n                    // Sinon, utiliser loadFromConfig() (comportement par d√©faut)\n                    if (typeof GeoLeaf.Route.filterVisibility === 'function') {\n                        GeoLeaf.Route.filterVisibility(filteredRoutes);\n                    } else if (typeof GeoLeaf.Route.loadFromConfig === 'function') {\n                        GeoLeaf.Route.loadFromConfig(filteredRoutes);\n                    }\n                    GeoLeaf.Route.show();\n                }\n            } else {\n                GeoLeaf.Route.hide();\n            }\n        }\n\n        // Filtrer les POI\n        const filtered = GeoLeaf._UIFilterPanelApplier.filterPoiList(basePois, state);\n\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Filtres appliqu√©s sur les POI.\", {\n            total: basePois.length,\n            result: filtered.length,\n            filters: state\n        });\n\n        GeoLeaf._UIFilterPanelApplier.refreshPoiLayer(filtered);\n    };\n\n    /**\n     * Filtre une liste de POI selon les crit√®res fournis\n     * D√©l√®gue vers GeoLeaf.Filters.filterPoiList()\n     *\n     * @param {Array} basePois - Liste compl√®te des POI\n     * @param {Object} filterState - √âtat des filtres\n     * @returns {Array} POI filtr√©s\n     */\n    GeoLeaf._UIFilterPanelApplier.filterPoiList = function(basePois, filterState) {\n        if (GeoLeaf.Filters && typeof GeoLeaf.Filters.filterPoiList === 'function') {\n            return GeoLeaf.Filters.filterPoiList(basePois, filterState);\n        }\n\n        const Log = getLog();\n        Log.warn('[GeoLeaf.UI.FilterPanel] Module Filters non charg√©, retour liste compl√®te');\n        return basePois || [];\n    };\n\n    /**\n     * Filtre une liste de routes selon les crit√®res fournis\n     * D√©l√®gue vers GeoLeaf.Filters.filterRouteList()\n     *\n     * @param {Array} baseRoutes - Liste compl√®te des routes\n     * @param {Object} filterState - √âtat des filtres\n     * @returns {Array} Routes filtr√©es\n     */\n    GeoLeaf._UIFilterPanelApplier.filterRouteList = function(baseRoutes, filterState) {\n        if (GeoLeaf.Filters && typeof GeoLeaf.Filters.filterRouteList === 'function') {\n            return GeoLeaf.Filters.filterRouteList(baseRoutes, filterState);\n        }\n\n        const Log = getLog();\n        Log.warn('[GeoLeaf.UI.FilterPanel] Module Filters non charg√©, retour liste compl√®te');\n        return baseRoutes || [];\n    };\n\n    /**\n     * Applique les filtres initiaux au chargement\n     */\n    GeoLeaf._UIFilterPanelApplier.applyFiltersInitial = function() {\n        const Log = getLog();\n        const Shared = getShared();\n        const StateReader = getStateReader();\n\n        const panelEl = Shared.getFilterPanelElement();\n        if (!panelEl) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Panneau de filtres non trouv√©, impossible d'appliquer les filtres initiaux.\");\n            return;\n        }\n\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Application des filtres initiaux...\");\n\n        const state = StateReader.readFiltersFromPanel(panelEl);\n        const basePois = Shared.getBasePois();\n        const baseRoutes = Shared.getBaseRoutes();\n\n        if (!basePois.length && !baseRoutes.length) {\n            Log.info(\"[GeoLeaf.UI.FilterPanel] Aucun POI ni route source trouv√©.\");\n            return;\n        }\n\n        // G√©rer les itin√©raires\n        if (GeoLeaf.Route && typeof GeoLeaf.Route.isInitialized === 'function' && GeoLeaf.Route.isInitialized()) {\n            if (state.dataTypes.routes) {\n                let filteredRoutes = GeoLeaf._UIFilterPanelApplier.filterRouteList(baseRoutes, state);\n                if (typeof GeoLeaf.Route.loadFromConfig === 'function') {\n                    GeoLeaf.Route.loadFromConfig(filteredRoutes);\n                }\n                GeoLeaf.Route.show();\n            } else {\n                GeoLeaf.Route.hide();\n            }\n        }\n\n        // Filtrer et charger les POI\n        const filtered = GeoLeaf._UIFilterPanelApplier.filterPoiList(basePois, state);\n        Log.info(\"[GeoLeaf.UI.FilterPanel] POI filtr√©s pour chargement initial.\", {\n            total: basePois.length,\n            result: filtered.length\n        });\n\n        GeoLeaf._UIFilterPanelApplier.refreshPoiLayer(filtered);\n    };\n\n})(window);\n","/**\n * GeoLeaf UI Filter Panel - Renderer\n * Construction du panneau HTML de filtres\n *\n * @module ui/filter-panel/renderer\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // Helper pour utiliser createElement unifi√©\n    const $create = (tag, props, ...children) => {\n        return GeoLeaf.Utils && GeoLeaf.Utils.createElement\n            ? GeoLeaf.Utils.createElement(tag, props, ...children)\n            : document.createElement(tag);\n    };\n\n    // D√©pendances lazy\n    const getLog = () => (GeoLeaf.Log || console);\n    const getShared = () => GeoLeaf._UIFilterPanelShared;\n    const getStateReader = () => GeoLeaf._UIFilterPanelStateReader;\n    const getApplier = () => GeoLeaf._UIFilterPanelApplier;\n\n    GeoLeaf._UIFilterPanelRenderer = GeoLeaf._UIFilterPanelRenderer || {};\n    GeoLeaf._UIFilterPanelRenderer._eventCleanups = [];\n\n    /**\n     * Construit le panneau de filtres depuis la configuration du profil actif\n     * @param {Object} options - Options\n     * @param {HTMLElement} [options.container] - Conteneur cible\n     */\n    GeoLeaf._UIFilterPanelRenderer.buildFilterPanelFromActiveProfile = function(options) {\n        const Log = getLog();\n        const Shared = getShared();\n        const StateReader = getStateReader();\n        const Applier = getApplier();\n\n        if (Log) Log.debug(\"[FilterPanel] buildFilterPanelFromActiveProfile APPEL√â, options:\", options);\n\n        const profile = GeoLeaf.UI._getActiveProfileConfig();\n        if (Log) Log.debug(\"[FilterPanel] Profile r√©cup√©r√©:\", profile);\n\n        if (!profile) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Aucun profil actif trouv√©\");\n            return;\n        }\n\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Profil actif:\", profile.id || \"unknown\");\n\n        // Support both profile.panels.search (old) and profile.search (new)\n        const searchPanel = (profile.panels && profile.panels.search) || profile.search;\n        if (Log) Log.debug(\"[FilterPanel] searchPanel:\", searchPanel);\n\n        if (!searchPanel) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Aucune configuration search/panels.search dans le profil\");\n            return;\n        }\n\n        const filters = searchPanel && Array.isArray(searchPanel.filters) ? searchPanel.filters : null;\n        if (Log) Log.debug(\"[FilterPanel] Filters:\", filters);\n\n        if (!filters || !filters.length) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Aucun filtre d√©fini dans profile.search.filters pour le profil actif. Filters:\", filters);\n            return;\n        }\n\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Nombre de filtres trouv√©s:\", filters.length);\n\n        const container = (options && options.container) || Shared.getFilterPanelElement();\n        if (!container) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Conteneur de panneau introuvable\");\n            return;\n        }\n\n        // ---------------------------------------------------------\n        // Vider le conteneur existant\n        // ---------------------------------------------------------\n        while (container.firstChild) {\n            container.removeChild(container.firstChild);\n        }\n\n        container.classList.add(\"gl-filter-panel\");\n\n        // ---------------------------------------------------------\n        // Header\n        // ---------------------------------------------------------\n        const header = $create(\"div\", {\n            className: \"gl-filter-panel__header\"\n        });\n\n        const title = $create(\"h2\", {\n            className: \"gl-filter-panel__title\",\n            textContent: searchPanel.title || \"Filtres\"\n        });\n        header.appendChild(title);\n\n        // Bouton toggle avec fl√®che (comme le tableau)\n        const toggleBtn = $create(\"button\", {\n            type: \"button\",\n            className: \"gl-filter-panel__toggle-btn\",\n            attributes: {\n                \"data-gl-action\": \"filter-close\",\n                \"aria-label\": \"Fermer le panneau\"\n            }\n        });\n        const toggleIcon = $create(\"span\", {\n            className: \"gl-filter-panel__toggle-icon\",\n            textContent: \"‚óÄ\"\n        });\n        toggleBtn.appendChild(toggleIcon);\n        header.appendChild(toggleBtn);\n\n        container.appendChild(header);\n\n        // ---------------------------------------------------------\n        // Body : champs de filtre\n        // ---------------------------------------------------------\n        const body = $create(\"div\", {\n            className: \"gl-filter-panel__body\"\n        });\n\n        // Sprint 3.2: Use DocumentFragment for batch DOM operations\n        const bodyFragment = document.createDocumentFragment();\n\n        filters.forEach(function(filterDef) {\n            // Passer skipLabel=true pour les filtres avec accord√©on (categories et tags) et proximity (qui g√®re son propre label)\n            const skipLabel = (filterDef.id === 'categories' || filterDef.id === 'tags' || filterDef.type === 'proximity');\n            const groupEl = GeoLeaf.UI._buildFilterControl(filterDef, profile, skipLabel);\n\n            if (groupEl) {\n                // Wrapper avec accord√©on pour categories et tags\n                if (filterDef.id === 'categories' || filterDef.id === 'tags') {\n                    const accordionGroup = $create(\"div\", {\n                        className: \"gl-filter-panel__group--accordion\",\n                        attributes: { \"data-accordion-for\": filterDef.id }\n                    });\n\n                    const accordionHeader = $create(\"div\", {\n                        className: \"gl-filter-panel__accordion-header\"\n                    });\n\n                    const accordionTitle = $create(\"h3\", {\n                        className: \"gl-filter-panel__accordion-title\",\n                        textContent: filterDef.label || (filterDef.id === 'categories' ? 'Afficher les cat√©gories' : 'Afficher les tags')\n                    });\n\n                    const accordionArrow = $create(\"span\", {\n                        className: \"gl-filter-panel__accordion-arrow\",\n                        textContent: \"‚ñ∂\"\n                    });\n\n                    accordionHeader.appendChild(accordionTitle);\n                    accordionHeader.appendChild(accordionArrow);\n\n                    const accordionBody = $create(\"div\", {\n                        className: \"gl-filter-panel__accordion-body\"\n                    });\n\n                    // Wrapper n√©cessaire pour la technique CSS Grid\n                    const accordionWrapper = $create(\"div\");\n                    accordionWrapper.appendChild(groupEl);\n                    accordionBody.appendChild(accordionWrapper);\n\n                    const accordionClickHandler = function() {\n                        requestAnimationFrame(function() {\n                            accordionGroup.classList.toggle(\"is-expanded\");\n\n                            const isExpanded = accordionGroup.classList.contains(\"is-expanded\");\n\n                            // LAZY LOADING: Charger le contenu √† la demande si n√©cessaire\n                            if (isExpanded) {\n                                GeoLeaf._UIFilterPanelRenderer._loadAccordionContentIfNeeded(accordionGroup, filterDef);\n                            } else {\n                                // Marquer comme ferm√©\n                                const LazyLoader = GeoLeaf._UIFilterPanelLazyLoader;\n                                if (LazyLoader) {\n                                    LazyLoader.markAccordionClosed(accordionGroup);\n                                }\n                            }\n                        });\n                    };\n\n                    const events = GeoLeaf.Utils?.events;\n                    if (events) {\n                        GeoLeaf._UIFilterPanelRenderer._eventCleanups.push(\n                            events.on(\n                                accordionHeader,\n                                \"click\",\n                                accordionClickHandler,\n                                false,\n                                'FilterPanel.accordionToggle'\n                            )\n                        );\n                    } else {\n                        accordionHeader.addEventListener(\"click\", accordionClickHandler);\n                    }\n\n                    accordionGroup.appendChild(accordionHeader);\n                    accordionGroup.appendChild(accordionBody);\n                    bodyFragment.appendChild(accordionGroup);\n                } else {\n                    bodyFragment.appendChild(groupEl);\n                }\n            }\n        });\n\n        body.appendChild(bodyFragment);\n\n        container.appendChild(body);\n\n        // ---------------------------------------------------------\n        // Footer : boutons Appliquer / R√©initialiser\n        // ---------------------------------------------------------\n        const footer = $create(\"div\", {\n            className: \"gl-filter-panel__footer\"\n        });\n\n        const applyBtn = $create(\"button\", {\n            type: \"button\",\n            className: \"gl-btn gl-btn--accent gl-filter-panel__btn-apply\",\n            textContent: (searchPanel.actions && searchPanel.actions.applyLabel) || \"Appliquer\"\n        });\n        footer.appendChild(applyBtn);\n\n        const resetBtn = $create(\"button\", {\n            type: \"button\",\n            className: \"gl-btn gl-btn--subtle gl-filter-panel__btn-reset\",\n            textContent: (searchPanel.actions && searchPanel.actions.resetLabel) || \"R√©initialiser\"\n        });\n        footer.appendChild(resetBtn);\n\n        container.appendChild(footer);\n\n        // ---------------------------------------------------------\n        // Wiring √©v√®nements (fermer / reset / appliquer)\n        // ---------------------------------------------------------\n        if (!container._glFilterHandlersBound) {\n            // D√©clarer events une seule fois pour tout le bloc\n            const events = GeoLeaf.Utils?.events;\n\n            const containerClickHandler = function(evt) {\n                const target = evt.target;\n\n                // Fermer le panneau (utilise closest pour g√©rer les clics sur les enfants du bouton)\n                if (target.closest(\"[data-gl-action='filter-close']\")) {\n                    evt.preventDefault();\n                    GeoLeaf._UIFilterPanelRenderer.toggleFilterPanelVisibility(false);\n                    return;\n                }\n\n                // R√©initialiser les filtres + r√©afficher tous les POI\n                if (target.classList.contains(\"gl-filter-panel__btn-reset\")) {\n                    evt.preventDefault();\n                    StateReader.resetControls(container);\n                    Applier.applyFiltersNow(container, true); // skipRoutes=true to preserve route styling\n                    return;\n                }\n\n                // Appliquer les filtres\n                if (target.classList.contains(\"gl-filter-panel__btn-apply\")) {\n                    evt.preventDefault();\n                    Applier.applyFiltersNow(container);\n                    return;\n                }\n            };\n\n            if (events) {\n                GeoLeaf._UIFilterPanelRenderer._eventCleanups.push(\n                    events.on(\n                        container,\n                        \"click\",\n                        containerClickHandler,\n                        false,\n                        'FilterPanel.containerClick'\n                    )\n                );\n            } else {\n                container.addEventListener(\"click\", containerClickHandler);\n            }\n\n            // Gestionnaire pour la touche Entr√©e dans l'input de recherche textuelle\n            const containerKeydownHandler = function(evt) {\n                if (evt.key === \"Enter\" || evt.keyCode === 13) {\n                    const target = evt.target;\n                    const searchInput = target.closest(\"[data-gl-filter-id='searchText'] input[type='text']\");\n                    if (searchInput) {\n                        evt.preventDefault();\n                        Applier.applyFiltersNow(container);\n                        return;\n                    }\n                }\n            };\n\n            if (events) {\n                GeoLeaf._UIFilterPanelRenderer._eventCleanups.push(\n                    events.on(\n                        container,\n                        \"keydown\",\n                        containerKeydownHandler,\n                        false,\n                        'FilterPanel.enterKey'\n                    )\n                );\n            } else {\n                container.addEventListener(\"keydown\", containerKeydownHandler);\n            }\n\n            container._glFilterHandlersBound = true;\n        }\n\n        // Le panneau doit √™tre masqu√© par d√©faut au d√©marrage\n        // Il ne s'affichera que lorsque l'utilisateur cliquera sur le bouton toggle\n        container.classList.remove(\"is-open\");\n    };\n\n    /**\n     * Bascule la visibilit√© du panneau de filtres.\n     * @param {boolean} [forceState] - Force l'√©tat (true = ouvert, false = ferm√©)\n     */\n    GeoLeaf._UIFilterPanelRenderer.toggleFilterPanelVisibility = function(forceState) {\n        const Shared = getShared();\n        const container = Shared.getFilterPanelElement();\n        if (!container) return;\n\n        const isOpen = container.classList.contains(\"is-open\");\n        let nextState;\n\n        if (typeof forceState === \"boolean\") {\n            nextState = forceState;\n        } else {\n            nextState = !isOpen;\n        }\n\n        if (nextState) {\n            container.classList.add(\"is-open\");\n        } else {\n            container.classList.remove(\"is-open\");\n        }\n\n        // Mettre √† jour l'ic√¥ne du bouton toggle externe\n        const toggleBtn = document.getElementById(\"gl-filter-toggle\");\n        if (toggleBtn) {\n            const icon = toggleBtn.querySelector(\".gl-filter-toggle__icon\");\n            if (icon) {\n                if (nextState) {\n                    // Panneau ouvert : fl√®che vers la gauche (pour fermer)\n                    // SAFE: SVG statique hardcod√©\n                    GeoLeaf.DOMSecurity.clearElementFast(icon);\n                    const svg = GeoLeaf.DOMSecurity.createSVGIcon(16, 16, 'M15 18l-6-6 6-6', {\n                        stroke: 'currentColor',\n                        strokeWidth: '6',\n                        fill: 'none'\n                    });\n                    icon.appendChild(svg);\n                    toggleBtn.setAttribute(\"aria-label\", \"Fermer le panneau de filtres\");\n                } else {\n                    // Panneau ferm√© : fl√®che vers la droite (pour ouvrir)\n                    // SAFE: SVG statique hardcod√©\n                    GeoLeaf.DOMSecurity.clearElementFast(icon);\n                    const svg = GeoLeaf.DOMSecurity.createSVGIcon(16, 16, 'M9 6l6 6-6 6', {\n                        stroke: 'currentColor',\n                        strokeWidth: '6',\n                        fill: 'none'\n                    });\n                    icon.appendChild(svg);\n                    toggleBtn.setAttribute(\"aria-label\", \"Ouvrir le panneau de filtres\");\n                }\n            }\n        }\n    };\n\n    /**\n     * Initialise le bouton toggle du panneau de filtres\n     */\n    GeoLeaf._UIFilterPanelRenderer.initFilterToggle = function() {\n        const Log = getLog();\n        const Shared = getShared();\n\n        const toggleBtn = document.getElementById(\"gl-filter-toggle\");\n        const panel = Shared.getFilterPanelElement();\n\n        if (!toggleBtn || !panel) {\n            Log.info(\"[GeoLeaf.UI.FilterPanel] Bouton toggle ou panneau filtres introuvable\");\n            return;\n        }\n\n        const toggleClickHandler = function() {\n            const isOpen = panel.classList.contains(\"is-open\");\n            const icon = toggleBtn.querySelector(\".gl-filter-toggle__icon\");\n\n            if (isOpen) {\n                panel.classList.remove(\"is-open\");\n                if (icon) {\n                    // SAFE: SVG statique hardcod√©\n                    GeoLeaf.DOMSecurity.clearElementFast(icon);\n                    const svg = GeoLeaf.DOMSecurity.createSVGIcon(16, 16, 'M9 6l6 6-6 6', {\n                        stroke: 'currentColor',\n                        strokeWidth: '6',\n                        fill: 'none'\n                    });\n                    icon.appendChild(svg);\n                }\n                toggleBtn.setAttribute(\"aria-label\", \"Ouvrir le panneau de filtres\");\n            } else {\n                panel.classList.add(\"is-open\");\n                if (icon) {\n                    // SAFE: SVG statique hardcod√©\n                    GeoLeaf.DOMSecurity.clearElementFast(icon);\n                    const svg = GeoLeaf.DOMSecurity.createSVGIcon(16, 16, 'M15 18l-6-6 6-6', {\n                        stroke: 'currentColor',\n                        strokeWidth: '6',\n                        fill: 'none'\n                    });\n                    icon.appendChild(svg);\n                }\n                toggleBtn.setAttribute(\"aria-label\", \"Fermer le panneau de filtres\");\n            }\n        };\n\n        const events = GeoLeaf.Utils?.events;\n        if (events) {\n            GeoLeaf._UIFilterPanelRenderer._eventCleanups.push(\n                events.on(\n                    toggleBtn,\n                    \"click\",\n                    toggleClickHandler,\n                    false,\n                    'FilterPanel.toggleButton'\n                )\n            );\n        } else {\n            toggleBtn.addEventListener(\"click\", toggleClickHandler);\n        }\n\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Bouton toggle filtres initialis√©\");\n    };\n\n    /**\n     * Rafra√Æchit les badges de tags dans le panneau de filtres.\n     * Doit √™tre appel√© APR√àS que les POI ont √©t√© charg√©s.\n     */\n    GeoLeaf._UIFilterPanelRenderer.refreshFilterTags = function() {\n        const Log = getLog();\n        const Shared = getShared();\n\n        const container = Shared.getFilterPanelElement();\n        if (!container) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel.refreshFilterTags] Panneau de filtres non trouv√©\");\n            return;\n        }\n\n        // R√©cup√©rer POI et routes\n        const basePois = Shared.getBasePois();\n        const baseRoutes = Shared.getBaseRoutes();\n        const allItems = basePois.concat(baseRoutes);\n\n        Log.debug(\"[GeoLeaf.UI.FilterPanel.refreshFilterTags] Items:\", basePois.length, \"POI,\", baseRoutes.length, \"routes\");\n\n        // Collecter tous les tags\n        const allTags = Shared.collectAllTags(allItems);\n\n        // Peupler les badges\n        GeoLeaf._UIFilterPanelRenderer.populateTagsBadges(container, allTags);\n    };\n\n    /**\n     * Peuple le conteneur de badges avec les tags fournis\n     * @param {HTMLElement} panelEl - √âl√©ment du panneau de filtres\n     * @param {Array} allTags - Liste des tags uniques\n     */\n    GeoLeaf._UIFilterPanelRenderer.populateTagsBadges = function(panelEl, allTags) {\n        const Log = getLog();\n        const wrapper = panelEl.querySelector(\"[data-gl-filter-id='tags']\");\n        if (!wrapper) {\n            Log.debug(\"[GeoLeaf.UI.FilterPanel] Wrapper tags non trouv√© - probablement pas utilis√© dans ce profil\");\n            return;\n        }\n\n        const tagsContainer = wrapper.querySelector(\".gl-filter-panel__tags-container\");\n        if (!tagsContainer) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Container tags non trouv√©\");\n            return;\n        }\n\n        // Trouver l'accord√©on parent par l'attribut data-accordion-for\n        const accordionGroup = panelEl.querySelector(\"[data-accordion-for='tags']\");\n        Log.debug(\"[GeoLeaf.UI.FilterPanel] Recherche accord√©on avec [data-accordion-for='tags']\");\n        Log.debug(\"[GeoLeaf.UI.FilterPanel] Accord√©on trouv√©:\", accordionGroup);\n\n        // Vider le container\n        while (tagsContainer.firstChild) {\n            tagsContainer.removeChild(tagsContainer.firstChild);\n        }\n\n        // Si pas de tags, cacher compl√®tement l'accord√©on parent\n        if (!allTags.length) {\n            Log.debug(\"[GeoLeaf.UI.FilterPanel] Pas de tags (count:\", allTags.length, \")\");\n            if (accordionGroup) {\n                accordionGroup.style.display = \"none\";\n                Log.info(\"[GeoLeaf.UI.FilterPanel] Accord√©on tags CACH√â (display: none)\");\n            } else {\n                Log.warn(\"[GeoLeaf.UI.FilterPanel] Accord√©on tags non trouv√© pour le cacher\");\n            }\n            return;\n        }\n\n        // S'il y a des tags, s'assurer que l'accord√©on est visible\n        Log.debug(\"[GeoLeaf.UI.FilterPanel] Tags d√©tect√©s (count:\", allTags.length, \")\");\n        if (accordionGroup) {\n            accordionGroup.style.display = \"\";\n            Log.info(\"[GeoLeaf.UI.FilterPanel] Accord√©on tags AFFICH√â\");\n        }\n\n        // Cr√©er les badges\n        // Sprint 3.2: Use DocumentFragment for batch DOM operations\n        const tagsFragment = document.createDocumentFragment();\n\n        allTags.forEach(function(tag) {\n            const badgeClickHandler = function() {\n                this.classList.toggle(\"is-selected\");\n            };\n\n            const badge = $create(\"span\", {\n                className: \"gl-filter-panel__tag-badge\",\n                textContent: tag,\n                attributes: { \"data-tag-value\": tag },\n                onClick: badgeClickHandler\n            });\n\n            const events = GeoLeaf.Utils?.events;\n            if (events) {\n                GeoLeaf._UIFilterPanelRenderer._eventCleanups.push(\n                    events.on(\n                        badge,\n                        \"click\",\n                        badgeClickHandler,\n                        false,\n                        'FilterPanel.tagBadge'\n                    )\n                );\n            } else {\n                badge.addEventListener(\"click\", badgeClickHandler);\n            }\n\n            tagsFragment.appendChild(badge);\n        });\n\n        tagsContainer.appendChild(tagsFragment);\n    };\n\n    /**\n     * Cleanup method for event listeners\n     * Call this when destroying the filter panel\n     * MEMORY LEAK FIX (Phase 2): Also cleanup timeouts in applier\n     */\n    GeoLeaf._UIFilterPanelRenderer.destroy = function() {\n        const Log = getLog();\n        if (Log) Log.debug(\"[FilterPanel] Cleaning up event listeners\");\n\n        if (GeoLeaf._UIFilterPanelRenderer._eventCleanups) {\n            GeoLeaf._UIFilterPanelRenderer._eventCleanups.forEach(cleanup => {\n                if (typeof cleanup === 'function') {\n                    cleanup();\n                }\n            });\n            GeoLeaf._UIFilterPanelRenderer._eventCleanups = [];\n        }\n\n        // MEMORY LEAK FIX (Phase 2): Cleanup applier timeouts\n        if (GeoLeaf._UIFilterPanelApplier && GeoLeaf._UIFilterPanelApplier.destroy) {\n            GeoLeaf._UIFilterPanelApplier.destroy();\n        }\n    };\n\n    /**\n     * Charge le contenu d'un accord√©on √† la demande (lazy loading)\n     * @param {HTMLElement} accordionGroup - Element de l'accord√©on\n     * @param {Object} filterDef - D√©finition du filtre\n     */\n    GeoLeaf._UIFilterPanelRenderer._loadAccordionContentIfNeeded = function(accordionGroup, filterDef) {\n        const Log = getLog();\n        const LazyLoader = GeoLeaf._UIFilterPanelLazyLoader;\n\n        if (!LazyLoader) {\n            Log.warn(\"[FilterPanel] LazyLoader non disponible\");\n            return;\n        }\n\n        // V√©rifier si le contenu a d√©j√† √©t√© charg√© (le flag est reset √† \"false\" lors d'un changement de th√®me)\n        if (accordionGroup.dataset.lazyLoaded === \"true\") {\n            Log.debug(\"[FilterPanel] Accord√©on d√©j√† charg√© pour ce th√®me, skip\");\n            return;\n        }\n\n        // Trouver le container de contenu\n        const contentArea = accordionGroup.querySelector('[data-lazy-type]');\n        if (!contentArea) {\n            Log.debug(\"[FilterPanel] Pas de zone lazy dans cet accord√©on\");\n            return;\n        }\n\n        const lazyType = contentArea.dataset.lazyType;\n        Log.info(`[FilterPanel] Chargement lazy du contenu: ${lazyType}`);\n\n        // R√©cup√©rer le th√®me actif (avec fallback sur le th√®me par d√©faut du profil)\n        let currentTheme = GeoLeaf.ThemeSelector?.getCurrentTheme();\n        if (!currentTheme) {\n            // Fallback : r√©cup√©rer le th√®me par d√©faut depuis le profil\n            const profile = (GeoLeaf.Config && typeof GeoLeaf.Config.getActiveProfile === \"function\")\n                ? GeoLeaf.Config.getActiveProfile()\n                : null;\n            if (profile && profile.themes && profile.themes.config && profile.themes.config.defautTheme) {\n                currentTheme = profile.themes.config.defautTheme;\n                Log.info(\"[FilterPanel] Fallback sur le th√®me par d√©faut:\", currentTheme);\n            }\n        }\n        if (!currentTheme) {\n            // Dernier fallback : utiliser \"defaut\" comme ID g√©n√©rique\n            currentTheme = \"defaut\";\n            Log.warn(\"[FilterPanel] Th√®me actif introuvable, utilisation de 'defaut'\");\n        }\n\n        // Afficher un spinner pendant le chargement\n        contentArea.innerHTML = '<div class=\"gl-filter-panel__loading\">Chargement...</div>';\n\n        // Charger de mani√®re asynchrone pour ne pas bloquer l'UI\n        setTimeout(() => {\n            try {\n                if (lazyType === 'categories') {\n                    const result = LazyLoader.loadCategories(currentTheme);\n\n                    // V√©rifier s'il y a des cat√©gories\n                    if (!result.usedIds || result.usedIds.size === 0) {\n                        contentArea.innerHTML = '<div class=\"gl-filter-panel__empty\">Aucune cat√©gorie disponible sur les couches visibles</div>';\n                        accordionGroup.dataset.lazyLoaded = \"true\";\n                        return;\n                    }\n\n                    // Construire le contenu HTML\n                    if (typeof window._buildCategoryTreeContent === \"function\") {\n                        const htmlContent = window._buildCategoryTreeContent(result);\n                        contentArea.innerHTML = htmlContent;\n\n                        // Attacher les event listeners\n                        if (typeof window._attachCategoryTreeListeners === \"function\") {\n                            window._attachCategoryTreeListeners(contentArea);\n                        }\n                    } else {\n                        contentArea.innerHTML = '<div class=\"gl-filter-panel__error\">Erreur: fonction de construction introuvable</div>';\n                    }\n\n                    // Marquer l'accord√©on comme ouvert\n                    LazyLoader.markAccordionOpen('categories', accordionGroup);\n\n                } else if (lazyType === 'tags') {\n                    const tags = LazyLoader.loadTags(currentTheme);\n\n                    // V√©rifier s'il y a des tags\n                    if (!tags || tags.length === 0) {\n                        contentArea.innerHTML = '<div class=\"gl-filter-panel__empty\">Aucun tag disponible sur les couches visibles</div>';\n                        accordionGroup.dataset.lazyLoaded = \"true\";\n                        return;\n                    }\n\n                    // Construire le contenu HTML\n                    if (typeof window._buildTagsListContent === \"function\") {\n                        const htmlContent = window._buildTagsListContent(tags);\n                        contentArea.innerHTML = htmlContent;\n\n                        // Attacher les event listeners\n                        if (typeof window._attachTagsListeners === \"function\") {\n                            window._attachTagsListeners(contentArea);\n                        }\n                    } else {\n                        contentArea.innerHTML = '<div class=\"gl-filter-panel__error\">Erreur: fonction de construction introuvable</div>';\n                    }\n\n                    // Marquer l'accord√©on comme ouvert\n                    LazyLoader.markAccordionOpen('tags', accordionGroup);\n                }\n\n                // Marquer comme charg√©\n                accordionGroup.dataset.lazyLoaded = \"true\";\n\n            } catch (err) {\n                Log.error(\"[FilterPanel] Erreur durant le chargement lazy:\", err);\n                while (contentArea.firstChild) contentArea.removeChild(contentArea.firstChild);\n                const errDiv = document.createElement('div');\n                errDiv.className = 'gl-filter-panel__error';\n                errDiv.textContent = 'Erreur: ' + err.message;\n                contentArea.appendChild(errDiv);\n            }\n        }, 10); // 10ms delay pour laisser l'accord√©on s'ouvrir\n    };\n\n})(window);\n","/**\r\n * GeoLeaf UI Filter Panel - Proximity\r\n * Gestion des filtres de proximit√© (GPS, manuel, cercle)\r\n *\r\n * @module ui/filter-panel/proximity\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n\r\n    // D√©pendances lazy\r\n    const getLog = () => (GeoLeaf.Log || console);\r\n\r\n    GeoLeaf._UIFilterPanelProximity = GeoLeaf._UIFilterPanelProximity || {};\r\n    GeoLeaf._UIFilterPanelProximity._eventCleanups = [];\r\n\r\n    /**\r\n     * Initialise la fonctionnalit√© de proximit√©\r\n     * @param {L.Map} map - Instance de carte Leaflet\r\n     */\r\n    GeoLeaf._UIFilterPanelProximity.initProximityFilter = function(map) {\r\n        const Log = getLog();\r\n\r\n        if (!map) {\r\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Carte non disponible pour le filtre de proximit√©\");\r\n            return;\r\n        }\r\n\r\n        // Stocker sur GeoLeaf.UI pour acc√®s global\r\n        GeoLeaf.UI._proximityMode = false;\r\n        GeoLeaf.UI._proximityCircle = null;\r\n        GeoLeaf.UI._proximityMarker = null;\r\n        GeoLeaf.UI._proximityMap = map;\r\n        GeoLeaf.UI._proximityClickHandler = null;\r\n\r\n        // √âcouter les changements sur le slider de rayon - avec cleanup tracking\r\n        const events = GeoLeaf.Utils?.events;\r\n        if (events) {\r\n            const inputHandler = function(evt) {\r\n                const slider = evt.target.closest(\"[data-filter-proximity-radius]\");\r\n                if (!slider) return;\r\n\r\n                const proximityControl = slider.closest(\".gl-filter-panel__proximity\");\r\n                if (!proximityControl) return;\r\n\r\n                const wrapper = proximityControl.closest(\"[data-gl-filter-id='proximity']\");\r\n                if (!wrapper) return;\r\n\r\n                const newRadius = parseFloat(slider.value);\r\n\r\n                // Mettre √† jour l'attribut sur le wrapper\r\n                wrapper.setAttribute(\"data-proximity-radius\", newRadius);\r\n\r\n                // Si un cercle existe, le mettre √† jour visuellement\r\n                if (GeoLeaf.UI._proximityCircle) {\r\n                    const radiusMeters = newRadius * 1000;\r\n                    GeoLeaf.UI._proximityCircle.setRadius(radiusMeters);\r\n                }\r\n            };\r\n\r\n            const clickHandler = function(evt) {\r\n                const btn = evt.target.closest(\"[data-filter-proximity-btn]\");\r\n                if (!btn) return;\r\n\r\n                evt.preventDefault();\r\n                GeoLeaf._UIFilterPanelProximity.toggleProximityMode(btn, map);\r\n            };\r\n\r\n            GeoLeaf._UIFilterPanelProximity._eventCleanups.push(\r\n                events.on(\r\n                    document,\r\n                    \"input\",\r\n                    inputHandler,\r\n                    false,\r\n                    'ProximityFilter.radiusInput'\r\n                )\r\n            );\r\n            GeoLeaf._UIFilterPanelProximity._eventCleanups.push(\r\n                events.on(\r\n                    document,\r\n                    \"click\",\r\n                    clickHandler,\r\n                    false,\r\n                    'ProximityFilter.buttonClick'\r\n                )\r\n            );\r\n        } else {\r\n            // Fallback sans cleanup\r\n            Log.warn('[ProximityFilter] EventListenerManager not available - listeners will not be cleaned up');\r\n            document.addEventListener(\"input\", function(evt) {\r\n                const slider = evt.target.closest(\"[data-filter-proximity-radius]\");\r\n                if (!slider) return;\r\n                const proximityControl = slider.closest(\".gl-filter-panel__proximity\");\r\n                if (!proximityControl) return;\r\n                const wrapper = proximityControl.closest(\"[data-gl-filter-id='proximity']\");\r\n                if (!wrapper) return;\r\n                const newRadius = parseFloat(slider.value);\r\n                wrapper.setAttribute(\"data-proximity-radius\", newRadius);\r\n                if (GeoLeaf.UI._proximityCircle) {\r\n                    const radiusMeters = newRadius * 1000;\r\n                    GeoLeaf.UI._proximityCircle.setRadius(radiusMeters);\r\n                }\r\n            });\r\n            document.addEventListener(\"click\", function(evt) {\r\n                const btn = evt.target.closest(\"[data-filter-proximity-btn]\");\r\n                if (!btn) return;\r\n                evt.preventDefault();\r\n                GeoLeaf._UIFilterPanelProximity.toggleProximityMode(btn, map);\r\n            });\r\n        }\r\n\r\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Filtre de proximit√© initialis√©\");\r\n    };\r\n\r\n    /**\r\n     * Cleanup du filtre de proximit√©\r\n     */\r\n    GeoLeaf._UIFilterPanelProximity.destroy = function() {\r\n        const Log = getLog();\r\n\r\n        // Cleanup event listeners\r\n        if (GeoLeaf._UIFilterPanelProximity._eventCleanups && GeoLeaf._UIFilterPanelProximity._eventCleanups.length > 0) {\r\n            GeoLeaf._UIFilterPanelProximity._eventCleanups.forEach(cleanup => {\r\n                if (typeof cleanup === 'function') cleanup();\r\n            });\r\n            GeoLeaf._UIFilterPanelProximity._eventCleanups = [];\r\n            Log.info('[ProximityFilter] Event listeners cleaned up');\r\n        }\r\n\r\n        // Cleanup map references\r\n        if (GeoLeaf.UI._proximityCircle) {\r\n            GeoLeaf.UI._proximityMap.removeLayer(GeoLeaf.UI._proximityCircle);\r\n            GeoLeaf.UI._proximityCircle = null;\r\n        }\r\n        if (GeoLeaf.UI._proximityMarker) {\r\n            GeoLeaf.UI._proximityMap.removeLayer(GeoLeaf.UI._proximityMarker);\r\n            GeoLeaf.UI._proximityMarker = null;\r\n        }\r\n\r\n        GeoLeaf.UI._proximityMap = null;\r\n        GeoLeaf.UI._proximityMode = false;\r\n    };\r\n\r\n    /**\r\n     * Bascule le mode de proximit√©\r\n     * @param {HTMLElement} btn - Bouton de proximit√©\r\n     * @param {L.Map} map - Instance de carte\r\n     */\r\n    GeoLeaf._UIFilterPanelProximity.toggleProximityMode = function(btn, map) {\r\n        const Log = getLog();\r\n\r\n        GeoLeaf.UI._proximityMode = !GeoLeaf.UI._proximityMode;\r\n\r\n        const container = btn.closest(\".gl-filter-panel__proximity\");\r\n        const rangeWrapper = container.querySelector(\".gl-filter-panel__proximity-range\");\r\n        const instruction = container.querySelector(\".gl-filter-panel__proximity-instruction\");\r\n\r\n        if (GeoLeaf.UI._proximityMode) {\r\n            btn.textContent = \"D√©sactiver\";\r\n            btn.classList.add(\"is-active\");\r\n            if (rangeWrapper) rangeWrapper.style.display = \"block\";\r\n            if (instruction) instruction.style.display = \"block\";\r\n\r\n            // V√©rifier si la position GPS est disponible et r√©cente (< 5 minutes)\r\n            const hasRecentGPS = GeoLeaf.UI._userPosition &&\r\n                                (Date.now() - GeoLeaf.UI._userPosition.timestamp < 300000);\r\n\r\n            if (hasRecentGPS) {\r\n                GeoLeaf._UIFilterPanelProximity.activateGPSMode(container, map);\r\n            } else {\r\n                GeoLeaf._UIFilterPanelProximity.activateManualMode(container, map);\r\n            }\r\n\r\n        } else {\r\n            // D√©sactiver le mode proximit√©\r\n            GeoLeaf._UIFilterPanelProximity.deactivateProximityMode(btn, container, map);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Active le mode GPS automatique\r\n     * @param {HTMLElement} container - Container de proximit√©\r\n     * @param {L.Map} map - Instance de carte\r\n     */\r\n    GeoLeaf._UIFilterPanelProximity.activateGPSMode = function(container, map) {\r\n        const Log = getLog();\r\n\r\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Utilisation de la position GPS pour la recherche par proximit√©\");\r\n\r\n        const radiusInput = container.querySelector(\"[data-filter-proximity-radius]\");\r\n        const radius = radiusInput ? parseFloat(radiusInput.value) : 10;\r\n        const radiusMeters = radius * 1000;\r\n\r\n        const wrapper = container.closest(\"[data-gl-filter-id='proximity']\");\r\n        if (!wrapper) {\r\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Wrapper proximity non trouv√©\");\r\n            return;\r\n        }\r\n\r\n        // Supprimer les √©l√©ments existants\r\n        if (GeoLeaf.UI._proximityCircle) {\r\n            map.removeLayer(GeoLeaf.UI._proximityCircle);\r\n        }\r\n        if (GeoLeaf.UI._proximityMarker) {\r\n            map.removeLayer(GeoLeaf.UI._proximityMarker);\r\n        }\r\n\r\n        // Cr√©er le cercle √† la position GPS\r\n        const gpsLatLng = global.L.latLng(GeoLeaf.UI._userPosition.lat, GeoLeaf.UI._userPosition.lng);\r\n\r\n        const interactiveShapes = GeoLeaf.Config.get('ui.interactiveShapes', false);\r\n        GeoLeaf.UI._proximityCircle = global.L.circle(gpsLatLng, {\r\n            radius: radiusMeters,\r\n            color: \"#c2410c\",\r\n            fillColor: \"#c2410c\",\r\n            fillOpacity: 0.2,\r\n            weight: 2,\r\n            interactive: interactiveShapes\r\n        }).addTo(map);\r\n\r\n        // Ne pas cr√©er de marqueur suppl√©mentaire si la g√©olocalisation est active\r\n        if (!GeoLeaf.UI._geolocationActive) {\r\n            // Mode GPS mais g√©olocalisation pas en tracking continu : cr√©er un marqueur draggable\r\n            GeoLeaf.UI._proximityMarker = global.L.marker(gpsLatLng, {\r\n                draggable: true,\r\n                icon: global.L.divIcon({\r\n                    className: 'gl-proximity-gps-marker',\r\n                    html: '<div style=\"width: 20px; height: 20px; background: #2563eb; border: 3px solid white; border-radius: 50%; box-shadow: 0 2px 4px rgba(0,0,0,0.3);\"></div>',\r\n                    iconSize: [20, 20],\r\n                    iconAnchor: [10, 10]\r\n                })\r\n            }).addTo(map);\r\n\r\n            // G√©rer le d√©placement du marqueur\r\n            GeoLeaf.UI._proximityMarker.on('dragend', function() {\r\n                const newLatLng = GeoLeaf.UI._proximityMarker.getLatLng();\r\n                if (GeoLeaf.UI._proximityCircle) {\r\n                    GeoLeaf.UI._proximityCircle.setLatLng(newLatLng);\r\n                }\r\n                wrapper.setAttribute(\"data-proximity-lat\", newLatLng.lat);\r\n                wrapper.setAttribute(\"data-proximity-lng\", newLatLng.lng);\r\n                Log.info(\"[GeoLeaf.UI.FilterPanel] Point de proximit√© GPS d√©plac√©:\", {\r\n                    lat: newLatLng.lat,\r\n                    lng: newLatLng.lng,\r\n                    radius: radius\r\n                });\r\n            });\r\n        } else {\r\n            GeoLeaf.UI._proximityMarker = null;\r\n            Log.info(\"[GeoLeaf.UI.FilterPanel] Cercle de proximit√© affich√© autour du marqueur GPS\");\r\n        }\r\n\r\n        // D√©finir les attributs sur le wrapper\r\n        wrapper.setAttribute(\"data-proximity-lat\", gpsLatLng.lat);\r\n        wrapper.setAttribute(\"data-proximity-lng\", gpsLatLng.lng);\r\n        wrapper.setAttribute(\"data-proximity-radius\", radius);\r\n        wrapper.setAttribute(\"data-proximity-active\", \"true\");\r\n\r\n        // Centrer la carte sur la position GPS\r\n        map.setView(gpsLatLng, Math.max(map.getZoom(), 14), {\r\n            animate: true,\r\n            duration: 0.5\r\n        });\r\n\r\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Point de proximit√© GPS d√©fini:\", {\r\n            lat: gpsLatLng.lat,\r\n            lng: gpsLatLng.lng,\r\n            radius: radius\r\n        });\r\n\r\n        // Pas de handler de clic n√©cessaire en mode GPS\r\n        GeoLeaf.UI._proximityClickHandler = null;\r\n    };\r\n\r\n    /**\r\n     * Active le mode manuel (clic sur la carte)\r\n     * @param {HTMLElement} container - Container de proximit√©\r\n     * @param {L.Map} map - Instance de carte\r\n     */\r\n    GeoLeaf._UIFilterPanelProximity.activateManualMode = function(container, map) {\r\n        const Log = getLog();\r\n\r\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Mode manuel : cliquez sur la carte pour d√©finir le point de recherche\");\r\n\r\n        map.getContainer().style.cursor = \"crosshair\";\r\n\r\n        // Cr√©er le handler pour pouvoir le retirer plus tard\r\n        GeoLeaf.UI._proximityClickHandler = function(e) {\r\n            const radiusInput = container.querySelector(\"[data-filter-proximity-radius]\");\r\n            const radius = radiusInput ? parseFloat(radiusInput.value) : 10;\r\n            const radiusMeters = radius * 1000;\r\n\r\n            const wrapper = container.closest(\"[data-gl-filter-id='proximity']\");\r\n            if (!wrapper) {\r\n                Log.warn(\"[GeoLeaf.UI.FilterPanel] Wrapper proximity non trouv√©\");\r\n                return;\r\n            }\r\n\r\n            if (GeoLeaf.UI._proximityCircle) {\r\n                map.removeLayer(GeoLeaf.UI._proximityCircle);\r\n            }\r\n            if (GeoLeaf.UI._proximityMarker) {\r\n                map.removeLayer(GeoLeaf.UI._proximityMarker);\r\n            }\r\n\r\n            const interactiveShapes = GeoLeaf.Config.get('ui.interactiveShapes', false);\r\n            GeoLeaf.UI._proximityCircle = global.L.circle(e.latlng, {\r\n                radius: radiusMeters,\r\n                color: \"#c2410c\",\r\n                fillColor: \"#c2410c\",\r\n                fillOpacity: 0.2,\r\n                weight: 2,\r\n                interactive: interactiveShapes\r\n            }).addTo(map);\r\n\r\n            GeoLeaf.UI._proximityMarker = global.L.marker(e.latlng, {\r\n                draggable: true\r\n            }).addTo(map);\r\n\r\n            // G√©rer le d√©placement du marqueur\r\n            GeoLeaf.UI._proximityMarker.on('dragend', function() {\r\n                const newLatLng = GeoLeaf.UI._proximityMarker.getLatLng();\r\n\r\n                if (GeoLeaf.UI._proximityCircle) {\r\n                    GeoLeaf.UI._proximityCircle.setLatLng(newLatLng);\r\n                }\r\n\r\n                wrapper.setAttribute(\"data-proximity-lat\", newLatLng.lat);\r\n                wrapper.setAttribute(\"data-proximity-lng\", newLatLng.lng);\r\n\r\n                Log.info(\"[GeoLeaf.UI.FilterPanel] Point de proximit√© d√©plac√©:\", {\r\n                    lat: newLatLng.lat,\r\n                    lng: newLatLng.lng,\r\n                    radius: radius\r\n                });\r\n            });\r\n\r\n            // D√©finir les attributs sur le wrapper\r\n            wrapper.setAttribute(\"data-proximity-lat\", e.latlng.lat);\r\n            wrapper.setAttribute(\"data-proximity-lng\", e.latlng.lng);\r\n            wrapper.setAttribute(\"data-proximity-radius\", radius);\r\n            wrapper.setAttribute(\"data-proximity-active\", \"true\");\r\n\r\n            map.getContainer().style.cursor = \"\";\r\n\r\n            Log.info(\"[GeoLeaf.UI.FilterPanel] Point de proximit√© d√©fini:\", {\r\n                lat: e.latlng.lat,\r\n                lng: e.latlng.lng,\r\n                radius: radius\r\n            });\r\n\r\n            // Nettoyer le handler apr√®s le premier clic\r\n            map.off('click', GeoLeaf.UI._proximityClickHandler);\r\n            GeoLeaf.UI._proximityClickHandler = null;\r\n        };\r\n\r\n        // Attacher le handler √† la carte\r\n        map.on('click', GeoLeaf.UI._proximityClickHandler);\r\n    };\r\n\r\n    /**\r\n     * D√©sactive le mode de proximit√©\r\n     * @param {HTMLElement} btn - Bouton de proximit√©\r\n     * @param {HTMLElement} container - Container de proximit√©\r\n     * @param {L.Map} map - Instance de carte\r\n     */\r\n    GeoLeaf._UIFilterPanelProximity.deactivateProximityMode = function(btn, container, map) {\r\n        const Log = getLog();\r\n\r\n        btn.textContent = \"Activer\";\r\n        btn.classList.remove(\"is-active\");\r\n\r\n        const rangeWrapper = container.querySelector(\".gl-filter-panel__proximity-range\");\r\n        const instruction = container.querySelector(\".gl-filter-panel__proximity-instruction\");\r\n\r\n        if (rangeWrapper) rangeWrapper.style.display = \"none\";\r\n        if (instruction) instruction.style.display = \"none\";\r\n\r\n        map.getContainer().style.cursor = \"\";\r\n\r\n        // Retirer le handler de clic\r\n        if (GeoLeaf.UI._proximityClickHandler) {\r\n            map.off('click', GeoLeaf.UI._proximityClickHandler);\r\n            GeoLeaf.UI._proximityClickHandler = null;\r\n        }\r\n\r\n        // Retirer le cercle et le marqueur\r\n        if (GeoLeaf.UI._proximityCircle) {\r\n            map.removeLayer(GeoLeaf.UI._proximityCircle);\r\n            GeoLeaf.UI._proximityCircle = null;\r\n        }\r\n        if (GeoLeaf.UI._proximityMarker) {\r\n            map.removeLayer(GeoLeaf.UI._proximityMarker);\r\n            GeoLeaf.UI._proximityMarker = null;\r\n        }\r\n\r\n        // Retirer les attributs du wrapper\r\n        const wrapper = container.closest(\"[data-gl-filter-id='proximity']\");\r\n        if (wrapper) {\r\n            wrapper.removeAttribute(\"data-proximity-active\");\r\n            wrapper.removeAttribute(\"data-proximity-lat\");\r\n            wrapper.removeAttribute(\"data-proximity-lng\");\r\n        }\r\n\r\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Mode proximit√© d√©sactiv√©\");\r\n    };\r\n\r\n})(window);\r\n","/**\n * GeoLeaf UI Filter Panel - Core\n * API publique et d√©l√©gation vers les sous-modules\n *\n * @module ui/filter-panel/core\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // D√©pendances lazy\n    const getLog = () => (GeoLeaf.Log || console);\n    const getShared = () => GeoLeaf._UIFilterPanelShared;\n    const getStateReader = () => GeoLeaf._UIFilterPanelStateReader;\n    const getApplier = () => GeoLeaf._UIFilterPanelApplier;\n    const getRenderer = () => GeoLeaf._UIFilterPanelRenderer;\n    const getProximity = () => GeoLeaf._UIFilterPanelProximity;\n\n    // Cr√©er le namespace si n√©cessaire\n    GeoLeaf._UIFilterPanel = GeoLeaf._UIFilterPanel || {};\n\n    // ========================================\n    //   API PUBLIQUE - D√©l√©gation vers sous-modules\n    // ========================================\n\n    /**\n     * Construit le panneau de filtres depuis la configuration du profil actif\n     * @param {Object} options - Options\n     */\n    GeoLeaf._UIFilterPanel.buildFilterPanelFromActiveProfile = function(options) {\n        const Renderer = getRenderer();\n        if (Renderer && Renderer.buildFilterPanelFromActiveProfile) {\n            return Renderer.buildFilterPanelFromActiveProfile(options);\n        }\n        getLog().error(\"[GeoLeaf.UI.FilterPanel] Module Renderer non charg√©\");\n    };\n\n    /**\n     * Bascule la visibilit√© du panneau de filtres\n     * @param {boolean} [forceState]\n     */\n    GeoLeaf._UIFilterPanel.toggleFilterPanelVisibility = function(forceState) {\n        const Renderer = getRenderer();\n        if (Renderer && Renderer.toggleFilterPanelVisibility) {\n            return Renderer.toggleFilterPanelVisibility(forceState);\n        }\n    };\n\n    /**\n     * Initialise le bouton toggle du panneau de filtres\n     */\n    GeoLeaf._UIFilterPanel.initFilterToggle = function() {\n        const Renderer = getRenderer();\n        if (Renderer && Renderer.initFilterToggle) {\n            return Renderer.initFilterToggle();\n        }\n    };\n\n    /**\n     * Rafra√Æchit les badges de tags\n     */\n    GeoLeaf._UIFilterPanel.refreshFilterTags = function() {\n        const Renderer = getRenderer();\n        if (Renderer && Renderer.refreshFilterTags) {\n            return Renderer.refreshFilterTags();\n        }\n    };\n\n    /**\n     * Applique les filtres initiaux\n     */\n    GeoLeaf._UIFilterPanel.applyFiltersInitial = function() {\n        const Applier = getApplier();\n        if (Applier && Applier.applyFiltersInitial) {\n            return Applier.applyFiltersInitial();\n        }\n    };\n\n    /**\n     * Initialise le filtre de proximit√©\n     * @param {L.Map} map\n     */\n    GeoLeaf._UIFilterPanel.initProximityFilter = function(map) {\n        const Proximity = getProximity();\n        if (Proximity && Proximity.initProximityFilter) {\n            return Proximity.initProximityFilter(map);\n        }\n    };\n\n    /**\n     * Retourne l'√©l√©ment DOM du panneau de filtres\n     * @returns {HTMLElement|null}\n     */\n    GeoLeaf._UIFilterPanel._getFilterPanelElement = function() {\n        const Shared = getShared();\n        if (Shared && Shared.getFilterPanelElement) {\n            return Shared.getFilterPanelElement();\n        }\n        return null;\n    };\n\n    /**\n     * R√©cup√®re les POI de base\n     * @returns {Array}\n     */\n    GeoLeaf._UIFilterPanel._getBasePois = function() {\n        const Shared = getShared();\n        if (Shared && Shared.getBasePois) {\n            return Shared.getBasePois();\n        }\n        return [];\n    };\n\n    /**\n     * R√©cup√®re les routes de base\n     * @returns {Array}\n     */\n    GeoLeaf._UIFilterPanel._getBaseRoutes = function() {\n        const Shared = getShared();\n        if (Shared && Shared.getBaseRoutes) {\n            return Shared.getBaseRoutes();\n        }\n        return [];\n    };\n\n    /**\n     * Lit l'√©tat des filtres depuis le panneau\n     * @param {HTMLElement} panelEl\n     * @returns {Object}\n     */\n    GeoLeaf._UIFilterPanel._readFiltersFromPanel = function(panelEl) {\n        const StateReader = getStateReader();\n        if (StateReader && StateReader.readFiltersFromPanel) {\n            return StateReader.readFiltersFromPanel(panelEl);\n        }\n        return {};\n    };\n\n    /**\n     * Filtre une liste de POI\n     * @param {Array} basePois\n     * @param {Object} filterState\n     * @returns {Array}\n     */\n    GeoLeaf._UIFilterPanel._filterPoiList = function(basePois, filterState) {\n        const Applier = getApplier();\n        if (Applier && Applier.filterPoiList) {\n            return Applier.filterPoiList(basePois, filterState);\n        }\n        return basePois || [];\n    };\n\n    /**\n     * Filtre une liste de routes\n     * @param {Array} baseRoutes\n     * @param {Object} filterState\n     * @returns {Array}\n     */\n    GeoLeaf._UIFilterPanel._filterRouteList = function(baseRoutes, filterState) {\n        const Applier = getApplier();\n        if (Applier && Applier.filterRouteList) {\n            return Applier.filterRouteList(baseRoutes, filterState);\n        }\n        return baseRoutes || [];\n    };\n\n    /**\n     * Rafra√Æchit la couche POI\n     * @param {Array} filteredPois\n     */\n    GeoLeaf._UIFilterPanel._refreshPoiLayer = function(filteredPois) {\n        const Applier = getApplier();\n        if (Applier && Applier.refreshPoiLayer) {\n            return Applier.refreshPoiLayer(filteredPois);\n        }\n    };\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf UI Module - Filter Panel (Aggregator)\n *\n * Ce fichier est un agr√©gateur pour la r√©trocompatibilit√©.\n * La logique a √©t√© d√©plac√©e dans les sous-modules :\n * - filter-panel/shared.js       : Helpers de donn√©es partag√©s\n * - filter-panel/state-reader.js : Lecture de l'√©tat des filtres\n * - filter-panel/applier.js      : Application des filtres\n * - filter-panel/renderer.js     : Construction du panneau HTML\n * - filter-panel/proximity.js    : Gestion des filtres de proximit√©\n * - filter-panel/core.js         : API publique et d√©l√©gation\n *\n * @module ui/filter-panel\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // V√©rifier que les sous-modules sont charg√©s\n    const requiredModules = [\n        '_UIFilterPanelShared',\n        '_UIFilterPanelStateReader',\n        '_UIFilterPanelApplier',\n        '_UIFilterPanelRenderer',\n        '_UIFilterPanelProximity',\n        '_UIFilterPanel'\n    ];\n\n    const missingModules = requiredModules.filter(m => !GeoLeaf[m]);\n\n    if (missingModules.length > 0) {\n        const Log = GeoLeaf.Log || console;\n        Log.error(\"[GeoLeaf.UI.FilterPanel] Sous-modules manquants:\", missingModules.join(', '));\n        Log.error(\"[GeoLeaf.UI.FilterPanel] Assurez-vous de charger les modules filter-panel/*.js avant filter-panel.js\");\n    }\n\n    // L'API publique est expos√©e via GeoLeaf._UIFilterPanel (dans core.js)\n    // Ce fichier sert uniquement de point de validation\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf UI Module - Main Orchestrator (Sprint 4.4 Refactored)\n * Orchestrateur principal pour l'interface utilisateur avec d√©l√©gation compl√®te vers sous-modules\n *\n * @module geoleaf.ui\n * @author Assistant\n * @version 4.4.0 - Modular Architecture\n *\n * RESPONSABILIT√âS:\n * ‚úÖ Exposition de l'API publique unifi√©e\n * ‚úÖ D√©l√©gation vers sous-modules sp√©cialis√©s\n * ‚úÖ Initialisation et coordination des composants\n * ‚úÖ Compatibility layer pour le code legacy\n *\n * MODULES D√âL√âGU√âS:\n * - Theme Management    ‚Üí _UITheme (ui/theme.js)\n * - Controls            ‚Üí _UIControls (ui/controls.js)\n * - Panel Builder       ‚Üí _UIPanelBuilder (ui/panel-builder.js)\n * - Filter Panel        ‚Üí _UIFilterPanel (ui/filter-panel.js)\n * - Notifications       ‚Üí _UINotifications (ui/notifications.js)\n * - Event Delegation    ‚Üí _UIEventDelegation (ui/event-delegation.js)\n * - Filter State Mgmt   ‚Üí _UIFilterStateManager (ui/filter-state-manager.js)\n */\n(function (window) {\n    \"use strict\";\n\n    // ========================================\n    //   NAMESPACE & DEPENDENCIES\n    // ========================================\n\n    const GeoLeaf = window.GeoLeaf || (window.GeoLeaf = {});\n    const Log = GeoLeaf.Log;\n\n    GeoLeaf.UI = GeoLeaf.UI || {};\n\n    // Helper pour createElement unifi√©\n    const $create = (tag, props, ...children) => {\n        if (GeoLeaf.Utils && GeoLeaf.Utils.createElement) {\n            return GeoLeaf.Utils.createElement(tag, props, ...children);\n        }\n        // Fallback to native if DomHelpers not loaded yet\n        const el = document.createElement(tag);\n        if (props) {\n            if (props.className) el.className = props.className;\n            if (props.textContent) el.textContent = props.textContent;\n        }\n        return el;\n    };\n\n    // ========================================\n    //   MODULE AVAILABILITY CHECKS\n    // ========================================\n\n    /**\n     * V√©rifie la disponibilit√© des modules requis\n     * @returns {Object} Status de disponibilit√© des modules\n     */\n    function checkModuleAvailability() {\n        const modules = {\n            theme: !!GeoLeaf._UITheme,\n            controls: !!GeoLeaf._UIControls,\n            panelBuilder: !!(GeoLeaf._UIPanelBuilder || GeoLeaf.UI.PanelBuilder),\n            filterPanel: !!GeoLeaf._UIFilterPanel,\n            notifications: !!GeoLeaf._UINotifications,\n            eventDelegation: !!GeoLeaf._UIEventDelegation,\n            filterStateManager: !!GeoLeaf._UIFilterStateManager\n        };\n\n        const missing = Object.entries(modules)\n            .filter(([name, available]) => !available)\n            .map(([name]) => name);\n\n        if (missing.length > 0 && Log) {\n            Log.warn(\"[UI.Orchestrator] Modules manquants:\", missing.join(', '));\n        }\n\n        return { modules, missing, allAvailable: missing.length === 0 };\n    }\n\n    // ========================================\n    //   API DELEGATION - THEME MANAGEMENT\n    // ========================================\n\n    if (GeoLeaf._UITheme) {\n        // D√©l√©gation directe des fonctions th√®me\n        GeoLeaf.UI.initThemeToggle = GeoLeaf._UITheme.initThemeToggle;\n        GeoLeaf.UI.toggleTheme = GeoLeaf._UITheme.toggleTheme;\n        GeoLeaf.UI.applyTheme = GeoLeaf._UITheme.applyTheme;\n        GeoLeaf.UI.getCurrentTheme = GeoLeaf._UITheme.getCurrentTheme;\n\n        // Compatibility aliases\n        GeoLeaf.UI.setTheme = GeoLeaf._UITheme.applyTheme;\n    }\n\n    // ========================================\n    //   API DELEGATION - CONTROLS\n    // ========================================\n\n    if (GeoLeaf._UIControls) {\n        // D√©l√©gation des contr√¥les Leaflet\n        GeoLeaf.UI.initFullscreenControl = GeoLeaf._UIControls.initFullscreenControl;\n        GeoLeaf.UI.initGeolocationControl = GeoLeaf._UIControls.initGeolocationControl;\n        GeoLeaf.UI.initPoiAddControl = GeoLeaf._UIControls.initPoiAddControl;\n        GeoLeaf.UI.initScaleControl = GeoLeaf._UIControls.initScaleControl;\n\n        // √âtat g√©olocalisation (maintenu pour compatibilit√©)\n        GeoLeaf.UI._userPosition = null;\n        GeoLeaf.UI._geolocationActive = false;\n        GeoLeaf.UI._geolocationWatchId = null;\n    }\n\n    // ========================================\n    //   API DELEGATION - PANEL BUILDER\n    // ========================================\n\n    if (GeoLeaf._UIPanelBuilder || GeoLeaf.UI.PanelBuilder) {\n        // D√©l√©gation vers panel builder\n        GeoLeaf.UI.buildSidePanel = (GeoLeaf._UIPanelBuilder && GeoLeaf._UIPanelBuilder.buildSidePanel) ||\n                                   (GeoLeaf.UI.PanelBuilder && GeoLeaf.UI.PanelBuilder.buildSidePanel);\n        GeoLeaf.UI.renderPoiSidePanel = (GeoLeaf._UIPanelBuilder && GeoLeaf._UIPanelBuilder.renderPoiSidePanel) ||\n                                       (GeoLeaf.UI.PanelBuilder && GeoLeaf.UI.PanelBuilder.renderPoiSidePanel);\n\n        // Legacy compatibility pour POI panels\n        GeoLeaf.UI.renderPoiPanelWithLayout = function(poi, layout, container) {\n            if (GeoLeaf.UI.renderPoiSidePanel) {\n                return GeoLeaf.UI.renderPoiSidePanel(poi, layout, container);\n            }\n            if (Log) Log.warn(\"[UI.Orchestrator] renderPoiPanelWithLayout: PanelBuilder non disponible\");\n        };\n\n        // Helper functions (deprecated, pour compatibilit√©)\n        GeoLeaf.UI._resolveField = function(poi, fieldPath) {\n            if (GeoLeaf._UIDomUtils && GeoLeaf._UIDomUtils.resolveField) {\n                return GeoLeaf._UIDomUtils.resolveField(poi, fieldPath);\n            }\n            return null;\n        };\n\n        GeoLeaf.UI._createPlainSection = function(label, innerContent, extraClass) {\n            if (GeoLeaf.UI.PanelBuilder && GeoLeaf.UI.PanelBuilder.createPlainSection) {\n                return GeoLeaf.UI.PanelBuilder.createPlainSection(label, innerContent, extraClass);\n            }\n            return $create(\"section\", { className: \"gl-poi-panel__section \" + (extraClass || \"\") });\n        };\n\n        GeoLeaf.UI._createAccordionSection = function(label, innerContent, options) {\n            if (GeoLeaf.UI.PanelBuilder && GeoLeaf.UI.PanelBuilder.createAccordionSection) {\n                return GeoLeaf.UI.PanelBuilder.createAccordionSection(label, innerContent, options);\n            }\n            return $create(\"section\", { className: \"gl-poi-panel__section--accordion\" });\n        };\n    }\n\n    // ========================================\n    //   API DELEGATION - FILTER PANEL\n    // ========================================\n\n    if (GeoLeaf._UIFilterPanel) {\n        // D√©l√©gation des fonctions filtres\n        GeoLeaf.UI.buildFilterPanelFromActiveProfile = GeoLeaf._UIFilterPanel.buildFilterPanelFromActiveProfile;\n        GeoLeaf.UI.refreshFilterTags = GeoLeaf._UIFilterPanel.refreshFilterTags;\n        GeoLeaf.UI.initFilterToggle = GeoLeaf._UIFilterPanel.initFilterToggle;\n        GeoLeaf.UI.initProximityFilter = GeoLeaf._UIFilterPanel.initProximityFilter;\n        GeoLeaf.UI._getBasePois = GeoLeaf._UIFilterPanel.getBasePois;\n        GeoLeaf.UI._getBaseRoutes = GeoLeaf._UIFilterPanel.getBaseRoutes;\n\n        // Filter state integration si disponible\n        if (GeoLeaf._UIFilterStateManager) {\n            // Bridge entre filter panel et state manager\n            GeoLeaf.UI.resetAllFilters = function() {\n                GeoLeaf._UIFilterStateManager.resetAllFilters();\n                if (GeoLeaf._UIFilterPanel.refreshFilterTags) {\n                    GeoLeaf._UIFilterPanel.refreshFilterTags();\n                }\n            };\n\n            GeoLeaf.UI.getActiveFilters = GeoLeaf._UIFilterStateManager.getActiveFiltersSummary;\n            GeoLeaf.UI.hasActiveFilters = GeoLeaf._UIFilterStateManager.hasActiveFilters;\n        }\n    }\n\n    // ========================================\n    //   API DELEGATION - NOTIFICATIONS\n    // ========================================\n\n    if (GeoLeaf._UINotifications) {\n        // Cr√©er un namespace d√©di√© pour l'acc√®s complet\n        GeoLeaf.UI.Notifications = {\n            show: GeoLeaf._UINotifications.show.bind(GeoLeaf._UINotifications),\n            success: GeoLeaf._UINotifications.success.bind(GeoLeaf._UINotifications),\n            error: GeoLeaf._UINotifications.error.bind(GeoLeaf._UINotifications),\n            warning: GeoLeaf._UINotifications.warning.bind(GeoLeaf._UINotifications),\n            info: GeoLeaf._UINotifications.info.bind(GeoLeaf._UINotifications),\n            clearAll: GeoLeaf._UINotifications.clearAll.bind(GeoLeaf._UINotifications),\n            enable: GeoLeaf._UINotifications.enable.bind(GeoLeaf._UINotifications),\n            disable: GeoLeaf._UINotifications.disable.bind(GeoLeaf._UINotifications),\n            getStatus: GeoLeaf._UINotifications.getStatus.bind(GeoLeaf._UINotifications)\n        };\n\n        // Raccourcis globaux pour l'API publique (r√©trocompatibilit√©)\n        GeoLeaf.UI.showNotification = GeoLeaf._UINotifications.show.bind(GeoLeaf._UINotifications);\n        GeoLeaf.UI.showSuccess = GeoLeaf._UINotifications.success.bind(GeoLeaf._UINotifications);\n        GeoLeaf.UI.showError = GeoLeaf._UINotifications.error.bind(GeoLeaf._UINotifications);\n        GeoLeaf.UI.showWarning = GeoLeaf._UINotifications.warning.bind(GeoLeaf._UINotifications);\n        GeoLeaf.UI.showInfo = GeoLeaf._UINotifications.info.bind(GeoLeaf._UINotifications);\n        GeoLeaf.UI.clearNotifications = GeoLeaf._UINotifications.clearAll.bind(GeoLeaf._UINotifications);\n    }\n\n    // ========================================\n    //   EVENT DELEGATION INTEGRATION\n    // ========================================\n\n    let _delegationInitialized = false;\n\n    /**\n     * Initialise la d√©l√©gation d'√©v√©nements pour l'interface\n     * @param {Object} options - Options d'initialisation\n     */\n    function initializeEventDelegation(options = {}) {\n        if (_delegationInitialized || !GeoLeaf._UIEventDelegation) return;\n\n        const { mapContainer, filterContainer } = options;\n\n        // Event listeners pour les filtres si disponible\n        if (filterContainer && GeoLeaf._UIFilterStateManager) {\n            GeoLeaf._UIEventDelegation.attachFilterInputEvents(\n                filterContainer,\n                () => {\n                    // Callback de changement de filtre - d√©l√©guer vers FilterPanel\n                    if (GeoLeaf._UIFilterPanel && GeoLeaf._UIFilterPanel.refreshFilterTags) {\n                        GeoLeaf._UIFilterPanel.refreshFilterTags();\n                    }\n                }\n            );\n        }\n\n        // Event listeners pour les accord√©ons\n        document.addEventListener('DOMContentLoaded', () => {\n            const accordionContainers = document.querySelectorAll('.gl-poi-panel, .gl-filter-panel');\n            accordionContainers.forEach(container => {\n                GeoLeaf._UIEventDelegation.attachAccordionEvents(container);\n            });\n        });\n\n        _delegationInitialized = true;\n        if (Log) Log.info(\"[UI.Orchestrator] Event delegation initialis√©e\");\n    }\n\n    // ========================================\n    //   MAIN INITIALIZATION\n    // ========================================\n\n    /**\n     * Point d'entr√©e principal pour l'initialisation UI\n     * @param {Object} options - Options d'initialisation\n     * @param {HTMLElement} options.map - Instance carte Leaflet\n     * @param {HTMLElement} options.mapContainer - Conteneur DOM de la carte\n     * @param {HTMLElement} options.filterContainer - Conteneur des filtres\n     * @param {string} options.buttonSelector - S√©lecteur du bouton th√®me\n     * @param {boolean} options.autoInitOnDomReady - Auto-init au DOMContentLoaded\n     * @param {boolean} options.enableEventDelegation - Active la d√©l√©gation d'√©v√©nements (d√©faut: true)\n     */\n    GeoLeaf.UI.init = function(options = {}) {\n        const config = {\n            buttonSelector: options.buttonSelector || '[data-gl-role=\"theme-toggle\"]',\n            autoInitOnDomReady: !!options.autoInitOnDomReady,\n            enableEventDelegation: options.enableEventDelegation !== false\n        };\n\n        // V√©rification des modules\n        const { missing, allAvailable } = checkModuleAvailability();\n        if (!allAvailable && Log) {\n            Log.warn(\"[UI.Orchestrator] Initialisation avec modules manquants:\", missing);\n        }\n\n        // Initialisation du th√®me\n        if (GeoLeaf.UI.initThemeToggle) {\n            try {\n                GeoLeaf.UI.initThemeToggle(config);\n            } catch (error) {\n                if (Log) Log.error(\"[UI.Orchestrator] Erreur init th√®me:\", error);\n            }\n        }\n\n        // Initialisation des contr√¥les si carte disponible\n        if (options.map && options.mapContainer) {\n            // Fullscreen control\n            if (GeoLeaf.UI.initFullscreenControl) {\n                try {\n                    GeoLeaf.UI.initFullscreenControl(options.map, options.mapContainer);\n                } catch (error) {\n                    if (Log) Log.error(\"[UI.Orchestrator] Erreur fullscreen control:\", error);\n                }\n            }\n\n            // Geolocation control - forcer l'initialisation\n            if (GeoLeaf.UI.initGeolocationControl) {\n                try {\n                    GeoLeaf.UI.initGeolocationControl(options.map, options.config);\n                } catch (error) {\n                    if (Log) Log.error(\"[UI.Orchestrator] Erreur geolocation control:\", error);\n                }\n            }\n\n            // POI Add control - forcer l'initialisation\n            if (GeoLeaf.UI.initPoiAddControl) {\n                try {\n                    GeoLeaf.UI.initPoiAddControl(options.map, options.config);\n                } catch (error) {\n                    if (Log) Log.error(\"[UI.Orchestrator] Erreur POI add control:\", error);\n                }\n            }\n\n            // Scale control\n            if (GeoLeaf.UI.initScaleControl) {\n                try {\n                    GeoLeaf.UI.initScaleControl(options.map);\n                } catch (error) {\n                    if (Log) Log.error(\"[UI.Orchestrator] Erreur scale control:\", error);\n                }\n            }\n        }\n\n        // Initialisation de la d√©l√©gation d'√©v√©nements\n        if (config.enableEventDelegation) {\n            initializeEventDelegation({\n                mapContainer: options.mapContainer,\n                filterContainer: options.filterContainer\n            });\n        }\n\n        // Initialisation du filter state manager si profil disponible\n        if (GeoLeaf._UIFilterStateManager && GeoLeaf.Config) {\n            const activeProfile = GeoLeaf.Config.getActiveProfile?.() || null;\n            if (activeProfile && activeProfile.filters) {\n                try {\n                    GeoLeaf._UIFilterStateManager.initializeFromProfile(activeProfile);\n                } catch (error) {\n                    if (Log) Log.error(\"[UI.Orchestrator] Erreur init filter state:\", error);\n                }\n            }\n        }\n\n        if (Log) {\n            Log.info(`[UI.Orchestrator] Initialisation termin√©e (modules: ${Object.keys(checkModuleAvailability().modules).length})`);\n        }\n    };\n\n    // ========================================\n    //   UTILITY & DEBUG FUNCTIONS\n    // ========================================\n\n    /**\n     * Informations de debug sur l'√©tat des modules\n     * @returns {Object} Status d√©taill√© des modules\n     */\n    GeoLeaf.UI.getModuleStatus = function() {\n        return checkModuleAvailability();\n    };\n\n    /**\n     * Nettoyage g√©n√©ral des resources UI\n     */\n    GeoLeaf.UI.cleanup = function() {\n        // Nettoyage des event listeners\n        if (GeoLeaf._UIEventDelegation && GeoLeaf._UIEventDelegation.cleanupAllListeners) {\n            const cleaned = GeoLeaf._UIEventDelegation.cleanupAllListeners();\n            if (Log && cleaned > 0) {\n                Log.info(`[UI.Orchestrator] ${cleaned} event listeners nettoy√©s`);\n            }\n        }\n\n        // Reset flag d√©l√©gation\n        _delegationInitialized = false;\n\n        if (Log) Log.info(\"[UI.Orchestrator] Nettoyage termin√©\");\n    };\n\n    // ========================================\n    //   LEGACY COMPATIBILITY LAYER\n    // ========================================\n\n    // Fonctions legacy maintenues pour compatibilit√©\n    GeoLeaf.UI._attachAccordionBehavior = function(container) {\n        if (GeoLeaf._UIEventDelegation && GeoLeaf._UIEventDelegation.attachAccordionEvents) {\n            return GeoLeaf._UIEventDelegation.attachAccordionEvents(container);\n        }\n        if (Log) Log.warn(\"[UI.Orchestrator] _attachAccordionBehavior: EventDelegation module manquant\");\n    };\n\n    GeoLeaf.UI._getActiveProfileConfig = function() {\n        if (GeoLeaf._UIDomUtils && GeoLeaf._UIDomUtils.getActiveProfileConfig) {\n            return GeoLeaf._UIDomUtils.getActiveProfileConfig();\n        }\n        return GeoLeaf.Config?.getActiveProfile?.() || null;\n    };\n\n    // Version info\n    GeoLeaf.UI.VERSION = \"4.4.0\";\n    GeoLeaf.UI.BUILD = \"Sprint-4.4-Modular\";\n\n    if (Log) {\n        Log.info(`[UI.Orchestrator] Module initialis√© v${GeoLeaf.UI.VERSION}`);\n    }\n\n})(window);\n","/**\n * GeoLeaf Data Normalizer Module\n * Module central pour la normalisation des donn√©es provenant de diff√©rentes sources.\n * Convertit JSON, GeoJSON, GPX (future) et Routes vers un format POI unifi√©.\n *\n * @module data/normalizer\n * @version 1.0.0\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    GeoLeaf._Normalizer = GeoLeaf._Normalizer || {};\n\n    // ========================================\n    //   TYPES DE SOURCES\n    // ========================================\n\n    const SOURCE_TYPES = {\n        JSON: 'json',\n        GEOJSON: 'geojson',\n        GPX: 'gpx',\n        ROUTE: 'route'\n    };\n\n    // ========================================\n    //   UTILITAIRES\n    // ========================================\n\n    /**\n     * R√©cup√®re le Log\n     * @returns {Object}\n     */\n    function getLog() {\n        return GeoLeaf.Log || console;\n    }\n\n    /**\n     * G√©n√®re un ID unique\n     * @returns {string}\n     */\n    function generateUniqueId() {\n        return 'poi_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\n    }\n\n    /**\n     * D√©termine le type de g√©om√©trie √† partir des coordonn√©es Leaflet\n     * @param {Object} layer - Layer Leaflet\n     * @returns {string} 'Point', 'Polygon', 'LineString' ou 'Unknown'\n     */\n    function detectGeometryType(layer) {\n        if (!layer) return 'Unknown';\n\n        if (typeof layer.getLatLng === 'function') {\n            return 'Point';\n        }\n        if (typeof layer.getLatLngs === 'function') {\n            const latLngs = layer.getLatLngs();\n            // Polygon : tableau de tableaux de points (anneau ext√©rieur + trous √©ventuels)\n            // LineString : tableau de points\n            if (Array.isArray(latLngs) && latLngs.length > 0) {\n                if (Array.isArray(latLngs[0]) && Array.isArray(latLngs[0][0])) {\n                    return 'Polygon';\n                }\n                if (Array.isArray(latLngs[0])) {\n                    // Peut √™tre Polygon ou LineString selon si ferm√©\n                    return 'Polygon';\n                }\n                return 'LineString';\n            }\n        }\n        return 'Unknown';\n    }\n\n    /**\n     * Extrait les coordonn√©es d'un layer Leaflet\n     * @param {Object} layer - Layer Leaflet\n     * @returns {Array|null} Coordonn√©es [lat, lng] ou null\n     */\n    function extractCoordinates(layer) {\n        if (!layer) return null;\n\n        if (typeof layer.getLatLng === 'function') {\n            const ll = layer.getLatLng();\n            return ll ? [ll.lat, ll.lng] : null;\n        }\n\n        if (typeof layer.getCenter === 'function') {\n            const center = layer.getCenter();\n            return center ? [center.lat, center.lng] : null;\n        }\n\n        if (typeof layer.getBounds === 'function') {\n            try {\n                const bounds = layer.getBounds();\n                if (bounds && bounds.isValid()) {\n                    const center = bounds.getCenter();\n                    return center ? [center.lat, center.lng] : null;\n                }\n            } catch (e) {\n                // Bounds invalides\n            }\n        }\n\n        return null;\n    }\n\n    // ========================================\n    //   NORMALISEURS PAR TYPE DE SOURCE\n    // ========================================\n\n    /**\n     * Normalise une entr√©e JSON en POI\n     * @param {Object} data - Donn√©es JSON brutes\n     * @param {Object} layerConfig - Configuration du layer\n     * @returns {Object} POI normalis√©\n     */\n    function normalizeFromJSON(data, layerConfig = {}) {\n        if (!data) return null;\n\n        const id = data.id || data.uid || data.guid || generateUniqueId();\n        const dataMapping = layerConfig.dataMapping || {};\n\n        // Extraction du titre\n        const titleField = dataMapping.title || 'title';\n        const title = data[titleField] || data.title || data.name || data.label || data.nom || 'Sans titre';\n\n        // Extraction de la description\n        const descField = dataMapping.description || 'description';\n        const description = data[descField] || data.description || data.shortDescription || '';\n\n        // Extraction des coordonn√©es\n        const latField = dataMapping.lat || 'lat';\n        const lngField = dataMapping.lng || 'lng';\n        let lat = data[latField];\n        let lng = data[lngField];\n\n        // Fallbacks pour coordonn√©es\n        if (lat === undefined) lat = data.latitude || data.y;\n        if (lng === undefined) lng = data.longitude || data.lng || data.x;\n\n        // Extraction cat√©gorie/sous-cat√©gorie\n        const catField = dataMapping.categoryId || 'categoryId';\n        const subCatField = dataMapping.subCategoryId || 'subCategoryId';\n        const categoryId = data[catField] || data.categoryId || data.category || null;\n        const subCategoryId = data[subCatField] || data.subCategoryId || data.subcategory || null;\n\n        // Construction des attributs (toutes les propri√©t√©s)\n        const attributes = { ...data };\n\n        return {\n            id: String(id),\n            sourceType: SOURCE_TYPES.JSON,\n            geometryType: 'Point',\n            title: String(title),\n            description: String(description || ''),\n            lat: lat !== undefined ? parseFloat(lat) : null,\n            lng: lng !== undefined ? parseFloat(lng) : null,\n            categoryId: categoryId,\n            subCategoryId: subCategoryId,\n            attributes: attributes,\n            rawData: data\n        };\n    }\n\n    /**\n     * Normalise une feature GeoJSON en POI\n     * @param {Object} feature - Feature GeoJSON\n     * @param {Object} layerConfig - Configuration du layer\n     * @param {Object} layer - Layer Leaflet (optionnel, pour coordonn√©es)\n     * @returns {Object} POI normalis√©\n     */\n    function normalizeFromGeoJSON(feature, layerConfig = {}, layer = null) {\n        if (!feature) return null;\n\n        const props = feature.properties || {};\n        const geometry = feature.geometry || {};\n        const dataMapping = layerConfig.dataMapping || {};\n\n        // ID\n        const id = feature.id || props.id || props.uid || props.guid || generateUniqueId();\n\n        // Type de g√©om√©trie\n        let geometryType = geometry.type || 'Unknown';\n        if (layer && geometryType === 'Unknown') {\n            geometryType = detectGeometryType(layer);\n        }\n\n        // Extraction du titre\n        const titleField = dataMapping.title || 'title';\n        const titlePath = titleField.includes('.') ? titleField.split('.').pop() : titleField;\n        const title = props[titlePath] || props.name || props.nom || props.title || props.label || 'Sans titre';\n\n        // Extraction de la description\n        const descField = dataMapping.description || 'description';\n        const descPath = descField.includes('.') ? descField.split('.').pop() : descField;\n        const description = props[descPath] || props.description || props.shortDescription || '';\n\n        // Coordonn√©es\n        let lat = null, lng = null;\n        if (geometry.coordinates) {\n            if (geometryType === 'Point') {\n                // GeoJSON : [lng, lat]\n                lng = geometry.coordinates[0];\n                lat = geometry.coordinates[1];\n            } else if (layer) {\n                const coords = extractCoordinates(layer);\n                if (coords) {\n                    lat = coords[0];\n                    lng = coords[1];\n                }\n            } else if (geometry.coordinates.length > 0) {\n                // Calculer le centre approximatif\n                const flatCoords = flattenCoordinates(geometry.coordinates, geometry.type);\n                if (flatCoords.length > 0) {\n                    let sumLat = 0, sumLng = 0;\n                    flatCoords.forEach(c => {\n                        sumLng += c[0];\n                        sumLat += c[1];\n                    });\n                    lng = sumLng / flatCoords.length;\n                    lat = sumLat / flatCoords.length;\n                }\n            }\n        } else if (layer) {\n            const coords = extractCoordinates(layer);\n            if (coords) {\n                lat = coords[0];\n                lng = coords[1];\n            }\n        }\n\n        // Cat√©gorie/sous-cat√©gorie\n        const catField = dataMapping.categoryId || 'categoryId';\n        const catPath = catField.includes('.') ? catField.split('.').pop() : catField;\n        const subCatField = dataMapping.subCategoryId || 'subCategoryId';\n        const subCatPath = subCatField.includes('.') ? subCatField.split('.').pop() : subCatField;\n\n        const categoryId = props[catPath] || props.categoryId || props.category || null;\n        const subCategoryId = props[subCatPath] || props.subCategoryId || props.subcategory || null;\n\n        // Construction des attributs\n        const attributes = { ...props };\n\n        return {\n            id: String(id),\n            sourceType: SOURCE_TYPES.GEOJSON,\n            geometryType: geometryType,\n            title: String(title),\n            description: String(description || ''),\n            lat: lat !== null ? parseFloat(lat) : null,\n            lng: lng !== null ? parseFloat(lng) : null,\n            categoryId: categoryId,\n            subCategoryId: subCategoryId,\n            attributes: attributes,\n            properties: props, // Conserve aussi properties pour compatibilit√©\n            rawData: feature\n        };\n    }\n\n    /**\n     * Aplatit les coordonn√©es GeoJSON selon le type de g√©om√©trie\n     * @param {Array} coords - Coordonn√©es imbriqu√©es\n     * @param {string} type - Type de g√©om√©trie\n     * @returns {Array} Tableau de [lng, lat]\n     */\n    function flattenCoordinates(coords, type) {\n        if (!coords || !Array.isArray(coords)) return [];\n\n        switch (type) {\n            case 'Point':\n                return [coords];\n            case 'MultiPoint':\n            case 'LineString':\n                return coords;\n            case 'MultiLineString':\n            case 'Polygon':\n                return coords.flat();\n            case 'MultiPolygon':\n                return coords.flat(2);\n            default:\n                // Aplatir r√©cursivement\n                const flat = [];\n                const flatten = (arr) => {\n                    if (!Array.isArray(arr)) return;\n                    if (typeof arr[0] === 'number') {\n                        flat.push(arr);\n                    } else {\n                        arr.forEach(flatten);\n                    }\n                };\n                flatten(coords);\n                return flat;\n        }\n    }\n\n    /**\n     * Normalise un waypoint GPX en POI (placeholder pour futur module)\n     * @param {Object} waypoint - Waypoint GPX\n     * @param {Object} layerConfig - Configuration du layer\n     * @returns {Object} POI normalis√©\n     */\n    function normalizeFromGPX(waypoint, layerConfig = {}) {\n        if (!waypoint) return null;\n\n        getLog().info('[Normalizer] GPX normalization - placeholder for future implementation');\n\n        // Structure de base pour GPX\n        const id = waypoint.name || waypoint.sym || generateUniqueId();\n        const title = waypoint.name || waypoint.cmt || 'Point GPX';\n        const description = waypoint.desc || waypoint.cmt || '';\n\n        return {\n            id: String(id),\n            sourceType: SOURCE_TYPES.GPX,\n            geometryType: 'Point',\n            title: String(title),\n            description: String(description),\n            lat: waypoint.lat !== undefined ? parseFloat(waypoint.lat) : null,\n            lng: waypoint.lon !== undefined ? parseFloat(waypoint.lon) : null,\n            categoryId: waypoint.type || null,\n            subCategoryId: null,\n            attributes: { ...waypoint },\n            rawData: waypoint\n        };\n    }\n\n    /**\n     * Normalise un point de route en POI\n     * @param {Object} routePoint - Point de route\n     * @param {Object} routeConfig - Configuration de la route\n     * @returns {Object} POI normalis√©\n     */\n    function normalizeFromRoute(routePoint, routeConfig = {}) {\n        if (!routePoint) return null;\n\n        const id = routePoint.id || routePoint.placeId || generateUniqueId();\n        const title = routePoint.name || routePoint.title || routePoint.address || 'Point de route';\n        const description = routePoint.description || routePoint.comment || '';\n\n        let lat = null, lng = null;\n        if (routePoint.latLng) {\n            lat = routePoint.latLng.lat;\n            lng = routePoint.latLng.lng;\n        } else if (routePoint.lat !== undefined && routePoint.lng !== undefined) {\n            lat = routePoint.lat;\n            lng = routePoint.lng;\n        }\n\n        return {\n            id: String(id),\n            sourceType: SOURCE_TYPES.ROUTE,\n            geometryType: 'Point',\n            title: String(title),\n            description: String(description),\n            lat: lat !== null ? parseFloat(lat) : null,\n            lng: lng !== null ? parseFloat(lng) : null,\n            categoryId: routePoint.type || 'route-point',\n            subCategoryId: routePoint.order !== undefined ? `stop-${routePoint.order}` : null,\n            order: routePoint.order,\n            address: routePoint.address,\n            attributes: { ...routePoint },\n            rawData: routePoint\n        };\n    }\n\n    // ========================================\n    //   FONCTION PRINCIPALE\n    // ========================================\n\n    /**\n     * Normalise des donn√©es selon leur type de source\n     * @param {string} sourceType - Type de source ('json', 'geojson', 'gpx', 'route')\n     * @param {Object} data - Donn√©es brutes\n     * @param {Object} layerConfig - Configuration du layer\n     * @param {Object} options - Options additionnelles (layer Leaflet, etc.)\n     * @returns {Object} POI normalis√©\n     */\n    function normalizeFeature(sourceType, data, layerConfig = {}, options = {}) {\n        if (!data) {\n            getLog().warn('[Normalizer] Donn√©es nulles pour normalisation');\n            return null;\n        }\n\n        switch (sourceType) {\n            case SOURCE_TYPES.JSON:\n                return normalizeFromJSON(data, layerConfig);\n\n            case SOURCE_TYPES.GEOJSON:\n                return normalizeFromGeoJSON(data, layerConfig, options.layer);\n\n            case SOURCE_TYPES.GPX:\n                return normalizeFromGPX(data, layerConfig);\n\n            case SOURCE_TYPES.ROUTE:\n                return normalizeFromRoute(data, layerConfig);\n\n            default:\n                getLog().warn('[Normalizer] Type de source non reconnu:', sourceType);\n                // Tenter une d√©tection automatique\n                return autoDetectAndNormalize(data, layerConfig, options);\n        }\n    }\n\n    /**\n     * D√©tecte automatiquement le type de source et normalise\n     * @param {Object} data - Donn√©es brutes\n     * @param {Object} layerConfig - Configuration du layer\n     * @param {Object} options - Options additionnelles\n     * @returns {Object} POI normalis√©\n     */\n    function autoDetectAndNormalize(data, layerConfig = {}, options = {}) {\n        // D√©tection GeoJSON\n        if (data.type === 'Feature' && data.geometry) {\n            return normalizeFromGeoJSON(data, layerConfig, options.layer);\n        }\n\n        // D√©tection GPX (waypoint)\n        if (data.lat !== undefined && data.lon !== undefined && (data.name || data.sym)) {\n            return normalizeFromGPX(data, layerConfig);\n        }\n\n        // D√©tection Route\n        if (data.latLng || (data.order !== undefined && data.address)) {\n            return normalizeFromRoute(data, layerConfig);\n        }\n\n        // Par d√©faut : JSON\n        return normalizeFromJSON(data, layerConfig);\n    }\n\n    /**\n     * Normalise un tableau de donn√©es\n     * @param {string} sourceType - Type de source\n     * @param {Array} dataArray - Tableau de donn√©es brutes\n     * @param {Object} layerConfig - Configuration du layer\n     * @param {Object} options - Options additionnelles\n     * @returns {Array} Tableau de POIs normalis√©s\n     */\n    function normalizeCollection(sourceType, dataArray, layerConfig = {}, options = {}) {\n        if (!Array.isArray(dataArray)) {\n            getLog().warn('[Normalizer] normalizeCollection attend un tableau');\n            return [];\n        }\n\n        return dataArray\n            .map(data => normalizeFeature(sourceType, data, layerConfig, options))\n            .filter(poi => poi !== null);\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    GeoLeaf._Normalizer = {\n        // Types de sources\n        SOURCE_TYPES,\n\n        // Normaliseurs par type\n        normalizeFromJSON,\n        normalizeFromGeoJSON,\n        normalizeFromGPX,\n        normalizeFromRoute,\n\n        // Fonctions principales\n        normalizeFeature,\n        autoDetectAndNormalize,\n        normalizeCollection,\n\n        // Utilitaires\n        detectGeometryType,\n        extractCoordinates,\n        generateUniqueId\n    };\n\n    getLog().info('[GeoLeaf._Normalizer] Module Normalizer charg√©');\n\n})(typeof window !== 'undefined' ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * @fileoverview Chargeur centralis√© de styles GeoLeaf\n * G√®re le chargement, la validation et le cache des fichiers style.json\n * Supporte les labels int√©gr√©s et la d√©tection automatique\n * @module loaders/style-loader\n */\n\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n\n/**\n * Cache en m√©moire des styles charg√©s\n * Cl√©: \"profileId:layerId:styleId\"\n * Valeur: { styleData, labelConfig, timestamp }\n */\nconst styleCache = new Map();\n\n/**\n * Configuration du loader\n */\nlet loaderConfig = {\n    debug: false,\n    validateOnLoad: true,\n    throwOnValidationError: true\n};\n\nfunction getProfilesBasePath() {\n    const cfg = GeoLeaf.Config;\n\n    if (cfg && typeof cfg.get === \"function\") {\n        const configured = cfg.get(\"data.profilesBasePath\", \"profiles\");\n        if (typeof configured === \"string\" && configured.trim().length > 0) {\n            return configured.endsWith(\"/\") ? configured.slice(0, -1) : configured;\n        }\n    }\n\n    return \"profiles\";\n}\n\n/**\n * Initialise le style loader avec la configuration GeoLeaf\n * @param {Object} config - Configuration GeoLeaf (doit contenir { debug: boolean })\n */\nfunction initStyleLoader(config = {}) {\n    loaderConfig.debug = config.debug === true;\n\n    if (loaderConfig.debug) {\n        console.log('[StyleLoader] Mode debug activ√© - cache d√©sactiv√©');\n    }\n}\n\n/**\n * Charge et valide un fichier de style\n * @param {string} profileId - ID du profil\n * @param {string} layerId - ID de la couche\n * @param {string} styleId - ID du style\n * @param {string} styleFileName - Nom du fichier de style (ex: \"default.json\")\n * @param {string} layerDirectory - R√©pertoire de la couche (ex: \"layers/tourism_poi_all\")\n * @returns {Promise<Object>} Style charg√© et valid√© avec labels extraits\n * @throws {Error} Si le fichier est invalide ou introuvable\n */\nasync function loadAndValidateStyle(profileId, layerId, styleId, styleFileName, layerDirectory) {\n    const cacheKey = `${profileId}:${layerId}:${styleId}`;\n\n    // V√©rifier le cache (sauf en mode debug)\n    if (!loaderConfig.debug && styleCache.has(cacheKey)) {\n        const cached = styleCache.get(cacheKey);\n        console.log(`[StyleLoader] Style charg√© depuis le cache: ${cacheKey}`);\n        return cached;\n    }\n\n    try {\n        // Construire le chemin du fichier de style\n        const profilesBasePath = getProfilesBasePath();\n        const stylePath = `${profilesBasePath}/${profileId}/${layerDirectory}/styles/${styleFileName}`;\n\n        console.log(`[StyleLoader] Chargement du style: ${stylePath}`);\n\n        // Charger le fichier JSON\n        const response = await fetch(stylePath);\n\n        if (!response.ok) {\n            throw new Error(\n                `Impossible de charger le fichier de style: ${stylePath}\\n` +\n                `HTTP ${response.status}: ${response.statusText}`\n            );\n        }\n\n        let styleData;\n        try {\n            styleData = await response.json();\n        } catch (jsonError) {\n            // Erreur de parsing JSON - format d√©taill√©\n            const errorContext = {\n                profileId,\n                layerId,\n                styleId,\n                stylePath,\n                httpStatus: response.status,\n                parseError: jsonError.message\n            };\n\n            console.error('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');\n            console.error('‚ùå ERREUR DE PARSING JSON - FICHIER STYLE MALFORM√â');\n            console.error('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');\n            console.error(`Fichier: ${stylePath}`);\n            console.error(`Erreur: ${jsonError.message}`);\n            console.error('Contexte:', JSON.stringify(errorContext, null, 2));\n            console.error('Stack trace:', jsonError.stack);\n            console.error('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');\n\n            throw new Error(\n                `Le fichier de style contient du JSON malform√©: ${stylePath}\\n` +\n                `Erreur de parsing: ${jsonError.message}\\n` +\n                `Veuillez v√©rifier la syntaxe JSON du fichier.`\n            );\n        }\n\n        // VALIDATION STRICTE: Ajouter visibleByDefault si manquant et label.enabled: true\n        if (styleData.label && styleData.label.enabled === true) {\n            if (styleData.label.visibleByDefault === undefined) {\n                // Fallback automatique √† false\n                styleData.label.visibleByDefault = false;\n                console.warn(\n                    `[StyleLoader] ‚ö†Ô∏è Param√®tre \"visibleByDefault\" manquant dans le style: ${stylePath}\\n` +\n                    `Le style a \"label.enabled: true\" mais pas de \"visibleByDefault\".\\n` +\n                    `Fallback appliqu√©: visibleByDefault = false\\n` +\n                    `Ajoutez explicitement \"visibleByDefault\": false ou true dans le fichier de style.`\n                );\n            }\n        }\n\n        // Valider le style contre le sch√©ma\n        if (loaderConfig.validateOnLoad) {\n            const StyleValidator = GeoLeaf._StyleValidator;\n            if (!StyleValidator) {\n                console.warn('[StyleLoader] GeoLeaf._StyleValidator non disponible, validation ignor√©e');\n            }\n\n            const validationResult = StyleValidator ? StyleValidator.validateStyle(styleData, {\n                profileId,\n                layerId,\n                styleId,\n                stylePath\n            }) : { valid: true, errors: [], warnings: [] };\n\n            if (!validationResult.valid) {\n                const errorMessage = StyleValidator ? StyleValidator.formatValidationErrors(validationResult, stylePath) : 'Erreurs de validation';\n                console.error(errorMessage);\n\n                if (loaderConfig.throwOnValidationError) {\n                    throw new Error(\n                        `Le fichier de style ne respecte pas le sch√©ma GeoLeaf: ${stylePath}\\n` +\n                        `Consultez la console pour les d√©tails des erreurs.`\n                    );\n                }\n            }\n\n            // Afficher les avertissements m√™me si validation OK\n            if (validationResult.warnings.length > 0) {\n                console.warn(`[StyleLoader] ${validationResult.warnings.length} avertissement(s) pour ${stylePath}:`);\n                validationResult.warnings.forEach(warning => {\n                    console.warn(`  - ${warning.field}: ${warning.message}`);\n                });\n            }\n        }\n\n        // Extraire la configuration de labels int√©gr√©s\n        const labelConfig = extractLabelConfig(styleData);\n\n        // Pr√©parer l'objet de retour\n        const result = {\n            styleData,\n            labelConfig,\n            metadata: {\n                profileId,\n                layerId,\n                styleId,\n                stylePath,\n                hasIntegratedLabels: labelConfig !== null,\n                loadedAt: new Date().toISOString()\n            }\n        };\n\n        // Mettre en cache (sauf en mode debug)\n        if (!loaderConfig.debug) {\n            styleCache.set(cacheKey, result);\n        }\n\n        console.log(\n            `[StyleLoader] Style charg√© avec succ√®s: ${styleId}` +\n            (labelConfig ? ' (avec labels int√©gr√©s)' : '')\n        );\n\n        return result;\n\n    } catch (error) {\n        // Re-throw les erreurs avec contexte complet\n        if (error.message.includes('JSON malform√©') || error.message.includes('sch√©ma GeoLeaf')) {\n            throw error;\n        }\n\n        // Erreur r√©seau ou autre\n        const errorContext = {\n            profileId,\n            layerId,\n            styleId,\n            styleFileName,\n            layerDirectory,\n            originalError: error.message\n        };\n\n        console.error('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');\n        console.error('‚ùå ERREUR DE CHARGEMENT DE STYLE');\n        console.error('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');\n        console.error('Contexte:', JSON.stringify(errorContext, null, 2));\n        console.error('Stack trace:', error.stack);\n        console.error('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');\n\n        throw error;\n    }\n}\n\n/**\n * Extrait la configuration de labels depuis un style charg√©\n * D√©tecte automatiquement si les labels sont int√©gr√©s dans le style\n * @param {Object} styleData - Donn√©es du style\n * @returns {Object|null} Configuration de labels ou null si absents/d√©sactiv√©s\n */\nfunction extractLabelConfig(styleData) {\n    if (!styleData || typeof styleData !== 'object') {\n        return null;\n    }\n\n    // V√©rifier si le champ label est un objet de configuration\n    if (styleData.label && typeof styleData.label === 'object' && styleData.label !== null) {\n        // V√©rifier que enabled est true\n        if (styleData.label.enabled === true) {\n            return {\n                ...styleData.label,\n                isIntegrated: true\n            };\n        }\n    }\n\n    // Pas de labels int√©gr√©s ou d√©sactiv√©s\n    return null;\n}\n\n/**\n * Charge un style avec gestion simplifi√©e (sans validation stricte)\n * Utilis√© pour les cas o√π on veut charger m√™me si validation √©choue\n * @param {string} profileId - ID du profil\n * @param {string} layerId - ID de la couche\n * @param {string} styleId - ID du style\n * @param {string} styleFileName - Nom du fichier\n * @param {string} layerDirectory - R√©pertoire de la couche\n * @returns {Promise<Object>} Style charg√© (peut contenir des erreurs)\n */\nasync function loadStyleLenient(profileId, layerId, styleId, styleFileName, layerDirectory) {\n    const previousThrowSetting = loaderConfig.throwOnValidationError;\n    loaderConfig.throwOnValidationError = false;\n\n    try {\n        return await loadAndValidateStyle(profileId, layerId, styleId, styleFileName, layerDirectory);\n    } finally {\n        loaderConfig.throwOnValidationError = previousThrowSetting;\n    }\n}\n\n/**\n * Pr√©charge plusieurs styles en parall√®le\n * @param {Array<Object>} styleConfigs - Tableau de { profileId, layerId, styleId, styleFileName, layerDirectory }\n * @returns {Promise<Array<Object>>} R√©sultats de chargement\n */\nasync function preloadStyles(styleConfigs) {\n    console.log(`[StyleLoader] Pr√©chargement de ${styleConfigs.length} style(s)...`);\n\n    const promises = styleConfigs.map(config =>\n        loadAndValidateStyle(\n            config.profileId,\n            config.layerId,\n            config.styleId,\n            config.styleFileName,\n            config.layerDirectory\n        ).catch(error => ({\n            error: true,\n            message: error.message,\n            config\n        }))\n    );\n\n    const results = await Promise.all(promises);\n\n    const successCount = results.filter(r => !r.error).length;\n    const errorCount = results.filter(r => r.error).length;\n\n    console.log(`[StyleLoader] Pr√©chargement termin√©: ${successCount} succ√®s, ${errorCount} erreurs`);\n\n    return results;\n}\n\n/**\n * Efface le cache des styles\n * @param {string} [cacheKey] - Cl√© sp√©cifique √† effacer (optionnel, sinon tout le cache)\n */\nfunction clearStyleCache(cacheKey = null) {\n    if (cacheKey) {\n        styleCache.delete(cacheKey);\n        console.log(`[StyleLoader] Cache effac√© pour: ${cacheKey}`);\n    } else {\n        const count = styleCache.size;\n        styleCache.clear();\n        console.log(`[StyleLoader] Cache complet effac√© (${count} entr√©e(s))`);\n    }\n}\n\n/**\n * Obtient les statistiques du cache\n * @returns {Object} Statistiques { size, keys, debug }\n */\nfunction getCacheStats() {\n    return {\n        size: styleCache.size,\n        keys: Array.from(styleCache.keys()),\n        debug: loaderConfig.debug,\n        cacheEnabled: !loaderConfig.debug\n    };\n}\n\n/**\n * Charge un style depuis une configuration de couche\n * D√©tecte automatiquement les r√©f√©rences obsol√®tes √† styleFile\n * @param {string} profileId - ID du profil\n * @param {Object} layerConfig - Configuration de la couche\n * @param {string} styleIdOrFileName - ID du style ou nom de fichier\n * @returns {Promise<Object>} Style charg√©\n */\nasync function loadStyleFromLayerConfig(profileId, layerConfig, styleIdOrFileName) {\n    const layerId = layerConfig.id;\n    const layerDirectory = layerConfig._layerDirectory || `layers/${layerId}`;\n\n    // V√©rifier si styleFile est pr√©sent dans labels (configuration obsol√®te)\n    if (layerConfig.labels && layerConfig.labels.styleFile) {\n        const errorMessage =\n            `‚ùå CONFIGURATION OBSOL√àTE D√âTECT√âE\\n` +\n            `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\\n` +\n            `La couche \"${layerId}\" utilise une r√©f√©rence obsol√®te √† un fichier\\n` +\n            `de labels s√©par√© via \"labels.styleFile\".\\n\\n` +\n            `GeoLeaf ne supporte plus les fichiers de labels s√©par√©s (styleLabel.json).\\n` +\n            `Les labels doivent √™tre int√©gr√©s dans les fichiers de style.\\n\\n` +\n            `Valeur d√©tect√©e: ${layerConfig.labels.styleFile}\\n` +\n            `Profil: ${profileId}\\n` +\n            `Couche: ${layerId}\\n\\n` +\n            `Action requise:\\n` +\n            `1. Supprimez la propri√©t√© \"labels.styleFile\" de la configuration\\n` +\n            `2. Int√©grez les labels dans les fichiers de style (propri√©t√© \"label\")\\n` +\n            `3. Consultez docs/STYLE_FORMAT_SPEC.md pour la syntaxe\\n` +\n            `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`;\n\n        console.error(errorMessage);\n        throw new Error(`Configuration obsol√®te: labels.styleFile d√©tect√© dans la couche ${layerId}`);\n    }\n\n    // Trouver le fichier de style dans styles.available\n    let styleFileName = styleIdOrFileName;\n    let styleId = styleIdOrFileName;\n\n    if (layerConfig.styles && layerConfig.styles.available) {\n        const styleConfig = layerConfig.styles.available.find(s => s.id === styleIdOrFileName || s.file === styleIdOrFileName);\n        if (styleConfig) {\n            styleFileName = styleConfig.file;\n            styleId = styleConfig.id;\n        }\n    }\n\n    return loadAndValidateStyle(profileId, layerId, styleId, styleFileName, layerDirectory);\n}\n\n/**\n * Construit le chemin complet d'un fichier de style\n * @param {string} profileId - ID du profil\n * @param {string} layerDirectory - R√©pertoire de la couche\n * @param {string} styleFileName - Nom du fichier\n * @returns {string} Chemin complet\n */\nfunction getStylePath(profileId, layerDirectory, styleFileName) {\n    return `profiles/${profileId}/${layerDirectory}/styles/${styleFileName}`;\n}\n\n/**\n * Module Style Loader\n * Expose toutes les fonctions publiques\n */\nconst StyleLoader = {\n    initStyleLoader,\n    loadAndValidateStyle,\n    extractLabelConfig,\n    loadStyleLenient,\n    preloadStyles,\n    clearStyleCache,\n    getCacheStats,\n    loadStyleFromLayerConfig,\n    getStylePath,\n    styleCache // Export pour tests/debugging\n};\n\n// Exposer le module\nGeoLeaf._StyleLoader = StyleLoader;\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    /**\n     * Namespace global GeoLeaf\n     */\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    /**\n     * Logger unifi√©\n     */\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module Config.Loader\n     *\n     * Responsabilit√©s :\n     * - Chargement HTTP via fetch() avec validation CSRF/XSS\n     * - Validation Content-Type stricte\n     * - Gestion des headers personnalis√©s\n     * - Helper g√©n√©rique _fetchJson()\n     */\n    const LoaderModule = {\n        /**\n         * Charge une configuration depuis une URL JSON et retourne l'objet.\n         *\n         * @param {string} url - URL du fichier JSON\n         * @param {Object} [options] - Options de chargement\n         * @param {Object} [options.headers] - Headers HTTP personnalis√©s (ex: CSRF token)\n         * @param {boolean} [options.strictContentType=true] - Validation stricte du Content-Type\n         * @returns {Promise<Object>}\n         * @example\n         * Loader.loadUrl('/api/config.json', {\n         *     headers: { 'X-CSRF-Token': '...' },\n         *     strictContentType: true\n         * })\n         */\n        loadUrl(url, options = {}) {\n            if (!url) {\n                Log.warn(\"[GeoLeaf.Config.Loader] URL JSON manquante dans loadUrl().\");\n                return Promise.resolve({});\n            }\n\n            const { headers = {}, strictContentType = true } = options;\n\n            // Validation de l'URL avec le module Security\n            const Security =\n                typeof GeoLeaf !== \"undefined\" && GeoLeaf.Security\n                    ? GeoLeaf.Security\n                    : null;\n\n            // Pour les URLs relatives (commen√ßant par ./ ou ../ ou /), on les laisse passer\n            const isRelative = /^\\.{0,2}\\//.test(url) || /^\\/[^/]/.test(url);\n\n            if (!isRelative) {\n                // URL absolue : validation stricte avec Security.validateUrl\n                if (Security && typeof Security.validateUrl === \"function\") {\n                    try {\n                        url = Security.validateUrl(url);\n                    } catch (e) {\n                        const errMsg = \"[GeoLeaf.Config.Loader] \" + e.message;\n                        Log.error(errMsg);\n                        return Promise.reject(new Error(errMsg));\n                    }\n                } else {\n                    // Fallback : v√©rification basique si Security pas disponible\n                    if (!/^https?:\\/\\//i.test(url)) {\n                        const errMsg =\n                            \"[GeoLeaf.Config.Loader] URL doit √™tre relative ou commencer par http:// ou https://\";\n                        Log.error(errMsg);\n                        return Promise.reject(new Error(errMsg));\n                    }\n                }\n            }\n\n            // Configuration fetch avec headers personnalis√©s\n            const fetchOptions = {\n                method: \"GET\",\n                headers: {\n                    Accept: \"application/json\",\n                    ...headers\n                }\n            };\n\n            return fetch(url, fetchOptions)\n                .then((response) => {\n                    if (!response.ok) {\n                        throw new Error(\"HTTP \" + response.status + \" pour \" + url);\n                    }\n\n                    // Validation Content-Type stricte\n                    const contentType = response.headers.get(\"content-type\");\n                    if (strictContentType) {\n                        if (!contentType || !contentType.includes(\"application/json\")) {\n                            throw new Error(\n                                \"[GeoLeaf.Config.Loader] Content-Type invalide: attendu 'application/json', re√ßu '\" +\n                                (contentType || \"null\") +\n                                \"'. Cela peut indiquer une attaque XSS ou un serveur mal configur√©.\"\n                            );\n                        }\n                    } else if (contentType && !contentType.includes(\"application/json\")) {\n                        Log.warn(\"[GeoLeaf.Config.Loader] Content-Type inattendu:\", contentType);\n                    }\n\n                    // Security: Wrap response.json() to handle parse errors\n                    return response.json().catch((parseErr) => {\n                        const errMsg = \"[GeoLeaf.Config.Loader] Erreur de parsing JSON pour \" + url + \": \" + parseErr.message;\n                        Log.error(errMsg);\n                        throw new Error(errMsg);\n                    });\n                })\n                .then((jsonCfg) => {\n                    if (typeof jsonCfg !== \"object\" || jsonCfg === null) {\n                        throw new Error(\"Le JSON de configuration n'est pas un objet valide.\");\n                    }\n\n                    return jsonCfg;\n                })\n                .catch((err) => {\n                    Log.error(\"[GeoLeaf.Config.Loader] Erreur lors du chargement JSON :\", err);\n                    throw err;\n                });\n        },\n\n        /**\n         * Helper interne pour charger un JSON sans le fusionner dans la configuration.\n         *\n         * @param {string} url\n         * @param {Object} [options]\n         * @param {Object} [options.headers]\n         * @param {boolean} [options.strictContentType=true]\n         * @returns {Promise<Object|null>}\n         */\n        fetchJson(url, options = {}) {\n            if (!url) {\n                Log.warn(\"[GeoLeaf.Config.Loader] fetchJson() appel√© sans URL.\");\n                return Promise.resolve(null);\n            }\n\n            const { headers = {}, strictContentType = true } = options;\n\n            const Security =\n                typeof GeoLeaf !== \"undefined\" && GeoLeaf.Security\n                    ? GeoLeaf.Security\n                    : null;\n\n            const isRelative =\n                /^\\.{0,2}\\//.test(url) || /^\\/[^/]/.test(url);\n\n            if (!isRelative) {\n                if (Security && typeof Security.validateUrl === \"function\") {\n                    try {\n                        url = Security.validateUrl(url);\n                    } catch (e) {\n                        const errMsg =\n                            \"[GeoLeaf.Config.Loader] \" + e.message;\n                        Log.error(errMsg);\n                        return Promise.reject(new Error(errMsg));\n                    }\n                } else {\n                    if (!/^https?:\\/\\//i.test(url)) {\n                        const errMsg =\n                            \"[GeoLeaf.Config.Loader] URL doit √™tre relative ou commencer par http:// ou https://\";\n                        Log.error(errMsg);\n                        return Promise.reject(new Error(errMsg));\n                    }\n                }\n            }\n\n            const fetchOptions = {\n                method: \"GET\",\n                headers: {\n                    Accept: \"application/json\",\n                    ...headers\n                }\n            };\n\n            return fetch(url, fetchOptions)\n                .then((response) => {\n                    if (!response.ok) {\n                        throw new Error(\"HTTP \" + response.status + \" pour \" + url);\n                    }\n\n                    const contentType = response.headers.get(\"content-type\");\n                    if (strictContentType) {\n                        if (!contentType || !contentType.includes(\"application/json\")) {\n                            throw new Error(\n                                \"[GeoLeaf.Config.Loader] Content-Type invalide dans fetchJson: attendu 'application/json', re√ßu '\" +\n                                (contentType || \"null\") +\n                                \"'.\"\n                            );\n                        }\n                    } else if (contentType && !contentType.includes(\"application/json\")) {\n                        Log.warn(\"[GeoLeaf.Config.Loader] fetchJson() Content-Type inattendu:\", contentType);\n                    }\n\n                    // Security: Wrap response.json() to handle parse errors\n                    return response.json().catch((parseErr) => {\n                        const errMsg = \"[GeoLeaf.Config.Loader] Erreur de parsing JSON dans fetchJson pour \" + url + \": \" + parseErr.message;\n                        Log.error(errMsg);\n                        throw new Error(errMsg);\n                    });\n                })\n                .then((json) => {\n                    if (typeof json !== \"object\" || json === null) {\n                        Log.warn(\n                            \"[GeoLeaf.Config.Loader] fetchJson() a re√ßu un JSON non-objet pour l'URL :\",\n                            url\n                        );\n                    }\n                    return json;\n                })\n                .catch((err) => {\n                    Log.error(\n                        \"[GeoLeaf.Config.Loader] Erreur fetchJson() pour \" + url + \" :\",\n                        err\n                    );\n                    throw err; // Re-throw pour que l'appelant puisse g√©rer l'erreur\n                });\n        }\n    };\n\n    // Exposer le module\n    GeoLeaf._ConfigLoader = LoaderModule;\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    /**\n     * Namespace global GeoLeaf\n     */\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    /**\n     * Logger unifi√©\n     */\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module Config.Storage\n     *\n     * Responsabilit√©s :\n     * - Stockage et gestion de la configuration consolid√©e\n     * - API get/set avec chemins \"a.b.c\"\n     * - Fusion profonde (deep merge)\n     * - Helpers de navigation dans l'arbre de config\n     */\n    const StorageModule = {\n        /**\n         * Configuration interne (r√©f√©rence partag√©e)\n         * @type {Object}\n         * @private\n         */\n        _config: null,\n\n        /**\n         * Initialise le module avec une r√©f√©rence √† la config.\n         *\n         * @param {Object} config - R√©f√©rence √† l'objet de configuration global\n         */\n        init(config) {\n            this._config = config;\n        },\n\n        /**\n         * Retourne la configuration compl√®te (objet).\n         *\n         * @returns {Object}\n         */\n        getAll() {\n            return this._config || {};\n        },\n\n        /**\n         * R√©cup√®re une valeur via un chemin de type \"map.center\" ou \"basemaps.street.url\".\n         *\n         * @param {string} path - Chemin avec des points.\n         * @param {*} [defaultValue] - Valeur renvoy√©e si le chemin n'existe pas.\n         * @returns {*}\n         */\n        get(path, defaultValue) {\n            if (!this._config) {\n                return typeof defaultValue === \"undefined\" ? undefined : defaultValue;\n            }\n\n            if (!path || typeof path !== \"string\") {\n                return typeof defaultValue === \"undefined\" ? undefined : defaultValue;\n            }\n\n            const segments = path.split(\".\");\n            let current = this._config;\n\n            for (let i = 0; i < segments.length; i++) {\n                const key = segments[i];\n                if (current && Object.prototype.hasOwnProperty.call(current, key)) {\n                    current = current[key];\n                } else {\n                    return typeof defaultValue === \"undefined\" ? undefined : defaultValue;\n                }\n            }\n\n            return current;\n        },\n\n        /**\n         * D√©finit une valeur via un chemin de type \"map.center\" ou \"basemaps.street.url\".\n         * Cr√©e les objets interm√©diaires si n√©cessaire.\n         *\n         * @param {string} path\n         * @param {*} value\n         */\n        set(path, value) {\n            if (!this._config) {\n                Log.warn(\"[GeoLeaf.Config.Storage] Configuration non initialis√©e.\");\n                return;\n            }\n\n            if (!path || typeof path !== \"string\") {\n                Log.warn(\"[GeoLeaf.Config.Storage] set() requiert un chemin string.\");\n                return;\n            }\n\n            const segments = path.split(\".\");\n            let current = this._config;\n\n            for (let i = 0; i < segments.length; i++) {\n                const key = segments[i];\n\n                if (i === segments.length - 1) {\n                    current[key] = value;\n                } else {\n                    if (\n                        !Object.prototype.hasOwnProperty.call(current, key) ||\n                        typeof current[key] !== \"object\" ||\n                        current[key] === null\n                    ) {\n                        current[key] = {};\n                    }\n                    current = current[key];\n                }\n            }\n        },\n\n        /**\n         * Retourne une section de configuration (ex : \"basemaps\", \"map\").\n         *\n         * @param {string} sectionName\n         * @param {Object} [defaultValue]\n         * @returns {Object|*}\n         */\n        getSection(sectionName, defaultValue) {\n            if (!sectionName) {\n                return typeof defaultValue === \"undefined\" ? undefined : defaultValue;\n            }\n            const value = this.get(sectionName);\n            if (typeof value === \"undefined\") {\n                return typeof defaultValue === \"undefined\" ? undefined : defaultValue;\n            }\n            return value;\n        },\n\n        /**\n         * Fusion profonde (deep merge) simple pour objets JSON.\n         *\n         * @param {Object} target\n         * @param {Object} source\n         * @returns {Object}\n         */\n        deepMerge(target, source) {\n            const output = Object.assign({}, target || {});\n            if (!source || typeof source !== \"object\") {\n                return output;\n            }\n\n            Object.keys(source).forEach((key) => {\n                const srcVal = source[key];\n                const tgtVal = output[key];\n\n                if (\n                    srcVal &&\n                    typeof srcVal === \"object\" &&\n                    !Array.isArray(srcVal) &&\n                    tgtVal &&\n                    typeof tgtVal === \"object\" &&\n                    !Array.isArray(tgtVal)\n                ) {\n                    output[key] = this.deepMerge(tgtVal, srcVal);\n                } else {\n                    output[key] = srcVal;\n                }\n            });\n\n            return output;\n        },\n\n        /**\n         * Lecture d'une valeur via un chemin \"a.b.c\".\n         *\n         * @param {Object} source\n         * @param {string} path\n         * @returns {*}\n         */\n        getValueByPath(source, path) {\n            if (!source || !path) return undefined;\n            const parts = path.split(\".\");\n            let current = source;\n\n            for (let i = 0; i < parts.length; i += 1) {\n                if (current == null) {\n                    return undefined;\n                }\n                current = current[parts[i]];\n            }\n\n            return current;\n        },\n\n        /**\n         * √âcriture d'une valeur via un chemin \"a.b.c\".\n         * Cr√©e les sous-objets interm√©diaires si n√©cessaire.\n         *\n         * @param {Object} target\n         * @param {string} path\n         * @param {*} value\n         */\n        setValueByPath(target, path, value) {\n            if (!target || !path) return;\n            const parts = path.split(\".\");\n            let current = target;\n\n            for (let i = 0; i < parts.length - 1; i += 1) {\n                const key = parts[i];\n                if (\n                    !Object.prototype.hasOwnProperty.call(current, key) ||\n                    current[key] == null\n                ) {\n                    current[key] = {};\n                }\n                current = current[key];\n            }\n\n            current[parts[parts.length - 1]] = value;\n        }\n    };\n\n    // Exposer le module\n    GeoLeaf._ConfigStorage = StorageModule;\n})(window);\n","(function (global) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Namespace global GeoLeaf\r\n     */\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n\r\n    /**\r\n     * Logger unifi√©\r\n     */\r\n    const Log = GeoLeaf.Log;\r\n\r\n    /**\r\n     * Module Config.Normalization\r\n     *\r\n     * Responsabilit√©s :\r\n     * - Normalisation structurelle des POI (mapping brut ‚Üí format GeoLeaf)\r\n     * - Application de mapping.json sur POI non normalis√©s\r\n     * - Normalisation des avis (reviews) : ancien/nouveau format\r\n     * - Validation de la structure POI : id/title/location\r\n     */\r\n    const NormalizationModule = {\r\n        /**\r\n         * Safe object assignment that prevents prototype pollution.\r\n         * Blocks dangerous keys: __proto__, constructor, prototype\r\n         * @param {Object} target\r\n         * @param {Object} source\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _safeAssign(target, source) {\r\n            const dangerousKeys = ['__proto__', 'constructor', 'prototype'];\r\n\r\n            for (const key in source) {\r\n                if (!source.hasOwnProperty(key)) continue;\r\n                if (dangerousKeys.includes(key)) {\r\n                    Log.warn('[GeoLeaf.Config.Normalization] Tentative de pollution de prototype bloqu√©e', { key });\r\n                    continue;\r\n                }\r\n                target[key] = source[key];\r\n            }\r\n\r\n            return target;\r\n        },\r\n\r\n        /**\r\n         * V√©rifie si un POI est d√©j√† normalis√© au format GeoLeaf :\r\n         * {\r\n         *   id: string,\r\n         *   title: string,\r\n         *   location: { lat: number, lng: number },\r\n         *   attributes?: object\r\n         * }\r\n         *\r\n         * @param {Object} poi\r\n         * @returns {boolean}\r\n         */\r\n        isPoiStructNormalized(poi) {\r\n            if (!poi || typeof poi !== \"object\") return false;\r\n\r\n            if (typeof poi.id !== \"string\" || poi.id.trim() === \"\") {\r\n                return false;\r\n            }\r\n\r\n            // Supporter les deux formats de label/titre\r\n            const hasTitle = typeof poi.title === \"string\" && poi.title.trim() !== \"\";\r\n            const hasLabel = typeof poi.label === \"string\" && poi.label.trim() !== \"\";\r\n            if (!hasTitle && !hasLabel) {\r\n                return false;\r\n            }\r\n\r\n            // Nouveau format : latlng = [lat, lng]\r\n            if (Array.isArray(poi.latlng) && poi.latlng.length >= 2) {\r\n                const lat = poi.latlng[0];\r\n                const lng = poi.latlng[1];\r\n                if (typeof lat === \"number\" && !Number.isNaN(lat) &&\r\n                    typeof lng === \"number\" && !Number.isNaN(lng)) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            // Ancien format : location.lat/lng\r\n            if (poi.location && typeof poi.location === \"object\") {\r\n                const lat = poi.location.lat;\r\n                const lng = poi.location.lng;\r\n                if (typeof lat === \"number\" && !Number.isNaN(lat) &&\r\n                    typeof lng === \"number\" && !Number.isNaN(lng)) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Applique un mapping brut ‚Üí POI normalis√© pour un POI donn√©.\r\n         *\r\n         * @param {Object} rawPoi\r\n         * @param {Object} mappingDef  mappingConfig.mapping\r\n         * @returns {Object|null}\r\n         */\r\n        mapRawPoiToNormalized(rawPoi, mappingDef) {\r\n            if (!rawPoi || !mappingDef || typeof mappingDef !== \"object\") {\r\n                return null;\r\n            }\r\n\r\n            const Storage = GeoLeaf._ConfigStorage;\r\n            if (!Storage) {\r\n                Log.error(\"[GeoLeaf.Config.Normalization] Module Storage non disponible.\");\r\n                return null;\r\n            }\r\n\r\n            // Socle minimal conforme au cahier des charges POI\r\n            const normalized = {\r\n                id: \"\",\r\n                title: \"\",\r\n                location: { lat: 0, lng: 0 },\r\n                attributes: {}\r\n            };\r\n\r\n            Object.keys(mappingDef).forEach((targetPath) => {\r\n                const sourcePath = mappingDef[targetPath];\r\n                if (!sourcePath) return;\r\n\r\n                const value = Storage.getValueByPath(rawPoi, sourcePath);\r\n                if (typeof value === \"undefined\") return;\r\n\r\n                Storage.setValueByPath(normalized, targetPath, value);\r\n            });\r\n\r\n            if (\r\n                !normalized.attributes ||\r\n                typeof normalized.attributes !== \"object\" ||\r\n                Array.isArray(normalized.attributes)\r\n            ) {\r\n                normalized.attributes = {};\r\n            }\r\n\r\n            return normalized;\r\n        },\r\n\r\n        /**\r\n         * Normalise structurellement un tableau de POI en utilisant\r\n         * √©ventuellement mapping.json du profil actif.\r\n         *\r\n         * R√®gles :\r\n         *  - SANS mapping.json :\r\n         *      ‚Üí on renvoie les POI tels quels (comportement 100 % r√©trocompatible).\r\n         *  - AVEC mapping.json :\r\n         *      ‚Üí si le POI est d√©j√† normalis√© ‚Üí on le garde tel quel ;\r\n         *      ‚Üí sinon, on applique le mapping ;\r\n         *      ‚Üí si apr√®s mapping le POI reste non normalis√© ‚Üí POI ignor√© (warning).\r\n         *\r\n         * @param {Array} rawPoiArray\r\n         * @param {Object|null} mappingConfig  mapping.json complet ou null\r\n         * @returns {Array}\r\n         */\r\n        normalizePoiWithMapping(rawPoiArray, mappingConfig) {\r\n            if (!Array.isArray(rawPoiArray)) {\r\n                return [];\r\n            }\r\n\r\n            const hasMapping =\r\n                mappingConfig &&\r\n                typeof mappingConfig === \"object\" &&\r\n                mappingConfig.mapping &&\r\n                typeof mappingConfig.mapping === \"object\";\r\n\r\n            // üîÅ CAS 1 ‚Äî AUCUN mapping.json fourni :\r\n            // on ne touche √† rien, on renvoie les POI du profil tels quels.\r\n            if (!hasMapping) {\r\n                Log.debug(\r\n                    \"[GeoLeaf.Config.Normalization] Aucun mapping.json fourni ; \" +\r\n                    \"les POI sont utilis√©s tels quels (aucune normalisation structurelle).\"\r\n                );\r\n                return rawPoiArray;\r\n            }\r\n\r\n            // üîÅ CAS 2 ‚Äî mapping.json pr√©sent : on applique vraiment la normalisation\r\n            const mappingDef = mappingConfig.mapping;\r\n            const result = [];\r\n\r\n            rawPoiArray.forEach((rawPoi, index) => {\r\n                // 1) D√©j√† normalis√© ‚Üí on garde\r\n                if (this.isPoiStructNormalized(rawPoi)) {\r\n                    result.push(rawPoi);\r\n                    return;\r\n                }\r\n\r\n                // 2) Non normalis√© + mapping ‚Üí tentative de normalisation\r\n                const normalized = this.mapRawPoiToNormalized(rawPoi, mappingDef);\r\n                if (normalized && this.isPoiStructNormalized(normalized)) {\r\n                    result.push(normalized);\r\n                } else {\r\n                    Log.warn(\r\n                        \"[GeoLeaf.Config.Normalization] POI non normalis√© m√™me apr√®s application du mapping ; POI ignor√©.\",\r\n                        {\r\n                            poiIndex: index,\r\n                            poiId: rawPoi && rawPoi.id\r\n                        }\r\n                    );\r\n                }\r\n            });\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Normalise le tableau de POI, notamment pour les avis (reviews).\r\n         *\r\n         * - Alimente syst√©matiquement `attributes.reviews` si des avis sont pr√©sents.\r\n         * - Supporte l'ancien format (tableau simple) et le nouveau format objet\r\n         *   `{ rating, count, summary, recent[] }`.\r\n         *\r\n         * @param {Array} poiArray\r\n         * @returns {Array}\r\n         */\r\n        normalizePoiArray(poiArray) {\r\n            if (!Array.isArray(poiArray)) {\r\n                return poiArray;\r\n            }\r\n\r\n            return poiArray.map((poi, index) => {\r\n                if (!poi || typeof poi !== \"object\") {\r\n                    return poi;\r\n                }\r\n\r\n                // Copie superficielle du POI avec protection contre la pollution de prototype\r\n                // Protection: on cr√©e un objet vide sans prototype et copie les propri√©t√©s\r\n                // en excluant __proto__, constructor, prototype\r\n                const normalized = this._safeAssign({}, poi);\r\n\r\n                // Bloc attributes existant ou nouveau\r\n                const baseAttributes =\r\n                    normalized.attributes &&\r\n                    typeof normalized.attributes === \"object\" &&\r\n                    !Array.isArray(normalized.attributes)\r\n                        ? normalized.attributes\r\n                        : {};\r\n\r\n                const attributes = this._safeAssign({}, baseAttributes);\r\n\r\n                // Handle reviews - preserve full structure when it exists\r\n                // 1) If attributes.reviews is already an object with recent array (new format), preserve it\r\n                if (\r\n                    attributes.reviews &&\r\n                    typeof attributes.reviews === \"object\" &&\r\n                    !Array.isArray(attributes.reviews) &&\r\n                    Array.isArray(attributes.reviews.recent)\r\n                ) {\r\n                    // Keep the full reviews object: { rating, count, summary, recent: [...] }\r\n                    // Just limit the recent array to 5\r\n                    attributes.reviews = {\r\n                        ...attributes.reviews,\r\n                        recent: attributes.reviews.recent.slice(0, 5)\r\n                    };\r\n                }\r\n                // 2) If poi.reviews is an object with recent array (new format at root), move to attributes\r\n                else if (\r\n                    normalized.reviews &&\r\n                    typeof normalized.reviews === \"object\" &&\r\n                    !Array.isArray(normalized.reviews) &&\r\n                    Array.isArray(normalized.reviews.recent)\r\n                ) {\r\n                    attributes.reviews = {\r\n                        ...normalized.reviews,\r\n                        recent: normalized.reviews.recent.slice(0, 5)\r\n                    };\r\n                }\r\n                // 3) Legacy: attributes.reviews is already a flat array\r\n                else if (Array.isArray(attributes.reviews)) {\r\n                    attributes.reviews = attributes.reviews.slice(0, 5);\r\n                }\r\n                // 4) Legacy: poi.reviews is a flat array at root\r\n                else if (Array.isArray(normalized.reviews)) {\r\n                    attributes.reviews = normalized.reviews.slice(0, 5);\r\n                }\r\n                // 5) Unexpected format\r\n                else if (normalized.reviews !== undefined || attributes.reviews !== undefined) {\r\n                    Log.warn(\"[GeoLeaf.Config.Normalization] Format de `reviews` inattendu pour le POI :\", {\r\n                        poiIndex: index,\r\n                        poiId: normalized.id,\r\n                        reviewsType: typeof normalized.reviews,\r\n                        attributesReviewsType: typeof attributes.reviews\r\n                    });\r\n                    attributes.reviews = [];\r\n                }\r\n                // 6) No reviews at all\r\n                else {\r\n                    attributes.reviews = [];\r\n                }\r\n\r\n                normalized.attributes = attributes;\r\n\r\n                return normalized;\r\n            });\r\n        }\r\n    };\r\n\r\n    // Exposer le module\r\n    GeoLeaf._ConfigNormalization = NormalizationModule;\r\n})(window);\r\n","(function (global) {\n    \"use strict\";\n\n    /**\n     * Namespace global GeoLeaf\n     */\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    /**\n     * Logger unifi√©\n     */\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module Config.Taxonomy\n     *\n     * Responsabilit√©s :\n     * - Chargement et gestion de la taxonomie (cat√©gories/sous-cat√©gories)\n     * - Lecture des cat√©gories depuis mapping.json (ancienne taxonomie)\n     * - Lecture des cat√©gories depuis profile.json (nouvelle taxonomie)\n     * - API de consultation : getCategories(), getCategory(), getSubcategory()\n     */\n    const TaxonomyModule = {\n        /**\n         * Configuration interne (r√©f√©rence partag√©e)\n         * @type {Object}\n         * @private\n         */\n        _config: null,\n\n        /**\n         * Initialise le module avec une r√©f√©rence √† la config.\n         *\n         * @param {Object} config - R√©f√©rence √† l'objet de configuration global\n         */\n        init(config) {\n            this._config = config;\n        },\n\n        /**\n         * Charge un fichier de taxonomie (mapping cat√©gories / sous-cat√©gories)\n         * et le fusionne dans la configuration existante.\n         *\n         * @param {string} [url] - URL du fichier de mapping (depuis le profil)\n         * @param {Object} [options]\n         * @param {Object} [options.headers]\n         * @param {boolean} [options.strictContentType=true]\n         * @returns {Promise<Object>} - Objet categories consolid√©\n         */\n        loadTaxonomy(url = null, options = {}) {\n            const Loader = GeoLeaf._ConfigLoader;\n            if (!Loader) {\n                Log.error(\"[GeoLeaf.Config.Taxonomy] Module Loader non disponible.\");\n                return Promise.reject(new Error(\"Loader module not available\"));\n            }\n\n            if (!url) {\n                Log.info(\"[GeoLeaf.Config.Taxonomy] Aucune URL de mapping fournie ‚Äî skip.\");\n                return Promise.resolve({});\n            }\n\n            return Loader.loadUrl(url, options)\n                .then((cfg) => {\n                    const hasCategories =\n                        cfg &&\n                        typeof cfg === \"object\" &&\n                        cfg.categories &&\n                        typeof cfg.categories === \"object\" &&\n                        !Array.isArray(cfg.categories);\n\n                    if (!hasCategories) {\n                        Log.warn(\n                            \"[GeoLeaf.Config.Taxonomy] Fichier de mapping cat√©gories charg√© mais \" +\n                            \"aucune propri√©t√© 'categories' valide trouv√©e (attendu: { \\\"categories\\\": { ... } }).\"\n                        );\n                    } else {\n                        // Fusionner dans la config\n                        if (!this._config.categories || typeof this._config.categories !== \"object\") {\n                            this._config.categories = {};\n                        }\n                        Object.assign(this._config.categories, cfg.categories);\n\n                        Log.info(\n                            \"[GeoLeaf.Config.Taxonomy] Mapping cat√©gories fusionn√© avec succ√®s.\"\n                        );\n                    }\n\n                    return this.getCategories();\n                })\n                .catch((err) => {\n                    Log.error(\"[GeoLeaf.Config.Taxonomy] Erreur lors du chargement de la taxonomie :\", err);\n                    return {};\n                });\n        },\n\n        /**\n         * Retourne l'objet complet des cat√©gories (mapping interne).\n         *\n         * @returns {Object} - { [categoryId]: { label, icon, colorFill, colorStroke, subcategories? } }\n         */\n        getCategories() {\n            if (!this._config) return {};\n            const cats = this._config.categories;\n            return (cats && typeof cats === \"object\" && !Array.isArray(cats)) ? cats : {};\n        },\n\n        /**\n         * Retourne une cat√©gorie √† partir de son identifiant.\n         *\n         * @param {string} categoryId\n         * @returns {Object|undefined}\n         */\n        getCategory(categoryId) {\n            if (!categoryId || typeof categoryId !== \"string\") {\n                return undefined;\n            }\n\n            const cats = this.getCategories();\n            if (!Object.prototype.hasOwnProperty.call(cats, categoryId)) {\n                return undefined;\n            }\n\n            return cats[categoryId];\n        },\n\n        /**\n         * Retourne une sous-cat√©gorie √† partir de son identifiant et de celui\n         * de la cat√©gorie parente.\n         *\n         * @param {string} categoryId\n         * @param {string} subCategoryId\n         * @returns {Object|undefined}\n         */\n        getSubcategory(categoryId, subCategoryId) {\n            if (\n                !categoryId || typeof categoryId !== \"string\" ||\n                !subCategoryId || typeof subCategoryId !== \"string\"\n            ) {\n                return undefined;\n            }\n\n            const category = this.getCategory(categoryId);\n            if (\n                !category ||\n                !category.subcategories ||\n                typeof category.subcategories !== \"object\" ||\n                Array.isArray(category.subcategories)\n            ) {\n                return undefined;\n            }\n\n            const subs = category.subcategories;\n            if (!Object.prototype.hasOwnProperty.call(subs, subCategoryId)) {\n                return undefined;\n            }\n\n            return subs[subCategoryId];\n        }\n    };\n\n    // Exposer le module\n    GeoLeaf._ConfigTaxonomy = TaxonomyModule;\n})(window);\n","/**\n * @fileoverview Chargeur de profil V3.0 pour GeoLeaf\n * G√®re le chargement modulaire des profils avec structure V3:\n * - profile.json (m√©tadonn√©es)\n * - taxonomy.json (cat√©gories/sous-cat√©gories)\n * - themes.json (th√®mes visuels)\n * - layers.json (index des couches)\n * - layers/{layerId}/{layerId}_config.json (config par couche)\n * @module config/profile-v3-loader\n */\n\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module de chargement de profils V3.0\n     * @namespace ProfileV3Loader\n     */\n    const ProfileV3Loader = {\n        /**\n         * Charge un profil v3.0 avec structure modulaire\n         * @param {Object} profile - Objet profile.json v3.0\n         * @param {string} baseUrl - URL de base du profil\n         * @param {string} profileId - ID du profil\n         * @param {number} timestamp - Timestamp pour cache busting\n         * @param {Object} fetchOptions - Options de fetch\n         * @returns {Promise<Object>} Profil enrichi avec toutes les donn√©es charg√©es\n         */\n        async loadV3Profile(profile, baseUrl, profileId, timestamp = Date.now(), fetchOptions = {}) {\n            const Loader = GeoLeaf._ConfigLoader;\n\n            if (!Loader) {\n                throw new Error(\"GeoLeaf._ConfigLoader non disponible\");\n            }\n\n            Log.info(`[ProfileV3Loader] Chargement profil V3.0: ${profileId}`);\n\n            try {\n                // 1. Charger les ressources en parall√®le\n                const [taxonomyData, themesData, layersFileData] = await Promise.all([\n                    this._loadTaxonomy(profile, baseUrl, timestamp, fetchOptions),\n                    this._loadThemes(profile, baseUrl, timestamp, fetchOptions),\n                    this._loadLayersFile(profile, baseUrl, timestamp, fetchOptions)\n                ]);\n\n                // 2. D√©terminer la source des layers\n                const layersSource = layersFileData || profile.layers || [];\n\n                // 3. Charger les configurations individuelles des layers\n                const layersConfigs = await this._loadLayerConfigs(\n                    layersSource,\n                    baseUrl,\n                    timestamp,\n                    fetchOptions\n                );\n\n                // 4. Construire le profil enrichi\n                const enrichedProfile = this._buildEnrichedProfile({\n                    profile,\n                    baseUrl,\n                    profileId,\n                    taxonomy: taxonomyData,\n                    themes: themesData,\n                    layersSource,\n                    layersConfigs\n                });\n\n                Log.info(\"[ProfileV3Loader] Profil V3.0 charg√© avec succ√®s\", {\n                    profileId,\n                    hasTaxonomy: !!enrichedProfile.taxonomy,\n                    hasThemes: !!enrichedProfile.themes,\n                    layersCount: enrichedProfile.layers ? enrichedProfile.layers.length : 0\n                });\n\n                return enrichedProfile;\n\n            } catch (error) {\n                Log.error(\"[ProfileV3Loader] Erreur chargement profil V3.0:\", error);\n                throw error;\n            }\n        },\n\n        /**\n         * V√©rifie si des features GeoJSON ont des categoryId/subCategoryId\n         * @private\n         * @returns {boolean} true si au moins une feature a des cat√©gories\n         */\n        _shouldLoadTaxonomy() {\n            // Toujours charger la taxonomie si elle est r√©f√©renc√©e dans le profil\n            // Les features GeoJSON ne sont pas encore charg√©es √† ce stade\n            return true;\n        },\n\n        /**\n         * Charge taxonomy.json si r√©f√©renc√© ET si des features ont des cat√©gories\n         * @private\n         */\n        async _loadTaxonomy(profile, baseUrl, timestamp, fetchOptions) {\n            const Loader = GeoLeaf._ConfigLoader;\n            const taxonomyFile = profile.Files?.taxonomyFile || profile.taxonomyFile;\n\n            if (!taxonomyFile && !profile.taxonomy) {\n                return null;\n            }\n\n            // V√©rifier si on doit charger la taxonomy (si features ont des cat√©gories)\n            const shouldLoad = this._shouldLoadTaxonomy();\n            if (!shouldLoad) {\n                Log.info(\"[ProfileV3Loader] Taxonomy.json non charg√© (aucune cat√©gorie d√©tect√©e dans les donn√©es)\");\n                return null;\n            }\n\n            if (taxonomyFile) {\n                try {\n                    const taxonomy = await Loader.fetchJson(\n                        `${baseUrl}/${taxonomyFile}?t=${timestamp}`,\n                        fetchOptions\n                    );\n                    Log.info(\"[ProfileV3Loader] Taxonomy.json charg√© avec succ√®s\");\n                    return taxonomy;\n                } catch (err) {\n                    Log.warn(\"[ProfileV3Loader] Erreur chargement taxonomy.json:\", err);\n                    return null;\n                }\n            }\n\n            return profile.taxonomy || null;\n        },\n\n        /**\n         * Charge themes.json si r√©f√©renc√©\n         * @private\n         */\n        async _loadThemes(profile, baseUrl, timestamp, fetchOptions) {\n            const Loader = GeoLeaf._ConfigLoader;\n            const themesFile = profile.Files?.themesFile || profile.themesFile;\n\n            if (themesFile) {\n                try {\n                    const themes = await Loader.fetchJson(\n                        `${baseUrl}/${themesFile}?t=${timestamp}`,\n                        fetchOptions\n                    );\n                    return themes;\n                } catch (err) {\n                    Log.warn(\"[ProfileV3Loader] Erreur chargement themes.json:\", err);\n                    return null;\n                }\n            }\n\n            return profile.themes || null;\n        },\n\n        /**\n         * Charge layers.json si r√©f√©renc√©\n         * @private\n         */\n        async _loadLayersFile(profile, baseUrl, timestamp, fetchOptions) {\n            const Loader = GeoLeaf._ConfigLoader;\n            const layersFile = profile.Files?.layersFile;\n\n            if (layersFile) {\n                try {\n                    const layers = await Loader.fetchJson(\n                        `${baseUrl}/${layersFile}?t=${timestamp}`,\n                        fetchOptions\n                    );\n                    return layers;\n                } catch (err) {\n                    Log.warn(\"[ProfileV3Loader] Erreur chargement layers.json:\", err);\n                    return null;\n                }\n            }\n\n            return null;\n        },\n\n        /**\n         * Charge les configurations individuelles des layers\n         * @private\n         */\n        async _loadLayerConfigs(layersSource, baseUrl, timestamp, fetchOptions) {\n            const Loader = GeoLeaf._ConfigLoader;\n\n            if (!Array.isArray(layersSource) || layersSource.length === 0) {\n                return [];\n            }\n\n            const promises = layersSource.map(async (layerRef) => {\n                if (!layerRef.configFile) {\n                    return {\n                        id: layerRef.id,\n                        config: null,\n                        layerDirectory: null,\n                        layerManagerId: layerRef.layerManagerId || null\n                    };\n                }\n\n                const layerDirectory = layerRef.configFile.replace(/\\/[^\\/]+$/, '');\n\n                try {\n                    const layerConfig = await Loader.fetchJson(\n                        `${baseUrl}/${layerRef.configFile}?t=${timestamp}`,\n                        fetchOptions\n                    );\n\n                    return {\n                        id: layerRef.id,\n                        config: layerConfig,\n                        layerDirectory: layerDirectory,\n                        layerManagerId: layerRef.layerManagerId || null\n                    };\n                } catch (err) {\n                    Log.error(`[ProfileV3Loader] Erreur chargement ${layerRef.configFile}:`, err);\n                    return {\n                        id: layerRef.id,\n                        config: null,\n                        layerDirectory: layerDirectory,\n                        layerManagerId: layerRef.layerManagerId || null\n                    };\n                }\n            });\n\n            return Promise.all(promises);\n        },\n\n        /**\n         * Construit le profil enrichi avec toutes les donn√©es charg√©es\n         * @private\n         */\n        _buildEnrichedProfile(params) {\n            const { profile, baseUrl, profileId, taxonomy, themes, layersSource, layersConfigs } = params;\n\n            const enrichedProfile = { ...profile };\n\n            // Ajouter le basePath pour r√©solution des chemins\n            enrichedProfile.basePath = baseUrl;\n            enrichedProfile._profileId = profileId;\n\n            // Int√©grer la taxonomie\n            if (taxonomy) {\n                enrichedProfile.taxonomy = taxonomy;\n            }\n\n            // Int√©grer les th√®mes\n            if (themes) {\n                enrichedProfile.themes = themes;\n            }\n\n            // Int√©grer les configurations de couches\n            if (layersConfigs && layersConfigs.length > 0) {\n                enrichedProfile.layers = layersConfigs.map(layerData => {\n                    if (layerData.config) {\n                        // Ajouter le layerDirectory, profileId ET layerManagerId √† la config\n                        const normalized = {\n                            ...layerData.config,\n                            _layerDirectory: layerData.layerDirectory,\n                            _profileId: profileId,\n                            layerManagerId: layerData.layerManagerId || layerData.config.layerManagerId || 'geojson-default'\n                        };\n\n                        // Normaliser data.file ‚Üí dataFile pour compatibilit√© GeoJSON loader\n                        if (normalized.data && normalized.data.file && !normalized.dataFile) {\n                            const dataDir = normalized.data.directory || 'data';\n                            normalized.dataFile = `${dataDir}/${normalized.data.file}`;\n                        }\n\n                        return normalized;\n                    }\n                    // Fallback si erreur de chargement\n                    const original = layersSource.find(l => l.id === layerData.id);\n                    return original || { id: layerData.id, error: \"Failed to load config\" };\n                });\n            }\n\n            return enrichedProfile;\n        },\n\n        /**\n         * D√©termine si un profil utilise la structure V3.0\n         * @param {Object} profile - Objet profile.json\n         * @returns {boolean} True si V3.0\n         */\n        isV3Profile(profile) {\n            if (!profile || typeof profile !== 'object') {\n                return false;\n            }\n\n            // D√©tection V3.0: pr√©sence de Files ou version >= 3.0.0\n            if (profile.Files && typeof profile.Files === 'object') {\n                return true;\n            }\n\n            if (profile.version) {\n                const versionMatch = profile.version.match(/^(\\d+)\\.(\\d+)/);\n                if (versionMatch) {\n                    const major = parseInt(versionMatch[1], 10);\n                    return major >= 3;\n                }\n            }\n\n            return false;\n        }\n    };\n\n    // Exposer le module\n    GeoLeaf._ProfileV3Loader = ProfileV3Loader;\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    /**\n     * Namespace global GeoLeaf\n     */\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    /**\n     * Logger unifi√©\n     */\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module Config.Profile\n     *\n     * Responsabilit√©s :\n     * - Chargement des profils m√©tier (tourism, etc.)\n     * - Gestion des ressources de profil : profile.json, poi.json, routes.json, mapping.json\n     * - API de consultation : getActiveProfile*()\n     * - √âv√©nements DOM : geoleaf:profile:loaded\n     */\n    const ProfileModule = {\n        /**\n         * Configuration interne (r√©f√©rence partag√©e)\n         * @type {Object}\n         * @private\n         */\n        _config: null,\n\n        /**\n         * Profil actuellement actif (ID du profil).\n         * @type {string|null}\n         * @private\n         */\n        _activeProfileId: null,\n\n        /**\n         * Description du profil actif (contenu de profile.json).\n         * @type {Object|null}\n         * @private\n         */\n        _activeProfile: null,\n\n        /**\n         * Donn√©es rattach√©es au profil actif :\n         * - poi.json normalis√©\n         * - routes.json\n         * - mapping.json\n         * @type {{poi: Array, routes: Array, mapping: Object|null}}\n         * @private\n         */\n        _activeProfileData: {\n            poi: [],\n            routes: [],\n            mapping: null\n        },\n\n        /**\n         * Initialise le module avec une r√©f√©rence √† la config.\n         *\n         * @param {Object} config - R√©f√©rence √† l'objet de configuration global\n         */\n        init(config) {\n            this._config = config;\n        },\n\n        /**\n         * Indique si l'usage de mapping.json pour normaliser les POI de profil est activ√©.\n         *\n         * üîé Cherche plusieurs noms possibles dans config.data pour rester robuste :\n         *   - config.data.enableProfilePoiMapping (nom recommand√©)\n         *   - config.data.useProfilePoiMapping\n         *   - config.data.useMapping (compatibilit√© √©ventuelle)\n         *\n         * @returns {boolean} true si le mapping doit √™tre utilis√©, false sinon.\n         */\n        isProfilePoiMappingEnabled() {\n            const dataCfg = this._config && this._config.data;\n            if (!dataCfg || typeof dataCfg !== \"object\") {\n                return true; // par d√©faut : mapping actif\n            }\n\n            if (typeof dataCfg.enableProfilePoiMapping === \"boolean\") {\n                return dataCfg.enableProfilePoiMapping;\n            }\n            if (typeof dataCfg.useProfilePoiMapping === \"boolean\") {\n                return dataCfg.useProfilePoiMapping;\n            }\n            if (typeof dataCfg.useMapping === \"boolean\") {\n                return dataCfg.useMapping;\n            }\n\n            return true;\n        },\n\n        /**\n         * Charge les ressources li√©es au profil actif :\n         * - profile.json\n         * - poi.json\n         * - mapping.json\n         * - routes.json\n         *\n         * Utilise config.data.activeProfile et config.data.profilesBasePath.\n         * Injecte aussi, pour compatibilit√©, les POI et routes dans this._config.poi / this._config.routes.\n         * Injecte d√©sormais la taxonomie (categories) depuis profile.json dans this._config.categories.\n         *\n         * @param {Object} [options]\n         * @param {Object} [options.headers] - Headers HTTP optionnels.\n         * @param {boolean} [options.strictContentType=true] - Validation stricte du Content-Type.\n         * @returns {Promise<Object>} Configuration consolid√©e incluant les donn√©es du profil.\n         */\n        loadActiveProfileResources(options = {}) {\n            const dataCfg = this._config && this._config.data;\n            if (!dataCfg || !dataCfg.activeProfile) {\n                Log.info(\n                    \"[GeoLeaf.Config.Profile] Aucun profil actif d√©fini dans config.data.activeProfile ; aucun chargement de profil effectu√©.\"\n                );\n                return Promise.resolve(this._config);\n            }\n\n            // Nouveau : mode layers-only (pas de poi.json / routes.json). Par d√©faut activ√©.\n            const useLegacyProfileData =\n                typeof dataCfg.useLegacyProfileData === \"boolean\"\n                    ? dataCfg.useLegacyProfileData\n                    : false;\n\n            const profileId = dataCfg.activeProfile;\n            const basePath = dataCfg.profilesBasePath || \"data/profiles\";\n            const baseUrl = `${basePath}/${profileId}`;\n\n            Log.info(\"[GeoLeaf.Config.Profile] D√©but du chargement du profil :\", {\n                profileId,\n                baseUrl,\n                configData: dataCfg\n            });\n\n            const fetchOptions = {\n                headers: options.headers || {},\n                strictContentType:\n                    typeof options.strictContentType === \"boolean\"\n                        ? options.strictContentType\n                        : true\n            };\n\n            const Loader = GeoLeaf._ConfigLoader;\n            const Normalization = GeoLeaf._ConfigNormalization;\n\n            if (!Loader || !Normalization) {\n                Log.error(\"[GeoLeaf.Config.Profile] Modules Loader ou Normalization non disponibles.\");\n                return Promise.reject(new Error(\"Required modules not available\"));\n            }\n\n            // üîß Nouveau : pilotage global de l'usage de mapping.json via config.data.*\n            const isPoiMappingEnabled = this.isProfilePoiMappingEnabled();\n            if (!isPoiMappingEnabled) {\n                Log.info(\n                    \"[GeoLeaf.Config.Profile] Mapping de POI d√©sactiv√© via configuration globale ; \" +\n                    \"les POI du profil seront consid√©r√©s comme d√©j√† normalis√©s.\"\n                );\n            }\n\n            Log.info(\"[GeoLeaf.Config.Profile] Chargement des ressources du profil actif :\", {\n                profileId,\n                baseUrl\n            });\n\n            const timestamp = Date.now();\n\n            // Branche legacy (maintien backward compat) : charge poi.json/routes.json\n            if (useLegacyProfileData) {\n                // Si le mapping est d√©sactiv√©, on ne charge pas mapping.json (Promise.resolve(null))\n                const mappingPromise = isPoiMappingEnabled\n                    ? Loader.fetchJson(`${baseUrl}/mapping.json?t=${timestamp}`, fetchOptions)\n                    : Promise.resolve(null);\n\n                // routes.json est optionnel - on tente de le charger mais on tol√®re son absence\n                const routesPromise = Loader.fetchJson(`${baseUrl}/routes.json?t=${timestamp}`, fetchOptions)\n                    .catch(() => {\n                        Log.info(\"[GeoLeaf.Config.Profile] routes.json non disponible ou invalide, utilisation d'un tableau vide.\");\n                        return [];\n                    });\n\n                return Promise.all([\n                    Loader.fetchJson(`${baseUrl}/profile.json?t=${timestamp}`, fetchOptions),\n                    Loader.fetchJson(`${baseUrl}/poi.json?t=${timestamp}`, fetchOptions),\n                    mappingPromise,\n                    routesPromise\n                ])\n                    .then(([profile, poi, mapping, routes]) => {\n                        return this._finalizeProfileLoad({\n                            profile,\n                            poi,\n                            routes,\n                            mapping,\n                            mappingEnabled: isPoiMappingEnabled\n                        });\n                    })\n                    .catch((err) => {\n                        Log.error(\n                            \"[GeoLeaf.Config.Profile] Erreur lors du chargement des ressources du profil actif :\",\n                            err\n                        );\n                        return this._config;\n                    });\n            }\n\n            // Nouveau chemin : layers-only. On charge d'abord profile.json pour v√©rifier si mapping est requis.\n            return Loader.fetchJson(`${baseUrl}/profile.json?t=${timestamp}`, fetchOptions)\n                .then((profile) => {\n                    // Utiliser la logique de d√©tection du ProfileV3Loader pour coh√©rence\n                    const isV3 = GeoLeaf._ProfileV3Loader && GeoLeaf._ProfileV3Loader.isV3Profile(profile);\n\n                    if (isV3) {\n                        Log.info(\"[GeoLeaf.Config.Profile] Profil v3.0 d√©tect√© - Chargement modulaire\");\n                        // Pour v3.0, retourner directement la config (pas besoin du .then suivant)\n                        return this._loadV3Profile(profile, baseUrl, timestamp, fetchOptions);\n                    }\n\n                    // Version 2.0 (ancien comportement)\n                    // V√©rifier si au moins une couche a normalized:false (n√©cessite mapping)\n                    let requiresMapping = false;\n                    if (profile && Array.isArray(profile.layers)) {\n                        requiresMapping = profile.layers.some(layer => layer.normalized === false);\n                    }\n\n                    // Charger mapping seulement si requis\n                    const mappingPromise = isPoiMappingEnabled && requiresMapping\n                        ? Loader.fetchJson(`${baseUrl}/mapping.json?t=${timestamp}`, fetchOptions).catch((err) => {\n                              Log.error(\"[GeoLeaf.Config.Profile] mapping.json requis (normalized:false) mais non trouv√© ou invalide.\", err);\n                              return null;\n                          })\n                        : Promise.resolve(null);\n\n                    return Promise.all([Promise.resolve(profile), mappingPromise]);\n                })\n                .then((result) => {\n                    // Si c'est un profil v3.0, on le retourne directement (pas un array)\n                    if (result && !Array.isArray(result)) {\n                        return result;\n                    }\n\n                    // Sinon c'est un array [profile, mapping] (v2.0)\n                    const [profile, mapping] = result;\n                    this._activeProfileId = profileId;\n                    this._activeProfile = profile || null;\n\n                    Log.info(\"[GeoLeaf.Config.Profile] Profil charg√© (layers-only)\", {\n                        profileId,\n                        profileLoaded: !!profile,\n                        profileKeys: profile ? Object.keys(profile) : []\n                    });\n\n                    // Dans ce mode, on ne pr√©charge pas les POI/Routes : ils seront lus via GeoJSON layers.\n                    this._activeProfileData = {\n                        poi: [],\n                        routes: [],\n                        mapping: mapping && typeof mapping === \"object\" ? mapping : null\n                    };\n\n                    // Taxonomie : reste depuis profile.json\n                    if (\n                        profile &&\n                        typeof profile === \"object\" &&\n                        profile.taxonomy &&\n                        profile.taxonomy.categories &&\n                        typeof profile.taxonomy.categories === \"object\" &&\n                        !Array.isArray(profile.taxonomy.categories)\n                    ) {\n                        this._config.categories = profile.taxonomy.categories;\n                        Log.info(\n                            \"[GeoLeaf.Config.Profile] Taxonomie des cat√©gories charg√©e (layers-only).\",\n                            {\n                                profileId,\n                                categoriesCount: Object.keys(profile.taxonomy.categories || {}).length\n                            }\n                        );\n                    }\n\n                    // Stockage par profil\n                    if (\n                        !this._config.profiles ||\n                        typeof this._config.profiles !== \"object\" ||\n                        Array.isArray(this._config.profiles)\n                    ) {\n                        this._config.profiles = {};\n                    }\n\n                    this._config.profiles[profileId] = {\n                        profile: this._activeProfile,\n                        poi: this._activeProfileData.poi,\n                        routes: this._activeProfileData.routes,\n                        mapping: this._activeProfileData.mapping\n                    };\n\n                    // √âv√©nement pour les autres modules\n                    this._fireProfileLoadedEvent(profileId, {\n                        profile: this._activeProfile,\n                        poi: this._activeProfileData.poi,\n                        routes: this._activeProfileData.routes,\n                        mapping: this._activeProfileData.mapping\n                    });\n\n                    return this._config;\n                })\n                .catch((err) => {\n                    Log.error(\n                        \"[GeoLeaf.Config.Profile] Erreur lors du chargement des ressources du profil actif :\",\n                        err\n                    );\n                    return this._config;\n                });\n        },\n\n        /**\n         * Charge un profil v3.0 avec structure modulaire\n         * @param {Object} profile - Objet profile.json v3.0\n         * @param {string} baseUrl - URL de base du profil\n         * @param {number} timestamp - Timestamp pour cache busting\n         * @param {Object} fetchOptions - Options de fetch\n         * @returns {Promise<Object>} Config consolid√©e\n         * @private\n         */\n        _loadV3Profile(profile, baseUrl, timestamp, fetchOptions) {\n            const profileId = this._config.data.activeProfile;\n\n            // Utiliser le ProfileV3Loader pour charger le profil\n            if (!GeoLeaf._ProfileV3Loader) {\n                Log.error(\"[GeoLeaf.Config.Profile] ProfileV3Loader non disponible\");\n                return Promise.reject(new Error(\"ProfileV3Loader non disponible\"));\n            }\n\n            return GeoLeaf._ProfileV3Loader.loadV3Profile(\n                profile,\n                baseUrl,\n                profileId,\n                timestamp,\n                fetchOptions\n            ).then(enrichedProfile => {\n                // Stocker le profil enrichi\n                this._activeProfileId = profileId;\n                this._activeProfile = enrichedProfile;\n\n                Log.info(\"[GeoLeaf.Config.Profile] Profil v3.0 charg√© avec succ√®s\", {\n                    profileId,\n                    hasTaxonomy: !!enrichedProfile.taxonomy,\n                    hasThemes: !!enrichedProfile.themes,\n                    layersCount: enrichedProfile.layers ? enrichedProfile.layers.length : 0\n                });\n\n                this._activeProfileData = {\n                    poi: [],\n                    routes: [],\n                    mapping: null\n                };\n\n                // Stocker la taxonomie dans config.categories pour compatibilit√©\n                if (enrichedProfile.taxonomy && enrichedProfile.taxonomy.categories) {\n                    this._config.categories = enrichedProfile.taxonomy.categories;\n                    Log.info(\"[GeoLeaf.Config.Profile] Taxonomie charg√©e depuis v3.0\", {\n                        categoriesCount: Object.keys(enrichedProfile.taxonomy.categories || {}).length\n                    });\n                }\n\n                // Copier toutes les propri√©t√©s du profil dans this._config\n                Object.keys(enrichedProfile).forEach(key => {\n                    if (key !== 'layers' && key !== 'taxonomy' && key !== 'themes') {\n                        this._config[key] = enrichedProfile[key];\n                    }\n                });\n\n                // Stocker par profil\n                if (!this._config.profiles || typeof this._config.profiles !== \"object\") {\n                    this._config.profiles = {};\n                }\n\n                this._config.profiles[profileId] = {\n                    profile: this._activeProfile,\n                    poi: [],\n                    routes: [],\n                    mapping: null\n                };\n\n                // √âv√©nement\n                this._fireProfileLoadedEvent(profileId, {\n                    profile: this._activeProfile,\n                    poi: [],\n                    routes: [],\n                    mapping: null\n                });\n\n                return enrichedProfile;\n            });\n        },\n\n        // Factorise la fin du chargement (branche legacy uniquement)\n        _finalizeProfileLoad({ profile, poi, routes, mapping, mappingEnabled }) {\n            const Normalization = GeoLeaf._ConfigNormalization;\n\n            this._activeProfile = profile || null;\n\n            Log.info(\n                \"[GeoLeaf.Config.Profile] Profil charg√© depuis profile.json :\",\n                {\n                    profileId: this._activeProfileId,\n                    profileLoaded: profile !== null && profile !== undefined,\n                    profileKeys: profile ? Object.keys(profile) : []\n                }\n            );\n\n            // Si le mapping est coup√© au niveau global, on l'ignore m√™me s'il existe\n            const mappingForNormalization =\n                mappingEnabled && mapping && typeof mapping === \"object\"\n                    ? mapping\n                    : null;\n\n            // 1) Normalisation STRUCTURELLE des POI\n            const structurallyNormalizedPoi = Array.isArray(poi)\n                ? Normalization.normalizePoiWithMapping(poi, mappingForNormalization)\n                : [];\n\n            // 2) Normalisation m√©tier des avis\n            const normalizedPoi = Normalization.normalizePoiArray(structurallyNormalizedPoi);\n\n            const safeMapping = mappingForNormalization;\n            const safeRoutes = Array.isArray(routes) ? routes : [];\n\n            this._activeProfileData = {\n                poi: normalizedPoi,\n                mapping: safeMapping,\n                routes: safeRoutes\n            };\n\n            // Injection r√©trocompatible dans la config globale\n            if (normalizedPoi.length) {\n                this._config.poi = normalizedPoi;\n            }\n            if (safeRoutes.length) {\n                this._config.routes = safeRoutes;\n            }\n\n            // Taxonomie\n            if (\n                profile &&\n                typeof profile === \"object\" &&\n                profile.taxonomy &&\n                profile.taxonomy.categories &&\n                typeof profile.taxonomy.categories === \"object\" &&\n                !Array.isArray(profile.taxonomy.categories)\n            ) {\n                this._config.categories = profile.taxonomy.categories;\n                Log.info(\n                    \"[GeoLeaf.Config.Profile] Taxonomie des cat√©gories charg√©e depuis le profil actif.\",\n                    {\n                        profileId: this._activeProfileId,\n                        categoriesCount: Object.keys(profile.taxonomy.categories || {}).length\n                    }\n                );\n            }\n\n            // Stockage par profil\n            if (\n                !this._config.profiles ||\n                typeof this._config.profiles !== \"object\" ||\n                Array.isArray(this._config.profiles)\n            ) {\n                this._config.profiles = {};\n            }\n\n            this._config.profiles[this._activeProfileId] = {\n                profile: this._activeProfile,\n                poi: this._activeProfileData.poi,\n                routes: this._activeProfileData.routes,\n                mapping: this._activeProfileData.mapping\n            };\n\n            // √âv√©nement\n            this._fireProfileLoadedEvent(this._activeProfileId, {\n                profile: this._activeProfile,\n                poi: this._activeProfileData.poi,\n                routes: this._activeProfileData.routes,\n                mapping: this._activeProfileData.mapping\n            });\n\n            return this._config;\n        },\n\n        /**\n         * Retourne l'identifiant du profil actuellement charg√© (ou null).\n         *\n         * @returns {string|null}\n         */\n        getActiveProfileId() {\n            return this._activeProfileId;\n        },\n\n        /**\n         * Retourne l'objet profile.json du profil actif (ou null).\n         *\n         * @returns {Object|null}\n         */\n        getActiveProfile() {\n            return this._activeProfile;\n        },\n\n        /**\n         * Retourne le tableau de POI normalis√©s du profil actif.\n         *\n         * @returns {Array}\n         */\n        getActiveProfilePoi() {\n            return (this._activeProfileData && Array.isArray(this._activeProfileData.poi))\n                ? this._activeProfileData.poi\n                : [];\n        },\n\n        /**\n         * Retourne le tableau de routes du profil actif.\n         *\n         * @returns {Array}\n         */\n        getActiveProfileRoutes() {\n            return (this._activeProfileData && Array.isArray(this._activeProfileData.routes))\n                ? this._activeProfileData.routes\n                : [];\n        },\n\n        /**\n         * Retourne l'objet de mapping du profil actif (mapping.json).\n         *\n         * @returns {Object|null}\n         */\n        getActiveProfileMapping() {\n            return (this._activeProfileData && this._activeProfileData.mapping)\n                ? this._activeProfileData.mapping\n                : null;\n        },\n\n        /**\n         * Retourne la configuration des ic√¥nes depuis la taxonomie du profil actif.\n         *\n         * @returns {Object|null}\n         */\n        getIconsConfig() {\n            return (this._activeProfile && this._activeProfile.taxonomy && this._activeProfile.taxonomy.icons)\n                ? this._activeProfile.taxonomy.icons\n                : null;\n        },\n\n        /**\n         * Retourne les configurations de couches charg√©es depuis le profil actif v3.0\n         *\n         * @returns {Array|null}\n         */\n        getActiveProfileLayersConfig() {\n            return (this._activeProfile && this._activeProfile.layers)\n                ? this._activeProfile.layers\n                : null;\n        },\n\n        /**\n         * √âmet un √©v√©nement DOM \"geoleaf:profile:loaded\" lorsque le profil\n         * actif et ses donn√©es associ√©es sont charg√©s.\n         *\n         * @param {string} profileId\n         * @param {Object} payload\n         * @private\n         */\n        _fireProfileLoadedEvent(profileId, payload) {\n            if (typeof document === \"undefined\" || typeof document.dispatchEvent !== \"function\") {\n                return;\n            }\n\n            try {\n                const event = new CustomEvent(\"geoleaf:profile:loaded\", {\n                    detail: {\n                        profileId,\n                        data: payload\n                    }\n                });\n                document.dispatchEvent(event);\n            } catch (e) {\n                try {\n                    const legacyEvent = document.createEvent(\"CustomEvent\");\n                    legacyEvent.initCustomEvent(\n                        \"geoleaf:profile:loaded\",\n                        false,\n                        false,\n                        {\n                            profileId,\n                            data: payload\n                        }\n                    );\n                    document.dispatchEvent(legacyEvent);\n                } catch (err) {\n                    Log.warn(\n                        \"[GeoLeaf.Config.Profile] Impossible d'√©mettre l'√©v√©nement geoleaf:profile:loaded.\"\n                    );\n                }\n            }\n        }\n    };\n\n    // Exposer le module\n    GeoLeaf._ConfigProfile = ProfileModule;\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    /**\n     * Namespace global GeoLeaf\n     */\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    /**\n     * Logger unifi√©\n     */\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module DataConverter\n     *\n     * Responsabilit√©s :\n     * - Convertir les donn√©es brutes (Array de POI, Array de routes) vers GeoJSON FeatureCollection\n     * - Normaliser les g√©om√©tries\n     * - G√©rer les diff√©rents formats : POI, LineString, Polygon\n     *\n     * Utilis√© par GeoLeaf.GeoJSON lors du chargement depuis profile.json\n     */\n    const DataConverterModule = {\n        /**\n         * Convertit un array de POI en GeoJSON FeatureCollection.\n         *\n         * Chaque POI doit avoir :\n         * - id (string)\n         * - latlng (array [lat, lng])\n         * - title (string)\n         * - attributes (object)\n         *\n         * @param {Array} poiArray - Array de POI\n         * @returns {Object} FeatureCollection GeoJSON\n         */\n        convertPoiArrayToGeoJSON(poiArray) {\n            if (!Array.isArray(poiArray)) {\n                Log.warn(\"[DataConverter.convertPoiArrayToGeoJSON] Input n'est pas un array, retour FeatureCollection vide\");\n                return {\n                    type: \"FeatureCollection\",\n                    features: []\n                };\n            }\n\n            const features = poiArray\n                .map((poi) => {\n                    if (!poi || typeof poi !== \"object\") {\n                        return null;\n                    }\n\n                    if (!poi.id) {\n                        Log.warn(\"[DataConverter.convertPoiArrayToGeoJSON] POI sans ID, ignor√©\", poi);\n                        return null;\n                    }\n\n                    // Valider latlng\n                    let coordinates = null;\n                    if (Array.isArray(poi.latlng) && poi.latlng.length === 2) {\n                        // GeoJSON utilise [lon, lat], mais les donn√©es utilisent [lat, lon]\n                        coordinates = [poi.latlng[1], poi.latlng[0]];\n                    } else if (\n                        poi.location &&\n                        typeof poi.location.lat === \"number\" &&\n                        typeof poi.location.lng === \"number\"\n                    ) {\n                        coordinates = [poi.location.lng, poi.location.lat];\n                    } else {\n                        Log.warn(\n                            \"[DataConverter.convertPoiArrayToGeoJSON] POI sans coordonn√©es valides, ignor√©\",\n                            { id: poi.id }\n                        );\n                        return null;\n                    }\n\n                    // Construire la feature GeoJSON\n                    const feature = {\n                        type: \"Feature\",\n                        id: poi.id,\n                        geometry: {\n                            type: \"Point\",\n                            coordinates: coordinates\n                        },\n                        properties: {\n                            id: poi.id,\n                            title: poi.title || \"Sans titre\",\n                            description: poi.description || \"\",\n                            ...poi.attributes // Fusionner les attributs\n                        }\n                    };\n\n                    return feature;\n                })\n                .filter((f) => f !== null);\n\n            Log.debug(\"[DataConverter.convertPoiArrayToGeoJSON] Converti\", {\n                input: poiArray.length,\n                output: features.length\n            });\n\n            return {\n                type: \"FeatureCollection\",\n                features: features\n            };\n        },\n\n        /**\n         * Convertit un array de routes (LineString) en GeoJSON FeatureCollection.\n         *\n         * Chaque route doit avoir :\n         * - id (string)\n         * - geometry avec type: \"LineString\" et coordinates\n         * - attributes (object optionnel)\n         *\n         * @param {Array} routeArray - Array de routes\n         * @returns {Object} FeatureCollection GeoJSON\n         */\n        convertRouteArrayToGeoJSON(routeArray) {\n            if (!Array.isArray(routeArray)) {\n                Log.warn(\"[DataConverter.convertRouteArrayToGeoJSON] Input n'est pas un array, retour FeatureCollection vide\");\n                return {\n                    type: \"FeatureCollection\",\n                    features: []\n                };\n            }\n\n            const features = routeArray\n                .map((route) => {\n                    if (!route || typeof route !== \"object\") {\n                        return null;\n                    }\n\n                    if (!route.id) {\n                        Log.warn(\"[DataConverter.convertRouteArrayToGeoJSON] Route sans ID, ignor√©e\", route);\n                        return null;\n                    }\n\n                    // Valider la g√©om√©trie\n                    if (!route.geometry || route.geometry.type !== \"LineString\" || !Array.isArray(route.geometry.coordinates)) {\n                        Log.warn(\n                            \"[DataConverter.convertRouteArrayToGeoJSON] Route sans g√©om√©trie LineString valide, ignor√©e\",\n                            { id: route.id }\n                        );\n                        return null;\n                    }\n\n                    // Construire la feature GeoJSON\n                    const feature = {\n                        type: \"Feature\",\n                        id: route.id,\n                        geometry: {\n                            type: \"LineString\",\n                            coordinates: route.geometry.coordinates\n                        },\n                        properties: {\n                            id: route.id,\n                            title: route.title || \"Sans titre\",\n                            description: route.description || \"\",\n                            categoryId: route.categoryId,\n                            subCategoryId: route.subCategoryId,\n                            ...route.attributes // Fusionner les attributs\n                        }\n                    };\n\n                    return feature;\n                })\n                .filter((f) => f !== null);\n\n            Log.debug(\"[DataConverter.convertRouteArrayToGeoJSON] Converti\", {\n                input: routeArray.length,\n                output: features.length\n            });\n\n            return {\n                type: \"FeatureCollection\",\n                features: features\n            };\n        },\n\n        /**\n         * Convertit un array de zones (Polygon) en GeoJSON FeatureCollection.\n         *\n         * Chaque zone doit avoir :\n         * - id (string)\n         * - geometry avec type: \"Polygon\" et coordinates\n         * - attributes (object optionnel)\n         *\n         * @param {Array} zoneArray - Array de zones\n         * @returns {Object} FeatureCollection GeoJSON\n         */\n        convertZoneArrayToGeoJSON(zoneArray) {\n            if (!Array.isArray(zoneArray)) {\n                Log.warn(\"[DataConverter.convertZoneArrayToGeoJSON] Input n'est pas un array, retour FeatureCollection vide\");\n                return {\n                    type: \"FeatureCollection\",\n                    features: []\n                };\n            }\n\n            const features = zoneArray\n                .map((zone) => {\n                    if (!zone || typeof zone !== \"object\") {\n                        return null;\n                    }\n\n                    if (!zone.id) {\n                        Log.warn(\"[DataConverter.convertZoneArrayToGeoJSON] Zone sans ID, ignor√©e\", zone);\n                        return null;\n                    }\n\n                    // Valider la g√©om√©trie\n                    if (!zone.geometry || zone.geometry.type !== \"Polygon\" || !Array.isArray(zone.geometry.coordinates)) {\n                        Log.warn(\n                            \"[DataConverter.convertZoneArrayToGeoJSON] Zone sans g√©om√©trie Polygon valide, ignor√©e\",\n                            { id: zone.id }\n                        );\n                        return null;\n                    }\n\n                    // Construire la feature GeoJSON\n                    const feature = {\n                        type: \"Feature\",\n                        id: zone.id,\n                        geometry: {\n                            type: \"Polygon\",\n                            coordinates: zone.geometry.coordinates\n                        },\n                        properties: {\n                            id: zone.id,\n                            title: zone.title || zone.siteName || \"Sans titre\",\n                            description: zone.description || \"\",\n                            ...zone.attributes // Fusionner les attributs\n                        }\n                    };\n\n                    return feature;\n                })\n                .filter((f) => f !== null);\n\n            Log.debug(\"[DataConverter.convertZoneArrayToGeoJSON] Converti\", {\n                input: zoneArray.length,\n                output: features.length\n            });\n\n            return {\n                type: \"FeatureCollection\",\n                features: features\n            };\n        },\n\n        /**\n         * Convertit un string GPX en GeoJSON FeatureCollection.\n         *\n         * Parse les √©l√©ments waypoints et tracks, cr√©e des Points ou LineStrings.\n         *\n         * @param {string} gpxString - Contenu XML du fichier GPX\n         * @returns {Object} FeatureCollection GeoJSON\n         */\n        convertGpxToGeoJSON(gpxString) {\n            if (!gpxString || typeof gpxString !== \"string\") {\n                Log.warn(\"[DataConverter.convertGpxToGeoJSON] GPX string invalide\");\n                return {\n                    type: \"FeatureCollection\",\n                    features: []\n                };\n            }\n\n            try {\n                // Parser le XML\n                const parser = new DOMParser();\n                const gpxDoc = parser.parseFromString(gpxString, \"text/xml\");\n\n                const parseErrors = gpxDoc.getElementsByTagName(\"parsererror\");\n                if (parseErrors.length > 0) {\n                    Log.error(\"[DataConverter.convertGpxToGeoJSON] Erreur parsing XML:\", parseErrors[0].textContent);\n                    return {\n                        type: \"FeatureCollection\",\n                        features: []\n                    };\n                }\n\n                const features = [];\n                const gpxNamespace = \"http://www.topografix.com/GPX/1/1\";\n\n                // 1. Parser les waypoints (wpt)\n                const waypoints = gpxDoc.getElementsByTagName(\"wpt\");\n                for (let i = 0; i < waypoints.length; i++) {\n                    const wpt = waypoints[i];\n                    const lat = parseFloat(wpt.getAttribute(\"lat\"));\n                    const lon = parseFloat(wpt.getAttribute(\"lon\"));\n\n                    if (!isNaN(lat) && !isNaN(lon)) {\n                        const nameElem = wpt.getElementsByTagName(\"name\")[0];\n                        const descElem = wpt.getElementsByTagName(\"desc\")[0];\n                        const symElem = wpt.getElementsByTagName(\"sym\")[0];\n\n                        // Extraire les extensions GeoLeaf si pr√©sentes\n                        const geoLeafExt = {};\n                        const tagsList = []; // Accumulateur pour les tags multiples\n                        const extensions = wpt.getElementsByTagName(\"extensions\");\n                        if (extensions.length > 0) {\n                            const ext = extensions[0];\n                            // Utiliser childNodes pour √™tre s√ªr d'avoir tous les √©l√©ments\n                            for (let j = 0; j < ext.childNodes.length; j++) {\n                                const child = ext.childNodes[j];\n                                // Ignorer les n≈ìuds texte\n                                if (child.nodeType !== 1) continue;\n\n                                // R√©cup√©rer le nom du tag (g√®re les namespaces)\n                                const tagName = child.tagName || child.nodeName || '';\n                                const localName = child.localName || tagName.split(':').pop();\n\n                                // V√©rifier si c'est une extension GeoLeaf\n                                const isGeoLeaf = tagName.toLowerCase().startsWith(\"geoleaf:\") ||\n                                    (child.namespaceURI && child.namespaceURI.includes(\"geoleaf\"));\n\n                                if (isGeoLeaf || tagName.includes(':')) {\n                                    // Utiliser localName comme cl√© (sans pr√©fixe)\n                                    const key = localName || tagName.replace(/^[^:]+:/, '');\n                                    const value = child.textContent || '';\n\n                                    // Cas sp√©cial : les tags sont accumul√©s dans un tableau\n                                    if (key === 'tag' || key === 'tags') {\n                                        if (value) tagsList.push(value);\n                                    } else {\n                                        geoLeafExt[key] = value;\n                                    }\n                                }\n                            }\n                        }\n\n                        // Ajouter les tags comme tableau si pr√©sents\n                        if (tagsList.length > 0) {\n                            geoLeafExt.tags = tagsList;\n                        }\n\n                        const feature = {\n                            type: \"Feature\",\n                            id: geoLeafExt.id || (nameElem ? nameElem.textContent : `wpt-${i}`),\n                            geometry: {\n                                type: \"Point\",\n                                coordinates: [lon, lat]\n                            },\n                            properties: {\n                                id: geoLeafExt.id || (nameElem ? nameElem.textContent : `wpt-${i}`),\n                                title: nameElem ? nameElem.textContent : `Waypoint ${i + 1}`,\n                                description: descElem ? descElem.textContent : \"\",\n                                symbol: symElem ? symElem.textContent : \"\",\n                                ...geoLeafExt // Inclure les extensions GeoLeaf\n                            }\n                        };\n\n                        features.push(feature);\n                    }\n                }\n\n                // 2. Parser les tracks (trk)\n                const tracks = gpxDoc.getElementsByTagName(\"trk\");\n                for (let i = 0; i < tracks.length; i++) {\n                    const trk = tracks[i];\n                    const nameElem = trk.getElementsByTagName(\"name\")[0];\n                    const descElem = trk.getElementsByTagName(\"desc\")[0];\n\n                    // Extraire les extensions GeoLeaf pour le track\n                    const trkGeoLeafExt = {};\n                    const trkTagsList = []; // Accumulateur pour les tags multiples\n                    const trkExtensions = trk.getElementsByTagName(\"extensions\");\n                    if (trkExtensions.length > 0) {\n                        const ext = trkExtensions[0];\n                        for (let m = 0; m < ext.childNodes.length; m++) {\n                            const child = ext.childNodes[m];\n                            if (child.nodeType !== 1) continue;\n\n                            const tagName = child.tagName || child.nodeName || '';\n                            const localName = child.localName || tagName.split(':').pop();\n\n                            const isGeoLeaf = tagName.toLowerCase().startsWith(\"geoleaf:\") ||\n                                (child.namespaceURI && child.namespaceURI.includes(\"geoleaf\"));\n\n                            if (isGeoLeaf || tagName.includes(':')) {\n                                const key = localName || tagName.replace(/^[^:]+:/, '');\n                                const value = child.textContent || '';\n\n                                // Cas sp√©cial : les tags sont accumul√©s dans un tableau\n                                if (key === 'tag' || key === 'tags') {\n                                    if (value) trkTagsList.push(value);\n                                } else {\n                                    trkGeoLeafExt[key] = value;\n                                }\n                            }\n                        }\n                    }\n\n                    // Ajouter les tags comme tableau si pr√©sents\n                    if (trkTagsList.length > 0) {\n                        trkGeoLeafExt.tags = trkTagsList;\n                    }\n\n                    const segments = trk.getElementsByTagName(\"trkseg\");\n                    for (let j = 0; j < segments.length; j++) {\n                        const segment = segments[j];\n                        const trkpts = segment.getElementsByTagName(\"trkpt\");\n\n                        const coordinates = [];\n                        for (let k = 0; k < trkpts.length; k++) {\n                            const trkpt = trkpts[k];\n                            const lat = parseFloat(trkpt.getAttribute(\"lat\"));\n                            const lon = parseFloat(trkpt.getAttribute(\"lon\"));\n\n                            if (!isNaN(lat) && !isNaN(lon)) {\n                                coordinates.push([lon, lat]);\n                            }\n                        }\n\n                        if (coordinates.length > 0) {\n                            const feature = {\n                                type: \"Feature\",\n                                id: nameElem ? `${nameElem.textContent}-${j}` : `trk-${i}-${j}`,\n                                geometry: {\n                                    type: \"LineString\",\n                                    coordinates: coordinates\n                                },\n                                properties: {\n                                    id: nameElem ? `${nameElem.textContent}-${j}` : `trk-${i}-${j}`,\n                                    title: nameElem ? nameElem.textContent : `Track ${i + 1}`,\n                                    description: descElem ? descElem.textContent : \"\",\n                                    segmentIndex: j,\n                                    pointCount: coordinates.length,\n                                    ...trkGeoLeafExt // Inclure les extensions GeoLeaf du track\n                                }\n                            };\n\n                            features.push(feature);\n                        }\n                    }\n                }\n\n                Log.debug(\"[DataConverter.convertGpxToGeoJSON] Converti\", {\n                    waypoints: waypoints.length,\n                    tracks: tracks.length,\n                    features: features.length\n                });\n\n                return {\n                    type: \"FeatureCollection\",\n                    features: features\n                };\n            } catch (err) {\n                Log.error(\"[DataConverter.convertGpxToGeoJSON] Erreur lors du parsing GPX:\", err);\n                return {\n                    type: \"FeatureCollection\",\n                    features: []\n                };\n            }\n        },\n\n        /**\n         * D√©tecte automatiquement le type de donn√©es et les convertit en GeoJSON.\n         *\n         * Strat√©gie de d√©tection :\n         * 1. Si d√©j√† GeoJSON (type: \"FeatureCollection\"), retourner tel quel\n         * 2. Si array : analyser le premier √©l√©ment\n         *    - S'il a \"latlng\" ou \"location\" ‚Üí POI\n         *    - S'il a \"geometry.type === 'LineString'\" ‚Üí Route\n         *    - S'il a \"geometry.type === 'Polygon'\" ‚Üí Zone\n         * 3. Sinon : retourner vide\n         *\n         * @param {*} data - Donn√©es √† convertir\n         * @returns {Object} FeatureCollection GeoJSON\n         */\n        autoConvert(data) {\n            if (!data) {\n                Log.warn(\"[DataConverter.autoConvert] Donn√©es nulles, retour FeatureCollection vide\");\n                return {\n                    type: \"FeatureCollection\",\n                    features: []\n                };\n            }\n\n            // Cas 1 : D√©j√† GeoJSON\n            if (data.type === \"FeatureCollection\" && Array.isArray(data.features)) {\n                Log.debug(\"[DataConverter.autoConvert] Donn√©es d√©j√† en GeoJSON, passage direct\");\n                return data;\n            }\n\n            if (data.type === \"Feature\" && data.geometry) {\n                Log.debug(\"[DataConverter.autoConvert] Feature unique, conversion en FeatureCollection\");\n                return {\n                    type: \"FeatureCollection\",\n                    features: [data]\n                };\n            }\n\n            // Cas 2 : Array\n            if (!Array.isArray(data) || data.length === 0) {\n                Log.warn(\"[DataConverter.autoConvert] Donn√©es ne sont pas un array ou array vide\");\n                return {\n                    type: \"FeatureCollection\",\n                    features: []\n                };\n            }\n\n            const firstItem = data[0];\n\n            if (!firstItem || typeof firstItem !== \"object\") {\n                Log.warn(\"[DataConverter.autoConvert] Premier √©l√©ment invalide\");\n                return {\n                    type: \"FeatureCollection\",\n                    features: []\n                };\n            }\n\n            // Analyser le type\n            if (firstItem.latlng || (firstItem.location && typeof firstItem.location.lat === \"number\")) {\n                // POI\n                Log.debug(\"[DataConverter.autoConvert] D√©tect√© comme array de POI\");\n                return this.convertPoiArrayToGeoJSON(data);\n            } else if (\n                firstItem.geometry &&\n                firstItem.geometry.type === \"LineString\" &&\n                Array.isArray(firstItem.geometry.coordinates)\n            ) {\n                // Route\n                Log.debug(\"[DataConverter.autoConvert] D√©tect√© comme array de routes\");\n                return this.convertRouteArrayToGeoJSON(data);\n            } else if (\n                firstItem.geometry &&\n                firstItem.geometry.type === \"Polygon\" &&\n                Array.isArray(firstItem.geometry.coordinates)\n            ) {\n                // Zone\n                Log.debug(\"[DataConverter.autoConvert] D√©tect√© comme array de zones\");\n                return this.convertZoneArrayToGeoJSON(data);\n            } else {\n                Log.warn(\"[DataConverter.autoConvert] Type de donn√©es non reconnu\");\n                return {\n                    type: \"FeatureCollection\",\n                    features: []\n                };\n            }\n        }\n    };\n\n    // Exposition de l'API\n    GeoLeaf._DataConverter = DataConverterModule;\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core ‚Äì Config / Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    /**\n     * Namespace global GeoLeaf\n     */\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    /**\n     * Logger unifi√© (d√©fini par geoleaf.logger-shim.js charg√© en premier)\n     */\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module GeoLeaf.Config\n     *\n     * R√¥le :\n     * - Centraliser la configuration de GeoLeaf (options carte, basemaps, th√®mes, etc.)\n     * - Charger une configuration depuis un objet JS ou un fichier JSON externe (fetch)\n     * - Fournir des helpers pour lire / √©crire via chemins de type \"map.center\" ou \"basemaps.street.url\"\n     * - G√©rer les profils m√©tiers (tourism, etc.) et leurs ressources associ√©es\n     *\n     * Architecture Phase 4 :\n     * - config/loader.js       : Chargement HTTP, fetch, validation CSRF\n     * - config/taxonomy.js     : Gestion taxonomie (cat√©gories/sous-cat√©gories)\n     * - config/storage.js      : get/set/merge config, helpers paths\n     * - config/normalization.js: Normalisation POI (mapping brut‚ÜíGeoLeaf)\n     * - config/profile.js      : Gestion profils m√©tier (profile.json, poi.json, routes.json)\n     */\n    const Config = GeoLeaf.Config = GeoLeaf.Config || {};\n\n    /* ------------------------------------------------------------------ */\n    /*  Module-level state                                                 */\n    /* ------------------------------------------------------------------ */\n\n    /**\n     * Configuration interne consolid√©e\n     * @type {Object}\n     * @private\n     */\n    Config._config = {};\n\n    /**\n     * Indicateur de chargement\n     * @type {boolean}\n     * @private\n     */\n    Config._isLoaded = false;\n\n    /**\n     * Source de la configuration (\"inline\", \"url\", null)\n     * @type {string|null}\n     * @private\n     */\n    Config._source = null;\n\n    /**\n     * Options internes\n     * @type {{autoEvent: boolean}}\n     * @private\n     */\n    Config._options = {\n        /**\n         * Si true, √©met un √©v√©nement DOM \"geoleaf:config:loaded\" apr√®s chargement.\n         */\n        autoEvent: true\n    };\n\n    /* ------------------------------------------------------------------ */\n    /*  Core methods                                                       */\n    /* ------------------------------------------------------------------ */\n\n    /**\n     * Initialisation du module de configuration.\n     *\n     * @param {Object} [options]\n     * @param {Object} [options.config] - Objet de configuration fourni directement.\n     * @param {string} [options.url] - URL d'un fichier JSON √† charger.\n     * @param {Object} [options.headers] - Headers HTTP personnalis√©s pour loadUrl (ex: CSRF token).\n     * @param {boolean} [options.strictContentType=true] - Validation stricte du Content-Type.\n     * @param {boolean} [options.autoEvent] - D√©sactiver ou non l'√©v√©nement auto.\n     * @param {Function} [options.onLoaded] - Callback appel√© une fois la config disponible (apr√®s mapping).\n     *\n     * @param {Object}  [options.mappingHeaders]\n     *        Headers HTTP sp√©cifiques pour le mapping (sinon ceux de headers sont r√©utilis√©s).\n     * @param {boolean} [options.mappingStrictContentType]\n     *        Si d√©fini, surcharge strictContentType pour le mapping.\n     *\n     * @returns {Promise<Object>} - Promesse r√©solue avec l'objet de configuration.\n     */\n    Config.init = function (options = {}) {\n        this._options = Object.assign({}, this._options, {\n            autoEvent:\n                typeof options.autoEvent === \"boolean\"\n                    ? options.autoEvent\n                    : this._options.autoEvent\n        });\n\n        // Cas 1 : configuration inline (objet JS directement fourni)\n        if (options.config && typeof options.config === \"object\") {\n            this._applyConfig(options.config, \"inline\");\n\n            // Si un profileId est sp√©cifi√©, le mettre √† jour apr√®s l'application de la config\n            if (typeof options.profileId === \"string\" && options.profileId.length > 0) {\n                if (!this._config.data) {\n                    this._config.data = {};\n                }\n                this._config.data.activeProfile = options.profileId;\n                Log.info(\"[GeoLeaf.Config] Profil actif chang√© vers:\", options.profileId);\n            }\n\n            this._maybeFireLoadedEvent();\n\n            if (typeof options.onLoaded === \"function\") {\n                try {\n                    options.onLoaded(this._config);\n                } catch (e) {\n                    Log.error(\"[GeoLeaf.Config] Erreur dans onLoaded (inline) :\", e);\n                }\n            }\n\n            return Promise.resolve(this._config);\n        }\n\n        // Cas 2 : chargement via URL JSON\n        if (typeof options.url === \"string\" && options.url.length > 0) {\n            const loadOptions = {\n                headers: options.headers,\n                strictContentType:\n                    typeof options.strictContentType === \"boolean\"\n                        ? options.strictContentType\n                        : true\n            };\n\n            const mappingUrl =\n                typeof options.mappingUrl === \"string\" && options.mappingUrl.length > 0\n                    ? options.mappingUrl\n                    : null;\n\n            const mappingOptions = {\n                headers: options.mappingHeaders || options.headers,\n                strictContentType:\n                    typeof options.mappingStrictContentType === \"boolean\"\n                        ? options.mappingStrictContentType\n                        : loadOptions.strictContentType\n            };\n\n            // 1) Charger la config principale\n            return this.loadUrl(options.url, loadOptions)\n                .then((cfg) => {\n                    // Appliquer le profileId APR√àS le chargement de l'URL\n                    if (typeof options.profileId === \"string\" && options.profileId.length > 0) {\n                        if (!cfg.data) {\n                            cfg.data = {};\n                        }\n                        cfg.data.activeProfile = options.profileId;\n                        this._config.data.activeProfile = options.profileId;\n                        Log.info(\"[GeoLeaf.Config] Profil actif chang√© vers:\", options.profileId);\n                    }\n                    return cfg;\n                })\n                // 2) Charger le mapping cat√©gories (si URL fournie)\n                .then((cfg) => {\n                    if (!mappingUrl) {\n                        return cfg;\n                    }\n\n                    return this.loadTaxonomy(mappingUrl, mappingOptions)\n                        .then(() => cfg)\n                        .catch((err) => {\n                            Log.warn(\n                                \"[GeoLeaf.Config] √âchec du chargement du mapping cat√©gories depuis \" +\n                                mappingUrl +\n                                \" (GeoLeaf continuera sans mapping d√©di√©) :\",\n                                err\n                            );\n                            return cfg;\n                        });\n                })\n                // 3) Appeler onLoaded une fois TOUT charg√© (config + mapping)\n                .then((cfg) => {\n                    if (typeof options.onLoaded === \"function\") {\n                        try {\n                            options.onLoaded(cfg);\n                        } catch (e) {\n                            Log.error(\"[GeoLeaf.Config] Erreur dans onLoaded (url+mapping) :\", e);\n                        }\n                    }\n                    return cfg;\n                })\n                .catch((err) => {\n                    Log.error(\"[GeoLeaf.Config] Erreur init() avec url :\", err);\n\n                    // Appeler onError si fourni\n                    if (typeof options.onError === \"function\") {\n                        try {\n                            options.onError(err);\n                        } catch (e) {\n                            Log.error(\"[GeoLeaf.Config] Erreur dans onError :\", e);\n                        }\n                    }\n\n                    throw err; // Re-throw pour que la Promise soit rejet√©e\n                });\n        }\n\n        // Cas 3 : Aucun param√®tre fourni : on se contente d'un objet vide\n        this._applyConfig({}, \"inline\");\n\n        // Si un profileId est sp√©cifi√©, le mettre √† jour\n        if (typeof options.profileId === \"string\" && options.profileId.length > 0) {\n            if (!this._config.data) {\n                this._config.data = {};\n            }\n            this._config.data.activeProfile = options.profileId;\n            Log.info(\"[GeoLeaf.Config] Profil actif chang√© vers:\", options.profileId);\n        }\n\n        this._maybeFireLoadedEvent();\n\n        if (typeof options.onLoaded === \"function\") {\n            try {\n                options.onLoaded(this._config);\n            } catch (e) {\n                Log.error(\"[GeoLeaf.Config] Erreur dans onLoaded (vide) :\", e);\n            }\n        }\n\n        return Promise.resolve(this._config);\n    };\n\n    /**\n     * Initialise les sous-modules avec la r√©f√©rence partag√©e √† la config.\n     *\n     * @private\n     */\n    Config._initSubModules = function () {\n        const Storage = GeoLeaf._ConfigStorage;\n        const Taxonomy = GeoLeaf._ConfigTaxonomy;\n        const Profile = GeoLeaf._ConfigProfile;\n\n        if (Storage && typeof Storage.init === \"function\") {\n            Storage.init(this._config);\n        }\n        if (Taxonomy && typeof Taxonomy.init === \"function\") {\n            Taxonomy.init(this._config);\n        }\n        if (Profile && typeof Profile.init === \"function\") {\n            Profile.init(this._config);\n        }\n    };\n\n    /**\n     * Applique une configuration brute (remplace la pr√©c√©dente de mani√®re fusionn√©e).\n     *\n     * @param {Object} cfg\n     * @param {string} source\n     * @private\n     */\n    Config._applyConfig = function (cfg, source) {\n        if (typeof cfg !== \"object\" || cfg === null) {\n            cfg = {};\n        }\n\n        // Validation de la structure du JSON\n        this._validateConfig(cfg);\n\n        // Fusion profonde avec la configuration existante\n        const Storage = GeoLeaf._ConfigStorage;\n        if (Storage && typeof Storage.deepMerge === \"function\") {\n            this._config = Storage.deepMerge(this._config, cfg);\n        } else {\n            this._config = Object.assign({}, this._config, cfg);\n        }\n\n        // Normalisation des POI (avis) apr√®s fusion\n        const Normalization = GeoLeaf._ConfigNormalization;\n        if (Array.isArray(this._config.poi) && Normalization) {\n            this._config.poi = Normalization.normalizePoiArray(this._config.poi);\n        }\n\n        this._isLoaded = true;\n        this._source = source || \"inline\";\n\n        // Initialiser les sous-modules maintenant que _config est charg√©\n        this._initSubModules();\n\n        try {\n            // On r√©cup√®re le bloc \"logging\" soit depuis le cfg brut, soit depuis la configuration consolid√©e\n            const loggingCfg =\n                (cfg && typeof cfg === \"object\" && cfg.logging)\n                    ? cfg.logging\n                    : (this._config && this._config.logging ? this._config.logging : null);\n\n            // Prise en compte du flag global debug\n            let level = loggingCfg && loggingCfg.level;\n            let debugFlag = false;\n            if ((cfg && typeof cfg.debug !== 'undefined')) {\n                debugFlag = !!cfg.debug;\n            } else if (this._config && typeof this._config.debug !== 'undefined') {\n                debugFlag = !!this._config.debug;\n            }\n\n            if (!level) {\n                level = debugFlag ? 'debug' : 'info';\n            }\n\n            if (level && GeoLeaf.Log && typeof GeoLeaf.Log.setLevel === \"function\") {\n                GeoLeaf.Log.setLevel(level);\n                Log.info(\"[GeoLeaf.Config] Niveau de log appliqu√© depuis la configuration :\", level, \"(debug:\", debugFlag, \")\");\n            }\n        } catch (e) {\n            Log.warn(\"[GeoLeaf.Config] Impossible d'appliquer le niveau de log depuis la configuration :\", e);\n        }\n    };\n\n    /**\n     * Indique si la configuration est consid√©r√©e comme \"charg√©e\".\n     *\n     * @returns {boolean}\n     */\n    Config.isLoaded = function () {\n        return this._isLoaded;\n    };\n\n    /**\n     * Retourne la source de la config (\"inline\", \"url\", null).\n     *\n     * @returns {string|null}\n     */\n    Config.getSource = function () {\n        return this._source;\n    };\n\n    /**\n     * Envoie un √©v√©nement DOM \"geoleaf:config:loaded\" si autoEvent = true.\n     *\n     * @private\n     */\n    Config._maybeFireLoadedEvent = function () {\n        if (!this._options.autoEvent) {\n            return;\n        }\n\n        if (typeof document === \"undefined\" || typeof document.dispatchEvent !== \"function\") {\n            return;\n        }\n\n        try {\n            const event = new CustomEvent(\"geoleaf:config:loaded\", {\n                detail: {\n                    config: this._config,\n                    source: this._source\n                }\n            });\n            document.dispatchEvent(event);\n        } catch (e) {\n            // En environnement tr√®s ancien, CustomEvent peut ne pas exister\n            try {\n                const legacyEvent = document.createEvent(\"CustomEvent\");\n                legacyEvent.initCustomEvent(\n                    \"geoleaf:config:loaded\",\n                    false,\n                    false,\n                    {\n                        config: this._config,\n                        source: this._source\n                    }\n                );\n                document.dispatchEvent(legacyEvent);\n            } catch (err) {\n                // On ne bloque pas le fonctionnement si l'√©v√©nement √©choue\n                Log.warn(\"[GeoLeaf.Config] Impossible d'√©mettre l'√©v√©nement geoleaf:config:loaded.\");\n            }\n        }\n    };\n\n})(window);\n","/*!\n * GeoLeaf Core ‚Äì Config / Validation\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf;\n    const Log = GeoLeaf.Log;\n    const Config = GeoLeaf.Config;\n\n    /**\n     * Valide la structure du JSON de configuration.\n     * Lance une erreur si les donn√©es critiques sont invalides.\n     *\n     * @param {Object} cfg - Configuration √† valider\n     * @throws {Error} Si la structure est invalide\n     * @private\n     */\n    Config._validateConfig = function (cfg) {\n        if (!cfg || typeof cfg !== \"object\") {\n            return; // Pas de validation si vide\n        }\n\n        // Validation de map.center\n        if (cfg.map && cfg.map.center !== undefined) {\n            if (\n                !Array.isArray(cfg.map.center) ||\n                cfg.map.center.length !== 2 ||\n                typeof cfg.map.center[0] !== \"number\" ||\n                typeof cfg.map.center[1] !== \"number\"\n            ) {\n                throw new Error(\n                    \"[GeoLeaf.Config] map.center doit √™tre un tableau de 2 nombres [lat, lng].\"\n                );\n            }\n        }\n\n        // Validation de map.zoom\n        if (cfg.map && cfg.map.zoom !== undefined) {\n            if (typeof cfg.map.zoom !== \"number\" || cfg.map.zoom < 0 || cfg.map.zoom > 20) {\n                throw new Error(\n                    \"[GeoLeaf.Config] map.zoom doit √™tre un nombre entre 0 et 20.\"\n                );\n            }\n        }\n\n        // Validation de basemaps\n        if (cfg.basemaps !== undefined) {\n            if (typeof cfg.basemaps !== \"object\" || cfg.basemaps === null) {\n                throw new Error(\n                    \"[GeoLeaf.Config] basemaps doit √™tre un objet.\"\n                );\n            }\n        }\n\n        // Validation de poi\n        if (cfg.poi !== undefined) {\n            if (!Array.isArray(cfg.poi)) {\n                throw new Error(\n                    \"[GeoLeaf.Config] poi doit √™tre un tableau.\"\n                );\n            }\n        }\n\n        // Validation de geojson\n        if (cfg.geojson !== undefined) {\n            if (!Array.isArray(cfg.geojson)) {\n                throw new Error(\n                    \"[GeoLeaf.Config] geojson doit √™tre un tableau.\"\n                );\n            }\n        }\n\n        // Validation de categories\n        if (cfg.categories !== undefined) {\n            if (\n                typeof cfg.categories !== \"object\" ||\n                cfg.categories === null ||\n                Array.isArray(cfg.categories)\n            ) {\n                throw new Error(\n                    \"[GeoLeaf.Config] categories doit √™tre un objet.\"\n                );\n            }\n\n            // Valider chaque cat√©gorie\n            Object.entries(cfg.categories).forEach(([catId, catData]) => {\n                if (!catData || typeof catData !== \"object\") {\n                    Log.warn(\n                        `[GeoLeaf.Config] Cat√©gorie '${catId}' invalide (doit √™tre un objet).`\n                    );\n                    return;\n                }\n\n                if (!catData.label || typeof catData.label !== \"string\") {\n                    Log.warn(\n                        `[GeoLeaf.Config] Cat√©gorie '${catId}' : le champ 'label' est manquant ou invalide.`\n                    );\n                }\n\n                // Validation couleurs : accepter soit 'color' (ancien format), soit 'colorFill'/'colorStroke' (nouveau format)\n                const hasOldFormat = catData.color && typeof catData.color === \"string\";\n                const hasNewFormat =\n                    (catData.colorFill && typeof catData.colorFill === \"string\") ||\n                    (catData.colorStroke && typeof catData.colorStroke === \"string\");\n\n                if (!hasOldFormat && !hasNewFormat) {\n                    Log.warn(\n                        `[GeoLeaf.Config] Cat√©gorie '${catId}' : aucune couleur d√©finie (ni 'color', ni 'colorFill'/'colorStroke').`\n                    );\n                }\n\n                // Valider les sous-cat√©gories\n                if (catData.subcategories !== undefined) {\n                    if (\n                        typeof catData.subcategories !== \"object\" ||\n                        catData.subcategories === null ||\n                        Array.isArray(catData.subcategories)\n                    ) {\n                        Log.warn(\n                            `[GeoLeaf.Config] Cat√©gorie '${catId}' : subcategories doit √™tre un objet.`\n                        );\n                        return;\n                    }\n\n                    Object.entries(catData.subcategories).forEach(([subId, subData]) => {\n                        if (!subData || typeof subData !== \"object\") {\n                            Log.warn(\n                                `[GeoLeaf.Config] Sous-cat√©gorie '${subId}' dans '${catId}' invalide (doit √™tre un objet).`\n                            );\n                            return;\n                        }\n\n                        if (!subData.label || typeof subData.label !== \"string\") {\n                            Log.warn(\n                                `[GeoLeaf.Config] Sous-cat√©gorie '${subId}' dans '${catId}' : le champ 'label' est manquant ou invalide.`\n                            );\n                        }\n\n                        const hasOldFormatSub =\n                            subData.color && typeof subData.color === \"string\";\n                        const hasNewFormatSub =\n                            (subData.colorFill && typeof subData.colorFill === \"string\") ||\n                            (subData.colorStroke && typeof subData.colorStroke === \"string\");\n\n                        if (!hasOldFormatSub && !hasNewFormatSub) {\n                            Log.warn(\n                                `[GeoLeaf.Config] Sous-cat√©gorie '${subId}' dans '${catId}' : aucune couleur d√©finie (ni 'color', ni 'colorFill'/'colorStroke').`\n                            );\n                        }\n                    });\n                }\n            });\n        }\n\n        Log.debug(\"[GeoLeaf.Config] Validation de la structure r√©ussie.\");\n    };\n\n})(window);\n","/*!\n * GeoLeaf Core ‚Äì Config / Loaders\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf;\n    const Log = GeoLeaf.Log;\n    const Config = GeoLeaf.Config;\n\n    /**\n     * Charge une configuration depuis une URL JSON et la fusionne.\n     *\n     * @param {string} url - URL du fichier JSON\n     * @param {Object} [options] - Options de chargement\n     * @param {Object} [options.headers] - Headers HTTP personnalis√©s (ex: CSRF token)\n     * @param {boolean} [options.strictContentType=true] - Validation stricte du Content-Type\n     * @returns {Promise<Object>}\n     * @example\n     * Config.loadUrl('/api/config.json', {\n     *     headers: { 'X-CSRF-Token': '...' },\n     *     strictContentType: true\n     * })\n     */\n    Config.loadUrl = function (url, options = {}) {\n        const Loader = GeoLeaf._ConfigLoader;\n        if (!Loader) {\n            Log.error(\"[GeoLeaf.Config] Module Loader non disponible.\");\n            return Promise.reject(new Error(\"Loader module not available\"));\n        }\n\n        return Loader.loadUrl(url, options)\n            .then((jsonCfg) => {\n                // Validation de la structure du JSON\n                this._validateConfig(jsonCfg);\n\n                // Fusion profonde avec la configuration existante\n                const Storage = GeoLeaf._ConfigStorage;\n                if (Storage && typeof Storage.deepMerge === \"function\") {\n                    this._config = Storage.deepMerge(this._config, jsonCfg);\n                } else {\n                    // Fallback si Storage pas disponible\n                    this._config = Object.assign({}, this._config, jsonCfg);\n                }\n\n                // Normalisation des POI (avis) √©ventuels dans la config\n                const Normalization = GeoLeaf._ConfigNormalization;\n                if (Array.isArray(this._config.poi) && Normalization) {\n                    this._config.poi = Normalization.normalizePoiArray(this._config.poi);\n                }\n\n                this._isLoaded = true;\n                this._source = \"url\";\n\n                // Initialiser les sous-modules maintenant que _config est charg√©\n                this._initSubModules();\n\n                this._maybeFireLoadedEvent();\n\n                return this._config;\n            })\n            .catch((err) => {\n                Log.error(\"[GeoLeaf.Config] Erreur lors du chargement JSON :\", err);\n                return this._config;\n            });\n    };\n\n    /**\n     * Charge un fichier de taxonomie (mapping cat√©gories / sous-cat√©gories)\n     * et le fusionne dans la configuration existante.\n     *\n     * @param {string} [url] - URL du fichier de mapping (depuis le profil)\n     * @param {Object} [options]\n     * @param {Object} [options.headers]\n     * @param {boolean} [options.strictContentType=true]\n     * @returns {Promise<Object>} - Objet categories consolid√©\n     */\n    Config.loadTaxonomy = function (url = null, options = {}) {\n        const Taxonomy = GeoLeaf._ConfigTaxonomy;\n        if (!Taxonomy) {\n            Log.error(\"[GeoLeaf.Config] Module Taxonomy non disponible.\");\n            return Promise.reject(new Error(\"Taxonomy module not available\"));\n        }\n\n        return Taxonomy.loadTaxonomy(url, options);\n    };\n\n    /**\n     * Charge les ressources li√©es au profil actif :\n     * - profile.json\n     * - poi.json\n     * - mapping.json\n     * - routes.json\n     *\n     * @param {Object} [options]\n     * @param {Object} [options.headers] - Headers HTTP optionnels.\n     * @param {boolean} [options.strictContentType=true] - Validation stricte du Content-Type.\n     * @returns {Promise<Object>} Configuration consolid√©e incluant les donn√©es du profil.\n     */\n    Config.loadActiveProfileResources = function (options = {}) {\n        const Profile = GeoLeaf._ConfigProfile;\n        if (!Profile) {\n            Log.error(\"[GeoLeaf.Config] Module Profile non disponible.\");\n            return Promise.reject(new Error(\"Profile module not available\"));\n        }\n\n        return Profile.loadActiveProfileResources(options);\n    };\n\n})(window);\n","/*!\n * GeoLeaf Core ‚Äì Config / Accessors\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf;\n    const Log = GeoLeaf.Log;\n    const Config = GeoLeaf.Config;\n\n    /* ------------------------------------------------------------------ */\n    /*  Storage accessors                                                  */\n    /* ------------------------------------------------------------------ */\n\n    /**\n     * Retourne la configuration compl√®te (objet).\n     *\n     * @returns {Object}\n     */\n    Config.getAll = function () {\n        // S'assurer que les sous-modules sont initialis√©s\n        if (!this._isLoaded) {\n            this._initSubModules();\n        }\n\n        const Storage = GeoLeaf._ConfigStorage;\n        return Storage && typeof Storage.getAll === \"function\"\n            ? Storage.getAll()\n            : this._config;\n    };\n\n    /**\n     * R√©cup√®re une valeur via un chemin de type \"map.center\" ou \"basemaps.street.url\".\n     *\n     * @param {string} path - Chemin avec des points.\n     * @param {*} [defaultValue] - Valeur renvoy√©e si le chemin n'existe pas.\n     * @returns {*}\n     */\n    Config.get = function (path, defaultValue) {\n        // S'assurer que les sous-modules sont initialis√©s\n        if (!this._isLoaded) {\n            this._initSubModules();\n        }\n\n        const Storage = GeoLeaf._ConfigStorage;\n        return Storage && typeof Storage.get === \"function\"\n            ? Storage.get(path, defaultValue)\n            : defaultValue;\n    };\n\n    /**\n     * D√©finit une valeur via un chemin de type \"map.center\" ou \"basemaps.street.url\".\n     * Cr√©e les objets interm√©diaires si n√©cessaire.\n     *\n     * @param {string} path\n     * @param {*} value\n     */\n    Config.set = function (path, value) {\n        const Storage = GeoLeaf._ConfigStorage;\n        if (Storage && typeof Storage.set === \"function\") {\n            Storage.set(path, value);\n        } else {\n            Log.warn(\"[GeoLeaf.Config] Module Storage non disponible pour set().\");\n        }\n    };\n\n    /**\n     * Retourne une section de configuration (ex : \"basemaps\", \"map\").\n     *\n     * @param {string} sectionName\n     * @param {Object} [defaultValue]\n     * @returns {Object|*}\n     */\n    Config.getSection = function (sectionName, defaultValue) {\n        const Storage = GeoLeaf._ConfigStorage;\n        return Storage && typeof Storage.getSection === \"function\"\n            ? Storage.getSection(sectionName, defaultValue)\n            : defaultValue;\n    };\n\n    /* ------------------------------------------------------------------ */\n    /*  Taxonomy accessors                                                 */\n    /* ------------------------------------------------------------------ */\n\n    /**\n     * Retourne l'objet complet des cat√©gories (mapping interne).\n     *\n     * @returns {Object} - { [categoryId]: { label, icon, colorFill, colorStroke, subcategories? } }\n     */\n    Config.getCategories = function () {\n        // S'assurer que les sous-modules sont initialis√©s\n        if (!this._isLoaded) {\n            this._initSubModules();\n        }\n\n        const Taxonomy = GeoLeaf._ConfigTaxonomy;\n        return Taxonomy && typeof Taxonomy.getCategories === \"function\"\n            ? Taxonomy.getCategories()\n            : {};\n    };\n\n    /**\n     * Retourne une cat√©gorie √† partir de son identifiant.\n     *\n     * @param {string} categoryId\n     * @returns {Object|undefined}\n     */\n    Config.getCategory = function (categoryId) {\n        const Taxonomy = GeoLeaf._ConfigTaxonomy;\n        return Taxonomy && typeof Taxonomy.getCategory === \"function\"\n            ? Taxonomy.getCategory(categoryId)\n            : undefined;\n    };\n\n    /**\n     * Retourne une sous-cat√©gorie √† partir de son identifiant et de celui\n     * de la cat√©gorie parente.\n     *\n     * @param {string} categoryId\n     * @param {string} subCategoryId\n     * @returns {Object|undefined}\n     */\n    Config.getSubcategory = function (categoryId, subCategoryId) {\n        const Taxonomy = GeoLeaf._ConfigTaxonomy;\n        return Taxonomy && typeof Taxonomy.getSubcategory === \"function\"\n            ? Taxonomy.getSubcategory(categoryId, subCategoryId)\n            : undefined;\n    };\n\n    /* ------------------------------------------------------------------ */\n    /*  Profile accessors                                                  */\n    /* ------------------------------------------------------------------ */\n\n    /**\n     * Retourne l'identifiant du profil actuellement charg√© (ou null).\n     *\n     * @returns {string|null}\n     */\n    Config.getActiveProfileId = function () {\n        const Profile = GeoLeaf._ConfigProfile;\n        return Profile && typeof Profile.getActiveProfileId === \"function\"\n            ? Profile.getActiveProfileId()\n            : null;\n    };\n\n    /**\n     * Retourne l'objet profile.json du profil actif (ou null).\n     *\n     * @returns {Object|null}\n     */\n    Config.getActiveProfile = function () {\n        const Profile = GeoLeaf._ConfigProfile;\n        return Profile && typeof Profile.getActiveProfile === \"function\"\n            ? Profile.getActiveProfile()\n            : null;\n    };\n\n    /**\n     * Retourne le tableau de POI normalis√©s du profil actif.\n     *\n     * @returns {Array}\n     */\n    Config.getActiveProfilePoi = function () {\n        const Profile = GeoLeaf._ConfigProfile;\n        return Profile && typeof Profile.getActiveProfilePoi === \"function\"\n            ? Profile.getActiveProfilePoi()\n            : [];\n    };\n\n    /**\n     * Retourne le tableau de routes du profil actif.\n     *\n     * @returns {Array}\n     */\n    Config.getActiveProfileRoutes = function () {\n        const Profile = GeoLeaf._ConfigProfile;\n        return Profile && typeof Profile.getActiveProfileRoutes === \"function\"\n            ? Profile.getActiveProfileRoutes()\n            : [];\n    };\n\n    /**\n     * Retourne l'objet de mapping du profil actif (mapping.json).\n     *\n     * @returns {Object|null}\n     */\n    Config.getActiveProfileMapping = function () {\n        const Profile = GeoLeaf._ConfigProfile;\n        return Profile && typeof Profile.getActiveProfileMapping === \"function\"\n            ? Profile.getActiveProfileMapping()\n            : null;\n    };\n\n    /**\n     * Retourne la configuration des ic√¥nes depuis la taxonomie du profil actif.\n     *\n     * @returns {Object|null}\n     */\n    Config.getIconsConfig = function () {\n        const Profile = GeoLeaf._ConfigProfile;\n        return Profile && typeof Profile.getIconsConfig === \"function\"\n            ? Profile.getIconsConfig()\n            : null;\n    };\n\n    /**\n     * Indique si l'usage de mapping.json pour normaliser les POI de profil est activ√©.\n     *\n     * @returns {boolean} true si le mapping doit √™tre utilis√©, false sinon.\n     */\n    Config.isProfilePoiMappingEnabled = function () {\n        const Profile = GeoLeaf._ConfigProfile;\n        return Profile && typeof Profile.isProfilePoiMappingEnabled === \"function\"\n            ? Profile.isProfilePoiMappingEnabled()\n            : true;\n    };\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    // ---------------------------------------------------------\n    // Namespace global + logger unifi√© (avec fallback console)\n    // ---------------------------------------------------------\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // Logger unifi√© (d√©fini par geoleaf.logger-shim.js charg√© en premier)\n    const Log = GeoLeaf.Log;\n\n    // V√©rification Leaflet\n    if (!global.L) {\n        Log.error(\"[GeoLeaf.Baselayers] Leaflet (L) est introuvable. Charge d'abord Leaflet 1.9.\");\n        return;\n    }\n\n    const L = global.L;\n\n    const Baselayers = (function () {\n        let _map = null;\n        let _activeKey = null;\n        let _uiBound = false;\n        const _baseLayers = Object.create(null);\n\n        // Fallback : basemaps par d√©faut (100 % utilisables sans cl√©)\n        const DEFAULT_BASELAYERS = {\n            street: {\n                label: \"Street\",\n                url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n                options: {\n                    maxZoom: 19,\n                    attribution: \"&copy; OpenStreetMap contributors\"\n                }\n            },\n            topo: {\n                label: \"Topo\",\n                url: \"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png\",\n                options: {\n                    maxZoom: 17,\n                    attribution:\n                        \"Map data: &copy; OpenStreetMap contributors, SRTM | Map style: &copy; OpenTopoMap\"\n                }\n            },\n            satellite: {\n                label: \"Satellite\",\n                url: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\n                options: {\n                    maxZoom: 19,\n                    attribution:\n                        \"Tiles &copy; Esri ‚Äî Source: Esri, Earthstar Geographics, and the GIS user community\"\n                }\n            }\n        };\n\n        function _ensureMap(explicitMap) {\n            if (explicitMap && typeof explicitMap.setView === \"function\") {\n                _map = explicitMap;\n                Log.info(\"[GeoLeaf.Baselayers] _ensureMap: using explicit map passed to init().\", _map);\n                return;\n            }\n            if (_map && typeof _map.setView === \"function\") {\n                return;\n            }\n            const gl = global.GeoLeaf || {};\n            if (gl.Core && typeof gl.Core.getMap === \"function\") {\n                const m = gl.Core.getMap();\n                if (m && typeof m.setView === \"function\") {\n                    _map = m;\n                    Log.info(\"[GeoLeaf.Baselayers] _ensureMap: acquired map from GeoLeaf.Core.getMap()\", _map);\n                }\n            }\n        }\n\n        function _registerDefaultBaseLayers() {\n            Object.keys(DEFAULT_BASELAYERS).forEach(function (key) {\n                if (!_baseLayers[key]) {\n                    registerBaseLayer(key, DEFAULT_BASELAYERS[key]);\n                    Log.info(\"[GeoLeaf.Baselayers] _registerDefaultBaseLayers: registered\", key);\n                }\n            });\n        }\n\n        function _normalizeOptions(definition) {\n            const opts = Object.assign({}, definition.options || {});\n            // minZoom pour limiter le zoom arri√®re\n            if (typeof opts.minZoom !== \"number\") {\n                if (typeof definition.minZoom === \"number\") {\n                    opts.minZoom = definition.minZoom;\n                }\n            }\n            // maxZoom minimal pour √©viter les warnings \"no maxZoom specified\"\n            if (typeof opts.maxZoom !== \"number\") {\n                opts.maxZoom = typeof definition.maxZoom === \"number\" ? definition.maxZoom : 19;\n            }\n            if (!opts.attribution && definition.attribution) {\n                opts.attribution = definition.attribution;\n            }\n            return opts;\n        }\n\n        function registerBaseLayer(key, definition) {\n            if (!key) {\n                Log.warn(\"[GeoLeaf.Baselayers] registerBaseLayer appel√© sans cl√©.\");\n                return;\n            }\n            if (!definition) {\n                Log.warn(\"[GeoLeaf.Baselayers] D√©finition manquante pour la couche :\", key);\n                return;\n            }\n\n            // Utiliser definition.id si disponible, sinon la cl√©\n            const actualKey = definition.id || key;\n            let layerInstance = null;\n            const label = definition.label || actualKey;\n\n            // Cas 1 : on re√ßoit directement une instance de L.TileLayer\n            if (definition instanceof L.TileLayer) {\n                layerInstance = definition;\n            }\n            // Cas 2 : on re√ßoit un objet contenant .layer d√©j√† pr√™t\n            else if (definition.layer && definition.layer instanceof L.TileLayer) {\n                layerInstance = definition.layer;\n            }\n            // Cas 3 : on re√ßoit une config { url, options, ... } ‚Üí on cr√©e la tileLayer\n            else if (definition.url) {\n                const options = _normalizeOptions(definition);\n                layerInstance = L.tileLayer(definition.url, options);\n            } else {\n                Log.warn(\n                    \"[GeoLeaf.Baselayers] D√©finition invalide pour la couche :\",\n                    actualKey,\n                    \"(aucune url / aucun layer fourni)\"\n                );\n                return;\n            }\n\n            _baseLayers[actualKey] = {\n                key: actualKey,\n                label: label,\n                layer: layerInstance\n            };\n        }\n\n        function registerBaseLayers(definitions) {\n            if (!definitions || typeof definitions !== \"object\") {\n                Log.warn(\"[GeoLeaf.Baselayers] registerBaseLayers attend un objet de d√©finitions.\");\n                return;\n            }\n            Object.keys(definitions).forEach(function (key) {\n                registerBaseLayer(key, definitions[key]);\n            });\n        }\n\n        function _refreshUI() {\n            if (!global.document) {\n                return;\n            }\n            const elements = global.document.querySelectorAll(\"[data-gl-baselayer]\");\n            const leftPanel = global.document.getElementById('gl-left-panel');\n            let activeElement = null;\n\n            elements.forEach(function (el) {\n                const key = el.getAttribute(\"data-gl-baselayer\");\n                if (!key) {\n                    return;\n                }\n                const isActive = key === _activeKey;\n                if (isActive) {\n                    el.classList.add(\"gl-baselayer-active\", \"is-active\");\n                    el.setAttribute(\"aria-pressed\", \"true\");\n                    activeElement = el;\n                } else {\n                    el.classList.remove(\"gl-baselayer-active\", \"is-active\");\n                    el.setAttribute(\"aria-pressed\", \"false\");\n                }\n            });\n\n            // Animer l'indicateur vers le bouton actif\n            if (leftPanel && activeElement) {\n                _updateActiveIndicator(leftPanel, activeElement);\n            }\n        }\n\n        function _updateActiveIndicator(panel, activeButton) {\n            if (!panel || !activeButton) {\n                return;\n            }\n\n            const panelRect = panel.getBoundingClientRect();\n            const buttonRect = activeButton.getBoundingClientRect();\n\n            // Calculer la position relative du bouton par rapport au panneau\n            const left = buttonRect.left - panelRect.left;\n            const width = buttonRect.width;\n\n            // Mettre √† jour la position et la largeur de l'indicateur (::before)\n            panel.style.setProperty('--indicator-left', left + 'px');\n            panel.style.setProperty('--indicator-width', width + 'px');\n        }\n\n        function _createBaseLayerControlsUI(config) {\n            if (!global.document) {\n                return;\n            }\n\n            // Si config n'est pas fourni, essayer de le r√©cup√©rer depuis GeoLeaf.Config\n            if (!config && global.GeoLeaf && global.GeoLeaf.Config && typeof global.GeoLeaf.Config.get === 'function') {\n                config = {\n                    ui: global.GeoLeaf.Config.get('ui'),\n                    basemaps: global.GeoLeaf.Config.get('basemaps') || {}\n                };\n            }\n\n            // V√©rifier si showBaseLayerControls est activ√©\n            const showControls = config && config.ui && config.ui.showBaseLayerControls !== false;\n\n            let leftPanel = global.document.getElementById('gl-left-panel');\n\n            if (showControls) {\n                // Cr√©er le panneau s'il n'existe pas\n                if (!leftPanel) {\n                    leftPanel = global.document.createElement('div');\n                    leftPanel.id = 'gl-left-panel';\n                    leftPanel.className = 'gl-left-panel';\n\n                    // Trouver le conteneur de la carte pour y ins√©rer le panneau\n                    const mapContainer = global.document.getElementById('geoleaf-map') ||\n                                       global.document.querySelector('.gl-map');\n\n                    if (mapContainer) {\n                        mapContainer.appendChild(leftPanel);\n                    } else {\n                        // Fallback: ajouter au body\n                        global.document.body.appendChild(leftPanel);\n                    }\n                }\n\n                // Cr√©er les boutons de s√©lection de fond de carte\n                // SAFE: Cha√Æne vide pour nettoyer le contenu avant reconstruction\n                GeoLeaf.DOMSecurity.clearElementFast(leftPanel);\n\n                // Utiliser _baseLayers enregistr√©s plut√¥t que config.basemaps\n                // car les basemaps par d√©faut peuvent avoir √©t√© ajout√©s\n                Object.keys(_baseLayers).forEach(function(key) {\n                    const def = _baseLayers[key];\n                    const button = global.document.createElement('button');\n                    button.className = 'gl-baselayer-btn';\n                    button.setAttribute('data-gl-baselayer', key);\n                    button.setAttribute('aria-label', def.label || key);\n                    button.textContent = def.label || key;\n                    leftPanel.appendChild(button);\n                });\n                leftPanel.style.display = 'flex';\n\n                Log.info(\"[GeoLeaf.Baselayers] Contr√¥les de fond de carte cr√©√©s avec\", Object.keys(_baseLayers).length, \"boutons\");\n\n                // Initialiser la position de l'indicateur apr√®s un court d√©lai\n                // pour s'assurer que le DOM est compl√®tement rendu\n                setTimeout(function() {\n                    _refreshUI();\n                }, 50);\n            } else {\n                // Masquer ou supprimer le panneau si showBaseLayerControls est false\n                if (leftPanel) {\n                    leftPanel.style.display = 'none';\n                }\n            }\n        }\n\n        function _bindUIOnce() {\n            if (_uiBound || !global.document) {\n                return;\n            }\n            _uiBound = true;\n\n            // Un seul listener global : tout √©l√©ment avec data-gl-baselayer utilise le m√™me setBaseLayer()\n            global.document.addEventListener(\"click\", function (evt) {\n                const target = evt.target.closest(\"[data-gl-baselayer]\");\n                if (!target) {\n                    return;\n                }\n                const key = target.getAttribute(\"data-gl-baselayer\");\n                if (!key) {\n                    return;\n                }\n                evt.preventDefault();\n                setBaseLayer(key);\n            });\n\n            // Recalculer la position de l'indicateur lors du redimensionnement de la fen√™tre\n            let resizeTimeout;\n            global.addEventListener('resize', function() {\n                clearTimeout(resizeTimeout);\n                resizeTimeout = setTimeout(function() {\n                    _refreshUI();\n                }, 100);\n            });\n        }\n\n        function setBaseLayer(key, options) {\n            options = options || {};\n\n            if (!key) {\n                Log.warn(\"[GeoLeaf.Baselayers] setBaseLayer appel√© sans cl√©.\");\n                return;\n            }\n\n            const previousKey = _activeKey;\n\n            _ensureMap();\n            Log.info(\n                \"[GeoLeaf.Baselayers] setBaseLayer called: key=\",\n                key,\n                \"_map=\",\n                _map ? true : false\n            );\n            if (!_map) {\n                Log.warn(\n                    \"[GeoLeaf.Baselayers] Aucun L.Map disponible. Assure-toi que GeoLeaf.Core est initialis√©.\"\n                );\n                return;\n            }\n\n            if (!_baseLayers[key]) {\n                Log.warn(\"[GeoLeaf.Baselayers] Couche inconnue :\", key);\n                const keys = Object.keys(_baseLayers);\n                if (!previousKey && keys.length > 0) {\n                    const fallbackKey = keys[0];\n                    if (!options.silent) {\n                        Log.warn(\n                            \"[GeoLeaf.Baselayers] Bascule vers la premi√®re couche disponible :\",\n                            fallbackKey\n                        );\n                    }\n                    setBaseLayer(fallbackKey, { silent: true });\n                }\n                return;\n            }\n\n            // Si la couche est d√©j√† active, on ne fait que rafra√Æchir l'UI\n            if (_activeKey === key) {\n                _refreshUI();\n                return;\n            }\n\n            // Retirer l'ancienne couche si pr√©sente (avec garde-fous)\n            if (previousKey && _baseLayers[previousKey]) {\n                const prev = _baseLayers[previousKey].layer;\n                try {\n                    if (\n                        prev &&\n                        _map &&\n                        typeof _map.hasLayer === \"function\" &&\n                        _map.hasLayer(prev)\n                    ) {\n                        _map.removeLayer(prev);\n                    }\n                } catch (e) {\n                    Log.warn(\n                        \"[GeoLeaf.Baselayers] Impossible de retirer la couche pr√©c√©dente:\",\n                        e\n                    );\n                }\n            }\n\n            const nextLayer = _baseLayers[key].layer;\n            if (!nextLayer || typeof nextLayer.addTo !== \"function\") {\n                Log.error(\"[GeoLeaf.Baselayers] Couche invalide pour la cl√©:\", key);\n                return;\n            }\n\n            try {\n                nextLayer.addTo(_map);\n            } catch (e) {\n                Log.error(\n                    \"[GeoLeaf.Baselayers] Impossible d'ajouter la couche au L.Map:\",\n                    e\n                );\n                return;\n            }\n\n            _activeKey = key;\n            _refreshUI();\n\n            Log.info(\"[GeoLeaf.Baselayers] Activated base layer:\", key);\n\n            // √âv√©nement personnalis√© : geoleaf:basemap:change\n            if (!options.silent) {\n                if (\n                    typeof document !== \"undefined\" &&\n                    typeof document.dispatchEvent === \"function\"\n                ) {\n                    const detail = {\n                        key,\n                        previousKey,\n                        map: _map,\n                        layer: nextLayer,\n                        source: \"geoleaf.baselayers\"\n                    };\n\n                    try {\n                        if (typeof CustomEvent === \"function\") {\n                            const event = new CustomEvent(\"geoleaf:basemap:change\", {\n                                detail\n                            });\n                            document.dispatchEvent(event);\n                        } else {\n                            const legacyEvent = document.createEvent(\"CustomEvent\");\n                            legacyEvent.initCustomEvent(\n                                \"geoleaf:basemap:change\",\n                                true,\n                                true,\n                                detail\n                            );\n                            document.dispatchEvent(legacyEvent);\n                        }\n                    } catch (err) {\n                        Log.warn(\n                            \"[GeoLeaf.Baselayers] Impossible d'√©mettre l'√©v√©nement geoleaf:basemap:change.\",\n                            err\n                        );\n                    }\n                }\n\n                Log.info(\"[GeoLeaf.Baselayers] Couche de fond active :\", key);\n            }\n        }\n\n        function getBaseLayers() {\n            return Object.assign({}, _baseLayers);\n        }\n\n        function getActiveKey() {\n            return _activeKey;\n        }\n\n        function getActiveLayer() {\n            return _activeKey && _baseLayers[_activeKey]\n                ? _baseLayers[_activeKey].layer\n                : null;\n        }\n\n        /**\n         * Initialisation du module Baselayers.\n         *\n         * Usage flexible :\n         * GeoLeaf.Baselayers.init({\n         *   map: mapLeaflet,              // optionnel si GeoLeaf.Core est d√©j√† initialis√©\n         *   baselayers: { street: {...}, topo: {...}, satellite: {...} },\n         *   defaultKey: \"street\"          // ou activeKey / initialKey\n         * });\n         *\n         * Si aucune couche n‚Äôest fournie, les 3 basemaps par d√©faut (OSM / OpenTopoMap / Esri WorldImagery)\n         * sont automatiquement enregistr√©es, et une est activ√©e.\n         */\n                function init(options) {\n            options = options || {};\n\n            if (options.map) {\n                _map = options.map;\n            } else {\n                _ensureMap();\n            }\n\n            _registerDefaultBaseLayers();\n\n            if (options.baselayers && typeof options.baselayers === \"object\") {\n                registerBaseLayers(options.baselayers);\n            }\n\n            if (options.activeKey) {\n                setBaseLayer(options.activeKey, { silent: true });\n            }\n\n            // Si aucune couche n'est active, on prend la premi√®re disponible.\n            if (!_activeKey) {\n                const keys = Object.keys(_baseLayers);\n                if (keys.length > 0) {\n                    const defaultKey = keys[0];\n                    Log.info(\"[GeoLeaf.Baselayers] init: aucune couche active, bascule sur\", defaultKey);\n                    setBaseLayer(defaultKey, { silent: true });\n                }\n            }\n\n            // Cr√©er les contr√¥les UI de fond de carte si la config le demande\n            _createBaseLayerControlsUI(options);\n\n            // Lie les boutons UI d√©clar√©s dans le DOM (data-gl-baselayer)\n            _bindUIOnce();\n\n            return {\n                map: _map,\n                activeKey: getActiveKey(),\n                layers: getBaseLayers()\n            };\n        }\n\n        return {\n            init: init,\n            registerBaseLayer: registerBaseLayer,\n            registerBaseLayers: registerBaseLayers,\n            setBaseLayer: setBaseLayer,\n            setActive: setBaseLayer, // alias pour compatibilit√©\n            getBaseLayers: getBaseLayers,\n            getActiveKey: getActiveKey,\n            getActiveLayer: getActiveLayer\n        };\n    })();\n\n    // Nommage stabilis√© : BaseLayers devient la forme officielle,\n    // Baselayers reste un alias de compatibilit√©.\n    GeoLeaf.Baselayers = Baselayers;\n    GeoLeaf.BaseLayers = Baselayers;\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf Filters Module\n * Filtrage des POI et Routes selon crit√®res (cat√©gories, tags, proximit√©, recherche, note)\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log;\n    const Utils = GeoLeaf.Utils;\n\n    // ========================================\n    //   HELPER FUNCTIONS\n    // ========================================\n\n    /**\n     * Extrait une valeur depuis un chemin (ex: \"attributes.shortDescription\")\n     * @param {object} obj - Objet source\n     * @param {string} path - Chemin avec notation point\n     * @returns {*} Valeur trouv√©e ou null\n     * @private\n     */\n    function getNestedValue(obj, path) {\n        return path.split('.').reduce((current, prop) =>\n            current && current[prop] !== undefined ? current[prop] : null, obj);\n    }\n\n    /**\n     * R√©cup√®re les champs de recherche depuis le profil actif\n     * 1. Priorit√© : extrait les champs marqu√©s \"search\": true dans panels.detail.layout et panels.route.layout\n     * 2. Fallback : r√©cup√®re searchFields du filtre search dans le profil\n     * 3. Fallback final : champs par d√©faut\n     * @returns {Array<string>} Liste des chemins de champs √† rechercher\n     * @private\n     */\n    function getSearchFieldsFromProfile() {\n        try {\n            // Essayer de r√©cup√©rer depuis GeoLeaf.Config\n            if (GeoLeaf.Config && typeof GeoLeaf.Config.getActiveProfile === 'function') {\n                const profile = GeoLeaf.Config.getActiveProfile();\n\n                // 1. PRIORIT√â : Extraire les champs avec \"search\": true depuis tous les layouts\n                const searchableFieldsSet = new Set();\n\n                // Extraire depuis panels.detail.layout (POI)\n                if (profile && profile.panels && profile.panels.detail && Array.isArray(profile.panels.detail.layout)) {\n                    profile.panels.detail.layout\n                        .filter(item => item.search === true && item.field)\n                        .forEach(item => searchableFieldsSet.add(item.field));\n                }\n\n                // Extraire depuis panels.route.layout (Routes)\n                if (profile && profile.panels && profile.panels.route && Array.isArray(profile.panels.route.layout)) {\n                    profile.panels.route.layout\n                        .filter(item => item.search === true && item.field)\n                        .forEach(item => searchableFieldsSet.add(item.field));\n                }\n\n                if (searchableFieldsSet.size > 0) {\n                    const searchableFields = Array.from(searchableFieldsSet);\n                    if (Log) Log.debug('[Filters] Champs de recherche depuis layouts (search:true):', searchableFields);\n                    return searchableFields;\n                }\n\n                // 2. FALLBACK : Chercher searchFields dans panels.search.filters\n                if (profile && profile.panels && profile.panels.search && Array.isArray(profile.panels.search.filters)) {\n                    const searchFilter = profile.panels.search.filters.find(f => f.type === 'search');\n                    if (searchFilter && Array.isArray(searchFilter.searchFields) && searchFilter.searchFields.length > 0) {\n                        if (Log) Log.debug('[Filters] Champs de recherche depuis searchFields (fallback):', searchFilter.searchFields);\n                        return searchFilter.searchFields;\n                    }\n                }\n            }\n        } catch (err) {\n            if (Log) Log.warn('[Filters] Erreur extraction searchFields du profil:', err);\n        }\n\n        // 3. FALLBACK FINAL : champs par d√©faut\n        const defaultFields = ['title', 'label', 'name'];\n        if (Log) Log.debug('[Filters] Utilisation des champs de recherche par d√©faut:', defaultFields);\n        return defaultFields;\n    }\n\n    /**\n     * Extrait les coordonn√©es d'une route dans diff√©rents formats\n     * @param {object} route - Objet route\n     * @returns {Array<[number, number]>} Tableau de coordonn√©es [lat, lng]\n     * @private\n     */\n    function extractRouteCoords(route) {\n        // Cas 1 : tableau direct de [lat, lng]\n        if (Array.isArray(route.geometry) && route.geometry.length > 0) {\n            if (\n                Array.isArray(route.geometry[0]) &&\n                typeof route.geometry[0][0] === \"number\" &&\n                typeof route.geometry[0][1] === \"number\"\n            ) {\n                return route.geometry.map((pair) => [pair[0], pair[1]]);\n            }\n\n            // Cas 2 : GeoJSON-like dans un tableau\n            if (\n                route.geometry[0] &&\n                typeof route.geometry[0] === \"object\" &&\n                route.geometry[0].type === \"LineString\" &&\n                Array.isArray(route.geometry[0].coordinates)\n            ) {\n                return route.geometry[0].coordinates.map((c) => [c[1], c[0]]);\n            }\n        }\n\n        // Cas 3 : vrai objet GeoJSON\n        if (\n            route.geometry &&\n            typeof route.geometry === \"object\" &&\n            route.geometry.type === \"LineString\" &&\n            Array.isArray(route.geometry.coordinates)\n        ) {\n            return route.geometry.coordinates.map((c) => [c[1], c[0]]);\n        }\n\n        return [];\n    }\n\n    // ========================================\n    //   PUBLIC API\n    // ========================================\n\n    /**\n     * Filtre une liste de POI selon les crit√®res fournis\n     * @param {Array} basePois - Liste compl√®te des POI\n     * @param {object} filterState - √âtat des filtres\n     * @param {Array<string>} [filterState.categoriesTree] - IDs des cat√©gories s√©lectionn√©es\n     * @param {Array<string>} [filterState.subCategoriesTree] - IDs des sous-cat√©gories s√©lectionn√©es\n     * @param {boolean} [filterState.hasMinRating] - Activer filtre note minimale\n     * @param {number} [filterState.minRating] - Note minimale\n     * @param {Array<string>} [filterState.selectedTags] - Tags s√©lectionn√©s\n     * @param {boolean} [filterState.hasTags] - Activer filtre tags\n     * @param {object} [filterState.dataTypes] - Types de donn√©es (poi, routes)\n     * @param {string} [filterState.searchText] - Texte de recherche\n     * @param {boolean} [filterState.hasSearchText] - Activer recherche textuelle\n     * @param {object} [filterState.proximity] - Filtre proximit√© {active, center, radius}\n     * @returns {Array} POI filtr√©s\n     */\n    function filterPoiList(basePois, filterState) {\n        const catsSel = filterState.categoriesTree || [];\n        const subsSel = filterState.subCategoriesTree || [];\n        const hasCats = catsSel.length > 0;\n        const hasSubs = subsSel.length > 0;\n        const hasMinRating = !!filterState.hasMinRating;\n        const minRating = filterState.minRating;\n        const selectedTags = filterState.selectedTags || [];\n        const hasTags = filterState.hasTags;\n        const dataTypes = filterState.dataTypes || { poi: true, routes: true };\n        const searchText = filterState.searchText || \"\";\n        const hasSearchText = filterState.hasSearchText || false;\n        const proximity = filterState.proximity || { active: false };\n\n        if (Log) {\n            Log.debug(\"[Filters] D√©but filtrage POI:\", {\n                totalPOI: basePois.length,\n                hasCats,\n                hasSubs,\n                hasSearchText,\n                proximityActive: proximity.active\n            });\n        }\n\n        if (!Array.isArray(basePois) || basePois.length === 0) {\n            if (Log) Log.debug(\"[Filters] Aucun POI √† filtrer\");\n            return [];\n        }\n\n        // Utilise GeoLeaf.Utils.getDistance() (formule de Haversine)\n        const getDistance = Utils ? Utils.getDistance : null;\n\n        return basePois.filter(function (poi) {\n            const attrs = poi.attributes || {};\n            const props = poi.properties || {};\n\n            // Filtre Type de donn√©es (POI / Routes)\n            const poiType = poi.type || attrs.type || props.type || 'poi';\n            if (poiType === 'route' || poiType === 'routes') {\n                if (!dataTypes.routes) return false;\n            } else {\n                if (!dataTypes.poi) return false;\n            }\n\n            // Filtre Recherche textuelle\n            if (hasSearchText) {\n                const searchFields = getSearchFieldsFromProfile();\n                let matchFound = false;\n\n                for (let i = 0; i < searchFields.length; i++) {\n                    const fieldPath = searchFields[i];\n                    const value = getNestedValue(poi, fieldPath);\n\n                    if (value && String(value).toLowerCase().includes(searchText)) {\n                        matchFound = true;\n                        break;\n                    }\n                }\n\n                if (!matchFound) return false;\n            }\n\n            // Filtre Proximit√©\n            if (proximity.active && proximity.center && getDistance) {\n                let lat, lng;\n\n                // V√©rifier d'abord le format latlng [lat, lng]\n                if (poi.latlng && Array.isArray(poi.latlng) && poi.latlng.length === 2) {\n                    lat = poi.latlng[0];\n                    lng = poi.latlng[1];\n                } else {\n                    lat = poi.lat || poi.latitude || attrs.latitude || props.latitude ||\n                              (poi.coordinates && poi.coordinates[1]) ||\n                              (poi.geometry && poi.geometry.coordinates && poi.geometry.coordinates[1]);\n                    lng = poi.lng || poi.longitude || attrs.longitude || props.longitude ||\n                              (poi.coordinates && poi.coordinates[0]) ||\n                              (poi.geometry && poi.geometry.coordinates && poi.geometry.coordinates[0]);\n                }\n\n                if (lat && lng) {\n                    const distance = getDistance(proximity.center.lat, proximity.center.lng, lat, lng);\n                    if (distance > proximity.radius) return false;\n                } else {\n                    // Si pas de coordonn√©es, on exclut du filtre proximit√©\n                    return false;\n                }\n            }\n\n            const catId =\n                attrs.categoryId ||\n                poi.categoryId ||\n                poi.category ||\n                props.categoryId ||\n                props.category ||\n                null;\n\n            const subId =\n                attrs.subCategoryId ||\n                poi.subCategoryId ||\n                poi.subCategory ||\n                poi.sub_category ||\n                props.subCategoryId ||\n                props.sub_category ||\n                null;\n\n            // Filtre cat√©gories / sous-cat√©gories (tree-view)\n            // Logique:\n            // - Si des sous-cat√©gories sont coch√©es: le POI doit avoir cette sous-cat√©gorie\n            // - Si seulement des cat√©gories sont coch√©es (sans sous-cat): le POI doit avoir cette cat√©gorie\n            if (hasCats || hasSubs) {\n                // Cas 1: Des sous-cat√©gories sont s√©lectionn√©es\n                if (hasSubs) {\n                    // Si le POI a une sous-cat√©gorie, v√©rifier qu'elle est dans la liste\n                    if (subId && subsSel.includes(String(subId))) {\n                        // OK - sous-cat√©gorie correspond\n                    } else {\n                        // POI n'a pas la bonne sous-cat√©gorie\n                        // On v√©rifie si sa cat√©gorie est s√©lectionn√©e SANS sous-cat√©gorie coch√©e\n                        // (permet de garder les POI dont la cat√©gorie est coch√©e mais pas leurs sous-cat)\n                        if (hasCats && catId && catsSel.includes(String(catId))) {\n                            // V√©rifier si aucune sous-cat de cette cat√©gorie n'est coch√©e\n                            // Pour simplifier, on rejette si des sous-cat sont coch√©es\n                            return false;\n                        } else {\n                            return false;\n                        }\n                    }\n                }\n                // Cas 2: Seulement des cat√©gories (pas de sous-cat)\n                else if (hasCats) {\n                    if (!catId || !catsSel.includes(String(catId))) {\n                        return false;\n                    }\n                }\n            }\n\n            // Filtre note minimale\n            if (hasMinRating) {\n                let avg = 0;\n                let hasRating = false;\n\n                // Cas 1: reviews est un objet avec rating (format actuel)\n                let reviewsObj = attrs.reviews || poi.reviews || props.reviews;\n                if (reviewsObj && typeof reviewsObj === \"object\" && !Array.isArray(reviewsObj)) {\n                    if (typeof reviewsObj.rating === \"number\") {\n                        avg = reviewsObj.rating;\n                        hasRating = true;\n                    }\n                }\n\n                // Cas 2: reviews est un array (ancien format)\n                else if (Array.isArray(reviewsObj) && reviewsObj.length > 0) {\n                    const sum = reviewsObj.reduce(\n                        (acc, r) => acc + (Number(r.rating) || 0),\n                        0\n                    );\n                    avg = sum / reviewsObj.length;\n                    hasRating = avg > 0;\n                }\n\n                // Cas 3: rating directement sur l'objet\n                else if (typeof attrs.rating === \"number\") {\n                    avg = attrs.rating;\n                    hasRating = true;\n                } else if (typeof poi.rating === \"number\") {\n                    avg = poi.rating;\n                    hasRating = true;\n                } else if (typeof props.rating === \"number\") {\n                    avg = props.rating;\n                    hasRating = true;\n                }\n\n                // Exclure si: 1) pas de note OU 2) note < minRating\n                // Comportement: quand filtre actif, seuls les POI avec note >= minRating passent\n                if (!hasRating || avg < minRating) {\n                    return false;\n                }\n            }\n\n            // Tags (au moins UN des tags s√©lectionn√©s doit √™tre pr√©sent dans le POI)\n            if (hasTags) {\n                let poiTags =\n                    attrs.tags || poi.tags || props.tags || [];\n                if (!Array.isArray(poiTags)) {\n                    if (typeof poiTags === \"string\") {\n                        poiTags = poiTags.split(/[,;]+/);\n                    } else {\n                        poiTags = [];\n                    }\n                }\n                poiTags = poiTags\n                    .map((t) => String(t).trim())\n                    .filter(Boolean);\n\n                const hasAtLeastOne = selectedTags.some((tag) =>\n                    poiTags.includes(tag)\n                );\n                if (!hasAtLeastOne) {\n                    return false;\n                }\n            }\n\n            return true;\n        });\n    }\n\n    /**\n     * Filtre une liste de routes selon les crit√®res fournis\n     * @param {Array} baseRoutes - Liste compl√®te des routes\n     * @param {object} filterState - √âtat des filtres\n     * @param {Array<string>} [filterState.categoriesTree] - IDs des cat√©gories s√©lectionn√©es\n     * @param {Array<string>} [filterState.subCategoriesTree] - IDs des sous-cat√©gories s√©lectionn√©es\n     * @param {Array<string>} [filterState.selectedTags] - Tags s√©lectionn√©s\n     * @param {boolean} [filterState.hasTags] - Activer filtre tags\n     * @param {string} [filterState.searchText] - Texte de recherche\n     * @param {boolean} [filterState.hasSearchText] - Activer recherche textuelle\n     * @param {object} [filterState.proximity] - Filtre proximit√© {active, center, radius}\n     * @returns {Array} Routes filtr√©es\n     */\n    function filterRouteList(baseRoutes, filterState) {\n        const catsSel = filterState.categoriesTree || [];\n        const subsSel = filterState.subCategoriesTree || [];\n        const hasCats = catsSel.length > 0;\n        const hasSubs = subsSel.length > 0;\n        const selectedTags = filterState.selectedTags || [];\n        const hasTags = filterState.hasTags;\n        const hasMinRating = !!filterState.hasMinRating;\n        const minRating = filterState.minRating;\n        const searchText = filterState.searchText || \"\";\n        const hasSearchText = filterState.hasSearchText || false;\n        const proximity = filterState.proximity || { active: false };\n\n        if (Log) {\n            Log.debug(\"[Filters] D√©but filtrage routes:\", {\n                totalRoutes: baseRoutes.length,\n                hasCats,\n                hasSubs,\n                hasMinRating,\n                minRating,\n                hasSearchText,\n                proximityActive: proximity.active\n            });\n        }\n\n        if (!Array.isArray(baseRoutes) || baseRoutes.length === 0) {\n            if (Log) Log.debug(\"[Filters] Aucune route √† filtrer\");\n            return [];\n        }\n\n        // Utilise GeoLeaf.Utils.getDistance() (formule de Haversine)\n        const getDistance = Utils ? Utils.getDistance : null;\n\n        return baseRoutes.filter(function (route) {\n            const attrs = route.attributes || {};\n            const props = route.properties || {};\n\n            // Filtre Recherche textuelle\n            if (hasSearchText) {\n                const searchFields = getSearchFieldsFromProfile();\n                let matchFound = false;\n\n                for (let i = 0; i < searchFields.length; i++) {\n                    const fieldPath = searchFields[i];\n                    const value = getNestedValue(route, fieldPath);\n\n                    if (value && String(value).toLowerCase().includes(searchText)) {\n                        matchFound = true;\n                        break;\n                    }\n                }\n\n                if (!matchFound) return false;\n            }\n\n            // Filtre cat√©gories / sous-cat√©gories (tree-view)\n            const catId =\n                attrs.categoryId ||\n                route.categoryId ||\n                route.category ||\n                props.categoryId ||\n                props.category ||\n                null;\n\n            const subId =\n                attrs.subCategoryId ||\n                route.subCategoryId ||\n                route.subCategory ||\n                route.sub_category ||\n                props.subCategoryId ||\n                props.sub_category ||\n                null;\n\n            // Filtre cat√©gories / sous-cat√©gories (tree-view)\n            // Logique:\n            // - Si des sous-cat√©gories sont coch√©es: la route doit avoir cette sous-cat√©gorie\n            // - Si seulement des cat√©gories sont coch√©es (sans sous-cat): la route doit avoir cette cat√©gorie\n            if (hasCats || hasSubs) {\n                // Cas 1: Des sous-cat√©gories sont s√©lectionn√©es\n                if (hasSubs) {\n                    if (subId && subsSel.includes(String(subId))) {\n                        // OK - sous-cat√©gorie correspond\n                    } else {\n                        // Route n'a pas la bonne sous-cat√©gorie\n                        if (hasCats && catId && catsSel.includes(String(catId))) {\n                            return false;\n                        } else {\n                            return false;\n                        }\n                    }\n                }\n                // Cas 2: Seulement des cat√©gories (pas de sous-cat)\n                else if (hasCats) {\n                    if (!catId || !catsSel.includes(String(catId))) {\n                        return false;\n                    }\n                }\n            }\n\n            // Filtre Tags (au moins UN des tags s√©lectionn√©s doit √™tre pr√©sent)\n            if (hasTags) {\n                let routeTags =\n                    attrs.tags || route.tags || props.tags || [];\n                if (!Array.isArray(routeTags)) {\n                    if (typeof routeTags === \"string\") {\n                        routeTags = routeTags.split(/[,;]+/);\n                    } else {\n                        routeTags = [];\n                    }\n                }\n                routeTags = routeTags\n                    .map((t) => String(t).trim())\n                    .filter(Boolean);\n\n                const hasAtLeastOne = selectedTags.some((tag) =>\n                    routeTags.includes(tag)\n                );\n                if (!hasAtLeastOne) {\n                    return false;\n                }\n            }\n\n            // Filtre note minimale (m√™me logique que pour les POI)\n            if (hasMinRating) {\n                let avg = 0;\n                let hasRating = false;\n\n                // Cas 1: reviews est un objet avec rating (format actuel)\n                let reviewsObj = attrs.reviews || route.reviews || props.reviews;\n                if (reviewsObj && typeof reviewsObj === \"object\" && !Array.isArray(reviewsObj)) {\n                    if (typeof reviewsObj.rating === \"number\") {\n                        avg = reviewsObj.rating;\n                        hasRating = true;\n                    }\n                }\n\n                // Cas 2: reviews est un array (ancien format)\n                else if (Array.isArray(reviewsObj) && reviewsObj.length > 0) {\n                    const sum = reviewsObj.reduce(\n                        (acc, r) => acc + (Number(r.rating) || 0),\n                        0\n                    );\n                    avg = sum / reviewsObj.length;\n                    hasRating = avg > 0;\n                }\n\n                // Cas 3: rating directement sur l'objet\n                else if (typeof attrs.rating === \"number\") {\n                    avg = attrs.rating;\n                    hasRating = true;\n                } else if (typeof route.rating === \"number\") {\n                    avg = route.rating;\n                    hasRating = true;\n                } else if (typeof props.rating === \"number\") {\n                    avg = props.rating;\n                    hasRating = true;\n                }\n\n                // Exclure si: 1) pas de note OU 2) note < minRating\n                // Comportement: quand filtre actif, seules les routes avec note >= minRating passent\n                if (!hasRating || avg < minRating) {\n                    return false;\n                }\n            }\n\n            // Filtre Proximit√© : v√©rifier si au moins un point de l'itin√©raire est dans le cercle\n            if (proximity.active && proximity.center && getDistance) {\n                const coords = extractRouteCoords(route);\n\n                if (coords.length === 0) {\n                    // Si pas de coordonn√©es, on exclut du filtre proximit√©\n                    return false;\n                }\n\n                // V√©rifier si au moins un point de l'itin√©raire est dans le rayon\n                let isInRadius = false;\n                for (let i = 0; i < coords.length; i++) {\n                    const lat = coords[i][0];\n                    const lng = coords[i][1];\n                    const distance = getDistance(proximity.center.lat, proximity.center.lng, lat, lng);\n                    if (distance <= proximity.radius) {\n                        isInRadius = true;\n                        break;\n                    }\n                }\n\n                if (!isInRadius) {\n                    return false;\n                }\n            }\n\n            return true;\n        });\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    GeoLeaf.Filters = {\n        filterPoiList,\n        filterRouteList\n    };\n\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf POI Module - √âtat Partag√©\n * Variables et constantes partag√©es entre tous les sous-modules POI\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    GeoLeaf._POIShared = GeoLeaf._POIShared || {};\n\n    // ========================================\n    //   CONSTANTES\n    // ========================================\n\n    const POI_MARKER_SIZE = GeoLeaf.Constants?.POI_MARKER_SIZE || 16;\n    const POI_MAX_ZOOM = GeoLeaf.Constants?.POI_MAX_ZOOM || 18;\n\n    // Ic√¥ne par d√©faut (cercle bleu SVG en base64)\n    const defaultIconUrl = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI4IiBmaWxsPSIjNGE5MGU1IiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==\";\n\n    // ========================================\n    //   √âTAT PARTAG√â\n    // ========================================\n\n    /**\n     * √âtat mutable partag√© entre tous les sous-modules POI\n     * Accessible via GeoLeaf._POIShared.state\n     */\n    const state = {\n        // LayerGroup Leaflet contenant tous les marqueurs POI\n        poiLayerGroup: null,\n\n        // Cluster group (si activ√©)\n        poiClusterGroup: null,\n\n        // Tableau des donn√©es POI charg√©es\n        allPois: [],\n\n        // Map pour stocker les marqueurs Leaflet par ID de POI\n        poiMarkers: new Map(),\n\n        // Configuration du module POI\n        poiConfig: {},\n\n        // R√©f√©rence vers la carte Leaflet\n        mapInstance: null,\n\n        // Indicateur de chargement en cours\n        isLoading: false,\n\n        // √âl√©ment DOM pour le panneau lat√©ral POI\n        sidePanelElement: null,\n\n        // POI actuellement affich√© dans le panneau\n        currentPoiInPanel: null,\n\n        // Overlay de fond sombre pour le side panel\n        sidePanelOverlay: null,\n\n        // Index de l'image courante dans la galerie\n        currentGalleryIndex: 0\n    };\n\n    // ========================================\n    //   UTILITAIRES PARTAG√âS\n    // ========================================\n\n    /**\n     * Helper interne : garantit qu'un maxZoom num√©rique est d√©fini sur la carte.\n     * Utilis√© pour √©viter les erreurs du plugin de clustering (\"Map has no maxZoom specified\").\n     *\n     * @param {L.Map} map - Instance de la carte Leaflet\n     * @param {number} [fallback=18] - Valeur par d√©faut si map.options.maxZoom n'existe pas\n     */\n    function ensureMapMaxZoom(map, fallback = 18) {\n        if (!map || !map.options) return;\n        if (typeof map.options.maxZoom !== 'number' || isNaN(map.options.maxZoom)) {\n            map.options.maxZoom = fallback;\n        }\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    GeoLeaf._POIShared = {\n        // Constantes (lecture seule)\n        constants: Object.freeze({\n            POI_MARKER_SIZE,\n            POI_MAX_ZOOM,\n            defaultIconUrl\n        }),\n\n        // √âtat mutable (accessible en lecture/√©criture par sous-modules)\n        state,\n\n        // Utilitaires\n        ensureMapMaxZoom\n    };\n\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf POI Module - Normalizers\n * Fonctions de normalisation et extraction de donn√©es POI\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log;\n    const Security = GeoLeaf.Security || {};\n    const Utils = GeoLeaf.Utils || {};\n\n    GeoLeaf._POINormalizers = GeoLeaf._POINormalizers || {};\n\n    // ========================================\n    //   NORMALISATION POI\n    // ========================================\n\n    /**\n     * Normalise un POI vers la structure standard { id, latlng, title, attributes: {...} }.\n     * Transforme l'ancien format vers le nouveau format attendu par le profile.json.\n     *\n     * @param {object} poi - POI au format brut (ancien ou nouveau).\n     * @returns {object} POI normalis√©.\n     */\n    function normalizePoi(poi) {\n        if (!poi) return null;\n\n        const p = poi;\n        // Pr√©f√©rer les champs \"attributes\" du nouveau sch√©ma\n        const attr = (p && typeof p.attributes === 'object' && p.attributes) ? p.attributes : {};\n        const props = p.properties || {};\n\n        // Helper to sanitize URLs\n        const sanitizeUrl = (url) => {\n            if (!url || typeof url !== 'string') return null;\n            const trimmed = url.trim();\n            if (trimmed.match(/^(https?:\\/\\/|data:image\\/)/i)) {\n                return trimmed;\n            }\n            return null;\n        };\n\n        // Helper to escape HTML - utilise Security.escapeHtml\n        const escapeHtml = Security.escapeHtml || ((str) => {\n            if (!str) return '';\n            const div = document.createElement('div');\n            div.textContent = str;\n            return div.innerHTML;\n        });\n\n        // Utilise resolveField si disponible\n        const resolveField = Utils.resolveField || ((obj, ...paths) => {\n            for (const path of paths) {\n                const keys = path.split('.');\n                let value = obj;\n                for (const key of keys) {\n                    if (value && typeof value === 'object' && key in value) {\n                        value = value[key];\n                    } else {\n                        value = null;\n                        break;\n                    }\n                }\n                if (value && typeof value === 'string' && value.trim()) {\n                    return value;\n                }\n            }\n            return '';\n        });\n\n        // Construire la structure normalis√©e\n        const normalized = {\n            id: p.id || null,\n            latlng: p.latlng || null,\n            // Le titre provient du champ label (nouvelle structure) ou des anciens champs\n            title: escapeHtml(resolveField(p, 'title', 'label', 'name', 'attributes.title', 'properties.label', 'properties.name') || 'Sans nom'),\n            // Pr√©server aussi label et name au niveau racine\n            label: escapeHtml(resolveField(p, 'label', 'name', 'title')),\n            name: escapeHtml(resolveField(p, 'name', 'label', 'title')),\n            description: escapeHtml(resolveField(p, 'description', 'attributes.description')),\n            // ‚úÖ IMPORTANT: Pr√©server les properties originales pour la r√©solution de champs comme \"properties.Name\"\n            properties: p.properties || {},\n            attributes: {\n                // D'abord, copier TOUS les attributs originaux pour pr√©server les champs sp√©cifiques\n                ...attr,\n                // Puis ajouter/surcharger avec les mappings normalis√©s\n                // Description courte : premier niveau du POI\n                shortDescription: escapeHtml(resolveField(p, 'description', 'attributes.shortDescription', 'properties.description')),\n                // Description longue : champ attributes.description_long ou anciens champs\n                longDescription: escapeHtml(resolveField(p, 'attributes.description_long', 'description_long', 'properties.description_long', 'attributes.longDescription')),\n                // Cat√©gories : pr√©f√©rer attributes.categoryId puis fallback anciens champs\n                categoryId: attr.categoryId || p.categoryId || p.category || props.category || null,\n                subCategoryId: attr.subCategoryId || p.subCategoryId || p.sub_category || props.sub_category || null,\n                // Image principale : attributes.photo ou attributes.mainImage, sinon premi√®re image de la galerie\n                mainImage: sanitizeUrl(attr.photo || attr.mainImage || props.photo || (attr.gallery && attr.gallery[0]) || (p.gallery && p.gallery[0]) || null),\n                // Galerie d'images : provenant de attributes.gallery ou anciens champs\n                gallery: ((attr.gallery || p.gallery || props.gallery || p.images || props.images) || [])\n                    .map(img => {\n                        if (typeof img === 'string') return sanitizeUrl(img);\n                        if (img && img.url) return sanitizeUrl(img.url);\n                        return null;\n                    })\n                    .filter(Boolean),\n                price: attr.price || p.price || props.price || null,\n                // Horaires d'ouverture : attributes.opening_hours (snake_case) ou openingHours camelCase\n                openingHours: attr.opening_hours || attr.openingHours || p.opening_hours || props.opening_hours || p.openingHours || props.openingHours || null,\n                openingHoursTable: null, // Sera construit √† partir de openingHours si n√©cessaire\n                reviews: attr.reviews || p.reviews || props.reviews || null,\n                // Tags : pr√©f√©rer attributes.tags\n                tags: (attr.tags || p.tags || props.tags || [])\n                    .map(t => escapeHtml(String(t))),\n                // Lien / site web : attributes.link (nouveau) ou anciens champs\n                website: sanitizeUrl(attr.link || attr.website || p.link || props.link || p.website || props.website || null),\n                address: escapeHtml(resolveField(p, 'attributes.address', 'address', 'properties.address')),\n                phone: escapeHtml(resolveField(p, 'attributes.phone', 'phone', 'properties.phone')),\n                email: escapeHtml(resolveField(p, 'attributes.email', 'email', 'properties.email')),\n                services: (attr.services || p.services || props.services || [])\n                    .map(s => escapeHtml(String(s)))\n            }\n        };\n\n        // Construire openingHoursTable si openingHours existe\n        if (normalized.attributes.openingHours && Array.isArray(normalized.attributes.openingHours)) {\n            normalized.attributes.openingHoursTable = normalized.attributes.openingHours.map(raw => {\n                if (raw == null) return null;\n                const text = String(raw).trim();\n                if (!text) return null;\n\n                const parts = text.split(':');\n                if (parts.length > 1) {\n                    const day = parts.shift().trim();\n                    const rest = parts.join(':').trim();\n\n                    let open = '';\n                    let close = '';\n                    const hoursParts = rest.split(/[‚Äì-]/);\n                    if (hoursParts.length > 1) {\n                        open = hoursParts[0].trim();\n                        close = hoursParts.slice(1).join('‚Äì').trim();\n                    } else {\n                        open = rest;\n                    }\n\n                    return { day, open, close };\n                }\n\n                return { day: text, open: '', close: '' };\n            }).filter(Boolean);\n        }\n\n        // ‚úÖ IMPORTANT: Pr√©server les m√©tadonn√©es de configuration de couche\n        // Ces champs sont ajout√©s par GeoJSON._convertFeatureToPOI\n        if (poi._sidepanelConfig) {\n            normalized._sidepanelConfig = poi._sidepanelConfig;\n        }\n        if (poi._layerConfig) {\n            normalized._layerConfig = poi._layerConfig;\n        }\n\n        return normalized;\n    }\n\n    /**\n     * Extrait la valeur d'un champ depuis un POI normalis√© en utilisant la notation point√©e.\n     *\n     * @param {object} normalizedPoi - POI normalis√©.\n     * @param {string} fieldPath - Chemin du champ (ex: \"title\", \"attributes.gallery\", \"attributes.reviews.rating\").\n     * @returns {*} Valeur du champ ou null si introuvable.\n     */\n    function getFieldValue(normalizedPoi, fieldPath) {\n        if (!normalizedPoi || !fieldPath) return null;\n\n        console.log('[DEBUG getFieldValue] Recherche:', fieldPath, 'dans POI:', {\n            id: normalizedPoi.id,\n            hasProperties: !!normalizedPoi.properties,\n            hasAttributes: !!normalizedPoi.attributes,\n            propertiesKeys: normalizedPoi.properties ? Object.keys(normalizedPoi.properties) : [],\n            attributesKeys: normalizedPoi.attributes ? Object.keys(normalizedPoi.attributes) : []\n        });\n\n        if (Log && typeof Log.debug === 'function') {\n            Log.debug(\"[POI.getFieldValue] Recherche fieldPath:\", fieldPath, \"| POI:\", normalizedPoi.id);\n        }\n\n        const parts = fieldPath.split('.');\n        let value = normalizedPoi;\n\n        for (const part of parts) {\n            if (value == null || typeof value !== 'object') {\n                if (Log && typeof Log.debug === 'function') {\n                    Log.debug(\"[POI.getFieldValue] Chemin interrompu √† la partie:\", part, \"| value actuelle:\", value);\n                }\n                return null;\n            }\n            value = value[part];\n        }\n\n        console.log('[DEBUG getFieldValue] Valeur trouv√©e:', value, 'pour fieldPath:', fieldPath);\n\n        if (Log && typeof Log.debug === 'function') {\n            Log.debug(\"[POI.getFieldValue] Valeur trouv√©e pour\", fieldPath, \":\", value);\n        }\n\n        // Retourner null pour les valeurs vides\n        if (value === undefined || value === '' || (Array.isArray(value) && value.length === 0)) {\n            console.log('[DEBUG getFieldValue] Valeur vide, retourne null');\n            if (Log && typeof Log.debug === 'function') {\n                Log.debug(\"[POI.getFieldValue] Valeur vide ou tableau vide, retourne null\");\n            }\n            return null;\n        }\n\n        return value;\n    }\n\n    /**\n     * Extrait les coordonn√©es d'un POI et les normalise en [lat, lng].\n     *\n     * @param {object} poi - POI brut.\n     * @returns {Array<number>|null} Coordonn√©es [lat, lng] ou null si invalides.\n     */\n    function extractCoordinates(poi) {\n        if (!poi) return null;\n\n        let lat, lng;\n\n        // Format 1: poi.latlng = [lat, lng]\n        if (Array.isArray(poi.latlng) && poi.latlng.length >= 2) {\n            lat = poi.latlng[0];\n            lng = poi.latlng[1];\n        }\n        // Format 2: poi.latlng = {lat, lng}\n        else if (poi.latlng && typeof poi.latlng === 'object') {\n            lat = poi.latlng.lat;\n            lng = poi.latlng.lng || poi.latlng.lon;\n        }\n        // Format 3: poi.lat, poi.lng\n        else if (typeof poi.lat === 'number' && typeof poi.lng === 'number') {\n            lat = poi.lat;\n            lng = poi.lng;\n        }\n        // Format 4: poi.latitude, poi.longitude\n        else if (typeof poi.latitude === 'number' && typeof poi.longitude === 'number') {\n            lat = poi.latitude;\n            lng = poi.longitude;\n        }\n        // Format 5: poi.geometry.coordinates (GeoJSON)\n        else if (poi.geometry && Array.isArray(poi.geometry.coordinates)) {\n            // GeoJSON: [lng, lat] (invers√©!)\n            lng = poi.geometry.coordinates[0];\n            lat = poi.geometry.coordinates[1];\n        }\n\n        // Validation\n        if (typeof lat !== 'number' || typeof lng !== 'number' || isNaN(lat) || isNaN(lng)) {\n            return null;\n        }\n\n        // Validation bounds\n        if (lat < -90 || lat > 90 || lng < -180 || lng > 180) {\n            return null;\n        }\n\n        return [lat, lng];\n    }\n\n    /**\n     * G√©n√®re un ID unique pour un POI sans ID.\n     *\n     * @param {object} poi - POI.\n     * @returns {string} ID g√©n√©r√©.\n     */\n    function generatePoiId(poi) {\n        const timestamp = Date.now();\n        const random = Math.floor(Math.random() * 10000);\n        const label = (poi.title || poi.label || poi.name || 'poi').toLowerCase().replace(/[^a-z0-9]/g, '-').substring(0, 20);\n        return `poi-${label}-${timestamp}-${random}`;\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    GeoLeaf._POINormalizers = {\n        normalizePoi,\n        getFieldValue,\n        extractCoordinates,\n        generatePoiId\n    };\n\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf POI Module - Popup & Tooltips\n * Gestion des popups rapides et tooltips sur les marqueurs.\n * D√©l√®gue le rendu au module _ContentBuilder centralis√©.\n *\n * @module poi/popup\n * @version 2.0.0\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log || console;\n    const Security = GeoLeaf.Security || {};\n    const Utils = GeoLeaf.Utils || {};\n\n    GeoLeaf._POIPopup = GeoLeaf._POIPopup || {};\n\n    // ========================================\n    //   UTILITAIRES LOCAUX\n    // ========================================\n\n    /**\n     * R√©cup√®re le ContentBuilder\n     * @returns {Object|null}\n     */\n    function getContentBuilder() {\n        return GeoLeaf._ContentBuilder || null;\n    }\n\n    /**\n     * R√©sout la valeur d'un champ √† partir d'un objet POI.\n     * D√©l√®gue √† Utils.resolveField si disponible.\n     *\n     * @param {object} poi - Objet POI source.\n     * @param {string} field - Chemin du champ (ex: \"attributes.photo\").\n     * @returns {*} Valeur du champ ou null.\n     */\n    function resolveField(poi, field) {\n        if (!poi || !field) return null;\n\n        if (Utils.resolveField) {\n            return Utils.resolveField(poi, field);\n        }\n\n        // Fallback minimal\n        const parts = field.split('.');\n        let current = poi;\n        for (const part of parts) {\n            if (current && typeof current === 'object' && part in current) {\n                current = current[part];\n            } else {\n                return null;\n            }\n        }\n        return current;\n    }\n\n    /**\n     * √âchappe le HTML pour pr√©venir XSS.\n     * D√©l√®gue √† Security.escapeHtml si disponible.\n     *\n     * @param {string} str - Cha√Æne √† √©chapper.\n     * @returns {string} Cha√Æne √©chapp√©e.\n     */\n    function escapeHtml(str) {\n        if (!str) return '';\n        if (Security.escapeHtml) {\n            return Security.escapeHtml(str);\n        }\n        // Fallback\n        const div = document.createElement('div');\n        div.textContent = str;\n        return div.innerHTML;\n    }\n\n    // ========================================\n    //   CONFIGURATION\n    // ========================================\n\n    /**\n     * R√©cup√®re la configuration de popup pour une couche/POI.\n     *\n     * @param {object} poi - Donn√©es du POI.\n     * @returns {Array|null} Configuration detailPopup ou null.\n     */\n    function getPopupConfig(poi) {\n        // 1. Config attach√©e depuis la couche du POI\n        if (poi._layerConfig?.popup?.detailPopup) {\n            Log.info && Log.info('[POI Popup] Config popup depuis layerConfig');\n            return poi._layerConfig.popup.detailPopup;\n        }\n\n        // 2. Fallback: profil actif\n        const Config = GeoLeaf.Config;\n        if (Config && typeof Config.getActiveProfile === 'function') {\n            const profile = Config.getActiveProfile();\n\n            // Chercher la config dans les emplacements standards\n            if (profile?.popup?.detailPopup) {\n                Log.info && Log.info('[POI Popup] Config popup depuis profil actif (profile.popup.detailPopup)');\n                return profile.popup.detailPopup;\n            }\n\n            // ALTERNATIVE: V√©rifier aussi dans panels.poi (ancienne structure)\n            if (profile?.panels?.poi?.popup?.detailPopup) {\n                Log.info && Log.info('[POI Popup] Config popup depuis profil actif (profile.panels.poi.popup.detailPopup - ancienne structure)');\n                return profile.panels.poi.popup.detailPopup;\n            }\n        }\n\n        Log.warn && Log.warn('[POI Popup] Aucune configuration detailPopup trouv√©e pour POI:', poi.id || 'unknown');\n        return null;\n    }\n\n    /**\n     * R√©cup√®re la configuration de tooltip pour une couche/POI.\n     *\n     * @param {object} poi - Donn√©es du POI.\n     * @returns {Array|null} Configuration detailTooltip ou null.\n     */\n    function getTooltipConfig(poi) {\n        // 1. Config depuis popup.detailTooltip (structure standard)\n        if (poi._layerConfig?.popup?.detailTooltip) {\n            return poi._layerConfig.popup.detailTooltip;\n        }\n\n        // 2. Config depuis tooltip.detailTooltip\n        if (poi._layerConfig?.tooltip?.detailTooltip) {\n            return poi._layerConfig.tooltip.detailTooltip;\n        }\n\n        // 3. Config directe detailTooltip\n        if (poi._layerConfig?.detailTooltip) {\n            return poi._layerConfig.detailTooltip;\n        }\n\n        // 4. Fallback: profil actif\n        const Config = GeoLeaf.Config;\n        if (Config && typeof Config.getActiveProfile === 'function') {\n            const profile = Config.getActiveProfile();\n            if (profile?.popup?.detailTooltip) {\n                return profile.popup.detailTooltip;\n            }\n        }\n\n        return null;\n    }\n\n    // ========================================\n    //   CONSTRUCTION DU CONTENU\n    // ========================================\n\n    /**\n     * Construit le contenu HTML d'un popup rapide pour un POI.\n     * Utilise ContentBuilder si disponible, sinon logique interne.\n     *\n     * @param {object} poi - Donn√©es du POI.\n     * @param {Function} resolveCategoryDisplay - Fonction pour r√©soudre l'affichage de cat√©gorie.\n     * @returns {string} HTML du popup.\n     */\n    function buildQuickPopupContent(poi, resolveCategoryDisplay) {\n        if (!poi) {\n            Log.warn && Log.warn('[POI Popup] POI invalide');\n            return '';\n        }\n\n        const config = getPopupConfig(poi);\n        const ContentBuilder = getContentBuilder();\n\n        // Si ContentBuilder disponible, d√©l√©guer\n        if (ContentBuilder && typeof ContentBuilder.buildPopupHTML === 'function') {\n            return ContentBuilder.buildPopupHTML(poi, config, {\n                resolveCategoryDisplay: resolveCategoryDisplay\n            });\n        }\n\n        // Fallback si ContentBuilder non charg√©\n        Log.warn && Log.warn('[POI Popup] ContentBuilder non disponible, fallback basique');\n        return buildFallbackPopup(poi, config, resolveCategoryDisplay);\n    }\n\n    /**\n     * Construit le contenu d'un tooltip pour un POI.\n     * Utilise ContentBuilder si disponible.\n     *\n     * @param {object} poi - Donn√©es du POI.\n     * @param {Function} resolveCategoryDisplay - Fonction pour r√©soudre l'affichage de cat√©gorie.\n     * @returns {string} HTML du tooltip.\n     */\n    function buildTooltipContent(poi, resolveCategoryDisplay) {\n        if (!poi) {\n            Log.warn && Log.warn('[POI Tooltip] POI invalide');\n            return '';\n        }\n\n        const config = getTooltipConfig(poi);\n        const ContentBuilder = getContentBuilder();\n\n        // Si ContentBuilder disponible, d√©l√©guer\n        if (ContentBuilder && typeof ContentBuilder.buildTooltipHTML === 'function') {\n            return ContentBuilder.buildTooltipHTML(poi, config, {\n                resolveCategoryDisplay: resolveCategoryDisplay\n            });\n        }\n\n        // Fallback si ContentBuilder non charg√©\n        return escapeHtml(\n            resolveField(poi, 'title') ||\n            resolveField(poi, 'label') ||\n            resolveField(poi, 'name') ||\n            'POI'\n        );\n    }\n\n    /**\n     * Fallback pour construire un popup basique sans ContentBuilder.\n     *\n     * @param {object} poi - Donn√©es du POI.\n     * @param {Array} config - Configuration detailPopup.\n     * @param {Function} resolveCategoryDisplay - Fonction pour r√©soudre l'affichage de cat√©gorie.\n     * @returns {string} HTML du popup.\n     */\n    function buildFallbackPopup(poi, config, resolveCategoryDisplay) {\n        const title = escapeHtml(\n            resolveField(poi, 'title') ||\n            resolveField(poi, 'label') ||\n            resolveField(poi, 'name') ||\n            'POI'\n        );\n\n        const description = resolveField(poi, 'attributes.description') ||\n                            resolveField(poi, 'description') || '';\n\n        let html = '<div class=\"gl-poi-popup\">';\n        html += '<div class=\"gl-poi-popup__body\">';\n        html += '<h3 class=\"gl-poi-popup__title\"><span class=\"gl-poi-popup__title-text\">' + title + '</span></h3>';\n        if (description) {\n            html += '<p class=\"gl-poi-popup__desc\">' + escapeHtml(description) + '</p>';\n        }\n        html += '<a href=\"#\" class=\"gl-poi-popup__link\" data-poi-id=\"' + (poi.id || '') + '\">Voir plus >>></a>';\n        html += '</div></div>';\n\n        return html;\n    }\n\n    // ========================================\n    //   ATTACHMENT LEAFLET\n    // ========================================\n\n    /**\n     * Attache un tooltip √† un marqueur Leaflet.\n     *\n     * @param {L.Marker} marker - Marqueur Leaflet.\n     * @param {string} content - Contenu du tooltip (texte).\n     * @param {object} options - Options du tooltip.\n     */\n    function attachTooltip(marker, content, options) {\n        if (!marker || typeof marker.bindTooltip !== 'function') {\n            Log.warn && Log.warn('[POI Popup] Marker invalide pour attachTooltip');\n            return;\n        }\n\n        const defaultOptions = {\n            direction: \"top\",\n            offset: [0, -10],\n            opacity: 0.9,\n            className: \"gl-poi-tooltip\"\n        };\n\n        const finalOptions = Object.assign({}, defaultOptions, options || {});\n        marker.bindTooltip(content, finalOptions);\n    }\n\n    /**\n     * G√®re le tooltip d'un marqueur selon la configuration.\n     *\n     * @param {L.Marker} marker - Marqueur Leaflet.\n     * @param {object} poi - Donn√©es du POI.\n     * @param {object} config - Configuration POI globale.\n     * @param {Function} resolveCategoryDisplay - Fonction pour r√©soudre l'affichage de cat√©gorie.\n     */\n    function manageTooltip(marker, poi, config, resolveCategoryDisplay) {\n        if (!marker || !poi) return;\n\n        const tooltipMode = config?.tooltipMode || \"hover\"; // \"hover\", \"permanent\", \"none\"\n\n        if (tooltipMode === \"none\") {\n            return;\n        }\n\n        // Construire le contenu du tooltip\n        const tooltipText = buildTooltipContent(poi, resolveCategoryDisplay);\n\n        if (tooltipMode === \"permanent\") {\n            attachTooltip(marker, tooltipText, { permanent: true });\n        } else {\n            attachTooltip(marker, tooltipText);\n        }\n    }\n\n    /**\n     * Attache un popup √† un marqueur Leaflet.\n     *\n     * @param {L.Marker} marker - Marqueur Leaflet.\n     * @param {string} content - Contenu HTML du popup.\n     * @param {object} options - Options du popup.\n     */\n    function attachPopup(marker, content, options) {\n        if (!marker || typeof marker.bindPopup !== 'function') {\n            Log.error && Log.error('[POI Popup] Marker invalide ou pas de bindPopup');\n            return;\n        }\n\n        const defaultOptions = {\n            maxWidth: 300,\n            minWidth: 200,\n            className: \"gl-poi-popup-leaflet\",\n            closeButton: true,\n            autoPan: true\n        };\n\n        const finalOptions = Object.assign({}, defaultOptions, options || {});\n        marker.bindPopup(content, finalOptions);\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    GeoLeaf._POIPopup = {\n        // Construction de contenu\n        buildQuickPopupContent,\n        buildTooltipContent,\n\n        // Gestion Leaflet\n        attachTooltip,\n        manageTooltip,\n        attachPopup,\n\n        // Configuration\n        getPopupConfig,\n        getTooltipConfig\n    };\n\n    Log.info && Log.info('[GeoLeaf._POIPopup] Module POI Popup/Tooltip charg√© (v2.0.0)');\n\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf POI Module - Markers\n * Cr√©ation et gestion des marqueurs Leaflet pour les POI\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log;\n    const Security = GeoLeaf.Security || {};\n\n    GeoLeaf._POIMarkers = GeoLeaf._POIMarkers || {};\n\n    // R√©f√©rences aux modules POI\n    const getShared = () => GeoLeaf._POIShared;\n    const getNormalizers = () => GeoLeaf._POINormalizers;\n    const getPopup = () => GeoLeaf._POIPopup;\n\n    /**\n     * Obtient la configuration de base des POI depuis le profil actif.\n     *\n     * @returns {object} Configuration de base { radius, weight, colorFill, colorStroke, fillOpacity, opacity, showIconsOnMap }.\n     */\n    function getPoiBaseConfig() {\n        const base = {\n            radius: 6,\n            weight: 1.5,\n            colorFill: \"#4a90e5\",\n            colorStroke: \"#ffffff\",\n            fillOpacity: 0.8,\n            opacity: 0.9,\n            showIconsOnMap: true\n        };\n\n        try {\n            if (GeoLeaf.Config && typeof GeoLeaf.Config.getActiveProfile === \"function\") {\n                const activeProfile = GeoLeaf.Config.getActiveProfile();\n                const poiCfg =\n                    activeProfile &&\n                    activeProfile.appearance &&\n                    activeProfile.appearance.poi;\n\n                if (poiCfg) {\n                    if (typeof poiCfg.radius === \"number\") base.radius = poiCfg.radius;\n                    if (typeof poiCfg.weight === \"number\") base.weight = poiCfg.weight;\n                    if (typeof poiCfg.fillOpacity === \"number\") base.fillOpacity = poiCfg.fillOpacity;\n                    if (typeof poiCfg.opacity === \"number\") base.opacity = poiCfg.opacity;\n                    if (typeof poiCfg.showIconsOnMap === \"boolean\") base.showIconsOnMap = poiCfg.showIconsOnMap;\n\n                    if (typeof poiCfg.colorFill === \"string\") {\n                        base.colorFill = poiCfg.colorFill;\n                    }\n                    if (typeof poiCfg.colorStroke === \"string\") {\n                        base.colorStroke = poiCfg.colorStroke;\n                    }\n                }\n            }\n\n            // Fallback sur variables CSS\n            if (typeof document !== \"undefined\" && typeof window !== \"undefined\" && window.getComputedStyle) {\n                const root = getComputedStyle(document.documentElement);\n                const fillCss = root.getPropertyValue(\"--gl-color-poi-fill-default\").trim();\n                const strokeCss = root.getPropertyValue(\"--gl-color-poi-stroke-default\").trim();\n                if (fillCss && !base.colorFill) base.colorFill = fillCss;\n                if (strokeCss && !base.colorStroke) base.colorStroke = strokeCss;\n            }\n        } catch (err) {\n            if (Log) Log.warn(\"[POI] getPoiBaseConfig() : Erreur lecture config :\", err);\n        }\n\n        return base;\n    }\n\n    /**\n     * R√©sout les couleurs d'un POI depuis category.style.json du profil actif.\n     * Ordre de priorit√© des couleurs :\n     * 1. Style de la couche (poi._layerConfig.style)\n     * 2. Style de cat√©gorie (category.style.json)\n     * 3. Style par d√©faut (baseConfig)\n     *\n     * @param {object} poi - Donn√©es du POI.\n     * @param {object} baseConfig - Configuration de base avec couleurs par d√©faut\n     * @returns {object} { colorFill, colorStroke, colorRoute, weight, radius, fillOpacity, opacity }\n     */\n    function resolveCategoryColors(poi, baseConfig) {\n        let colors = {\n            colorFill: baseConfig.colorFill,\n            colorStroke: baseConfig.colorStroke,\n            colorRoute: null,\n            weight: baseConfig.weight,\n            radius: baseConfig.radius,\n            fillOpacity: baseConfig.fillOpacity !== undefined ? baseConfig.fillOpacity : null,\n            opacity: baseConfig.opacity !== undefined ? baseConfig.opacity : null\n        };\n\n        // 1. Appliquer d'abord le style de la couche si disponible\n        if (poi._layerConfig && poi._layerConfig.style) {\n            const layerStyle = poi._layerConfig.style;\n            if (layerStyle.fillColor) colors.colorFill = layerStyle.fillColor;\n            if (layerStyle.color) colors.colorStroke = layerStyle.color;\n            if (typeof layerStyle.weight === 'number') colors.weight = layerStyle.weight;\n            if (typeof layerStyle.radius === 'number') colors.radius = layerStyle.radius;\n            if (typeof layerStyle.fillOpacity === 'number') colors.fillOpacity = layerStyle.fillOpacity;\n            if (typeof layerStyle.opacity === 'number') colors.opacity = layerStyle.opacity;\n        }\n\n        // 2. Appliquer ensuite les couleurs depuis les styleRules de la couche\n        if (GeoLeaf.Helpers && GeoLeaf.Helpers.StyleResolver) {\n            const styleColors = GeoLeaf.Helpers.StyleResolver.resolvePoiColors(poi);\n            if (styleColors.colorFill) colors.colorFill = styleColors.colorFill;\n            if (styleColors.colorStroke) colors.colorStroke = styleColors.colorStroke;\n            if (styleColors.colorRoute) colors.colorRoute = styleColors.colorRoute;\n        }\n\n        return colors;\n    }\n\n    /**\n     * R√©sout l'affichage d'un POI (ic√¥ne + couleurs) depuis la taxonomie et category.style.json du profil actif.\n     * Ordre de priorit√© des styles :\n     * 1. Style de la couche (poi._layerConfig.style) pour les couleurs\n     * 2. Style de cat√©gorie (category.style.json) pour les couleurs\n     * 3. Taxonomie pour les ic√¥nes\n     * 4. Style par d√©faut (baseConfig)\n     *\n     * @param {object} poi - Donn√©es du POI.\n     * @returns {object} Configuration d'affichage { useIcon, iconId, colorFill, colorStroke, weight, radius, fillOpacity, opacity }.\n     */\n    function resolveCategoryDisplay(poi) {\n        const categoriesConfig = (GeoLeaf.Config && typeof GeoLeaf.Config.getCategories === \"function\")\n            ? GeoLeaf.Config.getCategories()\n            : {};\n\n        const shared = getShared();\n        const poiConfig = shared ? shared.state.poiConfig : {};\n        const showIconsOnMap = (poiConfig.showIconsOnMap !== false);\n\n        const baseConfig = getPoiBaseConfig();\n\n        // R√©soudre les couleurs via resolveCategoryColors\n        const colors = resolveCategoryColors(poi, baseConfig);\n\n        let result = {\n            useIcon: false,\n            iconId: null,\n            colorFill: colors.colorFill,\n            colorStroke: colors.colorStroke,\n            colorRoute: colors.colorRoute,\n            weight: colors.weight,\n            radius: colors.radius,\n            fillOpacity: colors.fillOpacity,\n            opacity: colors.opacity\n        };\n\n        // D√©terminer si on utilise les ic√¥nes\n        if (showIconsOnMap) {\n            try {\n                const iconsConfig = (GeoLeaf.Config && typeof GeoLeaf.Config.getIconsConfig === \"function\")\n                    ? GeoLeaf.Config.getIconsConfig()\n                    : null;\n\n                if (iconsConfig && iconsConfig.showOnMap !== false) {\n                    result.useIcon = true;\n                }\n            } catch (e) {\n                // Fallback showIconsOnMap reste true par d√©faut\n            }\n        }\n\n        const categoryId = poi.categoryId || poi.category ||\n            (poi.attributes && poi.attributes.categoryId) ||\n            (poi.properties && poi.properties.categoryId) ||\n            (poi.properties && poi.properties.category);\n\n        const subCategoryId = poi.subCategoryId || poi.subCategory || poi.sub_category ||\n            (poi.attributes && poi.attributes.subCategoryId) ||\n            (poi.properties && poi.properties.subCategoryId) ||\n            (poi.properties && poi.properties.sub_category);\n\n        // R√©solution de l'ic√¥ne depuis la taxonomie (pas les couleurs)\n        if (subCategoryId && categoryId && categoriesConfig[categoryId]?.subcategories) {\n            const subCat = categoriesConfig[categoryId].subcategories[subCategoryId];\n            const cat = categoriesConfig[categoryId];\n\n            if (subCat) {\n                result.iconId = subCat.icon || subCat.iconId || cat.icon || cat.iconId || null;\n            } else {\n                result.iconId = cat.icon || cat.iconId || null;\n            }\n        } else if (categoryId && categoriesConfig[categoryId]) {\n            const cat = categoriesConfig[categoryId];\n            result.iconId = cat.icon || cat.iconId || null;\n        } else {\n            // Ne logger que si une cat√©gorie est r√©ellement d√©finie (√©viter les warnings pour undefined/null)\n            if (categoryId && categoryId !== 'undefined' && categoryId !== 'null' && Log) {\n                Log.warn(`[POI] resolveCategoryDisplay() : Cat√©gorie '${categoryId}' non trouv√©e dans la taxonomie.`);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Injecte le sprite SVG du profil actif dans le DOM (asynchrone).\n     * Lit la configuration des ic√¥nes depuis taxonomy.icons.\n     * √âvite les duplications en v√©rifiant l'existence.\n     * Note: La fonction reste nomm√©e \"Sync\" pour la compatibilit√©, mais utilise fetch (async) en interne.\n     */\n    async function ensureProfileSpriteInjectedSync() {\n        try {\n            if (typeof GeoLeaf.Config === \"undefined\" || typeof GeoLeaf.Config.getIconsConfig !== \"function\") {\n                if (Log) Log.warn(\"[POI] GeoLeaf.Config.getIconsConfig non disponible\");\n                return;\n            }\n\n            const iconsCfg = GeoLeaf.Config.getIconsConfig();\n            // Log seulement la premi√®re fois ou si la config change\n            if (!ensureProfileSpriteInjectedSync._lastConfig || JSON.stringify(iconsCfg) !== JSON.stringify(ensureProfileSpriteInjectedSync._lastConfig)) {\n                if (Log) Log.debug(\"[POI] IconsConfig r√©cup√©r√©:\", iconsCfg);\n                ensureProfileSpriteInjectedSync._lastConfig = iconsCfg;\n            }\n            if (!iconsCfg) {\n                if (Log) Log.warn(\"[POI] Aucune configuration d'ic√¥nes trouv√©e\");\n                return;\n            }\n\n            const spriteUrl = iconsCfg.spriteUrl;\n\n            if (!spriteUrl || typeof spriteUrl !== \"string\") {\n                if (Log) Log.warn(\"[POI] spriteUrl manquant ou invalide:\", spriteUrl);\n                return;\n            }\n\n            // V√©rifier si le sprite est d√©j√† inject√©\n            const existing = document.querySelector('svg[data-geoleaf-sprite=\"profile\"]');\n            if (existing) {\n                if (Log) Log.debug(\"[POI] Sprite SVG d√©j√† inject√©\");\n                return;\n            }\n\n            if (Log) Log.info(\"[POI] Chargement sprite depuis:\", spriteUrl);\n\n            // ‚úÖ NOUVEAU: Utiliser fetch asynchrone pour √©viter l'avertissement de d√©pr√©ciation\n            // et am√©liorer les performances en √©vitant de bloquer le thread principal\n            try {\n                const response = await fetch(spriteUrl);\n\n                if (response.ok) {\n                    const svgText = await response.text();\n\n                    // SAFE: Utilisation de DOMParser au lieu de innerHTML pour √©viter l'ex√©cution de scripts\n                    const parser = new DOMParser();\n                    const doc = parser.parseFromString(svgText, \"image/svg+xml\");\n\n                    // V√©rifier les erreurs de parsing\n                    const parserError = doc.querySelector(\"parsererror\");\n                    if (parserError) {\n                        if (Log) Log.warn(\"[POI] Erreur parsing SVG sprite :\", parserError.textContent);\n                        return;\n                    }\n\n                    const svgEl = doc.documentElement;\n                    if (svgEl && svgEl.tagName.toLowerCase() === \"svg\") {\n                        svgEl.setAttribute(\"data-geoleaf-sprite\", \"profile\");\n                        svgEl.style.position = \"absolute\";\n                        svgEl.style.width = \"0\";\n                        svgEl.style.height = \"0\";\n                        svgEl.style.overflow = \"hidden\";\n                        svgEl.setAttribute(\"aria-hidden\", \"true\");\n\n                        if (document.body.firstChild) {\n                            document.body.insertBefore(svgEl, document.body.firstChild);\n                        } else {\n                            document.body.appendChild(svgEl);\n                        }\n\n                        const symbolCount = svgEl.querySelectorAll('symbol').length;\n                        if (Log) Log.info(\"[POI] Sprite SVG profil inject√© dans le DOM (async).\", symbolCount, \"symboles charg√©s.\");\n                    }\n                } else {\n                    if (Log) Log.warn(\"[POI] Erreur chargement sprite profil: HTTP\", response.status);\n                }\n            } catch (err) {\n                if (Log) Log.warn(\"[POI] Erreur chargement sprite profil (async):\", err);\n            }\n        } catch (err) {\n            if (Log) Log.warn(\"[POI] Erreur chargement sprite profil :\", err);\n        }\n    }\n\n    /**\n     * Extrait les coordonn√©es d'un POI pour la cr√©ation de marqueur.\n     *\n     * @param {object} poi - Donn√©es du POI.\n     * @returns {[number, number]|null} [latitude, longitude] ou null si invalides.\n     */\n    function extractMarkerCoordinates(poi) {\n        if (!poi) {\n            if (Log) Log.warn(\"[POI] extractMarkerCoordinates() : POI invalide.\", poi);\n            return null;\n        }\n\n        const normalizers = getNormalizers();\n        if (!normalizers) {\n            if (Log) Log.error(\"[POI] extractMarkerCoordinates() : Module Normalizers non charg√©.\");\n            return null;\n        }\n\n        const coords = normalizers.extractCoordinates(poi);\n        if (!coords) {\n            if (Log) Log.warn(\"[POI] extractMarkerCoordinates() : POI sans coordonn√©es valides.\", poi);\n            return null;\n        }\n\n        return coords;\n    }\n\n    /**\n     * Construit l'ic√¥ne Leaflet (DivIcon) pour un marqueur POI.\n     * Mode ic√¥ne : utilise le sprite SVG profil avec cercle de fond.\n     * Mode simple : cercle simple sans ic√¥ne.\n     *\n     * @param {object} displayConfig - Configuration d'affichage { useIcon, iconId, colorFill, colorStroke, radius, weight, fillOpacity, opacity }.\n     * @returns {L.DivIcon} Ic√¥ne Leaflet configur√©e.\n     */\n    function buildMarkerIcon(displayConfig) {\n        const baseConfig = getPoiBaseConfig();\n        const radius = displayConfig.radius !== undefined ? displayConfig.radius : baseConfig.radius;\n        const weight = displayConfig.weight !== undefined ? displayConfig.weight : baseConfig.weight;\n        const fillOpacity = displayConfig.fillOpacity;\n        const strokeOpacity = displayConfig.opacity;\n\n        const iconSizeCircle = Math.max(Math.round((radius * 2) + (weight * 2)), 8);\n        const iconSizeIcon = Math.max(Math.round((radius * 2) + (weight * 2)), 16);\n\n        // Appliquer fillOpacity √† colorFill si d√©fini\n        let colorFill = displayConfig.colorFill;\n        if (fillOpacity !== null && typeof fillOpacity === 'number') {\n            // Convertir la couleur hex en rgba avec fillOpacity\n            if (colorFill && colorFill.startsWith('#')) {\n                const r = parseInt(colorFill.slice(1, 3), 16);\n                const g = parseInt(colorFill.slice(3, 5), 16);\n                const b = parseInt(colorFill.slice(5, 7), 16);\n                colorFill = 'rgba(' + r + ', ' + g + ', ' + b + ', ' + fillOpacity + ')';\n            }\n        }\n\n        // Appliquer opacity au stroke (colorStroke) si d√©fini\n        let colorStroke = displayConfig.colorStroke;\n        if (strokeOpacity !== null && typeof strokeOpacity === 'number') {\n            // Convertir la couleur hex en rgba avec opacity\n            if (colorStroke && colorStroke.startsWith('#')) {\n                const r = parseInt(colorStroke.slice(1, 3), 16);\n                const g = parseInt(colorStroke.slice(3, 5), 16);\n                const b = parseInt(colorStroke.slice(5, 7), 16);\n                colorStroke = 'rgba(' + r + ', ' + g + ', ' + b + ', ' + strokeOpacity + ')';\n            }\n        }\n\n        if (displayConfig.useIcon && displayConfig.iconId) {\n            // Mode ic√¥ne : DivIcon avec sprite m√©tier\n            const iconsConfig = (GeoLeaf.Config && typeof GeoLeaf.Config.getIconsConfig === \"function\")\n                ? GeoLeaf.Config.getIconsConfig()\n                : null;\n            const iconPrefix = (iconsConfig && iconsConfig.symbolPrefix) || \"gl-poi-cat-\";\n\n            const iconIdNormalized = String(displayConfig.iconId)\n                .trim()\n                .toLowerCase()\n                .replace(/\\s+/g, \"-\");\n\n            const symbolId = iconPrefix + iconIdNormalized;\n\n            const htmlIcon = [\n                '<div class=\"gl-poi-marker\" style=\"',\n                \"--gl-poi-fill:\", colorFill, \";\",\n                \"--gl-poi-stroke:\", colorStroke, \";\",\n                \"width:\", iconSizeIcon, \"px;\",\n                \"height:\", iconSizeIcon, \"px;\",\n                '\">',\n                '<svg class=\"gl-poi-marker__icon\" aria-hidden=\"true\" focusable=\"false\" viewBox=\"0 0 24 24\" style=\"overflow: visible;\">',\n                '<circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"', colorFill, '\" stroke=\"', colorStroke, '\" stroke-width=\"', weight, '\"/>',\n                '<svg x=\"2\" y=\"2\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" preserveAspectRatio=\"xMidYMid meet\" overflow=\"visible\">',\n                '<use href=\"#', symbolId, '\" style=\"color: #ffffff\"/>',\n                '</svg>',\n                \"</svg>\",\n                \"</div>\"\n            ].join(\"\");\n\n            return L.divIcon({\n                html: htmlIcon,\n                className: \"gl-poi-divicon\",\n                iconSize: [iconSizeIcon, iconSizeIcon],\n                iconAnchor: [iconSizeIcon / 2, iconSizeIcon / 2],\n                popupAnchor: [0, -(iconSizeIcon / 2)]\n            });\n        } else {\n            // Mode point simple (sans ic√¥ne)\n            const htmlCircle = [\n                '<div class=\"gl-poi-marker\" style=\"',\n                \"--gl-poi-fill:\", colorFill, \";\",\n                \"--gl-poi-stroke:\", colorStroke, \";\",\n                \"width:\", iconSizeCircle, \"px;\",\n                \"height:\", iconSizeCircle, \"px;\",\n                '\">',\n                '<svg class=\"gl-poi-marker__circle\" aria-hidden=\"true\" focusable=\"false\">',\n                '<circle cx=\"50%\" cy=\"50%\" r=\"', radius, '\"',\n                ' fill=\"', colorFill, '\"',\n                ' stroke=\"', colorStroke, '\"',\n                ' stroke-width=\"', weight, '\" />',\n                \"</svg>\",\n                \"</div>\"\n            ].join(\"\");\n\n            return L.divIcon({\n                html: htmlCircle,\n                className: \"gl-poi-divicon\",\n                iconSize: [iconSizeCircle, iconSizeCircle],\n                iconAnchor: [iconSizeCircle / 2, iconSizeCircle / 2],\n                popupAnchor: [0, -(iconSizeCircle / 2)]\n            });\n        }\n    }\n\n    /**\n     * Attache les √©v√©nements et comportements √† un marqueur POI (tooltip, popup, side panel).\n     *\n     * @param {L.Marker} marker - Marqueur Leaflet √† configurer.\n     * @param {object} poi - Donn√©es du POI.\n     */\n    function attachMarkerEvents(marker, poi) {\n        // Attacher m√©tadonn√©es POI\n        marker._geoleafPoiData = poi;\n\n        const shared = getShared();\n        const poiConfig = shared ? shared.state.poiConfig : {};\n        const popupModule = getPopup();\n\n        // Gestion tooltip\n        if (popupModule && typeof popupModule.manageTooltip === 'function') {\n            popupModule.manageTooltip(marker, poi, poiConfig, resolveCategoryDisplay);\n        }\n\n        // V√©rifier si les popups sont activ√©s (par d√©faut: true)\n        const showPopup = (poiConfig.showPopup !== false);\n\n        if (showPopup) {\n            // Mode popup: afficher le popup avec lien \"Voir plus\"\n            if (popupModule && typeof popupModule.buildQuickPopupContent === 'function') {\n                const popupContent = popupModule.buildQuickPopupContent(poi, resolveCategoryDisplay);\n                if (popupContent) {\n                    if (popupModule.attachPopup) {\n                        popupModule.attachPopup(marker, popupContent);\n                    } else {\n                        marker.bindPopup(popupContent);\n                    }\n                } else {\n                    Log.error('[markers] Popup content vide pour POI:', poi.id);\n                }\n\n                // Initialiser le flag de popup actif\n                marker._geoleafPopupActive = false;\n\n                // Bloquer l'ouverture du tooltip pendant que le popup est actif\n                marker.on('tooltipopen', function() {\n                    if (marker._geoleafPopupActive) {\n                        marker.closeTooltip();\n                    }\n                });\n\n                // Attacher √©v√©nement pour le lien \"Voir plus\" du popup\n                marker.on('popupopen', function() {\n                    // Marquer le popup comme actif et fermer le tooltip\n                    marker._geoleafPopupActive = true;\n                    marker.closeTooltip();\n\n                    setTimeout(function() {\n                        const link = document.querySelector('.gl-poi-popup__link[data-poi-id=\"' + poi.id + '\"]');\n                        if (link) {\n                            if (Log) Log.info('[POI] Lien \"Voir plus\" trouv√© pour POI:', poi.id);\n\n                            // Retirer les anciens listeners pour √©viter les doublons\n                            const newLink = link.cloneNode(true);\n                            link.parentNode.replaceChild(newLink, link);\n\n                            newLink.addEventListener('click', function(e) {\n                                e.preventDefault();\n                                e.stopPropagation();\n\n                                if (Log) Log.info('[POI] Clic sur \"Voir plus\" pour POI:', poi.id);\n\n                                // Fermer le popup\n                                if (marker && marker.closePopup) {\n                                    marker.closePopup();\n                                }\n\n                                // Ouvrir le side panel avec un petit d√©lai\n                                setTimeout(function() {\n                                    if (Log) Log.info('[POI] Appel de showPoiDetails pour:', poi.id);\n                                    if (GeoLeaf.POI && typeof GeoLeaf.POI.showPoiDetails === 'function') {\n                                        GeoLeaf.POI.showPoiDetails(poi);\n                                    } else {\n                                        if (Log) Log.error('[POI] GeoLeaf.POI.showPoiDetails non disponible');\n                                    }\n                                }, 100);\n                            });\n                        } else {\n                            if (Log) Log.warn('[POI] Lien \"Voir plus\" non trouv√© pour POI:', poi.id);\n                        }\n                    }, 50);\n                });\n\n                // R√©activer le tooltip quand le popup se ferme\n                marker.on('popupclose', function() {\n                    marker._geoleafPopupActive = false;\n\n                    // R√©ouvrir le tooltip s'il est permanent (mode \"always\")\n                    if (marker.getTooltip() && marker.getTooltip().options.permanent) {\n                        setTimeout(function() {\n                            if (marker.openTooltip && !marker._geoleafPopupActive) {\n                                marker.openTooltip();\n                            }\n                        }, 50);\n                    }\n                });\n            }\n        } else {\n            // Mode direct: ouvrir le side panel directement au clic sur le marker (sans popup)\n            marker.on('click', function(e) {\n                e.originalEvent.stopPropagation();\n\n                if (Log) Log.info('[POI] Clic direct sur marker (sans popup) pour POI:', poi.id);\n\n                if (GeoLeaf.POI && typeof GeoLeaf.POI.showPoiDetails === 'function') {\n                    GeoLeaf.POI.showPoiDetails(poi);\n                } else {\n                    if (Log) Log.error('[POI] GeoLeaf.POI.showPoiDetails non disponible');\n                }\n            });\n        }\n    }\n\n    /**\n     * Cr√©e un marqueur Leaflet pour un POI.\n     * Orchestrateur principal : coordonn√©es ‚Üí affichage ‚Üí ic√¥ne ‚Üí √©v√©nements.\n     *\n     * @param {object} poi - Donn√©es du POI.\n     * @returns {L.Marker|null} Marqueur Leaflet ou null si invalide.\n     */\n    /**\n     * Cr√©e un marqueur Leaflet pour un POI.\n     * Orchestrateur principal : coordonn√©es ‚Üí affichage ‚Üí ic√¥ne ‚Üí √©v√©nements.\n     *\n     * @param {object} poi - Donn√©es du POI.\n     * @param {object} [options] - Options de cr√©ation.\n     * @param {boolean} [options.attachEvents=true] - Si false, ne pas attacher les √©v√©nements (popup, tooltip).\n     * @param {string} [options.pane] - Nom du pane Leaflet √† utiliser pour le z-index.\n     * @returns {L.Marker|null} Marqueur Leaflet ou null si invalide.\n     */\n    function createMarker(poi, options = {}) {\n        if (!poi) {\n            if (Log) Log.warn(\"[POI] createMarker() : POI invalide.\", poi);\n            return null;\n        }\n\n        const { attachEvents = true, pane } = options;\n\n        // Extraction coordonn√©es\n        const coords = extractMarkerCoordinates(poi);\n        if (!coords) {\n            return null;\n        }\n\n        const [lat, lon] = coords;\n\n        // R√©solution de l'affichage (ic√¥ne et couleurs)\n        const displayConfig = resolveCategoryDisplay(poi);\n\n        // Construction de l'ic√¥ne Leaflet\n        const customIcon = buildMarkerIcon(displayConfig);\n\n        // Options du marker avec pane si fourni\n        const markerOptions = { icon: customIcon };\n        if (pane) {\n            markerOptions.pane = pane;\n        }\n\n        // Cr√©ation du marqueur Leaflet avec le pane\n        const marker = L.marker([lat, lon], markerOptions);\n\n        // Attacher √©v√©nements et comportements (sauf si d√©sactiv√©)\n        if (attachEvents) {\n            attachMarkerEvents(marker, poi);\n        }\n\n        return marker;\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    GeoLeaf._POIMarkers = {\n        getPoiBaseConfig,\n        resolveCategoryDisplay,\n        ensureProfileSpriteInjectedSync,\n        extractMarkerCoordinates,\n        buildMarkerIcon,\n        attachMarkerEvents,\n        createMarker\n    };\n\n})(typeof window !== \"undefined\" ? window : global);\n","/**\r\n * @fileoverview Abstract Renderer Base Class\r\n * @description Base class providing common functionality for all renderers\r\n * @version 1.0.0\r\n * @phase Phase 5 - Code Optimization\r\n *\r\n * @author GeoLeaf Team\r\n * @since 3.1.0\r\n *\r\n * @benefits\r\n * - Eliminates ~20% code duplication across renderers\r\n * - Unified dependency resolution pattern\r\n * - Consistent error handling and logging\r\n * - Easier testing and maintenance\r\n */\r\n\r\n(function (global) {\r\n    'use strict';\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    if (!GeoLeaf._Renderers) GeoLeaf._Renderers = {};\r\n\r\n    /**\r\n     * @class AbstractRenderer\r\n     * @description Base class for all renderer implementations\r\n     *\r\n     * Common Patterns Extracted:\r\n     * - Dependency resolution (Log, Security, Config, Utils)\r\n     * - DOM element creation helpers\r\n     * - Event handler registration/cleanup\r\n     * - State management\r\n     * - Error handling and logging\r\n     *\r\n     * @example\r\n     * class MyCustomRenderer extends AbstractRenderer {\r\n     *     constructor(options) {\r\n     *         super(options);\r\n     *         this.init();\r\n     *     }\r\n     *\r\n     *     render(data) {\r\n     *         this.log('info', 'Rendering data', data);\r\n     *         const element = this.createElement('div', 'my-class');\r\n     *         // ... custom rendering logic\r\n     *         return element;\r\n     *     }\r\n     * }\r\n     */\r\n    class AbstractRenderer {\r\n        /**\r\n         * @constructor\r\n         * @param {Object} [options={}] - Renderer configuration options\r\n         * @param {string} [options.name='Renderer'] - Renderer name for logging\r\n         * @param {Object} [options.config={}] - Custom configuration\r\n         * @param {boolean} [options.debug=false] - Enable debug logging\r\n         */\r\n        constructor(options = {}) {\r\n            /**\r\n             * @private\r\n             * @type {string}\r\n             */\r\n            this._name = options.name || 'Renderer';\r\n\r\n            /**\r\n             * @private\r\n             * @type {Object}\r\n             */\r\n            this._config = options.config || {};\r\n\r\n            /**\r\n             * @private\r\n             * @type {boolean}\r\n             */\r\n            this._debug = options.debug || false;\r\n\r\n            /**\r\n             * @private\r\n             * @type {Array<Function>}\r\n             */\r\n            this._eventListeners = [];\r\n\r\n            /**\r\n             * @private\r\n             * @type {boolean}\r\n             */\r\n            this._initialized = false;\r\n\r\n            /**\r\n             * @private\r\n             * @type {WeakMap<HTMLElement, Object>}\r\n             */\r\n            this._stateMap = new WeakMap();\r\n        }\r\n\r\n        // ========================================\r\n        //   DEPENDENCY RESOLUTION\r\n        // ========================================\r\n\r\n        /**\r\n         * Get Log utility with fallback\r\n         * @protected\r\n         * @returns {Object} Log object\r\n         */\r\n        getLog() {\r\n            return GeoLeaf.Log || console;\r\n        }\r\n\r\n        /**\r\n         * Get Security utilities with fallback\r\n         * @protected\r\n         * @returns {Object} Security object with escapeHtml function\r\n         */\r\n        getSecurity() {\r\n            if (GeoLeaf.Security && typeof GeoLeaf.Security.escapeHtml === 'function') {\r\n                return GeoLeaf.Security;\r\n            }\r\n            // Fallback security utilities\r\n            return {\r\n                escapeHtml: (str) => {\r\n                    if (str == null) return '';\r\n                    const div = document.createElement('div');\r\n                    div.textContent = String(str);\r\n                    return div.innerHTML;\r\n                },\r\n                setSafeHTML: (element, html) => {\r\n                    if (!element) return;\r\n                    if (GeoLeaf.DOMSecurity && typeof GeoLeaf.DOMSecurity.setSafeHTML === 'function') {\r\n                        GeoLeaf.DOMSecurity.setSafeHTML(element, html);\r\n                    } else {\r\n                        element.textContent = html; // Safe fallback\r\n                    }\r\n                }\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Get Utils with field resolution\r\n         * @protected\r\n         * @returns {Object} Utils object with resolveField function\r\n         */\r\n        getUtils() {\r\n            if (GeoLeaf.Utils && typeof GeoLeaf.Utils.resolveField === 'function') {\r\n                return GeoLeaf.Utils;\r\n            }\r\n            // Fallback resolveField implementation\r\n            return {\r\n                resolveField: (obj, ...paths) => {\r\n                    if (!obj) return null;\r\n                    for (const path of paths) {\r\n                        if (!path) continue;\r\n                        const parts = String(path).split('.');\r\n                        let current = obj;\r\n                        let found = true;\r\n                        for (const part of parts) {\r\n                            if (current && typeof current === 'object' && part in current) {\r\n                                current = current[part];\r\n                            } else {\r\n                                found = false;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (found && current !== undefined && current !== null) {\r\n                            return current;\r\n                        }\r\n                    }\r\n                    return null;\r\n                }\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Get active profile configuration\r\n         * @protected\r\n         * @returns {Object|null} Active profile or null\r\n         */\r\n        getActiveProfile() {\r\n            if (GeoLeaf.Config && typeof GeoLeaf.Config.getActiveProfile === 'function') {\r\n                return GeoLeaf.Config.getActiveProfile() || null;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        // ========================================\r\n        //   LOGGING UTILITIES\r\n        // ========================================\r\n\r\n        /**\r\n         * Log message with level\r\n         * @protected\r\n         * @param {string} level - Log level (debug, info, warn, error)\r\n         * @param {string} message - Log message\r\n         * @param {...*} args - Additional arguments\r\n         */\r\n        log(level, message, ...args) {\r\n            if (level === 'debug' && !this._debug) return;\r\n\r\n            const log = this.getLog();\r\n            const prefix = `[${this._name}]`;\r\n\r\n            switch (level) {\r\n                case 'debug':\r\n                case 'info':\r\n                    log.info(prefix, message, ...args);\r\n                    break;\r\n                case 'warn':\r\n                    log.warn(prefix, message, ...args);\r\n                    break;\r\n                case 'error':\r\n                    log.error(prefix, message, ...args);\r\n                    break;\r\n                default:\r\n                    log.info(prefix, message, ...args);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Log debug message (if debug enabled)\r\n         * @protected\r\n         * @param {string} message - Debug message\r\n         * @param {...*} args - Additional arguments\r\n         */\r\n        debug(message, ...args) {\r\n            this.log('debug', message, ...args);\r\n        }\r\n\r\n        /**\r\n         * Log info message\r\n         * @protected\r\n         * @param {string} message - Info message\r\n         * @param {...*} args - Additional arguments\r\n         */\r\n        info(message, ...args) {\r\n            this.log('info', message, ...args);\r\n        }\r\n\r\n        /**\r\n         * Log warning message\r\n         * @protected\r\n         * @param {string} message - Warning message\r\n         * @param {...*} args - Additional arguments\r\n         */\r\n        warn(message, ...args) {\r\n            this.log('warn', message, ...args);\r\n        }\r\n\r\n        /**\r\n         * Log error message\r\n         * @protected\r\n         * @param {string} message - Error message\r\n         * @param {...*} args - Additional arguments\r\n         */\r\n        error(message, ...args) {\r\n            this.log('error', message, ...args);\r\n        }\r\n\r\n        // ========================================\r\n        //   DOM BUILDERS\r\n        // ========================================\r\n\r\n        /**\r\n         * Create DOM element with class and attributes\r\n         * @protected\r\n         * @param {string} tagName - HTML tag name\r\n         * @param {string|Array<string>} [className] - CSS class name(s)\r\n         * @param {Object} [attributes={}] - HTML attributes\r\n         * @returns {HTMLElement} Created element\r\n         *\r\n         * @example\r\n         * const div = this.createElement('div', 'my-class', { id: 'my-id', 'data-value': '123' });\r\n         * const button = this.createElement('button', ['btn', 'btn-primary'], { type: 'button' });\r\n         */\r\n        createElement(tagName, className, attributes = {}) {\r\n            const element = document.createElement(tagName);\r\n\r\n            if (className) {\r\n                if (Array.isArray(className)) {\r\n                    element.classList.add(...className);\r\n                } else {\r\n                    element.className = className;\r\n                }\r\n            }\r\n\r\n            Object.keys(attributes).forEach(key => {\r\n                element.setAttribute(key, attributes[key]);\r\n            });\r\n\r\n            return element;\r\n        }\r\n\r\n        /**\r\n         * Create text node with safe content\r\n         * @protected\r\n         * @param {string} text - Text content\r\n         * @returns {Text} Text node\r\n         */\r\n        createTextNode(text) {\r\n            return document.createTextNode(text || '');\r\n        }\r\n\r\n        /**\r\n         * Create element with safe text content\r\n         * @protected\r\n         * @param {string} tagName - HTML tag name\r\n         * @param {string} text - Text content\r\n         * @param {string} [className] - CSS class name\r\n         * @returns {HTMLElement} Element with text\r\n         */\r\n        createTextElement(tagName, text, className) {\r\n            const element = this.createElement(tagName, className);\r\n            element.textContent = text || '';\r\n            return element;\r\n        }\r\n\r\n        /**\r\n         * Create element with safe HTML content\r\n         * @protected\r\n         * @param {string} tagName - HTML tag name\r\n         * @param {string} html - HTML content (will be sanitized)\r\n         * @param {string} [className] - CSS class name\r\n         * @returns {HTMLElement} Element with HTML\r\n         */\r\n        createHTMLElement(tagName, html, className) {\r\n            const element = this.createElement(tagName, className);\r\n            const security = this.getSecurity();\r\n            security.setSafeHTML(element, html);\r\n            return element;\r\n        }\r\n\r\n        /**\r\n         * Append multiple children to parent element\r\n         * @protected\r\n         * @param {HTMLElement} parent - Parent element\r\n         * @param {...HTMLElement} children - Child elements to append\r\n         * @returns {HTMLElement} Parent element (for chaining)\r\n         */\r\n        appendChildren(parent, ...children) {\r\n            children.forEach(child => {\r\n                if (child) parent.appendChild(child);\r\n            });\r\n            return parent;\r\n        }\r\n\r\n        // ========================================\r\n        //   EVENT HANDLING\r\n        // ========================================\r\n\r\n        /**\r\n         * Register event listener with automatic cleanup\r\n         * @protected\r\n         * @param {HTMLElement} element - Target element\r\n         * @param {string} event - Event name\r\n         * @param {Function} handler - Event handler\r\n         * @param {Object} [options] - Event listener options\r\n         * @returns {Function} Cleanup function\r\n         */\r\n        addEventListener(element, event, handler, options) {\r\n            if (!element || !event || !handler) {\r\n                this.warn('addEventListener: invalid parameters');\r\n                return () => {};\r\n            }\r\n\r\n            const boundHandler = handler.bind(this);\r\n            element.addEventListener(event, boundHandler, options);\r\n\r\n            // Store for cleanup\r\n            const cleanup = () => {\r\n                element.removeEventListener(event, boundHandler, options);\r\n            };\r\n            this._eventListeners.push(cleanup);\r\n\r\n            return cleanup;\r\n        }\r\n\r\n        /**\r\n         * Remove all registered event listeners\r\n         * @protected\r\n         */\r\n        removeAllEventListeners() {\r\n            this._eventListeners.forEach(cleanup => cleanup());\r\n            this._eventListeners = [];\r\n        }\r\n\r\n        // ========================================\r\n        //   STATE MANAGEMENT\r\n        // ========================================\r\n\r\n        /**\r\n         * Set element state\r\n         * @protected\r\n         * @param {HTMLElement} element - Element to store state for\r\n         * @param {Object} state - State data\r\n         */\r\n        setState(element, state) {\r\n            if (element) {\r\n                this._stateMap.set(element, { ...state });\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Get element state\r\n         * @protected\r\n         * @param {HTMLElement} element - Element to get state from\r\n         * @returns {Object|null} Element state or null\r\n         */\r\n        getState(element) {\r\n            return element ? this._stateMap.get(element) || null : null;\r\n        }\r\n\r\n        /**\r\n         * Update element state (merge with existing)\r\n         * @protected\r\n         * @param {HTMLElement} element - Element to update state for\r\n         * @param {Object} updates - State updates to merge\r\n         */\r\n        updateState(element, updates) {\r\n            if (element) {\r\n                const currentState = this.getState(element) || {};\r\n                this.setState(element, { ...currentState, ...updates });\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Delete element state\r\n         * @protected\r\n         * @param {HTMLElement} element - Element to delete state for\r\n         */\r\n        deleteState(element) {\r\n            if (element) {\r\n                this._stateMap.delete(element);\r\n            }\r\n        }\r\n\r\n        // ========================================\r\n        //   LIFECYCLE METHODS\r\n        // ========================================\r\n\r\n        /**\r\n         * Initialize renderer (called in constructor or manually)\r\n         * Override in subclasses for custom initialization\r\n         * @protected\r\n         */\r\n        init() {\r\n            if (this._initialized) {\r\n                this.warn('Renderer already initialized');\r\n                return;\r\n            }\r\n\r\n            this.debug('Initializing renderer');\r\n            this._initialized = true;\r\n        }\r\n\r\n        /**\r\n         * Check if renderer is initialized\r\n         * @public\r\n         * @returns {boolean} true if initialized\r\n         */\r\n        isInitialized() {\r\n            return this._initialized;\r\n        }\r\n\r\n        /**\r\n         * Destroy renderer and cleanup resources\r\n         * @public\r\n         */\r\n        destroy() {\r\n            this.debug('Destroying renderer');\r\n            this.removeAllEventListeners();\r\n            this._stateMap = new WeakMap();\r\n            this._initialized = false;\r\n        }\r\n\r\n        // ========================================\r\n        //   ABSTRACT METHODS (to be overridden)\r\n        // ========================================\r\n\r\n        /**\r\n         * Render content (must be implemented by subclasses)\r\n         * @abstract\r\n         * @param {*} data - Data to render\r\n         * @param {Object} [options] - Render options\r\n         * @returns {HTMLElement|string|null} Rendered content\r\n         * @throws {Error} If not implemented\r\n         */\r\n        render(data, options) {\r\n            throw new Error(`${this._name}.render() must be implemented by subclass`);\r\n        }\r\n    }\r\n\r\n    // Export to GeoLeaf namespace\r\n    GeoLeaf._Renderers.AbstractRenderer = AbstractRenderer;\r\n\r\n    if (GeoLeaf.Log) {\r\n        GeoLeaf.Log.info('[GeoLeaf._Renderers.AbstractRenderer] Base class loaded');\r\n    }\r\n\r\n})(window);\r\n","/**\n * POI Renderers - Field Renderers Module (Migrated to AbstractRenderer)\n * Rendu des champs simples: texte, badges, liens, tags\n *\n * @module poi/renderers/field-renderers\n * @requires renderers/abstract-renderer\n * @version 2.0.0 - Migrated to AbstractRenderer base class\n */\n((global) => {\n    'use strict';\n\n    const GeoLeaf = global.GeoLeaf || {};\n\n    // Ensure AbstractRenderer is loaded\n    if (!GeoLeaf._Renderers || !GeoLeaf._Renderers.AbstractRenderer) {\n        if (GeoLeaf.Log) {\n            GeoLeaf.Log.error('[FieldRenderers] AbstractRenderer not loaded! Load abstract-renderer.js first.');\n        }\n        return;\n    }\n\n    const AbstractRenderer = GeoLeaf._Renderers.AbstractRenderer;\n\n    /**\n     * @class FieldRenderers\n     * @extends AbstractRenderer\n     * @description Renders simple POI fields: text, badges, links, tags\n     */\n    class FieldRenderers extends AbstractRenderer {\n        constructor(options = {}) {\n            super({\n                name: 'FieldRenderers',\n                debug: options.debug || false,\n                config: options.config || {}\n            });\n            this.init();\n        }\n\n        /**\n         * Render method (required by AbstractRenderer)\n         * Delegates to specific render methods\n         * @param {Object} data - Render data {section, poi, value, type}\n         * @returns {HTMLElement|null} Rendered element\n         */\n        render(data) {\n            const { section, poi, value, type } = data;\n\n            switch (type) {\n                case 'text':\n                    return this.renderText(section, poi, value);\n                case 'badge':\n                    return this.renderBadge(section, value, poi);\n                case 'link':\n                    return this.renderLink(section, value);\n                case 'tags':\n                    return this.renderTags(section, value);\n                default:\n                    this.warn('Unknown render type:', type);\n                    return null;\n            }\n        }\n\n        /**\n         * Rend un champ texte (title, description, etc.)\n         * @param {Object} section - Section config\n         * @param {Object} poi - POI data\n         * @param {string} value - Text value\n         * @returns {HTMLElement|null}\n         */\n        async renderText(section, poi, value) {\n            const security = this.getSecurity();\n\n            // Cas sp√©cial pour le titre avec ic√¥ne\n            if (section.style === 'title' || section.variant === 'title') {\n                return await this._renderTitleWithIcon(poi, value);\n            }\n\n            // Texte normal ou multiline\n            if (!value) {\n                this.warn('renderText: no value provided');\n                return null;\n            }\n\n            const element = this.createElement(\n                section.variant === 'multiline' ? 'div' : 'p',\n                'gl-poi-sidepanel__desc'\n            );\n\n            if (section.variant === 'multiline') {\n                element.style.whiteSpace = 'pre-wrap';\n                element.style.lineHeight = '1.6';\n            }\n\n            element.textContent = value;\n            this.info('renderText: element created, variant:', section.variant || 'normal');\n\n            return element;\n        }\n\n        /**\n         * Rend un titre avec ic√¥ne SVG\n         * @private\n         * @param {Object} poi - POI data\n         * @param {string} value - Title text\n         * @returns {HTMLElement}\n         */\n        async _renderTitleWithIcon(poi, value) {\n            const titleH2 = this.createElement('h2', 'gl-poi-sidepanel__title');\n\n            // Ajouter l'ic√¥ne SVG au titre\n            const markers = this._getMarkers();\n            if (markers && markers.resolveCategoryDisplay && markers.ensureProfileSpriteInjectedSync) {\n                const displayInfo = markers.resolveCategoryDisplay(poi);\n                this.debug('_renderTitleWithIcon: displayInfo =', displayInfo);\n\n                if (displayInfo.iconId) {\n                    await markers.ensureProfileSpriteInjectedSync();\n\n                    const svgIcon = this._createCategoryIcon(displayInfo);\n                    if (svgIcon) {\n                        this.debug('_renderTitleWithIcon: SVG icon created successfully');\n                        titleH2.appendChild(svgIcon);\n                    } else {\n                        this.warn('_renderTitleWithIcon: SVG icon creation failed');\n                    }\n                } else {\n                    this.debug('_renderTitleWithIcon: No iconId in displayInfo');\n                }\n            } else {\n                this.warn('_renderTitleWithIcon: Markers or required methods not available');\n            }\n\n            // Ajouter le texte du titre\n            const titleSpan = this.createTextElement('span',\n                value || poi.title || poi.label || poi.name || 'POI',\n                'gl-poi-sidepanel__title-text'\n            );\n            titleH2.appendChild(titleSpan);\n\n            this.info('renderText: title element created with icon');\n            return titleH2;\n        }\n\n        /**\n         * Cr√©e une ic√¥ne SVG de cat√©gorie\n         * @private\n         * @param {Object} displayInfo - Display information {iconId, colorFill, colorStroke}\n         * @returns {SVGElement|null}\n         */\n        _createCategoryIcon(displayInfo) {\n            // R√©cup√©rer la config d'ic√¥nes depuis GeoLeaf.Config\n            const iconsConfig = (GeoLeaf.Config && typeof GeoLeaf.Config.getIconsConfig === 'function')\n                ? GeoLeaf.Config.getIconsConfig()\n                : null;\n\n            const iconPrefix = (iconsConfig && iconsConfig.symbolPrefix) || \"gl-poi-cat-\";\n            const iconIdNormalized = String(displayInfo.iconId).trim().toLowerCase().replace(/\\s+/g, '-');\n            const symbolId = iconPrefix + iconIdNormalized;\n\n            this.debug('_createCategoryIcon: symbolId =', symbolId, ', colors =', displayInfo.colorFill, displayInfo.colorStroke);\n            this.debug('_createCategoryIcon: iconPrefix from config =', iconPrefix);\n\n            // V√©rifier si le sprite existe dans le DOM\n            const sprite = document.querySelector('svg[data-geoleaf-sprite=\"profile\"]');\n            if (!sprite) {\n                this.warn('_createCategoryIcon: Sprite SVG non trouv√© dans le DOM! Le sprite doit √™tre charg√© avant.');\n            } else {\n                this.debug('_createCategoryIcon: Sprite trouv√©, nombre de symboles:', sprite.querySelectorAll('symbol').length);\n            }\n\n            // V√©rifier si le symbole existe dans le sprite\n            const spriteSymbol = sprite ? sprite.querySelector(`#${symbolId}`) : null;\n            if (!spriteSymbol) {\n                this.warn('_createCategoryIcon: Symbole non trouv√© dans le sprite:', symbolId);\n                if (sprite) {\n                    // Lister les symboles disponibles pour debug\n                    const availableSymbols = Array.from(sprite.querySelectorAll('symbol')).map(s => s.id).slice(0, 5);\n                    this.debug('_createCategoryIcon: Premiers symboles disponibles:', availableSymbols);\n                }\n            }\n\n            const svgIcon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n            svgIcon.setAttribute('width', '32');\n            svgIcon.setAttribute('height', '32');\n            svgIcon.setAttribute('viewBox', '0 0 24 24');\n            svgIcon.setAttribute('class', 'gl-poi-sidepanel__icon');\n            svgIcon.style.marginRight = '10px';\n            svgIcon.style.flexShrink = '0';\n\n            const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n            circle.setAttribute('cx', '12');\n            circle.setAttribute('cy', '12');\n            circle.setAttribute('r', '10');\n            circle.setAttribute('fill', displayInfo.colorFill || '#3388ff');\n            circle.setAttribute('stroke', displayInfo.colorStroke || '#fff');\n            circle.setAttribute('stroke-width', '1.5');\n\n            svgIcon.appendChild(circle);\n\n            // Ajouter le symbole uniquement s'il existe\n            if (spriteSymbol) {\n                // SVG imbriqu√© pour le symbole (comme dans le popup)\n                const innerSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n                innerSvg.setAttribute('x', '4');\n                innerSvg.setAttribute('y', '4');\n                innerSvg.setAttribute('width', '16');\n                innerSvg.setAttribute('height', '16');\n                innerSvg.setAttribute('viewBox', '0 0 32 32');\n\n                const use = document.createElementNS('http://www.w3.org/2000/svg', 'use');\n                use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', '#' + symbolId);\n                use.setAttribute('href', '#' + symbolId);\n                use.style.color = '#ffffff';\n\n                innerSvg.appendChild(use);\n                svgIcon.appendChild(innerSvg);\n            }\n\n            this.debug('_createCategoryIcon: SVG structure created');\n            return svgIcon;\n        }\n\n        /**\n         * Rend un badge (cat√©gorie, sous-cat√©gorie)\n         * @param {Object} section - Section config\n         * @param {string} value - Badge text\n         * @param {Object} poi - POI data\n         * @returns {HTMLElement|null}\n         */\n        renderBadge(section, value, poi) {\n            if (!value) return null;\n\n            const container = this.createElement('div', 'gl-poi-badge-container');\n            const badge = this.createTextElement('span', value, 'gl-poi-badge');\n\n            // R√©cup√©rer les couleurs depuis la taxonomie\n            const markers = this._getMarkers();\n            if (markers && markers.resolveCategoryDisplay) {\n                const displayInfo = markers.resolveCategoryDisplay(poi);\n                if (displayInfo.colorFill) {\n                    badge.style.background = displayInfo.colorFill;\n                    badge.style.color = '#fff';\n                }\n            }\n\n            container.appendChild(badge);\n            return container;\n        }\n\n        /**\n         * Rend un lien (website, etc.)\n         * @param {Object} section - Section config\n         * @param {string} url - URL\n         * @returns {HTMLElement|null}\n         */\n        renderLink(section, url) {\n            if (!url) return null;\n\n            const linkP = this.createElement('p', 'gl-poi-sidepanel__link');\n            const anchor = this.createElement('a', null, {\n                href: url,\n                target: '_blank',\n                rel: 'noopener noreferrer'\n            });\n\n            anchor.textContent = section.linkText || url;\n            linkP.appendChild(anchor);\n\n            return linkP;\n        }\n\n        /**\n         * Rend une liste de tags\n         * @param {Object} section - Section config\n         * @param {Array<string>} tags - Tags array\n         * @returns {HTMLElement|null}\n         */\n        renderTags(section, tags) {\n            if (!tags || !Array.isArray(tags) || tags.length === 0) return null;\n\n            const tagsDiv = this.createElement('div', 'gl-poi-sidepanel__tags');\n\n            tags.forEach(tag => {\n                if (tag) {\n                    const tagSpan = this.createTextElement('span', tag, 'gl-poi-tag');\n                    tagsDiv.appendChild(tagSpan);\n                }\n            });\n\n            return tagsDiv;\n        }\n\n        /**\n         * Get POI Markers module\n         * @private\n         * @returns {Object|null}\n         */\n        _getMarkers() {\n            return GeoLeaf._POIMarkers || null;\n        }\n    }\n\n    // Export to namespace\n    if (!GeoLeaf.POI) GeoLeaf.POI = {};\n    if (!GeoLeaf.POI.Renderers) GeoLeaf.POI.Renderers = {};\n\n    GeoLeaf.POI.Renderers.FieldRenderers = FieldRenderers;\n\n    // Lazy singleton instance for backward compatibility\n    let instance = null;\n    const getInstance = () => {\n        if (!instance) {\n            instance = new FieldRenderers();\n        }\n        return instance;\n    };\n\n    GeoLeaf.POI.Renderers.renderText = (section, poi, value) =>\n        getInstance().renderText(section, poi, value);\n\n    GeoLeaf.POI.Renderers.renderBadge = (section, value, poi) =>\n        getInstance().renderBadge(section, value, poi);\n\n    GeoLeaf.POI.Renderers.renderLink = (section, url) =>\n        getInstance().renderLink(section, url);\n\n    GeoLeaf.POI.Renderers.renderTags = (section, tags) =>\n        getInstance().renderTags(section, tags);\n\n    if (GeoLeaf.Log) {\n        GeoLeaf.Log.info('[POI.Renderers.FieldRenderers] Loaded (v2.0 - AbstractRenderer)');\n    }\n\n})(window);\n","/**\r\n * POI Renderers - Media Renderers Module (Migrated to AbstractRenderer)\r\n * Rendu des m√©dias: images, galeries, lightbox\r\n *\r\n * @module poi/renderers/media-renderers\r\n * @requires renderers/abstract-renderer\r\n * @version 2.0.0 - Migrated to AbstractRenderer base class\r\n */\r\n((global) => {\r\n    'use strict';\r\n\r\n    const GeoLeaf = global.GeoLeaf || {};\r\n\r\n    // Ensure AbstractRenderer is loaded\r\n    if (!GeoLeaf._Renderers || !GeoLeaf._Renderers.AbstractRenderer) {\r\n        console.error('[MediaRenderers] AbstractRenderer not loaded! Load abstract-renderer.js first.');\r\n        return;\r\n    }\r\n\r\n    const AbstractRenderer = GeoLeaf._Renderers.AbstractRenderer;\r\n\r\n    /**\r\n     * @class MediaRenderers\r\n     * @extends AbstractRenderer\r\n     * @description Renders media elements: images, galleries, lightbox\r\n     */\r\n    class MediaRenderers extends AbstractRenderer {\r\n        constructor(options = {}) {\r\n            super({\r\n                name: 'MediaRenderers',\r\n                debug: options.debug || false,\r\n                config: options.config || {}\r\n            });\r\n            this.init();\r\n        }\r\n\r\n        /**\r\n         * Render method (required by AbstractRenderer)\r\n         * @param {Object} data - Render data {section, value, type}\r\n         * @returns {HTMLElement|null} Rendered element\r\n         */\r\n        render(data) {\r\n            const { section, value, type } = data;\r\n\r\n            switch (type) {\r\n                case 'image':\r\n                    return this.renderImage(section, value);\r\n                case 'gallery':\r\n                    return this.renderGallery(section, value);\r\n                default:\r\n                    this.warn('Unknown media render type:', type);\r\n                    return null;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Rend une image (hero ou normale)\r\n         * @param {Object} section - Section config\r\n         * @param {string} imageUrl - Image URL\r\n         * @returns {HTMLElement|null}\r\n         */\r\n        renderImage(section, imageUrl) {\r\n            if (!imageUrl) return null;\r\n\r\n            const className = section.variant === 'hero'\r\n                ? 'gl-poi-sidepanel__photo gl-poi-sidepanel__photo--hero'\r\n                : 'gl-poi-sidepanel__photo';\r\n\r\n            const photoDiv = this.createElement('div', className);\r\n            const img = this.createElement('img', null, {\r\n                src: imageUrl,\r\n                alt: section.label || 'Photo',\r\n                loading: 'lazy'\r\n            });\r\n\r\n            photoDiv.appendChild(img);\r\n            return photoDiv;\r\n        }\r\n\r\n        /**\r\n         * Rend une galerie d'images avec miniatures\r\n         * @param {Object} section - Section config\r\n         * @param {Array<string>} gallery - Array of image URLs\r\n         * @returns {HTMLElement|null}\r\n         */\r\n        renderGallery(section, gallery) {\r\n            if (!gallery || !Array.isArray(gallery) || gallery.length === 0) {\r\n                this.warn('renderGallery: invalid gallery data', gallery);\r\n                return null;\r\n            }\r\n\r\n            this.info('renderGallery: rendering', gallery.length, 'images');\r\n\r\n            const galleryDiv = this.createElement('div', 'gl-poi-gallery');\r\n\r\n            // Image principale\r\n            const mainDiv = this._createMainImage(gallery[0]);\r\n            galleryDiv.appendChild(mainDiv);\r\n\r\n            // Miniatures si plusieurs images\r\n            if (gallery.length > 1) {\r\n                const thumbsDiv = this._createThumbnails(gallery, mainDiv);\r\n                galleryDiv.appendChild(thumbsDiv);\r\n            }\r\n\r\n            return galleryDiv;\r\n        }\r\n\r\n        /**\r\n         * Cr√©e l'image principale de la galerie\r\n         * @private\r\n         * @param {string} imageUrl - Image URL\r\n         * @returns {HTMLElement}\r\n         */\r\n        _createMainImage(imageUrl) {\r\n            const mainDiv = this.createElement('div', 'gl-poi-gallery__main', {\r\n                'data-gallery-index': '0'\r\n            });\r\n\r\n            const mainImg = this.createElement('img', null, {\r\n                src: imageUrl,\r\n                alt: 'Image 1',\r\n                loading: 'lazy'\r\n            });\r\n\r\n            mainDiv.appendChild(mainImg);\r\n            return mainDiv;\r\n        }\r\n\r\n        /**\r\n         * Cr√©e les miniatures de la galerie\r\n         * @private\r\n         * @param {Array<string>} gallery - Array of image URLs\r\n         * @param {HTMLElement} mainDiv - Main image container\r\n         * @returns {HTMLElement}\r\n         */\r\n        _createThumbnails(gallery, mainDiv) {\r\n            const thumbsDiv = this.createElement('div', 'gl-poi-gallery__thumbnails');\r\n            const mainImg = mainDiv.querySelector('img');\r\n\r\n            gallery.forEach((imgUrl, index) => {\r\n                const thumbDiv = this._createThumbnail(imgUrl, index, mainImg, mainDiv, thumbsDiv);\r\n                thumbsDiv.appendChild(thumbDiv);\r\n            });\r\n\r\n            return thumbsDiv;\r\n        }\r\n\r\n        /**\r\n         * Cr√©e une miniature individuelle\r\n         * @private\r\n         * @param {string} imgUrl - Image URL\r\n         * @param {number} index - Image index\r\n         * @param {HTMLElement} mainImg - Main image element\r\n         * @param {HTMLElement} mainDiv - Main image container\r\n         * @param {HTMLElement} thumbsDiv - Thumbnails container\r\n         * @returns {HTMLElement}\r\n         */\r\n        _createThumbnail(imgUrl, index, mainImg, mainDiv, thumbsDiv) {\r\n            const thumbDiv = this.createElement('div',\r\n                index === 0 ? 'gl-poi-gallery__thumb active' : 'gl-poi-gallery__thumb',\r\n                { 'data-index': index.toString() }\r\n            );\r\n\r\n            const imgThumb = this.createElement('img', null, {\r\n                src: imgUrl,\r\n                alt: `Image ${index + 1}`,\r\n                loading: 'lazy'\r\n            });\r\n\r\n            thumbDiv.appendChild(imgThumb);\r\n\r\n            // Event listener pour changer l'image principale\r\n            this.addEventListener(thumbDiv, 'click', (e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                // Retirer la classe active de toutes les miniatures\r\n                const allThumbs = thumbsDiv.querySelectorAll('.gl-poi-gallery__thumb');\r\n                allThumbs.forEach(t => t.classList.remove('active'));\r\n\r\n                // Ajouter la classe active √† la miniature cliqu√©e\r\n                thumbDiv.classList.add('active');\r\n\r\n                // Changer l'image principale\r\n                mainImg.src = imgUrl;\r\n                mainImg.alt = `Image ${index + 1}`;\r\n                mainDiv.setAttribute('data-gallery-index', index.toString());\r\n\r\n                this.info('Gallery: Switched to image', index + 1);\r\n            }, true);\r\n\r\n            return thumbDiv;\r\n        }\r\n\r\n        /**\r\n         * Cleanup when gallery is destroyed\r\n         * @override\r\n         */\r\n        destroy() {\r\n            this.debug('Destroying MediaRenderers');\r\n            super.destroy();\r\n        }\r\n    }\r\n\r\n    // Export to namespace\r\n    if (!GeoLeaf.POI) GeoLeaf.POI = {};\r\n    if (!GeoLeaf.POI.Renderers) GeoLeaf.POI.Renderers = {};\r\n\r\n    GeoLeaf.POI.Renderers.MediaRenderers = MediaRenderers;\r\n\r\n    // Lazy singleton instance for backward compatibility\r\n    let instance = null;\r\n    const getInstance = () => {\r\n        if (!instance) {\r\n            instance = new MediaRenderers();\r\n        }\r\n        return instance;\r\n    };\r\n\r\n    GeoLeaf.POI.Renderers.renderImage = (section, imageUrl) =>\r\n        getInstance().renderImage(section, imageUrl);\r\n\r\n    GeoLeaf.POI.Renderers.renderGallery = (section, gallery) =>\r\n        getInstance().renderGallery(section, gallery);\r\n\r\n    if (GeoLeaf.Log) {\r\n        GeoLeaf.Log.info('[POI.Renderers.MediaRenderers] Loaded (v2.0 - AbstractRenderer)');\r\n    }\r\n\r\n})(window);\r\n","/**\r\n * GeoLeaf POI Module - Lightbox Manager\r\n * Gestion de l'affichage lightbox pour les images\r\n * Phase 6.2 - Extraction depuis core.js\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n\r\n    /**\r\n     * Gestionnaire de lightbox pour affichage d'images en plein √©cran\r\n     */\r\n    class LightboxManager {\r\n        constructor() {\r\n            this.currentLightbox = null;\r\n            this.closeHandler = null;\r\n        }\r\n\r\n        /**\r\n         * Ouvre une lightbox pour afficher une image en plein √©cran\r\n         * @param {string} imageSrc - URL de l'image √† afficher\r\n         */\r\n        open(imageSrc) {\r\n            // Fermer lightbox pr√©c√©dente si existe\r\n            this.close();\r\n\r\n            const lightbox = document.createElement('div');\r\n            lightbox.className = 'gl-poi-lightbox';\r\n            lightbox.style.cssText = `\r\n                position: fixed;\r\n                top: 0;\r\n                left: 0;\r\n                right: 0;\r\n                bottom: 0;\r\n                background: rgba(0,0,0,0.95);\r\n                z-index: 10000;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n                cursor: pointer;\r\n            `;\r\n\r\n            const img = document.createElement('img');\r\n            img.src = imageSrc;\r\n            img.style.cssText = `\r\n                max-width: 90%;\r\n                max-height: 90%;\r\n                object-fit: contain;\r\n            `;\r\n\r\n            lightbox.appendChild(img);\r\n            document.body.appendChild(lightbox);\r\n\r\n            // Stocker r√©f√©rence\r\n            this.currentLightbox = lightbox;\r\n\r\n            // Fermer en cliquant n'importe o√π\r\n            lightbox.addEventListener('click', () => {\r\n                this.close();\r\n            });\r\n\r\n            // Fermer avec Escape\r\n            this.closeHandler = (e) => {\r\n                if (e.key === 'Escape') {\r\n                    this.close();\r\n                }\r\n            };\r\n            document.addEventListener('keydown', this.closeHandler);\r\n        }\r\n\r\n        /**\r\n         * Ferme la lightbox active\r\n         */\r\n        close() {\r\n            if (this.currentLightbox && document.body.contains(this.currentLightbox)) {\r\n                document.body.removeChild(this.currentLightbox);\r\n            }\r\n\r\n            if (this.closeHandler) {\r\n                document.removeEventListener('keydown', this.closeHandler);\r\n                this.closeHandler = null;\r\n            }\r\n\r\n            this.currentLightbox = null;\r\n        }\r\n\r\n        /**\r\n         * V√©rifie si une lightbox est actuellement ouverte\r\n         * @returns {boolean}\r\n         */\r\n        isOpen() {\r\n            return this.currentLightbox !== null && document.body.contains(this.currentLightbox);\r\n        }\r\n    }\r\n\r\n    // Export global\r\n    GeoLeaf.LightboxManager = LightboxManager;\r\n\r\n    // Instance singleton pour usage simple\r\n    GeoLeaf._lightboxManager = new LightboxManager();\r\n\r\n})(typeof window !== \"undefined\" ? window : global);\r\n","/**\r\n * GeoLeaf POI Module - UI Behaviors\r\n * Comportements interactifs pour le side panel (accord√©ons, galeries)\r\n * Phase 6.2 - Extraction depuis core.js\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    const Log = GeoLeaf.Log;\r\n\r\n    /**\r\n     * Comportements UI pour le side panel POI\r\n     */\r\n    const UIBehaviors = {\r\n        /**\r\n         * Attache le comportement d'accord√©on exclusif (un seul ouvert √† la fois)\r\n         * @param {HTMLElement} container - Conteneur parent des accord√©ons\r\n         */\r\n        attachSingleAccordionBehavior(container) {\r\n            const accordions = container.querySelectorAll('details.gl-accordion');\r\n            if (accordions.length === 0) return;\r\n\r\n            accordions.forEach(accordion => {\r\n                accordion.addEventListener('toggle', (event) => {\r\n                    // Si cet accord√©on vient d'√™tre ouvert\r\n                    if (event.target.open) {\r\n                        // Fermer tous les autres accord√©ons\r\n                        accordions.forEach(otherAccordion => {\r\n                            if (otherAccordion !== event.target && otherAccordion.open) {\r\n                                otherAccordion.removeAttribute('open');\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n\r\n            if (Log) Log.info('[POI] Comportement singleAccordion activ√©:', accordions.length, 'accord√©ons');\r\n        },\r\n\r\n        /**\r\n         * Attache les √©v√©nements de navigation pour une galerie d'images\r\n         * @param {HTMLElement} sidePanelElement - √âl√©ment du side panel\r\n         * @param {LightboxManager} lightboxManager - Instance du gestionnaire de lightbox\r\n         */\r\n        attachGalleryEvents(sidePanelElement, lightboxManager) {\r\n            if (!sidePanelElement) return;\r\n\r\n            // Navigation par miniatures\r\n            const thumbs = sidePanelElement.querySelectorAll('.gl-poi-gallery__thumb');\r\n            const mainImg = sidePanelElement.querySelector('.gl-poi-gallery__main img');\r\n\r\n            if (!mainImg || thumbs.length === 0) return;\r\n\r\n            thumbs.forEach((thumb) => {\r\n                thumb.addEventListener('click', () => {\r\n                    const index = parseInt(thumb.getAttribute('data-index'), 10);\r\n                    const imgSrc = thumb.querySelector('img').src;\r\n\r\n                    // Mettre √† jour l'image principale\r\n                    mainImg.src = imgSrc;\r\n                    mainImg.alt = `Image ${index + 1}`;\r\n\r\n                    // Mettre √† jour l'√©tat actif des miniatures\r\n                    thumbs.forEach(t => t.classList.remove('active'));\r\n                    thumb.classList.add('active');\r\n                });\r\n            });\r\n\r\n            // Clic sur l'image principale pour lightbox\r\n            mainImg.addEventListener('click', () => {\r\n                if (lightboxManager) {\r\n                    lightboxManager.open(mainImg.src);\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Configure tous les comportements UI pour le side panel\r\n         * @param {HTMLElement} container - Conteneur du side panel\r\n         * @param {LightboxManager} lightboxManager - Instance du gestionnaire de lightbox\r\n         */\r\n        setupAll(container, lightboxManager) {\r\n            this.attachSingleAccordionBehavior(container);\r\n            this.attachGalleryEvents(container, lightboxManager);\r\n        }\r\n    };\r\n\r\n    // Export global\r\n    GeoLeaf._POIUIBehaviors = UIBehaviors;\r\n\r\n})(typeof window !== \"undefined\" ? window : global);\r\n","/**\r\n * GeoLeaf POI Module - Component Renderers\r\n * Rendu des composants UI (badges, liens, listes, tableaux, tags)\r\n * Phase 6.2 - Extraction depuis core.js\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    const Log = GeoLeaf.Log;\r\n\r\n    /**\r\n     * Renderers pour les composants UI du side panel\r\n     */\r\n    class ComponentRenderers {\r\n        constructor() {\r\n            // R√©f√©rence aux modules POI\r\n            this.getMarkers = () => GeoLeaf._POIMarkers;\r\n        }\r\n\r\n        /**\r\n         * Rend un badge avec style de cat√©gorie\r\n         * @param {object} section - Configuration de section\r\n         * @param {string} value - Valeur du badge\r\n         * @param {object} poi - POI complet\r\n         * @returns {HTMLElement|null}\r\n         */\r\n        renderBadge(section, value, poi) {\r\n            if (!value) return null;\r\n\r\n            const container = document.createElement('div');\r\n            container.className = 'gl-poi-badge-container';\r\n\r\n            const badge = document.createElement('span');\r\n            badge.className = 'gl-poi-badge';\r\n            badge.textContent = value;\r\n\r\n            // R√©cup√©rer les couleurs depuis la taxonomie si disponible\r\n            const markers = this.getMarkers();\r\n            if (markers && markers.resolveCategoryDisplay) {\r\n                const displayInfo = markers.resolveCategoryDisplay(poi);\r\n                if (displayInfo.colorFill) {\r\n                    badge.style.background = displayInfo.colorFill;\r\n                    badge.style.color = '#fff';\r\n                }\r\n            }\r\n\r\n            container.appendChild(badge);\r\n            return container;\r\n        }\r\n\r\n        /**\r\n         * Rend un lien externe\r\n         * @param {object} section - Configuration de section\r\n         * @param {string} url - URL du lien\r\n         * @returns {HTMLElement|null}\r\n         */\r\n        renderLink(section, url) {\r\n            if (!url) return null;\r\n\r\n            const container = document.createElement('div');\r\n            container.className = 'gl-poi-link-container';\r\n\r\n            const link = document.createElement('a');\r\n            link.className = 'gl-poi-website-link';\r\n            link.href = url;\r\n            link.target = '_blank';\r\n            link.rel = 'noopener noreferrer';\r\n            link.textContent = section.label || 'Visiter le site web ‚Üí';\r\n\r\n            container.appendChild(link);\r\n            return container;\r\n        }\r\n\r\n        /**\r\n         * Rend une liste (tableau de prix, etc.)\r\n         * @param {object} section - Configuration de section\r\n         * @param {Array|object} data - Donn√©es √† afficher\r\n         * @returns {HTMLElement|null}\r\n         */\r\n        renderList(section, data) {\r\n            if (!data) {\r\n                if (Log) Log.warn('[POI] renderList: data is null/undefined');\r\n                return null;\r\n            }\r\n\r\n            const div = document.createElement('div');\r\n            div.className = 'gl-poi-section';\r\n\r\n            // Cas sp√©cial pour price (objet)\r\n            if (typeof data === 'object' && !Array.isArray(data)) {\r\n                if (Log) Log.info('[POI] renderList: price object:', data);\r\n\r\n                if (data.from || data.to) {\r\n                    const p = document.createElement('p');\r\n                    const strong = document.createElement('strong');\r\n\r\n                    const safeFrom = Number.isFinite(Number(data.from)) ? Number(data.from) : null;\r\n                    const safeTo = Number.isFinite(Number(data.to)) ? Number(data.to) : null;\r\n                    const safeCurrency = data.currency || 'USD';\r\n\r\n                    if (safeFrom !== null && safeTo !== null) {\r\n                        strong.textContent = `De ${safeFrom} √† ${safeTo} ${safeCurrency}`;\r\n                    } else if (safeFrom !== null) {\r\n                        strong.textContent = `√Ä partir de ${safeFrom} ${safeCurrency}`;\r\n                    } else if (safeTo !== null) {\r\n                        strong.textContent = `Jusqu'√† ${safeTo} ${safeCurrency}`;\r\n                    }\r\n\r\n                    if (strong.textContent) {\r\n                        p.appendChild(strong);\r\n                        div.appendChild(p);\r\n                    }\r\n                }\r\n                if (data.description) {\r\n                    const desc = document.createElement('p');\r\n                    desc.textContent = data.description;\r\n                    desc.style.fontSize = '0.85rem';\r\n                    desc.style.color = 'var(--gl-color-text-muted)';\r\n                    div.appendChild(desc);\r\n                }\r\n\r\n                if (div.children.length === 0) {\r\n                    if (Log) Log.warn('[POI] renderList: price object has no displayable content');\r\n                    return null;\r\n                }\r\n                return div;\r\n            }\r\n\r\n            // Liste normale (array)\r\n            if (Array.isArray(data)) {\r\n                const variant = section.variant || 'disc';\r\n\r\n                const ul = document.createElement('ul');\r\n                ul.className = 'gl-poi-list-unordered';\r\n\r\n                // Appliquer le style de puce selon le variant\r\n                if (variant === 'disc' || variant === 'circle' || variant === 'square') {\r\n                    ul.style.listStyleType = variant;\r\n                } else {\r\n                    ul.style.listStyleType = 'disc'; // Par d√©faut\r\n                }\r\n\r\n                data.forEach(item => {\r\n                    const li = document.createElement('li');\r\n                    li.textContent = item;\r\n                    ul.appendChild(li);\r\n                });\r\n\r\n                div.appendChild(ul);\r\n            }\r\n\r\n            return div;\r\n        }\r\n\r\n        /**\r\n         * Rend un tableau avec en-t√™tes et bordures\r\n         * @param {object} section - Configuration de section\r\n         * @param {Array} data - Donn√©es du tableau\r\n         * @returns {HTMLElement|null}\r\n         */\r\n        renderTable(section, data) {\r\n            if (!data || !Array.isArray(data)) {\r\n                if (Log) Log.warn('[POI] renderTable: data is', data ? 'not an array' : 'null/undefined', '- type:', typeof data);\r\n                return null;\r\n            }\r\n\r\n            if (Log) Log.info('[POI] renderTable: rendering', data.length, 'rows');\r\n\r\n            // Transformer les cha√Ænes en objets si n√©cessaire\r\n            let tableData = data;\r\n            if (data.length > 0 && typeof data[0] === 'string' && section.columns && section.columns.length === 2) {\r\n                // D√©tecter le format \"Cl√© : Valeur\" ou \"Cl√© ‚Äì Valeur\"\r\n                tableData = data.map(str => {\r\n                    const separators = [' : ', ': ', ' ‚Äì ', '‚Äì', ' - ', '-'];\r\n                    for (const sep of separators) {\r\n                        const parts = str.split(sep);\r\n                        if (parts.length >= 2) {\r\n                            return {\r\n                                [section.columns[0].key]: parts[0].trim(),\r\n                                [section.columns[1].key]: parts.slice(1).join(sep).trim()\r\n                            };\r\n                        }\r\n                    }\r\n                    // Si aucun s√©parateur trouv√©, tout dans la premi√®re colonne\r\n                    return {\r\n                        [section.columns[0].key]: str,\r\n                        [section.columns[1].key]: ''\r\n                    };\r\n                });\r\n                if (Log) Log.info('[POI] renderTable: transformed string array to object array');\r\n            }\r\n\r\n            const table = document.createElement('table');\r\n            table.className = 'gl-poi-table';\r\n\r\n            // Gestion des bordures selon la configuration\r\n            const borders = section.borders || {};\r\n            if (borders.outer !== false) {\r\n                table.style.border = `1px solid ${borders.color || 'var(--gl-color-border-soft)'}`;\r\n            }\r\n\r\n            // En-t√™tes\r\n            if (section.columns) {\r\n                const thead = document.createElement('thead');\r\n                const tr = document.createElement('tr');\r\n                section.columns.forEach((col, index) => {\r\n                    const th = document.createElement('th');\r\n                    th.textContent = col.label;\r\n                    th.style.padding = '8px';\r\n                    th.style.textAlign = 'left';\r\n                    th.style.fontWeight = '600';\r\n                    th.style.backgroundColor = 'var(--gl-color-bg-subtle)';\r\n\r\n                    if (borders.row !== false) {\r\n                        th.style.borderBottom = `1px solid ${borders.color || 'var(--gl-color-border-soft)'}`;\r\n                    }\r\n                    if (borders.column && index > 0) {\r\n                        th.style.borderLeft = `1px solid ${borders.color || 'var(--gl-color-border-soft)'}`;\r\n                    }\r\n\r\n                    tr.appendChild(th);\r\n                });\r\n                thead.appendChild(tr);\r\n                table.appendChild(thead);\r\n            }\r\n\r\n            // Lignes de donn√©es\r\n            const tbody = document.createElement('tbody');\r\n            tableData.forEach((row, rowIndex) => {\r\n                const tr = document.createElement('tr');\r\n                if (section.columns) {\r\n                    section.columns.forEach((col, colIndex) => {\r\n                        const td = document.createElement('td');\r\n                        td.textContent = row[col.key] || '';\r\n                        td.style.padding = '8px';\r\n\r\n                        if (borders.row !== false && rowIndex < tableData.length - 1) {\r\n                            td.style.borderBottom = `1px solid ${borders.color || 'var(--gl-color-border-soft)'}`;\r\n                        }\r\n                        if (borders.column && colIndex > 0) {\r\n                            td.style.borderLeft = `1px solid ${borders.color || 'var(--gl-color-border-soft)'}`;\r\n                        }\r\n\r\n                        tr.appendChild(td);\r\n                    });\r\n                }\r\n                tbody.appendChild(tr);\r\n            });\r\n            table.appendChild(tbody);\r\n\r\n            return table;\r\n        }\r\n\r\n        /**\r\n         * Rend des tags\r\n         * @param {object} section - Configuration de section\r\n         * @param {Array<string>} tags - Liste de tags\r\n         * @returns {HTMLElement|null}\r\n         */\r\n        renderTags(section, tags) {\r\n            if (!tags || !Array.isArray(tags)) {\r\n                if (Log) Log.warn('[POI] renderTags: tags is', tags ? 'not an array' : 'null/undefined', '- type:', typeof tags, '- value:', tags);\r\n                return null;\r\n            }\r\n\r\n            if (tags.length === 0) {\r\n                if (Log) Log.warn('[POI] renderTags: tags array is empty');\r\n                return null;\r\n            }\r\n\r\n            if (Log) Log.info('[POI] renderTags: rendering', tags.length, 'tags');\r\n\r\n            const div = document.createElement('div');\r\n            div.className = 'gl-poi-sidepanel__tags';\r\n            div.style.display = 'flex';\r\n            div.style.flexWrap = 'wrap';\r\n            div.style.gap = '6px';\r\n\r\n            tags.forEach(tag => {\r\n                const tagSpan = document.createElement('span');\r\n                tagSpan.className = 'gl-poi-tag';\r\n                tagSpan.textContent = tag;\r\n                div.appendChild(tagSpan);\r\n            });\r\n\r\n            return div;\r\n        }\r\n\r\n        /**\r\n         * Rend les avis (reviews)\r\n         * @param {object} section - Configuration de section\r\n         * @param {Array} reviews - Liste d'avis\r\n         * @returns {HTMLElement|null}\r\n         */\r\n        renderReviews(section, reviews) {\r\n            if (!reviews || !Array.isArray(reviews)) {\r\n                if (Log) Log.warn('[POI] renderReviews: reviews is', reviews ? 'not an array' : 'null/undefined', '- type:', typeof reviews);\r\n                return null;\r\n            }\r\n\r\n            if (Log) Log.info('[POI] renderReviews: rendering', reviews.length, 'reviews');\r\n\r\n            const div = document.createElement('div');\r\n            div.className = 'gl-poi-reviews';\r\n\r\n            const maxCount = section.maxCount || 5;\r\n            reviews.slice(0, maxCount).forEach(review => {\r\n                const reviewDiv = document.createElement('div');\r\n                reviewDiv.className = 'gl-poi-review';\r\n                reviewDiv.style.borderLeft = '3px solid var(--gl-color-accent-soft)';\r\n                reviewDiv.style.paddingLeft = '12px';\r\n                reviewDiv.style.marginBottom = '12px';\r\n\r\n                const header = document.createElement('p');\r\n                header.style.fontSize = '0.875rem';\r\n                header.style.fontWeight = '600';\r\n                header.style.marginBottom = '4px';\r\n\r\n                const safeAuthor = review.authorName || 'Anonyme';\r\n                const safeRating = Number.isFinite(review.rating) ? review.rating : 0;\r\n                const verifiedMark = review.verified ? ' ‚úì' : '';\r\n                header.textContent = `${safeAuthor} - ‚≠ê${safeRating}/5${verifiedMark}`;\r\n                reviewDiv.appendChild(header);\r\n\r\n                if (review.comment) {\r\n                    const comment = document.createElement('p');\r\n                    comment.textContent = review.comment;\r\n                    comment.style.fontSize = '0.85rem';\r\n                    comment.style.marginBottom = '4px';\r\n                    reviewDiv.appendChild(comment);\r\n                }\r\n\r\n                if (review.createdAt) {\r\n                    const date = document.createElement('p');\r\n                    date.style.fontSize = '0.75rem';\r\n                    date.style.color = 'var(--gl-color-text-muted)';\r\n                    date.textContent = review.createdAt;\r\n                    reviewDiv.appendChild(date);\r\n                }\r\n\r\n                div.appendChild(reviewDiv);\r\n            });\r\n\r\n            return div;\r\n        }\r\n    }\r\n\r\n    // Export global\r\n    GeoLeaf.ComponentRenderers = ComponentRenderers;\r\n\r\n})(typeof window !== \"undefined\" ? window : global);\r\n","/**\n * GeoLeaf POI Module - Section Orchestrator\n * Orchestration du rendu des sections (dispatcher, extraction valeurs, accord√©ons)\n * Phase 6.2 - Extraction depuis core.js\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log;\n    const Utils = GeoLeaf.Utils || {};\n\n    /**\n     * Orchestrateur de sections pour le side panel POI\n     */\n    class SectionOrchestrator {\n        constructor() {\n            // Initialiser les renderers\n            this.componentRenderers = null;\n            this.fieldRenderers = null;\n            this.mediaRenderers = null;\n        }\n\n        /**\n         * Initialise les renderers (lazy loading)\n         * @private\n         */\n        _initRenderers() {\n            if (!this.componentRenderers) {\n                this.componentRenderers = new GeoLeaf.ComponentRenderers();\n            }\n            if (!this.fieldRenderers && GeoLeaf.POI && GeoLeaf.POI.Renderers && GeoLeaf.POI.Renderers.FieldRenderers) {\n                this.fieldRenderers = new GeoLeaf.POI.Renderers.FieldRenderers({ debug: true });\n            }\n            if (!this.mediaRenderers && GeoLeaf.POI && GeoLeaf.POI.Renderers && GeoLeaf.POI.Renderers.MediaRenderers) {\n                this.mediaRenderers = new GeoLeaf.POI.Renderers.MediaRenderers({ debug: true });\n            }\n        }\n\n        /**\n         * R√©cup√®re la valeur d'un champ avec support du dot notation\n         * @param {object} poi - POI complet\n         * @param {string} fieldPath - Chemin du champ (ex: \"attributes.address.city\")\n         * @returns {*}\n         */\n        getFieldValue(poi, fieldPath) {\n            if (!fieldPath) return null;\n\n            const resolveField = Utils.resolveField || function(obj, path) {\n                const parts = path.split('.');\n                let current = obj;\n                for (const part of parts) {\n                    if (current && typeof current === 'object' && part in current) {\n                        current = current[part];\n                    } else {\n                        return null;\n                    }\n                }\n                return current;\n            };\n\n            const value = resolveField(poi, fieldPath);\n\n            if (Log && Log.info) {\n                Log.info('[POI] getFieldValue:', fieldPath, '‚Üí',\n                    value === undefined ? 'undefined' :\n                    value === null ? 'null' :\n                    value === '' ? '\"\"(empty string)' :\n                    Array.isArray(value) ? `Array(${value.length})` :\n                    (value && typeof value === 'object') ? `Object(${Object.keys(value).length} keys)` :\n                    value);\n            }\n\n            return value;\n        }\n\n        /**\n         * Wrappe un contenu dans un accord√©on <details>\n         * @param {object} section - Configuration de section\n         * @param {HTMLElement} content - Contenu √† wrapper\n         * @param {boolean} isOpen - Ouvrir par d√©faut\n         * @returns {HTMLElement}\n         */\n        wrapInAccordion(section, content, isOpen = false) {\n            const details = document.createElement('details');\n            details.className = 'gl-accordion';\n            if (isOpen) details.setAttribute('open', '');\n\n            const summary = document.createElement('summary');\n            summary.className = 'gl-accordion__header';\n            summary.textContent = section.label || 'Section';\n\n            const arrow = document.createElement('span');\n            arrow.className = 'gl-accordion__arrow';\n            arrow.textContent = '‚ñº';\n            summary.appendChild(arrow);\n\n            const panel = document.createElement('div');\n            panel.className = 'gl-accordion__panel';\n\n            const panelContent = document.createElement('div');\n            panelContent.className = 'gl-accordion__panel-content';\n            panelContent.appendChild(content);\n\n            panel.appendChild(panelContent);\n\n            details.appendChild(summary);\n            details.appendChild(panel);\n\n            return details;\n        }\n\n        /**\n         * Rend une section compl√®te selon son type\n         * @param {object} section - Configuration de section\n         * @param {object} poi - POI complet\n         * @param {object} state - √âtat partag√© POI\n         * @returns {Promise<HTMLElement|null>}\n         */\n        async renderSection(section, poi, state) {\n            if (!section || !section.type) return null;\n\n            // Initialiser les renderers si n√©cessaire\n            this._initRenderers();\n\n            // R√©soudre la valeur du champ\n            const fieldValue = this.getFieldValue(poi, section.field);\n\n            if (Log) {\n                const valueType = Array.isArray(fieldValue) ? `Array(${fieldValue.length})` :\n                                 (fieldValue && typeof fieldValue === 'object') ? `Object(${Object.keys(fieldValue).length} keys)` :\n                                 typeof fieldValue;\n                Log.debug('[POI] Section:', section.label || section.type, '- Field:', section.field, '- ValueType:', valueType, '- Value:', fieldValue);\n            }\n\n            // Ne pas afficher si la valeur est vide, SAUF pour:\n            // - text avec style='title' (le titre est obligatoire)\n            // - badge (peut avoir un comportement par d√©faut)\n            const isRequiredField = (section.type === 'text' && section.style === 'title') || section.type === 'badge';\n\n            // V√©rifier si la valeur est vraiment vide (null, undefined, '', [], {})\n            // ATTENTION: 0 est une valeur valide (pour les prix, m√©triques, etc.)\n            const isEmpty = (fieldValue === null || fieldValue === undefined || fieldValue === '') ||\n                           (Array.isArray(fieldValue) && fieldValue.length === 0) ||\n                           (typeof fieldValue === 'object' && !Array.isArray(fieldValue) && Object.keys(fieldValue).length === 0);\n\n            if (Log) {\n                Log.info('[POI] Check isEmpty for:', section.label,\n                    '- fieldValue:', fieldValue,\n                    '- isArray:', Array.isArray(fieldValue),\n                    '- arrayLength:', Array.isArray(fieldValue) ? fieldValue.length : 'N/A',\n                    '- isEmpty:', isEmpty);\n            }\n\n            if (isEmpty && !isRequiredField) {\n                if (Log) Log.warn('[POI] Section ignor√©e (valeur vide):', section.label || section.type);\n                return null;\n            }\n\n            if (Log) Log.info('[POI] ‚Üí Appel render pour:', section.label, '- Type:', section.type, '- Value:',\n                Array.isArray(fieldValue) ? `Array(${fieldValue.length})` :\n                (fieldValue && typeof fieldValue === 'object') ? 'Object' :\n                fieldValue);\n\n            // Cr√©er l'√©l√©ment selon le type\n            let content = null;\n\n            switch (section.type) {\n                case 'text':\n                case 'longtext': // Alias pour text avec plus de contenu\n                    if (this.fieldRenderers) {\n                        content = await this.fieldRenderers.renderText(section, poi, fieldValue);\n                    }\n                    break;\n                case 'number': // Afficher un nombre simple comme du texte\n                    if (this.fieldRenderers) {\n                        content = await this.fieldRenderers.renderText(section, poi, String(fieldValue));\n                    }\n                    break;\n                case 'metric': // Nombre avec suffixe/pr√©fixe\n                    const suffix = section.suffix || '';\n                    const prefix = section.prefix || '';\n                    if (this.fieldRenderers) {\n                        content = await this.fieldRenderers.renderText(section, poi, prefix + String(fieldValue) + suffix);\n                    }\n                    break;\n                case 'image':\n                    if (this.mediaRenderers) {\n                        content = this.mediaRenderers.renderImage(section, fieldValue);\n                    }\n                    break;\n                case 'gallery':\n                    if (this.mediaRenderers) {\n                        content = this.mediaRenderers.renderGallery(section, fieldValue);\n                    }\n                    break;\n                case 'badge':\n                    content = this.componentRenderers.renderBadge(section, fieldValue, poi);\n                    break;\n                case 'link':\n                    content = this.componentRenderers.renderLink(section, fieldValue);\n                    break;\n                case 'list':\n                    content = this.componentRenderers.renderList(section, fieldValue);\n                    break;\n                case 'table':\n                    content = this.componentRenderers.renderTable(section, fieldValue);\n                    break;\n                case 'tags':\n                    content = this.componentRenderers.renderTags(section, fieldValue);\n                    break;\n                case 'reviews':\n                    content = this.componentRenderers.renderReviews(section, fieldValue);\n                    break;\n                default:\n                    if (Log) Log.warn('[POI] Type de section inconnu:', section.type);\n                    return null;\n            }\n\n            if (!content) {\n                if (Log) Log.debug('[POI] Aucun contenu g√©n√©r√© pour:', section.label || section.type);\n                return null;\n            }\n\n            if (Log) Log.debug('[POI] Contenu g√©n√©r√© pour:', section.label || section.type, '- Accordion:', section.accordion);\n\n            // Wraper dans un accord√©on si n√©cessaire\n            if (section.accordion) {\n                return this.wrapInAccordion(section, content, section.defaultOpen);\n            }\n\n            return content;\n        }\n    }\n\n    // Export global\n    GeoLeaf.SectionOrchestrator = SectionOrchestrator;\n\n})(typeof window !== \"undefined\" ? window : global);\n","/**\n * Module Renderers/Links pour POI\n * Rendu des liens\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module Links Renderer\n     * @namespace _POIRendererLinks\n     * @private\n     */\n    const _POIRendererLinks = {\n        /**\n         * Rend un lien (website, etc.)\n         * @param {Object} section - Configuration de la section\n         * @param {string} url - URL du lien\n         * @returns {HTMLElement|null}\n         */\n        renderLink(section, url) {\n            if (!url) return null;\n\n            const container = document.createElement('div');\n            container.className = 'gl-poi-link-container';\n\n            const link = document.createElement('a');\n            link.className = 'gl-poi-website-link';\n            link.href = url;\n            link.target = '_blank';\n            link.rel = 'noopener noreferrer';\n            link.textContent = section.label || url;\n\n            container.appendChild(link);\n            return container;\n        }\n    };\n\n    // Exposer dans l'espace de noms interne\n    GeoLeaf._POIRendererLinks = _POIRendererLinks;\n\n})(window);\n","/**\n * GeoLeaf POI Module - Renderers Core\n * Orchestrateur principal pour le rendu du side panel POI\n * Phase 6.2 - Version refactoris√©e (837 LOC ‚Üí ~140 LOC)\n *\n * Architecture modulaire:\n * - lightbox-manager.js: Gestion lightbox\n * - ui-behaviors.js: Comportements UI (accord√©ons, galerie)\n * - component-renderers.js: Renderers composants (badges, links, lists, tables, tags)\n * - section-orchestrator.js: Dispatcher de sections + extraction valeurs\n * - field-renderers-v2.js: Renderers texte\n * - media-renderers-v2.js: Renderers media\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log;\n\n    GeoLeaf._POIRenderers = GeoLeaf._POIRenderers || {};\n\n    // R√©f√©rence aux modules POI\n    const getShared = () => GeoLeaf._POIShared;\n    const getNormalizers = () => GeoLeaf._POINormalizers;\n\n    // Initialiser les nouveaux modules\n    let sectionOrchestrator = null;\n    let lightboxManager = null;\n    let uiBehaviors = null;\n\n    /**\n     * Initialise les modules (lazy loading)\n     * @private\n     */\n    function _initModules() {\n        if (!sectionOrchestrator && GeoLeaf.SectionOrchestrator) {\n            sectionOrchestrator = new GeoLeaf.SectionOrchestrator();\n        }\n        if (!lightboxManager) {\n            lightboxManager = GeoLeaf._lightboxManager || (GeoLeaf.LightboxManager ? new GeoLeaf.LightboxManager() : null);\n        }\n        if (!uiBehaviors) {\n            uiBehaviors = GeoLeaf._POIUIBehaviors;\n        }\n    }\n\n    /**\n     * Peuple le side panel avec les donn√©es du POI en utilisant le layout JSON.\n     *\n     * @param {object} poi - POI normalis√©.\n     * @param {object} customLayout - Layout personnalis√© (optionnel).\n     * @returns {Promise<void>}\n     */\n    async function populateSidePanel(poi, customLayout) {\n        console.log('[SIDEPANEL] populateSidePanel called for POI:', poi?.title || poi?.label);\n        // Initialiser les modules\n        _initModules();\n\n        const shared = getShared();\n        if (!shared) {\n            console.log('[SIDEPANEL] ERROR: shared is null');\n            return;\n        }\n        const state = shared.state;\n\n        if (!state.sidePanelElement) {\n            console.log('[SIDEPANEL] ERROR: sidePanelElement not found');\n            return;\n        }\n\n        const contentDiv = state.sidePanelElement.querySelector('.gl-poi-sidepanel__content');\n        if (!contentDiv) return;\n\n        // Clear contenu pr√©c√©dent\n        GeoLeaf.DOMSecurity.clearElementFast(contentDiv);\n\n        // Normaliser le POI\n        const normalizers = getNormalizers();\n        const normalized = normalizers ? normalizers.normalizePoi(poi) : poi;\n\n        if (Log) {\n            Log.debug('[POI] POI normalis√©:', normalized.title || normalized.label);\n            Log.debug('[POI] Champs attributes disponibles:', Object.keys(normalized.attributes || {}));\n        }\n\n        // R√©cup√©rer le layout depuis la config du profile\n        let layout = customLayout;\n\n        // ‚úÖ PRIORIT√â 1: V√©rifier si le POI a une configuration sidepanel attach√©e (depuis sa couche)\n        if (!layout && normalized._sidepanelConfig && normalized._sidepanelConfig.detailLayout) {\n            layout = normalized._sidepanelConfig.detailLayout;\n            if (Log) Log.info('[POI] Layout r√©cup√©r√© depuis la configuration de couche attach√©e au POI');\n        }\n\n        // ‚úÖ PRIORIT√â 2: Essayer de r√©cup√©rer depuis le profil actif\n        if (!layout) {\n            const Config = GeoLeaf.Config;\n            if (Config && typeof Config.getActiveProfile === 'function') {\n                const activeProfile = Config.getActiveProfile();\n                if (activeProfile && activeProfile.panels && activeProfile.panels.detail) {\n                    layout = activeProfile.panels.detail.layout;\n                    if (Log) Log.info('[POI] Layout r√©cup√©r√© depuis le profil actif:', activeProfile.id || 'unknown');\n                }\n            }\n        }\n\n        // Fallback sur poiConfig si disponible\n        if (!layout && state.poiConfig?.panels?.detail?.layout) {\n            layout = state.poiConfig.panels.detail.layout;\n        }\n\n        // Si toujours pas de layout, utiliser le layout par d√©faut\n        if (!layout || layout.length === 0) {\n            if (Log) Log.warn('[POI] Aucun layout trouv√©, utilisation du layout par d√©faut');\n            layout = _getDefaultLayout();\n        }\n\n        // ‚úÖ IMPORTANT: Trier les sections par leur propri√©t√© 'order' (si d√©finie)\n        const sortedLayout = [...layout].sort((a, b) => {\n            const orderA = typeof a.order === 'number' ? a.order : 999;\n            const orderB = typeof b.order === 'number' ? b.order : 999;\n            return orderA - orderB;\n        });\n\n        if (Log) Log.info('[POI] G√©n√©ration du side panel avec', sortedLayout.length, 'sections');\n\n        // Body du panneau\n        const body = document.createElement('div');\n        body.className = 'gl-poi-sidepanel__body';\n        console.log('[SIDEPANEL] Body created, will process', sortedLayout.length, 'sections');\n\n        // G√©n√©rer chaque section selon le layout tri√© (d√©l√©guer √† SectionOrchestrator)\n        for (const section of sortedLayout) {\n            try {\n                const element = sectionOrchestrator\n                    ? await sectionOrchestrator.renderSection(section, normalized, state)\n                    : null;\n\n                if (element) {\n                    body.appendChild(element);\n                    console.log('[SIDEPANEL] ‚úì Section added:', section.label || section.type);\n                    if (Log) Log.info('[POI] ‚úì Section ajout√©e:', section.label || section.type);\n                } else {\n                    console.log('[SIDEPANEL] ‚úó Section NULL:', section.label || section.type, '- field:', section.field);\n                    if (Log) Log.warn('[POI] ‚úó Section ignor√©e (element null):', section.label || section.type, '- field:', section.field);\n                }\n            } catch (error) {\n                console.error('[SIDEPANEL] ERROR rendering section:', section.label, error);\n                if (Log) Log.error('[POI] Erreur lors du rendu de la section:', section.label, error);\n            }\n        }\n\n        console.log('[SIDEPANEL] Appending body to contentDiv. Body has', body.children.length, 'children');\n        contentDiv.appendChild(body);\n        console.log('[SIDEPANEL] Body appended. ContentDiv now has', contentDiv.children.length, 'children');\n\n        // G√©rer le comportement singleAccordion si configur√©\n        const singleAccordion = normalized._sidepanelConfig?.singleAccordion;\n        if (singleAccordion === true && uiBehaviors) {\n            uiBehaviors.attachSingleAccordionBehavior(body);\n        }\n\n        // Attacher les √©v√©nements apr√®s le rendu\n        if (uiBehaviors) {\n            uiBehaviors.attachGalleryEvents(state.sidePanelElement, lightboxManager);\n        }\n    }\n\n    /**\n     * Retourne un layout par d√©faut si aucun n'est configur√©.\n     * @private\n     */\n    function _getDefaultLayout() {\n        return [\n            { type: 'text', field: 'title', style: 'title', accordion: false },\n            { type: 'image', field: 'attributes.mainImage', variant: 'hero', accordion: false },\n            { type: 'text', field: 'attributes.shortDescription', variant: 'short', accordion: false },\n            { type: 'text', label: 'Informations', field: 'attributes.longDescription', variant: 'multiline', accordion: true, defaultOpen: true },\n            { type: 'text', label: 'Description', field: 'attributes.description_long', variant: 'multiline', accordion: true, defaultOpen: true },\n            { type: 'gallery', label: 'Galerie photos', field: 'attributes.gallery', accordion: true, defaultOpen: true },\n            { type: 'list', label: 'Prix', field: 'attributes.price', accordion: true, defaultOpen: false },\n            { type: 'reviews', label: 'Avis r√©cents', field: 'attributes.reviews.recent', maxCount: 5, accordion: true, defaultOpen: false },\n            { type: 'tags', label: 'Tags', field: 'attributes.tags', accordion: false },\n            { type: 'link', label: 'Visiter le site web ‚Üí', field: 'attributes.website', accordion: false }\n        ];\n    }\n\n    // Export public dans un namespace s√©par√© pour √©viter d'√©craser l'agr√©gateur\n    GeoLeaf._POIRenderersCore = {\n        populateSidePanel\n    };\n\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * Module POI Renderers (Agr√©gateur)\n * Fa√ßade publique pour tous les renderers POI\n *\n * ARCHITECTURE REFACTORIS√âE :\n * - poi/renderers/fields.js : Champs texte et badges\n * - poi/renderers/media.js : Images et galeries\n * - poi/renderers/links.js : Liens externes\n * - poi/renderers/core.js : Logique de rendu principale (legacy)\n * - poi/renderers.js (ce fichier) : Agr√©gateur/fa√ßade publique\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n\n    /**\n     * Module POI Renderers\n     * D√©l√®gue aux sous-modules sp√©cialis√©s\n     * @namespace _POIRenderers\n     * @private\n     */\n    const _POIRenderers = {\n        /**\n         * Rend le contenu complet d'un POI\n         * (D√©l√©gu√© au core pour compatibilit√©)\n         * @param {Object} poi - Donn√©es du POI\n         * @param {Object} state - √âtat\n         * @returns {DocumentFragment}\n         */\n        renderContent(poi, state) {\n            // D√©l√©gation au module core (fichier original)\n            if (GeoLeaf._POIRenderersCore && typeof GeoLeaf._POIRenderersCore.renderContent === 'function') {\n                return GeoLeaf._POIRenderersCore.renderContent(poi, state);\n            }\n            if (GeoLeaf.Log) GeoLeaf.Log.error('[POI] Module _POIRenderersCore non disponible');\n            return document.createDocumentFragment();\n        },\n\n        /**\n         * Rend un champ texte\n         * (D√©l√©gu√© au module fields)\n         */\n        renderText(section, poi, value) {\n            if (GeoLeaf._POIRendererFields) {\n                return GeoLeaf._POIRendererFields.renderText(section, poi, value);\n            }\n            if (GeoLeaf.Log) GeoLeaf.Log.error('[POI] Module _POIRendererFields non disponible pour renderText');\n            return null;\n        },\n\n        /**\n         * Rend un badge\n         * (D√©l√©gu√© au module fields)\n         */\n        renderBadge(section, value, poi) {\n            if (GeoLeaf._POIRendererFields) {\n                return GeoLeaf._POIRendererFields.renderBadge(section, value, poi);\n            }\n            if (GeoLeaf.Log) GeoLeaf.Log.error('[POI] Module _POIRendererFields non disponible pour renderBadge');\n            return null;\n        },\n\n        /**\n         * Rend une image\n         * (D√©l√©gu√© au module media)\n         */\n        renderImage(section, imageUrl) {\n            if (GeoLeaf._POIRendererMedia) {\n                return GeoLeaf._POIRendererMedia.renderImage(section, imageUrl);\n            }\n            if (GeoLeaf.Log) GeoLeaf.Log.error('[POI] Module _POIRendererMedia non disponible pour renderImage');\n            return null;\n        },\n\n        /**\n         * Rend une galerie\n         * (D√©l√©gu√© au module media)\n         */\n        renderGallery(section, gallery) {\n            if (GeoLeaf._POIRendererMedia) {\n                return GeoLeaf._POIRendererMedia.renderGallery(section, gallery);\n            }\n            return null;\n        },\n\n        /**\n         * Rend un lien\n         * (D√©l√©gu√© au module links)\n         */\n        renderLink(section, url) {\n            if (GeoLeaf._POIRendererLinks) {\n                return GeoLeaf._POIRendererLinks.renderLink(section, url);\n            }\n            if (GeoLeaf.Log) GeoLeaf.Log.error('[POI] Module _POIRendererLinks non disponible pour renderLink');\n            return null;\n        },\n\n        /**\n         * Peuple le side panel avec les donn√©es du POI\n         * (D√©l√©gu√© au module core)\n         * @returns {Promise<void>}\n         */\n        async populateSidePanel(poi, customLayout) {\n            if (GeoLeaf._POIRenderersCore && typeof GeoLeaf._POIRenderersCore.populateSidePanel === 'function') {\n                return await GeoLeaf._POIRenderersCore.populateSidePanel(poi, customLayout);\n            }\n            if (GeoLeaf.Log) GeoLeaf.Log.error('[POI] Module _POIRenderersCore non disponible pour populateSidePanel');\n        }\n    };\n\n    // Exposer dans l'espace de noms interne\n    GeoLeaf._POIRenderers = _POIRenderers;\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf POI Module - Side Panel\n * Gestion du panneau lat√©ral d'affichage d√©taill√© des POI\n * TODO Phase 4: D√©couper fonctions complexes en sous-fonctions <80 lignes\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Shorthand for createElement\n     */\n    const $create = (tag, props, ...children) => {\n        return GeoLeaf.Utils && GeoLeaf.Utils.createElement\n            ? GeoLeaf.Utils.createElement(tag, props, ...children)\n            : document.createElement(tag);\n    };\n\n    GeoLeaf._POISidePanel = GeoLeaf._POISidePanel || {};\n\n    // R√©f√©rence au module shared\n    const getShared = () => GeoLeaf._POIShared;\n    const getRenderers = () => GeoLeaf._POIRenderers;\n\n    /**\n     * Cr√©e l'√©l√©ment DOM du panneau lat√©ral si non existant.\n     */\n    function createSidePanel() {\n        const shared = getShared();\n        if (!shared) return;\n        const state = shared.state;\n\n        if (state.sidePanelElement) return; // D√©j√† cr√©√©\n\n        // Cr√©er l'overlay\n        const overlay = $create('div', {\n            className: 'gl-poi-sidepanel-overlay',\n            attributes: { 'aria-hidden': 'true' }\n        });\n        // Ajouter √† .gl-main pour support du mode plein √©cran\n        const glMain = document.querySelector('.gl-main');\n        if (glMain) {\n            glMain.appendChild(overlay);\n        } else {\n            document.body.appendChild(overlay);\n        }\n        state.sidePanelOverlay = overlay;\n\n        // Cr√©er le panneau\n        const panel = $create('aside', {\n            className: 'gl-poi-sidepanel',\n            attributes: {\n                'aria-hidden': 'true',\n                'role': 'complementary'\n            }\n        });\n\n        // Cr√©er le header avec bouton fermer\n        const header = $create('div', { className: 'gl-poi-sidepanel__header' });\n        const closeBtn = $create('button', {\n            className: 'gl-poi-sidepanel__close',\n            attributes: { 'aria-label': 'Fermer' },\n            textContent: '√ó',\n            onClick: closeSidePanel\n        });\n        header.appendChild(closeBtn);\n\n        // Cr√©er le content\n        const content = $create('div', { className: 'gl-poi-sidepanel__content' });\n\n        panel.appendChild(header);\n        panel.appendChild(content);\n        // Ajouter √† .gl-main pour support du mode plein √©cran\n        if (glMain) {\n            glMain.appendChild(panel);\n        } else {\n            document.body.appendChild(panel);\n        }\n        state.sidePanelElement = panel;\n        state.sidePanelContent = content;\n\n        // Event listeners\n        overlay.addEventListener('click', closeSidePanel);\n\n        if (Log) Log.info('[POI] Side panel cr√©√©.');\n    }\n\n    /**\n     * Ouvre le panneau lat√©ral avec les infos compl√®tes du POI.\n     *\n     * @param {object} poi - Donn√©es compl√®tes du POI.\n     * @param {object} customLayout - Layout personnalis√© (optionnel).\n     * @returns {Promise<void>}\n     */\n    async function openSidePanel(poi, customLayout) {\n        console.log('[SIDEPANEL-OPEN] openSidePanel called for POI:', poi?.id || poi?.name);\n        if (!poi) {\n            console.log('[SIDEPANEL-OPEN] ERROR: POI is null/undefined');\n            if (Log) Log.warn('[POI] openSidePanel() : POI invalide.');\n            return;\n        }\n\n        if (Log) {\n            Log.debug('[POI] openSidePanel:', poi.id || poi.name);\n        }\n\n        const shared = getShared();\n        if (!shared) {\n            console.log('[SIDEPANEL-OPEN] ERROR: shared is null');\n            return;\n        }\n        const state = shared.state;\n\n        // S'assurer que le panneau existe\n        if (!state.sidePanelElement) {\n            console.log('[SIDEPANEL-OPEN] Creating side panel element');\n            createSidePanel();\n        }\n\n        if (!state.sidePanelElement) {\n            console.log('[SIDEPANEL-OPEN] ERROR: sidePanelElement still null after creation');\n            if (Log) Log.error('[POI] openSidePanel() : Impossible de cr√©er le panneau lat√©ral.');\n            return;\n        }\n\n        state.currentPoiInPanel = poi;\n        state.currentGalleryIndex = 0;\n\n        // Peupler le panneau (la lightbox sera cr√©√©e par renderers.js si n√©cessaire)\n        const renderers = getRenderers();\n        console.log('[SIDEPANEL-OPEN] renderers:', !!renderers, '- populateSidePanel:', typeof renderers?.populateSidePanel);\n        if (renderers && typeof renderers.populateSidePanel === 'function') {\n            console.log('[SIDEPANEL-OPEN] Calling renderers.populateSidePanel');\n            await renderers.populateSidePanel(poi, customLayout);\n            console.log('[SIDEPANEL-OPEN] populateSidePanel completed');\n        } else {\n            console.log('[SIDEPANEL-OPEN] ERROR: renderers.populateSidePanel not available');\n        }\n\n        // Afficher l'overlay et le panneau avec animation\n        if (state.sidePanelOverlay) {\n            state.sidePanelOverlay.classList.add('open');\n        }\n        state.sidePanelElement.classList.add('open');\n        state.sidePanelElement.setAttribute('aria-hidden', 'false');\n\n        // Ajouter classe au body pour d√©caler la carte\n        document.body.classList.add('gl-poi-sidepanel-open');\n\n        if (Log) Log.info('[POI] Panneau lat√©ral ouvert pour :', poi.title || poi.name || poi.label);\n    }\n\n    /**\n     * Ferme le panneau lat√©ral.\n     */\n    function closeSidePanel() {\n        const shared = getShared();\n        if (!shared) return;\n        const state = shared.state;\n\n        if (!state.sidePanelElement) return;\n\n        state.sidePanelElement.classList.remove('open');\n        state.sidePanelElement.setAttribute('aria-hidden', 'true');\n\n        if (state.sidePanelOverlay) {\n            state.sidePanelOverlay.classList.remove('open');\n        }\n\n        // Retirer classe du body\n        document.body.classList.remove('gl-poi-sidepanel-open');\n\n        // Nettoyer la lightbox globale\n        const lightbox = document.querySelector('.gl-poi-lightbox-global');\n        if (lightbox) {\n            lightbox.remove();\n        }\n\n        state.currentPoiInPanel = null;\n\n        if (Log) Log.info('[POI] Panneau lat√©ral ferm√©.');\n    }\n\n    /**\n     * Alias pour fermer le panneau (API publique).\n     */\n    function hideSidePanel() {\n        closeSidePanel();\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    GeoLeaf._POISidePanel = {\n        createSidePanel,\n        openSidePanel,\n        closeSidePanel,\n        hideSidePanel\n    };\n\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf POI Module - Core\n * Fonctions principales d'initialisation, chargement et gestion des POI\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log;\n\n    GeoLeaf._POICore = GeoLeaf._POICore || {};\n\n    // R√©f√©rences aux modules POI\n    const getShared = () => GeoLeaf._POIShared;\n    const getMarkers = () => GeoLeaf._POIMarkers;\n    const getSidePanel = () => GeoLeaf._POISidePanel;\n    const getNormalizers = () => GeoLeaf._POINormalizers;\n\n    /**\n     * Fonction principale d'initialisation du module POI.\n     *\n     * @param {L.Map|object} mapOrOptions - Instance de la carte Leaflet ou objet {map, config}.\n     * @param {object} config - Configuration POI depuis GeoLeaf.config.json (optionnel si premier param est objet).\n     */\n    async function init(mapOrOptions, config) {\n        // Support pour les deux signatures: init(map, config) et init({map, config})\n        let map, opts;\n\n        if (mapOrOptions && typeof mapOrOptions === 'object' && mapOrOptions.map) {\n            map = mapOrOptions.map;\n            opts = mapOrOptions.config || mapOrOptions;\n        } else {\n            map = mapOrOptions;\n            opts = config;\n        }\n\n        if (!map || typeof map.addLayer !== 'function') {\n            if (Log) Log.error('[POI] Aucune carte Leaflet valide fournie. Impossible d\\'initialiser le module POI.');\n            return;\n        }\n\n        const shared = getShared();\n        if (!shared) {\n            if (Log) Log.error('[POI] Module shared non charg√©.');\n            return;\n        }\n\n        const state = shared.state;\n        const constants = shared.constants;\n\n        state.mapInstance = map;\n        state.poiConfig = opts || {};\n\n        if (Log) Log.info('[POI] Initialisation du module POI...');\n\n        // Forcer un maxZoom valide sur la carte\n        if (shared.ensureMapMaxZoom) {\n            shared.ensureMapMaxZoom(map, constants.POI_MAX_ZOOM);\n        }\n\n        // Cr√©er le layer group principal\n        state.poiLayerGroup = L.layerGroup().addTo(map);\n\n        // Cr√©er le cluster group si clustering activ√©\n        const clustering = state.poiConfig.clustering !== false;\n        if (clustering && typeof L !== 'undefined' && typeof L.markerClusterGroup === 'function') {\n            state.poiClusterGroup = L.markerClusterGroup({\n                maxClusterRadius: state.poiConfig.clusterRadius || 80,\n                disableClusteringAtZoom: state.poiConfig.disableClusteringAtZoom || constants.POI_MAX_ZOOM,\n                animate: false,\n                showCoverageOnHover: false\n            });\n            state.mapInstance.addLayer(state.poiClusterGroup);\n            if (Log) Log.info('[POI] Clustering activ√© (MarkerClusterGroup cr√©√©).');\n        }\n\n        // Cr√©er le panneau lat√©ral (cach√© par d√©faut)\n        const sidePanel = getSidePanel();\n        if (sidePanel && typeof sidePanel.createSidePanel === 'function') {\n            sidePanel.createSidePanel();\n        }\n\n        // Charger le sprite SVG AVANT de charger les POIs\n        const markers = getMarkers();\n        if (markers && typeof markers.ensureProfileSpriteInjectedSync === 'function') {\n            await markers.ensureProfileSpriteInjectedSync();\n        }\n\n        // Charger et afficher les POIs avec d√©lai pour attendre Storage\n        if (state.poiConfig.enabled !== false) {\n            // ‚úÖ NOUVEAU: Retarder le chargement initial pour laisser le temps au Storage de s'initialiser\n            setTimeout(() => {\n                if (Log) Log.info('[POI] Chargement des POI apr√®s d√©lai d\\'initialisation');\n                loadAndDisplay();\n            }, 1000);\n        }\n    }\n\n    /**\n     * ‚úÖ NOUVELLE FONCTION: Charge et fusionne les POI stock√©s localement avec les POI existants\n     */\n    function loadAndMergeStoredPois(existingPois, callback) {\n        if (typeof callback !== 'function') {\n            if (Log) Log.error('[POI] loadAndMergeStoredPois: callback requis');\n            return;\n        }\n\n        // ‚úÖ NOUVEAU: V√©rification renforc√©e de la disponibilit√© du module Storage\n        const checkStorageAvailable = () => {\n            const available = typeof GeoLeaf !== 'undefined' &&\n                   GeoLeaf.Storage &&\n                   GeoLeaf.Storage.DB &&\n                   typeof GeoLeaf.Storage.DB.getAllFromSyncQueue === 'function';\n\n            if (Log) {\n                if (!available) {\n                    Log.info('[POI] Debug Storage - GeoLeaf:', typeof GeoLeaf !== 'undefined');\n                    Log.info('[POI] Debug Storage - GeoLeaf.Storage:', !!(GeoLeaf && GeoLeaf.Storage));\n                    Log.info('[POI] Debug Storage - GeoLeaf.Storage.DB:', !!(GeoLeaf && GeoLeaf.Storage && GeoLeaf.Storage.DB));\n                    Log.info('[POI] Debug Storage - getAllFromSyncQueue:', !!(GeoLeaf && GeoLeaf.Storage && GeoLeaf.Storage.DB && typeof GeoLeaf.Storage.DB.getAllFromSyncQueue === 'function'));\n                }\n            }\n\n            return available;\n        };\n\n        if (!checkStorageAvailable()) {\n            // ‚úÖ NOUVEAU: Retry apr√®s un d√©lai si Storage pas encore pr√™t\n            if (Log) Log.warn('[POI] Module Storage pas encore pr√™t, retry dans 1000ms...');\n            setTimeout(() => {\n                if (checkStorageAvailable()) {\n                    if (Log) Log.info('[POI] Module Storage maintenant disponible, retry...');\n                    loadAndMergeStoredPois(existingPois, callback);\n                } else {\n                    if (Log) Log.error('[POI] Module Storage toujours non disponible apr√®s retry, abandon.');\n                    callback(existingPois);\n                }\n            }, 1000);\n            return;\n        }\n\n        if (Log) Log.info('[POI] Module Storage disponible, r√©cup√©ration des POI...');\n\n        // Utiliser le module de synchronisation pour r√©cup√©rer les POI du cache\n        GeoLeaf.Storage.DB.getAllFromSyncQueue()\n            .then(queueItems => {\n                if (Log) Log.info(`[POI] R√©cup√©ration cache: ${queueItems.length} items trouv√©s`);\n\n                if (!Array.isArray(queueItems) || queueItems.length === 0) {\n                    if (Log) Log.info('[POI] Aucun POI trouv√© dans la file de synchronisation.');\n                    callback(existingPois);\n                    return;\n                }\n\n                // D√©bugger les types d'items trouv√©s\n                if (Log) {\n                    const itemTypes = queueItems.map(item => `${item.action}:${item.data?.type || 'no-type'}`);\n                    Log.info(`[POI] Types d'items dans le cache: [${itemTypes.join(', ')}]`);\n\n                    // DEBUG: Structure compl√®te des premiers items\n                    queueItems.slice(0, 2).forEach((item, i) => {\n                        Log.info(`[POI] DEBUG Item ${i}:`, {\n                            action: item.action,\n                            type: item.type,\n                            data_type: item.data?.type,\n                            keys: Object.keys(item),\n                            data_keys: item.data ? Object.keys(item.data) : 'no data'\n                        });\n                    });\n                }\n\n                // Filtrer les √©l√©ments POI (action 'add' ou 'update') et extraire les donn√©es\n                const cachedPois = [];\n                const normalizers = getNormalizers();\n\n                if (!normalizers) {\n                    if (Log) Log.error('[POI] Module Normalizers non disponible pour les POI du cache.');\n                    callback(existingPois);\n                    return;\n                }\n\n                queueItems.forEach(item => {\n                    // Essayer diff√©rents formats de structure pour les POI\n                    let isPoi = false;\n                    let poiData = null;\n                    let itemAction = null;\n\n                    // Format 1: item.data.type === 'poi' && item.action contient 'add'\n                    if (item.data && item.data.type === 'poi' && item.action &&\n                        (item.action.includes('add') || item.action.includes('update'))) {\n                        isPoi = true;\n                        poiData = item.data;\n                        itemAction = item.action;\n                    }\n                    // Format 2: item.type === 'poi' directement\n                    else if (item.type === 'poi') {\n                        isPoi = true;\n                        poiData = item;\n                        itemAction = item.action || 'add';\n                    }\n                    // Format 3: Contient un id POI et des coordonn√©es (detection heuristique)\n                    else if (item.data && (item.data.id || item.data.latlng || item.data.latitude)) {\n                        isPoi = true;\n                        poiData = item.data;\n                        itemAction = item.action || 'add';\n                        if (Log) Log.info(`[POI] D√©tection heuristique POI: ${item.data.id || 'no-id'}`);\n                    }\n                    // Format 4: L'item lui-m√™me est un POI (pas d'enveloppe data)\n                    else if (item.id && (item.latlng || item.latitude)) {\n                        isPoi = true;\n                        poiData = item;\n                        itemAction = 'add';\n                        if (Log) Log.info(`[POI] D√©tection POI direct: ${item.id}`);\n                    }\n\n                    if (isPoi && poiData) {\n                        // Normaliser le POI stock√© comme les autres\n                        const normalizedPoi = normalizers.normalizePoi(poiData);\n                        if (normalizedPoi) {\n                            cachedPois.push(normalizedPoi);\n                            if (Log) Log.info(`[POI] POI du cache normalis√©: ${normalizedPoi.id || 'Sans ID'} (action: ${itemAction})`);\n                        } else {\n                            if (Log) Log.warn('[POI] √âchec normalisation POI du cache:', poiData);\n                        }\n                    } else {\n                        if (Log) Log.debug(`[POI] Item ignor√© - action: ${item.action}, type: ${item.type || item.data?.type}, keys: ${Object.keys(item).join(',')}`);\n                    }\n                });\n\n                if (cachedPois.length > 0) {\n                    if (Log) Log.info(`[POI] ${cachedPois.length} POI(s) r√©cup√©r√©(s) du cache local.`);\n\n                    // Fusionner avec les POI existants (√©viter les doublons par ID)\n                    const mergedPois = [...existingPois];\n                    cachedPois.forEach(cachedPoi => {\n                        if (!mergedPois.find(p => p.id === cachedPoi.id)) {\n                            mergedPois.push(cachedPoi);\n                        }\n                    });\n\n                    callback(mergedPois);\n                } else {\n                    callback(existingPois);\n                }\n            })\n            .catch(err => {\n                if (Log) Log.error('[POI] Erreur lors de la r√©cup√©ration des POI du cache :', err);\n                callback(existingPois);\n            });\n    }\n\n    /**\n     * Charge les POIs et les affiche sur la carte.\n     */\n    function loadAndDisplay() {\n        const shared = getShared();\n        if (!shared) return;\n        const state = shared.state;\n\n        if (state.isLoading) {\n            if (Log) Log.warn('[POI] Chargement d√©j√† en cours...');\n            return;\n        }\n\n        // 1) Essayer d'utiliser les POI normalis√©s du profil actif\n        try {\n            if (GeoLeaf.Config && typeof GeoLeaf.Config.getActiveProfilePoi === 'function') {\n                const profilePois = GeoLeaf.Config.getActiveProfilePoi();\n                if (Array.isArray(profilePois) && profilePois.length > 0) {\n                    state.allPois = profilePois;\n                    if (Log) Log.info(`[POI] ${state.allPois.length} POI(s) provenant du profil actif.`);\n\n                    // ‚úÖ CORRECTION: Charger aussi les POI du cache apr√®s les POI du profil\n                    loadAndMergeStoredPois(state.allPois, function(mergedPois) {\n                        state.allPois = mergedPois;\n                        displayPois(state.allPois);\n                    });\n                    return;\n                }\n            }\n        } catch (err) {\n            if (Log) Log.error('[POI] Erreur lors de la r√©cup√©ration des POI du profil actif :', err);\n        }\n\n        // ‚úÖ CORRECTION: Essayer de charger les POI stock√©s en cache AVANT le fallback dataUrl\n        loadAndMergeStoredPois([], function(cachedPois) {\n            if (cachedPois.length > 0) {\n                state.allPois = cachedPois;\n                if (Log) Log.info(`[POI] ${cachedPois.length} POI(s) charg√©(s) depuis le cache local.`);\n                displayPois(cachedPois);\n                return;\n            }\n\n            // 2) Fallback : charger un fichier JSON depuis dataUrl (mode historique)\n            const dataUrl = state.poiConfig.dataUrl;\n            if (!dataUrl) {\n                if (Log) Log.info('[POI] Aucune dataUrl sp√©cifi√©e et aucun POI en cache. Mode ajout manuel.');\n                return;\n            }\n\n            state.isLoading = true;\n            if (Log) Log.info('[POI] Chargement des donn√©es POI depuis :', dataUrl);\n\n            fetch(dataUrl)\n                .then(response => {\n                    if (!response.ok) {\n                        throw new Error(`Erreur HTTP ${response.status} lors du chargement de ${dataUrl}`);\n                    }\n                    return response.json();\n                })\n                .then(data => {\n                    if (Array.isArray(data)) {\n                        state.allPois = data;\n                    } else if (data && Array.isArray(data.pois)) {\n                        state.allPois = data.pois;\n                    } else {\n                        state.allPois = [];\n                    }\n                    if (Log) Log.info(`[POI] ${state.allPois.length} POI(s) charg√©(s) depuis dataUrl.`);\n                    displayPois(state.allPois);\n                })\n                .catch(err => {\n                    if (Log) Log.error('[POI] Erreur lors du chargement des POIs :', err);\n                })\n                .finally(() => {\n                    state.isLoading = false;\n                });\n        });\n    }\n\n    /**\n     * Affiche tous les POIs pass√©s en param√®tre sur la carte.\n     *\n     * @param {array} pois - Tableau d'objets POI.\n     */\n    function displayPois(pois) {\n        if (!pois || !Array.isArray(pois)) {\n            if (Log) Log.warn('[POI] displayPois() : Aucune donn√©e POI valide √† afficher.');\n            return;\n        }\n\n        const shared = getShared();\n        if (!shared) return;\n        const state = shared.state;\n        const constants = shared.constants;\n\n        // Nettoyer les layers existants\n        if (state.poiLayerGroup) {\n            state.poiLayerGroup.clearLayers();\n        }\n        if (state.poiClusterGroup) {\n            state.poiClusterGroup.clearLayers();\n        }\n\n        const clustering = state.poiConfig.clustering !== false;\n        const markers = getMarkers();\n\n        if (!markers || typeof markers.createMarker !== 'function') {\n            if (Log) Log.error('[POI] Module Markers non charg√©.');\n            return;\n        }\n\n        if (clustering && state.poiClusterGroup) {\n            // Mode clustering\n            pois.forEach(poi => {\n                const marker = markers.createMarker(poi);\n                if (marker) {\n                    state.poiClusterGroup.addLayer(marker);\n                    state.poiMarkers.set(poi.id || poi.title || poi.label, marker);\n                }\n            });\n\n            if (!state.mapInstance.hasLayer(state.poiClusterGroup)) {\n                state.mapInstance.addLayer(state.poiClusterGroup);\n            }\n\n            if (Log) Log.info('[POI] Affichage avec clustering.');\n        } else {\n            // Mode sans clustering\n            pois.forEach(poi => {\n                const marker = markers.createMarker(poi);\n                if (marker) {\n                    state.poiLayerGroup.addLayer(marker);\n                    state.poiMarkers.set(poi.id || poi.title || poi.label, marker);\n                }\n            });\n\n            if (!state.mapInstance.hasLayer(state.poiLayerGroup)) {\n                state.mapInstance.addLayer(state.poiLayerGroup);\n            }\n\n            if (Log) Log.info('[POI] Affichage sans clustering.');\n        }\n    }\n\n    /**\n     * Ajoute un POI manuellement sur la carte.\n     * CORRIG√â V3: Normalisation syst√©matique des nouveaux POI\n     *\n     * @param {object} poi - Donn√©es du POI.\n     * @returns {L.Marker|null} Marqueur cr√©√© ou null.\n     */\n    function addPoi(poi) {\n        if (!poi) {\n            if (Log) Log.warn('[POI] addPoi() : POI invalide.');\n            return null;\n        }\n\n        const shared = getShared();\n        if (!shared) return null;\n        const state = shared.state;\n\n        const normalizers = getNormalizers();\n        const markers = getMarkers();\n\n        if (!normalizers || !markers) {\n            if (Log) Log.error('[POI] Modules Normalizers ou Markers non charg√©s.');\n            return null;\n        }\n\n        // ‚úÖ CORRECTION V3: NORMALISER le POI avant traitement\n        // Ceci garantit une structure coh√©rente avec les POI existants\n        const normalizedPoi = normalizers.normalizePoi(poi);\n        if (!normalizedPoi) {\n            if (Log) Log.warn('[POI] addPoi() : √âchec de la normalisation du POI.', poi);\n            return null;\n        }\n\n        // G√©n√©rer un ID si manquant apr√®s normalisation\n        if (!normalizedPoi.id) {\n            normalizedPoi.id = normalizers.generatePoiId(normalizedPoi);\n        }\n\n        if (Log) {\n            Log.info('[POI] Adding normalized POI:', normalizedPoi.id);\n            Log.info('[POI] - Has _layerConfig:', !!normalizedPoi._layerConfig);\n            Log.info('[POI] - Has _sidepanelConfig:', !!normalizedPoi._sidepanelConfig);\n            Log.info('[POI] - Has _popupConfig:', !!normalizedPoi._popupConfig);\n            Log.info('[POI] - Attributes keys:', Object.keys(normalizedPoi.attributes || {}));\n        }\n\n        // Cr√©er le marqueur avec le POI normalis√©\n        const marker = markers.createMarker(normalizedPoi);\n        if (!marker) {\n            if (Log) Log.warn('[POI] addPoi() : Impossible de cr√©er le marqueur pour ce POI normalis√©.', normalizedPoi);\n            return null;\n        }\n\n        // Ajouter au bon layer group\n        const clustering = state.poiConfig.clustering !== false;\n        if (clustering && state.poiClusterGroup) {\n            state.poiClusterGroup.addLayer(marker);\n        } else {\n            state.poiLayerGroup.addLayer(marker);\n        }\n\n        // Stocker le POI NORMALIS√â dans la liste (important pour la coh√©rence)\n        state.allPois.push(normalizedPoi);\n        state.poiMarkers.set(normalizedPoi.id, marker);\n\n        // Note: La sauvegarde en cache est g√©r√©e par le submit-handler via SyncHandler\n        // pour √©viter la duplication et assurer la coh√©rence\n\n        if (Log) Log.info('[POI] ‚úÖ POI normalis√© ajout√© avec succ√®s :', normalizedPoi.id);\n\n        return marker;\n    }\n\n    /**\n     * R√©cup√®re tous les POI charg√©s.\n     *\n     * @returns {array} Tableau des POI.\n     */\n    function getAllPois() {\n        const shared = getShared();\n        return shared ? shared.state.allPois : [];\n    }\n\n    /**\n     * R√©cup√®re un POI par son ID.\n     *\n     * @param {string} id - ID du POI.\n     * @returns {object|null} POI trouv√© ou null.\n     */\n    function getPoiById(id) {\n        const shared = getShared();\n        if (!shared) return null;\n        const state = shared.state;\n\n        return state.allPois.find(p => p.id === id) || null;\n    }\n\n    /**\n     * Recharge les POI (efface et r√©affiche).\n     *\n     * @param {array} pois - Nouveau tableau de POI (optionnel).\n     */\n    function reload(pois) {\n        const shared = getShared();\n        if (!shared) return;\n        const state = shared.state;\n\n        if (pois && Array.isArray(pois)) {\n            state.allPois = pois;\n        }\n\n        displayPois(state.allPois);\n\n        if (Log) Log.info('[POI] POI recharg√©s.');\n    }\n\n    // ========================================\n    //   EXPORT\n    // ========================================\n\n    GeoLeaf._POICore = {\n        init,\n        loadAndDisplay,\n        displayPois,\n        addPoi,\n        getAllPois,\n        getPoiById,\n        reload,\n        getDisplayedPoisCount: function() {\n            const shared = getShared();\n            return shared && shared.state ? (shared.state.allPois || []).length : 0;\n        }\n    };\n\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf POI Module - Aggregator\n *\n * Ce fichier est maintenant un agr√©gateur UMD qui expose l'API publique du module POI.\n * Les fonctionnalit√©s principales sont impl√©ment√©es dans les sous-modules :\n *\n * - poi/shared.js      : √âtat partag√© et constantes\n * - poi/normalizers.js : Normalisation des donn√©es POI\n * - poi/popup.js       : Popups et tooltips\n * - poi/markers.js     : Cr√©ation de marqueurs\n * - poi/sidepanel.js   : Panneau lat√©ral\n * - poi/renderers.js   : Rendu du contenu\n * - poi/core.js        : Fonctions principales (init, load, display)\n *\n * En production, Rollup bundle automatiquement tous les modules ensemble.\n * En d√©veloppement, chaque module est charg√© s√©par√©ment dans demo/index.html.\n *\n * Pour plus de d√©tails, voir docs/poi/POI_SPLIT_STRATEGY.md\n *\n * @version 2.1.0\n * @since 2.0.0\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log;\n\n    // R√©f√©rences aux sous-modules POI (charg√©s via getters pour √©viter les d√©pendances circulaires)\n    const POICore = () => GeoLeaf._POICore;\n    const POISidePanel = () => GeoLeaf._POISidePanel;\n    const POIShared = () => GeoLeaf._POIShared;\n\n    /**\n     * API publique du module POI\n     * Toutes les fonctions d√©l√®guent aux sous-modules appropri√©s\n     */\n    // Pr√©server GeoLeaf.POI.Renderers s'il existe d√©j√† (d√©fini par field-renderers.js, etc.)\n    const existingRenderers = GeoLeaf.POI && GeoLeaf.POI.Renderers;\n\n    GeoLeaf.POI = (function () {\n        return {\n            // Restaurer les Renderers d√©finis avant\n            Renderers: existingRenderers || {},\n\n            /**\n             * Initialise le module POI avec la carte et la configuration.\n             * Supporte deux signatures: init(map, config) et init({map, config}).\n             *\n             * @param {L.Map|object} mapOrOptions - Instance Leaflet ou objet avec {map, config}\n             * @param {object} [config] - Configuration POI (optionnel si premier param est objet)\n             */\n            init: function (mapOrOptions, config) {\n                const core = POICore();\n                if (!core) {\n                    if (Log) Log.error('[POI] Module Core non charg√©.');\n                    return;\n                }\n                core.init(mapOrOptions, config);\n            },\n\n            /**\n             * Charge et affiche les POIs sur la carte.\n             */\n            loadAndDisplay: function () {\n                const core = POICore();\n                if (!core) {\n                    if (Log) Log.error('[POI] Module Core non charg√©.');\n                    return;\n                }\n                core.loadAndDisplay();\n            },\n\n            /**\n             * Affiche un tableau de POIs sur la carte.\n             *\n             * @param {array} pois - Tableau d'objets POI\n             */\n            displayPois: function (pois) {\n                const core = POICore();\n                if (!core) {\n                    if (Log) Log.error('[POI] Module Core non charg√©.');\n                    return;\n                }\n                core.displayPois(pois);\n            },\n\n            /**\n             * Ajoute un POI manuellement √† la carte.\n             *\n             * @param {object} poi - Donn√©es du POI\n             * @returns {L.Marker|null} Marqueur cr√©√© ou null\n             */\n            addPoi: function (poi) {\n                const core = POICore();\n                if (!core) {\n                    if (Log) Log.error('[POI] Module Core non charg√©.');\n                    return null;\n                }\n                return core.addPoi(poi);\n            },\n\n            /**             * Ajoute un nouveau POI √† la carte.\n             *\n             * @param {object} poi - Donn√©es du POI √† ajouter\n             * @returns {boolean} true si ajout r√©ussi, false sinon\n             */\n            add: function (poi) {\n                const core = POICore();\n                if (!core) {\n                    if (Log) Log.error('[POI] Module Core non charg√©.');\n                    return false;\n                }\n                return core.addPoi(poi);\n            },\n\n            /**\n             * Alias pour add() - ajoute un POI.\n             *\n             * @param {object} poi - Donn√©es du POI\n             * @returns {boolean} true si ajout r√©ussi, false sinon\n             */\n            addPoi: function (poi) {\n                return this.add(poi);\n            },\n\n            /**             * R√©cup√®re tous les POI charg√©s.\n             *\n             * @returns {array} Tableau des POI\n             */\n            getAllPois: function () {\n                const core = POICore();\n                if (!core) return [];\n                return core.getAllPois();\n            },\n\n            /**\n             * R√©cup√®re un POI par son ID.\n             *\n             * @param {string} id - ID du POI\n             * @returns {object|null} POI trouv√© ou null\n             */\n            getPoiById: function (id) {\n                const core = POICore();\n                if (!core) return null;\n                return core.getPoiById(id);\n            },\n\n            /**\n             * Recharge les POIs (efface et r√©affiche).\n             *\n             * @param {array} [pois] - Nouveau tableau de POI (optionnel)\n             */\n            reload: function (pois) {\n                const core = POICore();\n                if (!core) {\n                    if (Log) Log.error('[POI] Module Core non charg√©.');\n                    return;\n                }\n                core.reload(pois);\n            },\n\n            /**\n             * Affiche le panneau lat√©ral avec les d√©tails d'un POI.\n             *\n             * @param {object} poi - Donn√©es du POI\n             * @param {array} [customLayout] - Layout personnalis√© (optionnel)\n             * @returns {Promise<void>}\n             */\n            showPoiDetails: async function (poi, customLayout) {\n                const sidePanel = POISidePanel();\n                if (!sidePanel) {\n                    if (Log) Log.error('[POI] Module SidePanel non charg√©.');\n                    return;\n                }\n                await sidePanel.openSidePanel(poi, customLayout);\n            },\n\n            /**\n             * Ferme le panneau lat√©ral.\n             */\n            hideSidePanel: function () {\n                const sidePanel = POISidePanel();\n                if (!sidePanel) {\n                    if (Log) Log.error('[POI] Module SidePanel non charg√©.');\n                    return;\n                }\n                sidePanel.closeSidePanel();\n            },\n\n            /**\n             * Alias pour showPoiDetails avec layout personnalis√©.\n             *\n             * @param {object} poi - Donn√©es du POI\n             * @param {array} customLayout - Layout personnalis√©\n             */\n            openSidePanelWithLayout: function (poi, customLayout) {\n                this.showPoiDetails(poi, customLayout);\n            },\n\n            /**\n             * R√©cup√®re le layer group Leaflet actif (cluster ou simple).\n             *\n             * @returns {L.LayerGroup|L.MarkerClusterGroup|null} Layer group ou null\n             */\n            getLayer: function () {\n                const shared = POIShared();\n                if (!shared) return null;\n                const state = shared.state;\n                return state.poiClusterGroup || state.poiLayerGroup;\n            },\n\n            /**\n             * Obtient le nombre de POI actuellement affich√©s.\n             *\n             * @returns {number} Nombre de POI affich√©s\n             */\n            getDisplayedPoisCount: function () {\n                const core = POICore();\n                if (!core) {\n                    if (Log) Log.error('[POI] Module Core non charg√©.');\n                    return 0;\n                }\n                return core.getDisplayedPoisCount();\n            },\n\n            /**\n             * Helper pour tests unitaires : efface tous les POI.\n             * @private\n             */\n            _clearAllForTests: function () {\n                const shared = POIShared();\n                if (!shared) return;\n                const state = shared.state;\n\n                if (Log) Log.info('[POI] _clearAllForTests: Suppression de', state.allPois.length, 'POI(s) et', state.poiMarkers.size, 'marqueur(s)');\n\n                state.allPois = [];\n                state.poiMarkers.clear();\n                if (state.poiClusterGroup) state.poiClusterGroup.clearLayers();\n                if (state.poiLayerGroup) state.poiLayerGroup.clearLayers();\n            }\n        };\n    })();\n\n})(typeof window !== \"undefined\" ? window : global);\n","/**\r\n * GeoLeaf GeoJSON Module - Shared State & Constants\r\n * √âtat partag√© et constantes pour le module GeoJSON\r\n *\r\n * @module geojson/shared\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    const Log = GeoLeaf.Log;\r\n\r\n    /**\r\n     * √âtat partag√© du module GeoJSON\r\n     * Accessible via GeoLeaf._GeoJSONShared.state\r\n     */\r\n    GeoLeaf._GeoJSONShared = GeoLeaf._GeoJSONShared || {};\r\n\r\n    /**\r\n     * √âtat interne partag√© entre les sous-modules\r\n     */\r\n    GeoLeaf._GeoJSONShared.state = {\r\n        /**\r\n         * R√©f√©rence vers la carte Leaflet.\r\n         * @type {L.Map|null}\r\n         */\r\n        map: null,\r\n\r\n        /**\r\n         * Groupe contenant toutes les couches GeoJSON (conteneur parent).\r\n         * @type {L.LayerGroup|null}\r\n         */\r\n        layerGroup: null,\r\n\r\n        /**\r\n         * LEGACY: Couche L.GeoJSON principale (pour compatibilit√© descendante).\r\n         * @deprecated Utiliser layers pour multi-couches.\r\n         * @type {L.GeoJSON|null}\r\n         */\r\n        geoJsonLayer: null,\r\n\r\n        /**\r\n         * Map des couches individuelles par ID.\r\n         * Structure: Map<layerId, {id, label, layer, visible, config, clusterGroup}>\r\n         * @type {Map<string, Object>}\r\n         */\r\n        layers: new Map(),\r\n\r\n        /**\r\n         * Compteur pour g√©n√©rer des IDs uniques si non fourni.\r\n         * @type {number}\r\n         */\r\n        layerIdCounter: 0,\r\n\r\n        /**\r\n         * Cache l√©ger des features par couche (geojson/features d√©j√† converties).\r\n         * Map<layerId, { features: Array, geometryType: string }>\r\n         * @type {Map<string, Object>}\r\n         */\r\n        featureCache: new Map(),\r\n\r\n        /**\r\n         * Options par d√©faut du module GeoJSON.\r\n         */\r\n        options: {\r\n            /**\r\n             * Style par d√©faut des g√©om√©tries (polygones / lignes).\r\n             */\r\n            defaultStyle: {\r\n                color: \"#2E7D32\",\r\n                weight: 2,\r\n                opacity: 0.9,\r\n                fillColor: \"#66BB6A\",\r\n                fillOpacity: 0.4\r\n            },\r\n            /**\r\n             * Style des points (circleMarker).\r\n             */\r\n            defaultPointStyle: {\r\n                radius: 6,\r\n                color: \"#1B5E20\",\r\n                weight: 2,\r\n                fillColor: \"#66BB6A\",\r\n                fillOpacity: 0.9\r\n            },\r\n            /**\r\n             * Fonction de rappel pour chaque feature.\r\n             * @param {Object} feature\r\n             * @param {L.Layer} layer\r\n             */\r\n            onEachFeature: null,\r\n            /**\r\n             * Fonction pointToLayer personnalis√©e (si fournie).\r\n             * @param {Object} feature\r\n             * @param {L.LatLng} latlng\r\n             * @returns {L.Layer}\r\n             */\r\n            pointToLayer: null,\r\n            /**\r\n             * Adapter automatiquement la vue sur les donn√©es charg√©es.\r\n             */\r\n            fitBoundsOnLoad: true,\r\n            /**\r\n             * ZOOM max lors du fitBounds (facultatif).\r\n             */\r\n            maxZoomOnFit: GeoLeaf.CONSTANTS ? GeoLeaf.CONSTANTS.GEOJSON_MAX_ZOOM_ON_FIT : 18\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Constantes pour la gestion des panes Leaflet et z-index\r\n     */\r\n    GeoLeaf._GeoJSONShared.PANE_CONFIG = {\r\n        BASEMAP_NAME: 'geoleaf-basemap',\r\n        BASEMAP_ZINDEX: 200,\r\n        LAYER_PREFIX: 'geoleaf-layer-',\r\n        LAYER_BASE_ZINDEX: 400,\r\n        MIN_LAYER_ZINDEX: 0,\r\n        MAX_LAYER_ZINDEX: 99\r\n    };\r\n\r\n    /**\r\n     * Helpers pour la gestion des panes\r\n     */\r\n    GeoLeaf._GeoJSONShared.PaneHelpers = {\r\n        /**\r\n         * G√©n√®re le nom du pane pour un zIndex donn√©\r\n         * @param {number} zIndex - zIndex de la couche (0-99)\r\n         * @returns {string} Nom du pane\r\n         */\r\n        getPaneName(zIndex) {\r\n            const config = GeoLeaf._GeoJSONShared.PANE_CONFIG;\r\n            return `${config.LAYER_PREFIX}${zIndex || 0}`;\r\n        },\r\n\r\n        /**\r\n         * Valide et clamp un zIndex dans la plage autoris√©e\r\n         * @param {number} zIndex - zIndex √† valider\r\n         * @returns {number} zIndex valide (0-99)\r\n         */\r\n        validateZIndex(zIndex) {\r\n            const config = GeoLeaf._GeoJSONShared.PANE_CONFIG;\r\n            return Math.max(config.MIN_LAYER_ZINDEX, Math.min(config.MAX_LAYER_ZINDEX, Math.floor(zIndex)));\r\n        },\r\n\r\n        /**\r\n         * Applique le pane √† un layer ou marker\r\n         * @param {L.Layer} layer - Layer Leaflet\r\n         * @param {number} zIndex - zIndex de la couche\r\n         */\r\n        applyPaneToLayer(layer, zIndex) {\r\n            if (layer && layer.options) {\r\n                layer.options.pane = this.getPaneName(zIndex);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Map des op√©rateurs de comparaison pour styleRules.\r\n     * Supporte : >, >=, <, <=, ==, ===, eq (alias ==), !=, !==, contains, startsWith, endsWith, in, notIn, between\r\n     */\r\n    GeoLeaf._GeoJSONShared.STYLE_OPERATORS = {\r\n        '>': (a, b) => Number(a) > Number(b),\r\n        '>=': (a, b) => Number(a) >= Number(b),\r\n        '<': (a, b) => Number(a) < Number(b),\r\n        '<=': (a, b) => Number(a) <= Number(b),\r\n        '==': (a, b) => a == b,\r\n        '===': (a, b) => a === b,\r\n        'eq': (a, b) => a == b,  // Alias pour ==\r\n        '!=': (a, b) => a != b,\r\n        '!==': (a, b) => a !== b,\r\n        'neq': (a, b) => a != b, // Alias pour !=\r\n        'contains': (a, b) => String(a).toLowerCase().includes(String(b).toLowerCase()),\r\n        'startsWith': (a, b) => String(a).toLowerCase().startsWith(String(b).toLowerCase()),\r\n        'endsWith': (a, b) => String(a).toLowerCase().endsWith(String(b).toLowerCase()),\r\n        'in': (a, b) => Array.isArray(b) && b.includes(a),\r\n        'notIn': (a, b) => Array.isArray(b) && !b.includes(a),\r\n        'between': (a, b) => {\r\n            if (!Array.isArray(b) || b.length !== 2) return false;\r\n            const num = Number(a);\r\n            const min = Number(b[0]);\r\n            const max = Number(b[1]);\r\n            return num >= min && num <= max;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * R√©initialise l'√©tat partag√© (utile pour les tests)\r\n     */\r\n    GeoLeaf._GeoJSONShared.reset = function () {\r\n        const state = GeoLeaf._GeoJSONShared.state;\r\n        state.map = null;\r\n        state.layerGroup = null;\r\n        state.geoJsonLayer = null;\r\n        state.layers = new Map();\r\n        state.layerIdCounter = 0;\r\n        state.featureCache = new Map();\r\n        // R√©initialiser les options par d√©faut\r\n        state.options = {\r\n            defaultStyle: {\r\n                color: \"#2E7D32\",\r\n                weight: 2,\r\n                opacity: 0.9,\r\n                fillColor: \"#66BB6A\",\r\n                fillOpacity: 0.4\r\n            },\r\n            defaultPointStyle: {\r\n                radius: 6,\r\n                color: \"#1B5E20\",\r\n                weight: 2,\r\n                fillColor: \"#66BB6A\",\r\n                fillOpacity: 0.9\r\n            },\r\n            onEachFeature: null,\r\n            pointToLayer: null,\r\n            fitBoundsOnLoad: true,\r\n            maxZoomOnFit: GeoLeaf.CONSTANTS ? GeoLeaf.CONSTANTS.GEOJSON_MAX_ZOOM_ON_FIT : 18\r\n        };\r\n    };\r\n\r\n    /**\r\n     * Getter pour le Log (lazy loading)\r\n     */\r\n    GeoLeaf._GeoJSONShared.getLog = function () {\r\n        return GeoLeaf.Log || console;\r\n    };\r\n\r\n})(window);\r\n","/**\n * GeoLeaf GeoJSON Module - Style Resolver\n * √âvaluation des r√®gles de style dynamiques (styleRules)\n *\n * @module geojson/style-resolver\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // D√©pendance lazy vers shared\n    const getShared = () => GeoLeaf._GeoJSONShared;\n    const getLog = () => (GeoLeaf.Log || console);\n\n    GeoLeaf._GeoJSONStyleResolver = GeoLeaf._GeoJSONStyleResolver || {};\n\n    /**\n     * R√©sout une valeur imbriqu√©e dans un objet via un chemin (ex: \"properties.name\").\n     * @param {Object} obj - Objet source\n     * @param {string} path - Chemin (dot notation)\n     * @returns {*} Valeur trouv√©e ou null\n     */\n    GeoLeaf._GeoJSONStyleResolver.getNestedValue = function (obj, path) {\n        if (!obj || !path) return null;\n        return path.split('.').reduce((current, prop) =>\n            current && current[prop] !== undefined ? current[prop] : null, obj);\n    };\n\n    /**\n     * √âvalue une condition simple contre une feature GeoJSON.\n     * @param {Object} feature - Feature GeoJSON\n     * @param {Object} condition - {field, operator, value}\n     * @param {Object} STYLE_OPERATORS - Op√©rateurs de comparaison\n     * @param {Object} Log - Logger\n     * @returns {boolean} true si la condition est remplie\n     */\n    GeoLeaf._GeoJSONStyleResolver.evaluateCondition = function (feature, condition, STYLE_OPERATORS, Log) {\n        const { field, operator, value } = condition;\n        if (!field || !operator) return false;\n\n        // R√©soudre la valeur du champ depuis la feature\n        const fieldValue = GeoLeaf._GeoJSONStyleResolver.getNestedValue(feature, field);\n\n        // Si le champ n'existe pas, la condition n'est pas remplie\n        if (fieldValue === null || fieldValue === undefined) return false;\n\n        // Obtenir la fonction de comparaison\n        const compareFn = STYLE_OPERATORS[operator];\n        if (!compareFn) {\n            Log.warn && Log.warn('[GeoJSON] Op√©rateur styleRules inconnu:', operator);\n            return false;\n        }\n\n        // √âvaluer la condition\n        try {\n            return compareFn(fieldValue, value);\n        } catch (e) {\n            Log.warn && Log.warn('[GeoJSON] Erreur √©valuation condition:', e.message);\n            return false;\n        }\n    };\n\n    /**\n     * √âvalue les r√®gles de style (styleRules) contre une feature GeoJSON.\n     * Retourne le style de la PREMI√àRE r√®gle correspondante (ordre du tableau).\n     * Supporte les formats:\n     * - Simple: {when: {field, operator, value}, style: {...}}\n     * - Compos√©: {when: {all: [{field, operator, value}, ...]}, style: {...}}\n     *\n     * @param {Object} feature - Feature GeoJSON\n     * @param {Array} styleRules - Tableau de r√®gles\n     * @returns {Object|null} Style de la premi√®re r√®gle correspondante, ou null\n     */\n    GeoLeaf._GeoJSONStyleResolver.evaluateStyleRules = function (feature, styleRules) {\n        if (!Array.isArray(styleRules) || styleRules.length === 0) {\n            return null;\n        }\n\n        const shared = getShared();\n        const Log = getLog();\n        const STYLE_OPERATORS = shared.STYLE_OPERATORS;\n\n        for (const rule of styleRules) {\n            if (!rule || !rule.when || !rule.style) continue;\n\n            // Support du format compos√© avec \"all\": [conditions]\n            if (rule.when.all && Array.isArray(rule.when.all)) {\n                // V√©rifier que TOUTES les conditions sont remplies\n                const allConditionsMet = rule.when.all.every(condition =>\n                    GeoLeaf._GeoJSONStyleResolver.evaluateCondition(feature, condition, STYLE_OPERATORS, Log)\n                );\n\n                if (allConditionsMet) {\n                    return rule.style;\n                }\n            }\n            // Format simple avec field, operator, value\n            else if (rule.when.field && rule.when.operator) {\n                const conditionMet = GeoLeaf._GeoJSONStyleResolver.evaluateCondition(\n                    feature,\n                    rule.when,\n                    STYLE_OPERATORS,\n                    Log\n                );\n\n                if (conditionMet) {\n                    return rule.style;\n                }\n            }\n        }\n\n        return null;\n    };\n\n    /**\n     * Construit les options Leaflet pour L.geoJSON √† partir des options GeoLeaf.\n     *\n     * @param {Object} options - Options GeoLeaf\n     * @returns {Object} - Options Leaflet\n     */\n    GeoLeaf._GeoJSONStyleResolver.buildLeafletOptions = function (options) {\n        const evaluateStyleRules = GeoLeaf._GeoJSONStyleResolver.evaluateStyleRules;\n\n        const normalizeStyle = (style) => {\n            if (!style || typeof style !== 'object') {\n                return {};\n            }\n\n            const normalized = {};\n\n            // Format imbriqu√© fill/stroke\n            if (style.fill || style.stroke) {\n                if (style.fill) {\n                    if (style.fill.color) normalized.fillColor = style.fill.color;\n                    if (typeof style.fill.opacity === 'number') {\n                        normalized.fillOpacity = style.fill.opacity;\n                    } else {\n                        normalized.fillOpacity = 1.0;\n                    }\n                }\n\n                if (style.stroke) {\n                    if (style.stroke.color) normalized.color = style.stroke.color;\n                    if (typeof style.stroke.opacity === 'number') normalized.opacity = style.stroke.opacity;\n                    if (typeof style.stroke.widthPx === 'number') normalized.weight = style.stroke.widthPx;\n                    if (style.stroke.dashArray) normalized.dashArray = style.stroke.dashArray;\n                    if (style.stroke.lineCap) normalized.lineCap = style.stroke.lineCap;\n                    if (style.stroke.lineJoin) normalized.lineJoin = style.stroke.lineJoin;\n                }\n\n                // Propri√©t√©s communes\n                if (style.shape) normalized.shape = style.shape;\n                if (typeof style.sizePx === 'number') {\n                    normalized.radius = style.sizePx;\n                    normalized.sizePx = style.sizePx;\n                }\n            } else {\n                Object.assign(normalized, style);\n                if (typeof normalized.fillOpacity !== 'number') {\n                    normalized.fillOpacity = 1.0;\n                }\n            }\n\n            return normalized;\n        };\n\n        const leafletOptions = {\n            /**\n             * Style pour polygones / lignes.\n             * Priorit√© : defaultStyle < styleRules (premi√®re correspondante) < feature.properties.style\n             */\n            style(feature) {\n                // 1. Commencer avec le style par d√©faut\n                let finalStyle = Object.assign({}, normalizeStyle(options.defaultStyle));\n\n                // 2. Appliquer les styleRules (premi√®re r√®gle correspondante gagne)\n                if (options.styleRules && Array.isArray(options.styleRules)) {\n                    const matchedStyle = evaluateStyleRules(feature, options.styleRules);\n                    if (matchedStyle) {\n                        finalStyle = Object.assign({}, finalStyle, normalizeStyle(matchedStyle));\n                    }\n                }\n\n                // 3. Mode interactif\n                const interactiveShapes = typeof options.interactiveShape === \"boolean\"\n                    ? options.interactiveShape\n                    : (GeoLeaf.Config && GeoLeaf.Config.get ? GeoLeaf.Config.get('ui.interactiveShapes', false) : false);\n                finalStyle.interactive = interactiveShapes;\n\n                return finalStyle;\n            },\n\n            /**\n             * Gestion des points (Point / MultiPoint).\n             */\n            pointToLayer: options.pointToLayer\n                ? function (feature, latlng) {\n                      return options.pointToLayer(feature, latlng);\n                  }\n                : function (feature, latlng) {\n                      // Utiliser le param√®tre interactiveShape d√©fini pour cette couche\n                      const interactiveShapes = typeof options.interactiveShape === \"boolean\"\n                          ? options.interactiveShape\n                          : (GeoLeaf.Config && GeoLeaf.Config.get ? GeoLeaf.Config.get('ui.interactiveShapes', false) : false);\n                      const pointStyle = GeoLeaf.Utils && GeoLeaf.Utils.mergeOptions\n                          ? GeoLeaf.Utils.mergeOptions(options.defaultPointStyle, { interactive: interactiveShapes })\n                          : Object.assign({}, options.defaultPointStyle, { interactive: interactiveShapes });\n                      return global.L.circleMarker(latlng, pointStyle);\n                  },\n\n            /**\n             * Callback pour chaque entit√©.\n             */\n            onEachFeature: function (feature, layer) {\n                // Popup simple par d√©faut si popupContent fourni\n                if (\n                    feature &&\n                    feature.properties &&\n                    typeof feature.properties.popupContent === \"string\"\n                ) {\n                    layer.bindPopup(feature.properties.popupContent);\n                }\n\n                // Callback custom utilisateur\n                if (typeof options.onEachFeature === \"function\") {\n                    options.onEachFeature(feature, layer);\n                }\n            }\n        };\n\n        return leafletOptions;\n    };\n\n    // Exposer aussi via _StyleRules pour compatibilit√© avec le module Themes\n    GeoLeaf._StyleRules = {\n        evaluate: GeoLeaf._GeoJSONStyleResolver.evaluateStyleRules,\n        operators: GeoLeaf._GeoJSONShared ? GeoLeaf._GeoJSONShared.STYLE_OPERATORS : {},\n        getNestedValue: GeoLeaf._GeoJSONStyleResolver.getNestedValue\n    };\n\n})(window);\n","/**\n * GeoLeaf GeoJSON Module - Visibility Manager\n * Gestionnaire centralis√© de visibilit√© des couches avec gestion des priorit√©s\n *\n * G√®re trois sources de modification de visibilit√© :\n * - 'user': Action manuelle de l'utilisateur (toggle, show/hide explicite)\n * - 'theme': Modification par application d'un th√®me\n * - 'zoom': Modification automatique selon le niveau de zoom\n *\n * R√®gles de priorit√© :\n * 1. user > theme > zoom (l'utilisateur a toujours le dernier mot)\n * 2. Une action 'user' annule les flags 'theme' et 'zoom'\n * 3. Une action 'theme' peut override 'zoom' mais pas 'user'\n * 4. Une action 'zoom' ne change jamais l'√©tat si 'user' ou 'theme' est actif\n *\n * @module geojson/visibility-manager\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // D√©pendances lazy\n    const getShared = () => GeoLeaf._GeoJSONShared;\n    const getState = () => GeoLeaf._GeoJSONShared.state;\n    const getLog = () => (GeoLeaf.Log || console);\n\n    GeoLeaf._LayerVisibilityManager = GeoLeaf._LayerVisibilityManager || {};\n\n    /**\n     * √âtats de visibilit√© possibles\n     * @private\n     */\n    const VisibilitySource = {\n        USER: 'user',\n        THEME: 'theme',\n        ZOOM: 'zoom',\n        SYSTEM: 'system'  // Chargement initial, etc.\n    };\n\n    /**\n     * Initialise les m√©tadonn√©es de visibilit√© pour une couche\n     * @param {Object} layerData - Donn√©es de la couche\n     * @private\n     */\n    function initVisibilityMetadata(layerData) {\n        if (!layerData._visibility) {\n            layerData._visibility = {\n                current: false,           // √âtat actuel physique sur la carte (true/false)\n                logicalState: false,      // √âtat logique (bouton ON/OFF, ind√©pendant du zoom)\n                source: VisibilitySource.SYSTEM,  // Derni√®re source de modification\n                userOverride: false,      // L'utilisateur a forc√© un √©tat\n                themeOverride: false,     // Un th√®me a forc√© un √©tat\n                themeDesired: null,       // Visibilit√© voulue par le th√®me (true/false)\n                zoomConstrained: false    // La couche est limit√©e par le zoom\n            };\n        }\n    }\n\n    /**\n     * D√©finit la visibilit√© d'une couche avec gestion de priorit√©\n     *\n     * @param {string} layerId - ID de la couche\n     * @param {boolean} visible - √âtat de visibilit√© souhait√©\n     * @param {string} source - Source de la modification ('user' | 'theme' | 'zoom' | 'system')\n     * @returns {boolean} - true si la visibilit√© a √©t√© modifi√©e, false sinon\n     */\n    GeoLeaf._LayerVisibilityManager.setVisibility = function (layerId, visible, source) {\n        const state = getState();\n        const Log = getLog();\n        const layerData = state.layers.get(layerId);\n\n        if (!layerData) {\n            Log.warn(\"[VisibilityManager] Couche introuvable:\", layerId);\n            return false;\n        }\n\n        // Initialiser les m√©tadonn√©es si n√©cessaire\n        initVisibilityMetadata(layerData);\n\n        const meta = layerData._visibility;\n        const oldVisible = meta.current;\n        const oldSource = meta.source;\n\n        // Appliquer les r√®gles de priorit√©\n        const canChange = this._canChangeVisibility(meta, source, visible);\n\n        if (!canChange) {\n            Log.debug(\n                `[VisibilityManager] Changement refus√© pour ${layerId}: ` +\n                `source=${source}, userOverride=${meta.userOverride}, themeOverride=${meta.themeOverride}`\n            );\n            return false;\n        }\n\n        // Mettre √† jour les flags selon la source\n        this._updateVisibilityFlags(meta, source, visible);\n\n        // Appliquer le changement effectif\n        const changed = this._applyVisibilityChange(layerId, layerData, visible);\n\n        if (changed) {\n            meta.current = visible;\n            meta.source = source;\n\n            Log.debug(\n                `[VisibilityManager] ${layerId}: ${oldVisible} ‚Üí ${visible} ` +\n                `(source: ${oldSource} ‚Üí ${source})`\n            );\n\n            // Mettre √† jour les anciens flags pour compatibilit√©\n            layerData.visible = visible;\n            layerData.userDisabled = meta.userOverride && !visible;\n            layerData.themeHidden = meta.themeOverride && !visible;\n\n            // Notifier la l√©gende\n            this._notifyLegend(layerId, visible);\n\n            // √âmettre l'√©v√©nement\n            this._fireVisibilityEvent(layerId, visible, source);\n        }\n\n        return changed;\n    };\n\n    /**\n     * V√©rifie si la visibilit√© peut √™tre modifi√©e selon les r√®gles de priorit√©\n     * @param {Object} meta - M√©tadonn√©es de visibilit√©\n     * @param {string} source - Source de la modification\n     * @returns {boolean}\n     * @private\n     */\n    GeoLeaf._LayerVisibilityManager._canChangeVisibility = function (meta, source, desiredVisible) {\n        // L'utilisateur peut toujours modifier\n        if (source === VisibilitySource.USER) {\n            return true;\n        }\n\n        // IMPORTANT: Le zoom DOIT TOUJOURS pouvoir modifier l'affichage physique (current)\n        // m√™me si userOverride est true. Cela permet d'afficher/masquer selon les seuils de zoom\n        // tout en gardant logicalState ind√©pendant.\n        if (source === VisibilitySource.ZOOM) {\n            return true;\n        }\n\n        // Si l'utilisateur a d√©fini un override, seul l'utilisateur peut changer l'√©tat logique\n        if (meta.userOverride) {\n            return false;\n        }\n\n        // Ne jamais r√©activer ce qu'un th√®me a explicitement masqu√©\n        if (source === VisibilitySource.ZOOM && meta.themeOverride && meta.themeDesired === false && desiredVisible === true) {\n            return false;\n        }\n\n        // Les th√®mes peuvent override le zoom mais pas l'utilisateur\n        if (source === VisibilitySource.THEME) {\n            return true;\n        }\n\n        // Par d√©faut, autoriser (pour 'system' et autres)\n        return true;\n    };\n\n    /**\n     * Met √† jour les flags de visibilit√© selon la source\n     * @param {Object} meta - M√©tadonn√©es de visibilit√©\n     * @param {string} source - Source de la modification\n     * @param {boolean} visible - √âtat de visibilit√©\n     * @private\n     */\n    GeoLeaf._LayerVisibilityManager._updateVisibilityFlags = function (meta, source, visible) {\n        switch (source) {\n            case VisibilitySource.USER:\n                meta.userOverride = true;\n                meta.themeOverride = false;  // Reset theme override\n                meta.zoomConstrained = false;\n                meta.logicalState = visible; // Mettre √† jour l'√©tat logique\n                break;\n\n            case VisibilitySource.THEME:\n                // Ne pas override userOverride si d√©j√† pr√©sent\n                if (!meta.userOverride) {\n                    meta.themeOverride = true;\n                    meta.themeDesired = visible;\n                    meta.zoomConstrained = false;\n                    meta.logicalState = visible; // Mettre √† jour l'√©tat logique\n                }\n                break;\n\n            case VisibilitySource.ZOOM:\n                // Marquer la contrainte zoom (sauf override utilisateur)\n                // NE PAS modifier logicalState - le zoom n'affecte pas l'√©tat logique\n                if (!meta.userOverride) {\n                    meta.zoomConstrained = true;\n                }\n                break;\n\n            case VisibilitySource.SYSTEM:\n                // Reset tous les overrides pour un chargement propre\n                meta.userOverride = false;\n                meta.themeOverride = false;\n                meta.themeDesired = null;\n                meta.zoomConstrained = false;\n                meta.logicalState = visible; // Initialiser l'√©tat logique\n                break;\n        }\n    };\n\n    /**\n     * Applique physiquement le changement de visibilit√© (add/remove layer)\n     * @param {string} layerId - ID de la couche\n     * @param {Object} layerData - Donn√©es de la couche\n     * @param {boolean} visible - √âtat de visibilit√© souhait√©\n     * @returns {boolean} - true si un changement a √©t√© effectu√©\n     * @private\n     */\n    GeoLeaf._LayerVisibilityManager._applyVisibilityChange = function (layerId, layerData, visible) {\n        const state = getState();\n        const Log = getLog();\n\n        if (!layerData.layer) {\n            Log.warn(\"[VisibilityManager] Layer Leaflet manquant pour:\", layerId);\n            return false;\n        }\n\n        // D√©terminer quelle couche g√©rer (cluster ou layer)\n        const layerToManage = layerData.clusterGroup || layerData.layer;\n        const isCurrentlyOnMap = state.map && state.map.hasLayer(layerToManage);\n\n        // Si d√©j√† dans l'√©tat souhait√©, ne rien faire\n        if (visible && isCurrentlyOnMap) {\n            return false;\n        }\n        if (!visible && !isCurrentlyOnMap) {\n            return false;\n        }\n\n        try {\n            if (visible) {\n                // Cas 1 : Cluster partag√© avec POI\n                if (layerData.useSharedCluster && layerData.clusterGroup) {\n                    layerData.clusterGroup.addLayer(layerData.layer);\n                }\n                // Cas 2 : Cluster ind√©pendant\n                else if (layerData.clusterGroup) {\n                    state.map.addLayer(layerData.clusterGroup);\n                    if (layerData.clusterGroup.refreshClusters) {\n                        layerData.clusterGroup.refreshClusters();\n                    }\n                }\n                // Cas 3 : Pas de cluster - ajouter directement √† la map pour respecter le pane\n                else {\n                    state.map.addLayer(layerData.layer);\n                }\n            } else {\n                // Cas 1 : Cluster partag√© avec POI\n                if (layerData.useSharedCluster && layerData.clusterGroup) {\n                    layerData.clusterGroup.removeLayer(layerData.layer);\n                }\n                // Cas 2 : Cluster ind√©pendant\n                else if (layerData.clusterGroup) {\n                    state.map.removeLayer(layerData.clusterGroup);\n                }\n                // Cas 3 : Pas de cluster - retirer directement de la map\n                else {\n                    state.map.removeLayer(layerData.layer);\n                }\n            }\n\n            // Synchroniser l'UI du Layer Manager et le bouton labels apr√®s changement r√©ussi\n            // Utilise le refresh debounced pour grouper les changements multiples (ex: zoom)\n            if (GeoLeaf.LayerManager && typeof GeoLeaf.LayerManager.refresh === 'function') {\n                GeoLeaf.LayerManager.refresh(); // Debounced par d√©faut (100ms)\n            }\n\n            if (GeoLeaf._LabelButtonManager && typeof GeoLeaf._LabelButtonManager.syncImmediate === 'function') {\n                GeoLeaf._LabelButtonManager.syncImmediate(layerId);\n            }\n\n            return true;\n\n        } catch (err) {\n            Log.error(`[VisibilityManager] Erreur lors du changement de visibilit√© de ${layerId}:`, err);\n            return false;\n        }\n    };\n\n    /**\n     * Notifie le module Legend d'un changement de visibilit√©\n     * @param {string} layerId - ID de la couche\n     * @param {boolean} visible - √âtat de visibilit√©\n     * @private\n     */\n    GeoLeaf._LayerVisibilityManager._notifyLegend = function (layerId, visible) {\n        if (GeoLeaf.Legend && typeof GeoLeaf.Legend.setLayerVisibility === \"function\") {\n            GeoLeaf.Legend.setLayerVisibility(layerId, visible);\n        }\n\n        // Notifier aussi le module Labels pour masquer/afficher les √©tiquettes\n        if (GeoLeaf.Labels) {\n            if (visible) {\n                // Si la couche devient visible, v√©rifier si les labels doivent √™tre affich√©s\n                // refreshLabels ne fait rien si les labels ne sont pas enabled\n                if (typeof GeoLeaf.Labels.refreshLabels === \"function\") {\n                    GeoLeaf.Labels.refreshLabels(layerId);\n                }\n            } else {\n                // Si la couche devient invisible, masquer les labels (sans changer enabled)\n                if (typeof GeoLeaf.Labels._hideLabelsForLayer === \"function\") {\n                    GeoLeaf.Labels._hideLabelsForLayer(layerId);\n                }\n            }\n        }\n\n        // Synchroniser le bouton de label pour refl√©ter la visibilit√© de la couche\n        if (GeoLeaf._LabelButtonManager && typeof GeoLeaf._LabelButtonManager.syncImmediate === \"function\") {\n            GeoLeaf._LabelButtonManager.syncImmediate(layerId);\n        }\n    };\n\n    /**\n     * √âmet un √©v√©nement de changement de visibilit√©\n     * @param {string} layerId - ID de la couche\n     * @param {boolean} visible - √âtat de visibilit√©\n     * @param {string} source - Source du changement\n     * @private\n     */\n    GeoLeaf._LayerVisibilityManager._fireVisibilityEvent = function (layerId, visible, source) {\n        const state = getState();\n        if (!state.map) return;\n\n        try {\n            state.map.fire(\"geoleaf:geojson:visibility-changed\", {\n                layerId: layerId,\n                visible: visible,\n                source: source\n            });\n        } catch (e) {\n            // Silencieux\n        }\n    };\n\n    /**\n     * R√©initialise les overrides utilisateur pour une couche\n     * Utilis√© par les th√®mes pour reprendre le contr√¥le\n     *\n     * @param {string} layerId - ID de la couche\n     */\n    GeoLeaf._LayerVisibilityManager.resetUserOverride = function (layerId) {\n        const state = getState();\n        const layerData = state.layers.get(layerId);\n\n        if (layerData && layerData._visibility) {\n            layerData._visibility.userOverride = false;\n            getLog().debug(`[VisibilityManager] User override r√©initialis√© pour ${layerId}`);\n        }\n    };\n\n    /**\n     * R√©initialise tous les overrides utilisateur\n     * Utilis√© par les th√®mes lors d'un changement complet de th√®me\n     */\n    GeoLeaf._LayerVisibilityManager.resetAllUserOverrides = function () {\n        const state = getState();\n        let count = 0;\n\n        state.layers.forEach((layerData, layerId) => {\n            if (layerData._visibility && layerData._visibility.userOverride) {\n                layerData._visibility.userOverride = false;\n                count++;\n            }\n        });\n\n        if (count > 0) {\n            getLog().debug(`[VisibilityManager] ${count} user override(s) r√©initialis√©(s)`);\n        }\n    };\n\n    /**\n     * Obtient l'√©tat de visibilit√© complet d'une couche\n     * @param {string} layerId - ID de la couche\n     * @returns {Object|null} - M√©tadonn√©es de visibilit√© ou null\n     */\n    GeoLeaf._LayerVisibilityManager.getVisibilityState = function (layerId) {\n        const state = getState();\n        const layerData = state.layers.get(layerId);\n\n        if (!layerData) {\n            return null;\n        }\n\n        initVisibilityMetadata(layerData);\n\n        return {\n            current: layerData._visibility.current,\n            source: layerData._visibility.source,\n            userOverride: layerData._visibility.userOverride,\n            themeOverride: layerData._visibility.themeOverride,\n            zoomConstrained: layerData._visibility.zoomConstrained\n        };\n    };\n\n    /**\n     * Exporte les constantes pour utilisation externe\n     */\n    GeoLeaf._LayerVisibilityManager.VisibilitySource = VisibilitySource;\n\n    getLog().info(\"[GeoLeaf._LayerVisibilityManager] Module charg√©\");\n\n})(window);\n","/**\n * GeoLeaf GeoJSON Layer Manager - Store\n * Layer CRUD operations: get, query, remove, z-index\n *\n * @module geojson/layer-manager/store\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // D√©pendances lazy\n    const getShared = () => GeoLeaf._GeoJSONShared;\n    const getState = () => GeoLeaf._GeoJSONShared.state;\n    const getLog = () => (GeoLeaf.Log || console);\n\n    const LayerManager = GeoLeaf._GeoJSONLayerManager = GeoLeaf._GeoJSONLayerManager || {};\n\n    /**\n     * R√©cup√®re une couche sp√©cifique par son ID.\n     *\n     * @param {string} layerId - ID de la couche\n     * @returns {Object|null} - { id, label, layer, visible, config, clusterGroup } ou null\n     */\n    LayerManager.getLayerById = function (layerId) {\n        const state = getState();\n        return state.layers.get(layerId) || null;\n    };\n\n    /**\n     * R√©cup√®re les donn√©es d'une couche (geojson, geometryType, config).\n     * Utilis√© par le module Themes pour appliquer les styles.\n     *\n     * @param {string} layerId - ID de la couche\n     * @returns {Object|null} - { geojson, geometryType, config } ou null\n     */\n    LayerManager.getLayerData = function (layerId) {\n        const state = getState();\n        const layerData = state.layers.get(layerId);\n        if (!layerData) return null;\n\n        return {\n            geojson: layerData.geojson || null,\n            features: layerData.features || [],\n            geometryType: layerData.geometryType || 'unknown',\n            config: layerData.config || {},\n            layer: layerData.layer\n        };\n    };\n\n    /**\n     * R√©cup√®re toutes les couches charg√©es.\n     *\n     * @returns {Array<Object>} - Tableau de { id, label, visible, type, featureCount }\n     *\n     * Note: 'visible' retourne l'√©tat LOGIQUE de la couche (activ√©e/d√©sactiv√©e par l'utilisateur ou le th√®me),\n     * pas l'√©tat physique sur la carte (qui peut √™tre masqu√©e par le zoom).\n     * C'est l'√©tat qui doit √™tre refl√©t√© par le bouton ON/OFF du gestionnaire de couches.\n     */\n    LayerManager.getAllLayers = function () {\n        const state = getState();\n        const Log = getLog();\n        const layers = [];\n        state.layers.forEach((layerData, id) => {\n            // Utiliser logicalState qui est ind√©pendant du zoom\n            const meta = layerData._visibility;\n            const logicalVisible = meta && typeof meta.logicalState === 'boolean'\n                ? meta.logicalState\n                : (layerData.visible || false);\n\n            // DEBUG\n            if (Log && id === 'hebergements') {\n                Log.info(`[getAllLayers] ${id}: logicalState=${meta?.logicalState}, current=${meta?.current}, visible=${layerData.visible}, userOverride=${meta?.userOverride}, themeOverride=${meta?.themeOverride}`);\n            }\n\n            layers.push({\n                id: id,\n                label: layerData.label,\n                visible: logicalVisible,\n                type: LayerManager.detectLayerType(layerData.layer),\n                featureCount: layerData.layer ? layerData.layer.getLayers().length : 0\n            });\n        });\n        return layers;\n    };\n\n    /**\n     * D√©tecte le type de g√©om√©trie dominant d'une couche.\n     *\n     * @param {L.GeoJSON} layer\n     * @returns {string} - \"poi\", \"route\", \"area\", ou \"mixed\"\n     */\n    LayerManager.detectLayerType = function (layer) {\n        if (!layer || typeof layer.eachLayer !== 'function') return \"mixed\";\n\n        const types = { Point: 0, LineString: 0, Polygon: 0 };\n\n        layer.eachLayer((l) => {\n            if (l.feature && l.feature.geometry) {\n                const geomType = l.feature.geometry.type;\n                if (geomType.includes(\"Point\")) types.Point++;\n                else if (geomType.includes(\"LineString\")) types.LineString++;\n                else if (geomType.includes(\"Polygon\")) types.Polygon++;\n            }\n        });\n\n        const max = Math.max(types.Point, types.LineString, types.Polygon);\n        if (max === 0) return \"mixed\";\n        if (types.Point === max) return \"poi\";\n        if (types.LineString === max) return \"route\";\n        if (types.Polygon === max) return \"area\";\n        return \"mixed\";\n    };\n\n    /**\n     * Supprime une couche.\n     *\n     * @param {string} layerId - ID de la couche\n     */\n    LayerManager.removeLayer = function (layerId) {\n        const state = getState();\n        const Log = getLog();\n        const layerData = state.layers.get(layerId);\n\n        if (!layerData) {\n            Log.warn(\"[GeoLeaf.GeoJSON] removeLayer: couche introuvable :\", layerId);\n            return;\n        }\n\n        // Retirer de la carte\n        if (layerData.visible) {\n            LayerManager.hideLayer(layerId);\n        }\n\n        // D√©truire les objets Leaflet\n        if (layerData.clusterGroup) {\n            layerData.clusterGroup.clearLayers();\n        }\n        if (layerData.layer) {\n            layerData.layer.clearLayers();\n        }\n\n        // Retirer de la Map\n        state.layers.delete(layerId);\n        state.featureCache.delete(layerId);\n\n        Log.debug(\"[GeoLeaf.GeoJSON] Couche supprim√©e :\", layerId);\n    };\n\n    /**\n     * Met √† jour le zIndex d'une couche (ordre d'empilement sur la carte).\n     * Recr√©√©e la couche avec le nouveau pane si elle est visible.\n     *\n     * @param {string} layerId - ID de la couche\n     * @param {number} newZIndex - Nouveau zIndex (0-99)\n     * @returns {boolean} - true si la mise √† jour a r√©ussi\n     */\n    LayerManager.updateLayerZIndex = function (layerId, newZIndex) {\n        const state = getState();\n        const Log = getLog();\n        const layerData = state.layers.get(layerId);\n\n        if (!layerData) {\n            Log.warn(\"[GeoLeaf.GeoJSON] updateLayerZIndex: couche introuvable :\", layerId);\n            return false;\n        }\n\n        // Validation et clamping 0-99\n        const PaneHelpers = getShared().PaneHelpers;\n        newZIndex = PaneHelpers.validateZIndex(newZIndex);\n\n        const oldZIndex = layerData.config.zIndex || 0;\n        if (oldZIndex === newZIndex) {\n            Log.debug(\"[GeoLeaf.GeoJSON] updateLayerZIndex: zIndex identique, aucun changement :\", layerId);\n            return true;\n        }\n\n        Log.info(`[GeoLeaf.GeoJSON] Changement zIndex pour ${layerId}: ${oldZIndex} ‚Üí ${newZIndex}`);\n\n        // Mettre √† jour la config\n        layerData.config.zIndex = newZIndex;\n\n        // Si la couche n'est pas visible, juste mettre √† jour la config\n        const VisibilityManager = GeoLeaf._LayerVisibilityManager;\n        const visState = VisibilityManager ? VisibilityManager.getVisibilityState(layerId) : null;\n        const isVisible = visState ? visState.current : layerData.visible;\n\n        if (!isVisible) {\n            Log.debug(\"[GeoLeaf.GeoJSON] Couche non visible, zIndex mis √† jour dans config uniquement\");\n            return true;\n        }\n\n        // Couche visible : besoin de changer le pane\n        const newPaneName = PaneHelpers.getPaneName(newZIndex);\n        const newPane = state.map.getPane(newPaneName);\n\n        if (!newPane) {\n            Log.error(`[GeoLeaf.GeoJSON] Pane ${newPaneName} introuvable`);\n            return false;\n        }\n\n        try {\n            // Retirer temporairement de la carte\n            if (layerData.clusterGroup) {\n                state.map.removeLayer(layerData.clusterGroup);\n            } else {\n                state.map.removeLayer(layerData.layer);\n            }\n\n            // Changer le pane du layer Leaflet\n            if (layerData.layer && layerData.layer.options) {\n                layerData.layer.options.pane = newPaneName;\n\n                // Mettre √† jour chaque feature/layer individuelle\n                layerData.layer.eachLayer(function(subLayer) {\n                    if (subLayer.options) {\n                        subLayer.options.pane = newPaneName;\n                    }\n                    // Forcer le re-rendu en changeant le pane du path SVG\n                    if (subLayer._path && subLayer._path.parentNode) {\n                        const newPaneElement = state.map.getPane(newPaneName);\n                        if (newPaneElement) {\n                            newPaneElement.appendChild(subLayer._path);\n                        }\n                    }\n                });\n            }\n\n            // Changer le pane du clusterGroup si pr√©sent\n            if (layerData.clusterGroup && layerData.clusterGroup.options) {\n                layerData.clusterGroup.options.pane = newPaneName;\n            }\n\n            // Remettre sur la carte directement\n            if (layerData.clusterGroup) {\n                state.map.addLayer(layerData.clusterGroup);\n            } else {\n                state.map.addLayer(layerData.layer);\n            }\n\n            Log.debug(`[GeoLeaf.GeoJSON] Couche ${layerId} d√©plac√©e vers pane ${newPaneName}`);\n\n            // D√©clencher √©v√©nement de changement\n            if (state.map) {\n                state.map.fire(\"geoleaf:geojson:zindex-changed\", {\n                    layerId: layerId,\n                    oldZIndex: oldZIndex,\n                    newZIndex: newZIndex\n                });\n            }\n\n            return true;\n        } catch (error) {\n            Log.error(`[GeoLeaf.GeoJSON] Erreur lors du changement de zIndex pour ${layerId}:`, error);\n            return false;\n        }\n    };\n\n})(window);\n","/**\n * GeoLeaf GeoJSON Layer Manager - Visibility\n * Show/hide/toggle layers, zoom-based visibility\n *\n * @module geojson/layer-manager/visibility\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const getState = () => GeoLeaf._GeoJSONShared.state;\n    const getLog = () => (GeoLeaf.Log || console);\n    const ScaleUtils = GeoLeaf.Utils && GeoLeaf.Utils.ScaleUtils;\n\n    const LayerManager = GeoLeaf._GeoJSONLayerManager = GeoLeaf._GeoJSONLayerManager || {};\n\n    /**\n     * Affiche une couche (rend visible).\n     *\n     * @param {string} layerId - ID de la couche\n     */\n    LayerManager.showLayer = function (layerId) {\n        const state = getState();\n        const Log = getLog();\n        const layerData = state.layers.get(layerId);\n\n        if (!layerData) {\n            Log.warn(\"[GeoLeaf.GeoJSON] showLayer: couche introuvable :\", layerId);\n            return;\n        }\n\n        // Utiliser le gestionnaire de visibilit√© centralis√©\n        const VisibilityManager = GeoLeaf._LayerVisibilityManager;\n        if (!VisibilityManager) {\n            Log.error(\"[GeoLeaf.GeoJSON] LayerVisibilityManager non disponible\");\n            return;\n        }\n\n        const changed = VisibilityManager.setVisibility(\n            layerId,\n            true,\n            VisibilityManager.VisibilitySource.USER\n        );\n\n        // IMPORTANT: Recalculer la visibilit√© physique en fonction du zoom\n        // setVisibility met √† jour logicalState (bouton), mais il faut aussi recalculer current\n        LayerManager.updateLayerVisibilityByZoom();\n\n        // Charger la l√©gende si disponible (uniquement si changement effectu√©)\n        if (changed) {\n            LayerManager._loadLayerLegend(layerId, layerData);\n\n            // G√©rer les labels au moment de l'activation\n            if (GeoLeaf.Labels && GeoLeaf.Labels.hasLabelConfig(layerId)) {\n                // V√©rifier si visibleByDefault est true pour les labels\n                const visibleByDefault = layerData.currentStyle?.label?.visibleByDefault === true;\n\n                if (visibleByDefault) {\n                    // Activer et afficher les labels imm√©diatement\n                    GeoLeaf.Labels.enableLabels(layerId, {}, true);\n                } else if (GeoLeaf.Labels.areLabelsEnabled(layerId)) {\n                    // Sinon, juste rafra√Æchir si d√©j√† activ√©s\n                    GeoLeaf.Labels.refreshLabels(layerId);\n                }\n            }\n            if (GeoLeaf._LabelButtonManager) {\n                GeoLeaf._LabelButtonManager.syncImmediate(layerId);\n            }\n\n            Log.debug(\"[GeoLeaf.GeoJSON] Couche affich√©e :\", layerId);\n        }\n    };\n\n    /**\n     * Masque une couche (rend invisible).\n     *\n     * @param {string} layerId - ID de la couche\n     */\n    LayerManager.hideLayer = function (layerId) {\n        const state = getState();\n        const Log = getLog();\n        const layerData = state.layers.get(layerId);\n\n        if (!layerData) {\n            Log.warn(\"[GeoLeaf.GeoJSON] hideLayer: couche introuvable :\", layerId);\n            return;\n        }\n\n        // Utiliser le gestionnaire de visibilit√© centralis√©\n        const VisibilityManager = GeoLeaf._LayerVisibilityManager;\n        if (!VisibilityManager) {\n            Log.error(\"[GeoLeaf.GeoJSON] LayerVisibilityManager non disponible\");\n            return;\n        }\n\n        const changed = VisibilityManager.setVisibility(\n            layerId,\n            false,\n            VisibilityManager.VisibilitySource.USER\n        );\n\n        // IMPORTANT: Recalculer la visibilit√© physique (even on hide, to ensure consistency)\n        LayerManager.updateLayerVisibilityByZoom();\n\n        if (changed) {\n            // Masquer les labels et mettre √† jour le bouton\n            if (GeoLeaf.Labels) {\n                GeoLeaf.Labels.disableLabels(layerId);\n            }\n            if (GeoLeaf._LabelButtonManager) {\n                GeoLeaf._LabelButtonManager.syncImmediate(layerId);\n            }\n\n            Log.debug(\"[GeoLeaf.GeoJSON] Couche masqu√©e :\", layerId);\n        }\n    };\n\n    /**\n     * Toggle la visibilit√© d'une couche.\n     *\n     * @param {string} layerId - ID de la couche\n     */\n    LayerManager.toggleLayer = function (layerId) {\n        const state = getState();\n        const Log = getLog();\n        const layerData = state.layers.get(layerId);\n\n        if (!layerData) {\n            Log.warn(\"[GeoLeaf.GeoJSON] toggleLayer: couche introuvable :\", layerId);\n            return;\n        }\n\n        // Obtenir l'√©tat actuel via le gestionnaire de visibilit√©\n        const VisibilityManager = GeoLeaf._LayerVisibilityManager;\n        if (!VisibilityManager) {\n            Log.error(\"[GeoLeaf.GeoJSON] LayerVisibilityManager non disponible\");\n            return;\n        }\n\n        const visState = VisibilityManager.getVisibilityState(layerId);\n        const currentlyVisible = visState ? visState.current : layerData.visible;\n\n        // Toggle\n        if (currentlyVisible) {\n            LayerManager.hideLayer(layerId);\n        } else {\n            LayerManager.showLayer(layerId);\n        }\n    };\n\n    /**\n     * Affiche une couche (interne, sans v√©rifier visible).\n     * @deprecated Utiliser GeoLeaf._LayerVisibilityManager.setVisibility() √† la place\n     * @private\n     */\n    LayerManager._showLayerInternal = function (layerId, layerData) {\n        const Log = getLog();\n        Log.warn(\"[GeoLeaf.GeoJSON] _showLayerInternal() est d√©pr√©ci√©, utiliser LayerVisibilityManager\");\n\n        // Rediriger vers le gestionnaire centralis√©\n        const VisibilityManager = GeoLeaf._LayerVisibilityManager;\n        if (VisibilityManager) {\n            VisibilityManager.setVisibility(\n                layerId,\n                true,\n                VisibilityManager.VisibilitySource.SYSTEM\n            );\n        }\n    };\n\n    /**\n     * Masque une couche (interne, sans v√©rifier visible).\n     * @deprecated Utiliser GeoLeaf._LayerVisibilityManager.setVisibility() √† la place\n     * @private\n     */\n    LayerManager._hideLayerInternal = function (layerId, layerData) {\n        const Log = getLog();\n        Log.warn(\"[GeoLeaf.GeoJSON] _hideLayerInternal() est d√©pr√©ci√©, utiliser LayerVisibilityManager\");\n\n        // Rediriger vers le gestionnaire centralis√©\n        const VisibilityManager = GeoLeaf._LayerVisibilityManager;\n        if (VisibilityManager) {\n            VisibilityManager.setVisibility(\n                layerId,\n                false,\n                VisibilityManager.VisibilitySource.SYSTEM\n            );\n        }\n    };\n\n    /**\n     * Met √† jour la visibilit√© des couches en fonction de layerScale du style actif.\n     * Respecte les pr√©f√©rences utilisateur (d√©sactivation manuelle ou par th√®me).\n     * Utilise le gestionnaire de visibilit√© centralis√© avec source 'zoom'.\n     * Ex√©cution imm√©diate pour r√©activit√© pendant le zoom (le debounce LayerManager.refresh √©vite les saccades d'UI).\n     */\n    LayerManager.updateLayerVisibilityByZoom = function () {\n        const state = getState();\n        const Log = getLog();\n        if (!state.map) return;\n\n        const VisibilityManager = GeoLeaf._LayerVisibilityManager;\n        if (!VisibilityManager) {\n            Log.error(\"[GeoLeaf.GeoJSON] LayerVisibilityManager non disponible\");\n            return;\n        }\n\n        const currentScale = (ScaleUtils && typeof ScaleUtils.calculateMapScale === \"function\")\n            ? ScaleUtils.calculateMapScale(state.map, { logger: Log })\n            : 0;\n\n        const normalizeScaleValue = (value) => {\n            if (typeof value !== \"number\") return null;\n            return value <= 0 ? null : value;\n        };\n\n        state.layers.forEach((layerData, layerId) => {\n            const config = layerData.config;\n            if (!config) return;\n\n            const hasCurrentStyle = !!layerData.currentStyle;\n            const styleScale = hasCurrentStyle ? layerData.currentStyle.layerScale : null;\n            if (!styleScale && hasCurrentStyle) {\n                if (Log && typeof Log.warn === \"function\") {\n                    Log.warn(`[GeoLeaf.GeoJSON] layerScale manquant pour ${layerId}, couche laiss√©e visible par d√©faut`);\n                }\n            }\n\n            const minScale = normalizeScaleValue(styleScale && styleScale.minScale);\n            const maxScale = normalizeScaleValue(styleScale && styleScale.maxScale);\n\n            const shouldBeVisibleByScale = (ScaleUtils && typeof ScaleUtils.isScaleInRange === \"function\")\n                ? ScaleUtils.isScaleInRange(currentScale, minScale, maxScale, Log)\n                : true;\n\n            // Base visibility: user override > theme intent > config default\n            const meta = layerData._visibility;\n            let baseVisible;\n            if (meta && meta.userOverride) {\n                // IMPORTANT: Pour userOverride, utiliser logicalState (√©tat bouton), pas current (√©tat zoom)\n                baseVisible = meta.logicalState;\n            } else if (meta && meta.themeOverride) {\n                baseVisible = meta.themeDesired;\n            } else {\n                // visibility.active parameter is deprecated - now managed by layerScale in style files\n                baseVisible = true;\n            }\n\n            // R√àGLE CRITIQUE :\n            // - L'AFFICHAGE sur la carte RESPECTE TOUJOURS les seuils de zoom\n            // - Le BOUTON (via logicalState) reste ind√©pendant du zoom\n            // - Utilisateur voit : bouton ON, mais couche cach√©e si hors zoom\n            const shouldBeVisible = baseVisible && shouldBeVisibleByScale;\n\n            VisibilityManager.setVisibility(\n                layerId,\n                shouldBeVisible,\n                VisibilityManager.VisibilitySource.ZOOM\n            );\n        });\n    };\n\n    /**\n     * √âmet un √©v√©nement de changement de visibilit√©.\n     *\n     * @param {string} layerId\n     * @param {boolean} visible\n     * @private\n     */\n    LayerManager._fireLayerVisibilityEvent = function (layerId, visible) {\n        const state = getState();\n        if (!state.map) return;\n\n        try {\n            state.map.fire(\"geoleaf:geojson:visibility-changed\", {\n                layerId: layerId,\n                visible: visible\n            });\n        } catch (e) {\n            // Silencieux\n        }\n    };\n\n})(window);\n","/**\n * GeoLeaf GeoJSON Layer Manager - Style\n * Style normalization, hatch patterns, style application\n *\n * @module geojson/layer-manager/style\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const getState = () => GeoLeaf._GeoJSONShared.state;\n    const getLog = () => (GeoLeaf.Log || console);\n\n    const LayerManager = GeoLeaf._GeoJSONLayerManager = GeoLeaf._GeoJSONLayerManager || {};\n\n    /**\n     * Cr√©e un pattern SVG pour le hachurage\n     * @private\n     * @param {string} layerId - ID de la couche (pour l'unicit√© du pattern)\n     * @param {Object} hatchConfig - Configuration du hachurage\n     * @returns {string} - ID du pattern SVG\n     */\n    function _createHatchPattern(layerId, hatchConfig) {\n        if (!hatchConfig || !hatchConfig.enabled) {\n            return null;\n        }\n\n        // Cr√©er un ID unique bas√© sur les param√®tres du hatch\n        const type = hatchConfig.type || 'diagonal';\n        const angle = hatchConfig.angleDeg || 0;\n        const spacing = hatchConfig.spacingPx || 10;\n        const strokeColor = (hatchConfig.stroke?.color || '#000000').replace('#', '');\n        const strokeWidth = hatchConfig.stroke?.widthPx || 1;\n        const strokeOpacity = hatchConfig.stroke?.opacity || 1;\n\n        // Hash des param√®tres pour cr√©er un ID unique\n        const configHash = `${type}-${angle}-${spacing}-${strokeColor}-${strokeWidth}-${strokeOpacity}`;\n        const patternId = `hatch-${layerId}-${configHash}`;\n\n        // Si le pattern existe d√©j√†, le r√©utiliser\n        const existingPattern = document.getElementById(patternId);\n        if (existingPattern) {\n            return patternId;\n        }\n\n        // Cr√©er le pattern SVG\n        const pattern = document.createElementNS('http://www.w3.org/2000/svg', 'pattern');\n        pattern.setAttribute('id', patternId);\n        pattern.setAttribute('patternUnits', 'userSpaceOnUse');\n        pattern.setAttribute('width', spacing);\n        pattern.setAttribute('height', spacing);\n\n        // Cr√©er les lignes selon le type\n        if (type === 'dot') {\n            // Pattern de points (stipple)\n            const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n            circle.setAttribute('cx', spacing / 2);\n            circle.setAttribute('cy', spacing / 2);\n            circle.setAttribute('r', Math.max(0.5, strokeWidth / 2));\n            circle.setAttribute('fill', `#${strokeColor}`);\n            circle.setAttribute('fill-opacity', strokeOpacity);\n            pattern.appendChild(circle);\n        } else if (type === 'cross') {\n            // Croix (horizontal + vertical)\n            const lineH = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n            lineH.setAttribute('x1', '0');\n            lineH.setAttribute('y1', spacing / 2);\n            lineH.setAttribute('x2', spacing);\n            lineH.setAttribute('y2', spacing / 2);\n            lineH.setAttribute('stroke', `#${strokeColor}`);\n            lineH.setAttribute('stroke-width', strokeWidth);\n            lineH.setAttribute('stroke-opacity', strokeOpacity);\n            pattern.appendChild(lineH);\n\n            const lineV = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n            lineV.setAttribute('x1', spacing / 2);\n            lineV.setAttribute('y1', '0');\n            lineV.setAttribute('x2', spacing / 2);\n            lineV.setAttribute('y2', spacing);\n            lineV.setAttribute('stroke', `#${strokeColor}`);\n            lineV.setAttribute('stroke-width', strokeWidth);\n            lineV.setAttribute('stroke-opacity', strokeOpacity);\n            pattern.appendChild(lineV);\n        } else if (type === 'x') {\n            // Croix diagonale (45¬∞ + 135¬∞)\n            const line1 = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n            line1.setAttribute('x1', '0');\n            line1.setAttribute('y1', '0');\n            line1.setAttribute('x2', spacing);\n            line1.setAttribute('y2', spacing);\n            line1.setAttribute('stroke', `#${strokeColor}`);\n            line1.setAttribute('stroke-width', strokeWidth);\n            line1.setAttribute('stroke-opacity', strokeOpacity);\n            pattern.appendChild(line1);\n\n            const line2 = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n            line2.setAttribute('x1', spacing);\n            line2.setAttribute('y1', '0');\n            line2.setAttribute('x2', '0');\n            line2.setAttribute('y2', spacing);\n            line2.setAttribute('stroke', `#${strokeColor}`);\n            line2.setAttribute('stroke-width', strokeWidth);\n            line2.setAttribute('stroke-opacity', strokeOpacity);\n            pattern.appendChild(line2);\n        } else {\n            // Simple ligne (diagonal, horizontal, vertical)\n            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n\n            if (type === 'horizontal' || angle === 0) {\n                line.setAttribute('x1', '0');\n                line.setAttribute('y1', spacing / 2);\n                line.setAttribute('x2', spacing);\n                line.setAttribute('y2', spacing / 2);\n            } else if (type === 'vertical' || angle === 90) {\n                line.setAttribute('x1', spacing / 2);\n                line.setAttribute('y1', '0');\n                line.setAttribute('x2', spacing / 2);\n                line.setAttribute('y2', spacing);\n            } else {\n                // Diagonal avec angle - cr√©er une vraie diagonale\n                line.setAttribute('x1', '0');\n                line.setAttribute('y1', '0');\n                line.setAttribute('x2', spacing);\n                line.setAttribute('y2', spacing);\n                // Appliquer la rotation depuis le centre du pattern\n                if (angle != null && angle !== 45) {\n                    const centerX = spacing / 2;\n                    const centerY = spacing / 2;\n                    pattern.setAttribute('patternTransform', `rotate(${angle} ${centerX} ${centerY})`);\n                }\n            }\n\n            line.setAttribute('stroke', `#${strokeColor}`);\n            line.setAttribute('stroke-width', strokeWidth);\n            line.setAttribute('stroke-opacity', strokeOpacity);\n            pattern.appendChild(line);\n        }\n\n        // Retourner juste l'ID du pattern\n        // Les patterns seront cr√©√©s dans _applyHatchToLayer quand le SVG Leaflet existe\n        return patternId;\n    }\n\n    /**\n     * Applique le hachurage SVG √† un layer Leaflet\n     * @private\n     * @param {L.Layer} layer - Layer Leaflet\n     * @param {string} patternId - ID du pattern SVG\n     */\n    function _applyHatchToLayer(layer, patternId, hatchConfig) {\n        if (!layer || !patternId) return;\n\n        // Log supprim√© pour √©viter des milliers de logs dans les boucles eachLayer\n        // ...log supprim√© pour √©viter du bruit inutile...\n\n        // S'assurer que le pattern existe dans le SVG de Leaflet\n        let mapSvg = document.querySelector('.leaflet-overlay-pane svg');\n        if (!mapSvg) {\n            // Retry avec d√©lai si SVG n'existe pas encore\n            const retryCount = 5;\n            const retryDelay = 100; // ms\n            let attempts = 0;\n            const tryApplyHatch = () => {\n                mapSvg = document.querySelector('.leaflet-overlay-pane svg');\n                if (mapSvg) {\n                    _applyHatchToLayer(layer, patternId, hatchConfig);\n                    return;\n                }\n                attempts++;\n                if (attempts < retryCount) {\n                    setTimeout(tryApplyHatch, retryDelay);\n                }\n            };\n            setTimeout(tryApplyHatch, retryDelay);\n            return;\n        }\n\n        // V√©rifier si le pattern existe d√©j√†\n        let pattern = mapSvg.querySelector(`#${patternId}`);\n        if (!pattern && hatchConfig) {\n            // Cr√©er le pattern maintenant\n            const spacing = hatchConfig.spacingPx || 10;\n            const type = hatchConfig.type || 'diagonal';\n            const angle = hatchConfig.angleDeg;\n            const strokeColor = hatchConfig.stroke?.color || '#000000';\n            const strokeWidth = hatchConfig.stroke?.widthPx || 1;\n            const strokeOpacity = hatchConfig.stroke?.opacity || 1;\n\n            // Assurer que la couleur a toujours le # pour les attributs SVG\n            const colorWithHash = strokeColor.startsWith('#') ? strokeColor : `#${strokeColor}`;\n\n            pattern = document.createElementNS('http://www.w3.org/2000/svg', 'pattern');\n            pattern.setAttribute('id', patternId);\n            pattern.setAttribute('patternUnits', 'userSpaceOnUse');\n            pattern.setAttribute('width', spacing);\n            pattern.setAttribute('height', spacing);\n\n            // Cr√©er le contenu selon le type\n            if (type === 'dot') {\n                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n                circle.setAttribute('cx', spacing / 2);\n                circle.setAttribute('cy', spacing / 2);\n                // Rayon proportionnel au spacing:\n                // Plus petit spacing (plus dense) = points plus petits\n                // Plus grand spacing (moins dense) = points plus gros pour compenser\n                // spacing 6px ‚Üí r=0.42, spacing 12px ‚Üí r=0.84\n                circle.setAttribute('r', Math.max(0.3, spacing * 0.07));\n                circle.setAttribute('fill', colorWithHash);\n                circle.setAttribute('fill-opacity', strokeOpacity);\n                pattern.appendChild(circle);\n            } else if (type === 'diagonal') {\n                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n                line.setAttribute('x1', '0');\n                line.setAttribute('y1', '0');\n                line.setAttribute('x2', spacing);\n                line.setAttribute('y2', spacing);\n                line.setAttribute('stroke', colorWithHash);\n                line.setAttribute('stroke-width', strokeWidth);\n                line.setAttribute('stroke-opacity', strokeOpacity);\n                if (angle != null && angle !== 45) {\n                    const centerX = spacing / 2;\n                    const centerY = spacing / 2;\n                    pattern.setAttribute('patternTransform', `rotate(${angle} ${centerX} ${centerY})`);\n                }\n                pattern.appendChild(line);\n            } else if (type === 'cross') {\n                // Ligne horizontale\n                const hLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n                hLine.setAttribute('x1', '0');\n                hLine.setAttribute('y1', spacing / 2);\n                hLine.setAttribute('x2', spacing);\n                hLine.setAttribute('y2', spacing / 2);\n                hLine.setAttribute('stroke', colorWithHash);\n                hLine.setAttribute('stroke-width', strokeWidth);\n                hLine.setAttribute('stroke-opacity', strokeOpacity);\n                pattern.appendChild(hLine);\n                // Ligne verticale\n                const vLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n                vLine.setAttribute('x1', spacing / 2);\n                vLine.setAttribute('y1', '0');\n                vLine.setAttribute('x2', spacing / 2);\n                vLine.setAttribute('y2', spacing);\n                vLine.setAttribute('stroke', colorWithHash);\n                vLine.setAttribute('stroke-width', strokeWidth);\n                vLine.setAttribute('stroke-opacity', strokeOpacity);\n                pattern.appendChild(vLine);\n            } else if (type === 'x') {\n                // Diagonale principal (TL to BR)\n                const line1 = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n                line1.setAttribute('x1', '0');\n                line1.setAttribute('y1', '0');\n                line1.setAttribute('x2', spacing);\n                line1.setAttribute('y2', spacing);\n                line1.setAttribute('stroke', colorWithHash);\n                line1.setAttribute('stroke-width', strokeWidth);\n                line1.setAttribute('stroke-opacity', strokeOpacity);\n                pattern.appendChild(line1);\n                // Diagonale secondaire (TR to BL)\n                const line2 = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n                line2.setAttribute('x1', spacing);\n                line2.setAttribute('y1', '0');\n                line2.setAttribute('x2', '0');\n                line2.setAttribute('y2', spacing);\n                line2.setAttribute('stroke', colorWithHash);\n                line2.setAttribute('stroke-width', strokeWidth);\n                line2.setAttribute('stroke-opacity', strokeOpacity);\n                pattern.appendChild(line2);\n            } else if (type === 'horizontal') {\n                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n                line.setAttribute('x1', '0');\n                line.setAttribute('y1', spacing / 2);\n                line.setAttribute('x2', spacing);\n                line.setAttribute('y2', spacing / 2);\n                line.setAttribute('stroke', colorWithHash);\n                line.setAttribute('stroke-width', strokeWidth);\n                line.setAttribute('stroke-opacity', strokeOpacity);\n                pattern.appendChild(line);\n            } else if (type === 'vertical') {\n                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n                line.setAttribute('x1', spacing / 2);\n                line.setAttribute('y1', '0');\n                line.setAttribute('x2', spacing / 2);\n                line.setAttribute('y2', spacing);\n                line.setAttribute('stroke', colorWithHash);\n                line.setAttribute('stroke-width', strokeWidth);\n                line.setAttribute('stroke-opacity', strokeOpacity);\n                pattern.appendChild(line);\n            }\n\n            // Ajouter au defs du SVG\n            let defs = mapSvg.querySelector('defs');\n            if (!defs) {\n                defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');\n                mapSvg.insertBefore(defs, mapSvg.firstChild);\n            }\n            defs.appendChild(pattern);\n        }\n\n        // Fonction pour appliquer le pattern √† un √©l√©ment path\n        const applyToPath = (path) => {\n            if (path && path.setAttribute) {\n                const fillUrl = `url(#${patternId})`;\n                const currentFill = path.getAttribute('fill');\n\n                // N'appliquer que si diff√©rent (√©vite boucle infinie)\n                if (currentFill !== fillUrl) {\n                    path.setAttribute('fill', fillUrl);\n                }\n\n                // S'assurer que l'opacit√© de remplissage est visible pour les patterns\n                if (hatchConfig && hatchConfig.renderMode === 'pattern_only') {\n                    const curFillOpacity = path.getAttribute('fill-opacity');\n                    if (curFillOpacity == null || Number(curFillOpacity) <= 0) {\n                        path.setAttribute('fill-opacity', '1');\n                    }\n                }\n\n                // Observer les changements pour r√©appliquer le pattern\n                if (!path._hatchObserver) {\n                    const observer = new MutationObserver((mutations) => {\n                        mutations.forEach((mutation) => {\n                            if (mutation.type === 'attributes' && mutation.attributeName === 'fill') {\n                                const newFill = path.getAttribute('fill');\n                                // Ne r√©appliquer que si vraiment diff√©rent\n                                if (newFill !== fillUrl && !newFill.includes(patternId)) {\n                                    path.setAttribute('fill', fillUrl);\n                                }\n                            }\n                        });\n                    });\n                    observer.observe(path, { attributes: true, attributeFilter: ['fill'] });\n                    path._hatchObserver = observer;\n                }\n            }\n        };\n\n        // Pour les layers individuels\n        if (layer._path) {\n            applyToPath(layer._path);\n        }\n\n        // Pour les groupes de layers\n        if (typeof layer.eachLayer === 'function') {\n            layer.eachLayer(sublayer => {\n                if (sublayer._path) {\n                    applyToPath(sublayer._path);\n                }\n            });\n        }\n    }\n\n    /**\n     * Normalise le format de style vers le format Leaflet\n     * @private\n     * @param {Object} style - Style source (format imbriqu√© ou plat)\n     * @param {string} layerId - ID de la couche (pour les patterns SVG)\n     * @returns {Object} - Style normalis√© au format Leaflet\n     */\n    function _normalizeStyleToLeaflet(style, layerId) {\n        if (!style || typeof style !== 'object') {\n            return {};\n        }\n\n        const normalized = {};\n\n        // Nouveau format imbriqu√© avec fill/stroke\n        if (style.fill || style.stroke) {\n            // Fill (remplissage)\n            if (style.fill) {\n                if (style.fill.color) normalized.fillColor = style.fill.color;\n                if (typeof style.fill.opacity === 'number') normalized.fillOpacity = style.fill.opacity;\n                if (style.fill.pattern) normalized.fillPattern = style.fill.pattern;\n            }\n\n            // Si hatch avec renderMode=\"pattern_only\", forcer un fillColor et une fillOpacity visible\n            // (Leaflet a besoin d'un fillColor pour appliquer un pattern et l'opacit√© doit √™tre > 0)\n            if (style.hatch && style.hatch.enabled && style.hatch.renderMode === 'pattern_only') {\n                if (!normalized.fillColor) normalized.fillColor = '#ffffff';\n                // Override toute valeur de fill.opacity fournie par le style (souvent 0.0) pour rendre le pattern visible\n                normalized.fillOpacity = 1.0;\n            }\n\n            // Stroke (contour)\n            if (style.stroke) {\n                if (style.stroke.color) normalized.color = style.stroke.color;\n                if (typeof style.stroke.opacity === 'number') normalized.opacity = style.stroke.opacity;\n                if (typeof style.stroke.widthPx === 'number') normalized.weight = style.stroke.widthPx;\n                if (style.stroke.dashArray) normalized.dashArray = style.stroke.dashArray;\n                if (style.stroke.lineCap) normalized.lineCap = style.stroke.lineCap;\n                if (style.stroke.lineJoin) normalized.lineJoin = style.stroke.lineJoin;\n            }\n\n            // Casing (bordure/contour pour polylines)\n            if (style.casing && style.casing.enabled) {\n                normalized._casing = {\n                    enabled: true,\n                    color: style.casing.color || '#000000',\n                    opacity: typeof style.casing.opacity === 'number' ? style.casing.opacity : 1.0,\n                    weight: typeof style.casing.widthPx === 'number' ? style.casing.widthPx : 1.0,\n                    dashArray: style.casing.dashArray || null,\n                    lineCap: style.casing.lineCap || null,\n                    lineJoin: style.casing.lineJoin || null\n                };\n            }\n\n            // Propri√©t√©s communes\n            if (style.shape) normalized.shape = style.shape;\n            if (typeof style.sizePx === 'number') {\n                normalized.radius = style.sizePx;\n                normalized.sizePx = style.sizePx;\n            }\n\n            // Hatch (hachurage) - copie de la structure compl√®te\n            if (style.hatch) {\n                normalized.hatch = { ...style.hatch };\n                // Normaliser le stroke du hatch si pr√©sent\n                if (style.hatch.stroke) {\n                    const hatchStroke = {};\n                    if (style.hatch.stroke.color) hatchStroke.color = style.hatch.stroke.color;\n                    if (typeof style.hatch.stroke.opacity === 'number') hatchStroke.opacity = style.hatch.stroke.opacity;\n                    if (typeof style.hatch.stroke.widthPx === 'number') hatchStroke.widthPx = style.hatch.stroke.widthPx;\n                    normalized.hatch.stroke = hatchStroke;\n                }\n\n                // Cr√©er le pattern SVG et l'appliquer comme fillPattern\n                if (style.hatch.enabled && layerId) {\n                    const patternId = _createHatchPattern(layerId, style.hatch);\n                    if (patternId) {\n                        // Stocker l'ID du pattern pour application ult√©rieure\n                        normalized._hatchPatternId = patternId;\n\n                        // Si renderMode = \"pattern_only\", on utilise le pattern comme fill\n                        // IMPORTANT: on NE d√©finit PAS fillOpacity=0 car cela rendrait le pattern invisible!\n                        // Le pattern SVG s'affichera avec son propre rendu via l'attribut fill=\"url(#pattern-id)\"\n                        if (style.hatch.renderMode === 'pattern_only') {\n                            // Rendre le pattern visible: fillOpacity doit √™tre > 0 et un fillColor doit exister\n                            normalized.fillColor = normalized.fillColor || '#ffffff';\n                            normalized.fillOpacity = 1.0;\n                        }\n                    }\n                }\n            }\n        }\n        // Ancien format plat (r√©trocompatibilit√©)\n        else {\n            // Copier toutes les propri√©t√©s directement\n            Object.assign(normalized, style);\n        }\n\n        return normalized;\n    }\n\n    /**\n     * Applique un nouveau style √† une couche existante.\n     * Utilis√© par le module Themes pour changer dynamiquement l'apparence.\n     *\n     * @param {string} layerId - ID de la couche\n     * @param {Object} styleConfig - Configuration du style { style, styleRules }\n     * @returns {boolean} - true si le style a √©t√© appliqu√© avec succ√®s\n     */\n    LayerManager.setLayerStyle = function (layerId, styleConfig) {\n        const state = getState();\n        const Log = getLog();\n        const layerData = state.layers.get(layerId);\n\n        if (!layerData) {\n            Log.warn(\"[GeoLeaf.GeoJSON] setLayerStyle: couche introuvable :\", layerId);\n            return false;\n        }\n\n        const leafletLayer = layerData.layer;\n        if (!leafletLayer || typeof leafletLayer.setStyle !== 'function') {\n            Log.warn(\"[GeoLeaf.GeoJSON] setLayerStyle: couche sans m√©thode setStyle :\", layerId);\n            return false;\n        }\n\n        // Pr√©parer le style par d√©faut (ne pas utiliser defaultStyle qui peut contenir les anciennes valeurs)\n        const baseStyle = {\n            color: '#3388ff',\n            weight: 3,\n            opacity: 0.65,\n            fillColor: '#3388ff',\n            fillOpacity: 0.2\n        };\n\n        // Normaliser le style (defaultStyle ou style) vers format Leaflet\n        const rawStyle = styleConfig.defaultStyle || styleConfig.style || {};\n        const normalizedStyle = _normalizeStyleToLeaflet(rawStyle, layerId);\n        const defaultStyle = Object.assign({}, baseStyle, normalizedStyle);\n\n        // Pr√©parer les styleRules\n        const styleRules = Array.isArray(styleConfig.styleRules) ? styleConfig.styleRules : [];\n\n        // Fonction de style dynamique\n        const styleFn = (feature) => {\n            // 1. Commencer avec le style par d√©faut\n            let finalStyle = Object.assign({}, defaultStyle);\n\n            // 2. Appliquer les styleRules (premi√®re r√®gle correspondante gagne)\n            if (styleRules.length > 0 && GeoLeaf._GeoJSONStyleResolver) {\n                const matchedStyle = GeoLeaf._GeoJSONStyleResolver.evaluateStyleRules(feature, styleRules);\n                if (matchedStyle) {\n                    // Normaliser le style de la r√®gle vers format Leaflet\n                    const normalizedRuleStyle = _normalizeStyleToLeaflet(matchedStyle, layerId);\n                    finalStyle = Object.assign({}, finalStyle, normalizedRuleStyle);\n                }\n            }\n\n            // 3. NE PAS appliquer properties.style ou properties.color pour permettre aux r√®gles de s'appliquer\n            // Comment√© car cela √©crase les r√®gles de style\n            // const featureStyle = feature && feature.properties && feature.properties.style\n            //     ? feature.properties.style\n            //     : null;\n            // if (featureStyle) {\n            //     finalStyle = Object.assign({}, finalStyle, featureStyle);\n            // }\n\n            return finalStyle;\n        };\n\n        // Appliquer le style √† toutes les features de la couche\n        try {\n            let styled = 0;\n            let skipped = 0;\n            let markersRecreated = 0;\n            const layersToRecreate = [];\n\n            // Premi√®re passe : identifier et styler ou marquer pour recr√©ation\n            leafletLayer.eachLayer(function(layer) {\n                if (!layer.feature) {\n                    skipped++;\n                    return;\n                }\n\n                const style = styleFn(layer.feature);\n\n                // Cas 1: Layers avec setStyle (Path, CircleMarker, Polyline, etc.)\n                if (layer.setStyle && typeof layer.setStyle === 'function') {\n                    layer.setStyle(style);\n                    styled++;\n\n                    // G√©rer le casing (bordure pour polylines)\n                    if (style._casing && style._casing.enabled && layer instanceof global.L.Polyline && !(layer instanceof global.L.Polygon)) {\n                        const casingConfig = style._casing;\n\n                        // Cr√©er ou mettre √† jour la polyline de casing (dessous, plus large)\n                        if (!layer._casingLayer) {\n                            // Cr√©er une nouvelle couche de casing\n                            const casingStyle = {\n                                color: casingConfig.color,\n                                opacity: casingConfig.opacity,\n                                weight: casingConfig.weight,\n                                dashArray: casingConfig.dashArray,\n                                lineCap: casingConfig.lineCap || 'butt',\n                                lineJoin: casingConfig.lineJoin || 'miter',\n                                fill: false\n                            };\n\n                            layer._casingLayer = global.L.polyline(layer.getLatLngs(), casingStyle);\n                            // Ajouter la couche de casing au m√™me parent (group ou map)\n                            if (leafletLayer && leafletLayer.addLayer) {\n                                leafletLayer.addLayer(layer._casingLayer);\n                            } else if (layer._map) {\n                                layer._map.addLayer(layer._casingLayer);\n                            }\n                            // Mettre la couche de casing derri√®re la couche principale\n                            if (layer._casingLayer.setZIndex) {\n                                layer._casingLayer.setZIndex((layer.options.zIndex || 0) - 1);\n                            }\n                        } else {\n                            // Mettre √† jour le style existant\n                            layer._casingLayer.setStyle({\n                                color: casingConfig.color,\n                                opacity: casingConfig.opacity,\n                                weight: casingConfig.weight,\n                                dashArray: casingConfig.dashArray,\n                                lineCap: casingConfig.lineCap || 'butt',\n                                lineJoin: casingConfig.lineJoin || 'miter'\n                            });\n                        }\n                    } else if (!style._casing || !style._casing.enabled) {\n                        // Supprimer la couche de casing si elle existe mais n'est plus n√©cessaire\n                        if (layer._casingLayer && leafletLayer && leafletLayer.removeLayer) {\n                            leafletLayer.removeLayer(layer._casingLayer);\n                            layer._casingLayer = null;\n                        }\n                    }\n\n                    // Appliquer le hachurage si pr√©sent dans ce style\n                    if (style._hatchPatternId && style.hatch) {\n                        const patternId = style._hatchPatternId;\n                        const hatchConfig = style.hatch;\n                        // Log supprim√© pour √©viter des milliers de logs (appel√© pour chaque feature)\n                        // ...log supprim√© pour √©viter du bruit inutile...\n\n                        // Appliquer imm√©diatement si le path existe\n                        if (layer._path) {\n                            setTimeout(() => {\n                                _applyHatchToLayer(layer, patternId, hatchConfig);\n                            }, 0);\n                        }\n\n                        // Ajouter aussi un listener pour quand le layer est ajout√©/re-ajout√©\n                        if (!layer._hatchPatternId || layer._hatchPatternId !== patternId) {\n                            layer._hatchPatternId = patternId;\n\n                            // Supprimer l'ancien listener s'il existe\n                            if (layer._hatchListener) {\n                                layer.off('add', layer._hatchListener);\n                            }\n\n                            // Cr√©er le nouveau listener\n                            layer._hatchListener = function() {\n                                if (this._path) {\n                                    _applyHatchToLayer(this, patternId, hatchConfig);\n                                }\n                            };\n\n                            layer.on('add', layer._hatchListener);\n                        }\n                    }\n                }\n                // Cas 2: Markers avec ic√¥nes - besoin de recr√©er avec nouvelle ic√¥ne\n                else if (global.L && layer instanceof global.L.Marker) {\n                    layersToRecreate.push({ layer, feature: layer.feature, style });\n                } else {\n                    skipped++;\n                }\n            });\n\n            // Seconde passe : recr√©er les markers avec les nouvelles couleurs\n            if (layersToRecreate.length > 0) {\n                const POIMarkers = global.GeoLeaf && global.GeoLeaf._POIMarkers;\n\n                layersToRecreate.forEach(({ layer, feature, style }) => {\n                    const latlng = layer.getLatLng();\n\n                    // Utiliser le syst√®me POI pour cr√©er une nouvelle ic√¥ne color√©e\n                    if (POIMarkers && typeof POIMarkers.buildMarkerIcon === 'function') {\n                        const poiData = {\n                            ...feature.properties,\n                            latlng: [latlng.lat, latlng.lng],\n                            attributes: feature.properties.attributes || {},\n                            _layerConfig: { style: style } // Passer le style pour resolveCategoryColors\n                        };\n\n                        let displayConfig = {};\n                        if (typeof POIMarkers.resolveCategoryDisplay === 'function') {\n                            displayConfig = POIMarkers.resolveCategoryDisplay(poiData);\n                        }\n\n                        // Override avec tous les param√®tres du style\n                        if (style.fillColor) {\n                            displayConfig.colorFill = style.fillColor;\n                        }\n                        if (style.color) {\n                            displayConfig.colorStroke = style.color;\n                        }\n                        if (typeof style.radius === 'number') {\n                            displayConfig.radius = style.radius;\n                        }\n                        if (typeof style.weight === 'number') {\n                            displayConfig.weight = style.weight;\n                        }\n                        if (typeof style.fillOpacity === 'number') {\n                            displayConfig.fillOpacity = style.fillOpacity;\n                        }\n                        if (typeof style.opacity === 'number') {\n                            displayConfig.opacity = style.opacity;\n                        }\n\n                        const newIcon = POIMarkers.buildMarkerIcon(displayConfig);\n                        layer.setIcon(newIcon);\n                        markersRecreated++;\n                    } else {\n                        // Fallback: remplacer par un CircleMarker\n                        const newMarker = global.L.circleMarker(latlng, style);\n                        newMarker.feature = feature;\n                        leafletLayer.removeLayer(layer);\n                        leafletLayer.addLayer(newMarker);\n                        markersRecreated++;\n                    }\n                });\n            }\n\n            Log.debug(`[GeoLeaf.GeoJSON] Style appliqu√©: ${styled + markersRecreated} features (${styled} setStyle, ${markersRecreated} markers)`);\n\n            // Appliquer le hachurage global uniquement si pas de styleRules avec hatch\n            const hasHatchInRules = styleRules.some(rule => rule.style?.hatch?.enabled);\n\n            if (defaultStyle._hatchPatternId && !hasHatchInRules) {\n                const patternId = defaultStyle._hatchPatternId;\n\n                // Appliquer imm√©diatement\n                _applyHatchToLayer(leafletLayer, patternId);\n\n                // Log r√©sum√© au lieu de logs individuels\n                Log.debug(`[GeoLeaf.GeoJSON] Hachures appliqu√©es: pattern=${patternId}, features=${styled}`);\n\n                // Supprimer les anciens listeners pour √©viter les doublons\n                if (layerData._hatchListeners) {\n                    leafletLayer.off('add', layerData._hatchListeners.onAdd);\n                    if (global.L && global.L.DomEvent) {\n                        leafletLayer.eachLayer(layer => {\n                            if (layer._path) {\n                                layer.off('add', layerData._hatchListeners.onLayerAdd);\n                            }\n                        });\n                    }\n                }\n\n                // Cr√©er les listeners pour r√©appliquer le hachurage apr√®s les redraws\n                const onAdd = () => {\n                    setTimeout(() => _applyHatchToLayer(leafletLayer, patternId), 0);\n                };\n\n                const onLayerAdd = function() {\n                    if (this._path) {\n                        this._path.setAttribute('fill', `url(#${patternId})`);\n                    }\n                };\n\n                // Ajouter les listeners\n                leafletLayer.on('add', onAdd);\n                leafletLayer.eachLayer(layer => {\n                    if (layer._path) {\n                        layer.on('add', onLayerAdd);\n                    }\n                });\n\n                // Stocker les listeners pour nettoyage futur\n                layerData._hatchListeners = { onAdd, onLayerAdd };\n                layerData._hatchPatternId = patternId;\n            }\n\n            // Mettre √† jour la config stock√©e pour que les futures √©valuations utilisent le nouveau style\n            layerData.config = Object.assign({}, layerData.config, {\n                style: styleConfig.defaultStyle || styleConfig.style,\n                styleRules: styleRules\n            });\n\n            // Stocker currentStyle pour les labels\n            layerData.currentStyle = styleConfig;\n\n            // Mettre √† jour l'√©tat du bouton des labels imm√©diatement\n            if (GeoLeaf._LabelButtonManager) {\n                GeoLeaf._LabelButtonManager.syncImmediate(layerId);\n            }\n\n            // R√©√©valuer la visibilit√© apr√®s application du style (layerScale)\n            if (GeoLeaf._GeoJSONLayerManager && typeof GeoLeaf._GeoJSONLayerManager.updateLayerVisibilityByZoom === \"function\") {\n                GeoLeaf._GeoJSONLayerManager.updateLayerVisibilityByZoom();\n            }\n\n            Log.debug(\"[GeoLeaf.GeoJSON] Style appliqu√© avec succ√®s :\", layerId);\n            return true;\n        } catch (err) {\n            Log.error(\"[GeoLeaf.GeoJSON] Erreur setLayerStyle :\", layerId, err.message);\n            return false;\n        }\n    };\n\n})(window);\n","/**\n * GeoLeaf GeoJSON Layer Manager - Integration\n * Layer Manager UI registration, legend loading, populate with all configs\n *\n * @module geojson/layer-manager/integration\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const getState = () => GeoLeaf._GeoJSONShared.state;\n    const getLog = () => (GeoLeaf.Log || console);\n\n    const LayerManager = GeoLeaf._GeoJSONLayerManager = GeoLeaf._GeoJSONLayerManager || {};\n\n    /**\n     * Enregistre les couches dans le module LayerManager.\n     */\n    LayerManager.registerWithLayerManager = function () {\n        const state = getState();\n        const Log = getLog();\n        const LMgr = GeoLeaf.LayerManager;\n\n        Log.info(`[GeoLeaf.GeoJSON] registerWithLayerManager() appel√© avec ${state.layers.size} couche(s)`);\n\n        if (!LMgr || typeof LMgr._registerGeoJsonLayer !== \"function\") {\n            Log.warn(\"[GeoLeaf.GeoJSON] Module LayerManager non disponible, pas d'int√©gration gestionnaire de couches\");\n            return;\n        }\n\n        // Grouper les layers par idSection\n        const sectionMap = new Map();\n\n        state.layers.forEach((layerData, id) => {\n            // Log pour debug - VOIR TOUTES LES COUCHES\n            // Utiliser layerManagerId d√©fini dans layer.json\n            const sectionId = layerData.config.layerManagerId || \"geojson-default\";\n\n            if (!sectionMap.has(sectionId)) {\n                sectionMap.set(sectionId, {\n                    id: sectionId,\n                    order: 99,\n                    items: []\n                });\n            }\n\n            const type = LayerManager.detectLayerType(layerData.layer);\n            let legendType = \"fill\";\n            if (type === \"poi\") legendType = \"circle\";\n            else if (type === \"route\") legendType = \"line\";\n            else if (type === \"area\") legendType = \"fill\";\n\n            let color = \"#3388ff\";\n            if (layerData.config.style) {\n                color = layerData.config.style.fillColor || layerData.config.style.color || color;\n            } else if (layerData.config.pointStyle) {\n                color = layerData.config.pointStyle.fillColor || color;\n            }\n\n            // D√©tecter si la couche a des labels (dans la config OU dans le style courant)\n            let hasLabels = false;\n            let labelsConfig = null;\n\n            // V√©rifier d'abord dans la config de la couche\n            if (layerData.config.labels && layerData.config.labels.enabled) {\n                hasLabels = true;\n                labelsConfig = layerData.config.labels;\n            }\n\n            // V√©rifier ensuite dans le style actuel (currentStyle)\n            if (!hasLabels && layerData.currentStyle && layerData.currentStyle.label && layerData.currentStyle.label.enabled) {\n                hasLabels = true;\n                // Cr√©er une config de labels minimale bas√©e sur le style\n                labelsConfig = { enabled: true };\n            }\n\n            // Log pour TOUTES les couches pour comprendre le probl√®me\n            if (Log) {\n                Log.info(`[GeoJSON LayerManager] üîç Pr√©paration item ${id}:`, {\n                    hasConfig: !!layerData.config,\n                    hasStyles: !!(layerData.config && layerData.config.styles),\n                    styles: layerData.config ? layerData.config.styles : 'NO CONFIG',\n                    configKeys: layerData.config ? Object.keys(layerData.config).sort() : []\n                });\n            }\n\n            sectionMap.get(sectionId).items.push({\n                id: id,\n                label: layerData.label,\n                type: legendType,\n                color: color,\n                visible: layerData.visible,\n                toggleable: true,\n                order: 0,\n                zIndex: layerData.config.zIndex || 0,\n                themes: layerData.config.themes || null,\n                labels: hasLabels ? labelsConfig : null,\n                styles: layerData.config.styles || null\n            });\n        });\n\n        // Ajouter chaque section au gestionnaire de couches\n        sectionMap.forEach((section) => {\n            // Trier les items par zIndex d√©croissant (zIndex √©lev√© = en haut = affich√© au-dessus)\n            section.items.sort((a, b) => (b.zIndex || 0) - (a.zIndex || 0));\n\n            // Enregistrer chaque couche dans le LayerManager\n            section.items.forEach((item) => {\n                Log.debug(`[GeoLeaf.GeoJSON] Enregistrement couche \"${item.id}\" dans section \"${section.id}\"`);\n                LMgr._registerGeoJsonLayer(item.id, {\n                    layerManagerId: section.id,\n                    label: item.label,\n                    themes: item.themes,\n                    styles: item.styles,\n                    labels: item.labels\n                });\n            });\n\n            Log.debug(\"[GeoLeaf.GeoJSON] Section couche '\" + section.id + \"' cr√©√©e avec \" + section.items.length + \" couche(s)\");\n        });\n    };\n\n    /**\n     * Charge la l√©gende d'une couche si disponible\n     * @param {string} layerId - ID de la couche\n     * @param {Object} layerData - Donn√©es de la couche\n     * @private\n     */\n    LayerManager._loadLayerLegend = function (layerId, layerData) {\n        const Log = getLog();\n\n        const config = layerData.config || {};\n\n        // Nouveau flux : g√©n√©rer la l√©gende depuis le style JSON\n        if (GeoLeaf.Legend && typeof GeoLeaf.Legend.loadLayerLegend === \"function\") {\n            // D√©terminer le style courant\n            const styleSelector = GeoLeaf._LayerManagerStyleSelector;\n            let styleId = null;\n\n            if (styleSelector && typeof styleSelector.getCurrentStyle === \"function\") {\n                styleId = styleSelector.getCurrentStyle(layerId) || null;\n            }\n\n            // Fallback depuis metadata √©ventuelle\n            if (!styleId && layerData.currentStyleMetadata && layerData.currentStyleMetadata.id) {\n                styleId = layerData.currentStyleMetadata.id;\n            }\n\n            // Fallback depuis la config de styles\n            if (!styleId && config.styles && Array.isArray(config.styles.available)) {\n                const available = config.styles.available;\n                // Essayer de trouver l'ID correspondant au fichier default\n                const defaultFile = config.styles.default;\n                const defaultByFile = defaultFile ? available.find(s => s.file === defaultFile) : null;\n                styleId = (defaultByFile && defaultByFile.id) || (available[0] && available[0].id) || \"default\";\n            }\n\n            if (!styleId) {\n                styleId = \"default\";\n            }\n\n            GeoLeaf.Legend.loadLayerLegend(layerId, styleId, config);\n            return;\n        }\n\n        // Legacy fallback: charger un fichier de l√©gende statique si d√©clar√©\n        if (!GeoLeaf.Legend || typeof GeoLeaf.Legend.addLayerLegend !== \"function\") {\n            return;\n        }\n\n        if (!config.legends || !Array.isArray(config.legends.available)) {\n            return;\n        }\n\n        let activeStyle = layerData.activeStyle;\n        if (!activeStyle && config.styles && Array.isArray(config.styles.available)) {\n            const defaultStyle = config.styles.available.find(s => s.id === \"default\");\n            activeStyle = defaultStyle ? defaultStyle.id : (config.styles.available[0] ? config.styles.available[0].id : \"default\");\n        }\n        if (!activeStyle) {\n            activeStyle = \"default\";\n        }\n\n        const legendEntry = config.legends.available.find(l => l.id === activeStyle);\n        if (!legendEntry || !legendEntry.file) {\n            Log.warn(`[GeoLeaf.GeoJSON] Pas de l√©gende trouv√©e pour le style ${activeStyle} de la couche ${layerId}`);\n            return;\n        }\n\n        const profileId = config._profileId;\n        const layerDir = config._layerDirectory;\n        const legendDir = config.legends.directory || \"legends\";\n\n        if (!profileId || !layerDir) {\n            Log.warn(\"[GeoLeaf.GeoJSON] M√©tadonn√©es manquantes (profileId ou layerDirectory) pour charger la l√©gende\");\n            return;\n        }\n\n        const Config = GeoLeaf.Config;\n        const dataCfg = Config && Config.get ? Config.get('data') : null;\n        const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || \"profiles\";\n\n        const legendPath = `${profilesBasePath}/${profileId}/${layerDir}/${legendDir}/${legendEntry.file}`;\n\n        fetch(legendPath)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(`HTTP ${response.status}`);\n                }\n                return response.json();\n            })\n            .then(legendData => {\n                GeoLeaf.Legend.addLayerLegend(layerId, activeStyle, legendData);\n                Log.debug(`[GeoLeaf.GeoJSON] L√©gende charg√©e pour ${layerId} (${activeStyle})`);\n            })\n            .catch(error => {\n                Log.warn(`[GeoLeaf.GeoJSON] Erreur chargement l√©gende pour ${layerId}:`, error.message);\n            });\n    };\n\n    /**\n     * Peuple le LayerManager avec TOUTES les configurations de couches disponibles.\n     * Contrairement √† registerWithLayerManager() qui ne montre que les couches charg√©es (th√®me actif),\n     * cette fonction affiche TOUTES les couches et met √† jour l'√©tat coch√© selon le th√®me actif.\n     *\n     * @param {Object} activeThemeConfig - Configuration du th√®me actif (contient liste des layers visibles)\n     * @returns {void}\n     */\n    LayerManager.populateLayerManagerWithAllConfigs = function(activeThemeConfig) {\n            // ...logs nettoy√©s...\n        const Log = getLog();\n        const LMgr = GeoLeaf.LayerManager;\n\n        if (!LMgr || typeof LMgr._registerGeoJsonLayer !== \"function\") {\n            Log.warn(\"[GeoLeaf.GeoJSON] populateLayerManagerWithAllConfigs: Module LayerManager non disponible\");\n            return;\n        }\n\n        if (!GeoLeaf._allLayerConfigs || !Array.isArray(GeoLeaf._allLayerConfigs)) {\n            Log.warn(\"[GeoLeaf.GeoJSON] populateLayerManagerWithAllConfigs: GeoLeaf._allLayerConfigs non disponible\");\n            return;\n        }\n\n        Log.info(`[GeoLeaf.GeoJSON] Peuplement LayerManager avec ${GeoLeaf._allLayerConfigs.length} configs de couches...`);\n        // ...log debug supprim√©...\n\n        // Obtenir la liste des couches actives du th√®me\n        // Les layers peuvent √™tre des objets {id, visible, style} ou des strings simples\n        let activeThemeLayers = [];\n        if (activeThemeConfig && Array.isArray(activeThemeConfig.layers)) {\n            activeThemeLayers = activeThemeConfig.layers.map(l => l.id || l);\n        }\n        Log.debug(`[GeoLeaf.GeoJSON] Couches actives du th√®me: ${activeThemeLayers.join(', ')}`);\n\n        // Grouper les configs par sectionId (layerManagerId)\n        const sectionMap = new Map();\n\n        GeoLeaf._allLayerConfigs.forEach(config => {\n            const sectionId = config.layerManagerId || \"geojson-default\";\n\n            if (!sectionMap.has(sectionId)) {\n                sectionMap.set(sectionId, {\n                    id: sectionId,\n                    items: []\n                });\n            }\n\n            // D√©terminer si la couche est active dans le th√®me courant\n            const isActive = activeThemeLayers.includes(config.id);\n\n            // Log pour debug - VOIR CE QUI EST DANS config POUR TOUTES LES COUCHES\n            // ...logs supprim√©s ([GeoJSON LayerManager] config debug)...\n\n            sectionMap.get(sectionId).items.push({\n                id: config.id,\n                label: config.label,\n                layerManagerId: sectionId,\n                themes: config.themes || null,\n                isActive: isActive,\n                zIndex: config.zIndex || 0,\n                styles: config.styles || null,\n                labels: config.labels || null\n            });\n        });\n\n        // Enregistrer chaque couche avec le LayerManager\n        sectionMap.forEach((section) => {\n            // Trier par zIndex d√©croissant\n            section.items.sort((a, b) => (b.zIndex || 0) - (a.zIndex || 0));\n\n            section.items.forEach((item) => {\n                Log.debug(`[GeoLeaf.GeoJSON] Enregistrement couche \"${item.id}\" dans section \"${section.id}\" (actif: ${item.isActive})`);\n                LMgr._registerGeoJsonLayer(item.id, {\n                    layerManagerId: section.id,\n                    label: item.label,\n                    themes: item.themes,\n                    checked: item.isActive,\n                    styles: item.styles,\n                    labels: item.labels\n                });\n            });\n\n            Log.debug(`[GeoLeaf.GeoJSON] Section \"${section.id}\" peupl√©e avec ${section.items.length} couche(s)`);\n        });\n\n        Log.info(`[GeoLeaf.GeoJSON] LayerManager peupl√© avec succ√®s`);\n\n        // Mettre √† jour l'UI du LayerManager si n√©cessaire\n        if (LMgr._updateUI && typeof LMgr._updateUI === \"function\") {\n            Log.debug(\"[GeoLeaf.GeoJSON] Appel LayerManager._updateUI()\");\n            LMgr._updateUI();\n        }\n    };\n\n})(window);\n","/**\n * GeoLeaf GeoJSON Module - Popup & Tooltip\n * Gestion des popups et tooltips unifi√©s\n *\n * @module geojson/popup-tooltip\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // D√©pendances lazy\n    const getState = () => GeoLeaf._GeoJSONShared.state;\n    const getLog = () => (GeoLeaf.Log || console);\n\n    GeoLeaf._GeoJSONPopupTooltip = GeoLeaf._GeoJSONPopupTooltip || {};\n\n    /**\n     * Convertit une feature GeoJSON en format POI pour le side panel.\n     * Utilise _Normalizer si disponible, sinon cr√©e un POI par d√©faut.\n     * Enrichissement centralis√© pour tous les POIs.\n     *\n     * @param {Object} feature - Feature GeoJSON\n     * @param {Object} def - D√©finition de la couche\n     * @returns {Object} - Objet POI format√©\n     */\n    GeoLeaf._GeoJSONPopupTooltip.convertFeatureToPOI = function (feature, def) {\n        let poi;\n\n        // Utiliser le Normalizer centralis√© si disponible\n        const Normalizer = GeoLeaf._Normalizer;\n        if (Normalizer && typeof Normalizer.normalizeFromGeoJSON === 'function') {\n            poi = Normalizer.normalizeFromGeoJSON(feature, def);\n        } else {\n            // Fallback: logique locale\n            const props = feature.properties || {};\n\n            poi = {\n                id: props.id || (\"geojson-feature-\" + Math.random().toString(36).substr(2, 9)),\n                // R√©solution case-insensitive du titre (28 janvier 2026)\n                title: props.NAME || props.Name || props.name ||\n                       props.TITLE || props.Title || props.title ||\n                       props.LABEL || props.Label || props.label || \"Sans titre\",\n                description: props.description || props.desc || \"\",\n                // Conserver properties pour compatibilit√© avec les configs qui utilisent \"properties.field\"\n                properties: { ...props },\n                attributes: {\n                    source: \"geojson\",\n                    layerId: def.id,\n                    layerLabel: def.label,\n                    ...props\n                }\n            };\n\n            // Ajouter les coordonn√©es dans tous les formats support√©s\n            if (feature.geometry && feature.geometry.coordinates) {\n                // Format latlng array [lat, lng] pour compatibilit√© POI\n                poi.latlng = [\n                    feature.geometry.coordinates[1], // lat\n                    feature.geometry.coordinates[0]  // lng\n                ];\n                // Format geometry pour compatibilit√© GeoJSON\n                poi.geometry = feature.geometry;\n                // Format location pour compatibilit√© legacy\n                poi.location = {\n                    lat: feature.geometry.coordinates[1],\n                    lng: feature.geometry.coordinates[0]\n                };\n            }\n        }\n\n        // Enrichissement centralis√© pour tous les POIs\n        if (poi) {\n            poi.attributes = poi.attributes || {};\n            poi.attributes.source = \"geojson\";\n            poi.attributes.layerId = def.id;\n            poi.attributes.layerLabel = def.label;\n\n            // Attacher la configuration de la couche\n            poi._layerConfig = def;\n\n            // Utiliser getSidepanelConfig pour la normalisation correcte\n            const Loader = GeoLeaf._GeoJSONLoader;\n            const sidepanelLayout = Loader && Loader.getSidepanelConfig ? Loader.getSidepanelConfig(def) : null;\n            if (sidepanelLayout) {\n                poi._sidepanelConfig = {\n                    detailLayout: sidepanelLayout\n                };\n            }\n        }\n\n        return poi;\n    };\n\n    /**\n     * Attache un popup unifi√© compatible avec le syst√®me POI.\n     *\n     * @param {Object} feature - Feature GeoJSON\n     * @param {L.Layer} layer - Couche Leaflet\n     * @param {Object} def - D√©finition de la couche\n     */\n    GeoLeaf._GeoJSONPopupTooltip.bindUnifiedPopup = function (feature, layer, def) {\n        const Log = getLog();\n\n        if (!feature.properties) return;\n\n        // Si interactiveShape est false, ne rien attacher (la couche est non-cliquable)\n        if (def.interactiveShape === false) {\n            return;\n        }\n\n        // V√©rifier le param√®tre showPopup de la couche (d√©faut: true)\n        const showPopup = typeof def.showPopup === 'boolean' ? def.showPopup : true;\n\n        // Si showPopup est false, mode DIRECT: toggle du panneau lat√©ral au clic (sans popup)\n        if (!showPopup) {\n            layer.on(\"click\", (e) => {\n                if (e && e.originalEvent) e.originalEvent.stopPropagation();\n\n                // Masquer le tooltip si pr√©sent\n                if (layer.getTooltip && layer.getTooltip()) {\n                    try {\n                        if (typeof layer.closeTooltip === 'function') layer.closeTooltip();\n                        else layer.unbindTooltip();\n                    } catch (err) { /* ignore */ }\n                }\n\n                if (GeoLeaf.POI && typeof GeoLeaf.POI.showPoiDetails === \"function\") {\n                    const poiData = GeoLeaf._GeoJSONPopupTooltip.convertFeatureToPOI(feature, def);\n                    const shared = GeoLeaf._POIShared && GeoLeaf._POIShared.state;\n                    const current = shared ? shared.currentPoiInPanel : null;\n\n                    // Toggle: si le m√™me POI est ouvert, fermer le panneau, sinon l'ouvrir\n                    if (current && poiData && current.id && poiData.id && current.id === poiData.id) {\n                        if (GeoLeaf.POI && typeof GeoLeaf.POI.hideSidePanel === 'function') {\n                            GeoLeaf.POI.hideSidePanel();\n                        }\n                    } else {\n                        GeoLeaf.POI.showPoiDetails(poiData);\n                    }\n                }\n            });\n            return;\n        }\n\n        // Si un popup existe d√©j√† (cr√©√© par POI Markers), le conserver\n        if (layer.getPopup()) {\n            return;\n        }\n\n        // Convertir la feature en POI normalis√©\n        const poiData = GeoLeaf._GeoJSONPopupTooltip.convertFeatureToPOI(feature, def);\n\n        // Utiliser ContentBuilder si disponible\n        const ContentBuilder = GeoLeaf._ContentBuilder;\n        // Utiliser le helper pour r√©cup√©rer la config popup (28 janvier 2026)\n        const Loader = GeoLeaf._GeoJSONLoader;\n\n        let popupConfig = null;\n        try {\n            popupConfig = Loader && Loader.getPopupConfig ? Loader.getPopupConfig(def) : null;\n        } catch (e) {\n            // ...log supprim√© ([DEBUG] bindUnifiedPopup - ERREUR getPopupConfig)...\n        }\n\n        // ...logs supprim√©s ([POPUP] bindUnifiedPopup)...\n        if (ContentBuilder && typeof ContentBuilder.buildPopupHTML === 'function') {\n            const markersModule = GeoLeaf._POIMarkers;\n            const resolveCategoryDisplay = markersModule && typeof markersModule.resolveCategoryDisplay === 'function'\n                ? markersModule.resolveCategoryDisplay\n                : null;\n\n            const popupContent = ContentBuilder.buildPopupHTML(poiData, popupConfig, {\n                resolveCategoryDisplay: resolveCategoryDisplay\n            });\n\n            if (popupContent) {\n                layer.bindPopup(popupContent);\n            }\n        } else {\n            // Fallback: utiliser POIPopup module\n            const popupModule = GeoLeaf._POIPopup;\n            if (popupModule && typeof popupModule.buildQuickPopupContent === 'function') {\n                const markersModule = GeoLeaf._POIMarkers;\n                const resolveCategoryDisplay = markersModule && typeof markersModule.resolveCategoryDisplay === 'function'\n                    ? markersModule.resolveCategoryDisplay\n                    : null;\n\n                const popupContent = popupModule.buildQuickPopupContent(poiData, resolveCategoryDisplay);\n                if (popupContent) {\n                    layer.bindPopup(popupContent);\n                }\n            } else {\n                // Fallback minimal sans modules\n                const Security = GeoLeaf.Security || {\n                    escapeHtml: (str) => {\n                        if (!str) return \"\";\n                        const div = document.createElement(\"div\");\n                        div.textContent = String(str);\n                        return div.innerHTML;\n                    }\n                };\n\n                const props = feature.properties;\n                const name = props.name || props.label || props.title || \"Sans titre\";\n                const description = props.description || props.desc || \"\";\n\n                let popupHtml = '<div class=\"gl-geojson-popup\">';\n                popupHtml += '<h3 class=\"gl-popup-title\">' + Security.escapeHtml(name) + '</h3>';\n\n                if (description) {\n                    popupHtml += '<p class=\"gl-popup-description\">' + Security.escapeHtml(description) + '</p>';\n                }\n\n                if (GeoLeaf.POI && typeof GeoLeaf.POI.showPoiDetails === \"function\") {\n                    popupHtml += '<a href=\"#\" class=\"gl-poi-popup__link\" data-layer-id=\"' + def.id + '\" data-feature-id=\"' + (props.id || '') + '\">Voir d√©tails ‚Üí</a>';\n                }\n\n                popupHtml += '</div>';\n                layer.bindPopup(popupHtml);\n            }\n        }\n\n        // Flag pour tracker l'√©tat du popup\n        layer._geoleafPopupActive = false;\n\n        // Fermer le tooltip quand le popup s'ouvre\n        layer.on('popupopen', () => {\n            layer._geoleafPopupActive = true;\n\n            // Fermer le tooltip si pr√©sent\n            if (layer.getTooltip && layer.getTooltip()) {\n                try {\n                    if (typeof layer.closeTooltip === 'function') {\n                        layer.closeTooltip();\n                    }\n                } catch (err) {\n                    Log.warn('[GeoJSON] Erreur fermeture tooltip:', err);\n                }\n            }\n\n            // D√©l√©gation d'√©v√©nement pour le lien \"Voir d√©tails\"\n            const popup = layer.getPopup();\n            if (!popup) return;\n\n            const popupEl = popup.getElement();\n            if (!popupEl) return;\n\n            const link = popupEl.querySelector('.gl-poi-popup__link');\n            if (link) {\n                link.addEventListener('click', (e) => {\n                    e.preventDefault();\n                    if (GeoLeaf.POI && typeof GeoLeaf.POI.showPoiDetails === \"function\") {\n                        const poiData = GeoLeaf._GeoJSONPopupTooltip.convertFeatureToPOI(feature, def);\n                        GeoLeaf.POI.showPoiDetails(poiData);\n                    }\n                });\n            }\n        });\n\n        // R√©activer le tooltip quand le popup se ferme\n        layer.on('popupclose', () => {\n            layer._geoleafPopupActive = false;\n\n            // R√©ouvrir le tooltip s'il est permanent (mode \"always\")\n            if (layer.getTooltip() && layer.getTooltip().options.permanent) {\n                setTimeout(() => {\n                    if (layer.openTooltip && !layer._geoleafPopupActive) {\n                        layer.openTooltip();\n                    }\n                }, 50);\n            }\n        });\n    };\n\n    /**\n     * Attache un tooltip unifi√© √† une couche selon sa configuration.\n     *\n     * @param {Object} feature - Feature GeoJSON\n     * @param {L.Layer} layer - Couche Leaflet\n     * @param {Object} def - D√©finition de la couche\n     */\n    GeoLeaf._GeoJSONPopupTooltip.bindUnifiedTooltip = function (feature, layer, def) {\n        const state = getState();\n\n        if (!feature.properties || !layer) return;\n\n        // R√©cup√©rer les param√®tres de tooltip de la couche\n        const tooltipMode = def.tooltipMode || \"hover\"; // \"always\", \"never\", \"hover\"\n        const tooltipMinZoom = typeof def.tooltipMinZoom === \"number\" ? def.tooltipMinZoom : 0;\n\n        // Si mode \"never\", ne rien faire\n        if (tooltipMode === \"never\") {\n            return;\n        }\n\n        // Construire le texte du tooltip par d√©faut\n        const props = feature.properties;\n        const tooltipText = props.name || props.label || props.title || props.id || \"Sans titre\";\n\n        // Utiliser le helper pour r√©cup√©rer la config tooltip (28 janvier 2026)\n        const Loader = GeoLeaf._GeoJSONLoader;\n        const tooltipConfig = Loader && Loader.getTooltipConfig ? Loader.getTooltipConfig(def) : null;\n\n        // Convertir la feature en POI pour avoir access aux champs via attributes.*\n        const featureAsPoi = GeoLeaf._GeoJSONPopupTooltip.convertFeatureToPOI(feature, def);\n\n        // Fonction pour construire le contenu du tooltip\n        const buildTooltipContent = () => {\n            // Utiliser ContentBuilder si disponible\n            const ContentBuilder = GeoLeaf._ContentBuilder;\n            if (ContentBuilder && typeof ContentBuilder.buildTooltipHTML === 'function') {\n                const content = ContentBuilder.buildTooltipHTML(featureAsPoi, tooltipConfig);\n                return content || tooltipText;\n            }\n\n            // Fallback: utiliser POIPopup module\n            const POIPopup = GeoLeaf._POIPopup;\n            if (POIPopup && typeof POIPopup.buildTooltipContent === 'function') {\n                const content = POIPopup.buildTooltipContent(featureAsPoi);\n                return content || tooltipText;\n            }\n\n            // Fallback minimal\n            return tooltipText;\n        };\n\n        // Fonction pour g√©rer l'affichage du tooltip selon le zoom\n        const updateTooltipVisibility = () => {\n            if (!state.map) return;\n\n            // Ne pas afficher le tooltip si un popup est actif sur cette couche\n            if (layer._geoleafPopupActive) return;\n\n            const currentZoom = state.map.getZoom();\n            const shouldShow = currentZoom >= tooltipMinZoom;\n\n            const content = buildTooltipContent();\n\n            if (shouldShow) {\n                if (!layer.getTooltip()) {\n                    const opts = {\n                        direction: 'top',\n                        offset: [0, -10],\n                        opacity: 0.9,\n                        className: 'gl-geojson-tooltip',\n                        permanent: tooltipMode === 'always'\n                    };\n                    layer.bindTooltip(content, opts);\n                    if (tooltipMode === 'always' && layer.openTooltip) {\n                        layer.openTooltip();\n                    }\n                } else {\n                    // update existing tooltip content\n                    const tooltip = layer.getTooltip();\n                    if (tooltip && tooltip.setContent) tooltip.setContent(content);\n                }\n            } else {\n                if (layer.getTooltip()) {\n                    try {\n                        if (typeof layer.closeTooltip === 'function') {\n                            layer.closeTooltip();\n                        } else {\n                            layer.unbindTooltip();\n                        }\n                    } catch (err) {\n                        /* ignore */\n                    }\n                }\n            }\n        };\n\n        // Stocker la r√©f√©rence pour le nettoyage\n        layer._geoleafTooltipUpdate = updateTooltipVisibility;\n\n        // Bloquer l'ouverture du tooltip pendant que le popup est actif\n        layer.on('tooltipopen', (e) => {\n            if (layer._geoleafPopupActive) {\n                layer.closeTooltip();\n            }\n        });\n\n        // Attendre que la couche soit ajout√©e √† la map avant d'initialiser\n        layer.on('add', () => {\n            // Initialiser le tooltip\n            updateTooltipVisibility();\n\n            // Ajouter le listener sur le zoom\n            if (state.map) {\n                state.map.on('zoomend', updateTooltipVisibility);\n            }\n        });\n\n        // Nettoyer le listener quand la couche est retir√©e\n        layer.on('remove', () => {\n            if (state.map && layer._geoleafTooltipUpdate) {\n                state.map.off('zoomend', layer._geoleafTooltipUpdate);\n            }\n        });\n    };\n\n})(window);\n","/**\n * GeoLeaf GeoJSON Module - Clustering\n * Gestion des strat√©gies de clustering (unified, by-source, etc.)\n *\n * @module geojson/clustering\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // D√©pendances lazy\n    const getLog = () => (GeoLeaf.Log || console);\n\n    GeoLeaf._GeoJSONClustering = GeoLeaf._GeoJSONClustering || {};\n\n    /**\n     * R√©cup√®re la configuration POI globale.\n     *\n     * @returns {Object}\n     */\n    GeoLeaf._GeoJSONClustering.getPoiConfig = function () {\n        const Config = GeoLeaf.Config;\n        if (Config && typeof Config.get === \"function\") {\n            return Config.get(\"poiConfig\") || {};\n        }\n        return {};\n    };\n\n    /**\n     * R√©cup√®re le cluster partag√© du module POI s'il existe.\n     *\n     * @returns {L.MarkerClusterGroup|null}\n     */\n    GeoLeaf._GeoJSONClustering.getSharedPOICluster = function () {\n        const Log = getLog();\n\n        try {\n            const POI = GeoLeaf.POI;\n            if (!POI || typeof POI.getLayer !== \"function\") {\n                Log.info(\"[GeoLeaf.GeoJSON] ‚ùå Module POI non disponible ou getLayer() manquant\");\n                return null;\n            }\n\n            const poiLayer = POI.getLayer();\n\n            if (!poiLayer) {\n                Log.info(\"[GeoLeaf.GeoJSON] ‚ùå POI.getLayer() retourne null/undefined\");\n                return null;\n            }\n\n            Log.info(\"[GeoLeaf.GeoJSON] üîç POI.getLayer() retourn√©:\", {\n                hasAddLayer: typeof poiLayer.addLayer === \"function\",\n                hasRemoveLayer: typeof poiLayer.removeLayer === \"function\",\n                hasFeatureGroup: poiLayer._featureGroup !== undefined,\n                hasGroup: poiLayer._group !== undefined,\n                hasClusterGroup: poiLayer._markerCluster !== undefined,\n                isMarkerClusterGroup: poiLayer.constructor && poiLayer.constructor.name === 'MarkerClusterGroup',\n                constructor: poiLayer.constructor ? poiLayer.constructor.name : 'unknown'\n            });\n\n            // V√©rifier si c'est un markerClusterGroup ou LayerGroup valide\n            // Accepter tout layer avec addLayer/removeLayer (plus permissif)\n            if (poiLayer &&\n                typeof poiLayer.addLayer === \"function\" &&\n                typeof poiLayer.removeLayer === \"function\") {\n                Log.info(\"[GeoLeaf.GeoJSON] ‚úÖ Cluster/Layer POI r√©cup√©r√© avec succ√®s\");\n                return poiLayer;\n            }\n\n            Log.warn(\"[GeoLeaf.GeoJSON] ‚ùå POI.getLayer() ne retourne pas un layer valide (checks failed)\");\n        } catch (e) {\n            Log.error(\"[GeoLeaf.GeoJSON] ‚ùå Impossible de r√©cup√©rer le cluster POI :\", e);\n        }\n        return null;\n    };\n\n    /**\n     * D√©termine la strat√©gie de clustering pour une couche.\n     *\n     * @param {Object} def - D√©finition de la couche\n     * @param {Object} geojsonData - Donn√©es GeoJSON\n     * @returns {Object} - { shouldCluster: boolean, useSharedCluster: boolean }\n     */\n    GeoLeaf._GeoJSONClustering.getClusteringStrategy = function (def, geojsonData) {\n        const Log = getLog();\n        const poiConfig = GeoLeaf._GeoJSONClustering.getPoiConfig();\n\n        // Normaliser def.clustering: peut √™tre boolean ou object\n        const clusteringConfig = typeof def.clustering === 'object' ? def.clustering : { enabled: def.clustering };\n        const isClusteringEnabled = clusteringConfig.enabled === true;\n        const isClusteringDisabled = clusteringConfig.enabled === false;\n\n        // Override explicite dans la couche: clustering.enabled: false (priorit√© absolue)\n        if (isClusteringDisabled) {\n            return { shouldCluster: false, useSharedCluster: false };\n        }\n\n        // Si clustering d√©sactiv√© globalement ET pas d'override dans la couche\n        if (!poiConfig.clustering && !isClusteringEnabled) {\n            return { shouldCluster: false, useSharedCluster: false };\n        }\n\n        // V√©rifier si la couche contient des Points\n        const hasPoints = geojsonData.features && geojsonData.features.some(f =>\n            f.geometry && f.geometry.type && f.geometry.type.includes(\"Point\")\n        );\n\n        if (!hasPoints) {\n            return { shouldCluster: false, useSharedCluster: false };\n        }\n\n        // Override explicite dans la couche: clustering.enabled: true\n        if (isClusteringEnabled) {\n            // Si la couche a des param√®tres de clustering sp√©cifiques, cr√©er un cluster ind√©pendant\n            const clusterRadius = clusteringConfig.maxClusterRadius || (typeof def.clusterRadius === \"number\" ? def.clusterRadius : null);\n            const disableAtZoom = clusteringConfig.disableClusteringAtZoom || (typeof def.disableClusteringAtZoom === \"number\" ? def.disableClusteringAtZoom : null);\n\n            const hasCustomClusterParams =\n                (clusterRadius !== null && clusterRadius !== (poiConfig.clusterRadius || 80)) ||\n                (disableAtZoom !== null && disableAtZoom !== (poiConfig.disableClusteringAtZoom || 18));\n\n            if (hasCustomClusterParams) {\n                return {\n                    shouldCluster: true,\n                    useSharedCluster: false  // Cluster ind√©pendant avec param√®tres personnalis√©s\n                };\n            }\n\n            // Sinon, respecter la strat√©gie globale\n            const strategy = poiConfig.clusterStrategy || \"unified\";\n            return {\n                shouldCluster: true,\n                useSharedCluster: strategy === \"unified\"\n            };\n        }\n\n        // Lire la strat√©gie configur√©e\n        const strategy = poiConfig.clusterStrategy || \"unified\";\n\n        switch (strategy) {\n            case \"unified\":\n                // Un seul cluster partag√© pour tous\n                return { shouldCluster: true, useSharedCluster: true };\n\n            case \"by-layer\":\n                // Cluster ind√©pendant par couche: respecte clustering.enabled: true/false en config\n                // Par d√©faut, pas de cluster SAUF si clustering.enabled === true\n                return {\n                    shouldCluster: isClusteringEnabled,\n                    useSharedCluster: false  // Chaque couche a son propre cluster\n                };\n\n            case \"by-source\":\n                // Cluster s√©par√© par source\n                const sourceConfig = poiConfig.clusterStrategies?.[\"by-source\"]?.sources || {};\n                const shouldClusterGeoJSON = sourceConfig.geojson !== false;\n                return {\n                    shouldCluster: shouldClusterGeoJSON,\n                    useSharedCluster: false\n                };\n\n            case \"json-only\":\n                // Cluster uniquement pour JSON, pas GeoJSON\n                const jsonOnlyConfig = poiConfig.clusterStrategies?.[\"json-only\"] || {};\n                return {\n                    shouldCluster: jsonOnlyConfig.geojsonClustering === true,\n                    useSharedCluster: false\n                };\n\n            default:\n                // Par d√©faut : comportement unifi√© (r√©trocompatibilit√©)\n                Log.warn(\"[GeoLeaf.GeoJSON] Strat√©gie de clustering inconnue: \" + strategy + \". Utilisation de 'unified'.\");\n                return { shouldCluster: true, useSharedCluster: true };\n        }\n    };\n\n    /**\n     * Cr√©e un cluster ind√©pendant avec les options sp√©cifi√©es.\n     *\n     * @param {Object} options - Options de clustering\n     * @returns {L.MarkerClusterGroup|null}\n     */\n    GeoLeaf._GeoJSONClustering.createIndependentCluster = function (options = {}) {\n        if (!global.L || !global.L.markerClusterGroup) {\n            return null;\n        }\n\n        return global.L.markerClusterGroup({\n            maxClusterRadius: options.clusterRadius || 80,\n            disableClusteringAtZoom: options.disableClusteringAtZoom || 18,\n            animate: options.animate !== undefined ? options.animate : false,\n            spiderfyOnMaxZoom: options.spiderfyOnMaxZoom !== undefined ? options.spiderfyOnMaxZoom : false,\n            showCoverageOnHover: options.showCoverageOnHover !== undefined ? options.showCoverageOnHover : false,\n            zoomToBoundsOnClick: options.zoomToBoundsOnClick !== undefined ? options.zoomToBoundsOnClick : true\n        });\n    };\n\n})(window);\n","/**\n * GeoLeaf GeoJSON Module - Layer Configuration Manager\n * Gestion de la configuration et des options des couches\n *\n * @module geojson/layer-config-manager\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // D√©pendances lazy\n    const getShared = () => GeoLeaf._GeoJSONShared;\n    const getState = () => GeoLeaf._GeoJSONShared.state;\n    const getLog = () => (GeoLeaf.Log || console);\n\n    GeoLeaf._GeoJSONLayerConfig = GeoLeaf._GeoJSONLayerConfig || {};\n\n    /**\n     * R√©sout le chemin absolu d'un fichier de donn√©es\n     *\n     * @param {string} dataFile - Nom du fichier de donn√©es\n     * @param {Object} profile - Profil actif\n     * @param {string} [layerDirectory] - Dossier de la couche\n     * @returns {string} Chemin absolu r√©solu\n     */\n    GeoLeaf._GeoJSONLayerConfig.resolveDataFilePath = function (dataFile, profile, layerDirectory) {\n        const Config = GeoLeaf.Config;\n        const dataCfg = Config && Config.get ? Config.get('data') : null;\n        const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || \"profiles\";\n        const profileId = (dataCfg && dataCfg.activeProfile) || profile.id;\n\n        // Si dataFile commence par ../, on r√©sout relativement au dossier du profil\n        if (dataFile.startsWith('../')) {\n            // dataFile = \"../raw/file.json\" -> \"profiles/tourism/raw/file.json\"\n            const relativePath = dataFile.replace('../', '');\n            return `${profilesBasePath}/${profileId}/${relativePath}`;\n        }\n\n        // Si dataFile commence par /, c'est un chemin absolu\n        if (dataFile.startsWith('/')) {\n            return dataFile;\n        }\n\n        // Sinon, relatif au dossier de la couche (layers/tourism_poi_all/data/file.json)\n        if (layerDirectory) {\n            return `${profilesBasePath}/${profileId}/${layerDirectory}/${dataFile}`;\n        }\n\n        // Fallback: relatif au dossier du profil\n        return `${profilesBasePath}/${profileId}/${dataFile}`;\n    };\n\n    /**\n     * Inf√®re le type de g√©om√©trie d'une couche\n     *\n     * @param {Object} def - D√©finition de la couche\n     * @param {Object} geojsonData - Donn√©es GeoJSON\n     * @returns {string} Type de g√©om√©trie ('point', 'line', 'polygon', 'unknown')\n     */\n    GeoLeaf._GeoJSONLayerConfig.inferGeometryType = function (def, geojsonData) {\n        if (def && typeof def.geometryType === \"string\") return def.geometryType;\n        const features = geojsonData && Array.isArray(geojsonData.features)\n            ? geojsonData.features\n            : [];\n        const first = features.find(f => f && f.geometry && f.geometry.type);\n        if (!first) return \"unknown\";\n        const geometryType = first.geometry.type.toLowerCase();\n        if (geometryType.includes(\"point\")) return \"point\";\n        if (geometryType.includes(\"line\")) return \"line\";\n        if (geometryType.includes(\"polygon\")) return \"polygon\";\n        return \"unknown\";\n    };\n\n    /**\n     * Construit les options Leaflet pour une couche sp√©cifique\n     * Configure pointToLayer, onEachFeature, styles, popups, tooltips et panes\n     *\n     * @param {Object} def - D√©finition de la couche depuis profile.json\n     * @param {string} def.id - ID unique de la couche\n     * @param {number} [def.zIndex] - Index z pour le positionnement\n     * @param {Object} [def.style] - Style par d√©faut de la couche\n     * @param {Array} [def.styleRules] - R√®gles de style conditionnelles\n     * @param {boolean} [def.interactiveShape=false] - Rendre les formes interactives\n     * @param {boolean} [def.showIconsOnMap=false] - Afficher ic√¥nes SVG pour les points\n     * @param {Object} baseOptions - Options de base du module GeoJSON\n     * @returns {Object} Options Leaflet configur√©es (pointToLayer, onEachFeature, style, etc.)\n     * @example\n     * const options = GeoLeaf._GeoJSONLayerConfig.buildLayerOptions(\n     *   { id: 'poi_tourism', zIndex: 100, showIconsOnMap: true },\n     *   { defaultPointStyle: { radius: 8 } }\n     * );\n     */\n    GeoLeaf._GeoJSONLayerConfig.buildLayerOptions = function (def, baseOptions) {\n        const state = getState();\n        const mergedOptions = Object.assign({}, state.options, baseOptions);\n\n        // Style des polygones / lignes\n        if (def.style && typeof def.style === \"object\") {\n            mergedOptions.defaultStyle = Object.assign(\n                {},\n                mergedOptions.defaultStyle,\n                def.style\n            );\n        }\n\n        // R√®gles de style dynamiques (styleRules)\n        if (Array.isArray(def.styleRules) && def.styleRules.length > 0) {\n            mergedOptions.styleRules = def.styleRules;\n        }\n\n        // D√©terminer le param√®tre interactiveShape pour cette couche\n        mergedOptions.interactiveShape = typeof def.interactiveShape === \"boolean\"\n            ? def.interactiveShape\n            : (GeoLeaf.Config && GeoLeaf.Config.get ? GeoLeaf.Config.get('ui.interactiveShapes', false) : false);\n\n        // V√©rifier si on doit afficher les ic√¥nes SVG sur la carte\n        const showIconsOnMap = typeof def.showIconsOnMap === 'boolean' ? def.showIconsOnMap : false;\n\n        // D√©terminer le pane √† utiliser pour cette couche\n        const PaneHelpers = GeoLeaf._GeoJSONShared.PaneHelpers;\n        const paneName = PaneHelpers.getPaneName(def.zIndex);\n\n        // Style des points\n        if (showIconsOnMap) {\n            // Mode IC√îNE : utiliser les ic√¥nes SVG du profil\n            mergedOptions.pointToLayer = function (feature, latlng) {\n                // Convertir la feature en POI pour obtenir les infos de cat√©gorie\n                const PopupTooltip = GeoLeaf._GeoJSONPopupTooltip;\n                const poiData = PopupTooltip ? PopupTooltip.convertFeatureToPOI(feature, def) : null;\n\n                if (poiData) {\n                    // Convertir le format ancien 'fields' au nouveau 'detailPopup'\n                    const popupConfig = def.popup || {};\n                    const convertedPopup = {\n                        enabled: popupConfig.enabled,\n                        // Format ancien: { fields: [...] } ‚Üí Format nouveau: { detailPopup: [...] }\n                        detailPopup: popupConfig.detailPopup || popupConfig.fields || [],\n                        // Aussi supporter l'ancien format de tooltip\n                        detailTooltip: popupConfig.detailTooltip || (popupConfig.tooltip && popupConfig.tooltip.fields) || []\n                    };\n\n                    // Passer toute la configuration de la couche au POI\n                    poiData._layerConfig = {\n                        style: mergedOptions.defaultStyle || {},\n                        popup: convertedPopup,\n                        tooltip: def.tooltip || {},\n                        sidepanelConfig: def.sidepanelConfig || {}\n                    };\n                }\n\n                // Utiliser le syst√®me de markers POI pour cr√©er l'ic√¥ne\n                const markers = GeoLeaf._POIMarkers;\n                if (markers && typeof markers.createMarker === 'function' && poiData) {\n                    const attachEvents = mergedOptions.interactiveShape !== false;\n                    const marker = markers.createMarker(poiData, { attachEvents, pane: paneName });\n                    // S'assurer que le pane est d√©fini sur le marker\n                    if (marker && marker.options) {\n                        marker.options.pane = paneName;\n                    }\n                    return marker;\n                }\n\n                // Fallback sur circleMarker avec pane\n                const pointStyle = Object.assign(\n                    {},\n                    mergedOptions.defaultPointStyle,\n                    def.pointStyle,\n                    { interactive: mergedOptions.interactiveShape, pane: paneName }\n                );\n                return global.L.circleMarker(latlng, pointStyle);\n            };\n        } else if (def.pointStyle && typeof def.pointStyle === \"object\") {\n            // Mode CIRCLE : utiliser circleMarker classique avec pane\n            const pointStyle = Object.assign(\n                {},\n                mergedOptions.defaultPointStyle,\n                def.pointStyle,\n                { interactive: mergedOptions.interactiveShape, pane: paneName }\n            );\n            mergedOptions.pointToLayer = function (feature, latlng) {\n                return global.L.circleMarker(latlng, pointStyle);\n            };\n        }\n\n        // Callback onEachFeature : int√©gration popups + side panel + tooltips\n        const originalOnEachFeature = typeof def.onEachFeature === \"function\" ? def.onEachFeature : null;\n\n        mergedOptions.onEachFeature = function (feature, layer) {\n            // Popup unifi√©\n            const PopupTooltip = GeoLeaf._GeoJSONPopupTooltip;\n            if (PopupTooltip) {\n                PopupTooltip.bindUnifiedPopup(feature, layer, def);\n                PopupTooltip.bindUnifiedTooltip(feature, layer, def);\n            }\n\n            // Callback custom si fourni\n            if (originalOnEachFeature) {\n                originalOnEachFeature(feature, layer);\n            }\n        };\n\n        // Ajouter le pane aux defaultPointStyle pour que le style-resolver l'utilise dans son fallback\n        if (mergedOptions.defaultPointStyle) {\n            mergedOptions.defaultPointStyle = Object.assign({}, mergedOptions.defaultPointStyle, { pane: paneName });\n        } else {\n            mergedOptions.defaultPointStyle = { pane: paneName };\n        }\n\n        // Utiliser le StyleResolver pour construire les options Leaflet finales\n        if (GeoLeaf._GeoJSONStyleResolver && GeoLeaf._GeoJSONStyleResolver.buildLeafletOptions) {\n            return GeoLeaf._GeoJSONStyleResolver.buildLeafletOptions(mergedOptions);\n        }\n\n        return mergedOptions;\n    };\n\n    /**\n     * Charge la l√©gende d'une couche depuis son fichier legends/*.json\n     * R√©sout automatiquement le chemin selon le style actif et la config du profil\n     *\n     * @param {Object} profile - Profil contenant la configuration\n     * @param {string} profile.id - ID du profil (ex: 'tourism')\n     * @param {string} [profile.basePath] - Chemin de base du profil\n     * @param {Object} layerDef - D√©finition de la couche depuis profile.json\n     * @param {string} layerDef.id - ID de la couche\n     * @param {string} [layerDef.style='default'] - Style actif de la couche\n     * @param {Object} [layerDef.legends] - Configuration des l√©gendes\n     * @param {string} [layerDef.legends.directory='legends'] - Dossier des l√©gendes\n     * @param {string} [layerDef.legends.default] - Fichier l√©gende par d√©faut\n     * @returns {void} Charge et affiche la l√©gende via GeoLeaf.Legend.loadLegend()\n     * @example\n     * GeoLeaf._GeoJSONLayerConfig.loadLayerLegend(\n     *   { id: 'tourism', basePath: '../profiles/tourism' },\n     *   { id: 'poi_all', style: 'par_categorie', legends: { directory: 'legends' } }\n     * );\n     */\n    GeoLeaf._GeoJSONLayerConfig.loadLayerLegend = function (profile, layerDef) {\n        const Log = getLog();\n\n        if (!layerDef) {\n            if (Log) Log.debug(\"[GeoLeaf.GeoJSON] Pas de d√©finition de couche\");\n            return;\n        }\n\n        // Pour v3.0, la config de la couche est d√©j√† dans layerDef (enrichie par profile.js)\n        const layerConfig = layerDef.legends ? layerDef : null;\n\n        if (!layerConfig || !layerConfig.legends) {\n            if (Log) Log.debug(\"[GeoLeaf.GeoJSON] Pas de config legends pour cette couche\");\n            return;\n        }\n\n        const legendsConfig = layerConfig.legends;\n        const legendDirectory = legendsConfig.directory || \"legends\";\n\n        // D√©terminer le style actif de la couche\n        const activeStyle = layerDef.style || \"default\";\n\n        // Construire le nom de fichier de la l√©gende\n        let legendFile;\n        if (activeStyle === \"default\" && legendsConfig.default) {\n            legendFile = legendsConfig.default;\n        } else {\n            legendFile = `${activeStyle}.legend.json`;\n        }\n\n        // Construire le chemin de la l√©gende\n        const profileBasePath = profile.basePath || \"./profiles/\" + profile.id;\n        const layerDirectory = layerDef._layerDirectory || \"layers/\" + layerDef.id;\n        const legendPath = `${profileBasePath}/${layerDirectory}/${legendDirectory}/${legendFile}`;\n\n        if (Log) Log.debug(`[GeoLeaf.GeoJSON] Chargement l√©gende pour style \"${activeStyle}\": ${legendPath}`);\n\n        // Charger et afficher la l√©gende directement\n        if (GeoLeaf.Legend && typeof GeoLeaf.Legend.loadLegend === \"function\") {\n            GeoLeaf.Legend.loadLegend(legendPath)\n                .then(success => {\n                    if (success && Log) {\n                        Log.info(`[GeoLeaf.GeoJSON] L√©gende affich√©e pour ${layerDef.id} (style: ${activeStyle})`);\n                    }\n                })\n                .catch(error => {\n                    if (Log) Log.warn(`[GeoLeaf.GeoJSON] Erreur chargement l√©gende: ${error.message}`);\n                });\n        } else {\n            if (Log) Log.warn(\"[GeoLeaf.GeoJSON] Module Legend non disponible\");\n        }\n    };\n\n    /**\n     * Charge le style par d√©faut d'une couche depuis son fichier styles/*.style.json\n     * Fonction asynchrone utilisant fetch() pour charger le JSON\n     *\n     * @async\n     * @param {string} layerId - ID de la couche (utilis√© pour le logging)\n     * @param {Object} layerDef - D√©finition de la couche\n     * @param {Object} layerDef.styles - Configuration des styles\n     * @param {string} layerDef.styles.default - Nom du fichier de style par d√©faut\n     * @param {string} [layerDef.styles.directory='styles'] - Dossier des styles\n     * @param {string} layerDef._profileId - ID du profil (m√©tadonn√©e interne)\n     * @param {string} layerDef._layerDirectory - Dossier de la couche (m√©tadonn√©e interne)\n     * @returns {Promise<Object>} Style charg√© (objet JSON pars√©)\n     * @throws {Error} \"Pas de style par d√©faut d√©fini\" si styles.default manquant\n     * @throws {Error} \"M√©tadonn√©es manquantes\" si _profileId ou _layerDirectory absent\n     * @throws {Error} \"HTTP {status}\" si le fetch √©choue\n     * @example\n     * try {\n     *   const style = await GeoLeaf._GeoJSONLayerConfig.loadDefaultStyle(\n     *     'provincia_ar',\n     *     { styles: { default: 'd√©faut.json' }, _profileId: 'tourism', _layerDirectory: 'layers/provincia_ar' }\n     *   );\n     *   console.log('Style charg√©:', style);\n     * } catch (err) {\n     *   console.error('Erreur chargement style:', err);\n     * }\n     */\n    GeoLeaf._GeoJSONLayerConfig.loadDefaultStyle = async function (layerId, layerDef) {\n        const Log = getLog();\n\n        if (!layerDef.styles || !layerDef.styles.default) {\n            throw new Error(\"Pas de style par d√©faut d√©fini\");\n        }\n\n        const profileId = layerDef._profileId;\n        const layerDirectory = layerDef._layerDirectory;\n\n        if (!profileId || !layerDirectory) {\n            throw new Error(\"M√©tadonn√©es manquantes (profileId ou layerDirectory)\");\n        }\n\n        const Config = global.GeoLeaf.Config;\n        const dataCfg = Config && Config.get ? Config.get('data') : null;\n        const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || \"profiles\";\n\n        const styleDirectory = layerDef.styles.directory || \"styles\";\n        const styleFile = layerDef.styles.default;\n        const stylePath = `${profilesBasePath}/${profileId}/${layerDirectory}/${styleDirectory}/${styleFile}`;\n\n        Log.debug(\"[GeoLeaf.GeoJSON] Chargement style par d√©faut:\", stylePath);\n\n        const response = await fetch(stylePath);\n        if (!response.ok) {\n            throw new Error(`HTTP ${response.status}`);\n        }\n\n        const styleData = await response.json();\n        Log.debug(\"[GeoLeaf.GeoJSON] Style charg√©:\", styleData);\n        return styleData;\n    };\n\n})(window);\n","/**\r\n * GeoLeaf GeoJSON Module - Feature Validator\r\n * Validation stricte des features GeoJSON selon sch√©ma centralis√©\r\n *\r\n * @module geojson/feature-validator\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n\r\n    // D√©pendances lazy\r\n    const getLog = () => (GeoLeaf.Log || console);\r\n\r\n    GeoLeaf._GeoJSONFeatureValidator = GeoLeaf._GeoJSONFeatureValidator || {};\r\n\r\n    /**\r\n     * Valide une FeatureCollection enti√®re et retourne les features valides\r\n     *\r\n     * @param {Object} collection - FeatureCollection GeoJSON\r\n     * @returns {Object} { validFeatures: Array, errors: Array }\r\n     */\r\n    GeoLeaf._GeoJSONFeatureValidator.validateFeatureCollection = function (collection) {\r\n        const Log = getLog();\r\n        const errors = [];\r\n        const validFeatures = [];\r\n\r\n        if (!collection || typeof collection !== \"object\") {\r\n            Log.warn(\"[GeoLeaf.GeoJSON.Validator] Collection non valide : type invalide\");\r\n            return { validFeatures: [], errors: [{ message: \"Collection non valide\" }] };\r\n        }\r\n\r\n        // Accepter les FeatureCollections ou les arrays de features\r\n        const features = collection.type === \"FeatureCollection\"\r\n            ? collection.features\r\n            : Array.isArray(collection)\r\n                ? collection\r\n                : [collection];\r\n\r\n        if (!Array.isArray(features)) {\r\n            Log.warn(\"[GeoLeaf.GeoJSON.Validator] Pas de features √† valider\");\r\n            return { validFeatures: [], errors: [] };\r\n        }\r\n\r\n        features.forEach((feature, index) => {\r\n            const result = GeoLeaf._GeoJSONFeatureValidator.validateFeature(feature, index);\r\n            if (result.valid) {\r\n                validFeatures.push(feature);\r\n            } else {\r\n                errors.push(...result.errors);\r\n            }\r\n        });\r\n\r\n        return { validFeatures, errors };\r\n    };\r\n\r\n    /**\r\n     * Valide une single feature\r\n     *\r\n     * @param {Object} feature - Feature GeoJSON\r\n     * @param {number} [index] - Index dans la collection (pour logging)\r\n     * @returns {Object} { valid: Boolean, errors: Array }\r\n     */\r\n    GeoLeaf._GeoJSONFeatureValidator.validateFeature = function (feature, index) {\r\n        const Log = getLog();\r\n        const errors = [];\r\n        const featureId = feature?.properties?.id || feature?.id || index || \"unknown\";\r\n\r\n        // Type feature\r\n        if (!feature || feature.type !== \"Feature\") {\r\n            errors.push({\r\n                featureId,\r\n                field: \"type\",\r\n                message: \"Feature doit avoir type='Feature'\",\r\n                severity: \"error\"\r\n            });\r\n            Log.warn(`[GeoLeaf.GeoJSON.Validator] Feature ${featureId}: type invalide`);\r\n            return { valid: false, errors };\r\n        }\r\n\r\n        // G√©om√©trie\r\n        const geomResult = GeoLeaf._GeoJSONFeatureValidator.validateGeometry(\r\n            feature.geometry,\r\n            featureId\r\n        );\r\n        if (!geomResult.valid) {\r\n            errors.push(...geomResult.errors);\r\n        }\r\n\r\n        // Propri√©t√©s\r\n        const propsResult = GeoLeaf._GeoJSONFeatureValidator.validateProperties(\r\n            feature.properties,\r\n            featureId\r\n        );\r\n        if (!propsResult.valid) {\r\n            errors.push(...propsResult.errors);\r\n        }\r\n\r\n        if (errors.length > 0) {\r\n            Log.warn(\r\n                `[GeoLeaf.GeoJSON.Validator] Feature ${featureId} rejet√©e : ${errors.map(e => e.message).join(\"; \")}`\r\n            );\r\n            return { valid: false, errors };\r\n        }\r\n\r\n        return { valid: true, errors: [] };\r\n    };\r\n\r\n    /**\r\n     * Valide la g√©om√©trie d'une feature\r\n     *\r\n     * @param {Object} geometry - Geometry GeoJSON\r\n     * @param {string|number} featureId - Feature identifier (for logging)\r\n     * @returns {Object} { valid: Boolean, errors: Array }\r\n     */\r\n    GeoLeaf._GeoJSONFeatureValidator.validateGeometry = function (geometry, featureId) {\r\n        const errors = [];\r\n        const validTypes = [\"Point\", \"LineString\", \"MultiLineString\", \"Polygon\", \"MultiPolygon\"];\r\n\r\n        if (!geometry || typeof geometry !== \"object\") {\r\n            errors.push({\r\n                featureId,\r\n                field: \"geometry\",\r\n                message: \"geometry requis et doit √™tre un objet\",\r\n                severity: \"error\"\r\n            });\r\n            return { valid: false, errors };\r\n        }\r\n\r\n        if (!geometry.type) {\r\n            errors.push({\r\n                featureId,\r\n                field: \"geometry.type\",\r\n                message: \"geometry.type requis\",\r\n                severity: \"error\"\r\n            });\r\n            return { valid: false, errors };\r\n        }\r\n\r\n        if (!validTypes.includes(geometry.type)) {\r\n            errors.push({\r\n                featureId,\r\n                field: \"geometry.type\",\r\n                message: `Type de g√©om√©trie invalide '${geometry.type}'. Doit √™tre : ${validTypes.join(\", \")}`,\r\n                severity: \"error\"\r\n            });\r\n            return { valid: false, errors };\r\n        }\r\n\r\n        if (!Array.isArray(geometry.coordinates) || geometry.coordinates.length === 0) {\r\n            errors.push({\r\n                featureId,\r\n                field: \"geometry.coordinates\",\r\n                message: \"geometry.coordinates doit √™tre un array non-vide\",\r\n                severity: \"error\"\r\n            });\r\n            return { valid: false, errors };\r\n        }\r\n\r\n        return { valid: errors.length === 0, errors };\r\n    };\r\n\r\n    /**\r\n     * Valide les propri√©t√©s d'une feature\r\n     *\r\n     * @param {Object} properties - Feature properties\r\n     * @param {string|number} featureId - Feature identifier (for logging)\r\n     * @returns {Object} { valid: Boolean, errors: Array }\r\n     */\r\n    GeoLeaf._GeoJSONFeatureValidator.validateProperties = function (properties, featureId) {\r\n        const errors = [];\r\n\r\n        if (!properties || typeof properties !== \"object\") {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties\",\r\n                message: \"properties requis et doit √™tre un objet\",\r\n                severity: \"error\"\r\n            });\r\n            return { valid: false, errors };\r\n        }\r\n\r\n        // Au moins un nom (name, title, ou autre identifier)\r\n        const hasName = properties.name || properties.title || properties.label;\r\n        if (!hasName) {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties.name\",\r\n                message: \"properties doit contenir au moins name, title ou label\",\r\n                severity: \"error\"\r\n            });\r\n        }\r\n\r\n        // Validation des types num√©riques\r\n        if (typeof properties.distance_km !== \"undefined\" && typeof properties.distance_km !== \"number\") {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties.distance_km\",\r\n                message: \"distance_km doit √™tre un nombre\",\r\n                severity: \"warning\"\r\n            });\r\n        }\r\n\r\n        if (typeof properties.distance_km === \"number\" && properties.distance_km < 0) {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties.distance_km\",\r\n                message: \"distance_km doit √™tre >= 0\",\r\n                severity: \"warning\"\r\n            });\r\n        }\r\n\r\n        if (typeof properties.duration_min !== \"undefined\" && typeof properties.duration_min !== \"number\") {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties.duration_min\",\r\n                message: \"duration_min doit √™tre un nombre\",\r\n                severity: \"warning\"\r\n            });\r\n        }\r\n\r\n        if (typeof properties.duration_min === \"number\" && properties.duration_min < 0) {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties.duration_min\",\r\n                message: \"duration_min doit √™tre >= 0\",\r\n                severity: \"warning\"\r\n            });\r\n        }\r\n\r\n        if (typeof properties.rating !== \"undefined\") {\r\n            if (typeof properties.rating !== \"number\") {\r\n                errors.push({\r\n                    featureId,\r\n                    field: \"properties.rating\",\r\n                    message: \"rating doit √™tre un nombre\",\r\n                    severity: \"warning\"\r\n                });\r\n            } else if (properties.rating < 0 || properties.rating > 5) {\r\n                errors.push({\r\n                    featureId,\r\n                    field: \"properties.rating\",\r\n                    message: \"rating doit √™tre entre 0 et 5\",\r\n                    severity: \"warning\"\r\n                });\r\n            }\r\n        }\r\n\r\n        // Validation des couleurs hex\r\n        if (typeof properties.color !== \"undefined\" && typeof properties.color === \"string\") {\r\n            if (!/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(properties.color)) {\r\n                errors.push({\r\n                    featureId,\r\n                    field: \"properties.color\",\r\n                    message: `color invalide '${properties.color}'. Format: #RGB ou #RRGGBB`,\r\n                    severity: \"warning\"\r\n                });\r\n            }\r\n        }\r\n\r\n        // Validation des opacity\r\n        if (typeof properties.opacity !== \"undefined\") {\r\n            if (typeof properties.opacity !== \"number\") {\r\n                errors.push({\r\n                    featureId,\r\n                    field: \"properties.opacity\",\r\n                    message: \"opacity doit √™tre un nombre\",\r\n                    severity: \"warning\"\r\n                });\r\n            } else if (properties.opacity < 0 || properties.opacity > 1) {\r\n                errors.push({\r\n                    featureId,\r\n                    field: \"properties.opacity\",\r\n                    message: \"opacity doit √™tre entre 0 et 1\",\r\n                    severity: \"warning\"\r\n                });\r\n            }\r\n        }\r\n\r\n        // Validation des weight\r\n        if (typeof properties.weight !== \"undefined\") {\r\n            if (typeof properties.weight !== \"number\") {\r\n                errors.push({\r\n                    featureId,\r\n                    field: \"properties.weight\",\r\n                    message: \"weight doit √™tre un nombre\",\r\n                    severity: \"warning\"\r\n                });\r\n            } else if (properties.weight < 0) {\r\n                errors.push({\r\n                    featureId,\r\n                    field: \"properties.weight\",\r\n                    message: \"weight doit √™tre >= 0\",\r\n                    severity: \"warning\"\r\n                });\r\n            }\r\n        }\r\n\r\n        // Validation des URLs\r\n        const urlFields = [\"link\", \"photo\", \"url\"];\r\n        urlFields.forEach(field => {\r\n            if (typeof properties[field] !== \"undefined\" && typeof properties[field] === \"string\") {\r\n                if (!GeoLeaf._GeoJSONFeatureValidator.isValidUrl(properties[field])) {\r\n                    errors.push({\r\n                        featureId,\r\n                        field: `properties.${field}`,\r\n                        message: `${field} n'est pas une URL valide`,\r\n                        severity: \"warning\"\r\n                    });\r\n                }\r\n            }\r\n        });\r\n\r\n        // Validation email\r\n        if (typeof properties.email !== \"undefined\" && typeof properties.email === \"string\") {\r\n            if (!GeoLeaf._GeoJSONFeatureValidator.isValidEmail(properties.email)) {\r\n                errors.push({\r\n                    featureId,\r\n                    field: \"properties.email\",\r\n                    message: \"email invalide\",\r\n                    severity: \"warning\"\r\n                });\r\n            }\r\n        }\r\n\r\n        // Validation tags (doit √™tre array de strings)\r\n        if (typeof properties.tags !== \"undefined\") {\r\n            if (!Array.isArray(properties.tags)) {\r\n                errors.push({\r\n                    featureId,\r\n                    field: \"properties.tags\",\r\n                    message: \"tags doit √™tre un array\",\r\n                    severity: \"warning\"\r\n                });\r\n            } else {\r\n                properties.tags.forEach((tag, idx) => {\r\n                    if (typeof tag !== \"string\") {\r\n                        errors.push({\r\n                            featureId,\r\n                            field: `properties.tags[${idx}]`,\r\n                            message: \"tag doit √™tre une string\",\r\n                            severity: \"warning\"\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        // V√©rifier que properties ne contient pas d'objets imbriqu√©s (√† plat obligatoirement)\r\n        Object.entries(properties).forEach(([key, value]) => {\r\n            if (value !== null && typeof value === \"object\" && !Array.isArray(value)) {\r\n                errors.push({\r\n                    featureId,\r\n                    field: `properties.${key}`,\r\n                    message: `Propri√©t√© imbriqu√©e d√©tect√©e. Les propri√©t√©s doivent √™tre plates (strings, nombres, arrays). Objet trouv√©: ${JSON.stringify(value)}`,\r\n                    severity: \"error\"\r\n                });\r\n            }\r\n        });\r\n\r\n        // Les erreurs \"error\" invalident la feature, pas les \"warning\"\r\n        const hasErrors = errors.some(e => e.severity === \"error\");\r\n        return { valid: !hasErrors, errors };\r\n    };\r\n\r\n    /**\r\n     * Valide qu'une string est une URL valide\r\n     *\r\n     * @param {string} url - URL √† valider\r\n     * @returns {Boolean}\r\n     */\r\n    GeoLeaf._GeoJSONFeatureValidator.isValidUrl = function (url) {\r\n        if (typeof url !== \"string\") return false;\r\n        try {\r\n            new URL(url);\r\n            return true;\r\n        } catch {\r\n            // Accepter aussi les URLs relatives\r\n            return /^(https?:\\/\\/|\\/|\\.\\.?\\/)/.test(url);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Valide qu'une string est un email valide\r\n     *\r\n     * @param {string} email - Email √† valider\r\n     * @returns {Boolean}\r\n     */\r\n    GeoLeaf._GeoJSONFeatureValidator.isValidEmail = function (email) {\r\n        if (typeof email !== \"string\") return false;\r\n        return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\r\n    };\r\n\r\n})(typeof window !== \"undefined\" ? window : global);\r\n","/**\n * GeoLeaf GeoJSON Loader - Config Helpers\n * Accesseurs de configuration normalis√©e + d√©l√©gu√©s d√©pr√©ci√©s\n *\n * @module geojson/loader/config-helpers\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    GeoLeaf._GeoJSONLoader = GeoLeaf._GeoJSONLoader || {};\n\n    /**\n     * R√©cup√®re la configuration des champs popup d'une couche.\n     *\n     * @param {Object} def - D√©finition de la couche (normalis√©e ou originale)\n     * @returns {Array|null} - Array de configurations de champs ou null\n     */\n    GeoLeaf._GeoJSONLoader.getPopupConfig = function(def) {\n        if (!def) return null;\n\n        // Structure normalis√©e (apr√®s passage dans loadProfile)\n        if (def.popupFields && Array.isArray(def.popupFields)) {\n            return def.popupFields;\n        }\n\n        // Structure originale (depuis config JSON)\n        if (def.popup && def.popup.fields && Array.isArray(def.popup.fields)) {\n            return def.popup.fields;\n        }\n\n        return null;\n    };\n\n    /**\n     * R√©cup√®re la configuration des champs tooltip d'une couche.\n     *\n     * @param {Object} def - D√©finition de la couche (normalis√©e ou originale)\n     * @returns {Array|null} - Array de configurations de champs ou null\n     */\n    GeoLeaf._GeoJSONLoader.getTooltipConfig = function(def) {\n        if (!def) return null;\n\n        // Structure normalis√©e (apr√®s passage dans loadProfile)\n        if (def.tooltipFields && Array.isArray(def.tooltipFields)) {\n            return def.tooltipFields;\n        }\n\n        // Structure originale (depuis config JSON)\n        if (def.tooltip && def.tooltip.fields && Array.isArray(def.tooltip.fields)) {\n            return def.tooltip.fields;\n        }\n\n        return null;\n    };\n\n    /**\n     * R√©cup√®re la configuration des champs sidepanel d'une couche.\n     *\n     * @param {Object} def - D√©finition de la couche (normalis√©e ou originale)\n     * @returns {Array|null} - Array de configurations de champs ou null\n     */\n    GeoLeaf._GeoJSONLoader.getSidepanelConfig = function(def) {\n        if (!def) return null;\n\n        // Structure normalis√©e (apr√®s passage dans loadProfile)\n        if (def.sidepanelFields && Array.isArray(def.sidepanelFields)) {\n            return def.sidepanelFields;\n        }\n\n        // Structure originale (depuis config JSON)\n        if (def.sidepanel && def.sidepanel.detailLayout && Array.isArray(def.sidepanel.detailLayout)) {\n            return def.sidepanel.detailLayout;\n        }\n\n        return null;\n    };\n\n    // ‚îÄ‚îÄ‚îÄ D√©l√©gu√©s d√©pr√©ci√©s ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\n    /**\n     * @deprecated Utiliser GeoLeaf._GeoJSONLayerConfig.resolveDataFilePath()\n     */\n    GeoLeaf._GeoJSONLoader._resolveDataFilePath = function (dataFile, profile, layerDirectory) {\n        return GeoLeaf._GeoJSONLayerConfig.resolveDataFilePath(dataFile, profile, layerDirectory);\n    };\n\n    /**\n     * @deprecated Utiliser GeoLeaf._GeoJSONLayerConfig.inferGeometryType()\n     */\n    GeoLeaf._GeoJSONLoader._inferGeometryType = function (def, geojsonData) {\n        return GeoLeaf._GeoJSONLayerConfig.inferGeometryType(def, geojsonData);\n    };\n\n    /**\n     * @deprecated Utiliser GeoLeaf._GeoJSONLayerConfig.buildLayerOptions()\n     */\n    GeoLeaf._GeoJSONLoader._buildLayerOptions = function (def, baseOptions) {\n        return GeoLeaf._GeoJSONLayerConfig.buildLayerOptions(def, baseOptions);\n    };\n\n    /**\n     * @deprecated Utiliser GeoLeaf._GeoJSONLayerConfig.loadLayerLegend()\n     */\n    GeoLeaf._GeoJSONLoader._loadLayerLegend = function (profile, layerDef) {\n        return GeoLeaf._GeoJSONLayerConfig.loadLayerLegend(profile, layerDef);\n    };\n\n    /**\n     * @deprecated Utiliser GeoLeaf._GeoJSONLayerConfig.loadDefaultStyle()\n     */\n    GeoLeaf._GeoJSONLoader._loadDefaultStyle = function (layerId, layerDef) {\n        return GeoLeaf._GeoJSONLayerConfig.loadDefaultStyle(layerId, layerDef);\n    };\n\n})(window);\n","/**\n * GeoLeaf GeoJSON Loader - Data\n * Chargement direct de donn√©es GeoJSON (URL ou objet JS)\n *\n * @module geojson/loader/data\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // D√©pendances lazy\n    const getState = () => GeoLeaf._GeoJSONShared.state;\n    const getLog = () => (GeoLeaf.Log || console);\n\n    GeoLeaf._GeoJSONLoader = GeoLeaf._GeoJSONLoader || {};\n\n    /**\n     * Charge un fichier GeoJSON via une URL.\n     *\n     * @param {string} url - URL du fichier GeoJSON.\n     * @param {Object} [options] - Options additionnelles, fusionn√©es avec celles du module.\n     * @returns {Promise<L.GeoJSON|null>}\n     */\n    GeoLeaf._GeoJSONLoader.loadUrl = async function (url, options = {}) {\n        const state = getState();\n        const Log = getLog();\n\n        if (!url) {\n            Log.warn(\"[GeoLeaf.GeoJSON] URL GeoJSON manquante.\");\n            return state.geoJsonLayer;\n        }\n\n        if (!state.map) {\n            Log.error(\"[GeoLeaf.GeoJSON] Module non initialis√©. Appelle GeoLeaf.GeoJSON.init() avant loadUrl().\");\n            return null;\n        }\n\n        const mergedOptions = GeoLeaf.Utils && GeoLeaf.Utils.mergeOptions\n            ? GeoLeaf.Utils.mergeOptions(state.options, options)\n            : Object.assign({}, state.options, options);\n\n        try {\n            // Sprint 3.3: Use unified FetchHelper for GeoJSON loading\n            const FetchHelper = GeoLeaf.Utils?.FetchHelper;\n\n            let data;\n            if (FetchHelper) {\n                data = await FetchHelper.get(url, {\n                    timeout: 20000, // GeoJSON files can be large\n                    retries: 2\n                });\n            } else {\n                // Fallback to raw fetch\n                const response = await fetch(url);\n                if (!response.ok) {\n                    throw new Error(\"HTTP \" + response.status + \" pour \" + url);\n                }\n                data = await response.json();\n            }\n\n            GeoLeaf._GeoJSONLoader.addData(data, mergedOptions);\n            return state.geoJsonLayer;\n        } catch (err) {\n            Log.error(\"[GeoLeaf.GeoJSON] Erreur lors du chargement GeoJSON :\", err);\n            return state.geoJsonLayer;\n        }\n    };\n\n    /**\n     * Ajoute des donn√©es GeoJSON pass√©es directement en objet JS.\n     * Valide les features selon le sch√©ma strict avant ajout.\n     *\n     * @param {Object} geojsonData - Objet GeoJSON valide.\n     * @param {Object} [options] - Options additionnelles, fusionn√©es avec celles du module.\n     */\n    GeoLeaf._GeoJSONLoader.addData = function (geojsonData, options = {}) {\n        const state = getState();\n        const Log = getLog();\n\n        if (!geojsonData) {\n            Log.warn(\"[GeoLeaf.GeoJSON] Aucune donn√©e GeoJSON fournie √† addData().\");\n            return;\n        }\n\n        if (!state.map || !state.geoJsonLayer) {\n            Log.error(\"[GeoLeaf.GeoJSON] Module non initialis√©. Appelle GeoLeaf.GeoJSON.init() avant addData().\");\n            return;\n        }\n\n        const mergedOptions = GeoLeaf.Utils && GeoLeaf.Utils.mergeOptions\n            ? GeoLeaf.Utils.mergeOptions(state.options, options)\n            : Object.assign({}, state.options, options);\n\n        // Met √† jour les options de la couche si besoin\n        if (GeoLeaf._GeoJSONStyleResolver && GeoLeaf._GeoJSONStyleResolver.buildLeafletOptions) {\n            state.geoJsonLayer.options = GeoLeaf._GeoJSONStyleResolver.buildLeafletOptions(mergedOptions);\n        }\n\n        // Validation stricte des features GeoJSON\n        let dataToAdd = geojsonData;\n        if (GeoLeaf._GeoJSONFeatureValidator && typeof GeoLeaf._GeoJSONFeatureValidator.validateFeatureCollection === \"function\") {\n            const validationResult = GeoLeaf._GeoJSONFeatureValidator.validateFeatureCollection(geojsonData);\n\n            if (validationResult.errors.length > 0) {\n                Log.warn(\n                    `[GeoLeaf.GeoJSON] Validation: ${validationResult.errors.length} feature(s) rejet√©e(s), ${validationResult.validFeatures.length} accept√©e(s)`\n                );\n            }\n\n            // Ajouter uniquement les features valides\n            if (validationResult.validFeatures.length > 0) {\n                if (geojsonData.type === \"FeatureCollection\") {\n                    dataToAdd = {\n                        type: \"FeatureCollection\",\n                        features: validationResult.validFeatures\n                    };\n                } else {\n                    dataToAdd = validationResult.validFeatures.length === 1\n                        ? validationResult.validFeatures[0]\n                        : { type: \"FeatureCollection\", features: validationResult.validFeatures };\n                }\n            } else {\n                Log.warn(\"[GeoLeaf.GeoJSON] Aucune feature valide √† ajouter apr√®s validation\");\n                return;\n            }\n        }\n\n        // Ajoute les donn√©es valid√©es\n        state.geoJsonLayer.addData(dataToAdd);\n\n        // Adapter la vue sur les donn√©es si demand√©\n        if (mergedOptions.fitBoundsOnLoad && state.layerGroup) {\n            const bounds = state.layerGroup.getBounds();\n            if (bounds.isValid()) {\n                const fitOptions = {};\n                if (typeof mergedOptions.maxZoomOnFit === \"number\") {\n                    fitOptions.maxZoom = mergedOptions.maxZoomOnFit;\n                }\n                state.map.fitBounds(bounds, fitOptions);\n            }\n        }\n\n        // √âv√©nement custom pour l'√©cosyst√®me GeoLeaf\n        try {\n            state.map.fire(\"geoleaf:geojson:loaded\", {\n                data: geojsonData,\n                layer: state.geoJsonLayer\n            });\n        } catch (e) {\n            // On ne bloque jamais si fire √©choue\n        }\n    };\n\n})(window);\n","/**\n * GeoLeaf GeoJSON Loader - Single Layer\n * Pipeline complet de chargement d'une couche individuelle\n *\n * @module geojson/loader/single-layer\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // D√©pendances lazy\n    const getState = () => GeoLeaf._GeoJSONShared.state;\n    const getLog = () => (GeoLeaf.Log || console);\n\n    GeoLeaf._GeoJSONLoader = GeoLeaf._GeoJSONLoader || {};\n\n    /**\n     * Charge une couche GeoJSON individuelle.\n     *\n     * @param {string} layerId - ID unique de la couche\n     * @param {string} layerLabel - Libell√© de la couche\n     * @param {Object} def - D√©finition de la couche depuis le profil\n     * @param {Object} baseOptions - Options de base\n     * @returns {Promise<Object>} - M√©tadonn√©es de la couche charg√©e\n     * @private\n     */\n    GeoLeaf._GeoJSONLoader._loadSingleLayer = function (layerId, layerLabel, def, baseOptions) {\n        const state = getState();\n        const Log = getLog();\n\n        const fromCache = !!def._cachedData;\n        const dataPromise = fromCache\n            ? Promise.resolve(def._cachedData)\n            : fetch(def.url).then((response) => {\n                if (!response.ok) {\n                    throw new Error(\"HTTP \" + response.status + \" pour \" + def.url);\n                }\n\n                if (def.type === \"gpx\" || def.url.endsWith(\".gpx\")) {\n                    return response.text();\n                }\n\n                return response.json();\n            });\n\n        return dataPromise\n            .then((rawData) => {\n                if (fromCache) {\n                    delete def._cachedData;\n                }\n\n                const DataConverter = GeoLeaf._DataConverter;\n                let geojsonData;\n\n                if (def.type === \"gpx\" || def.url.endsWith(\".gpx\")) {\n                    if (typeof rawData === \"string\") {\n                        geojsonData = DataConverter && typeof DataConverter.convertGpxToGeoJSON === \"function\"\n                            ? DataConverter.convertGpxToGeoJSON(rawData)\n                            : { type: \"FeatureCollection\", features: [] };\n                    } else {\n                        Log.warn(\"[GeoLeaf.GeoJSON._loadSingleLayer] GPX n'est pas un string\", layerId);\n                        geojsonData = { type: \"FeatureCollection\", features: [] };\n                    }\n                } else {\n                    geojsonData = DataConverter ? DataConverter.autoConvert(rawData) : rawData;\n                }\n\n                Log.debug(\"[GeoLeaf.GeoJSON._loadSingleLayer] Donn√©es converties\", {\n                    layerId: layerId,\n                    type: def.type,\n                    features: geojsonData.features ? geojsonData.features.length : 0,\n                    source: fromCache ? \"cache\" : \"network\"\n                });\n\n                const PaneHelpers = GeoLeaf._GeoJSONShared.PaneHelpers;\n                const PaneConfig = GeoLeaf._GeoJSONShared.PANE_CONFIG;\n\n                const layerOptions = GeoLeaf._GeoJSONLoader._buildLayerOptions(def, baseOptions);\n                layerOptions.pane = PaneHelpers.getPaneName(def.zIndex);\n                const leafletLayer = global.L.geoJSON(geojsonData, layerOptions);\n\n                // D√©terminer la strat√©gie de clustering\n                const ClusteringModule = GeoLeaf._GeoJSONClustering;\n                const clusterStrategy = ClusteringModule\n                    ? ClusteringModule.getClusteringStrategy(def, geojsonData)\n                    : { shouldCluster: false, useSharedCluster: false };\n\n                let clusterGroup = null;\n                let useSharedCluster = false;\n\n                if (clusterStrategy.shouldCluster) {\n                    if (clusterStrategy.useSharedCluster) {\n                        // Utiliser le cluster POI partag√©\n                        Log.info(\"[GeoLeaf.GeoJSON] üîÑ Tentative r√©cup√©ration cluster POI partag√© pour:\", layerId);\n                        let poiCluster = ClusteringModule ? ClusteringModule.getSharedPOICluster() : null;\n\n                        if (poiCluster) {\n                            clusterGroup = poiCluster;\n                            clusterGroup.addLayer(leafletLayer);\n                            useSharedCluster = true;\n                            Log.info(\"[GeoLeaf.GeoJSON] ‚úÖ Couche ajout√©e au cluster POI partag√© (strat√©gie: unified) :\", layerId);\n                        } else {\n                            // Le cluster POI n'est pas encore cr√©√©, attendre un peu et r√©essayer\n                            Log.debug(\"[GeoLeaf.GeoJSON] Cluster POI non disponible imm√©diatement, tentative apr√®s d√©lai :\", layerId);\n\n                            // Stocker temporairement sans cluster\n                            const tempLayerData = {\n                                id: layerId,\n                                label: layerLabel,\n                                layer: leafletLayer,\n                                visible: true,\n                                config: def,\n                                clusterGroup: null,\n                                useSharedCluster: false,\n                                pendingSharedCluster: true\n                            };\n\n                            state.layers.set(layerId, tempLayerData);\n\n                            // R√©essayer apr√®s un court d√©lai\n                            setTimeout(() => {\n                                poiCluster = ClusteringModule ? ClusteringModule.getSharedPOICluster() : null;\n\n                                if (poiCluster) {\n                                    poiCluster.addLayer(leafletLayer);\n                                    tempLayerData.clusterGroup = poiCluster;\n                                    tempLayerData.useSharedCluster = true;\n                                    tempLayerData.pendingSharedCluster = false;\n                                    Log.debug(\"[GeoLeaf.GeoJSON] Couche ajout√©e au cluster POI partag√© (apr√®s d√©lai) :\", layerId);\n                                } else {\n                                    Log.warn(\"[GeoLeaf.GeoJSON] Cluster POI toujours non disponible, cr√©ation cluster ind√©pendant :\", layerId);\n                                    if (global.L.markerClusterGroup) {\n                                        const independentCluster = global.L.markerClusterGroup({\n                                            maxClusterRadius: def.clusterRadius || 80,\n                                            disableClusteringAtZoom: def.disableClusteringAtZoom || 18,\n                                            animate: false,\n                                            showCoverageOnHover: false\n                                        });\n\n                                        // Forcer le pane sur tous les markers du cluster\n                                        independentCluster.on('layeradd', function(e) {\n                                            PaneHelpers.applyPaneToLayer(e.layer, def.zIndex || 0);\n                                        });\n\n                                        independentCluster.addLayer(leafletLayer);\n                                        tempLayerData.clusterGroup = independentCluster;\n                                        tempLayerData.useSharedCluster = false;\n                                        tempLayerData.pendingSharedCluster = false;\n\n                                        if (tempLayerData.visible) {\n                                            state.map.addLayer(independentCluster);\n                                        }\n                                    }\n                                }\n                            }, 500);\n\n                            return {\n                                id: layerId,\n                                label: layerLabel,\n                                featureCount: leafletLayer.getLayers().length\n                            };\n                        }\n                    } else {\n                        // Cr√©er un cluster ind√©pendant (by-source)\n                        if (global.L.markerClusterGroup) {\n                            clusterGroup = global.L.markerClusterGroup({\n                                maxClusterRadius: def.clusterRadius || 80,\n                                disableClusteringAtZoom: def.disableClusteringAtZoom || 18,\n                                animate: false,\n                                spiderfyOnMaxZoom: false,\n                                showCoverageOnHover: false,\n                                zoomToBoundsOnClick: true\n                            });\n\n                            // Forcer le pane sur tous les markers du cluster\n                            const paneName = PaneHelpers.getPaneName(def.zIndex);\n                            clusterGroup.on('layeradd', function(e) {\n                                PaneHelpers.applyPaneToLayer(e.layer, def.zIndex || 0);\n                            });\n\n                            clusterGroup.addLayer(leafletLayer);\n                            Log.debug(\"[GeoLeaf.GeoJSON] Couche avec cluster ind√©pendant (strat√©gie: by-source) :\", layerId);\n                        }\n                    }\n                } else {\n                    Log.debug(\"[GeoLeaf.GeoJSON] Couche sans clustering :\", layerId);\n                }\n\n                // Stocker la couche\n                const inferredGeometry = GeoLeaf._GeoJSONLoader._inferGeometryType(def, geojsonData);\n\n                // Calculer le zIndex si non d√©fini\n                let zIndex = def.zIndex;\n                if (typeof zIndex !== 'number') {\n                    // Calculer automatiquement bas√© sur l'ordre d'apparition\n                    const allLayerIds = Array.from(state.layers.keys());\n                    zIndex = Math.max(PaneConfig.MIN_LAYER_ZINDEX, PaneConfig.MAX_LAYER_ZINDEX - allLayerIds.length);\n                    Log.debug(`[GeoLeaf.GeoJSON] zIndex auto-assign√© pour ${layerId}: ${zIndex}`);\n                } else {\n                    // Validation et clamping 0-99\n                    const validatedZIndex = PaneHelpers.validateZIndex(zIndex);\n                    if (validatedZIndex !== def.zIndex) {\n                        Log.warn(`[GeoLeaf.GeoJSON] zIndex ${def.zIndex} clamped to ${validatedZIndex} pour ${layerId}`);\n                    }\n                    zIndex = validatedZIndex;\n                }\n                def.zIndex = zIndex;\n\n                const Config = GeoLeaf.Config;\n                const dataCfg = Config && Config.get ? Config.get('data') : null;\n                const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || \"profiles\";\n                const layerBasePath = `${profilesBasePath}/${def._profileId}/${def._layerDirectory}`;\n\n                const layerData = {\n                    id: layerId,\n                    label: layerLabel,\n                    layer: leafletLayer,\n                    visible: true,\n                    config: def,\n                    clusterGroup: clusterGroup,\n                    legendsConfig: def.legends,\n                    basePath: layerBasePath,\n                    useSharedCluster: useSharedCluster,\n                    geojson: geojsonData,\n                    features: Array.isArray(geojsonData.features) ? geojsonData.features : [],\n                    geometryType: def.geometryType || inferredGeometry\n                };\n\n                // Initialiser les m√©tadonn√©es de visibilit√© AVANT d'ajouter √† la map\n                layerData._visibility = {\n                    current: false,\n                    logicalState: false,\n                    source: 'system',\n                    userOverride: false,\n                    themeOverride: false,\n                    themeDesired: null,\n                    zoomConstrained: false\n                };\n\n                state.layers.set(layerId, layerData);\n\n                // Mettre en cache pour l'UI (filtre, recherche)\n                state.featureCache.set(layerId, {\n                    features: layerData.features,\n                    geometryType: layerData.geometryType\n                });\n\n                // Mettre en cache les donn√©es GeoJSON pour les chargements suivants\n                if (GeoLeaf.ThemeCache && typeof GeoLeaf.ThemeCache.store === 'function') {\n                    const profileId = def._profileId || (GeoLeaf.Config && GeoLeaf.Config.getActiveProfileId ? GeoLeaf.Config.getActiveProfileId() : null);\n                    GeoLeaf.ThemeCache.store(layerId, profileId, geojsonData, { contentLength: def.contentLength });\n                }\n\n                // Appliquer imm√©diatement les seuils de zoom pour cette couche\n                if (GeoLeaf._GeoJSONLayerManager) {\n                    GeoLeaf._GeoJSONLayerManager.updateLayerVisibilityByZoom();\n                }\n\n                // NE PAS ajouter automatiquement √† la carte au chargement\n                // Les th√®mes contr√¥leront la visibilit√© des couches\n                layerData.visible = false;\n\n                // FitBounds UNIQUEMENT si pas de syst√®me de th√®mes\n                const shouldFitBounds = def.fitBoundsOnLoad && !GeoLeaf.ThemeSelector;\n                if (shouldFitBounds && leafletLayer.getBounds().isValid()) {\n                    const fitOptions = {};\n                    if (typeof def.maxZoomOnFit === \"number\") {\n                        fitOptions.maxZoom = def.maxZoomOnFit;\n                    }\n                    state.map.fitBounds(leafletLayer.getBounds(), fitOptions);\n                }\n\n                // Charger le style par d√©faut si styles.default est d√©fini\n                if (def.styles && def.styles.default) {\n                    GeoLeaf._GeoJSONLoader._loadDefaultStyle(layerId, def)\n                        .then((styleData) => {\n                            if (styleData && GeoLeaf._GeoJSONLayerManager) {\n                                Log.debug(\"[GeoLeaf.GeoJSON] Application du style par d√©faut pour:\", layerId);\n\n                                // Stocker currentStyle dans layerData pour les labels\n                                const layerDataForStyle = state.layers.get(layerId);\n                                if (layerDataForStyle) {\n                                    layerDataForStyle.currentStyle = styleData;\n                                    Log.debug(\"[GeoLeaf.GeoJSON] currentStyle stock√© pour:\", layerId);\n                                }\n\n                                GeoLeaf._GeoJSONLayerManager.setLayerStyle(layerId, styleData);\n\n                                // Initialiser les labels selon le style\n                                if (GeoLeaf.Labels && typeof GeoLeaf.Labels.initializeLayerLabels === 'function') {\n                                    GeoLeaf.Labels.initializeLayerLabels(layerId);\n                                }\n\n                                // Synchroniser le bouton de label maintenant que currentStyle est d√©fini\n                                if (GeoLeaf._LabelButtonManager) {\n                                    GeoLeaf._LabelButtonManager.syncImmediate(layerId);\n                                }\n                            }\n                        })\n                        .catch((err) => {\n                            Log.warn(\"[GeoLeaf.GeoJSON] Erreur chargement style par d√©faut:\", layerId, err.message);\n                        });\n                } else {\n                    // Pas de style par d√©faut: initialiser les labels depuis la config legacy si pr√©sents\n                    if (def.labels && def.labels.enabled && GeoLeaf.Labels && typeof GeoLeaf.Labels.initializeLayerLabels === 'function') {\n                        GeoLeaf.Labels.initializeLayerLabels(layerId);\n                    }\n\n                    // Synchroniser le bouton de label\n                    if (GeoLeaf._LabelButtonManager) {\n                        GeoLeaf._LabelButtonManager.syncImmediate(layerId);\n                    }\n                }\n                Log.debug(\"[GeoLeaf.GeoJSON] Couche charg√©e avec succ√®s :\", layerId, \"(\" + leafletLayer.getLayers().length + \" features)\");\n\n                return {\n                    id: layerId,\n                    label: layerLabel,\n                    featureCount: leafletLayer.getLayers().length\n                };\n            });\n    };\n\n})(window);\n","/**\n * GeoLeaf GeoJSON Loader - Profile\n * Orchestration du chargement par profil, batch loading, LayerManager population\n *\n * @module geojson/loader/profile\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    // D√©pendances lazy\n    const getState = () => GeoLeaf._GeoJSONShared.state;\n    const getLog = () => (GeoLeaf.Log || console);\n\n    GeoLeaf._GeoJSONLoader = GeoLeaf._GeoJSONLoader || {};\n\n    /**\n     * Charge automatiquement les couches GeoJSON d√©clar√©es dans le profil actif.\n     *\n     * @param {Object} [options] - Options suppl√©mentaires globales appliqu√©es √† toutes les couches.\n     * @returns {Promise<Array<Object>>} - Tableau des couches effectivement charg√©es avec m√©tadonn√©es.\n     */\n    GeoLeaf._GeoJSONLoader.loadFromActiveProfile = function (options = {}) {\n        const state = getState();\n        const Log = getLog();\n        const Config = GeoLeaf.Config;\n\n\n\n        if (!Config || typeof Config.getActiveProfile !== \"function\") {\n\n            Log.warn(\n                \"[GeoLeaf.GeoJSON] Module Config ou Config.getActiveProfile() non disponible ; chargement GeoJSON par profil impossible.\"\n            );\n            return Promise.resolve([]);\n        }\n\n        const profile = Config.getActiveProfile();\n\n\n        if (!profile || typeof profile !== \"object\") {\n\n            Log.warn(\"[GeoLeaf.GeoJSON] Aucun profil actif ou profil invalide ; aucun GeoJSON charg√©.\");\n            return Promise.resolve([]);\n        }\n\n        let layersDef = [];\n\n        // Format 1 : profil.geojsonLayers = [...]\n        if (Array.isArray(profile.geojsonLayers)) {\n            layersDef = profile.geojsonLayers;\n        }\n        // Format 2 : profil.geojson.layers = [...]\n        else if (profile.geojson && Array.isArray(profile.geojson.layers)) {\n            layersDef = profile.geojson.layers;\n        }\n        // Format 3 : profil.layers = [...] (nouveau mod√®le Full Layer)\n        else if (Array.isArray(profile.layers)) {\n            layersDef = profile.layers;\n        }\n        // Format 4 : v3.0 avec Config.getActiveProfileLayersConfig() (nouvelles couches modulaires)\n        else if (Config.Profile && typeof Config.Profile.getActiveProfileLayersConfig === \"function\") {\n            const layersConfig = Config.Profile.getActiveProfileLayersConfig();\n            if (Array.isArray(layersConfig)) {\n                layersDef = layersConfig;\n                Log.info(\"[GeoLeaf.GeoJSON] Utilisation du syst√®me v3.0 - \" + layersConfig.length + \" couches d√©tect√©es\");\n            }\n        }\n\n        if (!layersDef.length) {\n            Log.info(\n                \"[GeoLeaf.GeoJSON] Aucun bloc geojsonLayers / geojson.layers / layers d√©fini dans le profil actif ; rien √† charger.\"\n            );\n            return Promise.resolve([]);\n        }\n\n        // Limite de s√©curit√© : max 50 couches (augment√©e pour profils riches)\n        if (layersDef.length > 50) {\n            Log.warn(\n                \"[GeoLeaf.GeoJSON] Beaucoup de couches GeoJSON d√©tect√©es (\" + layersDef.length + \"). Cela peut affecter les performances.\"\n            );\n        } else if (layersDef.length > 20) {\n            Log.info(\n                \"[GeoLeaf.GeoJSON] \" + layersDef.length + \" couches GeoJSON d√©tect√©es. Profil riche d√©tect√©.\"\n            );\n        }\n\n        const baseOptions = options || {};\n        const batchSize = 3;\n        const batchDelay = 200;\n        const self = this;\n\n        const tasks = layersDef.map((def, index) => async () => {\n            if (!def || typeof def !== \"object\") {\n                Log.warn(\"[GeoLeaf.GeoJSON] Descripteur GeoJSON de profil invalide, ignor√© :\", { index, def });\n                return null;\n            }\n\n            if (typeof def.active === \"boolean\" && def.active === false) {\n                Log.debug(\"[GeoLeaf.GeoJSON] Couche d√©sactiv√©e (active: false), ignor√©e :\", def.id || \"(sans ID)\");\n                return null;\n            }\n\n            const layerDirectory = def._layerDirectory || null;\n            const layerUrl = def.url || (def.dataFile ? self._resolveDataFilePath(def.dataFile, profile, layerDirectory) : null);\n\n            if (!layerUrl) {\n                Log.warn(\"[GeoLeaf.GeoJSON] Descripteur GeoJSON sans URL ou dataFile, ignor√© :\", {\n                    index,\n                    id: def.id,\n                    label: def.label\n                });\n                return null;\n            }\n\n            const normalizedDef = { ...def, url: layerUrl };\n            normalizedDef._profileId = profile.id;\n            normalizedDef._layerDirectory = layerDirectory;\n\n            // Normalisation unifi√©e des configurations\n            if (def.popup && typeof def.popup === 'object') {\n                normalizedDef.showPopup = def.popup.enabled !== false;\n                if (def.popup.fields && Array.isArray(def.popup.fields)) {\n                    normalizedDef.popupFields = def.popup.fields;\n                }\n                normalizedDef.popup = def.popup;\n            }\n\n            if (def.tooltip && typeof def.tooltip === 'object') {\n                normalizedDef.showTooltip = def.tooltip.enabled !== false;\n                if (def.tooltip.fields && Array.isArray(def.tooltip.fields)) {\n                    normalizedDef.tooltipFields = def.tooltip.fields;\n                }\n                if (def.tooltip.mode) {\n                    normalizedDef.tooltipMode = def.tooltip.mode;\n                }\n                normalizedDef.tooltip = def.tooltip;\n            }\n\n            if (def.sidepanel && typeof def.sidepanel === 'object') {\n                if (def.sidepanel.detailLayout && Array.isArray(def.sidepanel.detailLayout)) {\n                    normalizedDef.sidepanelFields = def.sidepanel.detailLayout;\n                }\n                normalizedDef.sidepanel = def.sidepanel;\n            }\n\n            if (def.clustering && typeof def.clustering === 'object') {\n                normalizedDef.clustering = def.clustering.enabled !== false;\n                if (typeof def.clustering.maxClusterRadius === 'number') {\n                    normalizedDef.maxClusterRadius = def.clustering.maxClusterRadius;\n                    normalizedDef.clusterRadius = def.clustering.maxClusterRadius;\n                }\n                if (typeof def.clustering.disableClusteringAtZoom === 'number') {\n                    normalizedDef.disableClusteringAtZoom = def.clustering.disableClusteringAtZoom;\n                }\n            }\n\n            if (def.search && typeof def.search === 'object') {\n                normalizedDef.search = def.search;\n            }\n\n            if (def.table && typeof def.table === 'object') {\n                normalizedDef.table = def.table;\n            }\n\n            const layerId = def.id || (\"geojson-layer-\" + (state.layerIdCounter++));\n            const layerLabel = def.label || layerId;\n\n            Log.debug(\"[GeoLeaf.GeoJSON] Chargement couche GeoJSON :\", {\n                profileId: profile.id || \"(inconnu)\",\n                layerId: layerId,\n                url: layerUrl\n            });\n\n            try {\n                return await GeoLeaf._GeoJSONLoader._loadSingleLayer(layerId, layerLabel, normalizedDef, baseOptions);\n            } catch (err) {\n                Log.error(\"[GeoLeaf.GeoJSON] √âchec chargement couche :\", {\n                    layerId: layerId,\n                    url: layerUrl,\n                    error: err\n                });\n                return null;\n            }\n        });\n\n        return this._loadLayersByBatch(tasks, batchSize, batchDelay).then((layers) => {\n            const loadedLayers = layers.filter(Boolean);\n\n            Log.info(\"[GeoLeaf.GeoJSON] \" + loadedLayers.length + \" couche(s) GeoJSON charg√©e(s)\");\n            Log.info(`[GeoLeaf.GeoJSON] Avant v√©rif LayerManager - loadedLayers: ${loadedLayers.length}, _GeoJSONLayerManager existe: ${!!GeoLeaf._GeoJSONLayerManager}`);\n\n            // Int√©gration avec LayerManager si disponible\n            if (loadedLayers.length > 0 && GeoLeaf._GeoJSONLayerManager) {\n                GeoLeaf._GeoJSONLayerManager.registerWithLayerManager();\n            }\n\n            // Fit bounds sur l'ensemble des couches si demand√©\n            if (baseOptions.fitBoundsOnLoad !== false && state.map && state.layerGroup) {\n                const bounds = state.layerGroup.getBounds();\n                if (bounds.isValid()) {\n                    const fitOptions = {};\n                    if (typeof baseOptions.maxZoomOnFit === \"number\") {\n                        fitOptions.maxZoom = baseOptions.maxZoomOnFit;\n                    }\n                    state.map.fitBounds(bounds, fitOptions);\n                    Log.debug(\"[GeoLeaf.GeoJSON] Carte ajust√©e sur l'emprise des couches GeoJSON\");\n\n                    // √âmettre un √©v√©nement apr√®s le fitBounds\n                    const onMoveEnd = function() {\n                        state.map.off('moveend', onMoveEnd);\n                        try {\n                            const event = new CustomEvent('geoleaf:fitbounds:complete', { detail: { bounds: bounds } });\n                            document.dispatchEvent(event);\n                        } catch (e) {\n                            // fallback si CustomEvent n'est pas dispo\n                        }\n                    };\n                    state.map.on('moveend', onMoveEnd);\n                }\n            }\n\n            // √âv√©nement global\n            try {\n                state.map.fire(\"geoleaf:geojson:layers-loaded\", {\n                    count: loadedLayers.length,\n                    layers: loadedLayers.map(l => ({ id: l.id, label: l.label }))\n                });\n            } catch (e) {\n                // Silencieux\n            }\n\n            return loadedLayers;\n        });\n    };\n\n    /**\n     * Ex√©cute un tableau de t√¢ches async par lots.\n     *\n     * @param {Array<Function>} tasks - Fonctions async √† ex√©cuter\n     * @param {number} [batchSize=3] - Taille des lots\n     * @param {number} [delayMs=200] - D√©lai entre les lots (non utilis√© actuellement)\n     * @returns {Promise<Array>}\n     * @private\n     */\n    GeoLeaf._GeoJSONLoader._loadLayersByBatch = async function (tasks, batchSize = 3, delayMs = 200) {\n        const results = [];\n\n        for (let i = 0; i < tasks.length; i += batchSize) {\n            const batch = tasks.slice(i, i + batchSize);\n            const batchStart = Date.now();\n            const batchResults = await Promise.all(batch.map(fn => fn()));\n            results.push(...batchResults);\n\n            const batchDuration = Date.now() - batchStart;\n            const Log = getLog();\n            Log.info(`[GeoLeaf.GeoJSON] Lot ${Math.floor(i / batchSize) + 1}/${Math.ceil(tasks.length / batchSize)} charg√© en ${batchDuration} ms`);\n        }\n\n        return results;\n    };\n\n    /**\n     * Pr√©pare les configurations de TOUTES les couches pour le LayerManager.\n     * Utilise les configs d√©j√† charg√©es par ProfileV3Loader et y ajoute les layerManagerId.\n     *\n     * @param {Object} profile - Profil actif enrichi par ProfileV3Loader\n     * @returns {Promise<Array>} - Promise r√©solvant en array des infos de couches\n     */\n    GeoLeaf._GeoJSONLoader.loadAllLayersConfigsForLayerManager = async function(profile) {\n        const Log = getLog();\n\n        if (!profile || !profile.layers || !Array.isArray(profile.layers)) {\n            Log.warn(\"[GeoLeaf.GeoJSON] loadAllLayersConfigsForLayerManager: Pas de couches dans le profil\");\n            return [];\n        }\n\n        Log.info(`[GeoLeaf.GeoJSON] Pr√©paration de ${profile.layers.length} configurations de couches pour LayerManager...`);\n\n        // Les configs sont d√©j√† charg√©es par ProfileV3Loader, il suffit d'enrichir avec layerManagerId\n        const allConfigs = profile.layers.map(layer => {\n            let styles = null;\n            let labels = null;\n            if (layer.config && layer.config.styles) {\n                styles = layer.config.styles;\n            } else if (layer.styles) {\n                styles = layer.styles;\n            }\n            if (layer.config && layer.config.labels) {\n                labels = layer.config.labels;\n            } else if (layer.labels) {\n                labels = layer.labels;\n            }\n            return {\n                id: layer.id,\n                label: layer.label,\n                layerManagerId: layer.layerManagerId || \"geojson-default\",\n                configFile: layer.configFile,\n                zIndex: (layer.config && layer.config.zIndex) || 0,\n                themes: (layer.config && layer.config.themes) || null,\n                styles: styles,\n                labels: labels\n            };\n        });\n\n        Log.info(`[GeoLeaf.GeoJSON] ${allConfigs.length} configurations pr√™tes pour LayerManager`);\n\n        // Stocker les configs pour utilisation par LayerManager\n        GeoLeaf._allLayerConfigs = allConfigs;\n\n        return allConfigs;\n    };\n\n})(window);\n","/**\n * GeoLeaf GeoJSON Module - Aggregator\n * Module principal qui d√©l√®gue aux sous-modules sp√©cialis√©s\n *\n * Architecture Phase 3.5:\n * - geojson/shared.js        : √âtat partag√©, constantes, STYLE_OPERATORS\n * - geojson/style-resolver.js: √âvaluation styleRules, buildLeafletOptions\n * - geojson/layer-manager.js : Gestion couches (show/hide/toggle/remove)\n * - geojson/loader.js        : Chargement (loadUrl, loadFromActiveProfile)\n * - geojson/popup-tooltip.js : Popups et tooltips unifi√©s\n * - geojson/clustering.js    : Strat√©gies de clustering\n *\n * @module geoleaf.geojson\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log || console;\n\n    // ========================================\n    //   GETTERS LAZY POUR SOUS-MODULES\n    // ========================================\n\n    const getShared = () => GeoLeaf._GeoJSONShared;\n    const getState = () => GeoLeaf._GeoJSONShared && GeoLeaf._GeoJSONShared.state;\n    const getStyleResolver = () => GeoLeaf._GeoJSONStyleResolver;\n    const getLayerManager = () => GeoLeaf._GeoJSONLayerManager;\n    const getLoader = () => GeoLeaf._GeoJSONLoader;\n    const getPopupTooltip = () => GeoLeaf._GeoJSONPopupTooltip;\n    const getClustering = () => GeoLeaf._GeoJSONClustering;\n\n    // ========================================\n    //   MODULE GEOJSON (AGR√âGATEUR)\n    // ========================================\n\n    const GeoJSONModule = {\n        /**\n         * Getters pour acc√®s direct √† l'√©tat (compatibilit√©)\n         */\n        get _map() { return getState() ? getState().map : null; },\n        get _layerGroup() { return getState() ? getState().layerGroup : null; },\n        get _geoJsonLayer() { return getState() ? getState().geoJsonLayer : null; },\n        get _layers() { return getState() ? getState().layers : new Map(); },\n        get _featureCache() { return getState() ? getState().featureCache : new Map(); },\n        get _options() { return getState() ? getState().options : {}; },\n\n        /**\n         * Valide les options pass√©es √† init()\n         * @param {Object} options\n         * @private\n         */\n        _validateOptions(options) {\n            if (options.map && typeof options.map.addLayer !== 'function') {\n                Log.warn(\"[GeoLeaf.GeoJSON] options.map ne semble pas √™tre une carte Leaflet valide.\");\n            }\n\n            if (options.defaultStyle && typeof options.defaultStyle !== 'object') {\n                Log.warn(\"[GeoLeaf.GeoJSON] options.defaultStyle doit √™tre un objet.\");\n                delete options.defaultStyle;\n            }\n\n            if (options.onEachFeature && typeof options.onEachFeature !== 'function') {\n                Log.warn(\"[GeoLeaf.GeoJSON] options.onEachFeature doit √™tre une fonction.\");\n                delete options.onEachFeature;\n            }\n\n            if (options.pointToLayer && typeof options.pointToLayer !== 'function') {\n                Log.warn(\"[GeoLeaf.GeoJSON] options.pointToLayer doit √™tre une fonction.\");\n                delete options.pointToLayer;\n            }\n\n            if (options.maxZoomOnFit !== undefined &&\n                (typeof options.maxZoomOnFit !== 'number' || options.maxZoomOnFit < 1 || options.maxZoomOnFit > 20)) {\n                Log.warn(\"[GeoLeaf.GeoJSON] options.maxZoomOnFit doit √™tre un nombre entre 1 et 20.\");\n                options.maxZoomOnFit = GeoLeaf.CONSTANTS ? GeoLeaf.CONSTANTS.GEOJSON_MAX_ZOOM_ON_FIT : 18;\n            }\n\n            return options;\n        },\n\n        /**\n         * Initialise le module GeoJSON.\n         *\n         * @param {Object} options\n         * @param {L.Map} [options.map] - Carte Leaflet. Si absent, tentative via GeoLeaf.Core.getMap().\n         * @param {Object} [options.defaultStyle]\n         * @param {Object} [options.defaultPointStyle]\n         * @param {Function} [options.onEachFeature]\n         * @param {Function} [options.pointToLayer]\n         * @param {boolean} [options.fitBoundsOnLoad]\n         * @param {number} [options.maxZoomOnFit]\n         * @returns {L.GeoJSON|null} - La couche GeoJSON ou null si √©chec.\n         */\n        init(options = {}) {\n            const state = getState();\n            if (!state) {\n                Log.error(\"[GeoLeaf.GeoJSON] Module shared.js non charg√©.\");\n                return null;\n            }\n\n            // Validation\n            options = this._validateOptions(options);\n\n            if (typeof global.L === \"undefined\" || !global.L || typeof global.L.geoJSON !== \"function\") {\n                Log.error(\"[GeoLeaf.GeoJSON] Leaflet (L) est requis mais introuvable.\");\n                return null;\n            }\n\n            // Utiliser l'helper partag√©\n            const map = GeoLeaf.Utils ? GeoLeaf.Utils.ensureMap(options.map) : (options.map || null);\n\n            if (!map) {\n                Log.error(\n                    \"[GeoLeaf.GeoJSON] Aucune carte Leaflet disponible. Passe une instance de carte dans init({ map }).\"\n                );\n                return null;\n            }\n\n            state.map = map;\n\n            // Fusionner les options\n            state.options = GeoLeaf.Utils && GeoLeaf.Utils.mergeOptions\n                ? GeoLeaf.Utils.mergeOptions(state.options, options)\n                : Object.assign({}, state.options, options);\n\n            // Cr√©er les panes pour contr√¥ler le z-index des couches\n            const PaneConfig = getShared().PANE_CONFIG;\n            const PaneHelpers = getShared().PaneHelpers;\n\n            // Basemap: z-index 200 (toujours en dessous)\n            const basemapPane = state.map.createPane(PaneConfig.BASEMAP_NAME);\n            basemapPane.style.zIndex = PaneConfig.BASEMAP_ZINDEX;\n\n            // Couches GeoJSON/WMS: z-index 400-499 (0-99 dans config)\n            for (let i = PaneConfig.MIN_LAYER_ZINDEX; i <= PaneConfig.MAX_LAYER_ZINDEX; i++) {\n                const pane = state.map.createPane(PaneHelpers.getPaneName(i));\n                pane.style.zIndex = PaneConfig.LAYER_BASE_ZINDEX + i;\n            }\n\n            Log.info(`[GeoLeaf.GeoJSON] Panes cr√©√©s : ${PaneConfig.BASEMAP_NAME} (z:${PaneConfig.BASEMAP_ZINDEX}), ${PaneConfig.LAYER_PREFIX}0 √† ${PaneConfig.LAYER_PREFIX}${PaneConfig.MAX_LAYER_ZINDEX} (z:${PaneConfig.LAYER_BASE_ZINDEX}-${PaneConfig.LAYER_BASE_ZINDEX + PaneConfig.MAX_LAYER_ZINDEX})`);\n\n            // Cr√©er un groupe pour encapsuler TOUTES les couches GeoJSON\n            state.layerGroup = global.L.featureGroup().addTo(state.map);\n\n            // Initialiser la Map des couches\n            state.layers = new Map();\n\n            // Ajouter un √©couteur pour g√©rer les seuils de zoom\n            const LayerManager = getLayerManager();\n            if (LayerManager) {\n                state.map.on('zoomend', () => {\n                    LayerManager.updateLayerVisibilityByZoom();\n                });\n            }\n\n            // LEGACY: Cr√©er la couche GeoJSON vide (pour compatibilit√©)\n            const StyleResolver = getStyleResolver();\n            const leafletOptions = StyleResolver\n                ? StyleResolver.buildLeafletOptions(state.options)\n                : {};\n\n            state.geoJsonLayer = global.L.geoJSON(null, leafletOptions);\n            state.geoJsonLayer.addTo(state.layerGroup);\n\n            Log.info(\"[GeoLeaf.GeoJSON] Module initialis√© en mode multi-couches\");\n\n            return state.geoJsonLayer;\n        },\n\n        /**\n         * Retourne la couche GeoJSON principale (LEGACY).\n         * @returns {L.GeoJSON|null}\n         */\n        getLayer() {\n            const state = getState();\n            return state ? state.geoJsonLayer : null;\n        },\n\n        // ========================================\n        //   D√âL√âGATION VERS LAYER MANAGER\n        // ========================================\n\n        getLayerById(layerId) {\n            const LayerManager = getLayerManager();\n            return LayerManager ? LayerManager.getLayerById(layerId) : null;\n        },\n\n        getLayerData(layerId) {\n            const LayerManager = getLayerManager();\n            return LayerManager ? LayerManager.getLayerData(layerId) : null;\n        },\n\n        getAllLayers() {\n            const LayerManager = getLayerManager();\n            return LayerManager ? LayerManager.getAllLayers() : [];\n        },\n\n        showLayer(layerId) {\n            const LayerManager = getLayerManager();\n            if (LayerManager) LayerManager.showLayer(layerId);\n        },\n\n        hideLayer(layerId) {\n            const LayerManager = getLayerManager();\n            if (LayerManager) LayerManager.hideLayer(layerId);\n        },\n\n        toggleLayer(layerId) {\n            const LayerManager = getLayerManager();\n            if (LayerManager) LayerManager.toggleLayer(layerId);\n        },\n\n        removeLayer(layerId) {\n            const LayerManager = getLayerManager();\n            if (LayerManager) LayerManager.removeLayer(layerId);\n        },\n\n        updateLayerZIndex(layerId, newZIndex) {\n            const LayerManager = getLayerManager();\n            return LayerManager ? LayerManager.updateLayerZIndex(layerId, newZIndex) : false;\n        },\n\n        setLayerStyle(layerId, styleConfig) {\n            const LayerManager = getLayerManager();\n            return LayerManager ? LayerManager.setLayerStyle(layerId, styleConfig) : false;\n        },\n\n        // ========================================\n        //   D√âL√âGATION VERS LOADER\n        // ========================================\n\n        loadUrl(url, options = {}) {\n            const Loader = getLoader();\n            return Loader ? Loader.loadUrl(url, options) : Promise.resolve(null);\n        },\n\n        addData(geojsonData, options = {}) {\n            const Loader = getLoader();\n            if (Loader) Loader.addData(geojsonData, options);\n        },\n\n        loadFromActiveProfile(options = {}) {\n            const Loader = getLoader();\n            return Loader ? Loader.loadFromActiveProfile(options) : Promise.resolve([]);\n        },\n\n        // ========================================\n        //   FILTRAGE DES FEATURES\n        // ========================================\n\n        /**\n         * Filtre les features de toutes les couches GeoJSON.\n         * Montre uniquement les features qui passent le pr√©dicat.\n         *\n         * @param {Function} filterFn - Fonction (feature, layerId) => boolean\n         * @param {Object} [options] - Options suppl√©mentaires\n         * @returns {Object} - { filtered: number, total: number, visible: number }\n         */\n        filterFeatures(filterFn, options = {}) {\n            const state = getState();\n            if (typeof filterFn !== 'function') {\n                Log.warn(\"[GeoLeaf.GeoJSON] filterFeatures: filterFn doit √™tre une fonction\");\n                return { filtered: 0, total: 0, visible: 0 };\n            }\n\n            const stats = { filtered: 0, total: 0, visible: 0 };\n\n            // D√©terminer les couches √† filtrer\n            let layerIds = [];\n            if (options.layerIds) {\n                layerIds = Array.isArray(options.layerIds) ? options.layerIds : [options.layerIds];\n            } else {\n                layerIds = Array.from(state.layers.keys());\n            }\n\n            // Filtrer par type de g√©om√©trie si sp√©cifi√© (avec aliases)\n            if (options.geometryType) {\n                const geoType = options.geometryType.toLowerCase();\n                const typeAliases = {\n                    'poi': 'point',\n                    'route': 'line',\n                    'linestring': 'line',\n                    'area': 'polygon'\n                };\n                const normalizedType = typeAliases[geoType] || geoType;\n\n                layerIds = layerIds.filter(id => {\n                    const data = state.layers.get(id);\n                    if (!data) return false;\n                    const layerGeoType = (data.geometryType || '').toLowerCase();\n                    const normalizedLayerType = typeAliases[layerGeoType] || layerGeoType;\n                    return normalizedLayerType === normalizedType;\n                });\n            }\n\n            layerIds.forEach(layerId => {\n                const layerData = state.layers.get(layerId);\n                if (!layerData || !layerData.layer) return;\n\n                // Si search.enabled === false, la couche n'est pas concern√©e par le filtrage\n                const bypassFilter = layerData.config?.search?.enabled === false;\n\n                // Initialiser le Set des layers filtr√©es si pas encore fait\n                if (!layerData._filteredOutLayers) {\n                    layerData._filteredOutLayers = new Set();\n                }\n\n                const toShow = [];\n                const toHide = [];\n\n                // It√©rer sur chaque feature\n                layerData.layer.eachLayer(leafletLayer => {\n                    if (!leafletLayer.feature) return;\n\n                    stats.total++;\n\n                    const shouldShow = bypassFilter || filterFn(leafletLayer.feature, layerId);\n\n                    if (shouldShow) {\n                        toShow.push(leafletLayer);\n                        stats.visible++;\n                    } else {\n                        toHide.push(leafletLayer);\n                        stats.filtered++;\n                    }\n                });\n\n                // Appliquer les changements de visibilit√©\n                const clusterGroup = layerData.clusterGroup;\n\n                toHide.forEach(leafletLayer => {\n                    leafletLayer._geoleafFiltered = true;\n\n                    if (clusterGroup) {\n                        if (!layerData._filteredOutLayers.has(leafletLayer)) {\n                            clusterGroup.removeLayer(leafletLayer);\n                            layerData._filteredOutLayers.add(leafletLayer);\n                        }\n                    } else {\n                        if (leafletLayer.getElement) {\n                            const layerElement = leafletLayer.getElement();\n                            if (layerElement) layerElement.style.display = 'none';\n                        } else if (leafletLayer.setStyle) {\n                            if (leafletLayer.options._originalOpacity === undefined) {\n                                leafletLayer.options._originalOpacity = leafletLayer.options.opacity;\n                                leafletLayer.options._originalFillOpacity = leafletLayer.options.fillOpacity;\n                            }\n                            leafletLayer.setStyle({ opacity: 0, fillOpacity: 0 });\n                        }\n                    }\n                });\n\n                toShow.forEach(leafletLayer => {\n                    leafletLayer._geoleafFiltered = false;\n\n                    if (clusterGroup) {\n                        if (layerData._filteredOutLayers.has(leafletLayer)) {\n                            clusterGroup.addLayer(leafletLayer);\n                            layerData._filteredOutLayers.delete(leafletLayer);\n                        }\n                    } else {\n                        if (leafletLayer.getElement) {\n                            const layerElement = leafletLayer.getElement();\n                            if (layerElement) layerElement.style.display = '';\n                        } else if (leafletLayer.setStyle) {\n                            leafletLayer.setStyle({\n                                opacity: leafletLayer.options._originalOpacity !== undefined\n                                    ? leafletLayer.options._originalOpacity : 1,\n                                fillOpacity: leafletLayer.options._originalFillOpacity !== undefined\n                                    ? leafletLayer.options._originalFillOpacity : 0.4\n                            });\n                        }\n                    }\n                });\n            });\n\n            Log.debug(`[GeoLeaf.GeoJSON] filterFeatures: ${stats.visible}/${stats.total} features visibles`);\n            return stats;\n        },\n\n        /**\n         * R√©initialise le filtre sur les features (montre tout).\n         *\n         * @param {Object} [options] - M√™mes options que filterFeatures\n         */\n        clearFeatureFilter(options = {}) {\n            return this.filterFeatures(() => true, options);\n        },\n\n        /**\n         * Retourne toutes les features charg√©es.\n         * @param {Object} [options]\n         * @returns {Array<Object>} features GeoJSON enrichies de { _layerId }\n         */\n        getFeatures(options = {}) {\n            const state = getState();\n            if (!state) return [];\n\n            const geometrySet = Array.isArray(options.geometryTypes)\n                ? new Set(options.geometryTypes.map(t => t.toLowerCase()))\n                : null;\n            const layerSet = Array.isArray(options.layerIds) ? new Set(options.layerIds) : null;\n\n            const result = [];\n            state.featureCache.forEach((entry, layerId) => {\n                if (layerSet && !layerSet.has(layerId)) return;\n                const geoType = (entry.geometryType || \"\").toLowerCase();\n                if (geometrySet && !geometrySet.has(geoType)) return;\n\n                (entry.features || []).forEach((f) => {\n                    if (f && typeof f === \"object\") {\n                        const clone = Object.assign({}, f, { _layerId: layerId });\n                        result.push(clone);\n                    }\n                });\n            });\n            return result;\n        },\n\n        /**\n         * Supprime toutes les entit√©s GeoJSON de la couche legacy.\n         */\n        clear() {\n            const state = getState();\n            if (state && state.geoJsonLayer) {\n                state.geoJsonLayer.clearLayers();\n            }\n        },\n\n        // ========================================\n        //   M√âTHODES INTERNES EXPOS√âES\n        // ========================================\n\n        _updateLayerVisibilityByZoom() {\n            const LayerManager = getLayerManager();\n            if (LayerManager) LayerManager.updateLayerVisibilityByZoom();\n        },\n\n        _registerWithLayerManager() {\n            const LayerManager = getLayerManager();\n            if (LayerManager) LayerManager.registerWithLayerManager();\n        },\n\n        _convertFeatureToPOI(feature, def) {\n            const PopupTooltip = getPopupTooltip();\n            return PopupTooltip ? PopupTooltip.convertFeatureToPOI(feature, def) : null;\n        },\n\n        _getClusteringStrategy(def, geojsonData) {\n            const Clustering = getClustering();\n            return Clustering\n                ? Clustering.getClusteringStrategy(def, geojsonData)\n                : { shouldCluster: false, useSharedCluster: false };\n        },\n\n        _getSharedPOICluster() {\n            const Clustering = getClustering();\n            return Clustering ? Clustering.getSharedPOICluster() : null;\n        },\n\n        _getPoiConfig() {\n            const Clustering = getClustering();\n            return Clustering ? Clustering.getPoiConfig() : {};\n        },\n\n        _detectLayerType(layer) {\n            const LayerManager = getLayerManager();\n            return LayerManager ? LayerManager.detectLayerType(layer) : \"mixed\";\n        },\n\n        _buildLeafletOptions(options) {\n            const StyleResolver = getStyleResolver();\n            return StyleResolver ? StyleResolver.buildLeafletOptions(options) : {};\n        }\n    };\n\n    // Exposer _StyleRules pour compatibilit√© avec le module Themes\n    // (d√©j√† fait dans style-resolver.js, mais on s'assure que c'est accessible)\n    if (!GeoLeaf._StyleRules && getStyleResolver()) {\n        GeoLeaf._StyleRules = {\n            evaluate: getStyleResolver().evaluateStyleRules,\n            operators: getShared() ? getShared().STYLE_OPERATORS : {},\n            getNestedValue: getStyleResolver().getNestedValue\n        };\n    }\n\n    // Expose le module dans l'espace de nom GeoLeaf\n    GeoLeaf.GeoJSON = GeoJSONModule;\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf GeoJSON Module - Aggregator (Legacy Entry Point)\n *\n * Ce fichier est conserv√© pour la r√©trocompatibilit√©.\n * Le code a √©t√© scind√© en sous-modules dans geojson/:\n * - shared.js        : √âtat partag√©, constantes\n * - style-resolver.js: √âvaluation styleRules\n * - layer-manager.js : Gestion couches\n * - loader.js        : Chargement donn√©es\n * - popup-tooltip.js : Popups et tooltips\n * - clustering.js    : Strat√©gies de clustering\n * - core.js          : Module principal (agr√©gateur)\n *\n * @module geoleaf.geojson\n * @deprecated Charger les sous-modules via demo/index.html\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log || console;\n\n    // V√©rifier si les sous-modules sont charg√©s\n    if (GeoLeaf._GeoJSONShared && GeoLeaf.GeoJSON) {\n        Log.debug(\"[GeoLeaf.GeoJSON] Sous-modules d√©j√† charg√©s, agr√©gateur legacy ignor√©.\");\n        return;\n    }\n\n    // Si les sous-modules ne sont pas charg√©s, afficher un avertissement\n    Log.warn(\"[GeoLeaf.GeoJSON] Les sous-modules geojson/*.js ne sont pas charg√©s. \" +\n             \"Veuillez mettre √† jour demo/index.html pour charger les nouveaux modules.\");\n\n    // Cr√©er un module stub qui affiche des erreurs utiles\n    if (!GeoLeaf.GeoJSON) {\n        GeoLeaf.GeoJSON = {\n            init() {\n                Log.error(\"[GeoLeaf.GeoJSON] Module non initialis√©. \" +\n                          \"Chargez les sous-modules geojson/*.js avant d'appeler init().\");\n                return null;\n            },\n            loadUrl() {\n                Log.error(\"[GeoLeaf.GeoJSON] Module non initialis√©.\");\n                return Promise.resolve(null);\n            },\n            loadFromActiveProfile() {\n                Log.error(\"[GeoLeaf.GeoJSON] Module non initialis√©.\");\n                return Promise.resolve([]);\n            },\n            addData() {\n                Log.error(\"[GeoLeaf.GeoJSON] Module non initialis√©.\");\n            },\n            getLayer() { return null; },\n            getAllLayers() { return []; },\n            getFeatures() { return []; },\n            filterFeatures() { return { filtered: 0, total: 0, visible: 0 }; },\n            clear() {}\n        };\n    }\n\n})(window);\n","/**\r\n * GeoLeaf Route Style Resolver Module\r\n * R√©solution des styles d'itin√©raires (couleurs, endpoints)\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    GeoLeaf._RouteStyleResolver = GeoLeaf._RouteStyleResolver || {};\r\n\r\n    const Log = GeoLeaf.Log || console;\r\n\r\n    /**\r\n     * D√©termine la couleur d'un itin√©raire selon la priorit√© :\r\n     *  1. colorRoute de la sous-cat√©gorie (si d√©finie)\r\n     *  2. colorRoute de la cat√©gorie (si d√©finie)\r\n     *  3. couleur par d√©faut de routeConfig.default.color\r\n     *\r\n     * @param {Object} route - L'itin√©raire\r\n     * @param {Object} profile - Le profil actif\r\n     * @param {Object} routeConfigDefault - La config par d√©faut (defaultSettings.routeConfig.default)\r\n     * @returns {string|null} La couleur √† utiliser ou null\r\n     */\r\n    GeoLeaf._RouteStyleResolver.getRouteColor = function (route, profile, routeConfigDefault) {\r\n        if (!route || !route.attributes) {\r\n            return routeConfigDefault?.color || null;\r\n        }\r\n\r\n        const attrs = route.attributes;\r\n        const categoryId = attrs.categoryId;\r\n        const subCategoryId = attrs.subCategoryId;\r\n\r\n        // R√©cup√©rer la taxonomie du profil\r\n        const taxonomy = profile?.taxonomy?.categories || {};\r\n\r\n        // 1. V√©rifier colorRoute de la sous-cat√©gorie\r\n        if (categoryId && subCategoryId) {\r\n            const category = taxonomy[categoryId];\r\n            if (category && category.subcategories) {\r\n                const subCategory = category.subcategories[subCategoryId];\r\n                if (subCategory && subCategory.colorRoute) {\r\n                    return subCategory.colorRoute;\r\n                }\r\n            }\r\n        }\r\n\r\n        // 2. V√©rifier colorRoute de la cat√©gorie\r\n        if (categoryId) {\r\n            const category = taxonomy[categoryId];\r\n            if (category && category.colorRoute) {\r\n                return category.colorRoute;\r\n            }\r\n        }\r\n\r\n        // 3. Couleur par d√©faut\r\n        return routeConfigDefault?.color || null;\r\n    };\r\n\r\n    /**\r\n     * Calcule le style final d'un itin√©raire en combinant :\r\n     *  - le style par d√©faut du module,\r\n     *  - la config par d√©faut du profil (defaultSettings.routeConfig.default),\r\n     *  - la couleur bas√©e sur la taxonomie (colorRoute),\r\n     *  - les surcharges au niveau de l'itin√©raire (properties.*).\r\n     *\r\n     * @param {Object} route - L'itin√©raire\r\n     * @param {Object} activeProfile - Le profil actif\r\n     * @param {Object} routeConfigDefault - Config par d√©faut du profil\r\n     * @param {Object} defaultStyle - Style par d√©faut du module\r\n     * @returns {Object} Style final r√©solu\r\n     */\r\n    GeoLeaf._RouteStyleResolver.resolveRouteStyle = function (route, activeProfile, routeConfigDefault, defaultStyle) {\r\n        const finalStyle = Object.assign({}, defaultStyle || {});\r\n\r\n        // 1) Appliquer le style par d√©faut du profil (routeConfig.default)\r\n        if (routeConfigDefault && typeof routeConfigDefault === \"object\") {\r\n            Object.assign(finalStyle, routeConfigDefault);\r\n        }\r\n\r\n        // 2) Couleur bas√©e sur la taxonomie (subcategory > category > default)\r\n        const taxonomyColor = GeoLeaf._RouteStyleResolver.getRouteColor(route, activeProfile, routeConfigDefault);\r\n        if (taxonomyColor) {\r\n            finalStyle.color = taxonomyColor;\r\n        }\r\n\r\n        // 3) Surcharges au niveau de la route (properties.*)\r\n        if (route.properties && typeof route.properties === \"object\") {\r\n            const p = route.properties;\r\n\r\n            if (typeof p.color === \"string\" && p.color.trim() !== \"\") {\r\n                finalStyle.color = p.color.trim();\r\n            }\r\n            if (typeof p.weight === \"number\") {\r\n                finalStyle.weight = p.weight;\r\n            }\r\n            if (typeof p.opacity === \"number\") {\r\n                finalStyle.opacity = p.opacity;\r\n            }\r\n            if (typeof p.dashArray === \"string\" && p.dashArray.trim() !== \"\") {\r\n                finalStyle.dashArray = p.dashArray.trim();\r\n            }\r\n        }\r\n\r\n        return finalStyle;\r\n    };\r\n\r\n    /**\r\n     * Calcule la configuration d'affichage des points d√©part / arriv√©e\r\n     * en combinant :\r\n     *  - les options par d√©faut du module (_options),\r\n     *  - les endpoints d√©finis dans le profil actif (defaultSettings.routeConfig.endpoints),\r\n     *  - les surcharges √©ventuelles au niveau de l'itin√©raire\r\n     *    (properties.showStart, properties.showEnd, startStyle, endStyle).\r\n     *\r\n     * @param {Object} route - L'itin√©raire\r\n     * @param {Object} profileEndpoints - Config endpoints du profil\r\n     * @param {Object} moduleOptions - Options du module Route\r\n     * @returns {Object} Configuration des endpoints {showStart, showEnd, startStyle, endStyle}\r\n     */\r\n    GeoLeaf._RouteStyleResolver.resolveEndpointConfig = function (route, profileEndpoints, moduleOptions) {\r\n        const opt = moduleOptions || {};\r\n\r\n        const baseStartStyle =\r\n            opt.startWaypointStyle || opt.waypointStyle || {\r\n                radius: 6,\r\n                color: \"#ffffff\",\r\n                fillColor: \"#2b7cff\",\r\n                fillOpacity: 1,\r\n                weight: 2\r\n            };\r\n\r\n        const baseEndStyle =\r\n            opt.endWaypointStyle || opt.waypointStyle || {\r\n                radius: 6,\r\n                color: \"#ffffff\",\r\n                fillColor: \"#ff7b32\",\r\n                fillOpacity: 1,\r\n                weight: 2\r\n            };\r\n\r\n        const cfg = {\r\n            showStart: typeof opt.showStart === \"boolean\" ? opt.showStart : true,\r\n            showEnd: typeof opt.showEnd === \"boolean\" ? opt.showEnd : true,\r\n            startStyle: Object.assign({}, baseStartStyle),\r\n            endStyle: Object.assign({}, baseEndStyle)\r\n        };\r\n\r\n        // 1) Profil actif (defaultSettings.routeConfig.endpoints)\r\n        if (profileEndpoints && typeof profileEndpoints === \"object\") {\r\n            if (typeof profileEndpoints.showStart === \"boolean\") {\r\n                cfg.showStart = profileEndpoints.showStart;\r\n            }\r\n            if (typeof profileEndpoints.showEnd === \"boolean\") {\r\n                cfg.showEnd = profileEndpoints.showEnd;\r\n            }\r\n            if (\r\n                profileEndpoints.start &&\r\n                typeof profileEndpoints.start === \"object\"\r\n            ) {\r\n                Object.assign(cfg.startStyle, profileEndpoints.start);\r\n            }\r\n            if (profileEndpoints.end && typeof profileEndpoints.end === \"object\") {\r\n                Object.assign(cfg.endStyle, profileEndpoints.end);\r\n            }\r\n        }\r\n\r\n        // 2) Surcharges au niveau de l'itin√©raire\r\n        if (route && route.properties && typeof route.properties === \"object\") {\r\n            const p = route.properties;\r\n\r\n            if (typeof p.showStart === \"boolean\") {\r\n                cfg.showStart = p.showStart;\r\n            }\r\n            if (typeof p.showEnd === \"boolean\") {\r\n                cfg.showEnd = p.showEnd;\r\n            }\r\n            if (p.startStyle && typeof p.startStyle === \"object\") {\r\n                Object.assign(cfg.startStyle, p.startStyle);\r\n            }\r\n            if (p.endStyle && typeof p.endStyle === \"object\") {\r\n                Object.assign(cfg.endStyle, p.endStyle);\r\n            }\r\n        }\r\n\r\n        return cfg;\r\n    };\r\n\r\n    Log.info(\"[GeoLeaf._RouteStyleResolver] Module Style Resolver charg√©\");\r\n\r\n})(window);\r\n","/**\r\n * GeoLeaf Route Popup Builder Module\r\n * Construction des popups/tooltips et panneau lat√©ral pour les itin√©raires.\r\n * D√©l√®gue le rendu au module _ContentBuilder centralis√©.\r\n *\r\n * @module route/popup-builder\r\n * @version 2.0.0\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    GeoLeaf._RoutePopupBuilder = GeoLeaf._RoutePopupBuilder || {};\r\n\r\n    const Log = GeoLeaf.Log || console;\r\n\r\n    // ========================================\r\n    //   UTILITAIRES\r\n    // ========================================\r\n\r\n    /**\r\n     * R√©cup√®re le ContentBuilder\r\n     * @returns {Object|null}\r\n     */\r\n    function getContentBuilder() {\r\n        return GeoLeaf._ContentBuilder || null;\r\n    }\r\n\r\n    /**\r\n     * R√©cup√®re le Normalizer\r\n     * @returns {Object|null}\r\n     */\r\n    function getNormalizer() {\r\n        return GeoLeaf._Normalizer || null;\r\n    }\r\n\r\n    /**\r\n     * √âchappe le HTML\r\n     * @param {string} str - Cha√Æne √† √©chapper\r\n     * @returns {string}\r\n     */\r\n    function escapeHtml(str) {\r\n        if (GeoLeaf.Security && typeof GeoLeaf.Security.escapeHtml === 'function') {\r\n            return GeoLeaf.Security.escapeHtml(str);\r\n        }\r\n        if (str == null) return '';\r\n        const div = document.createElement('div');\r\n        div.textContent = String(str);\r\n        return div.innerHTML;\r\n    }\r\n\r\n    /**\r\n     * Convertit une route en POI normalis√©\r\n     * @param {Object} route - Donn√©es de la route\r\n     * @returns {Object} POI normalis√©\r\n     */\r\n    function convertRouteToPOI(route) {\r\n        const Normalizer = getNormalizer();\r\n        if (Normalizer && typeof Normalizer.normalizeFromRoute === 'function') {\r\n            return Normalizer.normalizeFromRoute(route);\r\n        }\r\n\r\n        // Fallback: conversion manuelle\r\n        const attrs = route.attributes || {};\r\n        return {\r\n            id: route.id,\r\n            sourceType: 'route',\r\n            geometryType: 'LineString',\r\n            title: route.label || route.name || 'Itin√©raire',\r\n            description: attrs.description || route.description || '',\r\n            lat: null,\r\n            lng: null,\r\n            categoryId: attrs.categoryId || null,\r\n            subCategoryId: attrs.subCategoryId || null,\r\n            attributes: {\r\n                ...attrs,\r\n                label: route.label || route.name,\r\n                photo: attrs.photo,\r\n                distance_km: attrs.distance_km,\r\n                duration_min: attrs.duration_min,\r\n                difficulty: attrs.difficulty,\r\n                tags: attrs.tags\r\n            },\r\n            rawData: route\r\n        };\r\n    }\r\n\r\n    // ========================================\r\n    //   CONFIGURATION\r\n    // ========================================\r\n\r\n    /**\r\n     * R√©cup√®re la configuration de popup pour les routes\r\n     * @returns {Array|null}\r\n     */\r\n    function getRoutePopupConfig() {\r\n        const Config = GeoLeaf.Config;\r\n        if (Config && typeof Config.getActiveProfile === 'function') {\r\n            const profile = Config.getActiveProfile();\r\n            if (profile?.panels?.route?.popup?.detailPopup) {\r\n                return profile.panels.route.popup.detailPopup;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * R√©cup√®re la configuration du layout pour le side panel des routes\r\n     * @returns {Array|null}\r\n     */\r\n    function getRouteLayoutConfig() {\r\n        const Config = GeoLeaf.Config;\r\n        if (Config && typeof Config.getActiveProfile === 'function') {\r\n            const profile = Config.getActiveProfile();\r\n            if (profile?.panels?.route?.layout) {\r\n                return profile.panels.route.layout;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // ========================================\r\n    //   TOOLTIP\r\n    // ========================================\r\n\r\n    /**\r\n     * Ajoute un tooltip √† une polyline d'itin√©raire\r\n     * @param {L.Polyline} polyline - Polyline Leaflet\r\n     * @param {Object} route - Donn√©es de l'itin√©raire\r\n     */\r\n    GeoLeaf._RoutePopupBuilder.addRouteTooltip = function (polyline, route) {\r\n        const label = route.label || route.name || 'Itin√©raire';\r\n\r\n        polyline.bindTooltip(escapeHtml(label), {\r\n            sticky: true,\r\n            className: 'gl-route-tooltip'\r\n        });\r\n    };\r\n\r\n    // ========================================\r\n    //   POPUP\r\n    // ========================================\r\n\r\n    /**\r\n     * Ajoute un popup √† une polyline d'itin√©raire\r\n     * @param {L.Polyline} polyline - Polyline Leaflet\r\n     * @param {Object} route - Donn√©es de l'itin√©raire\r\n     * @param {Object} routeModule - R√©f√©rence au module GeoLeaf.Route\r\n     */\r\n    GeoLeaf._RoutePopupBuilder.addRoutePopup = function (polyline, route, routeModule) {\r\n        const popupContent = GeoLeaf._RoutePopupBuilder.buildRoutePopupContent(route);\r\n        polyline.bindPopup(popupContent, { maxWidth: 300 });\r\n\r\n        // Attacher le handler pour le bouton \"Voir plus\"\r\n        polyline.on('popupopen', () => {\r\n            Log.info && Log.info('[Route Popup] Popup opened for route:', route.id);\r\n            setTimeout(() => {\r\n                const selector = '.gl-poi-popup__link[data-route-id=\"' + route.id + '\"]';\r\n                const linkEl = document.querySelector(selector);\r\n                if (linkEl) {\r\n                    linkEl.addEventListener('click', (e) => {\r\n                        e.preventDefault();\r\n                        GeoLeaf._RoutePopupBuilder.openRouteSidePanel(route);\r\n                    });\r\n                }\r\n            }, 50);\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Construit le contenu HTML d'un popup pour une route\r\n     * @param {Object} route - Donn√©es de l'itin√©raire\r\n     * @returns {string} Contenu HTML\r\n     */\r\n    GeoLeaf._RoutePopupBuilder.buildRoutePopupContent = function (route) {\r\n        const ContentBuilder = getContentBuilder();\r\n        const config = getRoutePopupConfig();\r\n        const routeAsPoi = convertRouteToPOI(route);\r\n\r\n        // Utiliser ContentBuilder si disponible et configur√©\r\n        if (ContentBuilder && typeof ContentBuilder.buildPopupHTML === 'function' && config) {\r\n            return ContentBuilder.buildPopupHTML(routeAsPoi, config, {\r\n                resolveCategoryDisplay: null\r\n            });\r\n        }\r\n\r\n        // Fallback: construction manuelle du popup\r\n        return buildFallbackRoutePopup(route);\r\n    };\r\n\r\n    /**\r\n     * Construit un popup de route par d√©faut (fallback)\r\n     * @param {Object} route - Donn√©es de l'itin√©raire\r\n     * @returns {string} HTML du popup\r\n     */\r\n    function buildFallbackRoutePopup(route) {\r\n        const attrs = route.attributes || {};\r\n        const label = escapeHtml(route.label || route.name || 'Itin√©raire');\r\n        const description = escapeHtml(attrs.description || route.description || '');\r\n        const photo = attrs.photo || route.photo || null;\r\n        const routeId = escapeHtml(String(route.id || ''));\r\n\r\n        // R√©solution des ic√¥nes depuis la taxonomie\r\n        const categoryId = attrs.categoryId || null;\r\n        const subCategoryId = attrs.subCategoryId || null;\r\n\r\n        const activeProfile = (GeoLeaf.Config && typeof GeoLeaf.Config.getActiveProfile === 'function')\r\n            ? (GeoLeaf.Config.getActiveProfile() || {})\r\n            : {};\r\n\r\n        const categories = activeProfile?.taxonomy?.categories || {};\r\n        const catData = categoryId ? categories[categoryId] : null;\r\n        const subCatData = (catData && subCategoryId) ? catData.subcategories?.[subCategoryId] : null;\r\n\r\n        const iconId = subCatData?.icon || catData?.icon || activeProfile?.icons?.defaultIcon || 'activity-generic';\r\n        const colorFill = subCatData?.colorFill || catData?.colorFill || '#666666';\r\n        const colorStroke = subCatData?.colorStroke || catData?.colorStroke || '#222222';\r\n\r\n        // Construction de l'ic√¥ne\r\n        let iconHtml = '';\r\n        if (iconId) {\r\n            const iconPrefix = activeProfile?.icons?.symbolPrefix || 'gl-poi-cat-';\r\n            const iconIdNormalized = String(iconId).trim().toLowerCase().replace(/\\s+/g, '-');\r\n            const symbolId = iconPrefix + iconIdNormalized;\r\n\r\n            iconHtml = '<svg class=\"gl-poi-popup__icon\" aria-hidden=\"true\" focusable=\"false\" viewBox=\"0 0 24 24\">' +\r\n                '<circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"' + colorFill + '\" stroke=\"' + colorStroke + '\" stroke-width=\"1.5\"/>' +\r\n                '<svg x=\"4\" y=\"4\" width=\"16\" height=\"16\"><use href=\"#' + symbolId + '\" style=\"color: #ffffff\"/></svg>' +\r\n                '</svg>';\r\n        }\r\n\r\n        // M√©tadonn√©es (distance, dur√©e, difficult√©)\r\n        let metaText = '';\r\n        const metaItems = [];\r\n        if (attrs.distance_km) {\r\n            metaItems.push('üìè ' + attrs.distance_km + ' km');\r\n        }\r\n        if (attrs.duration_min) {\r\n            metaItems.push('‚è±Ô∏è ' + attrs.duration_min + ' min');\r\n        }\r\n        if (attrs.difficulty) {\r\n            const diffLabels = { easy: 'Facile', medium: 'Moyen', hard: 'Difficile' };\r\n            metaItems.push('‚ö° ' + (diffLabels[attrs.difficulty] || attrs.difficulty));\r\n        }\r\n        if (metaItems.length > 0) {\r\n            metaText = '<p class=\"gl-poi-popup__meta-text\">' + metaItems.join(' ‚Ä¢ ') + '</p>';\r\n        }\r\n\r\n        // Tags\r\n        const tagBadges = [];\r\n        if (Array.isArray(attrs.tags)) {\r\n            attrs.tags.forEach(tag => {\r\n                if (tag && typeof tag === 'string') {\r\n                    tagBadges.push('<span class=\"gl-poi-badge gl-poi-badge--tag\">' + escapeHtml(tag) + '</span>');\r\n                }\r\n            });\r\n        }\r\n\r\n        // Construction du popup\r\n        return '<div class=\"gl-poi-popup\">' +\r\n            (photo ? '<div class=\"gl-poi-popup__photo\"><img src=\"' + photo + '\" alt=\"' + label + '\" /></div>' : '') +\r\n            '<div class=\"gl-poi-popup__body\">' +\r\n                '<div class=\"gl-poi-popup__title-wrapper\">' +\r\n                    '<h3 class=\"gl-poi-popup__title\">' + iconHtml + '<span class=\"gl-poi-popup__title-text\">' + label + '</span></h3>' +\r\n                '</div>' +\r\n                (description ? '<p class=\"gl-poi-popup__desc\">' + description + '</p>' : '') +\r\n                metaText +\r\n                (tagBadges.length ? '<div class=\"gl-poi-popup__badges\">' + tagBadges.join('') + '</div>' : '') +\r\n                '<a class=\"gl-poi-popup__link\" href=\"#\" data-route-id=\"' + routeId + '\">Voir plus >>></a>' +\r\n            '</div>' +\r\n        '</div>';\r\n    }\r\n\r\n    // ========================================\r\n    //   SIDE PANEL\r\n    // ========================================\r\n\r\n    /**\r\n     * Ouvre le panneau lat√©ral avec les d√©tails d'un itin√©raire\r\n     * @param {Object} route - Donn√©es de l'itin√©raire\r\n     */\r\n    GeoLeaf._RoutePopupBuilder.openRouteSidePanel = function (route) {\r\n        // V√©rifier que le module POI est disponible\r\n        if (!GeoLeaf.POI || typeof GeoLeaf.POI.openSidePanelWithLayout !== 'function') {\r\n            Log.warn && Log.warn('[Route Popup] Cannot open side panel: POI.openSidePanelWithLayout not available');\r\n            return;\r\n        }\r\n\r\n        const attrs = route.attributes || {};\r\n        const layout = getRouteLayoutConfig();\r\n\r\n        // Construire les m√©tadonn√©es\r\n        const metadata = [];\r\n        if (attrs.distance_km) {\r\n            metadata.push('üìè Distance : ' + attrs.distance_km + ' km');\r\n        }\r\n        if (attrs.duration_min) {\r\n            metadata.push('‚è±Ô∏è Dur√©e : ' + attrs.duration_min + ' minutes');\r\n        }\r\n        if (attrs.difficulty) {\r\n            const diffLabels = { easy: 'Facile', medium: 'Moyen', hard: 'Difficile' };\r\n            metadata.push('‚ö° Difficult√© : ' + (diffLabels[attrs.difficulty] || attrs.difficulty));\r\n        }\r\n\r\n        // Transformer la route en structure POI pour le rendu\r\n        const routeAsPoi = {\r\n            id: route.id,\r\n            label: route.label || route.name,\r\n            title: route.label || route.name,\r\n            name: route.label || route.name,\r\n            description: attrs.description || route.description,\r\n            attributes: {\r\n                ...attrs,\r\n                metadata: metadata.length > 0 ? metadata : null,\r\n                photo: attrs.photo,\r\n                mainImage: attrs.photo,\r\n                description: attrs.description,\r\n                shortDescription: attrs.description,\r\n                description_long: attrs.description_long,\r\n                longDescription: attrs.description_long,\r\n                categoryId: attrs.categoryId,\r\n                subCategoryId: attrs.subCategoryId,\r\n                difficulty: attrs.difficulty,\r\n                distance_km: attrs.distance_km,\r\n                duration_min: attrs.duration_min,\r\n                tags: attrs.tags,\r\n                link: attrs.link\r\n            }\r\n        };\r\n\r\n        // Ouvrir le panneau lat√©ral\r\n        GeoLeaf.POI.openSidePanelWithLayout(routeAsPoi, layout);\r\n    };\r\n\r\n    Log.info && Log.info(\"[GeoLeaf._RoutePopupBuilder] Module Popup Builder charg√© (v2.0.0)\");\r\n\r\n})(typeof window !== 'undefined' ? window : global);\r\n","/**\r\n * GeoLeaf Route Loaders Module\r\n * Chargement d'itin√©raires depuis diff√©rentes sources (GPX, GeoJSON, Config)\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    GeoLeaf._RouteLoaders = GeoLeaf._RouteLoaders || {};\r\n\r\n    const Log = GeoLeaf.Log || console;\r\n\r\n    /**\r\n     * Charger un fichier GPX depuis une URL\r\n     * @param {string} url - URL du fichier GPX\r\n     * @param {Function} applyRouteCallback - Callback pour appliquer les coordonn√©es\r\n     * @returns {Promise}\r\n     */\r\n    GeoLeaf._RouteLoaders.loadGPX = async function (url, applyRouteCallback) {\r\n        if (!url) {\r\n            Log.warn(\"[GeoLeaf.Route] URL GPX manquante.\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const res = await fetch(url);\r\n            const xmlText = await res.text();\r\n            const gpx = new DOMParser().parseFromString(xmlText, \"application/xml\");\r\n\r\n            const coords = Array.from(gpx.getElementsByTagName(\"trkpt\")).map(\r\n                (pt) => [\r\n                    parseFloat(pt.getAttribute(\"lat\") || \"0\"),\r\n                    parseFloat(pt.getAttribute(\"lon\") || \"0\")\r\n                ]\r\n            );\r\n\r\n            if (typeof applyRouteCallback === \"function\") {\r\n                applyRouteCallback(coords);\r\n            }\r\n        } catch (err) {\r\n            Log.error(\"[GeoLeaf.Route] Erreur GPX :\", err);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Charger un itin√©raire GeoJSON (LineString)\r\n     * @param {Object} geojson - Objet GeoJSON\r\n     * @param {Function} applyRouteCallback - Callback pour appliquer les coordonn√©es\r\n     */\r\n    GeoLeaf._RouteLoaders.loadGeoJSON = function (geojson, applyRouteCallback) {\r\n        if (!geojson || !geojson.type) {\r\n            Log.error(\"[GeoLeaf.Route] GeoJSON invalide.\");\r\n            return;\r\n        }\r\n\r\n        let coords = [];\r\n\r\n        if (geojson.type === \"Feature\" && geojson.geometry.type === \"LineString\") {\r\n            coords = geojson.geometry.coordinates.map((c) => [c[1], c[0]]);\r\n        } else if (geojson.type === \"LineString\") {\r\n            coords = geojson.coordinates.map((c) => [c[1], c[0]]);\r\n        } else {\r\n            Log.warn(\"[GeoLeaf.Route] Format GeoJSON non g√©r√©.\");\r\n        }\r\n\r\n        if (typeof applyRouteCallback === \"function\") {\r\n            applyRouteCallback(coords);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Extraire un tableau de [lat, lng] √† partir d'un item de cfg.routes.\r\n     * @param {Object} route - Route data\r\n     * @returns {number[][]} Coordinates array\r\n     */\r\n    GeoLeaf._RouteLoaders.extractCoordsFromRouteItem = function (route) {\r\n        // Cas 1 : tableau direct de [lat, lng]\r\n        if (Array.isArray(route.geometry) && route.geometry.length > 0) {\r\n            if (\r\n                Array.isArray(route.geometry[0]) &&\r\n                typeof route.geometry[0][0] === \"number\" &&\r\n                typeof route.geometry[0][1] === \"number\"\r\n            ) {\r\n                return route.geometry.map((pair) => [pair[0], pair[1]]);\r\n            }\r\n\r\n            // Cas 2 : GeoJSON-like dans un tableau\r\n            if (\r\n                route.geometry[0] &&\r\n                typeof route.geometry[0] === \"object\" &&\r\n                route.geometry[0].type === \"LineString\" &&\r\n                Array.isArray(route.geometry[0].coordinates)\r\n            ) {\r\n                return route.geometry[0].coordinates.map((c) => [c[1], c[0]]);\r\n            }\r\n        }\r\n\r\n        // Cas 3 : objet GeoJSON LineString\r\n        if (\r\n            route.geometry &&\r\n            typeof route.geometry === \"object\" &&\r\n            route.geometry.type === \"LineString\" &&\r\n            Array.isArray(route.geometry.coordinates) &&\r\n            route.geometry.coordinates.length > 0\r\n        ) {\r\n            return route.geometry.coordinates.map((c) => [c[1], c[0]]);\r\n        }\r\n\r\n        // Cas 4 : objet GeoJSON MultiLineString - fusionner tous les segments\r\n        if (\r\n            route.geometry &&\r\n            typeof route.geometry === \"object\" &&\r\n            route.geometry.type === \"MultiLineString\" &&\r\n            Array.isArray(route.geometry.coordinates) &&\r\n            route.geometry.coordinates.length > 0\r\n        ) {\r\n            // Prendre le premier segment (lin√©aire le plus long) ou fusionner tous\r\n            const allCoords = route.geometry.coordinates.reduce((acc, segment) => {\r\n                if (Array.isArray(segment) && segment.length > 0) {\r\n                    return acc.concat(segment.map((c) => [c[1], c[0]]));\r\n                }\r\n                return acc;\r\n            }, []);\r\n\r\n            if (allCoords.length > 0) {\r\n                return allCoords;\r\n            }\r\n        }\r\n\r\n        // Aucune g√©om√©trie valide trouv√©e - DEBUG au lieu de WARN\r\n        // car il peut y avoir des features sans coordonn√©es valides\r\n        return [];\r\n    };\r\n\r\n    Log.info(\"[GeoLeaf._RouteLoaders] Module Loaders charg√©\");\r\n\r\n})(window);\r\n","/**\n * GeoLeaf Route Layer Manager Module\n * Gestion des layers Leaflet pour les itin√©raires\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    GeoLeaf._RouteLayerManager = GeoLeaf._RouteLayerManager || {};\n\n    const Log = GeoLeaf.Log || console;\n\n    /**\n     * Appliquer un itin√©raire complet (remplacement)\n     * @param {Object} context - Context object with map, layerGroup, routeLayer, options\n     * @param {number[][]} coords - Coordinates array\n     * @param {Function} clearCallback - Callback to clear existing routes\n     * @param {Function} fireEventsCallback - Callback to fire route loaded events\n     */\n    GeoLeaf._RouteLayerManager.applyRoute = function (context, coords, clearCallback, fireEventsCallback) {\n        if (!Array.isArray(coords)) {\n            coords = [];\n        }\n\n        if (typeof clearCallback === \"function\") {\n            clearCallback();\n        }\n\n        if (!context.routeLayer && context.layerGroup && context.map) {\n            // Applique le param√®tre interactiveShapes de la config\n            const interactiveShapes = GeoLeaf.Config.get('ui.interactiveShapes', false);\n            const lineStyle = Object.assign({}, context.options.lineStyle, { interactive: interactiveShapes });\n            context.routeLayer = global.L.polyline([], lineStyle).addTo(\n                context.layerGroup\n            );\n        }\n\n        if (context.routeLayer) {\n            context.routeLayer.setLatLngs(coords);\n        }\n\n        if (context.options.fitBoundsOnLoad && coords.length > 1 && context.map) {\n            const bounds = context.routeLayer.getBounds();\n            const fitOpt = {};\n            if (context.options.maxZoomOnFit) {\n                fitOpt.maxZoom = context.options.maxZoomOnFit;\n            }\n            context.map.fitBounds(bounds, fitOpt);\n        }\n\n        if (typeof fireEventsCallback === \"function\") {\n            fireEventsCallback(coords);\n        }\n    };\n\n    /**\n     * Ajouter un waypoint manuel\n     * @param {L.LayerGroup} layerGroup - Layer group\n     * @param {number[]} latlng - Coordinates [lat, lng]\n     * @param {Object} waypointStyle - Waypoint style\n     */\n    GeoLeaf._RouteLayerManager.addWaypoint = function (layerGroup, latlng, waypointStyle) {\n        if (!layerGroup) return;\n        const interactiveShapes = GeoLeaf.Config.get('ui.interactiveShapes', false);\n        const style = Object.assign({}, waypointStyle, { interactive: interactiveShapes });\n        global.L.circleMarker(latlng, style).addTo(layerGroup);\n    };\n\n    /**\n     * Ajouter un segment manuel\n     * @param {L.Polyline} routeLayer - Route polyline\n     * @param {number[][]} coords - Coordinates to add\n     */\n    GeoLeaf._RouteLayerManager.addSegment = function (routeLayer, coords) {\n        if (!routeLayer) return;\n        const current = routeLayer.getLatLngs();\n        routeLayer.setLatLngs([...current, ...coords]);\n    };\n\n    /**\n     * √âmet les √©v√©nements \"geoleaf:route:loaded\" (Leaflet + DOM)\n     * @param {L.Map} map - Leaflet map\n     * @param {L.Polyline} routeLayer - Route polyline\n     * @param {number[][]} coords - Coordinates\n     */\n    GeoLeaf._RouteLayerManager.fireRouteLoadedEvents = function (map, routeLayer, coords) {\n        // √âv√©nement Leaflet sur la carte\n        try {\n            if (map && typeof map.fire === \"function\") {\n                map.fire(\"geoleaf:route:loaded\", {\n                    coords,\n                    layer: routeLayer,\n                    source: \"geoleaf.route\"\n                });\n            }\n        } catch (e) {\n            Log.warn(\n                \"[GeoLeaf.Route] Impossible d'√©mettre l'√©v√©nement Leaflet geoleaf:route:loaded.\",\n                e\n            );\n        }\n\n        // CustomEvent DOM\n        if (typeof document !== \"undefined\" && typeof document.dispatchEvent === \"function\") {\n            const detail = {\n                coords: Array.isArray(coords) ? coords.slice() : [],\n                map: map,\n                layer: routeLayer,\n                source: \"geoleaf.route\"\n            };\n\n            try {\n                if (typeof CustomEvent === \"function\") {\n                    const event = new CustomEvent(\"geoleaf:route:loaded\", { detail });\n                    document.dispatchEvent(event);\n                } else {\n                    const legacyEvent = document.createEvent(\"CustomEvent\");\n                    legacyEvent.initCustomEvent(\n                        \"geoleaf:route:loaded\",\n                        true,\n                        true,\n                        detail\n                    );\n                    document.dispatchEvent(legacyEvent);\n                }\n            } catch (err) {\n                Log.warn(\n                    \"[GeoLeaf.Route] Impossible d'√©mettre le CustomEvent geoleaf:route:loaded.\",\n                    err\n                );\n            }\n        }\n    };\n\n    Log.info(\"[GeoLeaf._RouteLayerManager] Module Layer Manager charg√©\");\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    /**\n     * Namespace global GeoLeaf\n     */\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    /**\n     * Logger unifi√© (d√©fini par geoleaf.log.js / logger-shim)\n     */\n    const Log = GeoLeaf.Log || console;\n\n    /**\n     * Module GeoLeaf.Route\n     * - Charge et affiche des itin√©raires (GPX, GeoJSON, profils GeoLeaf)\n     * - G√®re une couche d√©di√©e (polyline + points √©ventuels)\n     * - Offre une API de visibilit√© pour la L√©gende (getLayer)\n     * - Prend en compte les styles et les points d√©part/arriv√©e d√©finis\n     *   dans le profil actif (profile.json).\n     */\n    const RouteModule = {\n        _map: null,\n        _layerGroup: null,\n        _routeLayer: null,\n\n        _initialized: false,\n        _visible: true,\n\n        /**\n         * Options par d√©faut\n         */\n        _options: {\n            lineStyle: {\n                color: \"#1E88E5\",\n                weight: 4,\n                opacity: 0.9,\n                interactive: false\n            },\n            waypointStyle: {\n                radius: 5,\n                color: \"#0D47A1\",\n                fillColor: \"#42A5F5\",\n                fillOpacity: 0.9,\n                weight: 2\n            },\n            // Affichage des points de d√©part / arriv√©e\n            showStart: true,\n            showEnd: true,\n            startWaypointStyle: null, // si null => waypointStyle\n            endWaypointStyle: null,   // si null => waypointStyle\n\n            fitBoundsOnLoad: true,\n            maxZoomOnFit: 14\n        },\n\n        /**\n         * Valide les options pass√©es √† init()\n         * @param {Object} options\n         * @private\n         */\n        _validateOptions(options) {\n            if (options.map && typeof options.map.addLayer !== \"function\") {\n                Log.warn(\"[GeoLeaf.Route] options.map ne semble pas √™tre une carte Leaflet valide.\");\n            }\n\n            if (options.lineStyle && typeof options.lineStyle !== \"object\") {\n                Log.warn(\"[GeoLeaf.Route] options.lineStyle doit √™tre un objet.\");\n                delete options.lineStyle;\n            }\n\n            if (options.waypointStyle && typeof options.waypointStyle !== \"object\") {\n                Log.warn(\"[GeoLeaf.Route] options.waypointStyle doit √™tre un objet.\");\n                delete options.waypointStyle;\n            }\n\n            if (\n                options.maxZoomOnFit !== undefined &&\n                (typeof options.maxZoomOnFit !== \"number\" ||\n                    options.maxZoomOnFit < 1 ||\n                    options.maxZoomOnFit > 20)\n            ) {\n                Log.warn(\"[GeoLeaf.Route] options.maxZoomOnFit doit √™tre entre 1 et 20.\");\n                options.maxZoomOnFit = 14;\n            }\n\n            return options;\n        },\n\n        /**\n         * Retourne le layerGroup contenant les itin√©raires\n         * (utilis√© par la L√©gende pour afficher/masquer la couche)\n         * @returns {L.LayerGroup|null}\n         */\n        getLayer() {\n            return this._layerGroup || null;\n        },\n\n        /**\n         * Initialisation du module Route\n         * @param {Object} options\n         * @param {L.Map} [options.map] - Carte Leaflet\n         * @returns {L.LayerGroup|null}\n         */\n        init(options = {}) {\n            options = this._validateOptions(options);\n\n            if (typeof global.L === \"undefined\") {\n                Log.error(\"[GeoLeaf.Route] Leaflet introuvable.\");\n                return null;\n            }\n\n            // Utilise un helper commun si disponible\n            let map = options.map || null;\n            if (!map && GeoLeaf.Core && typeof GeoLeaf.Core.getMap === \"function\") {\n                map = GeoLeaf.Core.getMap();\n            }\n            if (GeoLeaf.Utils && typeof GeoLeaf.Utils.ensureMap === \"function\") {\n                map = GeoLeaf.Utils.ensureMap(map);\n            }\n\n            if (!map) {\n                Log.error(\"[GeoLeaf.Route] Aucune carte disponible pour init().\");\n                return null;\n            }\n\n            this._map = map;\n\n            // Fusion des options\n            if (GeoLeaf.Utils && typeof GeoLeaf.Utils.mergeOptions === \"function\") {\n                this._options = GeoLeaf.Utils.mergeOptions(this._options, options);\n            } else {\n                this._options = Object.assign({}, this._options, options);\n            }\n\n            // Applique le param√®tre interactiveShapes de la config\n            const interactiveShapes = GeoLeaf.Config.get('ui.interactiveShapes', false);\n            if (this._options.lineStyle) {\n                this._options.lineStyle.interactive = interactiveShapes;\n            }\n\n            this._layerGroup = global.L.layerGroup().addTo(this._map);\n            this._routeLayer = global.L.polyline([], this._options.lineStyle).addTo(\n                this._layerGroup\n            );\n\n            this._initialized = true;\n            this._visible = true;\n\n            return this._layerGroup;\n        },\n\n        /**\n         * Indique si le module est initialis√©.\n         * @returns {boolean}\n         */\n        isInitialized() {\n            return this._initialized === true && !!this._map && !!this._layerGroup;\n        },\n\n        /**\n         * Indique si la couche d'itin√©raires est actuellement visible.\n         * @returns {boolean}\n         */\n        isVisible() {\n            return this._visible === true;\n        },\n\n        /**\n         * Affiche la couche d'itin√©raires.\n         */\n        show() {\n            if (!this._map || !this._layerGroup) return;\n            if (!this._map.hasLayer(this._layerGroup)) {\n                this._layerGroup.addTo(this._map);\n            }\n            this._visible = true;\n        },\n\n        /**\n         * Masque la couche d'itin√©raires.\n         */\n        hide() {\n            if (!this._map || !this._layerGroup) return;\n            if (this._map.hasLayer(this._layerGroup)) {\n                this._map.removeLayer(this._layerGroup);\n            }\n            this._visible = false;\n        },\n\n        /**\n         * Bascule la visibilit√© (utile √©ventuellement en dehors de la L√©gende).\n         */\n        toggleVisibility() {\n            if (!this.isInitialized()) {\n                Log.warn(\"[GeoLeaf.Route] toggleVisibility() appel√© sans init().\");\n                return;\n            }\n            if (this.isVisible()) {\n                this.hide();\n            } else {\n                this.show();\n            }\n        },\n\n        /**\n         * Vider tous les itin√©raires de la couche\n         */\n        clear() {\n            if (this._layerGroup) {\n                this._layerGroup.clearLayers();\n            }\n            if (this._map && this._layerGroup) {\n                this._routeLayer = global.L.polyline([], this._options.lineStyle).addTo(\n                    this._layerGroup\n                );\n            } else {\n                this._routeLayer = null;\n            }\n        },\n\n        /**\n         * Charger un fichier GPX (via fetch)\n         * @param {string} url\n         * @returns {Promise<void>}\n         */\n        loadGPX(url) {\n            if (!url) {\n                Log.warn(\"[GeoLeaf.Route] URL GPX manquante.\");\n                return Promise.resolve();\n            }\n\n            // Sprint 3.3: Use unified FetchHelper with timeout for GPX loading\n            const FetchHelper = GeoLeaf.Utils?.FetchHelper;\n\n            if (FetchHelper) {\n                return FetchHelper.fetch(url, {\n                    timeout: 15000, // GPX files can be larger, allow more time\n                    retries: 2,\n                    parseResponse: false // We need raw text\n                })\n                .then((response) => response.text())\n                .then((xmlText) =>\n                    new DOMParser().parseFromString(xmlText, \"application/xml\")\n                )\n                .then((gpx) => {\n                    const coords = Array.from(gpx.getElementsByTagName(\"trkpt\")).map(\n                        (pt) => [\n                            parseFloat(pt.getAttribute(\"lat\") || \"0\"),\n                            parseFloat(pt.getAttribute(\"lon\") || \"0\")\n                        ]\n                    );\n                    this._applyRoute(coords);\n                })\n                .catch((err) => Log.error(\"[GeoLeaf.Route] Erreur GPX :\", err));\n            }\n\n            // Fallback to raw fetch\n            return fetch(url)\n                .then((res) => res.text())\n                .then((xmlText) =>\n                    new DOMParser().parseFromString(xmlText, \"application/xml\")\n                )\n                .then((gpx) => {\n                    const coords = Array.from(gpx.getElementsByTagName(\"trkpt\")).map(\n                        (pt) => [\n                            parseFloat(pt.getAttribute(\"lat\") || \"0\"),\n                            parseFloat(pt.getAttribute(\"lon\") || \"0\")\n                        ]\n                    );\n                    this._applyRoute(coords);\n                })\n                .catch((err) => Log.error(\"[GeoLeaf.Route] Erreur GPX :\", err));\n        },\n\n        /**\n         * Charger un itin√©raire GeoJSON (LineString)\n         * @param {Object} geojson\n         */\n        loadGeoJSON(geojson) {\n            if (!GeoLeaf._RouteLoaders || typeof GeoLeaf._RouteLoaders.loadGeoJSON !== \"function\") {\n                Log.error(\"[GeoLeaf.Route.loadGeoJSON] GeoLeaf._RouteLoaders.loadGeoJSON() non disponible.\");\n                return;\n            }\n            GeoLeaf._RouteLoaders.loadGeoJSON(geojson, this._applyRoute.bind(this));\n        },\n\n        /**\n         * Charge un tableau d‚Äôitin√©raires d√©j√† normalis√©s depuis cfg.routes\n         * (profil GeoLeaf) et les dessine sur la carte.\n         *\n         * Format attendu pour chaque item :\n         * {\n         *   id: \"route-id\",\n         *   label: \"Nom\",\n         *   type: \"walking\" | \"trekking\" | ... (optionnel)\n         *   geometry: [ [lat, lng], ... ]  // OU GeoJSON LineString\n         *   properties: {\n         *     type?: \"walking\" | \"trekking\" | ...,\n         *     color?: \"#hex\",\n         *     weight?: number,\n         *     opacity?: number,\n         *     dashArray?: string,\n         *     showStart?: boolean,\n         *     showEnd?: boolean,\n         *     startStyle?: {...},\n         *     endStyle?: {...},\n         *     ...\n         *   }\n         * }\n         *\n         * Les styles et endpoints par d√©faut peuvent √™tre d√©finis\n         * dans le profil actif (profile.json) :\n         *\n         * \"defaultSettings\": {\n         *   \"routeConfig\": {\n         *     \"default\": { \"color\": \"#ff6600\", \"weight\": 4, \"opacity\": 0.9 },\n         *     \"endpoints\": {\n         *       \"showStart\": true,\n         *       \"showEnd\": true,\n         *       \"start\": { \"radius\": 6, \"color\": \"#ffffff\", \"fillColor\": \"#2b7cff\" },\n         *       \"end\":   { \"radius\": 6, \"color\": \"#ffffff\", \"fillColor\": \"#ff7b32\" }\n         *     }\n         *   }\n         * }\n         *\n         * La couleur des routes est d√©termin√©e par priorit√© :\n         * 1. colorRoute de la sous-cat√©gorie (taxonomy.categories[cat].subcategories[subcat].colorRoute)\n         * 2. colorRoute de la cat√©gorie (taxonomy.categories[cat].colorRoute)\n         * 3. defaultSettings.routeConfig.default.color\n         *\n         * @param {Array} routes\n         */\n        loadFromConfig(routes) {\n            if (!this.isInitialized()) {\n                Log.warn(\n                    \"[GeoLeaf.Route] loadFromConfig() appel√© alors que le module n'est pas initialis√©.\"\n                );\n                return;\n            }\n\n            if (!Array.isArray(routes) || routes.length === 0) {\n                this.clear();\n                Log.info(\"[GeoLeaf.Route] Aucun itin√©raire dans cfg.routes ; couche vid√©e.\");\n                return;\n            }\n\n            this.clear();\n\n            const allCoords = [];\n            const defaultStyle = this._options.lineStyle || {};\n\n            // R√©cup√©rer config + endpoints d√©finis dans le profil actif\n            let activeProfile = null;\n            let routeConfigDefault = null;\n            let profileEndpoints = null;\n\n            try {\n                if (\n                    GeoLeaf.Config &&\n                    typeof GeoLeaf.Config.getActiveProfile === \"function\"\n                ) {\n                    activeProfile = GeoLeaf.Config.getActiveProfile();\n                    if (activeProfile && activeProfile.defaultSettings && activeProfile.defaultSettings.routeConfig) {\n                        if (\n                            activeProfile.defaultSettings.routeConfig.default &&\n                            typeof activeProfile.defaultSettings.routeConfig.default === \"object\" &&\n                            !Array.isArray(activeProfile.defaultSettings.routeConfig.default)\n                        ) {\n                            routeConfigDefault = activeProfile.defaultSettings.routeConfig.default;\n                        }\n                        if (\n                            activeProfile.defaultSettings.routeConfig.endpoints &&\n                            typeof activeProfile.defaultSettings.routeConfig.endpoints === \"object\" &&\n                            !Array.isArray(activeProfile.defaultSettings.routeConfig.endpoints)\n                        ) {\n                            profileEndpoints = activeProfile.defaultSettings.routeConfig.endpoints;\n                        }\n                    }\n                }\n            } catch (e) {\n                Log.warn(\n                    \"[GeoLeaf.Route] Impossible de lire la config/endpoints depuis le profil actif.\",\n                    e\n                );\n            }\n\n            routes.forEach((route) => {\n                if (!route || typeof route !== \"object\") {\n                    return;\n                }\n\n                const coords = this._extractCoordsFromRouteItem(route);\n                if (!coords || coords.length === 0) {\n                    return;\n                }\n\n                // Style de la polyline\n                const routeStyle = this._resolveRouteStyle(\n                    route,\n                    activeProfile,\n                    routeConfigDefault,\n                    defaultStyle\n                );\n\n                // Applique le param√®tre interactiveShapes\n                const interactiveShapes = GeoLeaf.Config.get('ui.interactiveShapes', false);\n                routeStyle.interactive = interactiveShapes;\n\n                const polyline = global.L.polyline(coords, routeStyle).addTo(\n                    this._layerGroup\n                );\n\n                // Attach route data to polyline for popup/tooltip access\n                polyline._geoleafRouteData = route;\n\n                // Add tooltip with route label\n                this._addRouteTooltip(polyline, route);\n\n                // Add popup with route details\n                this._addRoutePopup(polyline, route);\n\n                // Premi√®re polyline = \"routeLayer\" principal\n                if (!this._routeLayer) {\n                    this._routeLayer = polyline;\n                }\n\n                allCoords.push(...coords);\n\n                // Points de d√©part / arriv√©e\n                const endpointCfg = this._resolveEndpointConfig(\n                    route,\n                    profileEndpoints,\n                    this._options\n                );\n\n                if (coords.length > 0) {\n                    const startLatLng = coords[0];\n                    const endLatLng = coords[coords.length - 1];\n\n                    if (endpointCfg.showStart) {\n                        const startStyle = Object.assign({}, endpointCfg.startStyle, { interactive: interactiveShapes });\n                        global.L.circleMarker(startLatLng, startStyle).addTo(\n                            this._layerGroup\n                        );\n                    }\n\n                    if (\n                        endpointCfg.showEnd &&\n                        endLatLng &&\n                        (endLatLng[0] !== startLatLng[0] ||\n                            endLatLng[1] !== startLatLng[1])\n                    ) {\n                        const endStyle = Object.assign({}, endpointCfg.endStyle, { interactive: interactiveShapes });\n                        global.L.circleMarker(endLatLng, endStyle).addTo(\n                            this._layerGroup\n                        );\n                    }\n                }\n            });\n\n            if (allCoords.length === 0) {\n                Log.warn(\n                    \"[GeoLeaf.Route] loadFromConfig() n'a trouv√© aucun itin√©raire valide dans cfg.routes.\"\n                );\n                return;\n            }\n\n            // Ajuster l'emprise globale si option activ√©e\n            if (this._options.fitBoundsOnLoad) {\n                try {\n                    const bounds = this._layerGroup.getBounds();\n                    const fitOpt = {};\n                    if (this._options.maxZoomOnFit) {\n                        fitOpt.maxZoom = this._options.maxZoomOnFit;\n                    }\n                    this._map.fitBounds(bounds, fitOpt);\n                } catch (e) {\n                    Log.warn(\n                        \"[GeoLeaf.Route] Erreur lors du fitBounds sur les itin√©raires :\",\n                        e\n                    );\n                }\n            }\n\n            // √âv√©nements \"route loaded\" (Leaflet + DOM)\n            this._fireRouteLoadedEvents(allCoords);\n        },\n\n        /**\n         * Filtrer la visibilit√© des routes d√©j√† charg√©es sans les recharger.\n         * Pr√©serve les styles originaux des routes.\n         * @param {Array<Object>} filteredRoutes - Liste des routes √† afficher (apr√®s filtrage)\n         * @public\n         */\n        filterVisibility: function (filteredRoutes) {\n            if (!this._initialized) {\n                Log.warn(\"[GeoLeaf.Route] Module non initialis√© - filterVisibility ignor√©.\");\n                return;\n            }\n\n            if (!Array.isArray(filteredRoutes)) {\n                Log.warn(\"[GeoLeaf.Route] filterVisibility : filteredRoutes doit √™tre un tableau.\");\n                return;\n            }\n\n            // Cr√©er un Set des IDs des routes √† afficher pour une recherche rapide\n            const visibleRouteIds = new Set(filteredRoutes.map(r => r.id));\n\n            // Parcourir toutes les couches actuellement affich√©es\n            this._layerGroup.eachLayer(function (layer) {\n                // V√©rifier si cette couche a un ID de route\n                const routeId = layer.options && layer.options.routeId;\n\n                if (routeId !== undefined) {\n                    // Afficher ou masquer selon si l'ID est dans la liste filtr√©e\n                    if (visibleRouteIds.has(routeId)) {\n                        if (!this._map.hasLayer(layer)) {\n                            this._map.addLayer(layer);\n                        }\n                    } else {\n                        if (this._map.hasLayer(layer)) {\n                            this._map.removeLayer(layer);\n                        }\n                    }\n                }\n            }.bind(this));\n\n            Log.info(\"[GeoLeaf.Route] Visibilit√© filtr√©e : \" + filteredRoutes.length + \" routes visibles.\");\n        },\n\n        /**\n         * Extraire un tableau de [lat, lng] √† partir d'un item de cfg.routes.\n         * @param {Object} route\n         * @returns {number[][]}\n         * @private\n         */\n        _extractCoordsFromRouteItem(route) {\n            if (!GeoLeaf._RouteLoaders || typeof GeoLeaf._RouteLoaders.extractCoordsFromRouteItem !== \"function\") {\n                Log.error(\"[GeoLeaf.Route._extractCoordsFromRouteItem] GeoLeaf._RouteLoaders.extractCoordsFromRouteItem() non disponible.\");\n                return [];\n            }\n            return GeoLeaf._RouteLoaders.extractCoordsFromRouteItem(route);\n        },\n\n        /**\n         * D√©termine la couleur d'un itin√©raire selon la priorit√© :\n         *  1. colorRoute de la sous-cat√©gorie (si d√©finie)\n         *  2. colorRoute de la cat√©gorie (si d√©finie)\n         *  3. couleur par d√©faut de routeConfig.default.color\n         *\n         * @param {Object} route - L'itin√©raire\n         * @param {Object} profile - Le profil actif\n         * @param {Object} routeConfigDefault - La config par d√©faut (defaultSettings.routeConfig.default)\n         * @returns {string|null} La couleur √† utiliser ou null\n         * @private\n         */\n        _getRouteColor(route, profile, routeConfigDefault) {\n            if (!GeoLeaf._RouteStyleResolver || typeof GeoLeaf._RouteStyleResolver.getRouteColor !== \"function\") {\n                Log.error(\"[GeoLeaf.Route._getRouteColor] GeoLeaf._RouteStyleResolver.getRouteColor() non disponible.\");\n                return routeConfigDefault?.color || null;\n            }\n            return GeoLeaf._RouteStyleResolver.getRouteColor(route, profile, routeConfigDefault);\n        },\n\n        /**\n         * Calcule le style final d'un itin√©raire en combinant :\n         *  - le style par d√©faut du module,\n         *  - la config par d√©faut du profil (defaultSettings.routeConfig.default),\n         *  - la couleur bas√©e sur la taxonomie (colorRoute),\n         *  - les surcharges au niveau de l'itin√©raire (properties.*).\n         *\n         * @private\n         */\n        _resolveRouteStyle(route, activeProfile, routeConfigDefault, defaultStyle) {\n            if (!GeoLeaf._RouteStyleResolver || typeof GeoLeaf._RouteStyleResolver.resolveRouteStyle !== \"function\") {\n                Log.error(\"[GeoLeaf.Route._resolveRouteStyle] GeoLeaf._RouteStyleResolver.resolveRouteStyle() non disponible.\");\n                return Object.assign({}, defaultStyle || {});\n            }\n            return GeoLeaf._RouteStyleResolver.resolveRouteStyle(route, activeProfile, routeConfigDefault, defaultStyle);\n        },\n\n        /**\n         * Calcule la configuration d'affichage des points d√©part / arriv√©e\n         * en combinant :\n         *  - les options par d√©faut du module (_options),\n         *  - les endpoints d√©finis dans le profil actif (defaultSettings.routeConfig.endpoints),\n         *  - les surcharges √©ventuelles au niveau de l'itin√©raire\n         *    (properties.showStart, properties.showEnd, startStyle, endStyle).\n         *\n         * @private\n         */\n        _resolveEndpointConfig(route, profileEndpoints, moduleOptions) {\n            if (!GeoLeaf._RouteStyleResolver || typeof GeoLeaf._RouteStyleResolver.resolveEndpointConfig !== \"function\") {\n                Log.error(\"[GeoLeaf.Route._resolveEndpointConfig] GeoLeaf._RouteStyleResolver.resolveEndpointConfig() non disponible.\");\n                return {\n                    showStart: true,\n                    showEnd: true,\n                    startStyle: { radius: 6, color: \"#ffffff\", fillColor: \"#2b7cff\", fillOpacity: 1, weight: 2 },\n                    endStyle: { radius: 6, color: \"#ffffff\", fillColor: \"#ff7b32\", fillOpacity: 1, weight: 2 }\n                };\n            }\n            return GeoLeaf._RouteStyleResolver.resolveEndpointConfig(route, profileEndpoints, moduleOptions);\n        },\n\n        /**\n         * Ajouter un waypoint manuel\n         * @param {number[]} latlng\n         */\n        addWaypoint(latlng) {\n            if (!GeoLeaf._RouteLayerManager || typeof GeoLeaf._RouteLayerManager.addWaypoint !== \"function\") {\n                Log.error(\"[GeoLeaf.Route.addWaypoint] GeoLeaf._RouteLayerManager.addWaypoint() non disponible.\");\n                return;\n            }\n            GeoLeaf._RouteLayerManager.addWaypoint(this._layerGroup, latlng, this._options.waypointStyle);\n        },\n\n        /**\n         * Ajouter un segment manuel\n         * @param {number[][]} coords\n         */\n        addSegment(coords) {\n            if (!this._routeLayer) return;\n            const current = this._routeLayer.getLatLngs();\n            this._routeLayer.setLatLngs([...current, ...coords]);\n        },\n\n        /**\n         * Appliquer un itin√©raire complet (remplacement)\n         * @param {number[][]} coords\n         * @private\n         */\n        _applyRoute(coords) {\n            if (!GeoLeaf._RouteLayerManager || typeof GeoLeaf._RouteLayerManager.applyRoute !== \"function\") {\n                Log.error(\"[GeoLeaf.Route._applyRoute] GeoLeaf._RouteLayerManager.applyRoute() non disponible.\");\n                return;\n            }\n            const context = {\n                map: this._map,\n                layerGroup: this._layerGroup,\n                routeLayer: this._routeLayer,\n                options: this._options\n            };\n            GeoLeaf._RouteLayerManager.applyRoute(context, coords, this.clear.bind(this), this._fireRouteLoadedEvents.bind(this));\n            this._routeLayer = context.routeLayer;\n        },\n\n        /**\n         * Add tooltip to route polyline\n         * @param {L.Polyline} polyline\n         * @param {Object} route\n         * @private\n         */\n        _addRouteTooltip(polyline, route) {\n            if (!GeoLeaf._RoutePopupBuilder || typeof GeoLeaf._RoutePopupBuilder.addRouteTooltip !== \"function\") {\n                Log.error(\"[GeoLeaf.Route._addRouteTooltip] GeoLeaf._RoutePopupBuilder.addRouteTooltip() non disponible.\");\n                return;\n            }\n            GeoLeaf._RoutePopupBuilder.addRouteTooltip(polyline, route);\n        },\n\n        /**\n         * Add popup to route polyline with \"Voir plus\" button\n         * @param {L.Polyline} polyline\n         * @param {Object} route\n         * @private\n         */\n        _addRoutePopup(polyline, route) {\n            if (!GeoLeaf._RoutePopupBuilder || typeof GeoLeaf._RoutePopupBuilder.addRoutePopup !== \"function\") {\n                Log.error(\"[GeoLeaf.Route._addRoutePopup] GeoLeaf._RoutePopupBuilder.addRoutePopup() non disponible.\");\n                return;\n            }\n            GeoLeaf._RoutePopupBuilder.addRoutePopup(polyline, route, this);\n        },\n\n        /**\n         * Build popup content for route (same structure as POI popup)\n         * @param {Object} route\n         * @returns {string} HTML content\n         * @private\n         */\n        _buildRoutePopupContent(route) {\n            if (!GeoLeaf._RoutePopupBuilder || typeof GeoLeaf._RoutePopupBuilder.buildRoutePopupContent !== \"function\") {\n                Log.error(\"[GeoLeaf.Route._buildRoutePopupContent] GeoLeaf._RoutePopupBuilder.buildRoutePopupContent() non disponible.\");\n                return \"<div>Route popup non disponible</div>\";\n            }\n            return GeoLeaf._RoutePopupBuilder.buildRoutePopupContent(route);\n        },        /**\n         * Open side panel with route details\n         * @param {Object} route\n         * @private\n         */\n        _openRouteSidePanel(route) {\n            if (!GeoLeaf._RoutePopupBuilder || typeof GeoLeaf._RoutePopupBuilder.openRouteSidePanel !== \"function\") {\n                Log.error(\"[GeoLeaf.Route._openRouteSidePanel] GeoLeaf._RoutePopupBuilder.openRouteSidePanel() non disponible.\");\n                return;\n            }\n            GeoLeaf._RoutePopupBuilder.openRouteSidePanel(route);\n        },\n\n        /**\n         * √âmet les √©v√©nements \"geoleaf:route:loaded\" (Leaflet + DOM)\n         * @param {number[][]} coords\n         * @private\n         */\n        _fireRouteLoadedEvents(coords) {\n            // √âv√©nement Leaflet sur la carte\n            try {\n                if (this._map && typeof this._map.fire === \"function\") {\n                    this._map.fire(\"geoleaf:route:loaded\", {\n                        coords,\n                        layer: this._routeLayer,\n                        source: \"geoleaf.route\"\n                    });\n                }\n            } catch (e) {\n                Log.warn(\n                    \"[GeoLeaf.Route] Impossible d'√©mettre l'√©v√©nement Leaflet geoleaf:route:loaded.\",\n                    e\n                );\n            }\n\n            // CustomEvent DOM\n            if (typeof document !== \"undefined\" && typeof document.dispatchEvent === \"function\") {\n                const detail = {\n                    coords: Array.isArray(coords) ? coords.slice() : [],\n                    map: this._map,\n                    layer: this._routeLayer,\n                    source: \"geoleaf.route\"\n                };\n\n                try {\n                    if (typeof CustomEvent === \"function\") {\n                        const event = new CustomEvent(\"geoleaf:route:loaded\", { detail });\n                        document.dispatchEvent(event);\n                    } else {\n                        const legacyEvent = document.createEvent(\"CustomEvent\");\n                        legacyEvent.initCustomEvent(\n                            \"geoleaf:route:loaded\",\n                            true,\n                            true,\n                            detail\n                        );\n                        document.dispatchEvent(legacyEvent);\n                    }\n                } catch (err) {\n                    Log.warn(\n                        \"[GeoLeaf.Route] Impossible d'√©mettre le CustomEvent geoleaf:route:loaded.\",\n                        err\n                    );\n                }\n            }\n        }\n    };\n\n    GeoLeaf.Route = RouteModule;\n})(window);\n","/**\r\n * Module partag√© pour LayerManager\r\n * √âtat et utilitaires communs entre les sous-modules\r\n *\r\n * D√âPENDANCES:\r\n * - GeoLeaf.Log (optionnel)\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf._LayerManagerShared\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\r\n    const Log = GeoLeaf.Log;\r\n\r\n    /**\r\n     * √âtat partag√© pour LayerManager (priv√© interne)\r\n     * @private\r\n     */\r\n    const _LayerManagerShared = {\r\n        /**\r\n         * R√©f√©rence √† la carte Leaflet\r\n         * @type {L.Map|null}\r\n         */\r\n        map: null,\r\n\r\n        /**\r\n         * R√©f√©rence au contr√¥le Leaflet\r\n         * @type {L.Control|null}\r\n         */\r\n        control: null,\r\n\r\n        /**\r\n         * Options internes du module\r\n         * @type {Object}\r\n         */\r\n        options: {\r\n            position: \"bottomright\",\r\n            title: \"L√©gende\",\r\n            collapsible: true,\r\n            collapsed: false,\r\n            sections: []\r\n        }\r\n    };\r\n\r\n    // Exposer dans l'espace de noms interne\r\n    GeoLeaf._LayerManagerShared = _LayerManagerShared;\r\n\r\n})(window);\r\n","/**\n * Module Renderer pour LayerManager\n * Logique de rendu des sections et items de la l√©gende\n *\n * D√âPENDANCES:\n * - Leaflet (L.DomUtil, L.DomEvent)\n * - GeoLeaf.Log (optionnel)\n * - GeoLeaf._LayerManagerBasemapSelector (pour section basemap)\n * - GeoLeaf._LayerManagerThemeSelector (pour th√®mes)\n * - GeoLeaf.Themes (pour getAvailableThemes)\n * - GeoLeaf.GeoJSON (pour setTheme)\n *\n * EXPOSE:\n * - GeoLeaf._LayerManagerRenderer\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module Renderer pour LayerManager\n     * @namespace _LayerManagerRenderer\n     * @private\n     */\n    const _LayerManagerRenderer = {\n        /**\n         * Rend les sections de la l√©gende\n         * @param {HTMLElement} bodyEl - √âl√©ment body de la l√©gende\n         * @param {Array} sections - Liste des sections √† rendre\n         */\n        renderSections(bodyEl, sections) {\n            if (!bodyEl) {\n                return;\n            }\n\n            // Clear content sans innerHTML\n            if (GeoLeaf._UIComponents && typeof GeoLeaf._UIComponents.clearElement === 'function') {\n                GeoLeaf._UIComponents.clearElement(bodyEl);\n            } else {\n                while (bodyEl.firstChild) {\n                    bodyEl.removeChild(bodyEl.firstChild);\n                }\n            }\n\n            if (!Array.isArray(sections) || sections.length === 0) {\n                if (GeoLeaf._UIComponents && typeof GeoLeaf._UIComponents.createEmptyMessage === 'function') {\n                    GeoLeaf._UIComponents.createEmptyMessage(bodyEl, \"Aucune couche √† afficher.\", \"gl-layer-manager__empty\");\n                } else {\n                    const emptyEl = global.L.DomUtil.create(\"div\", \"gl-layer-manager__empty\", bodyEl);\n                    emptyEl.textContent = \"Aucune couche √† afficher.\";\n                }\n                return;\n            }\n\n            // Filtrer les sections legacy \"poi\" et \"route\" (obsol√®tes)\n            const filteredSections = sections.filter(s => s.id !== \"poi\" && s.id !== \"route\");\n\n            filteredSections.forEach((section) => {\n                const isCollapsible = typeof section.collapsedByDefault === 'boolean';\n                const isCollapsed = section.collapsedByDefault === true;\n\n                const sectionEl = global.L.DomUtil.create(\n                    \"div\",\n                    isCollapsible ? \"gl-layer-manager__section gl-layer-manager__section--accordion\" : \"gl-layer-manager__section\",\n                    bodyEl\n                );\n\n                if (isCollapsed) {\n                    sectionEl.classList.add(\"gl-layer-manager__section--collapsed\");\n                }\n\n                if (section.label) {\n                    if (isCollapsible) {\n                        // En-t√™te cliquable pour accord√©on\n                        const accordionHeader = global.L.DomUtil.create(\n                            \"div\",\n                            \"gl-layer-manager__accordion-header\",\n                            sectionEl\n                        );\n\n                        const sectionTitle = global.L.DomUtil.create(\n                            \"div\",\n                            \"gl-layer-manager__section-title\",\n                            accordionHeader\n                        );\n                        sectionTitle.textContent = section.label;\n\n                        const accordionArrow = global.L.DomUtil.create(\n                            \"span\",\n                            \"gl-layer-manager__accordion-arrow\",\n                            accordionHeader\n                        );\n                        accordionArrow.textContent = \"‚ñ∂\";\n\n                        // Gestionnaire de clic pour l'accord√©on\n                        global.L.DomEvent.on(accordionHeader, \"click\", function(ev) {\n                            global.L.DomEvent.stopPropagation(ev);\n                            global.L.DomEvent.preventDefault(ev);\n\n                            const wasCollapsed = sectionEl.classList.contains(\"gl-layer-manager__section--collapsed\");\n                            sectionEl.classList.toggle(\"gl-layer-manager__section--collapsed\");\n\n                            // Mettre √† jour la fl√®che avec animation\n                            accordionArrow.textContent = wasCollapsed ? \"‚ñº\" : \"‚ñ∂\";\n\n                            // Mettre √† jour l'√©tat dans la section\n                            section._isExpanded = wasCollapsed;\n\n                            if (Log) Log.debug(\"[LayerManager] Accord√©on\", section.id, wasCollapsed ? \"ouvert\" : \"ferm√©\");\n                        });\n                    } else {\n                        // Titre simple pour section non-accord√©on\n                        const sectionTitle = global.L.DomUtil.create(\n                            \"div\",\n                            \"gl-layer-manager__section-title\",\n                            sectionEl\n                        );\n                        sectionTitle.textContent = section.label;\n                    }\n                }\n\n                // Si pas d'items, garder la section visible avec son titre seulement\n                if (!Array.isArray(section.items) || section.items.length === 0) {\n                    return;\n                }\n\n                // Cr√©er le corps de la section (accord√©on ou simple)\n                const sectionBody = isCollapsible ?\n                    global.L.DomUtil.create(\"div\", \"gl-layer-manager__accordion-body\", sectionEl) :\n                    sectionEl;\n\n                // Section basemap : d√©l√©guer au BasemapSelector\n                if (section.id === \"basemap\") {\n                    if (GeoLeaf._LayerManagerBasemapSelector) {\n                        GeoLeaf._LayerManagerBasemapSelector.render(section, sectionBody);\n                    }\n                } else {\n                    // Autres sections : rendre les items\n                    this._renderItems(section, sectionBody);\n                }\n            });\n\n            // Synchroniser imm√©diatement les boutons de labels apr√®s re-render\n            if (GeoLeaf._LabelButtonManager && GeoLeaf._GeoJSONLayerManager) {\n                const allLayers = GeoLeaf._GeoJSONLayerManager._layers || new Map();\n                allLayers.forEach((layerData, layerId) => {\n                    if (layerData.currentStyle) {\n                        GeoLeaf._LabelButtonManager.syncImmediate(layerId);\n                    }\n                });\n            }\n        },\n\n        /**\n         * Synchronise l'√©tat des toggles existants sans re-g√©n√©rer le DOM\n         * Utilis√© apr√®s l'application d'un th√®me pour mettre √† jour les toggles\n         * @public\n         */\n        syncToggles() {\n            // Trouver tous les items de couche dans le DOM\n            const layerItems = document.querySelectorAll('[data-layer-id]');\n\n            if (Log) Log.debug(`[LayerManager Renderer] Synchronisation de ${layerItems.length} toggles`);\n\n            layerItems.forEach(itemEl => {\n                const layerId = itemEl.getAttribute('data-layer-id');\n                if (!layerId) return;\n\n                // R√©cup√©rer les infos de visibilit√© pour le log\n                const layerData = global.GeoLeaf?.GeoJSON?.getLayerById(layerId);\n                const isVisible = this._checkLayerVisibility(layerId);\n\n                if (Log) Log.debug(`[LayerManager Renderer] Couche ${layerId}:`, {\n                    isVisible,\n                    hasLayerData: !!layerData,\n                    hasVisibility: !!(layerData && layerData._visibility),\n                    currentValue: layerData?._visibility?.current,\n                    onMap: layerData?.layer ? global.GeoLeaf._GeoJSONShared?.state?.map?.hasLayer(layerData.layer) : false\n                });\n\n                // Mettre √† jour la classe gl-layer--hidden\n                if (isVisible) {\n                    itemEl.classList.remove('gl-layer--hidden');\n                } else {\n                    itemEl.classList.add('gl-layer--hidden');\n                }\n\n                // Trouver et mettre √† jour le toggle button\n                const toggleBtn = itemEl.querySelector('.gl-layer-manager__item-toggle');\n                if (toggleBtn) {\n                    toggleBtn.setAttribute('aria-pressed', isVisible ? 'true' : 'false');\n\n                    // Harmoniser avec createToggleButton: suffixe \"--on\"\n                    const onClass = 'gl-layer-manager__item-toggle--on';\n                    if (isVisible) {\n                        toggleBtn.classList.add(onClass);\n                    } else {\n                        toggleBtn.classList.remove(onClass);\n                    }\n                }\n            });\n\n            if (Log) Log.debug(\"[LayerManager Renderer] √âtats des toggles synchronis√©s\");\n        },\n\n        /**\n         * Rend les items d'une section\n         * @private\n         */\n        _renderItems(section, sectionEl) {\n            const listEl = global.L.DomUtil.create(\n                \"div\",\n                \"gl-layer-manager__items\",\n                sectionEl\n            );\n\n            section.items.forEach((item) => {\n                const itemEl = global.L.DomUtil.create(\n                    \"div\",\n                    \"gl-layer-manager__item\",\n                    listEl\n                );\n\n                // Ajouter l'attribut data-layer-id pour faciliter la recherche DOM\n                if (item.id) {\n                    itemEl.setAttribute(\"data-layer-id\", item.id);\n\n                    // Ajouter la classe gl-layer--hidden si la couche n'est pas visible au chargement\n                    const isVisible = this._checkLayerVisibility(item.id);\n                    if (!isVisible) {\n                        itemEl.classList.add(\"gl-layer--hidden\");\n                    }\n                }\n\n                // Conteneur de la ligne principale (toujours cr√©√© pour le layout en colonne)\n                const mainRow = global.L.DomUtil.create(\"div\", \"gl-layer-manager__item-row\", itemEl);\n\n                // Libell√©\n                const labelEl = global.L.DomUtil.create(\n                    \"span\",\n                    \"gl-layer-manager__label\",\n                    mainRow\n                );\n                labelEl.textContent = item.label || \"\";\n\n                // Toggle d'affichage pour les couches toggleable\n                if (item.toggleable && item.id) {\n                    this._renderToggleControls(item, mainRow, itemEl);\n                } else if (item.id) {\n                    // M√™me pour les couches non-toggleable, cr√©er le bouton label\n                    const controlsContainer = global.L.DomUtil.create(\n                        \"div\",\n                        \"gl-layer-manager__item-controls\",\n                        mainRow\n                    );\n\n                    // Cr√©er le bouton de label\n                    if (global.GeoLeaf && global.GeoLeaf._LabelButtonManager) {\n                        global.GeoLeaf._LabelButtonManager.createButton(item.id, controlsContainer);\n                        global.GeoLeaf._LabelButtonManager.syncImmediate(item.id);\n                    }\n                } else {\n                    // Valeur/info compl√©mentaire pour items sans ID\n                    if (typeof item.value !== \"undefined\") {\n                        const valueEl = global.L.DomUtil.create(\n                            \"span\",\n                            \"gl-layer-manager__value\",\n                            itemEl\n                        );\n                        valueEl.textContent = String(item.value);\n                    }\n                }\n            });\n        },\n\n        /**\n         * Rend les contr√¥les toggle pour un item\n         * @private\n         */\n        _renderToggleControls(item, mainRow, itemEl) {\n            // Conteneur des contr√¥les (toggle + fl√®che th√®me)\n            const controlsContainer = global.L.DomUtil.create(\n                \"div\",\n                \"gl-layer-manager__item-controls\",\n                mainRow\n            );\n\n            // Cr√©er le bouton de label via le gestionnaire centralis√©\n            if (global.GeoLeaf && global.GeoLeaf._LabelButtonManager) {\n                global.GeoLeaf._LabelButtonManager.createButton(item.id, controlsContainer);\n                global.GeoLeaf._LabelButtonManager.syncImmediate(item.id);\n            }\n\n            // V√©rifier l'√©tat initial\n            const isActive = this._checkLayerVisibility(item.id);\n\n            const toggleBtn = GeoLeaf._UIComponents && typeof GeoLeaf._UIComponents.createToggleButton === 'function'\n                ? GeoLeaf._UIComponents.createToggleButton(controlsContainer, {\n                    isActive: isActive,\n                    className: \"gl-layer-manager__item-toggle\",\n                    title: \"Afficher / masquer la couche\"\n                })\n                : this._createToggleFallback(controlsContainer, isActive);\n\n            // Attacher le gestionnaire de toggle\n            this._attachToggleHandler(toggleBtn, item.id);\n\n            // S√©lecteur de styles si disponible\n            if (item.styles && GeoLeaf._LayerManagerStyleSelector) {\n                const styleElement = GeoLeaf._LayerManagerStyleSelector.renderDOM(item);\n                if (styleElement) {\n                    itemEl.appendChild(styleElement);\n                    GeoLeaf._LayerManagerStyleSelector.bindEvents(styleElement, item);\n                }\n            }\n        },\n\n        /**\n         * V√©rifie si une couche est visible\n         * @private\n         */\n        _checkLayerVisibility(layerId) {\n            try {\n                if (layerId && global.GeoLeaf && global.GeoLeaf.GeoJSON && typeof global.GeoLeaf.GeoJSON.getLayerById === \"function\") {\n                    const layerData = global.GeoLeaf.GeoJSON.getLayerById(layerId);\n\n                    // IMPORTANT: Utiliser logicalState (√©tat du bouton ON/OFF) au lieu de current (√©tat physique sur carte)\n                    // Le bouton doit refl√©ter l'intention de l'utilisateur/th√®me, pas les contraintes de zoom\n                    const logicalState = layerData && layerData._visibility && typeof layerData._visibility.logicalState === 'boolean'\n                        ? layerData._visibility.logicalState\n                        : (layerData && layerData.visible === true);\n\n                    const result = logicalState;\n\n                    if (Log) {\n                        Log.debug(`[LayerManager Renderer] _checkLayerVisibility(${layerId}): logicalState=${logicalState}`);\n                    }\n\n                    return result;\n                }\n            } catch (e) {\n                if (Log) Log.error(\"[LayerManager Renderer] Erreur dans _checkLayerVisibility:\", e);\n            }\n            return false;\n        },\n\n        /**\n         * Attache le gestionnaire de toggle pour une couche\n         * @private\n         */\n        _attachToggleHandler(toggleBtn, itemId) {\n            // GUARD: V√©rifier si un gestionnaire est d√©j√† attach√©\n            if (toggleBtn._toggleHandlerAttached) {\n                return;\n            }\n\n            // Marquer comme attach√© AVANT de cr√©er le gestionnaire\n            toggleBtn._toggleHandlerAttached = true;\n\n            const self = this;\n\n            const onToggle = function (ev) {\n                // EMP√äCHER LES MULTIPLES CLICS EN PREMIER\n                if (toggleBtn._isToggling) {\n                    if (Log) Log.warn(\"[LayerManager] ‚è∏Ô∏è Toggle D√âJ√Ä en cours, BLOQU√â:\", itemId);\n                    if (global.L && global.L.DomEvent) {\n                        global.L.DomEvent.stopPropagation(ev);\n                        global.L.DomEvent.preventDefault(ev);\n                    }\n                    return; // SORTIR IMM√âDIATEMENT\n                }\n\n                // Marquer comme en cours IMM√âDIATEMENT\n                toggleBtn._isToggling = true;\n\n                // Arr√™ter la propagation\n                if (global.L && global.L.DomEvent) {\n                    global.L.DomEvent.stopPropagation(ev);\n                    global.L.DomEvent.preventDefault(ev);\n                }\n\n                // R√©initialiser apr√®s 100ms (juste pour emp√™cher les double-clics rapides)\n                setTimeout(() => {\n                    toggleBtn._isToggling = false;\n                }, 100);\n\n                try {\n                    if (itemId && global.GeoLeaf && global.GeoLeaf.GeoJSON) {\n                        const layerData = global.GeoLeaf.GeoJSON.getLayerById(itemId);\n\n                        // Si la couche n'est pas encore charg√©e, la charger √† la demande\n                        if (!layerData) {\n                            if (Log) Log.info(\"[LayerManager] ‚è≥ Couche non charg√©e, chargement √† la demande:\", itemId);\n\n                            // Indicateur visuel de chargement\n                            toggleBtn.classList.add(\"gl-layer-manager__item-toggle--loading\");\n                            toggleBtn.disabled = true;\n\n                            const ThemeApplier = global.GeoLeaf._ThemeApplier;\n                            if (ThemeApplier && typeof ThemeApplier._loadLayerFromProfile === \"function\") {\n                                ThemeApplier._loadLayerFromProfile(itemId).then(function (loadedLayer) {\n                                    // Retirer l'indicateur de chargement\n                                    toggleBtn.classList.remove(\"gl-layer-manager__item-toggle--loading\");\n                                    toggleBtn.disabled = false;\n\n                                    if (loadedLayer) {\n                                        if (Log) Log.info(\"[LayerManager] ‚úÖ Couche charg√©e avec succ√®s:\", itemId);\n\n                                        // Afficher la couche via le gestionnaire standard\n                                        global.GeoLeaf.GeoJSON.showLayer(itemId);\n\n                                        // Mettre √† jour l'UI du toggle\n                                        toggleBtn.setAttribute(\"aria-pressed\", \"true\");\n                                        toggleBtn.classList.add(\"gl-layer-manager__item-toggle--on\");\n\n                                        const layerItem = document.querySelector('[data-layer-id=\"' + itemId + '\"]');\n                                        if (layerItem) {\n                                            layerItem.classList.remove(\"gl-layer--hidden\");\n                                        }\n\n                                        // R√©activer le bouton label si applicable\n                                        let labelBtn = null;\n                                        if (layerItem) {\n                                            labelBtn = layerItem.querySelector('.gl-layer-manager__label-toggle');\n                                        }\n                                        if (!labelBtn && toggleBtn.parentElement) {\n                                            labelBtn = toggleBtn.parentElement.querySelector('.gl-layer-manager__label-toggle');\n                                        }\n                                        if (labelBtn) {\n                                            const ld = global.GeoLeaf?.GeoJSON?.getLayerById?.(itemId);\n                                            const labelEnabled = ld?.currentStyle?.label?.enabled === true;\n                                            if (labelEnabled) {\n                                                labelBtn.disabled = false;\n                                                labelBtn.classList.remove(\"gl-layer-manager__label-toggle--disabled\");\n                                            }\n                                        }\n                                    } else {\n                                        if (Log) Log.warn(\"[LayerManager] ‚ùå √âchec du chargement de la couche:\", itemId);\n                                    }\n                                }).catch(function (err) {\n                                    toggleBtn.classList.remove(\"gl-layer-manager__item-toggle--loading\");\n                                    toggleBtn.disabled = false;\n                                    if (Log) Log.error(\"[LayerManager] Erreur lors du chargement de la couche:\", itemId, err);\n                                });\n                            } else {\n                                toggleBtn.classList.remove(\"gl-layer-manager__item-toggle--loading\");\n                                toggleBtn.disabled = false;\n                                if (Log) Log.warn(\"[LayerManager] ThemeApplier non disponible pour charger:\", itemId);\n                            }\n                            return;\n                        }\n\n                        const isCurrentlyVisible = self._checkLayerVisibility(itemId);\n\n                        // Trouver le layerItem pour ajouter/retirer la classe CSS\n                        const layerItem = document.querySelector(`[data-layer-id=\"${itemId}\"]`);\n\n                        if (isCurrentlyVisible) {\n                            // Masquer la couche\n                            global.GeoLeaf.GeoJSON.hideLayer(itemId);\n                            toggleBtn.setAttribute(\"aria-pressed\", \"false\");\n                            toggleBtn.classList.remove(\"gl-layer-manager__item-toggle--on\");\n\n                            // Ajouter la classe gl-layer--hidden\n                            if (layerItem) {\n                                layerItem.classList.add(\"gl-layer--hidden\");\n                            }\n\n                            // D√©sactiver imm√©diatement le bouton label (couche cach√©e)\n                            // Chercher dans tout le layerItem, pas juste les enfants directs\n                            let labelBtn = null;\n                            if (layerItem) {\n                                labelBtn = layerItem.querySelector('.gl-layer-manager__label-toggle');\n                            }\n                            // Fallback: chercher via le sibling du toggle button (m√™me container)\n                            if (!labelBtn && toggleBtn.parentElement) {\n                                labelBtn = toggleBtn.parentElement.querySelector('.gl-layer-manager__label-toggle');\n                            }\n                            if (labelBtn) {\n                                labelBtn.disabled = true;\n                                labelBtn.classList.add(\"gl-layer-manager__label-toggle--disabled\");\n                                labelBtn.classList.remove(\"gl-layer-manager__label-toggle--on\");\n                                labelBtn.setAttribute(\"aria-pressed\", \"false\");\n                            } else {\n                                if (Log) Log.warn(\"[LayerManager] Bouton label NON TROUV√â pour d√©sactivation:\", itemId);\n                            }\n                        } else {\n                            // Afficher la couche\n                            global.GeoLeaf.GeoJSON.showLayer(itemId);\n                            toggleBtn.setAttribute(\"aria-pressed\", \"true\");\n                            toggleBtn.classList.add(\"gl-layer-manager__item-toggle--on\");\n\n                            // Retirer la classe gl-layer--hidden\n                            if (layerItem) {\n                                layerItem.classList.remove(\"gl-layer--hidden\");\n                            }\n\n                            // R√©activer le bouton label\n                            let labelBtn = null;\n                            if (layerItem) {\n                                labelBtn = layerItem.querySelector('.gl-layer-manager__label-toggle');\n                            }\n                            if (!labelBtn && toggleBtn.parentElement) {\n                                labelBtn = toggleBtn.parentElement.querySelector('.gl-layer-manager__label-toggle');\n                            }\n                            if (labelBtn) {\n                                // V√©rifier si label.enabled dans le style avant de r√©activer\n                                const ld = global.GeoLeaf?.GeoJSON?.getLayerById?.(itemId);\n                                const labelEnabled = ld?.currentStyle?.label?.enabled === true;\n                                if (labelEnabled) {\n                                    labelBtn.disabled = false;\n                                    labelBtn.classList.remove(\"gl-layer-manager__label-toggle--disabled\");\n                                }\n                            }\n                        }\n                    }\n                } catch (err) {\n                    if (Log) Log.warn(\"Erreur toggle l√©gende :\", err);\n                }\n            };\n\n            // TEMPORAIREMENT: utiliser uniquement L.DomEvent pour d√©boguer\n            if (global.L && global.L.DomEvent) {\n                global.L.DomEvent.on(toggleBtn, \"click\", onToggle);\n                global.L.DomEvent.disableClickPropagation(toggleBtn);\n            } else {\n                toggleBtn.addEventListener(\"click\", onToggle);\n            }\n\n            // Ancienne version avec _UIComponents (d√©sactiv√© pour debug)\n            // if (GeoLeaf._UIComponents && typeof GeoLeaf._UIComponents.attachEventHandler === 'function') {\n            //     GeoLeaf._UIComponents.attachEventHandler(toggleBtn, \"click\", onToggle);\n            // } else if (global.L && global.L.DomEvent) {\n            //     global.L.DomEvent.on(toggleBtn, \"click\", onToggle);\n            // } else {\n            //     toggleBtn.addEventListener(\"click\", onToggle);\n            // }\n        },\n\n        /**\n         * Fallback pour cr√©er un toggle button si _UIComponents non disponible\n         * @private\n         */\n        _createToggleFallback(container, isActive) {\n            const toggleBtn = global.L.DomUtil.create(\"button\", \"gl-layer-manager__item-toggle\", container);\n            toggleBtn.type = \"button\";\n            toggleBtn.setAttribute(\"aria-pressed\", isActive ? \"true\" : \"false\");\n            toggleBtn.title = \"Afficher / masquer la couche\";\n            if (isActive) {\n                toggleBtn.classList.add(\"gl-layer-manager__item-toggle--on\");\n            }\n            return toggleBtn;\n        },\n\n        /**\n         * Cr√©e le bouton de labels pour une couche (appel√© lors de l'application d'un style)\n         * @param {string} layerId - ID de la couche\n         */\n    };\n\n    // Exposer dans l'espace de noms interne\n    GeoLeaf._LayerManagerRenderer = _LayerManagerRenderer;\n\n})(window);\n","/**\r\n * Module LayerManager - Cache Section\r\n *\r\n * Ajoute une section de gestion du cache offline dans le gestionnaire de couches.\r\n * Permet de t√©l√©charger/effacer le cache du profil actif.\r\n *\r\n * @module GeoLeaf.LayerManager.CacheSection\r\n * @version 3.0.0\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    const Log = GeoLeaf.Log;\r\n\r\n    /**\r\n     * Module de section cache pour la l√©gende\r\n     */\r\n    const CacheSection = {\r\n        /**\r\n         * G√©n√®re la section HTML du cache\r\n         *\r\n         * @returns {Object} Section configuration\r\n         */\r\n        generateSection() {\r\n            return {\r\n                id: \"offline-cache\",\r\n                label: \"üì• Cache Hors Ligne\",\r\n                order: 98,\r\n                collapsedByDefault: false,\r\n                customContent: this._generateContent(),\r\n                init: () => this._attachEventListeners()\r\n            };\r\n        },\r\n\r\n        /**\r\n         * G√©n√®re le contenu HTML\r\n         * @private\r\n         */\r\n        _generateContent() {\r\n            return `\r\n                <div class=\"gl-cache-section\">\r\n                    <div class=\"gl-cache-status\">\r\n                        <div class=\"gl-cache-status__header\">\r\n                            <span class=\"gl-cache-status__icon\">üíæ</span>\r\n                            <span class=\"gl-cache-status__label\">Statut</span>\r\n                        </div>\r\n                        <div class=\"gl-cache-status__info\">\r\n                            <div class=\"gl-cache-status__row\">\r\n                                <span class=\"gl-cache-status__key\">Profil:</span>\r\n                                <span class=\"gl-cache-status__value\" id=\"gl-cache-profile\">-</span>\r\n                            </div>\r\n                            <div class=\"gl-cache-status__row\">\r\n                                <span class=\"gl-cache-status__key\">√âtat:</span>\r\n                                <span class=\"gl-cache-status__value\" id=\"gl-cache-state\">Non t√©l√©charg√©</span>\r\n                            </div>\r\n                            <div class=\"gl-cache-status__row\">\r\n                                <span class=\"gl-cache-status__key\">Taille:</span>\r\n                                <span class=\"gl-cache-status__value\" id=\"gl-cache-size\">0 MB</span>\r\n                            </div>\r\n                            <div class=\"gl-cache-status__row\">\r\n                                <span class=\"gl-cache-status__key\">Quota:</span>\r\n                                <span class=\"gl-cache-status__value\" id=\"gl-cache-quota\">0 MB disponible</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"gl-cache-actions\">\r\n                        <button\r\n                            id=\"gl-cache-download\"\r\n                            class=\"gl-btn gl-btn--primary gl-cache-btn\"\r\n                            title=\"T√©l√©charger le profil pour usage offline\">\r\n                            <span class=\"gl-btn__icon\">‚¨áÔ∏è</span>\r\n                            <span class=\"gl-btn__text\">T√©l√©charger profil</span>\r\n                        </button>\r\n\r\n                        <button\r\n                            id=\"gl-cache-clear\"\r\n                            class=\"gl-btn gl-btn--secondary gl-cache-btn\"\r\n                            title=\"Effacer le cache du profil\"\r\n                            disabled>\r\n                            <span class=\"gl-btn__icon\">üóëÔ∏è</span>\r\n                            <span class=\"gl-btn__text\">Vider cache</span>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div class=\"gl-cache-progress\" id=\"gl-cache-progress\" style=\"display: none;\">\r\n                        <div class=\"gl-cache-progress__bar\">\r\n                            <div class=\"gl-cache-progress__fill\" id=\"gl-cache-progress-fill\"></div>\r\n                        </div>\r\n                        <div class=\"gl-cache-progress__text\" id=\"gl-cache-progress-text\">\r\n                            T√©l√©chargement en cours...\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            `;\r\n        },\r\n\r\n        /**\r\n         * Attache les event listeners\r\n         * @private\r\n         */\r\n        _attachEventListeners() {\r\n            const downloadBtn = document.getElementById(\"gl-cache-download\");\r\n            const clearBtn = document.getElementById(\"gl-cache-clear\");\r\n\r\n            if (downloadBtn) {\r\n                downloadBtn.addEventListener(\"click\", () => this._handleDownload());\r\n            }\r\n\r\n            if (clearBtn) {\r\n                clearBtn.addEventListener(\"click\", () => this._handleClear());\r\n            }\r\n\r\n            // Mettre √† jour le statut initial\r\n            this._updateStatus();\r\n\r\n            // √âcouter les √©v√©nements de cache\r\n            document.addEventListener(\"geoleaf:cache:completed\", () => this._updateStatus());\r\n            document.addEventListener(\"geoleaf:cache:cleared\", () => this._updateStatus());\r\n            document.addEventListener(\"geoleaf:profile:loaded\", () => this._updateStatus());\r\n        },\r\n\r\n        /**\r\n         * Met √† jour l'affichage du statut\r\n         * @private\r\n         */\r\n        async _updateStatus() {\r\n            if (!GeoLeaf.Storage || !GeoLeaf.Storage.isAvailable()) {\r\n                return;\r\n            }\r\n\r\n            try {\r\n                const profileId = GeoLeaf.Config.get(\"data.activeProfile\", \"\");\r\n                const status = await GeoLeaf.Storage.CacheManager.getCacheStatus(profileId);\r\n                const quota = await GeoLeaf.Storage.CacheManager.getStorageQuota();\r\n\r\n                // Mettre √† jour les √©l√©ments DOM\r\n                const profileEl = document.getElementById(\"gl-cache-profile\");\r\n                const stateEl = document.getElementById(\"gl-cache-state\");\r\n                const sizeEl = document.getElementById(\"gl-cache-size\");\r\n                const quotaEl = document.getElementById(\"gl-cache-quota\");\r\n                const clearBtn = document.getElementById(\"gl-cache-clear\");\r\n\r\n                if (profileEl) profileEl.textContent = profileId || \"-\";\r\n\r\n                if (status && status.resourcesCount > 0) {\r\n                    if (stateEl) {\r\n                        stateEl.textContent = \"‚úÖ T√©l√©charg√©\";\r\n                        stateEl.style.color = \"#22c55e\";\r\n                    }\r\n                    if (sizeEl) {\r\n                        sizeEl.textContent = `${(status.totalSize / 1024 / 1024).toFixed(2)} MB`;\r\n                    }\r\n                    if (clearBtn) clearBtn.disabled = false;\r\n                } else {\r\n                    if (stateEl) {\r\n                        stateEl.textContent = \"‚ùå Non t√©l√©charg√©\";\r\n                        stateEl.style.color = \"#ef4444\";\r\n                    }\r\n                    if (sizeEl) sizeEl.textContent = \"0 MB\";\r\n                    if (clearBtn) clearBtn.disabled = true;\r\n                }\r\n\r\n                if (quotaEl) {\r\n                    quotaEl.textContent = `${(quota.available / 1024 / 1024).toFixed(2)} MB disponible`;\r\n                }\r\n\r\n            } catch (error) {\r\n                Log.error(`[CacheSection] Failed to update status: ${error.message}`);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * G√®re le t√©l√©chargement du profil\r\n         * @private\r\n         */\r\n        async _handleDownload() {\r\n            if (!GeoLeaf.Storage || !GeoLeaf.Storage.isAvailable()) {\r\n                if (GeoLeaf.UI && GeoLeaf.UI.Notifications) {\r\n                    GeoLeaf.UI.Notifications.error(\r\n                        \"Stockage offline non disponible\",\r\n                        5000\r\n                    );\r\n                }\r\n                return;\r\n            }\r\n\r\n            const profileId = GeoLeaf.Config.get(\"data.activeProfile\", \"\");\r\n            if (!profileId) {\r\n                if (GeoLeaf.UI && GeoLeaf.UI.Notifications) {\r\n                    GeoLeaf.UI.Notifications.error(\r\n                        \"Aucun profil actif\",\r\n                        3000\r\n                    );\r\n                }\r\n                return;\r\n            }\r\n\r\n            const downloadBtn = document.getElementById(\"gl-cache-download\");\r\n            const progressEl = document.getElementById(\"gl-cache-progress\");\r\n            const progressText = document.getElementById(\"gl-cache-progress-text\");\r\n\r\n            try {\r\n                // D√©sactiver le bouton\r\n                if (downloadBtn) {\r\n                    downloadBtn.disabled = true;\r\n                    downloadBtn.querySelector(\".gl-btn__text\").textContent = \"T√©l√©chargement...\";\r\n                }\r\n\r\n                // Afficher la barre de progression\r\n                if (progressEl) progressEl.style.display = \"block\";\r\n                if (progressText) progressText.textContent = \"Pr√©paration...\";\r\n\r\n                Log.info(`[CacheSection] Starting download for profile: ${profileId}`);\r\n\r\n                // T√©l√©charger le profil\r\n                const result = await GeoLeaf.Storage.downloadProfileForOffline(profileId);\r\n\r\n                if (progressText) {\r\n                    progressText.textContent = `‚úÖ ${result.resourcesCount} ressources t√©l√©charg√©es`;\r\n                }\r\n\r\n                // Notification de succ√®s\r\n                if (GeoLeaf.UI && GeoLeaf.UI.Notifications) {\r\n                    GeoLeaf.UI.Notifications.success(\r\n                        `Profil t√©l√©charg√© : ${(result.totalSize / 1024 / 1024).toFixed(2)} MB`,\r\n                        4000\r\n                    );\r\n                }\r\n\r\n                // Masquer la progression apr√®s 2s\r\n                setTimeout(() => {\r\n                    if (progressEl) progressEl.style.display = \"none\";\r\n                }, 2000);\r\n\r\n                await this._updateStatus();\r\n\r\n            } catch (error) {\r\n                Log.error(`[CacheSection] Download failed: ${error.message}`);\r\n\r\n                if (progressText) progressText.textContent = `‚ùå Erreur: ${error.message}`;\r\n\r\n                if (GeoLeaf.UI && GeoLeaf.UI.Notifications) {\r\n                    GeoLeaf.UI.Notifications.error(\r\n                        `Erreur t√©l√©chargement: ${error.message}`,\r\n                        5000\r\n                    );\r\n                }\r\n\r\n                setTimeout(() => {\r\n                    if (progressEl) progressEl.style.display = \"none\";\r\n                }, 3000);\r\n\r\n            } finally {\r\n                // R√©activer le bouton\r\n                if (downloadBtn) {\r\n                    downloadBtn.disabled = false;\r\n                    downloadBtn.querySelector(\".gl-btn__text\").textContent = \"T√©l√©charger profil\";\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * G√®re l'effacement du cache\r\n         * @private\r\n         */\r\n        async _handleClear() {\r\n            if (!GeoLeaf.Storage || !GeoLeaf.Storage.isAvailable()) {\r\n                return;\r\n            }\r\n\r\n            const profileId = GeoLeaf.Config.get(\"data.activeProfile\", \"\");\r\n            if (!profileId) {\r\n                return;\r\n            }\r\n\r\n            // Confirmation\r\n            if (!confirm(`Voulez-vous vraiment effacer le cache du profil \"${profileId}\" ?`)) {\r\n                return;\r\n            }\r\n\r\n            const clearBtn = document.getElementById(\"gl-cache-clear\");\r\n\r\n            try {\r\n                if (clearBtn) {\r\n                    clearBtn.disabled = true;\r\n                    clearBtn.querySelector(\".gl-btn__text\").textContent = \"Effacement...\";\r\n                }\r\n\r\n                Log.info(`[CacheSection] Clearing cache for profile: ${profileId}`);\r\n\r\n                const deleted = await GeoLeaf.Storage.CacheManager.clearCache(profileId);\r\n\r\n                if (GeoLeaf.UI && GeoLeaf.UI.Notifications) {\r\n                    GeoLeaf.UI.Notifications.success(\r\n                        `Cache effac√© : ${deleted} ressources supprim√©es`,\r\n                        3000\r\n                    );\r\n                }\r\n\r\n                await this._updateStatus();\r\n\r\n            } catch (error) {\r\n                Log.error(`[CacheSection] Clear failed: ${error.message}`);\r\n\r\n                if (GeoLeaf.UI && GeoLeaf.UI.Notifications) {\r\n                    GeoLeaf.UI.Notifications.error(\r\n                        `Erreur effacement: ${error.message}`,\r\n                        5000\r\n                    );\r\n                }\r\n            } finally {\r\n                if (clearBtn) {\r\n                    clearBtn.querySelector(\".gl-btn__text\").textContent = \"Vider cache\";\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    // Exposer le module\r\n    GeoLeaf._LayerManagerCacheSection = CacheSection;\r\n\r\n})(window);\r\n","/**\r\n * Module Basemap Selector pour LayerManager\r\n * Gestion du s√©lecteur de fonds de carte\r\n *\r\n * D√âPENDANCES:\r\n * - Leaflet (L.DomUtil, L.DomEvent)\r\n * - GeoLeaf.Log (optionnel)\r\n * - GeoLeaf.Baselayers (optionnel, pour getActiveId et setBaseLayer)\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf._LayerManagerBasemapSelector\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\r\n    const Log = GeoLeaf.Log;\r\n\r\n    /**\r\n     * Module Basemap Selector\r\n     * @namespace _LayerManagerBasemapSelector\r\n     * @private\r\n     */\r\n    const _LayerManagerBasemapSelector = {\r\n        /**\r\n         * Rend le s√©lecteur de basemap\r\n         * @param {Object} section - Section basemap avec items\r\n         * @param {HTMLElement} sectionEl - √âl√©ment DOM de la section\r\n         */\r\n        render(section, sectionEl) {\r\n            // Validation des param√®tres\r\n            if (!section || !sectionEl) {\r\n                return;\r\n            }\r\n\r\n            const container = global.L.DomUtil.create(\r\n                \"div\",\r\n                \"gl-layer-manager__items gl-layer-manager__basemap-select\",\r\n                sectionEl\r\n            );\r\n\r\n            const select = global.L.DomUtil.create(\"select\", \"gl-layer-manager__basemap-select__select\", container);\r\n\r\n            // Remplir les options\r\n            if (Array.isArray(section.items)) {\r\n                section.items.forEach(function (item) {\r\n                    if (!item || !item.id) return;\r\n                    const opt = document.createElement(\"option\");\r\n                    opt.value = item.id;\r\n                    opt.textContent = item.label || item.id;\r\n                    select.appendChild(opt);\r\n                });\r\n            }\r\n\r\n            // Valeur initiale -> ID actif des basemaps\r\n            try {\r\n                const activeId = global.GeoLeaf && global.GeoLeaf.Baselayers && typeof global.GeoLeaf.Baselayers.getActiveId === \"function\"\r\n                    ? global.GeoLeaf.Baselayers.getActiveId()\r\n                    : null;\r\n                if (activeId) {\r\n                    select.value = activeId;\r\n                }\r\n            } catch (e) {\r\n                // ignore\r\n            }\r\n\r\n            // Changement par l'utilisateur\r\n            this._attachChangeHandler(select);\r\n\r\n            // √âcouter les changements externes\r\n            this._attachExternalListener(select);\r\n        },\r\n\r\n        /**\r\n         * Attache le gestionnaire de changement au select\r\n         * @private\r\n         */\r\n        _attachChangeHandler(select) {\r\n            const handler = function (ev) {\r\n                if (global.L && global.L.DomEvent) {\r\n                    global.L.DomEvent.stopPropagation(ev);\r\n                }\r\n                try {\r\n                    const val = select.value;\r\n                    if (global.GeoLeaf && global.GeoLeaf.Baselayers && typeof global.GeoLeaf.Baselayers.setBaseLayer === \"function\") {\r\n                        global.GeoLeaf.Baselayers.setBaseLayer(val);\r\n                    }\r\n                } catch (err) {\r\n                    if (Log) Log.warn(\"Erreur lors du changement de basemap depuis la l√©gende:\", err);\r\n                }\r\n            };\r\n\r\n            if (global.L && global.L.DomEvent) {\r\n                global.L.DomEvent.on(select, \"change\", handler);\r\n            } else {\r\n                select.addEventListener(\"change\", handler);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * √âcoute les √©v√©nements de changement de basemap externe\r\n         * @private\r\n         */\r\n        _attachExternalListener(select) {\r\n            if (typeof document !== \"undefined\") {\r\n                document.addEventListener(\"geoleaf:basemap-changed\", function (e) {\r\n                    try {\r\n                        if (e && e.detail && e.detail.id) {\r\n                            select.value = e.detail.id;\r\n                        }\r\n                    } catch (err) {\r\n                        // ignore\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    // Exposer dans l'espace de noms interne\r\n    GeoLeaf._LayerManagerBasemapSelector = _LayerManagerBasemapSelector;\r\n\r\n})(window);\r\n","/**\n * @module _LayerManagerStyleSelector\n * @description S√©lecteur de styles pour le gestionnaire de couches.\n * Permet de changer dynamiquement le style appliqu√© √† une couche.\n * Utilise le nouveau style-loader pour charger et valider les styles.\n * @version 3.1.0\n */\n\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    /**\n     * √âtat interne du s√©lecteur de styles\n     * @private\n     */\n    const state = {\n        currentStyles: new Map() // layerId -> styleId\n    };\n\n    /**\n     * Module s√©lecteur de styles pour le gestionnaire de couches\n     * @namespace\n     */\n    GeoLeaf._LayerManagerStyleSelector = {\n        /**\n         * R√©cup√®re le style actuel d'une couche\n         * @param {string} layerId - Identifiant de la couche\n         * @returns {string|null} Identifiant du style actuel\n         */\n        getCurrentStyle: function (layerId) {\n            return state.currentStyles.get(layerId) || null;\n        },\n\n        /**\n         * D√©finit le style actuel d'une couche\n         * @param {string} layerId - Identifiant de la couche\n         * @param {string} styleId - Identifiant du style\n         */\n        setCurrentStyle: function (layerId, styleId) {\n            state.currentStyles.set(layerId, styleId);\n        },\n\n        /**\n         * G√©n√®re le HTML du s√©lecteur de styles\n         * @param {Object} item - Configuration de l'item de couche\n         * @param {string} item.id - Identifiant de la couche\n         * @param {Object} item.styles - Configuration des styles disponibles\n         * @param {Array} item.styles.available - Tableau des styles disponibles\n         * @param {string} item.styles.default - Style par d√©faut\n         * @returns {string} HTML du s√©lecteur\n         * @deprecated Utiliser renderDOM() √† la place\n         */\n        render: function (item) {\n            if (!item.styles || !Array.isArray(item.styles.available) || item.styles.available.length <= 1) {\n                return \"\";\n            }\n\n            const currentStyle = this.getCurrentStyle(item.id) || item.styles.default || item.styles.available[0].id;\n            const selectId = \"style-selector-\" + item.id;\n\n            let html = '<div class=\"gl-layer-manager__style-selector\">';\n            html += '<select id=\"' + selectId + '\" class=\"gl-layer-manager__style-select\" data-layer-id=\"' + item.id + '\">';\n\n            item.styles.available.forEach(function (style) {\n                const selected = style.id === currentStyle ? ' selected' : '';\n                html += '<option value=\"' + style.id + '\"' + selected + '>' + style.label + '</option>';\n            });\n\n            html += '</select>';\n            html += '</div>';\n\n            return html;\n        },\n\n        /**\n         * G√©n√®re l'√©l√©ment DOM du s√©lecteur de styles\n         * @param {Object} item - Configuration de l'item de couche\n         * @param {string} item.id - Identifiant de la couche\n         * @param {Object} item.styles - Configuration des styles disponibles\n         * @param {Array} item.styles.available - Tableau des styles disponibles\n         * @param {string} item.styles.default - Style par d√©faut\n         * @returns {HTMLElement|null} √âl√©ment DOM du s√©lecteur ou null\n         */\n        renderDOM: function (item) {\n\t\t\tconst Log = global.GeoLeaf && global.GeoLeaf.Log;\n\n\t\t\t// ...log supprim√© ([StyleSelector] renderDOM)...\n\n            if (!item.styles || !Array.isArray(item.styles.available) || item.styles.available.length <= 1) {\n                // ...log supprim√© ([StyleSelector] Pas de s√©lecteur n√©cessaire)...\n                return null;\n            }\n\n            const currentStyle = this.getCurrentStyle(item.id) || item.styles.default || item.styles.available[0].id;\n            const selectId = \"style-selector-\" + item.id;\n\n            // Cr√©er le conteneur\n            const container = document.createElement(\"div\");\n            container.className = \"gl-layer-manager__style-selector\";\n\n            // Cr√©er le select\n            const select = document.createElement(\"select\");\n            select.id = selectId;\n            select.className = \"gl-layer-manager__style-select\";\n            select.setAttribute(\"data-layer-id\", item.id);\n\n            // Ajouter les options\n            item.styles.available.forEach(function (style) {\n                const option = document.createElement(\"option\");\n                option.value = style.id;\n                option.textContent = style.label;\n                if (style.id === currentStyle) {\n                    option.selected = true;\n                }\n                select.appendChild(option);\n            });\n\n            container.appendChild(select);\n            return container;\n        },\n\n        /**\n         * Initialise les √©v√©nements du s√©lecteur de styles\n         * @param {HTMLElement} container - Conteneur des contr√¥les\n         * @param {Object} item - Configuration de l'item de couche\n         */\n        bindEvents: function (container, item) {\n            if (!item.styles || !Array.isArray(item.styles.available) || item.styles.available.length <= 1) {\n                return;\n            }\n\n            const selectId = \"style-selector-\" + item.id;\n            const select = container.querySelector(\"#\" + selectId);\n\n            if (!select) {\n                return;\n            }\n\n            const self = this;\n\n            select.addEventListener(\"change\", function () {\n                const styleId = this.value;\n                const layerId = this.getAttribute(\"data-layer-id\");\n\n                // Enregistrer le style actuel\n                self.setCurrentStyle(layerId, styleId);\n\n                // Appliquer le style √† la couche\n                self.applyStyle(layerId, styleId);\n            });\n        },\n\n        /**\n         * Applique un style √† une couche\n         * Utilise le style-loader pour charger, valider et appliquer le style\n         * @param {string} layerId - Identifiant de la couche\n         * @param {string} styleId - Identifiant du style\n         */\n        applyStyle: async function (layerId, styleId) {\n\t\t\tconst Log = global.GeoLeaf.Log;\n\n\t\t\tif (!global.GeoLeaf._GeoJSONLayerManager) {\n\t\t\t\t// ...log supprim√© ([StyleSelector] Module GeoJSON non disponible)...\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// R√©cup√©rer les donn√©es de la couche\n\t\t\tconst layerManager = global.GeoLeaf._GeoJSONLayerManager;\n\t\t\tconst layerData = layerManager.getLayerData(layerId);\n\n\t\t\tif (!layerData) {\n\t\t\t\t// ...log supprim√© ([StyleSelector] Couche non trouv√©e)...\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!layerData.config.styles || !Array.isArray(layerData.config.styles.available)) {\n\t\t\t\t// ...log supprim√© ([StyleSelector] Aucun style disponible pour la couche)...\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Trouver la configuration du style\n\t\t\tconst styleConfig = layerData.config.styles.available.find(function (s) {\n\t\t\t\treturn s.id === styleId;\n\t\t\t});\n\n\t\t\tif (!styleConfig) {\n\t\t\t\t// ...log supprim√© ([StyleSelector] Style non trouv√©)...\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// ...log supprim√© ([StyleSelector] Application du style)...\n\n            try {\n                // V√©rifier que le style-loader est disponible\n                const StyleLoader = global.GeoLeaf._StyleLoader;\n                if (!StyleLoader) {\n                    // ...log supprim√© ([StyleSelector] GeoLeaf._StyleLoader non disponible)...\n                    // Fallback vers ancien syst√®me si n√©cessaire\n                    this._applyStyleLegacy(layerId, styleId, layerData, styleConfig);\n                    return;\n                }\n\n                // R√©cup√©rer les m√©tadonn√©es n√©cessaires\n                const profileId = layerData.config._profileId;\n                const layerDirectory = layerData.config._layerDirectory;\n\n                if (!profileId || !layerDirectory) {\n                    // ...log supprim√© ([StyleSelector] M√©tadonn√©es manquantes)...\n                    return;\n                }\n\n                // Charger et valider le style avec le style-loader\n                // ...log supprim√© ([StyleSelector] Chargement du style via style-loader)...\n\n                const result = await StyleLoader.loadAndValidateStyle(\n                    profileId,\n                    layerId,\n                    styleId,\n                    styleConfig.file,\n                    layerDirectory\n                );\n\n                // ...log supprim√© ([StyleSelector] Style charg√© et valid√©)...\n\n                // Stocker le style actuel dans layerData pour que les labels puissent y acc√©der\n                layerData.currentStyle = result.styleData;\n                layerData.currentStyleMetadata = result.metadata;\n\n                // Appliquer le style via le GeoJSONLayerManager\n                if (typeof layerManager.setLayerStyle === \"function\") {\n                    layerManager.setLayerStyle(layerId, result.styleData);\n                    // ...log supprim√© ([StyleSelector] Style appliqu√© avec succ√®s)...\n                } else {\n                    // ...log supprim√© ([StyleSelector] Fonction setLayerStyle non disponible)...\n                }\n\n                // R√©initialiser les labels selon le nouveau style et visibleByDefault\n                if (global.GeoLeaf.Labels && typeof global.GeoLeaf.Labels.initializeLayerLabels === 'function') {\n                    global.GeoLeaf.Labels.initializeLayerLabels(layerId);\n                }\n\n                // Mettre √† jour l'√©tat du bouton des labels selon le nouveau style\n                // Utiliser syncImmediate car currentStyle vient d'√™tre mis √† jour\n                if (global.GeoLeaf._LabelButtonManager) {\n                    // ...log supprim√© ([StyleSelector] Synchronisation du bouton label)...\n                    global.GeoLeaf._LabelButtonManager.syncImmediate(layerId);\n                }\n\n                // Charger la l√©gende correspondante\n                if (global.GeoLeaf.Legend && typeof global.GeoLeaf.Legend.loadLayerLegend === \"function\") {\n                    global.GeoLeaf.Legend.loadLayerLegend(layerData.config.id, styleId, layerData.config);\n                }\n\n            } catch (error) {\n                // ...log supprim√© ([StyleSelector] Erreur lors du chargement/application du style)...\n                // ...log supprim√© ([StyleSelector] Stack trace)...\n            }\n        },\n\n        /**\n         * M√©thode legacy de chargement de style (fallback)\n         * @private\n         * @deprecated Utiliser applyStyle() avec style-loader √† la place\n         */\n        _applyStyleLegacy: function (layerId, styleId, layerData, styleConfig) {\n            const Log = global.GeoLeaf.Log;\n            const layerManager = global.GeoLeaf._GeoJSONLayerManager;\n\n            // ...log supprim√© ([StyleSelector] Utilisation de la m√©thode legacy)...\n\n            const profileId = layerData.config._profileId;\n            const layerDirectory = layerData.config._layerDirectory;\n\n            if (!profileId || !layerDirectory) {\n                // ...log supprim√© ([StyleSelector] M√©tadonn√©es manquantes)...\n                return;\n            }\n\n            const Config = global.GeoLeaf.Config;\n            const dataCfg = Config && Config.get ? Config.get('data') : null;\n            const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || \"profiles\";\n\n            const styleDirectory = layerData.config.styles.directory || \"styles\";\n            const stylePath = profilesBasePath + \"/\" + profileId + \"/\" + layerDirectory + \"/\" + styleDirectory + \"/\" + styleConfig.file;\n\n            // ...log supprim√© ([StyleSelector] Chargement du fichier de style (legacy))...\n\n            fetch(stylePath)\n                .then(function (response) {\n                    if (!response.ok) {\n                        throw new Error(\"Erreur HTTP \" + response.status);\n                    }\n                    return response.json();\n                })\n                .then(function (styleData) {\n                    if (typeof layerManager.setLayerStyle === \"function\") {\n                        layerManager.setLayerStyle(layerId, styleData);\n                        // ...log supprim√© ([StyleSelector] Style appliqu√© avec succ√®s (legacy))...\n                    }\n\n                    if (global.GeoLeaf.Legend && typeof global.GeoLeaf.Legend.loadLayerLegend === \"function\") {\n                        global.GeoLeaf.Legend.loadLayerLegend(layerData.config.id, styleId, layerData.config);\n                    }\n                })\n                .catch(function (error) {\n                    // ...log supprim√© ([StyleSelector] Erreur lors du chargement du style (legacy))...\n                });\n        }\n    };\n\n})(window);\n","/**\n * Module Control pour LayerManager\n * D√©finition du contr√¥le Leaflet personnalis√©\n *\n * D√âPENDANCES:\n * - Leaflet (L.Control, L.DomUtil, L.DomEvent, L.setOptions)\n * - GeoLeaf.Log (optionnel)\n * - GeoLeaf._LayerManagerRenderer (pour renderSections)\n *\n * EXPOSE:\n * - GeoLeaf._LayerManagerControl\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Cr√©e un contr√¥le Leaflet pour le gestionnaire de couches\n     * @param {Object} options - Options du contr√¥le\n     * @returns {L.Control} - Instance du contr√¥le Leaflet\n     */\n    function createLayerManagerControl(options) {\n        if (!global.L || !global.L.Control) {\n            if (Log) Log.error(\"[LayerManager] Leaflet L.Control non disponible\");\n            return null;\n        }\n\n        const LayerManagerControl = global.L.Control.extend({\n            options: {\n                position: options.position || \"bottomright\"\n            },\n\n            initialize: function (controlOptions) {\n                global.L.setOptions(this, controlOptions || {});\n                this._glOptions = controlOptions._glOptions;\n            },\n\n            onAdd: function (mapInstance) {\n                this._map = mapInstance;\n                this._container = global.L.DomUtil.create(\"div\", \"gl-layer-manager\");\n\n                // Emp√™cher les interactions carte\n                if (global.L.DomEvent) {\n                    global.L.DomEvent.disableClickPropagation(this._container);\n                    global.L.DomEvent.disableScrollPropagation(this._container);\n                }\n\n                this._buildStructure();\n                return this._container;\n            },\n\n            onRemove: function () {\n                this._map = null;\n                this._container = null;\n            },\n\n            /**\n             * Construit la structure DOM de la l√©gende\n             * @private\n             */\n            _buildStructure: function () {\n                const opts = this._glOptions;\n\n                // Conteneur principal (flex container)\n                const mainWrapper = global.L.DomUtil.create(\"div\", \"gl-layer-manager__main-wrapper\", this._container);\n\n                // Wrapper du header (reste fixe)\n                const headerWrapper = global.L.DomUtil.create(\"div\", \"gl-layer-manager__header-wrapper\", mainWrapper);\n\n                // En-t√™te : titre + bouton collapse\n                const header = global.L.DomUtil.create(\"div\", \"gl-layer-manager__header\", headerWrapper);\n\n                const titleEl = global.L.DomUtil.create(\n                    \"div\",\n                    \"gl-layer-manager__title\",\n                    header\n                );\n                titleEl.textContent = opts.title || \"L√©gende\";\n\n                let toggleEl = null;\n                if (opts.collapsible) {\n                    toggleEl = global.L.DomUtil.create(\n                        \"button\",\n                        \"gl-layer-manager__toggle\",\n                        header\n                    );\n                    toggleEl.type = \"button\";\n                    toggleEl.setAttribute(\"aria-label\", \"Basculer la l√©gende\");\n                    toggleEl.textContent = \"‚ü±\";\n\n                    const self = this;\n                    global.L.DomEvent.on(toggleEl, \"click\", function (ev) {\n                        global.L.DomEvent.stopPropagation(ev);\n                        self._toggleCollapsed();\n                    });\n                }\n\n                // Wrapper du body avec scrollbar\n                const bodyWrapper = global.L.DomUtil.create(\"div\", \"gl-layer-manager__body-wrapper\", mainWrapper);\n\n                // Corps de la l√©gende\n                this._bodyEl = global.L.DomUtil.create(\n                    \"div\",\n                    \"gl-layer-manager__body\",\n                    bodyWrapper\n                );\n\n                // Appliquer l'√©tat collapsed initial (depuis options ou collapsedByDefault)\n                const initialCollapsed = opts.collapsed || opts.collapsedByDefault || false;\n                if (initialCollapsed) {\n                    this._container.classList.add(\"gl-layer-manager--collapsed\");\n                    opts.collapsed = true; // Synchroniser l'√©tat\n                }\n\n                // Rendu des sections via le renderer\n                this._renderSections(opts.sections || []);\n            },\n\n            /**\n             * Rend les sections (d√©l√®gue au renderer)\n             * @private\n             */\n            _renderSections: function (sections) {\n                if (GeoLeaf._LayerManagerRenderer) {\n                    GeoLeaf._LayerManagerRenderer.renderSections(this._bodyEl, sections);\n                } else {\n                    if (Log) Log.error(\"[LayerManager] _LayerManagerRenderer non disponible\");\n                }\n            },\n\n            /**\n             * Mise √† jour des sections\n             * @param {Array} sections - Nouvelles sections\n             */\n            updateSections: function (sections) {\n                this._glOptions.sections = Array.isArray(sections) ? sections : [];\n                this._renderSections(this._glOptions.sections);\n            },\n\n            /**\n             * Rafra√Æchit l'affichage pour mettre √† jour l'√©tat des boutons toggle\n             * Utilis√© notamment apr√®s l'application d'un th√®me\n             * @public\n             */\n            refresh: function () {\n                // Synchroniser uniquement les toggles au lieu de re-g√©n√©rer tout le DOM\n                if (GeoLeaf._LayerManagerRenderer && typeof GeoLeaf._LayerManagerRenderer.syncToggles === 'function') {\n                    GeoLeaf._LayerManagerRenderer.syncToggles();\n                } else if (this._glOptions && this._glOptions.sections) {\n                    // Fallback: re-g√©n√©rer les sections si syncToggles n'est pas disponible\n                    this._renderSections(this._glOptions.sections);\n                }\n            },\n\n            /**\n             * Bascule l'√©tat collapsed\n             * @private\n             */\n            _toggleCollapsed: function () {\n                const isCollapsed = this._container.classList.toggle(\"gl-layer-manager--collapsed\");\n                this._glOptions.collapsed = isCollapsed;\n            }\n        });\n\n        return new LayerManagerControl({\n            position: options.position,\n            _glOptions: options\n        });\n    }\n\n    // Exposer dans l'espace de noms interne\n    GeoLeaf._LayerManagerControl = {\n        create: createLayerManagerControl\n    };\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n(function (global) {\n    \"use strict\";\n\n    /**\n     * Namespace global GeoLeaf\n     */\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    /**\n     * Logger unifi√©\n     */\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module GeoLeaf.LayerManager (REFACTORIS√â v3.0)\n     *\n     * ARCHITECTURE MODULAIRE :\n     * - layer-manager/shared.js : √âtat partag√©\n     * - layer-manager/control.js : Contr√¥le Leaflet (L.Control)\n     * - layer-manager/renderer.js : Rendu des sections et items\n     * - layer-manager/basemap-selector.js : S√©lecteur de fonds de carte\n     * - layer-manager/theme-selector.js : S√©lecteur de th√®mes\n     * - geoleaf.layer-manager.js (ce fichier) : Agr√©gateur/fa√ßade publique\n     *\n     * D√âPENDANCES REQUISES (charg√©es avant ce module) :\n     * - layer-manager/shared.js ‚Üí GeoLeaf._LayerManagerShared\n     * - layer-manager/renderer.js ‚Üí GeoLeaf._LayerManagerRenderer\n     * - layer-manager/basemap-selector.js ‚Üí GeoLeaf._LayerManagerBasemapSelector\n     * - layer-manager/theme-selector.js ‚Üí GeoLeaf._LayerManagerThemeSelector\n     * - layer-manager/control.js ‚Üí GeoLeaf._LayerManagerControl\n     *\n     * R√¥le :\n     * - Cr√©er un contr√¥le Leaflet de gestionnaire de couches pour GeoLeaf\n     * - Afficher des sections structur√©es (basemaps, couches, cat√©gories)\n     * - G√©rer un mode repliable (collapsible)\n     * - Pr√©paration pour l'int√©gration avec le module Legend (Phase 6)\n     */\n    const LayerManagerModule = {\n        /**\n         * R√©f√©rence √† la carte Leaflet\n         * @type {L.Map|null}\n         * @private\n         */\n        _map: null,\n\n        /**\n         * R√©f√©rence au contr√¥le Leaflet de l√©gende\n         * @type {L.Control|null}\n         * @private\n         */\n        _control: null,\n\n        /**\n         * Timeout pour le debounce du refresh\n         * @type {number|null}\n         * @private\n         */\n        _refreshTimeout: null,\n\n        /**\n         * Options internes du module\n         * @type {Object}\n         * @private\n         */\n        _options: {\n            position: \"bottomright\",\n            title: \"Gestionnaire de couches\",\n            collapsible: true,\n            collapsed: false,\n            sections: []\n        },\n\n        /**\n         * Initialisation du module LayerManager\n         *\n         * @param {Object} options\n         * @param {L.Map} [options.map] - Carte Leaflet (si absent, tentative via GeoLeaf.Core.getMap())\n         * @param {string} [options.position]\n         * @param {string} [options.title]\n         * @param {boolean} [options.collapsible]\n         * @param {boolean} [options.collapsed]\n         * @param {Array} [options.sections]\n         * @returns {L.Control|null} - Le contr√¥le LayerManager ou null\n         */\n        init(options = {}) {\n            if (typeof global.L === \"undefined\" || !global.L || !global.L.Control) {\n                if (Log) Log.error(\"[GeoLeaf.LayerManager] Leaflet (L.Control) est requis mais introuvable.\");\n                return null;\n            }\n\n            let map = options.map || null;\n\n            // Tentative de r√©cup√©ration via GeoLeaf.Core\n            if (!map && GeoLeaf.Core && typeof GeoLeaf.Core.getMap === \"function\") {\n                map = GeoLeaf.Core.getMap();\n            }\n\n            if (!map) {\n                if (Log) Log.error(\"[GeoLeaf.LayerManager] Aucune carte Leaflet disponible. Passe une instance dans init({ map }).\");\n                return null;\n            }\n\n            this._map = map;\n            if (Log) Log.info(\"[GeoLeaf.LayerManager] init: map assigned\");\n\n            this._options = this._mergeOptions(this._options, options);\n\n            // Charger les sections depuis layerManagerConfig si disponibles\n            this._loadConfigSections();\n\n            // Remplir automatiquement la section basemap\n            this._autoPopulateBasemap();\n\n            // Autoremplissage minimal si aucune section\n            this._autoPopulateSections();\n\n            // Cr√©er le contr√¥le Leaflet via le sous-module\n            if (!GeoLeaf._LayerManagerControl) {\n                if (Log) Log.error(\"[GeoLeaf.LayerManager] Module _LayerManagerControl non charg√©\");\n                return null;\n            }\n\n            this._control = GeoLeaf._LayerManagerControl.create(this._options);\n\n            if (!this._control) {\n                if (Log) Log.error(\"[GeoLeaf.LayerManager] √âchec cr√©ation contr√¥le\");\n                return null;\n            }\n\n            this._control.addTo(this._map);\n\n            if (Log) Log.info(\"[GeoLeaf.LayerManager] Contr√¥le cr√©√© et ajout√© √† la carte\");\n            return this._control;\n        },\n\n        /**\n         * Charge les sections depuis la configuration\n         * @private\n         */\n        _loadConfigSections() {\n            if (GeoLeaf.Config && typeof GeoLeaf.Config.get === \"function\") {\n                const layerManagerConfig = GeoLeaf.Config.get('layerManagerConfig');\n                if (GeoLeaf.Log) GeoLeaf.Log.debug(\"[LayerManager] Configuration charg√©e:\", {\n                    title: layerManagerConfig?.title,\n                    collapsed: layerManagerConfig?.collapsedByDefault,\n                    sectionsCount: layerManagerConfig?.sections?.length || 0\n                });\n                if (layerManagerConfig) {\n                    if (layerManagerConfig.title) {\n                        this._options.title = layerManagerConfig.title;\n                    }\n\n                    // Param√®tre global collapsed/collapsedByDefault\n                    if (typeof layerManagerConfig.collapsedByDefault === 'boolean') {\n                        this._options.collapsed = layerManagerConfig.collapsedByDefault;\n                    }\n\n                    if (Array.isArray(layerManagerConfig.sections) && layerManagerConfig.sections.length > 0) {\n                        const configSections = layerManagerConfig.sections\n                            .slice()\n                            .sort((a, b) => (a.order || 0) - (b.order || 0))\n                            .map(s => ({\n                                id: s.id,\n                                label: s.label,\n                                order: s.order,\n                                collapsedByDefault: s.collapsedByDefault,\n                                items: []\n                            }));\n\n                        if (!Array.isArray(this._options.sections)) {\n                            this._options.sections = [];\n                        }\n\n                        configSections.forEach(configSection => {\n                            const existingSection = this._options.sections.find(s => s.id === configSection.id);\n                            if (!existingSection) {\n                                this._options.sections.push(configSection);\n                            } else if (configSection.label && !existingSection.label) {\n                                existingSection.label = configSection.label;\n                            }\n                        });\n\n                        this._options.sections.sort((a, b) => (a.order || 0) - (b.order || 0));\n\n                        if (Log) Log.info(\"[GeoLeaf.LayerManager] Sections fusionn√©es avec layerManagerConfig\");\n                    }\n                }\n            }\n        },\n\n        /**\n         * Remplit automatiquement la section basemap\n         * @private\n         */\n        _autoPopulateBasemap() {\n            if (!Array.isArray(this._options.sections)) return;\n\n            const basemapSection = this._options.sections.find(s => s.id === \"basemap\");\n            if (basemapSection && (!basemapSection.items || basemapSection.items.length === 0)) {\n                try {\n                    let basemapDefs = null;\n                    if (global.GeoLeaf && global.GeoLeaf.Baselayers && typeof global.GeoLeaf.Baselayers.getBaseLayers === \"function\") {\n                        basemapDefs = global.GeoLeaf.Baselayers.getBaseLayers() || {};\n                    } else if (GeoLeaf.Config && typeof GeoLeaf.Config.get === \"function\") {\n                        basemapDefs = GeoLeaf.Config.get('basemaps') || {};\n                    }\n\n                    if (basemapDefs && Object.keys(basemapDefs).length > 0) {\n                        basemapSection.items = Object.keys(basemapDefs).map(k => {\n                            const d = basemapDefs[k] || {};\n                            return { id: d.id || k, label: d.label || k };\n                        });\n                        if (Log) Log.info(\"[GeoLeaf.LayerManager] Section basemap remplie automatiquement\");\n                    }\n                } catch (e) {\n                    if (Log) Log.warn(\"[GeoLeaf.LayerManager] Erreur lors du remplissage automatique des basemaps:\", e);\n                }\n            }\n        },\n\n        /**\n         * Autoremplissage minimal des sections\n         * @private\n         */\n        _autoPopulateSections() {\n            if (Array.isArray(this._options.sections) && this._options.sections.length > 0) return;\n\n            const autoSections = [];\n            try {\n                if (global.GeoLeaf && global.GeoLeaf.Baselayers && typeof global.GeoLeaf.Baselayers.getBaseLayers === \"function\") {\n                    const defs = global.GeoLeaf.Baselayers.getBaseLayers() || {};\n                    const baseItems = Object.keys(defs).map(k => {\n                        const d = defs[k] || {};\n                        return { id: k, label: d.label || k };\n                    });\n                    if (baseItems.length) {\n                        autoSections.push({ id: \"basemap\", label: \"Fond de carte\", items: baseItems });\n                    }\n                }\n            } catch (e) {\n                // ignore\n            }\n\n            if (autoSections.length) {\n                this._options.sections = autoSections;\n                if (Log) Log.info(\"[GeoLeaf.LayerManager] auto-populated sections from Baselayers\");\n            } else {\n                if (Log) Log.warn(\"[GeoLeaf.LayerManager] Aucune section fournie et autoremplissage impossible.\");\n            }\n        },\n\n        /**\n         * Enregistre une couche GeoJSON dans la l√©gende\n         * @param {string} layerId - ID de la couche\n         * @param {Object} options - Options de la couche\n         */\n        _registerGeoJsonLayer(layerId, options = {}) {\n            // ...log supprim√© ([LayerManager] _registerGeoJsonLayer appel√© pour)...\n\n            if (!this._options.sections) {\n                this._options.sections = [];\n            }\n\n            // Utiliser layerManagerId ou legendSection (r√©trocompatibilit√©)\n            const sectionId = options.layerManagerId || options.legendSection || \"geojson-default\";\n            let section = this._options.sections.find(s => s.id === sectionId);\n\n            if (!section) {\n                section = {\n                    id: sectionId,\n                    label: options.legendSectionLabel || \"Couches GeoJSON\",\n                    order: 10,\n                    items: []\n                };\n                this._options.sections.push(section);\n                this._options.sections.sort((a, b) => (a.order || 0) - (b.order || 0));\n            }\n\n            const existingItem = section.items.find(item => item.id === layerId);\n            if (!existingItem) {\n                section.items.push({\n                    id: layerId,\n                    label: options.label || layerId,\n                    toggleable: true,\n                    themes: options.themes || null,\n                    styles: options.styles || null,\n                    labels: options.labels || null\n                });\n\n                this._updateContent();\n                if (Log) Log.debug(`[LayerManager] Couche \"${layerId}\" enregistr√©e dans section \"${sectionId}\"`);\n            }\n        },\n\n        /**\n         * D√©senregistre une couche GeoJSON de la l√©gende\n         * @param {string} layerId - ID de la couche\n         */\n        _unregisterGeoJsonLayer(layerId) {\n            if (!Array.isArray(this._options.sections)) return;\n\n            this._options.sections.forEach(section => {\n                if (Array.isArray(section.items)) {\n                    section.items = section.items.filter(item => item.id !== layerId);\n                }\n            });\n\n            this._options.sections = this._options.sections.filter(\n                section => section.id === \"basemap\" || (Array.isArray(section.items) && section.items.length > 0)\n            );\n\n            this._updateContent();\n            if (Log) Log.debug(`[LayerManager] Couche \"${layerId}\" d√©senregistr√©e`);\n        },\n\n        /**\n         * Met √† jour les sections de la l√©gende\n         * @param {Array} sections - Nouvelles sections\n         */\n        updateSections(sections) {\n            if (!Array.isArray(sections)) {\n                if (Log) Log.warn(\"[GeoLeaf.LayerManager] updateSections: sections doit √™tre un tableau\");\n                return;\n            }\n            this._options.sections = sections;\n            this._updateContent();\n        },\n\n        /**\n         * Ajoute ou met √† jour une section dans la l√©gende\n         * @param {Object} section - Section √† ajouter {id, label, order, items}\n         */\n        addSection(section) {\n            if (!section || !section.id) {\n                if (Log) Log.warn(\"[GeoLeaf.LayerManager] addSection: section invalide (id manquant)\");\n                return;\n            }\n\n            if (!Array.isArray(this._options.sections)) {\n                this._options.sections = [];\n            }\n\n            // Chercher une section existante avec le m√™me id\n            const existingIndex = this._options.sections.findIndex(s => s.id === section.id);\n\n            if (existingIndex !== -1) {\n                // Fusionner avec la section existante\n                const existing = this._options.sections[existingIndex];\n\n                // Fusionner les items\n                if (Array.isArray(section.items)) {\n                    if (!Array.isArray(existing.items)) {\n                        existing.items = [];\n                    }\n\n                    section.items.forEach(newItem => {\n                        const existingItemIndex = existing.items.findIndex(i => i.id === newItem.id);\n                        if (existingItemIndex !== -1) {\n                            // Mettre √† jour l'item existant\n                            existing.items[existingItemIndex] = Object.assign({}, existing.items[existingItemIndex], newItem);\n                        } else {\n                            // Ajouter le nouvel item\n                            existing.items.push(newItem);\n                        }\n                    });\n\n                    // Trier les items par order\n                    existing.items.sort((a, b) => (a.order || 0) - (b.order || 0));\n                }\n\n                // Mettre √† jour les autres propri√©t√©s si fournies\n                if (section.label) existing.label = section.label;\n                if (section.order !== undefined) existing.order = section.order;\n                if (section.collapsedByDefault !== undefined) existing.collapsedByDefault = section.collapsedByDefault;\n            } else {\n                // Ajouter la nouvelle section\n                this._options.sections.push({\n                    id: section.id,\n                    label: section.label || section.id,\n                    order: section.order || 99,\n                    collapsedByDefault: section.collapsedByDefault || false,\n                    items: section.items || []\n                });\n\n                // Trier les sections par order\n                this._options.sections.sort((a, b) => (a.order || 0) - (b.order || 0));\n            }\n\n            this._updateContent();\n            if (Log) Log.debug(`[LayerManager] Section \"${section.id}\" ajout√©e/mise √† jour`);\n        },\n\n        /**\n         * Bascule l'√©tat repli√©/d√©pli√© de la l√©gende\n         */\n        toggleCollapse() {\n            this._options.collapsed = !this._options.collapsed;\n            if (!this._control) return;\n            if (this._options.collapsed) {\n                this._control._container.classList.add(\"gl-layer-manager--collapsed\");\n            } else {\n                this._control._container.classList.remove(\"gl-layer-manager--collapsed\");\n            }\n        },\n\n        /**\n         * Indique si la l√©gende est repli√©e\n         * @returns {boolean}\n         */\n        isCollapsed() {\n            return !!this._options.collapsed;\n        },\n\n        /**\n         * Force le re-rendu du contenu\n         * @private\n         */\n        _updateContent() {\n            if (!this._control || typeof this._control.updateSections !== \"function\") {\n                return;\n            }\n            this._control.updateSections(this._options.sections || []);\n        },\n\n        /**\n         * Rafra√Æchit l'affichage du LayerManager\n         * Utilis√© notamment apr√®s l'application d'un th√®me pour mettre √† jour l'√©tat des boutons toggle\n         * Version debounced pour grouper les appels multiples (ex: plusieurs couches changent de visibilit√© au zoom)\n         * @public\n         * @param {boolean} [immediate=false] - Si true, force le refresh imm√©diat sans debounce\n         */\n        refresh(immediate = false) {\n            if (!this._control || typeof this._control.refresh !== \"function\") {\n                if (Log) Log.warn(\"[LayerManager] refresh(): contr√¥le non disponible ou m√©thode refresh manquante\");\n                return;\n            }\n\n            // Si refresh imm√©diat demand√©, annuler le debounce et ex√©cuter\n            if (immediate) {\n                if (this._refreshTimeout) {\n                    clearTimeout(this._refreshTimeout);\n                    this._refreshTimeout = null;\n                }\n                this._control.refresh();\n                if (Log) Log.debug(\"[LayerManager] Affichage rafra√Æchi (imm√©diat)\");\n                return;\n            }\n\n            // Debounce: annuler le timeout pr√©c√©dent et programmer un nouveau refresh\n            if (this._refreshTimeout) {\n                clearTimeout(this._refreshTimeout);\n            }\n\n            this._refreshTimeout = setTimeout(() => {\n                this._refreshTimeout = null;\n                this._control.refresh();\n                if (Log) Log.debug(\"[LayerManager] Affichage rafra√Æchi (debounced)\");\n            }, 250);\n        },\n\n        /**\n         * Fusion d'options (shallow + fusion l√©g√®re pour sous-objets)\n         * @param {Object} base\n         * @param {Object} override\n         * @returns {Object}\n         * @private\n         */\n        _mergeOptions(base, override) {\n            const result = Object.assign({}, base || {});\n            if (!override) return result;\n\n            Object.keys(override).forEach((key) => {\n                const value = override[key];\n\n                if (\n                    value &&\n                    typeof value === \"object\" &&\n                    !Array.isArray(value) &&\n                    base &&\n                    typeof base[key] === \"object\" &&\n                    !Array.isArray(base[key])\n                ) {\n                    result[key] = Object.assign({}, base[key], value);\n                } else {\n                    result[key] = value;\n                }\n            });\n\n            return result;\n        }\n    };\n\n    // Exposer le module dans l'espace de nom GeoLeaf\n    GeoLeaf.LayerManager = LayerManagerModule;\n})(window);\n","/**\n * Module Legend Generator\n * G√©n√®re automatiquement les l√©gendes depuis les fichiers de style\n *\n * D√âPENDANCES:\n * - GeoLeaf.Log (optionnel)\n *\n * EXPOSE:\n * - GeoLeaf._LegendGenerator\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n    const Log = GeoLeaf.Log;\n\n    /**\n     * R√©cup√®re l'ic√¥ne depuis taxonomy pour une r√®gle donn√©e\n     * @param {Object} rule - R√®gle de style avec condition when\n     * @param {Object} taxonomyData - Donn√©es de taxonomy\n     * @param {string} symbolPrefix - Pr√©fixe des symboles (ex: \"tourism-poi-cat-\")\n     * @returns {string|null} - ID de l'ic√¥ne sprite ou null\n     * @private\n     */\n    function getIconFromTaxonomy(rule, taxonomyData, symbolPrefix) {\n        if (!rule.when || !taxonomyData || !taxonomyData.categories) {\n            if (Log) Log.debug(\"[LegendGenerator] Donn√©es insuffisantes pour r√©cup√©rer ic√¥ne:\", {\n                hasRule: !!rule.when,\n                hasTaxonomy: !!taxonomyData,\n                hasCategories: !!(taxonomyData && taxonomyData.categories)\n            });\n            return null;\n        }\n\n        const field = rule.when.field;\n        const value = rule.when.value;\n        const categories = taxonomyData.categories;\n\n        if (Log) Log.debug(`[LegendGenerator] Recherche ic√¥ne pour ${field}=${value}`);\n\n        // D√©terminer le type de recherche\n        const isSubCategory = field === \"properties.subCategoryId\" || field === \"attributes.subCategoryId\";\n        const isCategoryId = field === \"properties.categoryId\" || field === \"attributes.categoryId\";\n\n        // Recherche dans subCategoryId\n        if (isSubCategory) {\n            for (const categoryKey in categories) {\n                const subcategories = categories[categoryKey].subcategories;\n                if (subcategories && subcategories[value] && subcategories[value].icon) {\n                    const iconId = symbolPrefix + subcategories[value].icon;\n                    if (Log) Log.debug(`[LegendGenerator] Ic√¥ne trouv√©e (subcat): ${iconId}`);\n                    return iconId;\n                }\n            }\n        }\n\n        // Recherche dans categoryId\n        if (isCategoryId && categories[value] && categories[value].icon) {\n            const iconId = symbolPrefix + categories[value].icon;\n            if (Log) Log.debug(`[LegendGenerator] Ic√¥ne trouv√©e (cat): ${iconId}`);\n            return iconId;\n        }\n\n        if (Log) Log.warn(`[LegendGenerator] Aucune ic√¥ne trouv√©e pour ${field}=${value}`);\n        return null;\n    }\n\n    // Fonction utilitaire pour d√©terminer si les ic√¥nes doivent √™tre affich√©es\n    // Copie exactement la logique de markers.js resolveCategoryDisplay()\n    function shouldUseIcons() {\n        try {\n            // R√©cup√©rer l'√©tat partag√© (comme dans markers.js)\n            const shared = (GeoLeaf && GeoLeaf._POIShared) ? GeoLeaf._POIShared : null;\n            const poiConfig = shared ? shared.state.poiConfig : {};\n            const showIconsOnMap = (poiConfig.showIconsOnMap !== false);\n\n            if (showIconsOnMap) {\n                // V√©rifier la config d'ic√¥nes (comme dans markers.js)\n                const iconsConfig = (GeoLeaf.Config && typeof GeoLeaf.Config.getIconsConfig === \"function\")\n                    ? GeoLeaf.Config.getIconsConfig()\n                    : null;\n\n                if (iconsConfig && iconsConfig.showOnMap !== false) {\n                    return true;\n                }\n            }\n        } catch (e) {\n            // Ignorer les erreurs silencieusement\n        }\n\n        return false;\n    }\n\n    /**\n     * G√©n√®re les donn√©es de l√©gende depuis un fichier de style\n     * @param {Object} styleData - Donn√©es du style (JSON pars√©)\n     * @param {string} geometryType - Type de g√©om√©trie (point, line, polygon)\n     * @param {Object} taxonomyData - Donn√©es de taxonomy (pour les ic√¥nes POI)\n     * @returns {Object} - Donn√©es de l√©gende format√©es\n     */\n    function generateLegendFromStyle(styleData, geometryType, taxonomyData) {\n        if (!styleData) {\n            if (Log) Log.warn(\"[LegendGenerator] Style data manquant\");\n            return null;\n        }\n\n        const legendData = {\n            version: \"3.0\",\n            id: styleData.id,\n            title: styleData.label || \"Sans titre\",\n            description: styleData.description || \"\",\n            sections: []\n        };\n\n        const items = [];\n        const symbolPrefix = taxonomyData?.icons?.symbolPrefix || \"tourism-poi-cat-\";\n\n        // Cas 1 : Style avec styleRules\n        if (Array.isArray(styleData.styleRules) && styleData.styleRules.length > 0) {\n            styleData.styleRules.forEach(rule => {\n                if (!rule.legend) {\n                    if (Log) Log.warn(\"[LegendGenerator] R√®gle sans propri√©t√© legend:\", rule);\n                    return;\n                }\n\n                const item = generateLegendItem(\n                    rule.style,\n                    rule.legend,\n                    geometryType,\n                    styleData.style, // style de base\n                    rule,\n                    taxonomyData,\n                    symbolPrefix\n                );\n\n                if (item) {\n                    items.push(item);\n                }\n            });\n\n            // Trier par order\n            items.sort((a, b) => (a.order || 999) - (b.order || 999));\n\n        // Cas 2 : Style simple sans r√®gles ou avec styleRules vide\n        }\n\n        // Si pas d'items g√©n√©r√©s √† partir des styleRules (ou pas de styleRules)\n        // essayer d'utiliser la l√©gende au niveau racine\n        if (items.length === 0 && styleData.style && styleData.legend) {\n            const item = generateLegendItem(\n                styleData.style,\n                styleData.legend,\n                geometryType,\n                null,\n                null,\n                taxonomyData,\n                symbolPrefix\n            );\n\n            if (item) {\n                items.push(item);\n            }\n        }\n\n        // Cr√©er une section par d√©faut avec tous les items\n        if (items.length > 0) {\n            legendData.sections.push({\n                title: \"\",\n                items: items\n            });\n        }\n\n        return legendData;\n    }\n\n    /**\n     * G√©n√®re un item de l√©gende selon le type de g√©om√©trie\n     * @param {Object} style - Style de l'entit√©\n     * @param {Object} legend - Propri√©t√©s legend (label, order, description)\n     * @param {string} geometryType - Type de g√©om√©trie\n     * @param {Object} baseStyle - Style de base (pour h√©ritage)\n     * @param {Object} rule - R√®gle compl√®te (pour extraction ic√¥ne)\n     * @param {Object} taxonomyData - Donn√©es taxonomy\n     * @param {string} symbolPrefix - Pr√©fixe symboles\n     * @param {boolean} showIconsOnMap - Si true, g√©n√®re les ic√¥nes\n     * @returns {Object|null} - Item de l√©gende\n     * @private\n     */\n    function generateLegendItem(style, legend, geometryType, baseStyle, rule, taxonomyData, symbolPrefix) {\n        if (!style || !legend) {\n            return null;\n        }\n\n        // Fusionner avec le style de base si pr√©sent\n        const mergedStyle = baseStyle ? Object.assign({}, baseStyle, style) : style;\n\n        const item = {\n            label: legend.label || \"Sans label\",\n            order: legend.order || 999\n        };\n\n        if (legend.description) {\n            item.description = legend.description;\n        }\n\n        // G√©n√©ration du symbole selon le type de g√©om√©trie\n        switch (geometryType) {\n            case \"point\":\n                item.symbol = generatePointSymbol(mergedStyle, rule, taxonomyData, symbolPrefix);\n                break;\n\n            case \"line\":\n                item.symbol = generateLineSymbol(mergedStyle);\n                break;\n\n            case \"polygon\":\n                item.symbol = generatePolygonSymbol(mergedStyle);\n                break;\n\n            default:\n                if (Log) Log.warn(\"[LegendGenerator] Type de g√©om√©trie non reconnu:\", geometryType);\n                item.symbol = generatePointSymbol(mergedStyle, rule, taxonomyData, symbolPrefix);\n        }\n\n        return item;\n    }\n\n    /**\n     * Ajoute les propri√©t√©s communes d'opacit√© √† un symbole\n     * @param {Object} symbol - Objet symbole\n     * @param {Object} style - Style source\n     * @param {Array<string>} opacityProps - Propri√©t√©s d'opacit√© √† copier\n     * @private\n     */\n    function applyOpacityProperties(symbol, style, opacityProps) {\n        opacityProps.forEach(prop => {\n            if (style[prop] !== undefined) {\n                symbol[prop] = style[prop];\n            }\n        });\n    }\n\n    /**\n     * R√©sout les ic√¥nes d'une r√®gle selon la configuration showIconsOnMap\n     * @param {Object} rule - R√®gle de style\n     * @returns {Object} - {useIcon: boolean, iconId: string|null}\n     * @private\n     */\n    function resolveRuleIcons(rule) {\n        // Utiliser la m√™me logique que markers.js\n        if (!shouldUseIcons()) {\n            return { useIcon: false, iconId: null };\n        }\n        // R√©cup√©rer la configuration des cat√©gories\n        const categoriesConfig = (GeoLeaf.Config && typeof GeoLeaf.Config.getCategories === \"function\")\n            ? GeoLeaf.Config.getCategories()\n            : {};\n\n        if (!categoriesConfig || Object.keys(categoriesConfig).length === 0) {\n            return { useIcon: false, iconId: null };\n        }\n\n        // Mappage de fclass vers categoryId/subCategoryId pour les ic√¥nes\n        // Permet de r√©soudre les ic√¥nes pour les r√®gles qui utilisent fclass au lieu de categoryId\n        const fclassMappings = {\n            // Cultures\n            'archaeological': { categoryId: 'CULTURES', subCategoryId: 'SITE ARCHEOLOGIQUE' },\n            'museum': { categoryId: 'CULTURES', subCategoryId: 'MUSEE' },\n            // H√©bergements\n            'camp_site': { categoryId: 'HEBERGEMENT', subCategoryId: 'CAMPING' },\n            'hotel': { categoryId: 'HEBERGEMENT', subCategoryId: 'HOTEL' }\n        };\n\n        // Extraire categoryId et subCategoryId depuis la r√®gle\n        let categoryId = null;\n        let subCategoryId = null;\n\n        // Format v3 : rule.when avec field/value\n        if (rule.when && rule.when.field && rule.when.value !== undefined) {\n            // NOUVEAU: Cas sp√©cial pour fclass (r√©soudre via mapping)\n            if (rule.when.field === 'properties.fclass' || rule.when.field === 'fclass') {\n                const mapping = fclassMappings[rule.when.value];\n                if (mapping) {\n                    categoryId = mapping.categoryId;\n                    subCategoryId = mapping.subCategoryId;\n                }\n            } else if (rule.when.field === 'properties.categoryId' || rule.when.field === 'categoryId') {\n                categoryId = rule.when.value;\n            } else if (rule.when.field === 'properties.subCategoryId' || rule.when.field === 'subCategoryId') {\n                subCategoryId = rule.when.value;\n            } else if (rule.when.field === 'properties.category' || rule.when.field === 'category') {\n                categoryId = rule.when.value;\n            } else if (rule.when.field === 'properties.subCategory' || rule.when.field === 'subCategory') {\n                subCategoryId = rule.when.value;\n            }\n        }\n        // Format legacy : rule.condition\n        else if (rule.condition) {\n            if (typeof rule.condition.categoryId !== 'undefined') {\n                categoryId = rule.condition.categoryId;\n            }\n            if (typeof rule.condition.subCategoryId !== 'undefined') {\n                subCategoryId = rule.condition.subCategoryId;\n            }\n            if (typeof rule.condition.category !== 'undefined') {\n                categoryId = rule.condition.category;\n            }\n            if (typeof rule.condition.subCategory !== 'undefined') {\n                subCategoryId = rule.condition.subCategory;\n            }\n        }\n\n        // Pour les subCategoryId, il faut deviner la categoryId depuis la taxonomie\n        if (subCategoryId && !categoryId) {\n            // Chercher dans quelle cat√©gorie se trouve cette sous-cat√©gorie\n            Object.keys(categoriesConfig).forEach(catKey => {\n                const cat = categoriesConfig[catKey];\n                if (cat.subcategories && cat.subcategories[subCategoryId]) {\n                    categoryId = catKey;\n                }\n            });\n        }\n\n        if (!categoryId && !subCategoryId) {\n            return { useIcon: false, iconId: null };\n        }\n\n        // R√©solution de l'ic√¥ne depuis la taxonomie\n        let iconId = null;\n        if (subCategoryId && categoriesConfig[categoryId]?.subcategories) {\n            const subCat = categoriesConfig[categoryId].subcategories[subCategoryId];\n            const cat = categoriesConfig[categoryId];\n\n            if (subCat) {\n                iconId = subCat.icon || subCat.iconId || cat.icon || cat.iconId || null;\n            } else {\n                iconId = cat.icon || cat.iconId || null;\n            }\n        } else if (categoriesConfig[categoryId]) {\n            const cat = categoriesConfig[categoryId];\n            iconId = cat.icon || cat.iconId || null;\n        }\n\n        return {\n            useIcon: iconId !== null,\n            iconId: iconId\n        };\n    }\n\n    /**\n     * G√©n√®re un symbole pour les points (POI)\n     * @param {Object} style - Style du point\n     * @param {Object} rule - R√®gle compl√®te (pour extraction ic√¥ne)\n     * @param {Object} taxonomyData - Donn√©es taxonomy\n     * @param {string} symbolPrefix - Pr√©fixe symboles\n     * @param {boolean} showIconsOnMap - Si true, g√©n√®re les ic√¥nes\n     * @returns {Object} - Configuration du symbole\n     * @private\n     */\n    function generatePointSymbol(style, rule, taxonomyData, symbolPrefix) {\n        const fill = style.fill || {};\n        const stroke = style.stroke || {};\n\n        const resolvedRadius = style.radius || style.size || (style.sizePx ? style.sizePx / 2 : undefined);\n\n        // Taille par d√©faut plus grande pour que les ic√¥nes soient visibles dans la l√©gende\n        // Utiliser 24px pour les ic√¥nes, 16px pour les cercles simples\n        const defaultRadius = 24;\n\n        const symbol = {\n            type: \"circle\",\n            radius: resolvedRadius || defaultRadius,\n            fillColor: style.fillColor || style.color || fill.color || \"#3388ff\",\n            fillOpacity: style.fillOpacity !== undefined ? style.fillOpacity : (fill.opacity !== undefined ? fill.opacity : 1),\n            color: style.color || stroke.color || \"#ffffff\",\n            weight: style.weight || stroke.widthPx || 2,\n            opacity: style.opacity !== undefined ? style.opacity : (stroke.opacity !== undefined ? stroke.opacity : 1)\n        };\n\n        // Priorit√© 1 : V√©rifier si l'ic√¥ne est directement dans le style (showIconsOnMap)\n        if (style.useIcon && style.iconId) {\n            symbol.icon = style.iconId;\n            symbol.iconColor = \"#ffffff\"; // Couleur par d√©faut pour ic√¥nes\n            if (Log) Log.debug(`[LegendGenerator] Ic√¥ne trouv√©e dans le style: ${style.iconId}`);\n        }\n        // Priorit√© 2 : R√©soudre l'ic√¥ne depuis la configuration showIconsOnMap\n        else if (rule && shouldUseIcons()) {\n            const iconResolution = resolveRuleIcons(rule);\n\n            if (iconResolution.useIcon && iconResolution.iconId) {\n                // Ajouter le pr√©fixe sprite si n√©cessaire\n                const fullIconId = iconResolution.iconId.startsWith('#') ?\n                    iconResolution.iconId :\n                    (symbolPrefix ? symbolPrefix + iconResolution.iconId : '#sprite-' + iconResolution.iconId);\n\n                symbol.icon = fullIconId;\n                symbol.iconColor = \"#ffffff\";\n                if (Log) Log.debug(`[LegendGenerator] Ic√¥ne r√©solue depuis la config: ${fullIconId}`);\n            }\n        }\n        // Priorit√© 3 : Tenter de r√©cup√©rer l'ic√¥ne depuis taxonomy (m√©thode legacy)\n        if (!symbol.icon && rule && taxonomyData && shouldUseIcons()) {\n            const icon = getIconFromTaxonomy(rule, taxonomyData, symbolPrefix);\n            if (icon) {\n                symbol.icon = icon;\n                symbol.iconColor = \"#ffffff\"; // Couleur par d√©faut pour ic√¥nes\n                if (Log) Log.debug(\"[LegendGenerator] Ic√¥ne taxonomy ajout√©e:\", icon);\n            }\n        }\n\n        return symbol;\n    }\n\n    /**\n     * G√©n√®re un symbole pour les lignes\n     * @param {Object} style - Style de la ligne\n     * @returns {Object} - Configuration du symbole\n     * @private\n     */\n    function generateLineSymbol(style) {\n        const stroke = style.stroke || {};\n        const casing = style.casing || {};\n\n        // Strat√©gie : afficher le casing comme contour/bordure du stroke\n        // Si casing existe, utiliser la couleur du casing comme contour\n        // et le stroke comme couleur principale\n        const symbol = {\n            type: \"line\",\n            color: stroke.color || style.color || \"#3388ff\",\n            width: stroke.widthPx || style.weight || 3,\n            style: \"solid\" // Par d√©faut\n        };\n\n        // Si casing est activ√©, ajouter une bordure/outline fine\n        // Limiter l'√©paisseur pour la l√©gende (r√©duit d'un facteur)\n        if (casing.enabled && casing.color) {\n            symbol.outlineColor = casing.color;\n            // Utiliser une fraction de la largeur du casing pour la l√©gende\n            symbol.outlineWidth = Math.max(0.5, (casing.widthPx || 1) * 0.4);\n            symbol.outlineOpacity = casing.opacity || 1;\n        }\n\n        // Appliquer l'opacit√©\n        if (stroke.opacity !== undefined) {\n            symbol.opacity = stroke.opacity;\n        }\n\n        // Support pour dashArray - passer la valeur compl√®te\n        const dashArray = style.dashArray || stroke.dashArray;\n        if (dashArray) {\n            symbol.dashArray = dashArray;\n            // Garder le style pour la r√©trocompatibilit√©\n            if (dashArray === \"5, 5\" || dashArray === \"10, 10\") {\n                symbol.style = \"dashed\";\n            } else if (dashArray === \"1, 3\" || dashArray === \"2, 4\") {\n                symbol.style = \"dotted\";\n            }\n        }\n\n        return symbol;\n    }\n\n    /**\n     * G√©n√®re un symbole pour les polygones\n     * @param {Object} style - Style du polygone\n     * @returns {Object} - Configuration du symbole\n     * @private\n     */\n    function generatePolygonSymbol(style) {\n        const fill = style.fill || {};\n        const stroke = style.stroke || {};\n\n        const symbol = {\n            type: \"polygon\",\n            fillColor: style.fillColor || style.color || fill.color || \"#3388ff\",\n            color: style.color || stroke.color || \"#333\",\n            weight: style.weight || stroke.widthPx || 1\n        };\n\n        // Appliquer l'opacit√© du fill (pas du stroke qui √©crase)\n        applyOpacityProperties(symbol, style, ['fillOpacity']);\n        // Si pas de fillOpacity, prendre l'opacity directement du fill\n        if (fill.opacity !== undefined) {\n            symbol.opacity = fill.opacity;\n        }\n        // Puis v√©rifier style.opacity en dernier (peut √™tre au niveau racine)\n        if (style.opacity !== undefined) {\n            symbol.opacity = style.opacity;\n        }\n\n        // Support pour dashArray sur le contour\n        const dashArray = style.dashArray || stroke.dashArray;\n        if (dashArray) {\n            symbol.dashArray = dashArray;\n        }\n\n        // Support pour patterns de hachures\n        if (style.fillPattern) {\n            symbol.fillPattern = style.fillPattern;\n        }\n\n        // Support pour les hachures (format moderne)\n        if (style.hatch) {\n            symbol.hatch = style.hatch;\n        }\n\n        return symbol;\n    }\n\n    // Exposer le module\n    GeoLeaf._LegendGenerator = {\n        generateLegendFromStyle: generateLegendFromStyle,\n        generateLegendItem: generateLegendItem\n    };\n\n})(window);\n","/**\r\n * Module Legend Renderer\r\n * Rendu des symboles de l√©gende cartographique\r\n *\r\n * D√âPENDANCES:\r\n * - Leaflet (L.DomUtil)\r\n * - GeoLeaf.Log (optionnel)\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf._LegendRenderer\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\r\n    const Log = GeoLeaf.Log;\r\n\r\n    /**\r\n     * Rendu d'une section de l√©gende\r\n     * @param {HTMLElement} container - Conteneur parent\r\n     * @param {Object} section - Section de l√©gende\r\n     */\r\n    function renderSection(container, section) {\r\n        const sectionEl = global.L.DomUtil.create(\"div\", \"gl-legend__section\", container);\r\n\r\n        // Titre de section\r\n        if (section.title) {\r\n            const titleEl = global.L.DomUtil.create(\"h3\", \"gl-legend__section-title\", sectionEl);\r\n            titleEl.textContent = section.title;\r\n        }\r\n\r\n        // Items\r\n        const itemsContainer = global.L.DomUtil.create(\"div\", \"gl-legend__items\", sectionEl);\r\n        if (Array.isArray(section.items)) {\r\n            section.items.forEach(item => renderItem(itemsContainer, item));\r\n        }\r\n\r\n        return sectionEl;\r\n    }\r\n\r\n    /**\r\n     * Rendu d'un item de l√©gende\r\n     * @param {HTMLElement} container - Conteneur parent\r\n     * @param {Object} item - Item de l√©gende\r\n     */\r\n    function renderItem(container, item) {\r\n        const itemEl = global.L.DomUtil.create(\"div\", \"gl-legend__item\", container);\r\n\r\n        // Symbole\r\n        const symbolEl = global.L.DomUtil.create(\"div\", \"gl-legend__symbol\", itemEl);\r\n        renderSymbol(symbolEl, item);\r\n\r\n        // Texte\r\n        const textContainer = global.L.DomUtil.create(\"div\", \"gl-legend__text\", itemEl);\r\n\r\n        const labelEl = global.L.DomUtil.create(\"span\", \"gl-legend__label\", textContainer);\r\n        labelEl.textContent = item.label || \"\";\r\n\r\n        if (item.description) {\r\n            const descEl = global.L.DomUtil.create(\"span\", \"gl-legend__description\", textContainer);\r\n            descEl.textContent = item.description;\r\n        }\r\n\r\n        return itemEl;\r\n    }\r\n\r\n    /**\r\n     * Rendu d'un symbole selon son type\r\n     * @param {HTMLElement} container - Conteneur du symbole\r\n     * @param {Object} item - Configuration du symbole\r\n     */\r\n    function renderSymbol(container, item) {\r\n        // D√©l√©guer au module commun\r\n        if (GeoLeaf._UIComponents && typeof GeoLeaf._UIComponents.renderSymbol === 'function') {\r\n            GeoLeaf._UIComponents.renderSymbol(container, item);\r\n        } else {\r\n            // Fallback si module non charg√©\r\n            if (Log) Log.error(\"[LegendRenderer] Module _UIComponents non disponible\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Rendu d'un symbole cercle simple\r\n     */\r\n    /**\r\n     * Rendu d'un symbole cercle simple\r\n     * @deprecated Utiliser GeoLeaf._UIComponents.renderCircleSymbol()\r\n     */\r\n    function renderCircleSymbol(container, item) {\r\n        if (GeoLeaf._UIComponents) {\r\n            GeoLeaf._UIComponents.renderCircleSymbol(container, item);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Rendu d'un symbole ligne\r\n     * @deprecated Utiliser GeoLeaf._UIComponents.renderLineSymbol()\r\n     */\r\n    function renderLineSymbol(container, item) {\r\n        if (GeoLeaf._UIComponents) {\r\n            GeoLeaf._UIComponents.renderLineSymbol(container, item);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Rendu d'un symbole polygone/remplissage\r\n     * @deprecated Utiliser GeoLeaf._UIComponents.renderPolygonSymbol()\r\n     */\r\n    function renderPolygonSymbol(container, item) {\r\n        if (GeoLeaf._UIComponents) {\r\n            GeoLeaf._UIComponents.renderPolygonSymbol(container, item);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Rendu d'un symbole √©toile (rating)\r\n     * @deprecated Utiliser GeoLeaf._UIComponents.renderStarSymbol()\r\n     */\r\n    function renderStarSymbol(container, item) {\r\n        if (GeoLeaf._UIComponents) {\r\n            GeoLeaf._UIComponents.renderStarSymbol(container, item);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Rendu du footer\r\n     * @param {HTMLElement} container - Conteneur parent\r\n     * @param {Object} footer - Configuration du footer\r\n     */\r\n    function renderFooter(container, footer) {\r\n        if (!footer || !footer.text) return;\r\n\r\n        const footerEl = global.L.DomUtil.create(\"div\", \"gl-legend__footer\", container);\r\n        footerEl.textContent = footer.text;\r\n\r\n        if (footer.style === \"italic\") {\r\n            footerEl.style.fontStyle = \"italic\";\r\n        }\r\n    }\r\n\r\n    // Exposer dans l'espace de noms interne\r\n    GeoLeaf._LegendRenderer = {\r\n        renderSection: renderSection,\r\n        renderItem: renderItem,\r\n        renderSymbol: renderSymbol,\r\n        renderFooter: renderFooter,\r\n        renderAccordion: renderAccordion\r\n    };\r\n\r\n    /**\r\n     * Rendu d'un accord√©on pour une couche\r\n     * @param {HTMLElement} container - Conteneur parent\r\n     * @param {Object} accordionData - Configuration de l'accord√©on\r\n     * @param {string} accordionData.layerId - ID de la couche\r\n     * @param {string} accordionData.label - Titre de l'accord√©on\r\n     * @param {boolean} accordionData.collapsed - √âtat initial\r\n     * @param {boolean} accordionData.visible - Couche visible ou non (pour grisage)\r\n     * @param {Array} accordionData.sections - Sections de l√©gende\r\n     */\r\n    function renderAccordion(container, accordionData) {\r\n        // Utiliser le module commun pour cr√©er l'accord√©on\r\n        if (!GeoLeaf._UIComponents) {\r\n            if (Log) Log.error(\"[LegendRenderer] Module _UIComponents non disponible\");\r\n            return;\r\n        }\r\n\r\n        const { bodyEl } = GeoLeaf._UIComponents.createAccordion(container, {\r\n            layerId: accordionData.layerId,\r\n            label: accordionData.label,\r\n            collapsed: accordionData.collapsed !== false,\r\n            visible: accordionData.visible,\r\n            onToggle: (layerId, expanded) => {\r\n                // Notifier le module Legend du changement\r\n                if (global.GeoLeaf && global.GeoLeaf.Legend && typeof global.GeoLeaf.Legend.toggleAccordion === \"function\") {\r\n                    global.GeoLeaf.Legend.toggleAccordion(layerId);\r\n                }\r\n            }\r\n        });\r\n\r\n        // Rendre les sections √† l'int√©rieur du body\r\n        if (Array.isArray(accordionData.sections)) {\r\n            accordionData.sections.forEach(section => {\r\n                renderSection(bodyEl, section);\r\n            });\r\n        }\r\n    }\r\n\r\n})(window);\r\n","/**\r\n * Module Legend Control\r\n * Contr√¥le Leaflet pour afficher une l√©gende cartographique\r\n *\r\n * D√âPENDANCES:\r\n * - Leaflet (L.Control, L.DomUtil, L.DomEvent)\r\n * - GeoLeaf.Log (optionnel)\r\n * - GeoLeaf._LegendRenderer\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf._LegendControl\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\r\n    const Log = GeoLeaf.Log;\r\n\r\n    /**\r\n     * S'assure que le sprite SVG des ic√¥nes est charg√© avec v√©rification robuste\r\n     * @private\r\n     * @param {Function} [callback] - Fonction √† appeler une fois le sprite charg√©\r\n     */\r\n    async function ensureSpriteLoaded(callback) {\r\n        if (GeoLeaf._POIMarkers && typeof GeoLeaf._POIMarkers.ensureProfileSpriteInjectedSync === \"function\") {\r\n            // √âviter les logs r√©p√©titifs - log seulement la premi√®re fois\r\n            if (!ensureSpriteLoaded._alreadyLogged) {\r\n                if (Log) Log.debug(\"[Legend] Chargement du sprite SVG pour les ic√¥nes...\");\r\n                ensureSpriteLoaded._alreadyLogged = true;\r\n            }\r\n\r\n            // Attendre que le sprite soit charg√© de mani√®re asynchrone\r\n            await GeoLeaf._POIMarkers.ensureProfileSpriteInjectedSync();\r\n\r\n            // V√©rification avec retry pour s'assurer que le sprite est charg√©\r\n            let attempts = 0;\r\n            const maxAttempts = 20; // 2 secondes max\r\n            const checkInterval = 100;\r\n\r\n            function checkSprite() {\r\n                const spriteEl = document.querySelector('svg[data-geoleaf-sprite=\"profile\"]');\r\n                attempts++;\r\n\r\n                if (spriteEl) {\r\n                    // Log seulement la premi√®re d√©tection r√©ussie\r\n                    if (!ensureSpriteLoaded._spriteDetected) {\r\n                        if (Log) Log.info(\"[Legend] Sprite SVG d√©tect√© et pr√™t pour utilisation\");\r\n                        ensureSpriteLoaded._spriteDetected = true;\r\n                    }\r\n                    if (typeof callback === 'function') {\r\n                        callback(true);\r\n                    }\r\n                } else if (attempts < maxAttempts) {\r\n                    setTimeout(checkSprite, checkInterval);\r\n                } else {\r\n                    if (Log) Log.warn(\"[Legend] Sprite SVG non trouv√© apr√®s\", maxAttempts * checkInterval, \"ms\");\r\n                    if (typeof callback === 'function') {\r\n                        callback(false);\r\n                    }\r\n                }\r\n            }\r\n\r\n            checkSprite();\r\n        } else {\r\n            if (Log) Log.debug(\"[Legend] GeoLeaf._POIMarkers.ensureProfileSpriteInjectedSync non disponible\");\r\n            if (typeof callback === 'function') {\r\n                callback(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Cr√©e un contr√¥le Leaflet pour la l√©gende cartographique\r\n     * @param {Object} options - Options du contr√¥le\r\n     * @returns {L.Control} - Instance du contr√¥le Leaflet\r\n     */\r\n    function createLegendControl(options) {\r\n        if (!global.L || !global.L.Control) {\r\n            if (Log) Log.error(\"[Legend] Leaflet L.Control non disponible\");\r\n            return null;\r\n        }\r\n\r\n        const LegendControl = global.L.Control.extend({\r\n            options: {\r\n                position: options.position || \"bottomleft\"\r\n            },\r\n\r\n            initialize: function (controlOptions) {\r\n                global.L.setOptions(this, controlOptions || {});\r\n                this._glOptions = controlOptions._glOptions;\r\n            },\r\n\r\n            onAdd: function (mapInstance) {\r\n                this._map = mapInstance;\r\n                this._container = global.L.DomUtil.create(\"div\", \"gl-map-legend\");\r\n\r\n                // Emp√™cher les interactions carte\r\n                if (global.L.DomEvent) {\r\n                    global.L.DomEvent.disableClickPropagation(this._container);\r\n                    global.L.DomEvent.disableScrollPropagation(this._container);\r\n                }\r\n\r\n                this._buildStructure();\r\n                return this._container;\r\n            },\r\n\r\n            onRemove: function () {\r\n                this._map = null;\r\n                this._container = null;\r\n            },\r\n\r\n            /**\r\n             * Construit la structure DOM de la l√©gende\r\n             * @private\r\n             */\r\n            _buildStructure: function () {\r\n                const opts = this._glOptions;\r\n\r\n                // Wrapper principal\r\n                const wrapper = global.L.DomUtil.create(\"div\", \"gl-map-legend__wrapper\", this._container);\r\n\r\n                // En-t√™te : titre + bouton collapse\r\n                if (opts.title) {\r\n                    const header = global.L.DomUtil.create(\"div\", \"gl-map-legend__header\", wrapper);\r\n\r\n                    const titleEl = global.L.DomUtil.create(\"h2\", \"gl-map-legend__title\", header);\r\n                    titleEl.textContent = opts.title;\r\n\r\n                    if (opts.collapsible) {\r\n                        const toggleEl = global.L.DomUtil.create(\"button\", \"gl-map-legend__toggle\", header);\r\n                        toggleEl.type = \"button\";\r\n                        toggleEl.setAttribute(\"aria-label\", \"Basculer la l√©gende\");\r\n                        toggleEl.textContent = \"‚ü±\";\r\n\r\n                        const self = this;\r\n                        global.L.DomEvent.on(toggleEl, \"click\", function (ev) {\r\n                            global.L.DomEvent.stopPropagation(ev);\r\n                            self._toggleCollapsed();\r\n                        });\r\n                    }\r\n                }\r\n\r\n                // Corps de la l√©gende\r\n                this._bodyEl = global.L.DomUtil.create(\"div\", \"gl-map-legend__body\", wrapper);\r\n\r\n                // Appliquer l'√©tat collapsed initial\r\n                if (opts.collapsed) {\r\n                    this._container.classList.add(\"gl-map-legend--collapsed\");\r\n                }\r\n\r\n                // Rendu des sections via le renderer\r\n                this._renderContent();\r\n            },\r\n\r\n            /**\r\n             * Rend le contenu de la l√©gende\r\n             * @private\r\n             */\r\n            _renderContent: function () {\r\n                if (!this._bodyEl) return;\r\n\r\n                // Vider le contenu existant\r\n                if (GeoLeaf._UIComponents && typeof GeoLeaf._UIComponents.clearElement === 'function') {\r\n                    GeoLeaf._UIComponents.clearElement(this._bodyEl);\r\n                } else {\r\n                    GeoLeaf.DOMSecurity.clearElementFast(this._bodyEl);\r\n                }\r\n\r\n                const opts = this._glOptions;\r\n                const renderer = GeoLeaf._LegendRenderer;\r\n\r\n                if (!renderer) {\r\n                    if (Log) Log.error(\"[Legend] _LegendRenderer non disponible\");\r\n                    return;\r\n                }\r\n\r\n                // S'assurer que le sprite SVG est charg√© pour les ic√¥nes\r\n                ensureSpriteLoaded();\r\n\r\n                // Rendu des sections (ancien mode pour compatibilit√©)\r\n                if (Array.isArray(opts.sections)) {\r\n                    opts.sections.forEach(section => {\r\n                        renderer.renderSection(this._bodyEl, section);\r\n                    });\r\n                }\r\n\r\n                // Rendu du footer\r\n                if (opts.footer) {\r\n                    renderer.renderFooter(this._bodyEl, opts.footer);\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Mise √† jour du contenu multi-couches avec accord√©ons\r\n             * @param {Array} legendsArray - Tableau d'accord√©ons √† afficher\r\n             */\r\n            updateMultiLayerContent: function (legendsArray) {\r\n                if (!this._bodyEl) return;\r\n\r\n                // Vider le contenu existant\r\n                if (GeoLeaf._UIComponents && typeof GeoLeaf._UIComponents.clearElement === 'function') {\r\n                    GeoLeaf._UIComponents.clearElement(this._bodyEl);\r\n                } else {\r\n                    GeoLeaf.DOMSecurity.clearElementFast(this._bodyEl);\r\n                }\r\n\r\n                const renderer = GeoLeaf._LegendRenderer;\r\n\r\n                if (!renderer || typeof renderer.renderAccordion !== \"function\") {\r\n                    if (Log) Log.error(\"[Legend] Renderer.renderAccordion non disponible\");\r\n                    return;\r\n                }\r\n\r\n                // S'assurer que le sprite SVG est charg√© avant le rendu\r\n                const self = this;\r\n                ensureSpriteLoaded(function(spriteLoaded) {\r\n                    if (Log) Log.debug(\"[Legend] Sprite charg√©:\", spriteLoaded, \"- Rendu des accord√©ons\");\r\n\r\n                    // Rendre chaque accord√©on (m√™me si le sprite n'est pas charg√© pour √©viter une interface vide)\r\n                    if (Array.isArray(legendsArray)) {\r\n                        legendsArray.forEach(accordionData => {\r\n                            renderer.renderAccordion(self._bodyEl, accordionData);\r\n                        });\r\n                    }\r\n\r\n                    // Si le sprite n'√©tait pas charg√©, r√©essayer dans 1 seconde\r\n                    if (!spriteLoaded) {\r\n                        setTimeout(function() {\r\n                            const spriteEl = document.querySelector('svg[data-geoleaf-sprite=\"profile\"]');\r\n                            if (spriteEl && Log) {\r\n                                Log.info(\"[Legend] Sprite charg√© tardivement - Re-rendu des accord√©ons\");\r\n                                self.updateMultiLayerContent(legendsArray);\r\n                            }\r\n                        }, 1000);\r\n                    }\r\n                });\r\n            },\r\n\r\n            /**\r\n             * Mise √† jour du contenu de la l√©gende (ancien mode)\r\n             * @param {Object} legendData - Nouvelles donn√©es de l√©gende\r\n             */\r\n            updateContent: function (legendData) {\r\n                if (legendData.title) this._glOptions.title = legendData.title;\r\n                if (legendData.sections) this._glOptions.sections = legendData.sections;\r\n                if (legendData.footer) this._glOptions.footer = legendData.footer;\r\n\r\n                this._renderContent();\r\n            },\r\n\r\n            /**\r\n             * Bascule l'√©tat collapsed\r\n             * @private\r\n             */\r\n            _toggleCollapsed: function () {\r\n                const isCollapsed = this._container.classList.toggle(\"gl-map-legend--collapsed\");\r\n                this._glOptions.collapsed = isCollapsed;\r\n            },\r\n\r\n            /**\r\n             * Montre la l√©gende\r\n             * @public\r\n             */\r\n            show: function () {\r\n                if (this._container) {\r\n                    this._container.style.display = \"block\";\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Cache la l√©gende\r\n             * @public\r\n             */\r\n            hide: function () {\r\n                if (this._container) {\r\n                    this._container.style.display = \"none\";\r\n                }\r\n            }\r\n        });\r\n\r\n        return new LegendControl({\r\n            position: options.position,\r\n            _glOptions: options\r\n        });\r\n    }\r\n\r\n    // Exposer dans l'espace de noms interne\r\n    GeoLeaf._LegendControl = {\r\n        create: createLegendControl\r\n    };\r\n\r\n})(window);\r\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * Module principal GeoLeaf.Legend\n * Gestionnaire de l√©gende cartographique multi-couches avec accord√©ons\n * G√©n√®re automatiquement les l√©gendes depuis les styles\n *\n * D√âPENDANCES:\n * - Leaflet (map instance)\n * - GeoLeaf.Log (optionnel)\n * - GeoLeaf._LegendControl\n * - GeoLeaf._LegendRenderer\n * - GeoLeaf._LegendGenerator (nouveau)\n * - GeoLeaf.Config (pour chargement configuration)\n *\n * EXPOSE:\n * - GeoLeaf.Legend\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n    const Log = GeoLeaf.Log;\n\n    let _map = null;\n    let _control = null;\n    let _options = {};\n    let _profileConfig = null;\n    let _taxonomyData = null;\n\n    // Timers and UI helpers\n    let _rebuildTimer = null;\n    const REBUILD_DEBOUNCE_MS = 150;\n    let _loadingOverlayEl = null;\n    let _loadingOverlayTimer = null;\n    const LOADING_OVERLAY_TIMEOUT_MS = 12000;\n\n    // Map<layerId, {label, styleId, legendData, visible, order, geometryType}>\n    const _allLayers = new Map();\n\n    function _normalizeGeometryType(rawGeometry) {\n        const value = (rawGeometry || \"\").toLowerCase();\n        if (value === \"polyline\" || value === \"line\") return \"line\";\n        if (value === \"polygon\") return \"polygon\";\n        return \"point\";\n    }\n\n    function _scheduleRebuild() {\n        if (_rebuildTimer) {\n            clearTimeout(_rebuildTimer);\n        }\n        _rebuildTimer = setTimeout(() => {\n            _rebuildTimer = null;\n            LegendModule._rebuildDisplay();\n        }, REBUILD_DEBOUNCE_MS);\n    }\n\n    function _ensureSpinnerStyles() {\n        if (document.getElementById(\"gl-legend-spinner-style\")) return;\n        const styleEl = document.createElement(\"style\");\n        styleEl.id = \"gl-legend-spinner-style\";\n        styleEl.textContent = \"@keyframes gl-legend-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\";\n        document.head.appendChild(styleEl);\n    }\n\n    function _clearOverlayTimeout() {\n        if (_loadingOverlayTimer) {\n            clearTimeout(_loadingOverlayTimer);\n            _loadingOverlayTimer = null;\n        }\n    }\n\n    function _showLoadingOverlay() {\n        if (!_control || !_control._container) return;\n\n        _ensureSpinnerStyles();\n        _clearOverlayTimeout();\n\n        const container = _control._container;\n        if (!container.style.position) {\n            container.style.position = \"relative\";\n        }\n\n        if (!_loadingOverlayEl) {\n            const overlay = document.createElement(\"div\");\n            overlay.className = \"gl-map-legend__loading-overlay\";\n            overlay.style.position = \"absolute\";\n            overlay.style.inset = \"0\";\n            overlay.style.background = \"rgba(255,255,255,0.6)\";\n            overlay.style.display = \"flex\";\n            overlay.style.alignItems = \"center\";\n            overlay.style.justifyContent = \"center\";\n            overlay.style.pointerEvents = \"auto\";\n            overlay.style.zIndex = \"2\";\n            overlay.setAttribute(\"aria-hidden\", \"false\");\n\n            const spinner = document.createElement(\"div\");\n            spinner.className = \"gl-map-legend__spinner\";\n            spinner.style.width = \"34px\";\n            spinner.style.height = \"34px\";\n            spinner.style.border = \"3px solid rgba(0,0,0,0.12)\";\n            spinner.style.borderTop = \"3px solid rgba(0,0,0,0.55)\";\n            spinner.style.borderRadius = \"50%\";\n            spinner.style.animation = \"gl-legend-spin 1s linear infinite\";\n\n            overlay.appendChild(spinner);\n            _loadingOverlayEl = overlay;\n        }\n\n        if (!_loadingOverlayEl.parentElement) {\n            container.appendChild(_loadingOverlayEl);\n        }\n\n        container.setAttribute(\"aria-busy\", \"true\");\n        container.setAttribute(\"aria-live\", \"polite\");\n\n        _loadingOverlayTimer = setTimeout(() => {\n            _loadingOverlayTimer = null;\n            _hideLoadingOverlay();\n        }, LOADING_OVERLAY_TIMEOUT_MS);\n    }\n\n    function _hideLoadingOverlay() {\n        _clearOverlayTimeout();\n        if (_loadingOverlayEl && _loadingOverlayEl.parentElement) {\n            _loadingOverlayEl.parentElement.removeChild(_loadingOverlayEl);\n        }\n        if (_control && _control._container) {\n            _control._container.removeAttribute(\"aria-busy\");\n            _control._container.removeAttribute(\"aria-live\");\n        }\n    }\n\n    const LegendModule = {\n        /**\n         * Initialise le module Legend\n         * @param {L.Map} mapInstance - Instance de la carte Leaflet\n         * @param {Object} options - Options du module\n         * @param {string} [options.position=\"bottomleft\"] - Position du contr√¥le\n         * @param {boolean} [options.collapsible=true] - L√©gende repliable\n         * @param {boolean} [options.collapsed=false] - √âtat repli√© initial\n         */\n        init: function (mapInstance, options) {\n            if (!mapInstance) {\n                if (Log) Log.error(\"[Legend] Carte Leaflet requise pour initialiser Legend\");\n                return false;\n            }\n\n            _map = mapInstance;\n\n            // Charger la configuration depuis le profil\n            if (GeoLeaf.Config && typeof GeoLeaf.Config.get === \"function\") {\n                const legendConfig = GeoLeaf.Config.get(\"legendConfig\");\n\n                _options = Object.assign({\n                    position: (legendConfig && legendConfig.position) || \"bottomleft\",\n                    collapsible: true,\n                    collapsed: (legendConfig && legendConfig.collapsedByDefault) || false,\n                    title: (legendConfig && legendConfig.title) || \"L√©gende\"\n                }, options || {});\n\n                // R√©cup√©rer le profil actif complet\n                if (typeof GeoLeaf.Config.getActiveProfile === \"function\") {\n                    _profileConfig = GeoLeaf.Config.getActiveProfile();\n                } else {\n                    // Fallback : essayer de r√©cup√©rer depuis getAll\n                    const allConfig = GeoLeaf.Config.getAll();\n                    _profileConfig = {\n                        id: allConfig.id || GeoLeaf.Config.get('id'),\n                        layers: allConfig.layers || GeoLeaf.Config.get('layers') || []\n                    };\n                }\n            } else {\n                _options = Object.assign({\n                    position: \"bottomleft\",\n                    collapsible: true,\n                    collapsed: false,\n                    title: \"L√©gende\"\n                }, options || {});\n            }\n\n            // Charger la taxonomy pour les ic√¥nes\n            this._loadTaxonomy();\n\n            // Initialiser toutes les couches du profil\n            this._initializeAllLayers();\n\n            if (Log) Log.info(\"[Legend] Module Legend initialis√© avec g√©n√©ration automatique depuis styles\");\n            return true;\n        },\n\n        /**\n         * Charge la taxonomy pour la correspondance cat√©gories ‚Üí ic√¥nes\n         * @private\n         */\n        _loadTaxonomy: function () {\n            if (!_profileConfig) return;\n\n            const Config = GeoLeaf.Config;\n            const dataCfg = Config && Config.get ? Config.get('data') : null;\n            const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || \"profiles\";\n            const profileId = _profileConfig.id;\n\n            if (!profileId) {\n                if (Log) Log.warn(\"[Legend] Impossible de charger taxonomy sans profileId\");\n                return;\n            }\n\n            const taxonomyPath = `${profilesBasePath}/${profileId}/taxonomy.json`;\n\n            fetch(taxonomyPath)\n                .then(response => {\n                    if (!response.ok) throw new Error(`HTTP ${response.status}`);\n                    return response.json();\n                })\n                .then(data => {\n                    _taxonomyData = data;\n                    if (Log) Log.debug(\"[Legend] Taxonomy charg√©e\");\n                })\n                .catch(err => {\n                    if (Log) Log.warn(`[Legend] Erreur chargement taxonomy: ${err.message}`);\n                });\n        },\n\n        /**\n         * Initialise toutes les couches d√©finies dans le profil\n         * @private\n         */\n        _initializeAllLayers: function () {\n            if (!_profileConfig || !Array.isArray(_profileConfig.layers)) {\n                if (Log) Log.warn(\"[Legend] Aucune couche d√©finie dans le profil\");\n                return;\n            }\n\n            _profileConfig.layers.forEach((layerDef, index) => {\n                _allLayers.set(layerDef.id, {\n                    label: layerDef.id, // Sera mis √† jour lors du chargement du config\n                    styleId: null,\n                    legendData: null,\n                    visible: false,\n                    order: index + 1,\n                    geometryType: null,\n                    configFile: layerDef.configFile\n                });\n            });\n\n            if (Log) Log.debug(`[Legend] ${_allLayers.size} couche(s) initialis√©e(s)`);\n        },\n\n        /**\n         * Charge et g√©n√®re la l√©gende pour une couche\n         * @param {string} layerId - ID de la couche\n         * @param {string} styleId - ID du style √† appliquer\n         * @param {Object} layerConfig - Configuration de la couche\n         */\n        loadLayerLegend: function (layerId, styleId, layerConfig) {\n            if (!_map) {\n                if (Log) Log.warn(\"[Legend] Module non initialis√©\");\n                return;\n            }\n\n            const layerInfo = _allLayers.get(layerId);\n            if (!layerInfo) {\n                if (Log) Log.warn(`[Legend] Couche ${layerId} non trouv√©e dans le profil`);\n                return;\n            }\n\n            // S'assurer que le sprite SVG est disponible d√®s le d√©but\n            if (GeoLeaf._POIMarkers && typeof GeoLeaf._POIMarkers.ensureProfileSpriteInjectedSync === \"function\") {\n                GeoLeaf._POIMarkers.ensureProfileSpriteInjectedSync();\n                if (Log) Log.debug(`[Legend] Sprite SVG demand√© pour couche ${layerId}`);\n            }\n\n            // Mettre √† jour les informations de la couche\n            layerInfo.label = layerConfig.label || layerId;\n            layerInfo.geometryType = _normalizeGeometryType(layerConfig.geometryType || layerConfig.geometry || layerInfo.geometryType || \"point\");\n            layerInfo.styleId = styleId;\n\n            // Charger le fichier de style\n            const Config = GeoLeaf.Config;\n            const dataCfg = Config && Config.get ? Config.get('data') : null;\n            const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || \"profiles\";\n            const profileId = layerConfig._profileId || _profileConfig.id;\n            const layerDir = layerConfig._layerDirectory;\n\n            if (!layerConfig.styles || !layerConfig.styles.directory) {\n                if (Log) Log.warn(`[Legend] Configuration styles manquante pour ${layerId}`);\n                return;\n            }\n\n            const stylesDir = layerConfig.styles.directory;\n            const styleFile = layerConfig.styles.available?.find(s => s.id === styleId)?.file\n                            || layerConfig.styles.default;\n\n            const stylePath = `${profilesBasePath}/${profileId}/${layerDir}/${stylesDir}/${styleFile}`;\n\n            if (Log) Log.debug(`[Legend] Chargement style: ${stylePath}`);\n\n            fetch(stylePath)\n                .then(response => {\n                    if (!response.ok) throw new Error(`HTTP ${response.status}`);\n                    return response.json();\n                })\n                .then(styleData => {\n                    // G√©n√©rer la l√©gende depuis le style\n                    if (!GeoLeaf._LegendGenerator) {\n                        if (Log) Log.error(\"[Legend] LegendGenerator non disponible\");\n                        return;\n                    }\n\n                    // Temporairement stocker la config de couche pour le g√©n√©rateur (comme dans markers.js)\n                    const originalPOIShared = GeoLeaf._POIShared;\n                    if (layerConfig.showIconsOnMap !== undefined) {\n                        // Cr√©er un √©tat temporaire pour cette couche\n                        GeoLeaf._POIShared = {\n                            state: {\n                                poiConfig: {\n                                    showIconsOnMap: layerConfig.showIconsOnMap\n                                }\n                            }\n                        };\n                    }\n\n                    const legendData = GeoLeaf._LegendGenerator.generateLegendFromStyle(\n                        styleData,\n                        layerInfo.geometryType,\n                        _taxonomyData\n                    );\n\n                    // Restaurer l'√©tat POI original\n                    if (layerConfig.showIconsOnMap !== undefined) {\n                        GeoLeaf._POIShared = originalPOIShared;\n                    }\n\n                    if (legendData) {\n                        layerInfo.legendData = legendData;\n                        _allLayers.set(layerId, layerInfo);\n                        if (Log) Log.debug(`[Legend] L√©gende g√©n√©r√©e pour ${layerId}`);\n\n                        // Reconstruire l'affichage\n                        _scheduleRebuild();\n                    }\n                })\n                .catch(err => {\n                    if (Log) Log.warn(`[Legend] Erreur chargement style: ${err.message}`);\n                });\n        },\n\n        /**\n         * Met √† jour la visibilit√© d'une couche dans la l√©gende\n         * @param {string} layerId - ID de la couche\n         * @param {boolean} visible - Visible ou non\n         */\n        setLayerVisibility: function (layerId, visible) {\n            const layerInfo = _allLayers.get(layerId);\n            if (layerInfo) {\n                layerInfo.visible = visible;\n                _allLayers.set(layerId, layerInfo);\n                _scheduleRebuild();\n                if (Log) Log.debug(`[Legend] Visibilit√© de ${layerId}: ${visible}`);\n            }\n        },\n\n        /**\n         * Reconstruit l'affichage de toutes les l√©gendes\n         * @private\n         */\n        _rebuildDisplay: function () {\n            if (!_map) return;\n\n            // Si aucune couche, supprimer le contr√¥le\n            if (_allLayers.size === 0) {\n                if (_control && _map) {\n                    _map.removeControl(_control);\n                    _control = null;\n                }\n                return;\n            }\n\n            // Cr√©er le contr√¥le si n√©cessaire\n            if (!_control) {\n                _control = GeoLeaf._LegendControl.create(_options);\n                if (_control) {\n                    _map.addControl(_control);\n                }\n            }\n\n            // Pr√©parer les donn√©es pour le rendu (afficher toutes les couches)\n            if (_control && typeof _control.updateMultiLayerContent === \"function\") {\n                const visibilityManager = GeoLeaf._LayerVisibilityManager;\n                const legendsArray = [];\n\n                _allLayers.forEach((data, layerId) => {\n                    if (!data.legendData) return;\n\n                    const visState = visibilityManager && typeof visibilityManager.getVisibilityState === \"function\"\n                        ? visibilityManager.getVisibilityState(layerId)\n                        : null;\n\n                    const isVisible = visState ? visState.current : data.visible;\n                    if (!isVisible) return;\n\n                    legendsArray.push({\n                        layerId: layerId,\n                        label: data.label,\n                        collapsed: true,\n                        order: data.order,\n                        visible: true,\n                        sections: data.legendData.sections || []\n                    });\n                });\n\n                // Trier par ordre\n                legendsArray.sort((a, b) => a.order - b.order);\n\n                _control.updateMultiLayerContent(legendsArray);\n\n                // Si nous avons des ic√¥nes mais pas de sprite, programmer un retry\n                const hasIcons = legendsArray.some(legend =>\n                    legend.sections.some(section =>\n                        section.items && section.items.some(item => item.icon)\n                    )\n                );\n\n                if (hasIcons) {\n                    const sprite = document.querySelector('svg[data-geoleaf-sprite=\"profile\"]');\n                    if (!sprite) {\n                        if (Log) Log.info(\"[Legend] Ic√¥nes d√©tect√©es mais sprite manquant - programmation retry\");\n                        // Programmer un nouveau rendu dans 2 secondes\n                        setTimeout(() => {\n                            const spriteCheck = document.querySelector('svg[data-geoleaf-sprite=\"profile\"]');\n                            if (spriteCheck && Log) {\n                                Log.info(\"[Legend] Sprite disponible - nouveau rendu de la l√©gende\");\n                                this._rebuildDisplay();\n                            }\n                        }, 2000);\n                    }\n                }\n            }\n        },\n\n        /**\n         * Bascule l'√©tat d'un accord√©on\n         * @param {string} layerId - ID de la couche\n         */\n        toggleAccordion: function (layerId) {\n            // G√©r√© visuellement par le renderer\n        },\n\n        /**\n         * R√©cup√®re toutes les couches\n         * @returns {Map}\n         */\n        getAllLayers: function () {\n            return _allLayers;\n        },\n\n        // ===== Anciennes m√©thodes pour compatibilit√© =====\n\n        /**\n         * @deprecated Utiliser loadLayerLegend √† la place\n         */\n        addLayerLegend: function (layerId, styleId, legendData) {\n            if (Log) Log.warn(\"[Legend] addLayerLegend() est d√©pr√©ci√© avec donn√©es JSON, utiliser loadLayerLegend avec style\");\n            // Ajouter quand m√™me pour compatibilit√©\n            const layerInfo = _allLayers.get(layerId);\n            if (layerInfo) {\n                layerInfo.legendData = legendData;\n                layerInfo.styleId = styleId;\n                _allLayers.set(layerId, layerInfo);\n                this._rebuildDisplay();\n            }\n        },\n\n        /**\n         * @deprecated Utiliser setLayerVisibility √† la place\n         */\n        removeLayerLegend: function (layerId) {\n            if (Log) Log.warn(\"[Legend] removeLayerLegend() est d√©pr√©ci√©, utiliser setLayerVisibility(id, false)\");\n            this.setLayerVisibility(layerId, false);\n        },\n\n        /**\n         * @deprecated Utiliser loadLayerLegend √† la place\n         */\n        updateLayerLegend: function (layerId, styleId, legendData) {\n            if (Log) Log.warn(\"[Legend] updateLayerLegend() avec JSON est d√©pr√©ci√©, utiliser loadLayerLegend\");\n            this.addLayerLegend(layerId, styleId, legendData);\n        },\n\n        /**\n         * @deprecated\n         */\n        loadLegend: function (legendFilePath) {\n            if (Log) Log.warn(\"[Legend] loadLegend() est d√©pr√©ci√©\");\n            return Promise.resolve(false);\n        },\n\n        /**\n         * @deprecated\n         */\n        showLegend: function (legendData) {\n            if (Log) Log.warn(\"[Legend] showLegend() est d√©pr√©ci√©\");\n        },\n\n        /**\n         * Cache la l√©gende\n         */\n        hideLegend: function () {\n            if (_control) {\n                _control.hide();\n            }\n        },\n\n        /**\n         * Supprime toutes les l√©gendes\n         */\n        removeLegend: function () {\n            _allLayers.forEach((layerInfo, layerId) => {\n                layerInfo.legendData = null;\n                layerInfo.visible = false;\n            });\n\n            if (_control && _map) {\n                _map.removeControl(_control);\n                _control = null;\n                if (Log) Log.debug(\"[Legend] Toutes les l√©gendes supprim√©es\");\n            }\n        },\n\n        /**\n         * V√©rifie si des l√©gendes sont affich√©es\n         * @returns {boolean}\n         */\n        isLegendVisible: function () {\n            return _control !== null && _allLayers.size > 0;\n        },\n\n        showLoadingOverlay: function () {\n            _showLoadingOverlay();\n        },\n\n        hideLoadingOverlay: function () {\n            _hideLoadingOverlay();\n        }\n    };\n\n    // Exposer le module public\n    GeoLeaf.Legend = LegendModule;\n\n})(window);\n","/**\n * Module Label Renderer pour GeoLeaf\n * Cr√©e et g√®re les tooltips permanents Leaflet pour les √©tiquettes\n *\n * D√âPENDANCES:\n * - Leaflet (L.Tooltip, L.LatLng)\n * - GeoLeaf.Log (optionnel)\n *\n * EXPOSE:\n * - GeoLeaf._LabelRenderer\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module Label Renderer\n     * @namespace _LabelRenderer\n     * @private\n     */\n    const _LabelRenderer = {\n        /**\n         * Cr√©e les tooltips permanents pour toutes les features d'une couche\n         * @param {string} layerId - ID de la couche\n         * @param {L.LayerGroup} leafletLayer - Couche Leaflet (LayerGroup ou FeatureGroup)\n         * @param {Object} labelConfig - Configuration des labels\n         * @param {Object} style - Style des labels (extrait de currentStyle.label)\n         * @param {Map} tooltipsMap - Map pour stocker les tooltips cr√©√©s\n         */\n        createTooltipsForLayer(layerId, leafletLayer, labelConfig, style, tooltipsMap) {\n            if (!leafletLayer || !labelConfig || !labelConfig.labelId) {\n                if (Log) Log.warn(\"[LabelRenderer] Param√®tres invalides pour createTooltipsForLayer\", {\n                    layerId,\n                    hasLeafletLayer: !!leafletLayer,\n                    hasLabelConfig: !!labelConfig,\n                    labelId: labelConfig?.labelId,\n                    labelConfigKeys: labelConfig ? Object.keys(labelConfig) : null\n                });\n                return;\n            }\n\n            const labelField = labelConfig.labelId;\n\n            if (Log) Log.debug(`[LabelRenderer] Cr√©ation tooltips pour ${layerId}, champ: ${labelField}`);\n\n            // Parcourir toutes les features de la couche\n            let featureCount = 0;\n\n            leafletLayer.eachLayer((featureLayer) => {\n                featureCount++;\n                try {\n                    this._createTooltipForFeature(\n                        featureLayer,\n                        labelField,\n                        style,\n                        tooltipsMap\n                    );\n                } catch (err) {\n                    if (Log) Log.warn(\"[LabelRenderer] Erreur cr√©ation tooltip:\", err);\n                }\n            });\n\n            if (Log) Log.debug(`[LabelRenderer] ${tooltipsMap.size} tooltips cr√©√©s pour ${layerId} (${featureCount} features parcourues)`);\n        },\n\n        /**\n         * Cr√©e un marker texte (label) pour une feature\n         * @private\n         * @param {L.Layer} featureLayer - Layer Leaflet de la feature\n         * @param {string} labelField - Nom du champ √† afficher\n         * @param {Object} style - Style du label\n         * @param {Map} tooltipsMap - Map pour stocker le marker\n         */\n        _createTooltipForFeature(featureLayer, labelField, style, tooltipsMap) {\n            // R√©cup√©rer les donn√©es GeoJSON de la feature\n            const feature = featureLayer.feature;\n            if (!feature || !feature.properties) {\n                if (Log) Log.debug(\"[LabelRenderer] Feature ou properties manquant\");\n                return;\n            }\n\n            // Extraire la valeur du champ label\n            const labelValue = this._extractFieldValue(feature.properties, labelField);\n            if (!labelValue) {\n                return;\n            }\n\n            // R√©cup√©rer la position (centre de la g√©om√©trie)\n            let position = null;\n\n            if (typeof featureLayer.getLatLng === \"function\") {\n                // Pour les points\n                position = featureLayer.getLatLng();\n            } else if (typeof featureLayer.getBounds === \"function\") {\n                // Pour les polygones (Polygon, MultiPolygon) - centre du bounding box\n                // IMPORTANT: V√©rifier getBounds AVANT getLatLngs car les polygones ont les deux!\n                const bounds = featureLayer.getBounds();\n                if (bounds && typeof bounds.getCenter === \"function\") {\n                    position = bounds.getCenter();\n                    if (Log) Log.info(\"[LabelRenderer] Position polygone calcul√©e:\", {\n                        labelValue,\n                        position: position,\n                        positionType: typeof position,\n                        hasLat: 'lat' in position,\n                        hasLng: 'lng' in position,\n                        latType: typeof position.lat,\n                        lngType: typeof position.lng,\n                        positionKeys: Object.keys(position)\n                    });\n                } else {\n                    if (Log) Log.warn(\"[LabelRenderer] getBounds ne retourne pas getCenter pour:\", labelValue);\n                }\n            } else if (typeof featureLayer.getLatLngs === \"function\") {\n                // Pour les lignes - prendre le point du milieu de la ligne\n                const latlngs = featureLayer.getLatLngs();\n                if (latlngs && latlngs.length > 0) {\n                    // Si c'est un MultiLineString ou une ligne complexe\n                    const flatLatlngs = Array.isArray(latlngs[0]) ? latlngs[0] : latlngs;\n                    if (flatLatlngs && flatLatlngs.length > 0) {\n                        const middleIndex = Math.floor(flatLatlngs.length / 2);\n                        position = flatLatlngs[middleIndex];\n                    }\n                }\n            }\n\n            // V√©rifier que position est valide\n            // Note: Leaflet LatLng peut avoir lat/lng comme propri√©t√©s OU comme m√©thodes\n            if (!position) {\n                if (Log) Log.debug(\"[LabelRenderer] Position null pour feature, skipping label. Label:\", labelValue);\n                return;\n            }\n\n            const lat = typeof position.lat === 'function' ? position.lat() : position.lat;\n            const lng = typeof position.lng === 'function' ? position.lng() : position.lng;\n\n            if (!lat || !lng || isNaN(lat) || isNaN(lng)) {\n                return;\n            }\n\n            // Cr√©er un divIcon avec le texte du label\n            const htmlContent = this._formatLabelContent(labelValue, style);\n\n            const labelIcon = global.L.divIcon({\n                html: htmlContent,\n                className: this._buildClassName(style),\n                iconSize: null, // Auto-size\n                iconAnchor: [0, 0] // Position relative au point\n            });\n\n            // Cr√©er un marker avec cet ic√¥ne texte\n            const labelMarker = global.L.marker([lat, lng], {\n                icon: labelIcon,\n                interactive: false, // Ne pas intercepter les clics\n                keyboard: false\n            });\n\n            // Ajouter au map\n            const map = GeoLeaf.Core && GeoLeaf.Core.getMap ? GeoLeaf.Core.getMap() : null;\n            if (map) {\n                labelMarker.addTo(map);\n\n                // Stocker dans la map\n                const featureId = feature.id || feature.properties.id || `feature_${Date.now()}_${Math.random()}`;\n                tooltipsMap.set(featureId, labelMarker);\n            } else {\n                if (Log) Log.warn(\"[LabelRenderer] Carte non disponible pour\", labelValue);\n            }\n        },\n\n        /**\n         * Extrait la valeur d'un champ depuis les propri√©t√©s\n         * Supporte la notation point√©e (ex: \"attributes.name\")\n         * @private\n         */\n        _extractFieldValue(properties, fieldPath) {\n            if (!properties || !fieldPath) return null;\n\n            // Si pas de point, acc√®s direct\n            if (!fieldPath.includes(\".\")) {\n                return properties[fieldPath];\n            }\n\n            // Notation point√©e\n            const parts = fieldPath.split(\".\");\n            let value = properties;\n\n            for (const part of parts) {\n                if (value && typeof value === \"object\" && part in value) {\n                    value = value[part];\n                } else {\n                    return null;\n                }\n            }\n\n            return value;\n        },\n\n        /**\n         * Parse l'offset depuis le style\n         * @private\n         */\n        _parseOffset(offset) {\n            if (!offset) return [0, 0];\n\n            if (Array.isArray(offset) && offset.length === 2) {\n                return [\n                    typeof offset[0] === \"number\" ? offset[0] : 0,\n                    typeof offset[1] === \"number\" ? offset[1] : 0\n                ];\n            }\n\n            return [0, 0];\n        },\n\n        /**\n         * Construit le nom de classe CSS pour le tooltip\n         * @private\n         */\n        _buildClassName(style) {\n            const classes = [\"gl-label\"];\n\n            if (style) {\n                if (style.className) {\n                    classes.push(style.className);\n                }\n\n                // Ajouter des classes bas√©es sur les propri√©t√©s de style\n                if (style.variant) {\n                    classes.push(`gl-label--${style.variant}`);\n                }\n            }\n\n            return classes.join(\" \");\n        },\n\n        /**\n         * Formate le contenu du label\n         * @private\n         */\n        _formatLabelContent(value, style) {\n            if (!value) return \"\";\n\n            let content = String(value);\n\n            // Appliquer un pr√©fixe/suffixe si d√©fini\n            if (style) {\n                if (style.prefix) {\n                    content = style.prefix + content;\n                }\n                if (style.suffix) {\n                    content = content + style.suffix;\n                }\n            }\n\n            // Cr√©er le HTML du label\n            const div = global.document.createElement(\"div\");\n            div.className = \"gl-label__content\";\n            div.textContent = content;\n\n            // Appliquer les styles inline si d√©finis\n            if (style) {\n                this._applyInlineStyles(div, style);\n            }\n\n            // Retourner le HTML string, pas l'√©l√©ment DOM\n            return div.outerHTML;\n        },\n\n        /**\n         * Applique les styles inline au contenu du label\n         * @private\n         */\n        _applyInlineStyles(element, style) {\n            if (!element || !style) return;\n\n            // Appliquer les styles de police et couleur avec setProperty + important pour forcer la priorit√© sur le CSS\n            if (style.font) {\n                if (style.font.family) {\n                    // Ajouter un fallback pour assurer la lisibilit√© si la police demand√©e n'est pas disponible\n                    const fontFamily = `\"${style.font.family}\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Arial, sans-serif`;\n                    element.style.setProperty('font-family', fontFamily, 'important');\n                }\n                if (style.font.sizePt) {\n                    element.style.setProperty('font-size', `${style.font.sizePt}pt`, 'important');\n                }\n                if (style.font.bold) {\n                    element.style.setProperty('font-weight', 'bold', 'important');\n                } else if (style.font.weight) {\n                    // Pour am√©liorer la lisibilit√©, forcer un poids minimum de 500 si < 400\n                    const weight = style.font.weight < 400 ? 500 : style.font.weight;\n                    element.style.setProperty('font-weight', weight, 'important');\n                }\n                if (style.font.italic) {\n                    element.style.setProperty('font-style', 'italic', 'important');\n                }\n            }\n\n            // Appliquer la couleur du texte avec !important\n            if (style.color) {\n                element.style.setProperty('color', style.color, 'important');\n            }\n\n            // Appliquer l'opacit√© du texte\n            if (style.opacity !== undefined) {\n                element.style.setProperty('opacity', style.opacity, 'important');\n            }\n\n            // Appliquer le buffer (text-shadow pour contour) avec !important\n            if (style.buffer && style.buffer.enabled) {\n                const bufferColor = style.buffer.color || '#ffffff';\n                const bufferOpacity = style.buffer.opacity !== undefined ? style.buffer.opacity : 1;\n                const bufferSize = style.buffer.sizePx || 2;\n\n                // Convertir la couleur hex + opacit√© en rgba\n                const rgba = this._hexToRgba(bufferColor, bufferOpacity);\n\n                // Cr√©er un text-shadow multi-couches pour un contour plus net et visible\n                const shadowParts = [];\n\n                // Couche 1: Contour net avec de nombreux angles pour une couverture compl√®te\n                for (let angle = 0; angle < 360; angle += 30) {\n                    const rad = angle * Math.PI / 180;\n                    const x = Math.cos(rad) * bufferSize;\n                    const y = Math.sin(rad) * bufferSize;\n                    shadowParts.push(`${x.toFixed(2)}px ${y.toFixed(2)}px 0 ${rgba}`);\n                }\n\n                // Couche 2: Contour interm√©diaire pour plus de densit√© (meilleure couverture)\n                for (let angle = 15; angle < 360; angle += 30) {\n                    const rad = angle * Math.PI / 180;\n                    const x = Math.cos(rad) * bufferSize * 0.7;\n                    const y = Math.sin(rad) * bufferSize * 0.7;\n                    shadowParts.push(`${x.toFixed(2)}px ${y.toFixed(2)}px 0 ${rgba}`);\n                }\n\n                // Couche 3: Effet glow plus prononc√© pour renforcer le contraste\n                shadowParts.push(`0 0 ${bufferSize * 0.8}px ${rgba}`);\n                shadowParts.push(`0 0 ${bufferSize * 1.5}px ${rgba}`);\n\n                element.style.setProperty('text-shadow', shadowParts.join(', '), 'important');\n            }\n\n            // Appliquer textTransform\n            if (style.textTransform) {\n                element.style.setProperty('text-transform', style.textTransform, 'important');\n            }\n        },\n\n        /**\n         * Convertit une couleur hex en rgba\n         * @private\n         */\n        _hexToRgba(hex, opacity) {\n            if (!hex) return `rgba(0, 0, 0, ${opacity})`;\n\n            // Enlever le # si pr√©sent\n            hex = hex.replace('#', '');\n\n            // G√©rer les formats courts (#RGB) et longs (#RRGGBB)\n            if (hex.length === 3) {\n                hex = hex.split('').map(c => c + c).join('');\n            }\n\n            const r = parseInt(hex.substring(0, 2), 16);\n            const g = parseInt(hex.substring(2, 4), 16);\n            const b = parseInt(hex.substring(4, 6), 16);\n\n            return `rgba(${r}, ${g}, ${b}, ${opacity})`;\n        }\n    };\n\n    // Exposer dans l'espace de noms interne\n    GeoLeaf._LabelRenderer = _LabelRenderer;\n\n})(window);\n","/**\n * Gestionnaire centralis√© pour le bouton de label dans le Layer Manager\n *\n * RESPONSABILIT√âS:\n * - Cr√©er le bouton de label lors du premier render d'une couche\n * - Synchroniser l'√©tat du bouton (activ√©/d√©sactiv√©, actif/inactif)\n * - Source unique de v√©rit√© pour la logique de d√©cision\n *\n * LOGIQUE SIMPLIFI√âE:\n * - Le bouton est TOUJOURS visible pour toutes les couches\n * - Si couche visible ET label.enabled: true ‚Üí bouton cliquable\n * - Sinon ‚Üí bouton d√©sactiv√© (gris√©)\n * - √âtat actif/inactif selon si les labels sont actuellement affich√©s\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Gestionnaire de boutons de label\n     */\n    const LabelButtonManager = {\n        /**\n         * Cr√©e le bouton de label pour une couche\n         * Appel√© uniquement lors du premier render du layer manager\n         * @param {string} layerId - ID de la couche\n         * @param {HTMLElement} controlsContainer - Conteneur des contr√¥les\n         * @returns {HTMLElement|null} Le bouton cr√©√© ou null si √©chec\n         */\n        createButton(layerId, controlsContainer) {\n            if (!layerId || !controlsContainer) {\n                if (Log) Log.warn(\"[LabelButtonManager] createButton: param√®tres manquants\", {layerId, hasContainer: !!controlsContainer});\n                return null;\n            }\n\n            // V√©rifier si le bouton existe d√©j√†\n            const existingButton = controlsContainer.querySelector('.gl-layer-manager__label-toggle');\n            if (existingButton) {\n                if (Log) Log.debug(\"[LabelButtonManager] Bouton d√©j√† existant pour:\", layerId);\n                return existingButton;\n            }\n\n            if (Log) Log.debug(\"[LabelButtonManager] Cr√©ation du bouton pour:\", layerId);\n\n            // Cr√©er le bouton (toujours visible, sera activ√©/d√©sactiv√© selon label.enabled)\n            const labelToggle = global.L.DomUtil.create(\"button\", \"gl-layer-manager__label-toggle\");\n            labelToggle.type = \"button\";\n            labelToggle.setAttribute(\"aria-label\", \"Afficher/masquer les √©tiquettes\");\n            // D√©sactiv√© par d√©faut jusqu'√† la synchronisation\n            labelToggle.disabled = true;\n            labelToggle.classList.add(\"gl-layer-manager__label-toggle--disabled\");\n\n            const iconSpan = document.createElement(\"span\");\n            iconSpan.className = \"gl-layer-manager__label-toggle-icon\";\n            iconSpan.textContent = \"üè∑Ô∏è\";\n            labelToggle.appendChild(iconSpan);\n            labelToggle.title = \"Afficher/masquer les √©tiquettes\";\n\n            // Gestionnaire de clic\n            const onLabelToggle = function (ev) {\n                if (global.L && global.L.DomEvent) global.L.DomEvent.stopPropagation(ev);\n                ev.preventDefault();\n\n                if (labelToggle.disabled) return;\n\n                try {\n                    // V√©rifier que le style actuel autorise les labels\n                    const layerData = global.GeoLeaf?.GeoJSON?.getLayerById?.(layerId);\n                    const labelEnabled = layerData?.currentStyle?.label?.enabled === true;\n\n                    if (!labelEnabled) {\n                        if (Log) Log.warn(\"[LabelButtonManager] Impossible d'afficher les labels: le style actuel a label.enabled=false\");\n                        return;\n                    }\n\n                    // Toggle les labels\n                    if (global.GeoLeaf?.Labels?.toggleLabels) {\n                        const newState = global.GeoLeaf.Labels.toggleLabels(layerId);\n\n                        // Mettre √† jour l'√©tat visuel du bouton IMM√âDIATEMENT\n                        if (newState) {\n                            labelToggle.classList.add(\"gl-layer-manager__label-toggle--on\");\n                            labelToggle.setAttribute(\"aria-pressed\", \"true\");\n                        } else {\n                            labelToggle.classList.remove(\"gl-layer-manager__label-toggle--on\");\n                            labelToggle.setAttribute(\"aria-pressed\", \"false\");\n                        }\n                    }\n                } catch (err) {\n                    if (Log) Log.warn(\"[LabelButtonManager] Erreur lors du toggle des labels:\", err);\n                }\n            };\n\n            // Attacher le gestionnaire\n            if (GeoLeaf._UIComponents && typeof GeoLeaf._UIComponents.attachEventHandler === 'function') {\n                GeoLeaf._UIComponents.attachEventHandler(labelToggle, \"click\", onLabelToggle);\n            } else if (global.L && global.L.DomEvent) {\n                global.L.DomEvent.on(labelToggle, \"click\", onLabelToggle);\n                global.L.DomEvent.disableClickPropagation(labelToggle);\n            } else {\n                labelToggle.addEventListener(\"click\", onLabelToggle);\n            }\n\n            // Ins√©rer le bouton avant le toggle de visibilit√©\n            const visibilityToggle = controlsContainer.querySelector('.gl-layer-manager__item-toggle');\n            if (visibilityToggle) {\n                controlsContainer.insertBefore(labelToggle, visibilityToggle);\n            } else {\n                controlsContainer.appendChild(labelToggle);\n            }\n\n            if (Log) Log.debug(\"[LabelButtonManager] Bouton cr√©√© avec succ√®s:\", layerId);\n\n            return labelToggle;\n        },\n\n        /**\n         * Synchronise l'√©tat du bouton de label\n         * UNIQUE POINT D'ENTR√âE pour mettre √† jour le bouton\n         * @param {string} layerId - ID de la couche\n         */\n        sync(layerId) {\n            if (!layerId) return;\n\n            // D√©bounce pour √©viter les mises √† jour trop fr√©quentes\n            if (this._syncTimeouts && this._syncTimeouts.has(layerId)) {\n                clearTimeout(this._syncTimeouts.get(layerId));\n            }\n\n            if (!this._syncTimeouts) {\n                this._syncTimeouts = new Map();\n            }\n\n            const timeout = setTimeout(() => {\n                this._syncTimeouts.delete(layerId);\n                this._doSync(layerId);\n            }, 300);\n\n            this._syncTimeouts.set(layerId, timeout);\n        },\n\n        /**\n         * Ex√©cute la synchronisation imm√©diate (m√©thode interne)\n         * @private\n         */\n        _doSync(layerId) {\n            if (!layerId) return;\n\n            // Trouver le bouton - chercher directement dans tout le document\n            // car le Layer Manager peut recr√©er des √©l√©ments\n            let button = document.querySelector(`[data-layer-id=\"${layerId}\"] .gl-layer-manager__label-toggle`);\n\n            if (!button) {\n                // Fallback: chercher le layerItem et cr√©er le bouton si n√©cessaire\n                const layerItem = document.querySelector(`[data-layer-id=\"${layerId}\"]`);\n                if (!layerItem) {\n                    if (Log) Log.debug(\"[LabelButtonManager] LayerItem non trouv√© (pas encore rendu):\", layerId);\n                    return;\n                }\n\n                const controlsContainer = layerItem.querySelector('.gl-layer-manager__item-controls');\n                if (controlsContainer) {\n                    // V√©rifier si le bouton existe d√©j√† dans controls\n                    button = controlsContainer.querySelector('.gl-layer-manager__label-toggle');\n                    if (!button) {\n                        if (Log) Log.debug(\"[LabelButtonManager] Bouton manquant dans controls, cr√©ation √† la vol√©e pour:\", layerId);\n                        button = this.createButton(layerId, controlsContainer);\n                    }\n                } else {\n                    if (Log) Log.debug(\"[LabelButtonManager] Bouton et controlsContainer non trouv√©s pour:\", layerId);\n                    return;\n                }\n            }\n\n            if (!button) {\n                if (Log) Log.debug(\"[LabelButtonManager] Bouton non trouv√© apr√®s toutes tentatives:\", layerId);\n                return;\n            }\n\n            // Collecter l'√©tat actuel\n            const state = this._getState(layerId);\n\n            // Appliquer la logique de d√©cision\n            this._applyState(button, state);\n        },\n\n        /**\n         * Collecte l'√©tat actuel de tous les composants\n         * @private\n         */\n        _getState(layerId) {\n            const layerData = global.GeoLeaf?.GeoJSON?.getLayerById?.(layerId);\n\n            const state = {\n                layerId: layerId,\n                layerExists: !!layerData,\n                layerVisible: layerData?._visibility?.current === true,\n                labelEnabled: layerData?.currentStyle?.label?.enabled === true,\n                areLabelsActive: global.GeoLeaf?.Labels?.areLabelsEnabled?.(layerId) || false\n            };\n\n            return state;\n        },\n\n        /**\n         * Applique l'√©tat au bouton selon la logique simplifi√©e\n         * R√àGLES:\n         * - Bouton TOUJOURS visible\n         * - Si label.enabled: true ET couche visible ‚Üí bouton activ√©\n         * - Sinon ‚Üí bouton d√©sactiv√© (gris√©)\n         * - √âtat actif/inactif selon si les labels sont affich√©s\n         * @private\n         */\n        _applyState(button, state) {\n            // Bouton cliquable uniquement si la couche est visible et que le style autorise les labels\n            const canUseLabels = state.labelEnabled && state.layerVisible;\n\n            if (canUseLabels) {\n                // Activer le bouton\n                button.disabled = false;\n                button.classList.remove(\"gl-layer-manager__label-toggle--disabled\");\n\n                // Appliquer l'√©tat actif/inactif\n                const shouldAppearOn = state.areLabelsActive && state.layerVisible;\n\n                if (shouldAppearOn) {\n                    button.classList.add(\"gl-layer-manager__label-toggle--on\");\n                    button.setAttribute(\"aria-pressed\", \"true\");\n                } else {\n                    button.classList.remove(\"gl-layer-manager__label-toggle--on\");\n                    button.setAttribute(\"aria-pressed\", \"false\");\n                }\n            } else {\n                // D√©sactiver le bouton\n                button.disabled = true;\n                button.classList.add(\"gl-layer-manager__label-toggle--disabled\");\n                button.classList.remove(\"gl-layer-manager__label-toggle--on\");\n                button.setAttribute(\"aria-pressed\", \"false\");\n            }\n        },\n\n        /**\n         * Synchronise imm√©diatement sans debouncing\n         * Utilis√© pour les cas o√π une r√©ponse imm√©diate est n√©cessaire\n         * @param {string} layerId - ID de la couche\n         */\n        syncImmediate(layerId) {\n            if (!layerId) return;\n\n            // Annuler tout debounce en cours\n            if (this._syncTimeouts && this._syncTimeouts.has(layerId)) {\n                clearTimeout(this._syncTimeouts.get(layerId));\n                this._syncTimeouts.delete(layerId);\n            }\n\n            // Ex√©cuter imm√©diatement\n            this._doSync(layerId);\n        }\n    };\n\n    // Exposer dans l'espace de noms interne\n    GeoLeaf._LabelButtonManager = LabelButtonManager;\n\n    if (Log) Log.debug(\"[LabelButtonManager] Module initialis√©\");\n\n})(window);\n","/**\n * Module Labels pour GeoLeaf\n * Gestion des √©tiquettes flottantes sur les entit√©s\n *\n * D√âPENDANCES:\n * - Leaflet (L.Tooltip, L.DomUtil)\n * - GeoLeaf.Log (optionnel)\n * - GeoLeaf.GeoJSON (pour acc√©der aux layers)\n * - labels/label-renderer.js (pour le rendu des tooltips)\n * - loaders/style-loader.js (pour extraire les labels depuis les styles)\n *\n * EXPOSE:\n * - GeoLeaf.Labels\n *\n * MIGRATION V3:\n * - Les labels sont maintenant int√©gr√©s dans les fichiers style.json\n * - Plus de fichiers styleLabel.json s√©par√©s\n * - Les labels sont extraits depuis layerData.currentStyle.label\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n    const Log = GeoLeaf.Log;\n    const ScaleUtils = GeoLeaf.Utils && GeoLeaf.Utils.ScaleUtils;\n\n    /**\n     * √âtat interne du module Labels\n     * @private\n     */\n    const _state = {\n        // Map: layerId -> { enabled, config, tooltips }\n        layers: new Map(),\n        // Flag pour savoir si l'√©couteur de zoom est attach√©\n        zoomListenerAttached: false\n    };\n\n    /**\n     * Module Labels\n     * @namespace Labels\n     */\n    const Labels = {\n        /**\n         * Initialise le syst√®me de labels\n         * @param {Object} options - Options d'initialisation\n         */\n        init(options = {}) {\n            if (Log) Log.debug(\"[Labels] Initialisation du module Labels\");\n\n            // √âcouter les √©v√©nements de chargement de couches\n            this._attachLayerEvents();\n\n            if (Log) Log.debug(\"[Labels] Module Labels initialis√©\");\n        },\n\n        /**\n         * Initialise les labels pour une couche au chargement\n         * Charge les labels UNIQUEMENT si:\n         * - Le style contient label.enabled === true\n         * - label.visibleByDefault === true\n         * - La couche est visible\n         *\n         * POINT D'ENTR√âE UNIQUE pour l'initialisation au chargement\n         * @param {string} layerId - ID de la couche\n         */\n        initializeLayerLabels(layerId) {\n            if (!layerId) return;\n\n            const layerData = this._getLayerData(layerId);\n            if (!layerData) return;\n\n            // D'ABORD masquer les labels existants pour r√©initialiser lors du changement de style\n            this._hideLabelsForLayer(layerId);\n\n            // R√©initialiser l'√©tat interne des labels pour cette couche\n            _state.layers.delete(layerId);\n\n            // V√©rifier si le style a des labels activ√©s\n            if (layerData.currentStyle?.label?.enabled !== true) {\n                if (Log) Log.debug(\"[Labels.initialize] Style sans labels ou labels d√©sactiv√©s pour\", layerId);\n                return;\n            }\n\n            // V√©rifier visibleByDefault\n            const visibleByDefault = layerData.currentStyle.label.visibleByDefault === true;\n\n            if (!visibleByDefault) {\n                if (Log) Log.debug(\"[Labels.initialize] Labels d√©sactiv√©s par d√©faut pour\", layerId);\n                // Toujours initialiser la config, mais sans les afficher\n                return this.enableLabels(layerId, {}, false);\n            }\n\n            // Afficher les labels uniquement si couche visible ET visibleByDefault = true\n            const isLayerVisible = layerData._visibility?.current === true;\n            if (!isLayerVisible) {\n                if (Log) Log.debug(\"[Labels.initialize] Labels configur√©s mais couche invisible pour\", layerId);\n                // Initialiser la config sans afficher\n                return this.enableLabels(layerId, {}, false);\n            }\n\n            if (Log) Log.debug(\"[Labels.initialize] Initialisation labels visibles pour\", layerId);\n            return this.enableLabels(layerId, {}, true);\n        },\n\n        /**\n         * Active les labels pour une couche\n         * Les labels sont extraits depuis le style actuel de la couche (layerData.currentStyle.label)\n         * @param {string} layerId - ID de la couche\n         * @param {Object} labelConfig - Configuration des labels depuis layer.json (legacy, peut √™tre vide)\n         * @param {boolean} showImmediately - Si true, affiche les labels imm√©diatement (visibleByDefault)\n         * @returns {Promise<void>}\n         */\n        async enableLabels(layerId, labelConfig = {}, showImmediately = true) {\n            if (!layerId) {\n                if (Log) Log.warn(\"[Labels] enableLabels: layerId manquant\");\n                return;\n            }\n\n            // V√âRIFICATION: D√©tecter les r√©f√©rences obsol√®tes √† styleFile\n            if (labelConfig && labelConfig.styleFile) {\n                const errorMessage =\n                    `‚ùå CONFIGURATION OBSOL√àTE D√âTECT√âE\\n` +\n                    `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\\n` +\n                    `La couche \"${layerId}\" utilise une r√©f√©rence obsol√®te √† un fichier\\n` +\n                    `de labels s√©par√© via \"labelConfig.styleFile\".\\n\\n` +\n                    `GeoLeaf ne supporte plus les fichiers de labels s√©par√©s (styleLabel.json).\\n` +\n                    `Les labels doivent √™tre int√©gr√©s dans les fichiers de style.\\n\\n` +\n                    `Valeur d√©tect√©e: ${labelConfig.styleFile}\\n` +\n                    `Couche: ${layerId}\\n\\n` +\n                    `Action requise:\\n` +\n                    `1. Supprimez la propri√©t√© \"labels.styleFile\" de la configuration\\n` +\n                    `2. Les labels sont maintenant extraits depuis layerData.currentStyle.label\\n` +\n                    `3. Consultez docs/STYLE_FORMAT_SPEC.md pour la syntaxe\\n` +\n                    `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`;\n\n                console.error(errorMessage);\n                throw new Error(`Configuration obsol√®te: labels.styleFile d√©tect√© dans la couche ${layerId}`);\n            }\n\n            if (Log) Log.debug(\"[Labels] Pr√©paration labels pour\", layerId, \"showImmediately:\", showImmediately);\n\n            try {\n                // R√©cup√©rer le style actuel de la couche pour extraire les labels int√©gr√©s\n                const layerData = this._getLayerData(layerId);\n                let labelStyleConfig = null;\n\n                if (layerData && layerData.currentStyle && layerData.currentStyle.label) {\n                    // Labels int√©gr√©s dans le style\n                    const integratedLabel = layerData.currentStyle.label;\n\n                    if (integratedLabel.enabled === true) {\n                        labelStyleConfig = integratedLabel;\n\n                        // IMPORTANT: Copier aussi labelScale depuis le style\n                        if (layerData.currentStyle.labelScale) {\n                            labelStyleConfig.labelScale = layerData.currentStyle.labelScale;\n                        }\n\n                        if (Log) {\n                            Log.debug(\"[Labels] Labels int√©gr√©s d√©tect√©s pour\", layerId);\n                            Log.debug(\"[Labels] labelScale:\", labelStyleConfig.labelScale);\n                        }\n                    } else {\n                        if (Log) Log.debug(\"[Labels] Labels int√©gr√©s d√©sactiv√©s (enabled=false) pour\", layerId);\n                        return;\n                    }\n                } else {\n                    // Pas de labels int√©gr√©s dans le style - v√©rifier config legacy\n                    if (labelConfig && labelConfig.enabled && labelConfig.labelId) {\n                        // Utiliser la config legacy du fichier de config de la couche\n                        labelStyleConfig = {\n                            enabled: true,\n                            field: labelConfig.labelId,\n                            font: labelConfig.font || {\n                                family: \"Arial\",\n                                sizePt: 10,\n                                weight: 50,\n                                bold: false,\n                                italic: false\n                            },\n                            color: labelConfig.color || \"#000000\",\n                            opacity: labelConfig.opacity || 1.0,\n                            buffer: labelConfig.buffer || { enabled: false },\n                            background: labelConfig.background || { enabled: false },\n                            offset: labelConfig.offset || { distancePx: 0 }\n                        };\n                        if (Log) Log.debug(\"[Labels] Utilisation config legacy pour\", layerId);\n                    } else {\n                        // Pas de labels du tout\n                        if (Log) Log.debug(\"[Labels] Aucun label configur√© pour\", layerId);\n                        return;\n                    }\n                }\n\n                // Stocker la configuration (enabled d√©termine si on affiche)\n                // showImmediately est d√©termin√© par visibleByDefault du style en priorit√©\n                const effectiveShowImmediately = labelStyleConfig.visibleByDefault !== undefined\n                    ? labelStyleConfig.visibleByDefault\n                    : showImmediately;\n\n                _state.layers.set(layerId, {\n                    enabled: effectiveShowImmediately, // true si visibleByDefault, false sinon\n                    config: labelConfig, // Configuration legacy (minZoom, maxZoom, etc.)\n                    labelStyle: labelStyleConfig, // Configuration de style extraite du style\n                    tooltips: new Map() // Map: featureId -> L.Marker\n                });\n\n                // V√©rifier si la couche est visible avant de cr√©er les labels\n                let shouldShowLabels = effectiveShowImmediately;\n\n                // V√©rifier l'√©tat de visibilit√© de la couche dans GeoJSON\n                if (layerData) {\n                    // Utiliser _visibility.current pour v√©rifier l'√©tat r√©el\n                    const isLayerVisible = layerData._visibility && layerData._visibility.current === true;\n                    shouldShowLabels = effectiveShowImmediately && isLayerVisible;\n\n                    if (effectiveShowImmediately && !isLayerVisible) {\n                        if (Log) Log.debug(\"[Labels] Labels configur√©s pour affichage mais couche invisible:\", layerId);\n                    }\n                }\n\n                // Cr√©er les markers seulement si la couche est visible ET showImmediately\n                if (shouldShowLabels) {\n                    await this._createLabelsForLayer(layerId);\n                }\n\n                // Attacher l'√©couteur de zoom si ce n'est pas d√©j√† fait\n                this._ensureZoomListener();\n\n                if (Log) Log.debug(\"[Labels] Config labels pr√©par√©e pour\", layerId, \"visible:\", showImmediately);\n            } catch (err) {\n                if (Log) Log.error(\"[Labels] Erreur pr√©paration labels:\", err);\n                console.error(\"[Labels] Stack trace:\", err.stack);\n            }\n        },\n\n        /**\n         * D√©sactive les labels pour une couche\n         * @param {string} layerId - ID de la couche\n         */\n        disableLabels(layerId) {\n            if (!layerId) return;\n\n            const layerState = _state.layers.get(layerId);\n            if (!layerState) return;\n\n            if (Log) Log.debug(\"[Labels] D√©sactivation des labels pour\", layerId);\n\n            // Supprimer tous les tooltips\n            if (layerState.tooltips) {\n                layerState.tooltips.forEach(tooltip => {\n                    try {\n                        if (tooltip && tooltip.remove) {\n                            tooltip.remove();\n                        }\n                    } catch (e) {\n                        // Ignore\n                    }\n                });\n                layerState.tooltips.clear();\n            }\n\n            // Marquer comme d√©sactiv√©\n            layerState.enabled = false;\n\n            if (Log) Log.debug(\"[Labels] Labels d√©sactiv√©s pour\", layerId);\n        },\n\n        /**\n         * Cache temporairement les labels d'une couche sans changer l'√©tat enabled\n         * Utilis√© quand la couche est d√©sactiv√©e mais qu'on veut garder la config\n         * @param {string} layerId - ID de la couche\n         * @private\n         */\n        _hideLabelsForLayer(layerId) {\n            if (!layerId) return;\n\n            const layerState = _state.layers.get(layerId);\n            if (!layerState) return;\n\n            if (Log) Log.debug(\"[Labels] Masquage temporaire des labels pour\", layerId);\n\n            // Supprimer tous les markers de la map\n            if (layerState.tooltips) {\n                layerState.tooltips.forEach(tooltip => {\n                    try {\n                        if (tooltip && tooltip.remove) {\n                            tooltip.remove();\n                        }\n                    } catch (e) {\n                        // Ignore\n                    }\n                });\n                layerState.tooltips.clear();\n            }\n\n            // NE PAS changer layerState.enabled - on garde la config\n            if (Log) Log.debug(\"[Labels] Labels masqu√©s (enabled reste:\", layerState.enabled, \")\");\n        },\n\n        /**\n         * Bascule l'affichage des labels pour une couche\n         * @param {string} layerId - ID de la couche\n         * @returns {boolean} Nouvel √©tat (true = activ√©)\n         */\n        toggleLabels(layerId) {\n            if (!layerId) return false;\n\n            const layerState = _state.layers.get(layerId);\n            if (!layerState) return false;\n\n            // V√âRIFICATION CRITIQUE: Le style actuel doit autoriser les labels\n            const layerData = this._getLayerData(layerId);\n            const currentLabelEnabled = layerData?.currentStyle?.label?.enabled === true;\n\n            if (!currentLabelEnabled) {\n                return false;\n            }\n\n            if (layerState.enabled) {\n                // D√©sactiver : masquer sans perdre la config\n                this._hideLabelsForLayer(layerId);\n                layerState.enabled = false;\n                return false;\n            } else {\n                // Activer : changer l'√©tat et rafra√Æchir (refreshLabels v√©rifiera la visibilit√©)\n                layerState.enabled = true;\n                this.refreshLabels(layerId);\n                return true;\n            }\n        },\n\n        /**\n         * V√©rifie si la config labels existe pour une couche\n         * @param {string} layerId - ID de la couche\n         * @returns {boolean}\n         */\n        hasLabelConfig(layerId) {\n            return _state.layers.has(layerId);\n        },\n\n        /**\n         * V√©rifie si les labels sont actifs pour une couche\n         * @param {string} layerId - ID de la couche\n         * @returns {boolean}\n         */\n        areLabelsEnabled(layerId) {\n            const layerState = _state.layers.get(layerId);\n            return layerState ? layerState.enabled : false;\n        },\n\n        /**\n         * Rafra√Æchit les labels d'une couche (apr√®s zoom, filtre, etc.)\n         * @param {string} layerId - ID de la couche\n         */\n        refreshLabels(layerId) {\n            if (!layerId) return;\n\n            const layerState = _state.layers.get(layerId);\n            if (!layerState || !layerState.enabled) return;\n\n            // V√©rifier si la couche est visible avant de cr√©er les labels\n            // Priorit√©: visibilit√© de couche prime sur les param√®tres d'√©chelle\n            const layerData = this._getLayerData(layerId);\n            if (!layerData || !layerData._visibility || !layerData._visibility.current) {\n                if (Log) Log.debug(\"[Labels] Couche invisible, skip refresh pour\", layerId);\n                return;\n            }\n\n            if (Log) Log.debug(\"[Labels] Rafra√Æchissement des labels pour\", layerId);\n\n            // Supprimer les anciens tooltips\n            if (layerState.tooltips) {\n                layerState.tooltips.forEach(tooltip => {\n                    try {\n                        if (tooltip && tooltip.remove) tooltip.remove();\n                    } catch (e) {\n                        // Ignore\n                    }\n                });\n                layerState.tooltips.clear();\n            }\n\n            // Recr√©er les tooltips\n            this._createLabelsForLayer(layerId);\n        },\n\n        /**\n         * Cr√©e les tooltips permanents pour toutes les features d'une couche\n         * @private\n         * @param {string} layerId - ID de la couche\n         * @returns {Promise<void>}\n         */\n        async _createLabelsForLayer(layerId) {\n            const layerState = _state.layers.get(layerId);\n            if (!layerState || !layerState.enabled) {\n                if (Log) Log.debug(\"[Labels] _createLabelsForLayer: layerState non trouv√© ou d√©sactiv√© pour\", layerId);\n                return;\n            }\n\n            // PRIORIT√â: V√©rifier la visibilit√© de la couche AVANT les calculs d'√©chelle\n            const layerData = this._getLayerData(layerId);\n            if (!layerData || !layerData._visibility || !layerData._visibility.current) {\n                if (Log) Log.debug(\"[Labels] Couche invisible, abandon cr√©ation labels pour\", layerId);\n                return;\n            }\n\n            if (!layerData.layer) {\n                if (Log) Log.warn(\"[Labels] Couche GeoJSON non trouv√©e:\", layerId);\n                return;\n            }\n\n            const { config, labelStyle } = layerState;\n\n            if (Log) Log.debug(\"[Labels] Cr√©ation labels pour\", layerId, \"labelStyle:\", labelStyle);\n\n            // V√©rifier l'√©chelle actuelle si labelScale est d√©fini\n            const map = GeoLeaf.Core && GeoLeaf.Core.getMap ? GeoLeaf.Core.getMap() : null;\n\n            if (map && labelStyle.labelScale) {\n                const { minScale, maxScale } = labelStyle.labelScale;\n\n                if (minScale !== null || maxScale !== null) {\n                    // Calculer l'√©chelle actuelle de la carte\n                    const currentScale = this._calculateMapScale(map);\n\n                    if (Log) Log.debug(\"[Labels] V√©rification √©chelle:\", {\n                        currentScale,\n                        minScale,\n                        maxScale,\n                        visible: this._isScaleInRange(currentScale, minScale, maxScale)\n                    });\n\n                    if (!this._isScaleInRange(currentScale, minScale, maxScale)) {\n                        if (Log) Log.debug(\"[Labels] √âchelle hors limites pour\", layerId, `(√©chelle: 1:${currentScale})`);\n                        return;\n                    }\n                }\n            } else if (map && config.minZoom !== undefined && config.maxZoom !== undefined) {\n                // Fallback sur minZoom/maxZoom legacy\n                const currentZoom = map.getZoom();\n                if (currentZoom < config.minZoom || currentZoom > config.maxZoom) {\n                    if (Log) Log.debug(\"[Labels] Zoom hors limites pour\", layerId);\n                    return;\n                }\n            }\n\n            // Cr√©er les tooltips via le renderer\n            if (GeoLeaf._LabelRenderer) {\n                // Adapter le format nouveau (field) vers ancien (labelId) pour le renderer\n                const rendererConfig = {\n                    labelId: labelStyle.field || config.labelId,\n                    minZoom: config.minZoom,\n                    maxZoom: config.maxZoom\n                };\n\n                if (Log) Log.debug(\"[Labels] Appel renderer avec:\", {\n                    layerId,\n                    labelId: rendererConfig.labelId,\n                    hasLayer: !!layerData.layer,\n                    hasStyle: !!labelStyle\n                });\n\n                GeoLeaf._LabelRenderer.createTooltipsForLayer(\n                    layerId,\n                    layerData.layer,\n                    rendererConfig,\n                    labelStyle, // Passe le style de label extrait du style actuel\n                    layerState.tooltips\n                );\n\n                if (Log) Log.debug(\"[Labels] Renderer termin√©, tooltips cr√©√©s:\", layerState.tooltips.size);\n            } else {\n                if (Log) Log.error(\"[Labels] GeoLeaf._LabelRenderer non disponible!\");\n            }\n        },\n\n        /**\n         * R√©cup√®re les donn√©es de la couche depuis GeoLeaf.GeoJSON\n         * @private\n         * @param {string} layerId - ID de la couche\n         * @returns {Object|null} Layer data ou null si non trouv√©\n         */\n        _getLayerData(layerId) {\n            if (!GeoLeaf.GeoJSON || typeof GeoLeaf.GeoJSON.getLayerById !== \"function\") {\n                if (Log) Log.warn(\"[Labels] GeoLeaf.GeoJSON non disponible\");\n                return null;\n            }\n\n            return GeoLeaf.GeoJSON.getLayerById(layerId);\n        },\n\n        /**\n         * S'assure que l'√©couteur de zoom est attach√©\n         * @private\n         */\n        _ensureZoomListener() {\n            if (_state.zoomListenerAttached) return;\n\n            const map = GeoLeaf.Core && GeoLeaf.Core.getMap ? GeoLeaf.Core.getMap() : null;\n            if (map) {\n                map.on('zoomend', () => {\n                    const zoom = map.getZoom();\n                    if (Log) Log.debug(\"[Labels] Zoom chang√©:\", zoom);\n                    this._handleZoomChange({ zoom: zoom });\n                });\n                _state.zoomListenerAttached = true;\n                if (Log) Log.debug(\"[Labels] √âcouteur zoom attach√© √† la carte\");\n            } else {\n                if (Log) Log.warn(\"[Labels] Carte non disponible pour attacher l'√©couteur de zoom\");\n            }\n        },\n\n        /**\n         * Attache les √©couteurs d'√©v√©nements pour les couches\n         * @private\n         */\n        _attachLayerEvents() {\n            // Les √©couteurs de zoom sont maintenant attach√©s dans _ensureZoomListener()\n\n            // √âcouter les √©v√©nements personnalis√©s (si disponibles)\n            if (typeof global.addEventListener === \"function\") {\n                // √âcouter les √©v√©nements de chargement de couches\n                global.addEventListener(\"geoleaf:layer-loaded\", (evt) => {\n                    if (evt.detail && evt.detail.layerId) {\n                        this._handleLayerLoaded(evt.detail.layerId);\n                    }\n                });\n            }\n        },\n\n        /**\n         * G√®re le changement de zoom/√©chelle\n         * @private\n         */\n        _handleZoomChange(detail) {\n            if (!detail) return;\n\n            const map = GeoLeaf.Core && GeoLeaf.Core.getMap ? GeoLeaf.Core.getMap() : null;\n            if (!map) return;\n\n            // Calculer l'√©chelle actuelle\n            const currentScale = this._calculateMapScale(map);\n\n            // Parcourir toutes les couches avec labels\n            _state.layers.forEach((layerState, layerId) => {\n                if (!layerState.enabled) return;\n\n                // PRIORIT√â: V√©rifier visibilit√© couche AVANT calculs d'√©chelle (performance)\n                const layerData = this._getLayerData(layerId);\n                if (!layerData || !layerData._visibility || !layerData._visibility.current) {\n                    // Couche invisible - masquer labels imm√©diatement, ignorer √©chelle\n                    const isShowing = layerState.tooltips && layerState.tooltips.size > 0;\n                    if (isShowing) {\n                        layerState.tooltips.forEach(tooltip => {\n                            if (tooltip && tooltip.remove) tooltip.remove();\n                        });\n                        layerState.tooltips.clear();\n                    }\n                    return;\n                }\n\n                // Couche visible: v√©rifier les contraintes d'√©chelle\n                const { labelStyle, config } = layerState;\n                let shouldShow = true;\n\n                // V√©rifier avec labelScale si disponible\n                if (labelStyle && labelStyle.labelScale) {\n                    const { minScale, maxScale } = labelStyle.labelScale;\n                    shouldShow = this._isScaleInRange(currentScale, minScale, maxScale);\n                } else if (config.minZoom !== undefined && config.maxZoom !== undefined) {\n                    // Fallback sur minZoom/maxZoom legacy\n                    const zoom = detail.zoom !== undefined ? detail.zoom : map.getZoom();\n                    const minZoom = config.minZoom;\n                    const maxZoom = config.maxZoom;\n                    shouldShow = zoom >= minZoom && zoom <= maxZoom;\n                }\n\n                const isShowing = layerState.tooltips && layerState.tooltips.size > 0;\n\n                if (shouldShow && !isShowing) {\n                    // Afficher les labels\n                    this._createLabelsForLayer(layerId);\n                } else if (!shouldShow && isShowing) {\n                    // Masquer les labels\n                    layerState.tooltips.forEach(tooltip => {\n                        if (tooltip && tooltip.remove) tooltip.remove();\n                    });\n                    layerState.tooltips.clear();\n                }\n            });\n        },\n\n        /**\n         * G√®re le chargement d'une couche\n         * @private\n         */\n        async _handleLayerLoaded(layerId) {\n            const layerState = _state.layers.get(layerId);\n            if (layerState && layerState.enabled) {\n                await this._createLabelsForLayer(layerId);\n            }\n        },\n\n        /**\n         * R√©cup√®re l'ID du profil actif\n         * @private\n         */\n        _getProfileId() {\n            if (GeoLeaf.Config && typeof GeoLeaf.Config.get === \"function\") {\n                return GeoLeaf.Config.get(\"id\") || \"default\";\n            }\n            return \"default\";\n        },\n\n        /**\n         * Calcule l'√©chelle actuelle de la carte (1:X format)\n         * @private\n         * @param {L.Map} map - Instance de la carte Leaflet\n         * @returns {number} √âchelle (ex: 5000000 pour 1:5M)\n         */\n        _calculateMapScale(map) {\n            if (ScaleUtils && typeof ScaleUtils.calculateMapScale === \"function\") {\n                return ScaleUtils.calculateMapScale(map, { logger: Log });\n            }\n\n            if (!map) return 0;\n\n            const center = map.getCenter();\n            const zoom = map.getZoom();\n\n            const METERS_PER_PIXEL_AT_ZOOM_0 = 156543.04;\n            const metersPerPixel = METERS_PER_PIXEL_AT_ZOOM_0 * Math.cos(center.lat * Math.PI / 180) / Math.pow(2, zoom);\n\n            const METERS_PER_INCH = 0.0254;\n            const DPI = 96;\n            const metersPerInch = metersPerPixel * DPI;\n\n            const scale = Math.round(metersPerInch / METERS_PER_INCH);\n\n            if (Log) {\n                Log.debug(`[Labels] Calcul √©chelle (fallback): zoom=${zoom}, lat=${center.lat.toFixed(2)}, √©chelle=1:${scale.toLocaleString()}`);\n            }\n\n            return scale;\n        },\n\n        /**\n         * V√©rifie si une √©chelle est dans la plage min/max\n         * @private\n         * @param {number} currentScale - √âchelle actuelle (ex: 5000000)\n         * @param {number|null} minScale - √âchelle minimale (plus grand nombre = plus d√©zoom√©)\n         * @param {number|null} maxScale - √âchelle maximale (plus petit nombre = plus zoom√©)\n         * @returns {boolean} True si l'√©chelle est dans la plage\n         *\n         * Logique:\n         * - minScale est l'√©chelle la plus \"large\" (ex: 15000000 = 1:15M, vue d'ensemble)\n         * - maxScale est l'√©chelle la plus \"d√©taill√©e\" (ex: 1000 = 1:1k, vue rapproch√©e)\n         * - Labels visibles si: maxScale <= currentScale <= minScale\n         */\n        _isScaleInRange(currentScale, minScale, maxScale) {\n            if (ScaleUtils && typeof ScaleUtils.isScaleInRange === \"function\") {\n                return ScaleUtils.isScaleInRange(currentScale, minScale, maxScale, Log);\n            }\n\n            if (typeof minScale === \"number\" && currentScale > minScale) {\n                if (Log) {\n                    Log.debug(`[Labels] Test √©chelle (fallback): ${currentScale} > minScale ${minScale} ‚Üí ‚úó CACH√â (trop d√©zoom√©)`);\n                }\n                return false;\n            }\n\n            if (typeof maxScale === \"number\" && currentScale < maxScale) {\n                if (Log) {\n                    Log.debug(`[Labels] Test √©chelle (fallback): ${currentScale} < maxScale ${maxScale} ‚Üí ‚úó CACH√â (trop zoom√©)`);\n                }\n                return false;\n            }\n\n            if (Log) {\n                Log.debug(`[Labels] Test √©chelle (fallback): ${currentScale} dans [${maxScale} - ${minScale}] ‚Üí ‚úì VISIBLE`);\n            }\n\n            return true;\n        },\n\n        /**\n         * Nettoie toutes les ressources du module\n         */\n        destroy() {\n            if (Log) Log.debug(\"[Labels] Destruction du module Labels\");\n\n            _state.layers.forEach((layerState, layerId) => {\n                this.disableLabels(layerId);\n            });\n\n            _state.layers.clear();\n        }\n    };\n\n    // Exposer le module\n    GeoLeaf.Labels = Labels;\n\n})(window);\n","/**\r\n * Module Theme Loader\r\n * Charge et met en cache le fichier themes.json\r\n *\r\n * D√âPENDANCES:\r\n * - GeoLeaf.Log (optionnel)\r\n * - GeoLeaf.Core.getActiveProfile()\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf._ThemeLoader\r\n *\r\n * @module _ThemeLoader\r\n * @private\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\r\n    const Log = GeoLeaf.Log;\r\n\r\n    /**\r\n     * Cache pour les configurations de th√®mes\r\n     * @type {Map<string, Object>}\r\n     */\r\n    const _cache = new Map();\r\n\r\n    /**\r\n     * Promises en cours de chargement\r\n     * @type {Map<string, Promise>}\r\n     */\r\n    const _loadingPromises = new Map();\r\n\r\n    /**\r\n     * Module Theme Loader\r\n     * @namespace _ThemeLoader\r\n     * @private\r\n     */\r\n    const _ThemeLoader = {\r\n        /**\r\n         * Charge le fichier themes.json pour un profil\r\n         * @param {string} profileId - ID du profil\r\n         * @returns {Promise<Object>} Configuration des th√®mes\r\n         */\r\n        loadThemesConfig(profileId) {\r\n            if (Log) Log.debug(\"[ThemeLoader] loadThemesConfig appel√© pour:\", profileId);\r\n\r\n            // V√©rifier le cache\r\n            if (_cache.has(profileId)) {\r\n                if (Log) Log.debug(\"[ThemeLoader] Config en cache pour:\", profileId);\r\n                return Promise.resolve(_cache.get(profileId));\r\n            }\r\n\r\n            // V√©rifier si d√©j√† en cours de chargement\r\n            if (_loadingPromises.has(profileId)) {\r\n                if (Log) Log.debug(\"[ThemeLoader] Chargement d√©j√† en cours pour:\", profileId);\r\n                return _loadingPromises.get(profileId);\r\n            }\r\n\r\n            // Construire le chemin du fichier\r\n            // Utiliser un chemin relatif depuis la racine du projet\r\n            // Si on est dans /demo/, on remonte avec ../\r\n            const isInDemo = window.location.pathname.includes('/demo/');\r\n            const basePath = isInDemo ? '../' : '';\r\n            const themesPath = `${basePath}profiles/${profileId}/themes.json`;\r\n\r\n            // Sprint 3.3: Unified fetch using FetchHelper with timeout and retry\r\n            const FetchHelper = GeoLeaf.Utils?.FetchHelper;\r\n            let loadPromise;\r\n\r\n            if (FetchHelper) {\r\n                // Use enhanced FetchHelper with timeout and retry\r\n                loadPromise = FetchHelper.get(themesPath, {\r\n                    timeout: 8000,\r\n                    retries: 1,\r\n                    parseResponse: true\r\n                })\r\n                .then((data) => {\r\n                    if (Log) Log.debug(\"[ThemeLoader] Fichier charg√©:\", themesPath);\r\n\r\n                    // Valider la structure\r\n                    const validated = this._validateConfig(data);\r\n\r\n                    // Mettre en cache\r\n                    _cache.set(profileId, validated);\r\n                    _loadingPromises.delete(profileId);\r\n\r\n                    return validated;\r\n                })\r\n                .catch((err) => {\r\n                    if (Log) Log.warn(\"[ThemeLoader] Erreur chargement themes.json:\", err.message);\r\n                    _loadingPromises.delete(profileId);\r\n                    throw err;\r\n                });\r\n            } else {\r\n                // Fallback to raw fetch if FetchHelper not available\r\n                loadPromise = fetch(themesPath)\r\n                    .then((response) => {\r\n                        if (!response.ok) {\r\n                            throw new Error(`Erreur HTTP ${response.status} lors du chargement de ${themesPath}`);\r\n                        }\r\n                        return response.json();\r\n                    })\r\n                    .then((data) => {\r\n                        if (Log) Log.debug(\"[ThemeLoader] Fichier charg√©:\", themesPath);\r\n\r\n                        // Valider la structure\r\n                        const validated = this._validateConfig(data);\r\n\r\n                        // Mettre en cache\r\n                        _cache.set(profileId, validated);\r\n                        _loadingPromises.delete(profileId);\r\n\r\n                        return validated;\r\n                    })\r\n                    .catch((err) => {\r\n                        if (Log) Log.warn(\"[ThemeLoader] Erreur chargement themes.json:\", err.message);\r\n                        _loadingPromises.delete(profileId);\r\n                        throw err;\r\n                    });\r\n            }\r\n\r\n            // Stocker la promesse en cours\r\n            _loadingPromises.set(profileId, loadPromise);\r\n\r\n            return loadPromise;\r\n        },\r\n\r\n        /**\r\n         * Valide et normalise la configuration des th√®mes\r\n         * @param {Object} config - Configuration brute\r\n         * @returns {Object} Configuration valid√©e\r\n         * @private\r\n         */\r\n        _validateConfig(config) {\r\n            if (!config || typeof config !== 'object') {\r\n                throw new Error(\"Configuration de th√®mes invalide\");\r\n            }\r\n\r\n            // Valeurs par d√©faut pour config\r\n            const validatedConfig = {\r\n                config: {\r\n                    primaryThemes: {\r\n                        enabled: true,\r\n                        position: \"top-map\",\r\n                        ...(config.config?.primaryThemes || {})\r\n                    },\r\n                    secondaryThemes: {\r\n                        enabled: true,\r\n                        placeholder: \"S√©lectionner un th√®me...\",\r\n                        showNavigationButtons: true,\r\n                        position: \"top-layermanager\",\r\n                        ...(config.config?.secondaryThemes || {})\r\n                    }\r\n                },\r\n                themes: [],\r\n                defaultTheme: config.defaultTheme || null\r\n            };\r\n\r\n            // Valider les th√®mes\r\n            if (!Array.isArray(config.themes)) {\r\n                if (Log) Log.warn(\"[ThemeLoader] Aucun th√®me d√©fini dans la configuration\");\r\n                return validatedConfig;\r\n            }\r\n\r\n            // Normaliser chaque th√®me\r\n            validatedConfig.themes = config.themes.map((theme) => {\r\n                if (!theme.id) {\r\n                    if (Log) Log.warn(\"[ThemeLoader] Th√®me sans ID ignor√©\");\r\n                    return null;\r\n                }\r\n\r\n                return {\r\n                    id: theme.id,\r\n                    label: theme.label || theme.id,\r\n                    type: theme.type || \"secondary\", // Par d√©faut: secondary\r\n                    description: theme.description || \"\",\r\n                    icon: theme.icon || \"\",\r\n                    layers: Array.isArray(theme.layers) ? theme.layers : []\r\n                };\r\n            }).filter(Boolean); // Supprimer les th√®mes invalides\r\n\r\n            // V√©rifier qu'il y a au moins un th√®me\r\n            if (validatedConfig.themes.length === 0) {\r\n                throw new Error(\"Aucun th√®me valide trouv√© dans la configuration\");\r\n            }\r\n\r\n            // V√©rifier que le defaultTheme existe\r\n            if (validatedConfig.defaultTheme) {\r\n                const defaultExists = validatedConfig.themes.some(\r\n                    (t) => t.id === validatedConfig.defaultTheme\r\n                );\r\n                if (!defaultExists) {\r\n                    if (Log) Log.warn(\"[ThemeLoader] defaultTheme introuvable, utilisation du premier th√®me\");\r\n                    validatedConfig.defaultTheme = validatedConfig.themes[0].id;\r\n                }\r\n            } else {\r\n                // Pas de defaultTheme d√©fini, utiliser le premier\r\n                validatedConfig.defaultTheme = validatedConfig.themes[0].id;\r\n            }\r\n\r\n            if (Log) Log.debug(\"[ThemeLoader] Configuration valid√©e:\", validatedConfig.themes.length, \"th√®mes\");\r\n\r\n            return validatedConfig;\r\n        },\r\n\r\n        /**\r\n         * Vide le cache (pour tests ou rechargement)\r\n         * @param {string} [profileId] - ID du profil (optionnel, vide tout si non sp√©cifi√©)\r\n         */\r\n        clearCache(profileId) {\r\n            if (profileId) {\r\n                _cache.delete(profileId);\r\n                _loadingPromises.delete(profileId);\r\n                if (Log) Log.debug(\"[ThemeLoader] Cache vid√© pour:\", profileId);\r\n            } else {\r\n                _cache.clear();\r\n                _loadingPromises.clear();\r\n                if (Log) Log.debug(\"[ThemeLoader] Cache complet vid√©\");\r\n            }\r\n        }\r\n    };\r\n\r\n    // Exposer dans l'espace de noms\r\n    GeoLeaf._ThemeLoader = _ThemeLoader;\r\n\r\n})(window);\r\n","/**\n * GeoLeaf Theme Applier - Core\n * Module state, init/cleanup, applyTheme orchestration, getCurrentThemeId\n *\n * @module themes/theme-applier/core\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n\n    /**\n     * Module Theme Applier\n     * @namespace _ThemeApplier\n     * @private\n     */\n    const _ThemeApplier = {\n        /** @type {string|null} Th√®me actuellement actif */\n        _currentThemeId: null,\n\n        /** @type {boolean} Flag pour savoir si c'est le premier chargement */\n        _isFirstLoad: true,\n\n        /**\n         * Initialise le ThemeApplier\n         * @private\n         */\n        _init() {\n            this._pendingLayerConfigs = new Map();\n            this._pendingCheckTimer = null;\n        },\n\n        /**\n         * Nettoie les ressources\n         * @private\n         */\n        _cleanup() {\n            if (this._pendingCheckTimer) {\n                clearTimeout(this._pendingCheckTimer);\n                this._pendingCheckTimer = null;\n            }\n            if (this._pendingLayerConfigs) {\n                this._pendingLayerConfigs.clear();\n            }\n        },\n\n        /**\n         * Applique un th√®me\n         * @param {Object} theme - Configuration du th√®me\n         * @param {Object} [options] - Options d'application\n         * @param {boolean} [options.fitBounds] - Force le fitBounds\n         * @returns {Promise<void>}\n         */\n        applyTheme(theme, options = {}) {\n            // Initialiser si n√©cessaire\n            if (!this._pendingLayerConfigs) {\n                this._init();\n            }\n\n            if (GeoLeaf.Legend && typeof GeoLeaf.Legend.showLoadingOverlay === \"function\") {\n                GeoLeaf.Legend.showLoadingOverlay();\n            }\n\n            if (!theme || !theme.id) {\n                return Promise.reject(new Error(\"Th√®me invalide\"));\n            }\n\n            // V√©rifier les d√©pendances\n            if (!GeoLeaf.GeoJSON || !GeoLeaf.LayerManager) {\n                return Promise.reject(new Error(\"Modules GeoJSON ou LayerManager non disponibles\"));\n            }\n\n            // Notifier le d√©but du chargement du th√®me\n            try {\n                document.dispatchEvent(new CustomEvent('geoleaf:theme:applying', {\n                    detail: {\n                        themeId: theme.id,\n                        themeName: theme.name || theme.label || theme.id\n                    }\n                }));\n            } catch (e) { /* silencieux */ }\n\n            // D√©sactiver toutes les couches d'abord\n            this._hideAllLayers();\n\n            // Appliquer les couches du th√®me avec chargement optimis√© par lots\n            const layerConfigs = theme.layers || [];\n\n            // R√©cup√©rer la configuration de performance depuis le profil\n            const profileConfig = GeoLeaf.Config?.Profile?.getActiveProfileConfig();\n            const perfConfig = profileConfig?.performance || {};\n            const maxLayers = perfConfig.maxConcurrentLayers || 10;\n            // fitBounds d√©sactiv√© : le positionnement se fait via map.bounds du profil\n            const enableFitBounds = false;\n\n            // S√©parer les couches visibles et invisibles\n            const visibleLayers = layerConfigs.filter(config => config.visible !== false);\n            const hiddenLayers = layerConfigs.filter(config => config.visible === false);\n\n            // Charger d'abord les couches visibles par lots\n            const BATCH_SIZE = perfConfig.themeBatchSize || 3;\n\n            // Helper progression pour l'√©cran de chargement (97‚Üí99)\n            const updateProgress = (p) => {\n                try {\n                    if (typeof window !== 'undefined' && window._glLoadingScreen && typeof window._glLoadingScreen.updateProgress === 'function') {\n                        window._glLoadingScreen.updateProgress(p);\n                    }\n                } catch (e) { /* ignore */ }\n            };\n\n            const loadInBatches = async (layers) => {\n                for (let i = 0; i < layers.length; i += BATCH_SIZE) {\n                    const batch = layers.slice(i, i + BATCH_SIZE);\n                    await Promise.all(batch.map(layerConfig => this._applyLayerConfig(layerConfig)));\n\n                    if (i === 0) {\n                        updateProgress(98);\n                    }\n                }\n            };\n\n            const self = this;\n\n            return loadInBatches(visibleLayers)\n                .then(() => {\n                    updateProgress(98);\n                    return Promise.resolve();\n                })\n                .then(() => {\n                    updateProgress(99);\n                    self._currentThemeId = theme.id;\n\n                    // Rafra√Æchir le LayerManager\n                    if (GeoLeaf.LayerManager && GeoLeaf.LayerManager.refresh) {\n                        GeoLeaf.LayerManager.refresh();\n                    }\n\n                    // Synchroniser l'√©tat de visibilit√© dans la l√©gende\n                    self._syncLegendVisibility();\n\n                    // √âv√©nement de th√®me appliqu√©\n                    try {\n                        const themeNotificationEvent = new CustomEvent('geoleaf:theme:applied', {\n                            detail: {\n                                themeId: theme.id,\n                                themeName: theme.name || theme.label || theme.id,\n                                layerCount: visibleLayers.length,\n                                totalLayersInTheme: layerConfigs.length,\n                                timestamp: new Date().toISOString()\n                            }\n                        });\n                        document.dispatchEvent(themeNotificationEvent);\n                    } catch (e) {\n                        // Silencieux\n                    }\n\n                    // FitBounds selon la configuration\n                    const shouldFitBounds = options.fitBounds === true ||\n                                           (self._isFirstLoad && enableFitBounds);\n                    if (shouldFitBounds) {\n                        setTimeout(() => {\n                            self._fitBoundsOnAllLayers();\n                        }, 1000);\n                        self._isFirstLoad = false;\n                    }\n                })\n                .catch((err) => {\n                    throw err;\n                })\n                .finally(() => {\n                    if (GeoLeaf.Legend && typeof GeoLeaf.Legend.hideLoadingOverlay === \"function\") {\n                        GeoLeaf.Legend.hideLoadingOverlay();\n                    }\n                });\n        },\n\n        /**\n         * R√©cup√®re l'ID du th√®me actuellement actif\n         * @returns {string|null}\n         */\n        getCurrentThemeId() {\n            return this._currentThemeId;\n        }\n    };\n\n    // Exposer dans l'espace de noms\n    GeoLeaf._ThemeApplier = _ThemeApplier;\n\n})(window);\n","/**\n * GeoLeaf Theme Applier - Visibility\n * Gestion de la visibilit√© des couches et application des styles\n *\n * @module themes/theme-applier/visibility\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n    const Log = GeoLeaf.Log;\n\n    const TA = GeoLeaf._ThemeApplier;\n\n    /**\n     * D√©sactive toutes les couches GeoJSON\n     * @private\n     */\n    TA._hideAllLayers = function () {\n        if (!GeoLeaf._GeoJSONShared?.state?.layers) {\n            return;\n        }\n\n        const VisibilityManager = GeoLeaf._LayerVisibilityManager;\n        if (!VisibilityManager) {\n            return;\n        }\n\n        // R√©initialiser tous les overrides utilisateur pour laisser le th√®me prendre le contr√¥le\n        VisibilityManager.resetAllUserOverrides();\n\n        let hiddenCount = 0;\n\n        // Parcourir toutes les couches enregistr√©es\n        GeoLeaf._GeoJSONShared.state.layers.forEach((layerData, layerId) => {\n            const changed = VisibilityManager.setVisibility(\n                layerId,\n                false,\n                VisibilityManager.VisibilitySource.THEME\n            );\n\n            if (changed) {\n                hiddenCount++;\n            }\n        });\n    };\n\n    /**\n     * Applique la configuration d'une couche (visible/masqu√©e + style)\n     * @param {Object} layerConfig - Configuration { id, visible, style }\n     * @returns {Promise<void>}\n     * @private\n     */\n    TA._applyLayerConfig = function (layerConfig) {\n        if (!layerConfig?.id) {\n            return Promise.resolve();\n        }\n\n        const layerId = layerConfig.id;\n        const visible = layerConfig.visible !== false;\n        const styleId = layerConfig.style ? String(layerConfig.style).trim() : undefined;\n\n        // R√©cup√©rer la couche depuis le registre\n        let layerData = GeoLeaf._GeoJSONShared?.state?.layers?.get(layerId);\n\n        // Si la couche n'existe pas, essayer de la charger automatiquement\n        if (!layerData) {\n            return TA._loadLayerFromProfile(layerId).then((loadedLayer) => {\n                if (loadedLayer) {\n                    return TA._setLayerVisibilityAndStyle(layerId, visible, styleId);\n                } else {\n                    return TA._scheduleLayerConfig(layerId, visible, styleId);\n                }\n            });\n        }\n\n        // La couche existe d√©j√†, appliquer directement la visibilit√©\n        return TA._setLayerVisibilityAndStyle(layerId, visible, styleId);\n    };\n\n    /**\n     * D√©finit la visibilit√© et le style d'une couche\n     * @param {string} layerId - ID de la couche\n     * @param {boolean} visible - Visibilit√© souhait√©e\n     * @param {string} styleId - ID du style √† appliquer\n     * @returns {Promise<void>}\n     * @private\n     */\n    TA._setLayerVisibilityAndStyle = function (layerId, visible, styleId) {\n        const layerData = GeoLeaf._GeoJSONShared?.state?.layers?.get(layerId);\n        if (!layerData) {\n            return Promise.resolve();\n        }\n\n        const VisibilityManager = GeoLeaf._LayerVisibilityManager;\n        if (!VisibilityManager) {\n            return Promise.resolve();\n        }\n\n        if (visible) {\n            // Utiliser le gestionnaire centralis√© avec source THEME\n            VisibilityManager.setVisibility(\n                layerId,\n                true,\n                VisibilityManager.VisibilitySource.THEME\n            );\n\n            // Appliquer le style si sp√©cifi√©\n            if (styleId && GeoLeaf._GeoJSONLayerManager?.setLayerStyle) {\n                const availableStyles = layerData.config?.styles?.available || [];\n                let effectiveStyleId = styleId;\n                let styleExists = availableStyles.some(s => s.id === styleId);\n\n                // Fallback: si 'default' n'existe pas, essayer 'd√©faut' (et vice-versa)\n                if (!styleExists) {\n                    const fallbackMap = {\n                        'default': 'd√©faut',\n                        'd√©faut': 'default'\n                    };\n                    const fallbackStyleId = fallbackMap[styleId];\n                    if (fallbackStyleId) {\n                        const fallbackExists = availableStyles.some(s => s.id === fallbackStyleId);\n                        if (fallbackExists) {\n                            effectiveStyleId = fallbackStyleId;\n                            styleExists = true;\n                        }\n                    }\n                }\n\n                if (styleExists) {\n                    const styleFile = availableStyles.find(s => s.id === effectiveStyleId)?.file;\n                    if (styleFile) {\n                        let profileId = 'default';\n                        if (GeoLeaf.Config && typeof GeoLeaf.Config.getActiveProfile === 'function') {\n                            const activeProfile = GeoLeaf.Config.getActiveProfile();\n                            profileId = activeProfile?.id || 'default';\n                        }\n\n                        const layerDirectory = layerData._layerDirectory || layerId;\n\n                        const StyleLoader = GeoLeaf._StyleLoader;\n                        if (!StyleLoader) {\n                            if (Log) Log.error(`[ThemeApplier] GeoLeaf._StyleLoader non disponible`);\n                            return Promise.resolve();\n                        }\n\n                        return StyleLoader.loadAndValidateStyle(\n                            profileId,\n                            layerId,\n                            effectiveStyleId,\n                            styleFile,\n                            `layers/${layerDirectory}`\n                        )\n                            .then(result => {\n                                const styleConfig = result.styleData;\n                                GeoLeaf._GeoJSONLayerManager.setLayerStyle(layerId, styleConfig);\n\n                                // Stocker currentStyle pour les labels\n                                const layerDataForStyle = GeoLeaf._GeoJSONShared?.state?.layers?.get(layerId);\n                                if (layerDataForStyle) {\n                                    layerDataForStyle.currentStyle = styleConfig;\n                                }\n\n                                // Initialiser les labels si configur√©s\n                                if (GeoLeaf.Labels && typeof GeoLeaf.Labels.initializeLayerLabels === 'function') {\n                                    GeoLeaf.Labels.initializeLayerLabels(layerId);\n                                }\n\n                                // Mettre √† jour l'√©tat du bouton des labels\n                                if (GeoLeaf._LabelButtonManager) {\n                                    GeoLeaf._LabelButtonManager.syncImmediate(layerId);\n                                }\n\n                                // Synchroniser l'UI du Layer Manager\n                                if (GeoLeaf.LayerManager && typeof GeoLeaf.LayerManager.refresh === 'function') {\n                                    GeoLeaf.LayerManager.refresh();\n                                }\n\n                                // Mettre √† jour le style actuel dans le s√©lecteur\n                                if (GeoLeaf._LayerManagerStyleSelector) {\n                                    GeoLeaf._LayerManagerStyleSelector.setCurrentStyle(layerId, styleId);\n                                }\n\n                                // Rafra√Æchir le s√©lecteur dans l'UI\n                                TA._updateStyleSelector(layerId, styleId);\n\n                                // Charger la l√©gende correspondante\n                                TA._loadLegendForStyle(layerId, styleId);\n\n                                return result;\n                            })\n                            .catch(err => {\n                                // Silencieux ‚Äî erreur d√©j√† logu√©e par StyleLoader\n                            });\n                    }\n                }\n            }\n        } else {\n            // Masquer la couche avec source THEME\n            VisibilityManager.setVisibility(\n                layerId,\n                false,\n                VisibilityManager.VisibilitySource.THEME\n            );\n\n            // D√©sactiver les labels et mettre √† jour le bouton\n            if (GeoLeaf.Labels) {\n                GeoLeaf.Labels.disableLabels(layerId);\n            }\n            if (GeoLeaf._LabelButtonManager) {\n                GeoLeaf._LabelButtonManager.syncImmediate(layerId);\n            }\n        }\n\n        return Promise.resolve();\n    };\n\n})(window);\n","/**\n * GeoLeaf Theme Applier - Deferred\n * Chargement diff√©r√© de couches, r√©solution de profil, gestion du cache\n *\n * @module themes/theme-applier/deferred\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n\n    const TA = GeoLeaf._ThemeApplier;\n\n    /**\n     * Programme l'application d'une configuration de couche pour plus tard\n     * @param {string} layerId - ID de la couche\n     * @param {boolean} visible - Visibilit√© souhait√©e\n     * @param {string} styleId - ID du style √† appliquer\n     * @returns {Promise<void>}\n     * @private\n     */\n    TA._scheduleLayerConfig = function (layerId, visible, styleId) {\n        if (!TA._pendingLayerConfigs) {\n            TA._pendingLayerConfigs = new Map();\n        }\n\n        TA._pendingLayerConfigs.set(layerId, { visible, styleId });\n\n        // Programmer une v√©rification p√©riodique\n        TA._schedulePendingCheck();\n\n        return Promise.resolve();\n    };\n\n    /**\n     * Planifie une v√©rification des couches en attente\n     * @private\n     */\n    TA._schedulePendingCheck = function () {\n        if (TA._pendingCheckTimer) {\n            return; // D√©j√† planifi√©\n        }\n\n        TA._pendingCheckTimer = setTimeout(() => {\n            TA._checkPendingLayerConfigs();\n            TA._pendingCheckTimer = null;\n        }, 1000);\n    };\n\n    /**\n     * V√©rifie et applique les configurations de couches en attente\n     * @private\n     */\n    TA._checkPendingLayerConfigs = function () {\n        if (!TA._pendingLayerConfigs || TA._pendingLayerConfigs.size === 0) {\n            return;\n        }\n\n        const appliedLayers = [];\n\n        for (const [layerId, config] of TA._pendingLayerConfigs) {\n            const layerData = GeoLeaf._GeoJSONShared?.state?.layers?.get(layerId);\n            if (layerData) {\n                TA._setLayerVisibilityAndStyle(layerId, config.visible, config.styleId);\n                appliedLayers.push(layerId);\n            }\n        }\n\n        // Supprimer les couches trait√©es\n        appliedLayers.forEach(layerId => {\n            TA._pendingLayerConfigs.delete(layerId);\n        });\n\n        // S'il reste des couches en attente, programmer une nouvelle v√©rification\n        if (TA._pendingLayerConfigs.size > 0) {\n            TA._schedulePendingCheck();\n        }\n    };\n\n    /**\n     * Charge une couche depuis le profil actif (avec tol√©rance aux erreurs)\n     * @param {string} layerId - ID de la couche √† charger\n     * @returns {Promise<Object|null>} - Couche charg√©e ou null si erreur\n     * @private\n     */\n    TA._loadLayerFromProfile = async function (layerId) {\n        const Config = GeoLeaf.Config;\n        if (!Config || typeof Config.getActiveProfile !== 'function') {\n            return null;\n        }\n\n        try {\n            const activeProfile = Config.getActiveProfile();\n\n            if (!activeProfile || typeof activeProfile !== 'object') {\n                return null;\n            }\n\n            const profileId = activeProfile.id || null;\n\n            // Get layers config from profile\n            let profileLayersConfig = [];\n            if (Array.isArray(activeProfile.geojsonLayers)) {\n                profileLayersConfig = activeProfile.geojsonLayers;\n            } else if (activeProfile.geojson && Array.isArray(activeProfile.geojson.layers)) {\n                profileLayersConfig = activeProfile.geojson.layers;\n            } else if (Array.isArray(activeProfile.layers)) {\n                profileLayersConfig = activeProfile.layers;\n            } else if (Array.isArray(activeProfile.Layers)) {\n                profileLayersConfig = activeProfile.Layers;\n            }\n\n            if (!Array.isArray(profileLayersConfig) || profileLayersConfig.length === 0) {\n                return null;\n            }\n\n            const layerConfig = profileLayersConfig.find(config => config.id === layerId);\n\n            if (!layerConfig) {\n                return null;\n            }\n\n            const dataUrl = TA._resolveDataFilePath(layerConfig);\n\n            if (!dataUrl) {\n                return null;\n            }\n\n            const layerLabel = layerConfig.label || layerId;\n            const baseOptions = {};\n\n            const loader = GeoLeaf._GeoJSONLoader?._loadSingleLayer;\n\n            if (!loader) {\n                return null;\n            }\n\n            // Tentative cache avant r√©seau\n            let cachedData = null;\n            if (GeoLeaf.ThemeCache?.get) {\n                cachedData = await GeoLeaf.ThemeCache.get(layerId, profileId);\n            }\n\n            // Transmettre TOUTE la configuration de la couche\n            const layerDef = {\n                ...layerConfig,\n                url: dataUrl,\n                type: layerConfig.geometryType || layerConfig.type || 'geojson',\n                _profileId: profileId,\n                _layerDirectory: layerConfig._layerDirectory\n            };\n\n            // Normaliser les champs popup/tooltip/sidepanel\n            const normalizedDef = { ...layerDef };\n\n            if (layerDef.popup && layerDef.popup.fields) {\n                normalizedDef.popupFields = layerDef.popup.fields;\n            }\n\n            if (layerDef.tooltip && layerDef.tooltip.fields) {\n                normalizedDef.tooltipFields = layerDef.tooltip.fields;\n            }\n\n            if (layerDef.sidepanel && layerDef.sidepanel.detailLayout) {\n                normalizedDef.sidepanelFields = layerDef.sidepanel.detailLayout;\n            }\n\n            if (cachedData) {\n                normalizedDef._cachedData = cachedData;\n            }\n\n            try {\n                const layer = await loader.call(GeoLeaf._GeoJSONLoader, layerId, layerLabel, normalizedDef, baseOptions);\n                // Rafra√Æchir le cache pour prolonger la dur√©e de vie\n                if (cachedData && GeoLeaf.ThemeCache?.store) {\n                    GeoLeaf.ThemeCache.store(layerId, profileId, cachedData);\n                }\n                return layer;\n            } catch (err) {\n                return null;\n            }\n        } catch (error) {\n            return null;\n        }\n    };\n\n    /**\n     * R√©sout le chemin du fichier de donn√©es d'une couche\n     * @param {Object} layerConfig - Configuration de la couche\n     * @returns {string|null} - URL compl√®te du fichier de donn√©es\n     * @private\n     */\n    TA._resolveDataFilePath = function (layerConfig) {\n        if (!layerConfig.dataFile || !layerConfig._layerDirectory) {\n            return null;\n        }\n\n        const Config = GeoLeaf.Config;\n        if (!Config || !Config.getActiveProfile) {\n            return null;\n        }\n\n        const activeProfile = Config.getActiveProfile();\n        if (!activeProfile) {\n            return null;\n        }\n\n        const profileId = activeProfile.id;\n        const profileBasePath = TA._getProfilesBasePath(activeProfile);\n\n        return `${profileBasePath}/${profileId}/${layerConfig._layerDirectory}/${layerConfig.dataFile}`;\n    };\n\n    /**\n     * R√©sout le chemin de base des profils\n     * @private\n     */\n    TA._getProfilesBasePath = function (activeProfile) {\n        const Config = GeoLeaf.Config;\n        const configured = Config?.get?.(\"data.profilesBasePath\");\n\n        if (typeof configured === \"string\" && configured.trim().length > 0) {\n            return TA._normalizeBasePath(configured);\n        }\n\n        if (activeProfile && typeof activeProfile.profilesBasePath === \"string\") {\n            return TA._normalizeBasePath(activeProfile.profilesBasePath);\n        }\n\n        return \"profiles\";\n    };\n\n    /**\n     * Normalise un chemin (trim + supprime le / final)\n     * @private\n     */\n    TA._normalizeBasePath = function (path) {\n        const trimmed = path.trim();\n        return trimmed.endsWith(\"/\") ? trimmed.slice(0, -1) : trimmed;\n    };\n\n})(window);\n","/**\n * GeoLeaf Theme Applier - UI Sync\n * Synchronisation de l'UI : s√©lecteur de style, l√©gende, fitBounds\n *\n * @module themes/theme-applier/ui-sync\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n\n    const TA = GeoLeaf._ThemeApplier;\n\n    /**\n     * Met √† jour le s√©lecteur de style dans l'UI\n     * @param {string} layerId - Identifiant de la couche\n     * @param {string} styleId - Identifiant du style\n     * @private\n     */\n    TA._updateStyleSelector = function (layerId, styleId) {\n        const selectId = \"style-selector-\" + layerId;\n        const select = document.getElementById(selectId);\n\n        if (select) {\n            select.value = styleId;\n        }\n    };\n\n    /**\n     * Charge la l√©gende correspondant au style appliqu√©\n     * @param {string} layerId - ID de la couche\n     * @param {string} styleId - ID du style\n     * @private\n     */\n    TA._loadLegendForStyle = function (layerId, styleId) {\n        if (!GeoLeaf.Legend || typeof GeoLeaf.Legend.loadLayerLegend !== \"function\") {\n            return;\n        }\n\n        // R√©cup√©rer les informations de la couche\n        const layersMap = GeoLeaf._GeoJSONShared?.state?.layers;\n        const layerInfo = layersMap instanceof Map ? layersMap.get(layerId) : layersMap?.[layerId];\n\n        if (!layerInfo || !layerInfo.config) {\n            return;\n        }\n\n        // Utiliser la nouvelle API qui g√©n√®re la l√©gende depuis le style\n        GeoLeaf.Legend.loadLayerLegend(layerId, styleId, layerInfo.config);\n    };\n\n    /**\n     * Zoom sur l'emprise de toutes les couches charg√©es\n     * @private\n     */\n    TA._fitBoundsOnAllLayers = function () {\n        const map = GeoLeaf.Core?.getMap();\n        if (!map) {\n            return;\n        }\n\n        // Mettre √† jour la progression (99%)\n        if (window._glLoadingScreen && typeof window._glLoadingScreen.updateProgress === 'function') {\n            window._glLoadingScreen.updateProgress(99);\n        }\n\n        // Cr√©er un groupe temporaire avec toutes les couches pour calculer les bounds\n        const tempGroup = global.L.featureGroup();\n        let layerCount = 0;\n\n        // Ajouter les couches GeoJSON\n        if (GeoLeaf._GeoJSONShared?.state?.layers) {\n            GeoLeaf._GeoJSONShared.state.layers.forEach((layerData, layerId) => {\n                if (layerData.layer) {\n                    try {\n                        tempGroup.addLayer(layerData.layer);\n                        layerCount++;\n                    } catch (e) {\n                        // Silencieux\n                    }\n                }\n            });\n        }\n\n        // Ajouter les POI s'ils existent\n        if (GeoLeaf._POIShared?.state?.markerLayer) {\n            try {\n                tempGroup.addLayer(GeoLeaf._POIShared.state.markerLayer);\n                layerCount++;\n            } catch (e) {\n                // Silencieux\n            }\n        }\n\n        // Ajouter les Routes s'elles existent\n        if (GeoLeaf.Route?.getLayerGroup) {\n            try {\n                const routeGroup = GeoLeaf.Route.getLayerGroup();\n                if (routeGroup) {\n                    tempGroup.addLayer(routeGroup);\n                    layerCount++;\n                }\n            } catch (e) {\n                // Silencieux\n            }\n        }\n\n        // Zoomer sur l'emprise\n        if (layerCount > 0) {\n            const bounds = tempGroup.getBounds();\n            if (bounds.isValid()) {\n                // Afficher la carte AVANT le fitBounds pour √©viter l'√©cran noir\n                const mapContainer = document.getElementById('geoleaf-map') ||\n                                   document.querySelector('.leaflet-container')?.parentElement;\n                if (mapContainer) {\n                    mapContainer.style.opacity = '1';\n                }\n\n                map.fitBounds(bounds, { maxZoom: 12, padding: [50, 50], animate: false });\n\n                // Attendre que les tuiles soient charg√©es avant de fermer le spinner\n                setTimeout(() => {\n                    try {\n                        const event = new CustomEvent('geoleaf:map:ready', { detail: { time: Date.now() } });\n                        document.dispatchEvent(event);\n                    } catch (e) {\n                        // fallback\n                    }\n                }, 800);\n            }\n        }\n    };\n\n    /**\n     * Synchronise l'√©tat de visibilit√© de toutes les couches dans la l√©gende\n     * @private\n     */\n    TA._syncLegendVisibility = function () {\n        if (!GeoLeaf.Legend || typeof GeoLeaf.Legend.setLayerVisibility !== \"function\") {\n            return;\n        }\n\n        if (!GeoLeaf._GeoJSONShared?.state?.layers) {\n            return;\n        }\n\n        const VisibilityManager = GeoLeaf._LayerVisibilityManager;\n        if (!VisibilityManager) {\n            return;\n        }\n\n        // Parcourir toutes les couches et synchroniser leur √©tat\n        GeoLeaf._GeoJSONShared.state.layers.forEach((layerData, layerId) => {\n            const visState = VisibilityManager.getVisibilityState(layerId);\n            const isVisible = visState ? visState.current : layerData.visible;\n            GeoLeaf.Legend.setLayerVisibility(layerId, isVisible);\n        });\n    };\n\n})(window);\n","/**\n * Module Theme Selector\n * S√©lecteur de th√®mes global (principaux + secondaires)\n *\n * D√âPENDANCES:\n * - Leaflet (L.DomUtil, L.DomEvent)\n * - GeoLeaf.Log (optionnel)\n * - GeoLeaf._ThemeLoader\n * - GeoLeaf._ThemeApplier\n * - GeoLeaf.Core.getActiveProfile()\n *\n * EXPOSE:\n * - GeoLeaf.ThemeSelector\n *\n * @module ThemeSelector\n * @public\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = global.GeoLeaf = global.GeoLeaf || {};\n    const Log = GeoLeaf.Log;\n\n    // Helper pour utiliser createElement unifi√©\n    const $create = (tag, props, ...children) => {\n        return GeoLeaf.Utils && GeoLeaf.Utils.createElement\n            ? GeoLeaf.Utils.createElement(tag, props, ...children)\n            : document.createElement(tag);\n    };\n\n    /**\n     * √âtat du module\n     */\n    const _state = {\n        initialized: false,\n        profileId: null,\n        config: null,\n        themes: [],\n        primaryThemes: [],\n        secondaryThemes: [],\n        currentTheme: null,\n        // R√©f√©rences UI\n        primaryContainer: null,\n        secondaryContainer: null,\n        dropdown: null,\n        // Event listener cleanup tracking\n        _eventCleanups: []\n    };\n\n    /**\n     * Module Theme Selector\n     * @namespace ThemeSelector\n     * @public\n     */\n    const ThemeSelector = {\n        /**\n         * Initialise le s√©lecteur de th√®mes\n         * @param {Object} options - Options d'initialisation\n         * @param {string} options.profileId - ID du profil\n         * @param {HTMLElement} [options.primaryContainer] - Conteneur pour boutons principaux\n         * @param {HTMLElement} [options.secondaryContainer] - Conteneur pour dropdown secondaire\n         * @returns {Promise<void>}\n         */\n        init(options) {\n            if (!options || !options.profileId) {\n                return Promise.reject(new Error(\"profileId requis pour ThemeSelector.init\"));\n            }\n\n            if (Log) Log.debug(\"[ThemeSelector] Initialisation pour profil:\", options.profileId);\n\n            _state.profileId = options.profileId;\n            _state.primaryContainer = options.primaryContainer || null;\n            _state.secondaryContainer = options.secondaryContainer || null;\n\n            // Charger la configuration des th√®mes\n            if (!GeoLeaf._ThemeLoader) {\n                return Promise.reject(new Error(\"Module _ThemeLoader non disponible\"));\n            }\n\n            return GeoLeaf._ThemeLoader.loadThemesConfig(options.profileId)\n                .then((themesConfig) => {\n                    _state.config = themesConfig.config;\n                    _state.themes = themesConfig.themes;\n                    _state.primaryThemes = themesConfig.themes.filter((t) => t.type === \"primary\");\n                    _state.secondaryThemes = themesConfig.themes.filter((t) => t.type === \"secondary\");\n                    _state.currentTheme = themesConfig.defaultTheme;\n\n                    if (Log) Log.debug(\"[ThemeSelector] Configuration charg√©e:\", {\n                        total: _state.themes.length,\n                        primary: _state.primaryThemes.length,\n                        secondary: _state.secondaryThemes.length\n                    });\n\n                    // Cr√©er l'UI\n                    this._createUI();\n\n                    // Marquer comme initialis√© AVANT d'appliquer le th√®me\n                    _state.initialized = true;\n\n                    // Appliquer le th√®me par d√©faut\n                    return this.setTheme(_state.currentTheme);\n                })\n                .then(() => {\n                    if (Log) Log.debug(\"[ThemeSelector] Initialisation termin√©e\");\n                    // √âmettre l'√©v√©nement de fin de chargement des th√®mes\n                    const event = new CustomEvent('geoleaf:themes:ready', { detail: { time: Date.now() } });\n                    document.dispatchEvent(event);\n                })\n                .catch((err) => {\n                    if (Log) Log.warn(\"[ThemeSelector] Erreur initialisation:\", err.message);\n                    // √âmettre l'√©v√©nement m√™me en cas d'erreur\n                    const event = new CustomEvent('geoleaf:themes:ready', { detail: { time: Date.now(), error: err.message } });\n                    document.dispatchEvent(event);\n                    throw err;\n                });\n        },\n\n        /**\n         * Cr√©e l'interface utilisateur\n         * @private\n         */\n        _createUI() {\n            // V√©rifier si le s√©lecteur de th√®mes est activ√© globalement\n            const uiConfig = GeoLeaf.Config && GeoLeaf.Config.get ? GeoLeaf.Config.get('ui') : null;\n            const showThemeSelector = uiConfig ? (uiConfig.showThemeSelector === true) : false;\n\n            if (!showThemeSelector) {\n                if (Log) Log.debug(\"[ThemeSelector] showThemeSelector est false, UI non cr√©√©e\");\n                return;\n            }\n\n            // Cr√©er l'UI des th√®mes principaux\n            if (_state.config.primaryThemes.enabled && _state.primaryContainer) {\n                this._createPrimaryUI();\n            }\n\n            // Cr√©er l'UI des th√®mes secondaires\n            if (_state.config.secondaryThemes.enabled && _state.secondaryContainer) {\n                this._createSecondaryUI();\n            }\n        },\n\n        /**\n         * Cr√©e l'UI des th√®mes principaux (boutons)\n         * @private\n         */\n        _createPrimaryUI() {\n            if (!_state.primaryContainer) {\n                return;\n            }\n\n            // Vider le conteneur\n            GeoLeaf.DOMSecurity.clearElementFast(_state.primaryContainer);\n\n            // Ajouter la classe CSS\n            _state.primaryContainer.classList.add(\"gl-theme-selector-primary\");\n\n            // Cr√©er un bouton pour chaque th√®me principal\n            _state.primaryThemes.forEach((theme) => {\n                const btn = global.L.DomUtil.create(\"button\", \"gl-theme-btn\", _state.primaryContainer);\n                btn.type = \"button\";\n                btn.dataset.themeId = theme.id;\n                btn.title = theme.description || theme.label;\n\n                // Contenu du bouton: ic√¥ne + label\n                const iconSpan = global.L.DomUtil.create(\"span\", \"gl-theme-btn__icon\", btn);\n                iconSpan.textContent = theme.icon || \"üìç\";\n\n                const labelSpan = global.L.DomUtil.create(\"span\", \"gl-theme-btn__label\", btn);\n                labelSpan.textContent = theme.label;\n\n                // Marquer le th√®me actif\n                if (theme.id === _state.currentTheme) {\n                    btn.classList.add(\"gl-theme-btn--active\");\n                }\n\n                // Gestionnaire de clic\n                this._attachPrimaryButtonHandler(btn, theme);\n            });\n\n            if (Log) Log.debug(\"[ThemeSelector] UI primaire cr√©√©e:\", _state.primaryThemes.length, \"boutons\");\n        },\n\n        /**\n         * Attache le gestionnaire de clic sur un bouton de th√®me principal\n         * @param {HTMLElement} btn - Bouton\n         * @param {Object} theme - Configuration du th√®me\n         * @private\n         */\n        _attachPrimaryButtonHandler(btn, theme) {\n            const onClick = (ev) => {\n                if (global.L && global.L.DomEvent) {\n                    global.L.DomEvent.stopPropagation(ev);\n                }\n                ev.preventDefault();\n\n                this.setTheme(theme.id);\n            };\n\n            const events = GeoLeaf.Utils?.events;\n            if (global.L && global.L.DomEvent) {\n                global.L.DomEvent.on(btn, \"click\", onClick);\n                global.L.DomEvent.disableClickPropagation(btn);\n                // Store cleanup for L.DomEvent.off\n                _state._eventCleanups.push(() => {\n                    if (global.L && global.L.DomEvent) {\n                        global.L.DomEvent.off(btn, \"click\", onClick);\n                    }\n                });\n            } else if (events) {\n                _state._eventCleanups.push(\n                    events.on(\n                        btn,\n                        \"click\",\n                        onClick,\n                        false,\n                        'ThemeSelector.primaryButton'\n                    )\n                );\n            } else {\n                btn.addEventListener(\"click\", onClick);\n            }\n        },\n\n        /**\n         * Cr√©e l'UI des th√®mes secondaires (dropdown + boutons prev/next)\n         * @private\n         */\n        _createSecondaryUI() {\n            if (!_state.secondaryContainer) {\n                if (Log) Log.warn(\"[ThemeSelector] Conteneur secondaire introuvable\");\n                return;\n            }\n\n            if (Log) Log.debug(\"[ThemeSelector] Cr√©ation UI secondaire:\", _state.secondaryThemes.length, \"th√®mes\");\n            if (Log) Log.debug(\"[ThemeSelector] IDs des th√®mes secondaires:\", _state.secondaryThemes.map(t => t.id));\n\n            // Vider le conteneur\n            GeoLeaf.DOMSecurity.clearElementFast(_state.secondaryContainer);\n\n            // Ajouter la classe CSS\n            _state.secondaryContainer.classList.add(\"gl-theme-selector-secondary\");\n\n            // Cr√©er le wrapper\n            const wrapper = global.L.DomUtil.create(\"div\", \"gl-theme-selector-secondary__wrapper\", _state.secondaryContainer);\n\n            // Bouton pr√©c√©dent (si activ√©)\n            if (_state.config.secondaryThemes.showNavigationButtons) {\n                const prevBtn = global.L.DomUtil.create(\"button\", \"gl-theme-nav gl-theme-nav--prev\", wrapper);\n                prevBtn.type = \"button\";\n                prevBtn.textContent = \"‚óÄ\";\n                prevBtn.title = \"Th√®me pr√©c√©dent\";\n                this._attachNavButtonHandler(prevBtn, \"prev\");\n            }\n\n            // Dropdown\n            const select = global.L.DomUtil.create(\"select\", \"gl-theme-dropdown\", wrapper);\n            _state.dropdown = select;\n\n            // Option placeholder\n            const placeholder = $create(\"option\", {\n                value: \"\",\n                textContent: _state.config.secondaryThemes.placeholder,\n                disabled: true\n            });\n            select.appendChild(placeholder);\n\n            // Options pour les th√®mes secondaires\n            _state.secondaryThemes.forEach((theme) => {\n                const opt = $create(\"option\", {\n                    value: theme.id,\n                    textContent: theme.label\n                });\n                select.appendChild(opt);\n            });\n\n            // S√©lectionner le th√®me actif si c'est un th√®me secondaire\n            const currentIsSecondary = _state.secondaryThemes.some((t) => t.id === _state.currentTheme);\n            if (currentIsSecondary) {\n                select.value = _state.currentTheme;\n            } else {\n                select.value = \"\";\n            }\n\n            // Gestionnaire de changement\n            this._attachDropdownHandler(select);\n\n            // Bouton suivant (si activ√©)\n            if (_state.config.secondaryThemes.showNavigationButtons) {\n                const nextBtn = global.L.DomUtil.create(\"button\", \"gl-theme-nav gl-theme-nav--next\", wrapper);\n                nextBtn.type = \"button\";\n                nextBtn.textContent = \"‚ñ∂\";\n                nextBtn.title = \"Th√®me suivant\";\n                this._attachNavButtonHandler(nextBtn, \"next\");\n            }\n\n            if (Log) Log.debug(\"[ThemeSelector] UI secondaire cr√©√©e:\", _state.secondaryThemes.length, \"th√®mes\");\n        },\n\n        /**\n         * Attache le gestionnaire de changement sur le dropdown\n         * @param {HTMLSelectElement} select - Dropdown\n         * @private\n         */\n        _attachDropdownHandler(select) {\n            const onChange = (ev) => {\n                if (global.L && global.L.DomEvent) {\n                    global.L.DomEvent.stopPropagation(ev);\n                }\n\n                const themeId = select.value;\n                if (Log) Log.info(`[ThemeSelector] Dropdown chang√©: ${themeId}`);\n\n                if (themeId) {\n                    this.setTheme(themeId);\n                } else {\n                    if (Log) Log.warn(\"[ThemeSelector] Dropdown: themeId vide\");\n                }\n            };\n\n            const events = GeoLeaf.Utils?.events;\n            if (global.L && global.L.DomEvent) {\n                global.L.DomEvent.on(select, \"change\", onChange);\n                global.L.DomEvent.disableClickPropagation(select);\n                // Store cleanup for L.DomEvent.off\n                _state._eventCleanups.push(() => {\n                    if (global.L && global.L.DomEvent) {\n                        global.L.DomEvent.off(select, \"change\", onChange);\n                    }\n                });\n            } else if (events) {\n                _state._eventCleanups.push(\n                    events.on(\n                        select,\n                        \"change\",\n                        onChange,\n                        false,\n                        'ThemeSelector.dropdown'\n                    )\n                );\n            } else {\n                select.addEventListener(\"change\", onChange);\n            }\n\n            if (Log) Log.debug(\"[ThemeSelector] Gestionnaire dropdown attach√©\");\n        },\n\n        /**\n         * Attache le gestionnaire sur un bouton de navigation (prev/next)\n         * @param {HTMLElement} btn - Bouton\n         * @param {string} direction - \"prev\" | \"next\"\n         * @private\n         */\n        _attachNavButtonHandler(btn, direction) {\n            const onClick = (ev) => {\n                if (global.L && global.L.DomEvent) {\n                    global.L.DomEvent.stopPropagation(ev);\n                }\n                ev.preventDefault();\n\n                if (direction === \"next\") {\n                    this.nextTheme();\n                } else {\n                    this.previousTheme();\n                }\n            };\n\n            const events = GeoLeaf.Utils?.events;\n            if (global.L && global.L.DomEvent) {\n                global.L.DomEvent.on(btn, \"click\", onClick);\n                global.L.DomEvent.disableClickPropagation(btn);\n                // Store cleanup for L.DomEvent.off\n                _state._eventCleanups.push(() => {\n                    if (global.L && global.L.DomEvent) {\n                        global.L.DomEvent.off(btn, \"click\", onClick);\n                    }\n                });\n            } else if (events) {\n                _state._eventCleanups.push(\n                    events.on(\n                        btn,\n                        \"click\",\n                        onClick,\n                        false,\n                        'ThemeSelector.navButton'\n                    )\n                );\n            } else {\n                btn.addEventListener(\"click\", onClick);\n            }\n        },\n\n        /**\n         * Active un th√®me par son ID\n         * @param {string} themeId - ID du th√®me\n         * @returns {Promise<void>}\n         */\n        setTheme(themeId) {\n            if (!_state.initialized) {\n                return Promise.reject(new Error(\"ThemeSelector non initialis√©\"));\n            }\n\n            const theme = _state.themes.find((t) => t.id === themeId);\n            if (!theme) {\n                return Promise.reject(new Error(`Th√®me introuvable: ${themeId}`));\n            }\n\n            if (Log) Log.debug(\"[ThemeSelector] setTheme:\", themeId);\n\n            // Appliquer le th√®me\n            if (!GeoLeaf._ThemeApplier) {\n                return Promise.reject(new Error(\"Module _ThemeApplier non disponible\"));\n            }\n\n            return GeoLeaf._ThemeApplier.applyTheme(theme)\n                .then(() => {\n                    _state.currentTheme = themeId;\n\n                    // Mettre √† jour l'UI\n                    this._updateUIState(themeId);\n\n                    if (Log) Log.debug(\"[ThemeSelector] Th√®me activ√©:\", themeId);\n                })\n                .catch((err) => {\n                    if (Log) Log.warn(\"[ThemeSelector] Erreur activation th√®me:\", err.message);\n                    throw err;\n                });\n        },\n\n        /**\n         * Met √† jour l'√©tat visuel de l'UI apr√®s un changement de th√®me\n         * @param {string} themeId - ID du th√®me actif\n         * @private\n         */\n        _updateUIState(themeId) {\n            // Mettre √† jour les boutons principaux\n            if (_state.primaryContainer) {\n                const buttons = _state.primaryContainer.querySelectorAll(\".gl-theme-btn\");\n                buttons.forEach((btn) => {\n                    if (btn.dataset.themeId === themeId) {\n                        btn.classList.add(\"gl-theme-btn--active\");\n                    } else {\n                        btn.classList.remove(\"gl-theme-btn--active\");\n                    }\n                });\n            }\n\n            // Mettre √† jour le dropdown\n            if (_state.dropdown) {\n                const isSecondary = _state.secondaryThemes.some((t) => t.id === themeId);\n                if (isSecondary) {\n                    _state.dropdown.value = themeId;\n                } else {\n                    _state.dropdown.value = \"\";\n                }\n            }\n        },\n\n        /**\n         * Active le th√®me secondaire suivant\n         */\n        nextTheme() {\n            if (!_state.initialized || _state.secondaryThemes.length === 0) {\n                return;\n            }\n\n            const currentIsSecondary = _state.secondaryThemes.some((t) => t.id === _state.currentTheme);\n            let nextIndex = 0;\n\n            if (currentIsSecondary) {\n                const currentIndex = _state.secondaryThemes.findIndex((t) => t.id === _state.currentTheme);\n                nextIndex = (currentIndex + 1) % _state.secondaryThemes.length;\n            }\n\n            const nextTheme = _state.secondaryThemes[nextIndex];\n            if (nextTheme) {\n                this.setTheme(nextTheme.id);\n            }\n        },\n\n        /**\n         * Active le th√®me secondaire pr√©c√©dent\n         */\n        previousTheme() {\n            if (!_state.initialized || _state.secondaryThemes.length === 0) {\n                return;\n            }\n\n            const currentIsSecondary = _state.secondaryThemes.some((t) => t.id === _state.currentTheme);\n            let prevIndex = _state.secondaryThemes.length - 1;\n\n            if (currentIsSecondary) {\n                const currentIndex = _state.secondaryThemes.findIndex((t) => t.id === _state.currentTheme);\n                prevIndex = (currentIndex - 1 + _state.secondaryThemes.length) % _state.secondaryThemes.length;\n            }\n\n            const prevTheme = _state.secondaryThemes[prevIndex];\n            if (prevTheme) {\n                this.setTheme(prevTheme.id);\n            }\n        },\n\n        /**\n         * R√©cup√®re le th√®me actuellement actif\n         * @returns {string|null}\n         */\n        getCurrentTheme() {\n            return _state.currentTheme;\n        },\n\n        /**\n         * R√©cup√®re tous les th√®mes\n         * @returns {Array}\n         */\n        getThemes() {\n            return _state.themes;\n        },\n\n        /**\n         * R√©cup√®re les th√®mes principaux\n         * @returns {Array}\n         */\n        getPrimaryThemes() {\n            return _state.primaryThemes;\n        },\n\n        /**\n         * R√©cup√®re les th√®mes secondaires\n         * @returns {Array}\n         */\n        getSecondaryThemes() {\n            return _state.secondaryThemes;\n        },\n\n        /**\n         * V√©rifie si le module est initialis√©\n         * @returns {boolean}\n         */\n        isInitialized() {\n            return _state.initialized;\n        },\n\n        /**\n         * Cleanup method for event listeners\n         * Call this when destroying the theme selector\n         */\n        destroy() {\n            if (Log) Log.debug(\"[ThemeSelector] Cleaning up event listeners\");\n\n            if (_state._eventCleanups) {\n                _state._eventCleanups.forEach(cleanup => {\n                    if (typeof cleanup === 'function') {\n                        cleanup();\n                    }\n                });\n                _state._eventCleanups = [];\n            }\n\n            _state.initialized = false;\n        }\n    };\n\n    // Exposer dans l'espace de noms\n    GeoLeaf.ThemeSelector = ThemeSelector;\n\n})(window);\n","/**\n * GeoLeaf Table - Panel Module\n * Construction du bottom-sheet drawer pour le tableau\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log;\n\n    GeoLeaf._TablePanel = GeoLeaf._TablePanel || {};\n    GeoLeaf._TablePanel._eventCleanups = [];\n\n    /**\n     * Cr√©e le conteneur principal du tableau (bottom-sheet)\n     * @param {L.Map} map - Instance de la carte Leaflet\n     * @param {Object} config - Configuration du tableau\n     * @returns {HTMLElement} Conteneur du tableau\n     */\n    GeoLeaf._TablePanel.create = function (map, config) {\n        // V√©rifier si le conteneur existe d√©j√†\n        let container = document.querySelector(\".gl-table-panel\");\n        if (container) {\n            Log.debug(\"[TablePanel] Conteneur existant r√©utilis√©\");\n            return container;\n        }\n\n        // Cr√©er le conteneur principal\n        container = document.createElement(\"div\");\n        container.className = \"gl-table-panel\";\n        container.style.height = config.defaultHeight || \"40%\";\n\n        // Ajouter la barre de redimensionnement si resizable\n        if (config.resizable) {\n            const resizeHandle = createResizeHandle(container, config);\n            container.appendChild(resizeHandle);\n        }\n\n        // Cr√©er la barre d'outils (header)\n        const toolbar = createToolbar(map, config);\n        container.appendChild(toolbar);\n\n        // Cr√©er le wrapper du tableau avec scroll\n        const tableWrapper = document.createElement(\"div\");\n        tableWrapper.className = \"gl-table-panel__wrapper\";\n        container.appendChild(tableWrapper);\n\n        // Cr√©er le tableau vide (sera rempli par le renderer)\n        const table = document.createElement(\"table\");\n        table.className = \"gl-table-panel__table\";\n        tableWrapper.appendChild(table);\n\n        // Ajouter au body\n        document.body.appendChild(container);\n\n        // Cr√©er le bouton flottant pour afficher le tableau (quand masqu√©)\n        createFloatingShowButton();\n\n        Log.info(\"[TablePanel] Panneau cr√©√© avec succ√®s\");\n        return container;\n    };\n\n    /**\n     * Cr√©e la barre de redimensionnement\n     * @param {HTMLElement} container - Conteneur du tableau\n     * @param {Object} config - Configuration\n     * @returns {HTMLElement}\n     * @private\n     */\n    function createResizeHandle(container, config) {\n        const handle = document.createElement(\"div\");\n        handle.className = \"gl-table-panel__resize-handle\";\n        const resizeBar = document.createElement(\"div\");\n        resizeBar.className = \"gl-table-panel__resize-bar\";\n        handle.appendChild(resizeBar);\n\n        let isResizing = false;\n        let startY = 0;\n        let startHeight = 0;\n\n        const events = GeoLeaf.Utils?.events;\n\n        const mouseDownHandler = (e) => {\n            isResizing = true;\n            startY = e.clientY;\n            startHeight = container.offsetHeight;\n            document.body.style.cursor = \"ns-resize\";\n            document.body.style.userSelect = \"none\";\n            e.preventDefault();\n        };\n\n        const mouseMoveHandler = (e) => {\n            if (!isResizing) return;\n            const delta = startY - e.clientY;\n            let newHeight = startHeight + delta;\n            const viewportHeight = window.innerHeight;\n            const minHeightPx = parseHeight(config.minHeight || \"20%\", viewportHeight);\n            const maxHeightPx = parseHeight(config.maxHeight || \"80%\", viewportHeight);\n            newHeight = Math.max(minHeightPx, Math.min(maxHeightPx, newHeight));\n            container.style.height = newHeight + \"px\";\n        };\n\n        const mouseUpHandler = () => {\n            if (isResizing) {\n                isResizing = false;\n                document.body.style.cursor = \"\";\n                document.body.style.userSelect = \"\";\n            }\n        };\n\n        if (events) {\n            GeoLeaf._TablePanel._eventCleanups.push(\n                events.on(handle, \"mousedown\", mouseDownHandler, false, 'TablePanel.resizeMouseDown')\n            );\n            GeoLeaf._TablePanel._eventCleanups.push(\n                events.on(document, \"mousemove\", mouseMoveHandler, false, 'TablePanel.resizeMouseMove')\n            );\n            GeoLeaf._TablePanel._eventCleanups.push(\n                events.on(document, \"mouseup\", mouseUpHandler, false, 'TablePanel.resizeMouseUp')\n            );\n        } else {\n            handle.addEventListener(\"mousedown\", mouseDownHandler);\n            document.addEventListener(\"mousemove\", mouseMoveHandler);\n            document.addEventListener(\"mouseup\", mouseUpHandler);\n        }\n\n        return handle;\n    }\n\n    /**\n     * Parse une valeur de hauteur (%, px, vh) en pixels\n     * @param {string} value - Valeur √† parser (\"40%\", \"300px\", \"50vh\")\n     * @param {number} referenceHeight - Hauteur de r√©f√©rence pour les %\n     * @returns {number} Hauteur en pixels\n     * @private\n     */\n    function parseHeight(value, referenceHeight) {\n        if (typeof value === \"number\") return value;\n        if (typeof value !== \"string\") return 300;\n\n        if (value.endsWith(\"%\")) {\n            const percent = parseFloat(value);\n            return (referenceHeight * percent) / 100;\n        } else if (value.endsWith(\"px\")) {\n            return parseFloat(value);\n        } else if (value.endsWith(\"vh\")) {\n            const vh = parseFloat(value);\n            return (window.innerHeight * vh) / 100;\n        }\n        return 300; // D√©faut\n    }\n\n    /**\n     * Cr√©e la barre d'outils du tableau\n     * @param {L.Map} map - Instance de la carte\n     * @param {Object} config - Configuration\n     * @returns {HTMLElement}\n     * @private\n     */\n    function createToolbar(map, config) {\n        const toolbar = document.createElement(\"div\");\n        toolbar.className = \"gl-table-panel__toolbar\";\n\n        // S√©lecteur de couche\n        const layerSelect = createLayerSelector();\n        toolbar.appendChild(layerSelect);\n\n        // Champ de recherche\n        const searchInput = createSearchInput();\n        toolbar.appendChild(searchInput);\n\n        // Bouton Zoom sur la s√©lection\n        const zoomButton = createButton(\"Zoom sur s√©lection\", \"zoom\", () => {\n            if (GeoLeaf.Table && typeof GeoLeaf.Table.zoomToSelection === \"function\") {\n                GeoLeaf.Table.zoomToSelection();\n            }\n        });\n        zoomButton.disabled = true;\n        zoomButton.setAttribute(\"data-table-btn\", \"zoom\");\n        toolbar.appendChild(zoomButton);\n\n        // Bouton Surbrillance\n        const highlightButton = createButton(\"Surbrillance\", \"highlight\", () => {\n            const isActive = highlightButton.classList.toggle(\"is-active\");\n            if (GeoLeaf.Table && typeof GeoLeaf.Table.highlightSelection === \"function\") {\n                GeoLeaf.Table.highlightSelection(isActive);\n            }\n        });\n        highlightButton.disabled = true;\n        highlightButton.setAttribute(\"data-table-btn\", \"highlight\");\n        toolbar.appendChild(highlightButton);\n\n        // Bouton Export (si activ√©)\n        if (config.enableExportButton) {\n            const exportButton = createButton(\"Exporter\", \"export\", () => {\n                if (GeoLeaf.Table && typeof GeoLeaf.Table.exportSelection === \"function\") {\n                    GeoLeaf.Table.exportSelection();\n                }\n            });\n            exportButton.disabled = true;\n            exportButton.setAttribute(\"data-table-btn\", \"export\");\n            toolbar.appendChild(exportButton);\n        }\n\n        // Spacer pour pousser le bouton toggle √† droite\n        const spacer = document.createElement(\"div\");\n        spacer.style.flex = \"1\";\n        toolbar.appendChild(spacer);\n\n        // Bouton toggle (masquer/afficher le tableau)\n        const toggleBtn = createToggleButton();\n        toolbar.appendChild(toggleBtn);\n\n        return toolbar;\n    }\n\n    /**\n     * Cr√©e le s√©lecteur de couche\n     * @returns {HTMLElement}\n     * @private\n     */\n    function createLayerSelector() {\n        const wrapper = document.createElement(\"div\");\n        wrapper.className = \"gl-table-panel__layer-selector\";\n\n        const select = document.createElement(\"select\");\n        select.id = \"geoleaf-table-layer-selector\";\n        select.name = \"geoleaf-table-layer-selector\";\n        select.className = \"gl-table-panel__select\";\n        select.setAttribute(\"data-table-layer-select\", \"\");\n\n        // Option par d√©faut\n        const defaultOption = document.createElement(\"option\");\n        defaultOption.value = \"\";\n        defaultOption.textContent = \"S√©lectionner une couche...\";\n        select.appendChild(defaultOption);\n\n        // Peupler avec les couches disponibles\n        populateLayerSelector(select);\n\n        // √âv√©nement de changement - avec cleanup tracking\n        const changeHandler = (e) => {\n            const layerId = e.target.value;\n            Log.debug(\"[TablePanel] S√©lecteur chang√©, layerId:\", layerId);\n            Log.debug(\"[TablePanel] GeoLeaf.Table existe:\", !!GeoLeaf.Table);\n            Log.debug(\"[TablePanel] setLayer existe:\", typeof GeoLeaf.Table?.setLayer);\n            if (GeoLeaf.Table && typeof GeoLeaf.Table.setLayer === \"function\") {\n                GeoLeaf.Table.setLayer(layerId);\n            } else {\n                Log.error(\"[TablePanel] GeoLeaf.Table.setLayer non disponible!\");\n            }\n        };\n\n        const events = GeoLeaf.Utils?.events;\n        if (events) {\n            GeoLeaf._TablePanel._eventCleanups.push(\n                events.on(select, \"change\", changeHandler, false, 'TablePanel.layerSelect')\n            );\n        } else {\n            select.addEventListener(\"change\", changeHandler);\n        }\n\n        Log.debug(\"[TablePanel] √âv√©nement 'change' attach√© au s√©lecteur\");\n\n        wrapper.appendChild(select);\n        return wrapper;\n    }\n\n    /**\n     * Peuple le s√©lecteur avec les couches disponibles\n     * @param {HTMLSelectElement} select - √âl√©ment select\n     * @private\n     */\n    function populateLayerSelector(select) {\n        Log.debug(\"[TablePanel] populateLayerSelector appel√©\");\n\n        if (!GeoLeaf.GeoJSON || typeof GeoLeaf.GeoJSON.getAllLayers !== \"function\") {\n            Log.warn(\"[TablePanel] Module GeoJSON non disponible\");\n            return;\n        }\n\n        const allLayers = GeoLeaf.GeoJSON.getAllLayers();\n        Log.debug(\"[TablePanel] getAllLayers retourne:\", allLayers.length, \"couches\");\n\n        if (allLayers.length === 0) {\n            Log.debug(\"[TablePanel] Aucune couche charg√©e, le s√©lecteur sera rafra√Æchi par l'√©v√©nement layers-loaded\");\n            return;\n        }\n\n        const VisibilityManager = GeoLeaf._LayerVisibilityManager;\n\n        // V√©rifier les options existantes pour √©viter les doublons\n        const existingValues = new Set();\n        for (let i = 1; i < select.options.length; i++) {\n            existingValues.add(select.options[i].value);\n        }\n\n        let addedCount = 0;\n        allLayers.forEach(layer => {\n            const layerData = GeoLeaf.GeoJSON.getLayerData(layer.id);\n            Log.debug(\"[TablePanel] V√©rification couche:\", layer.id, \"table enabled:\", layerData?.config?.table?.enabled);\n\n            if (layerData && layerData.config && layerData.config.table && layerData.config.table.enabled) {\n                // V√©rifier que la couche est visible sur la carte\n                let isVisible = true;\n                if (VisibilityManager && typeof VisibilityManager.getVisibilityState === \"function\") {\n                    const visState = VisibilityManager.getVisibilityState(layer.id);\n                    isVisible = visState && visState.current === true;\n                } else if (layerData._visibility) {\n                    isVisible = layerData._visibility.current === true;\n                }\n\n                if (!isVisible) {\n                    Log.debug(\"[TablePanel] Couche\", layer.id, \"masqu√©e, ignor√©e dans le s√©lecteur\");\n                    return;\n                }\n\n                // N'ajouter que si pas d√©j√† pr√©sent\n                if (!existingValues.has(layer.id)) {\n                    const option = document.createElement(\"option\");\n                    option.value = layer.id;\n                    option.textContent = layer.label || layer.id;\n                    select.appendChild(option);\n                    addedCount++;\n                }\n            }\n        });\n\n        if (addedCount > 0) {\n            Log.info(\"[TablePanel] S√©lecteur de couche peupl√©:\", addedCount, \"couches ajout√©es\");\n        }\n    }\n\n    /**\n     * Cr√©e le champ de recherche\n     * @returns {HTMLElement}\n     * @private\n     */\n    function createSearchInput() {\n        const wrapper = document.createElement(\"div\");\n        wrapper.className = \"gl-table-panel__search\";\n\n        const input = document.createElement(\"input\");\n        input.type = \"text\";\n        input.id = \"geoleaf-table-search-input\";\n        input.name = \"geoleaf-table-search-input\";\n        input.placeholder = \"Rechercher...\";\n        input.className = \"gl-table-panel__search-input\";\n        input.setAttribute(\"data-table-search\", \"\");\n\n        // Debounce la recherche pour √©viter les appels trop fr√©quents\n        let timeout;\n        const inputHandler = (e) => {\n            clearTimeout(timeout);\n            timeout = setTimeout(() => {\n                const searchText = e.target.value.trim().toLowerCase();\n                filterTableRows(searchText);\n            }, 300);\n        };\n\n        wrapper.appendChild(input);\n        return wrapper;\n    }\n\n    /**\n     * Filtre les lignes du tableau selon le texte de recherche\n     * @param {string} searchText - Texte √† rechercher\n     * @private\n     */\n    function filterTableRows(searchText) {\n        const table = document.querySelector(\".gl-table-panel__table tbody\");\n        if (!table) return;\n\n        const rows = table.querySelectorAll(\"tr\");\n        let visibleCount = 0;\n\n        rows.forEach(row => {\n            if (!searchText) {\n                row.style.display = \"\";\n                visibleCount++;\n                return;\n            }\n\n            const cells = row.querySelectorAll(\"td\");\n            let match = false;\n\n            cells.forEach(cell => {\n                const text = cell.textContent.toLowerCase();\n                if (text.includes(searchText)) {\n                    match = true;\n                }\n            });\n\n            row.style.display = match ? \"\" : \"none\";\n            if (match) visibleCount++;\n        });\n\n        Log.debug(\"[TablePanel] Recherche:\", visibleCount, \"r√©sultats pour\", searchText);\n    }\n\n    /**\n     * Cr√©e un bouton g√©n√©rique\n     * @param {string} label - Libell√© du bouton\n     * @param {string} icon - Classe d'ic√¥ne (optionnel)\n     * @param {Function} onClick - Callback au clic\n     * @returns {HTMLElement}\n     * @private\n     */\n    function createButton(label, icon, onClick) {\n        const button = document.createElement(\"button\");\n        button.className = \"gl-table-panel__btn\";\n        button.textContent = label;\n\n        if (icon) {\n            button.classList.add(\"gl-table-panel__btn--\" + icon);\n        }\n\n        if (onClick) {\n            const events = GeoLeaf.Utils?.events;\n            if (events) {\n                GeoLeaf._TablePanel._eventCleanups.push(\n                    events.on(button, \"click\", onClick, false, 'TablePanel.button')\n                );\n            } else {\n                button.addEventListener(\"click\", onClick);\n            }\n        }\n\n        return button;\n    }\n\n    /**\n     * Met √† jour la position du bouton toggle en fonction de la hauteur du conteneur\n     * @param {HTMLElement} container - Conteneur du tableau\n     * @private\n     */\n    function updateToggleButtonPosition(container) {\n        const button = document.querySelector(\".gl-table-panel__toggle-btn\");\n        if (button && container.classList.contains(\"is-visible\")) {\n            const height = container.offsetHeight;\n            button.style.bottom = height + \"px\";\n        }\n    }\n\n    /**\n     * Cr√©e le bouton toggle pour masquer le tableau (int√©gr√© dans le toolbar)\n     * @returns {HTMLElement}\n     * @private\n     */\n    function createToggleButton() {\n        const button = document.createElement(\"button\");\n        button.className = \"gl-table-panel__toggle-btn\";\n        button.title = \"Masquer le tableau\";\n        button.setAttribute(\"aria-label\", \"Masquer tableau\");\n\n        // Cr√©er l'ic√¥ne SVG (fl√®che vers le bas)\n        const icon = document.createElement(\"span\");\n        icon.className = \"gl-table-panel__toggle-btn__icon\";\n        // SAFE: SVG statique hardcod√©, pas de donn√©es utilisateur\n        const downSvg = GeoLeaf.DOMSecurity.createSVGIcon(16, 16, 'M6 9l6 6 6-6', {\n            stroke: 'currentColor',\n            strokeWidth: '6',\n            fill: 'none'\n        });\n        icon.appendChild(downSvg);\n        button.appendChild(icon);\n\n        const clickHandler = () => {\n            if (GeoLeaf.Table && typeof GeoLeaf.Table.toggle === \"function\") {\n                GeoLeaf.Table.toggle();\n            }\n        };\n\n        const events = GeoLeaf.Utils?.events;\n        if (events) {\n            GeoLeaf._TablePanel._eventCleanups.push(\n                events.on(button, \"click\", clickHandler, false, 'TablePanel.toggleBtn')\n            );\n        } else {\n            button.addEventListener(\"click\", clickHandler);\n        }\n\n        return button;\n        Log.debug(\"[TablePanel] Bouton toggle cr√©√©\");\n    }\n\n    /**\n     * Cr√©e le bouton flottant pour afficher le tableau (visible quand tableau masqu√©)\n     * @private\n     */\n    function createFloatingShowButton() {\n        const button = document.createElement(\"button\");\n        button.className = \"gl-table-panel__floating-show-btn\";\n        button.title = \"Afficher le tableau\";\n        button.setAttribute(\"aria-label\", \"Afficher tableau\");\n\n        // Cr√©er l'ic√¥ne SVG (fl√®che vers le haut)\n        const icon = document.createElement(\"span\");\n        icon.className = \"gl-table-panel__toggle-btn__icon\";\n        // SAFE: SVG statique hardcod√©, pas de donn√©es utilisateur\n        const upSvg = GeoLeaf.DOMSecurity.createSVGIcon(16, 16, 'M18 15l-6-6-6 6', {\n            stroke: 'currentColor',\n            strokeWidth: '6',\n            fill: 'none'\n        });\n        icon.appendChild(upSvg);\n        button.appendChild(icon);\n\n        const clickHandler = () => {\n            if (GeoLeaf.Table && typeof GeoLeaf.Table.show === \"function\") {\n                GeoLeaf.Table.show();\n            }\n        };\n\n        const events = GeoLeaf.Utils?.events;\n        if (events) {\n            GeoLeaf._TablePanel._eventCleanups.push(\n                events.on(button, \"click\", clickHandler, false, 'TablePanel.floatingShowBtn')\n            );\n        } else {\n            button.addEventListener(\"click\", clickHandler);\n        }\n\n        document.body.appendChild(button);\n        Log.debug(\"[TablePanel] Bouton flottant cr√©√©\");\n    }\n\n    /**\n     * Met √† jour l'√©tat des boutons de la toolbar selon la s√©lection\n     * @param {number} selectedCount - Nombre d'entit√©s s√©lectionn√©es\n     */\n    GeoLeaf._TablePanel.updateToolbarButtons = function (selectedCount) {\n        const hasSelection = selectedCount > 0;\n\n        const zoomBtn = document.querySelector(\"[data-table-btn='zoom']\");\n        const highlightBtn = document.querySelector(\"[data-table-btn='highlight']\");\n        const exportBtn = document.querySelector(\"[data-table-btn='export']\");\n\n        if (zoomBtn) zoomBtn.disabled = !hasSelection;\n        if (highlightBtn) {\n            highlightBtn.disabled = !hasSelection;\n            // Si plus aucune s√©lection, d√©sactiver la surbrillance\n            if (!hasSelection && highlightBtn.classList.contains(\"is-active\")) {\n                highlightBtn.classList.remove(\"is-active\");\n                if (GeoLeaf.Table && typeof GeoLeaf.Table.highlightSelection === \"function\") {\n                    GeoLeaf.Table.highlightSelection(false);\n                }\n            }\n        }\n        if (exportBtn) exportBtn.disabled = !hasSelection;\n\n        Log.debug(\"[TablePanel] Boutons mis √† jour. S√©lection:\", selectedCount);\n    };\n\n    /**\n     * Rafra√Æchit le s√©lecteur de couche (utile apr√®s chargement de nouvelles couches)\n     */\n    GeoLeaf._TablePanel.refreshLayerSelector = function () {\n        const select = document.querySelector(\"[data-table-layer-select]\");\n        if (!select) return;\n\n        // Sauvegarder la valeur actuelle\n        const currentValue = select.value;\n\n        // Vider les options (sauf la premi√®re)\n        while (select.options.length > 1) {\n            select.remove(1);\n        }\n\n        // Re-peupler\n        populateLayerSelector(select);\n\n        // V√©rifier si la valeur actuelle est toujours disponible\n        const optionValues = Array.from(select.options).map(o => o.value);\n        if (currentValue && optionValues.includes(currentValue)) {\n            select.value = currentValue;\n        } else if (currentValue && !optionValues.includes(currentValue)) {\n            // La couche active a √©t√© retir√©e (masqu√©e) ‚Äî basculer sur la premi√®re disponible\n            if (select.options.length > 1) {\n                select.value = select.options[1].value;\n                if (GeoLeaf.Table && typeof GeoLeaf.Table.setLayer === \"function\") {\n                    GeoLeaf.Table.setLayer(select.options[1].value);\n                }\n            } else {\n                // Aucune couche visible ‚Äî vider le tableau\n                select.value = \"\";\n                if (GeoLeaf.Table && typeof GeoLeaf.Table.setLayer === \"function\") {\n                    GeoLeaf.Table.setLayer(\"\");\n                }\n            }\n        }\n\n        // Mettre √† jour le placeholder si aucune couche visible\n        const defaultOption = select.options[0];\n        if (defaultOption) {\n            defaultOption.textContent = select.options.length > 1\n                ? \"S√©lectionner une couche...\"\n                : \"Aucune couche visible\";\n        }\n\n        Log.debug(\"[TablePanel] S√©lecteur de couche rafra√Æchi,\", (select.options.length - 1), \"couches disponibles\");\n    };\n\n    /**\n     * Cleanup all event listeners\n     */\n    GeoLeaf._TablePanel.destroy = function() {\n        if (GeoLeaf._TablePanel._eventCleanups && GeoLeaf._TablePanel._eventCleanups.length > 0) {\n            GeoLeaf._TablePanel._eventCleanups.forEach(cleanup => {\n                if (typeof cleanup === 'function') cleanup();\n            });\n            GeoLeaf._TablePanel._eventCleanups = [];\n            Log.info('[TablePanel] Event listeners cleaned up');\n        }\n    };\n\n})(typeof window !== \"undefined\" ? window : global);\n","/**\n * GeoLeaf Table - Renderer Module\n * Rendu des colonnes, lignes et pagination avec virtual scrolling\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Shorthand for createElement\n     */\n    const $create = (tag, props, ...children) => {\n        return GeoLeaf.Utils && GeoLeaf.Utils.createElement\n            ? GeoLeaf.Utils.createElement(tag, props, ...children)\n            : document.createElement(tag);\n    };\n\n    GeoLeaf._TableRenderer = GeoLeaf._TableRenderer || {};\n    GeoLeaf._TableRenderer._eventCleanups = [];\n\n    /**\n     * Rend le tableau avec les donn√©es fournies\n     * @param {HTMLElement} container - Conteneur du tableau\n     * @param {Object} options - Options de rendu\n     * @param {string} options.layerId - ID de la couche\n     * @param {Array} options.features - Features √† afficher\n     * @param {Set} options.selectedIds - IDs des entit√©s s√©lectionn√©es\n     * @param {Object} options.sortState - √âtat du tri\n     * @param {Object} options.config - Configuration du tableau\n     */\n    GeoLeaf._TableRenderer.render = function (container, options) {\n        Log.debug(\"[TableRenderer] render() - D√©but, options:\", options);\n\n        if (!container) {\n            Log.error(\"[TableRenderer] Conteneur invalide\");\n            return;\n        }\n\n        // R√©initialiser le compteur d'IDs synth√©tiques √† chaque rendu\n        _syntheticIdCounter = 0;\n\n        const { layerId, features, selectedIds, sortState, config } = options;\n        Log.debug(\"[TableRenderer] render() - layerId:\", layerId, \"features:\", features ? features.length : 0);\n\n        const table = container.querySelector(\".gl-table-panel__table\");\n        if (!table) {\n            Log.error(\"[TableRenderer] √âl√©ment table introuvable\");\n            return;\n        }\n\n        // Si pas de layerId, vider le tableau\n        if (!layerId) {\n            // SAFE: Cha√Æne vide pour nettoyer le contenu\n            GeoLeaf.DOMSecurity.clearElementFast(table);\n            Log.debug(\"[TableRenderer] Tableau vid√© (aucune couche s√©lectionn√©e)\");\n            return;\n        }\n\n        // R√©cup√©rer la config du layer\n        const layerData = GeoLeaf.GeoJSON ? GeoLeaf.GeoJSON.getLayerData(layerId) : null;\n        const layerConfig = layerData && layerData.config && layerData.config.table ? layerData.config.table : null;\n\n        if (!layerConfig || !layerConfig.columns) {\n            Log.warn(\"[TableRenderer] Aucune configuration de colonne pour\", layerId);\n            // SAFE: Cha√Æne vide pour nettoyer le contenu\n            GeoLeaf.DOMSecurity.clearElementFast(table);\n            return;\n        }\n\n        Log.debug(\"[TableRenderer] Colonnes:\", layerConfig.columns);\n\n        // Vider le tableau\n        // SAFE: Cha√Æne vide pour nettoyer le contenu avant reconstruction\n        GeoLeaf.DOMSecurity.clearElementFast(table);\n\n        // Cr√©er le thead\n        const thead = createTableHead(layerConfig.columns, sortState);\n        table.appendChild(thead);\n\n        // Cr√©er le tbody\n        const tbody = createTableBody(features, layerConfig.columns, selectedIds);\n        table.appendChild(tbody);\n\n        // Appliquer virtual scrolling si activ√©\n        if (config.virtualScrolling && features.length > config.pageSize) {\n            applyVirtualScrolling(container, features, config.pageSize);\n        }\n\n        Log.debug(\"[TableRenderer] Tableau rendu:\", features.length, \"lignes\");\n    };\n\n    /**\n     * Cr√©e l'en-t√™te du tableau (thead)\n     * @param {Array} columns - Configuration des colonnes\n     * @param {Object} sortState - √âtat du tri actuel\n     * @returns {HTMLElement}\n     * @private\n     */\n    function createTableHead(columns, sortState) {\n        const thead = $create(\"thead\");\n        const tr = $create(\"tr\");\n\n        // Colonne checkbox (s√©lection)\n        const thCheckbox = $create(\"th\", { className: \"gl-table-panel__th gl-table-panel__th--checkbox\" });\n\n        const checkboxAll = $create(\"input\", {\n            type: \"checkbox\",\n            className: \"gl-table-panel__checkbox-all\",\n            title: \"Tout s√©lectionner / Tout d√©s√©lectionner\"\n        });\n\n        const checkboxAllHandler = (e) => {\n            toggleAllRows(e.target.checked);\n        };\n\n        const events = GeoLeaf.Utils?.events;\n        if (events) {\n            GeoLeaf._TableRenderer._eventCleanups.push(\n                events.on(checkboxAll, \"change\", checkboxAllHandler, false, 'TableRenderer.checkboxAll')\n            );\n        } else {\n            checkboxAll.addEventListener(\"change\", checkboxAllHandler);\n        }\n\n        thCheckbox.appendChild(checkboxAll);\n        tr.appendChild(thCheckbox);\n\n        // Colonnes de donn√©es\n        columns.forEach(col => {\n            const th = $create(\"th\", { className: \"gl-table-panel__th\" });\n            th.textContent = col.label || col.field;\n\n            if (col.width) {\n                th.style.width = col.width;\n            }\n\n            // Rendre la colonne triable (par d√©faut toutes les colonnes sont triables)\n            const isSortable = col.sortable !== false;\n            if (isSortable) {\n                th.classList.add(\"gl-table-panel__th--sortable\");\n                th.setAttribute(\"data-field\", col.field);\n\n                // Ajouter les indicateurs de tri\n                const sortIcon = $create(\"span\", { className: \"gl-table-panel__sort-icon\" });\n\n                if (sortState.field === col.field) {\n                    if (sortState.direction === \"asc\") {\n                        sortIcon.textContent = \" ‚ñ≤\";\n                        th.classList.add(\"is-sorted-asc\");\n                    } else if (sortState.direction === \"desc\") {\n                        sortIcon.textContent = \" ‚ñº\";\n                        th.classList.add(\"is-sorted-desc\");\n                    }\n                } else {\n                    sortIcon.textContent = \" ‚áÖ\";\n                }\n\n                th.appendChild(sortIcon);\n\n                // √âv√©nement de tri - avec cleanup tracking\n                const sortHandler = () => {\n                    if (GeoLeaf.Table && typeof GeoLeaf.Table.sortByField === \"function\") {\n                        GeoLeaf.Table.sortByField(col.field);\n                    }\n                };\n\n                const events = GeoLeaf.Utils?.events;\n                if (events) {\n                    GeoLeaf._TableRenderer._eventCleanups.push(\n                        events.on(th, \"click\", sortHandler, false, 'TableRenderer.sort')\n                    );\n                } else {\n                    th.addEventListener(\"click\", sortHandler);\n                }\n            }\n\n            tr.appendChild(th);\n        });\n\n        thead.appendChild(tr);\n        return thead;\n    }\n\n    /**\n     * Cr√©e le corps du tableau (tbody)\n     * @param {Array} features - Features √† afficher\n     * @param {Array} columns - Configuration des colonnes\n     * @param {Set} selectedIds - IDs s√©lectionn√©s\n     * @returns {HTMLElement}\n     * @private\n     */\n    function createTableBody(features, columns, selectedIds) {\n        Log.debug(\"[TableRenderer] createTableBody() - features:\", features.length);\n\n        const tbody = $create(\"tbody\");\n\n        // Sprint 3.2: Use DocumentFragment for batch DOM operations\n        const fragment = document.createDocumentFragment();\n\n        features.forEach((feature, index) => {\n            const tr = createTableRow(feature, columns, selectedIds);\n            fragment.appendChild(tr);\n        });\n\n        tbody.appendChild(fragment);\n\n        Log.debug(\"[TableRenderer] tbody cr√©√© avec\", tbody.children.length, \"lignes\");\n        return tbody;\n    }\n\n    /**\n     * Cr√©e une ligne du tableau\n     * @param {Object} feature - Feature GeoJSON\n     * @param {Array} columns - Configuration des colonnes\n     * @param {Set} selectedIds - IDs s√©lectionn√©s\n     * @returns {HTMLElement}\n     * @private\n     */\n    function createTableRow(feature, columns, selectedIds) {\n        const tr = $create(\"tr\");\n        const featureId = getFeatureId(feature);\n        tr.setAttribute(\"data-feature-id\", featureId);\n\n        const isSelected = selectedIds.has(String(featureId));\n        if (isSelected) {\n            tr.classList.add(\"is-selected\");\n        }\n\n        // Cellule checkbox\n        const tdCheckbox = $create(\"td\", { className: \"gl-table-panel__td gl-table-panel__td--checkbox\" });\n\n        const checkbox = $create(\"input\", {\n            type: \"checkbox\",\n            className: \"gl-table-panel__checkbox\",\n            checked: isSelected\n        });\n\n        const checkboxHandler = (e) => {\n            // Pour les checkboxes, toujours traiter comme multi-s√©lection\n            handleRowSelection(featureId, e.target.checked, false, true, true);\n        };\n\n        const events = GeoLeaf.Utils?.events;\n        if (events) {\n            GeoLeaf._TableRenderer._eventCleanups.push(\n                events.on(checkbox, \"change\", checkboxHandler, false, 'TableRenderer.checkbox')\n            );\n        } else {\n            checkbox.addEventListener(\"change\", checkboxHandler);\n        }\n\n        tdCheckbox.appendChild(checkbox);\n        tr.appendChild(tdCheckbox);\n\n        // Cellules de donn√©es\n        columns.forEach((col, colIndex) => {\n            const td = $create(\"td\", { className: \"gl-table-panel__td\" });\n\n            const value = getNestedValue(feature, col.field);\n            const formattedValue = formatValue(value, col.type);\n\n            td.textContent = formattedValue;\n\n            // Aligner les nombres √† droite\n            if (col.type === \"number\") {\n                td.classList.add(\"gl-table-panel__td--number\");\n            }\n\n            tr.appendChild(td);\n        });\n\n        // √âv√©nement clic sur la ligne (s√©lection simple) - avec cleanup tracking\n        const rowClickHandler = (e) => {\n            // Ignorer si c'est le checkbox qui a √©t√© cliqu√©\n            if (e.target.type === \"checkbox\") return;\n            const currentState = tr.classList.contains(\"is-selected\");\n            handleRowSelection(featureId, !currentState, e.shiftKey, e.ctrlKey || e.metaKey);\n        };\n\n        // Reuse EventListenerManager from outer scope\n        if (events) {\n            GeoLeaf._TableRenderer._eventCleanups.push(\n                events.on(tr, \"click\", rowClickHandler, false, 'TableRenderer.rowClick')\n            );\n        } else {\n            tr.addEventListener(\"click\", rowClickHandler);\n        }\n\n        return tr;\n    }\n\n    /**\n     * G√®re la s√©lection d'une ligne\n     * @param {string} featureId - ID de la feature\n     * @param {boolean} selected - S√©lectionn√© ou non\n     * @param {boolean} shiftKey - Touche Shift enfonc√©e\n     * @param {boolean} ctrlKey - Touche Ctrl/Cmd enfonc√©e\n     * @param {boolean} isCheckbox - Si l'action vient d'une checkbox\n     * @private\n     */\n    function handleRowSelection(featureId, selected, shiftKey, ctrlKey, isCheckbox = false) {\n        Log.debug(\"[TableRenderer] handleRowSelection - featureId:\", featureId, \"selected:\", selected);\n\n        if (!GeoLeaf.Table) {\n            Log.error(\"[TableRenderer] GeoLeaf.Table non disponible\");\n            return;\n        }\n\n        const currentSelection = GeoLeaf.Table.getSelectedIds();\n\n        if (shiftKey && currentSelection.length > 0) {\n            // S√©lection par plage (Shift+clic)\n            Log.debug(\"[TableRenderer] Mode SHIFT - S√©lection par plage\");\n            selectRange(featureId);\n        } else if (ctrlKey || isCheckbox) {\n            // Multi-s√©lection (Ctrl+clic ou checkbox)\n            Log.debug(\"[TableRenderer] Mode MULTI - Multi-s√©lection\" + (isCheckbox ? \" (checkbox)\" : \" (Ctrl)\"));\n            if (selected) {\n                const newSelection = [...currentSelection, featureId];\n                GeoLeaf.Table.setSelection(newSelection, false);\n            } else {\n                const newSelection = currentSelection.filter(id => id !== featureId);\n                GeoLeaf.Table.setSelection(newSelection, false);\n            }\n        } else {\n            // S√©lection simple\n            Log.debug(\"[TableRenderer] Mode SIMPLE - S√©lection unique\");\n            if (selected) {\n                GeoLeaf.Table.setSelection([featureId], false);\n            } else {\n                GeoLeaf.Table.clearSelection();\n            }\n        }\n\n        // Mettre √† jour l'√©tat des boutons\n        updateToolbarButtonsState();\n    }\n\n    /**\n     * S√©lectionne une plage de lignes (Shift+clic)\n     * @param {string} targetId - ID de la feature cible\n     * @private\n     */\n    function selectRange(targetId) {\n        const tbody = document.querySelector(\".gl-table-panel__table tbody\");\n        if (!tbody) return;\n\n        const rows = Array.from(tbody.querySelectorAll(\"tr\"));\n        const currentSelection = GeoLeaf.Table.getSelectedIds();\n        const lastSelected = currentSelection[currentSelection.length - 1];\n\n        const targetIndex = rows.findIndex(r => r.getAttribute(\"data-feature-id\") === targetId);\n        const lastIndex = rows.findIndex(r => r.getAttribute(\"data-feature-id\") === lastSelected);\n\n        if (targetIndex === -1 || lastIndex === -1) return;\n\n        const start = Math.min(targetIndex, lastIndex);\n        const end = Math.max(targetIndex, lastIndex);\n\n        const rangeIds = [];\n        for (let i = start; i <= end; i++) {\n            const id = rows[i].getAttribute(\"data-feature-id\");\n            if (id) rangeIds.push(id);\n        }\n\n        GeoLeaf.Table.setSelection(rangeIds, false);\n        updateToolbarButtonsState();\n    }\n\n    /**\n     * Toggle toutes les lignes (checkbox \"tout s√©lectionner\")\n     * @param {boolean} checked - √âtat du checkbox\n     * @private\n     */\n    function toggleAllRows(checked) {\n        const tbody = document.querySelector(\".gl-table-panel__table tbody\");\n        if (!tbody) return;\n\n        const rows = tbody.querySelectorAll(\"tr\");\n        const ids = [];\n\n        rows.forEach(row => {\n            const id = row.getAttribute(\"data-feature-id\");\n            if (id) {\n                ids.push(id);\n                row.classList.toggle(\"is-selected\", checked);\n                const checkbox = row.querySelector(\".gl-table-panel__checkbox\");\n                if (checkbox) checkbox.checked = checked;\n            }\n        });\n\n        if (checked) {\n            GeoLeaf.Table.setSelection(ids, false);\n        } else {\n            GeoLeaf.Table.clearSelection();\n        }\n\n        updateToolbarButtonsState();\n    }\n\n    /**\n     * Met √† jour la s√©lection visuelle dans le tableau\n     * @param {HTMLElement} container - Conteneur du tableau\n     * @param {Set} selectedIds - IDs s√©lectionn√©s\n     */\n    GeoLeaf._TableRenderer.updateSelection = function (container, selectedIds) {\n        const tbody = container.querySelector(\".gl-table-panel__table tbody\");\n        if (!tbody) return;\n\n        const rows = tbody.querySelectorAll(\"tr\");\n\n        rows.forEach(row => {\n            const id = row.getAttribute(\"data-feature-id\");\n            const isSelected = selectedIds.has(String(id));\n\n            row.classList.toggle(\"is-selected\", isSelected);\n\n            const checkbox = row.querySelector(\".gl-table-panel__checkbox\");\n            if (checkbox) {\n                checkbox.checked = isSelected;\n            }\n        });\n\n        // Mettre √† jour le checkbox \"tout s√©lectionner\"\n        const checkboxAll = container.querySelector(\".gl-table-panel__checkbox-all\");\n        if (checkboxAll) {\n            const totalRows = rows.length;\n            const selectedCount = selectedIds.size;\n            checkboxAll.checked = totalRows > 0 && selectedCount === totalRows;\n            checkboxAll.indeterminate = selectedCount > 0 && selectedCount < totalRows;\n        }\n\n        updateToolbarButtonsState();\n    };\n\n    /**\n     * Applique le virtual scrolling pour de grandes listes\n     * @param {HTMLElement} container - Conteneur\n     * @param {Array} features - Features compl√®tes\n     * @param {number} pageSize - Taille de page\n     * @private\n     */\n    function applyVirtualScrolling(container, features, pageSize) {\n        // Implementation simple : pagination au scroll\n        // Pour un vrai virtual scrolling, utiliser IntersectionObserver\n        Log.debug(\"[TableRenderer] Virtual scrolling activ√© pour\", features.length, \"entit√©s\");\n        // TODO(v3.2): Implement custom cell renderers if necessary for advanced use cases\n    }\n\n    /**\n     * Met √† jour l'√©tat des boutons de la toolbar\n     * @private\n     */\n    function updateToolbarButtonsState() {\n        if (!GeoLeaf.Table) return;\n\n        const selectedCount = GeoLeaf.Table.getSelectedIds().length;\n\n        if (GeoLeaf._TablePanel && typeof GeoLeaf._TablePanel.updateToolbarButtons === \"function\") {\n            GeoLeaf._TablePanel.updateToolbarButtons(selectedCount);\n        }\n    }\n\n    /**\n     * Compteur interne pour g√©n√©rer des IDs synth√©tiques\n     * @type {number}\n     * @private\n     */\n    let _syntheticIdCounter = 0;\n\n    /**\n     * R√©cup√®re l'ID d'une feature de mani√®re fiable\n     * Parcourt plusieurs propri√©t√©s candidates puis g√©n√®re un ID synth√©tique si n√©cessaire\n     * @param {Object} feature - Feature GeoJSON\n     * @returns {string}\n     * @private\n     */\n    function getFeatureId(feature) {\n        // 1. ID standard GeoJSON\n        if (feature.id != null && feature.id !== \"\") return String(feature.id);\n\n        const p = feature.properties;\n        if (!p) return \"__gl_row_\" + (_syntheticIdCounter++);\n\n        // 2. Propri√©t√©s d'identifiant courantes\n        if (p.id != null && p.id !== \"\") return String(p.id);\n        if (p.fid != null && p.fid !== \"\") return String(p.fid);\n        if (p.osm_id != null && p.osm_id !== \"\") return String(p.osm_id);\n        if (p.OBJECTID != null && p.OBJECTID !== \"\") return String(p.OBJECTID);\n        if (p.SITE_ID != null && p.SITE_ID !== \"\") return String(p.SITE_ID);\n        if (p.code != null && p.code !== \"\") return String(p.code);\n        if (p.IN1 != null && p.IN1 !== \"\") return String(p.IN1);\n\n        // 3. Fallback : ID synth√©tique bas√© sur un compteur\n        return \"__gl_row_\" + (_syntheticIdCounter++);\n    }\n\n    /**\n     * R√©cup√®re une valeur imbriqu√©e dans un objet\n     * @param {Object} obj - Objet source\n     * @param {string} path - Chemin avec notation point\n     * @returns {*}\n     * @private\n     */\n    function getNestedValue(obj, path) {\n        if (!obj || !path) return null;\n        return path.split('.').reduce((current, prop) =>\n            current && current[prop] !== undefined ? current[prop] : null, obj);\n    }\n\n    /**\n     * Formate une valeur selon son type\n     * @param {*} value - Valeur √† formater\n     * @param {string} type - Type de donn√©es (string, number, date)\n     * @returns {string}\n     * @private\n     */\n    function formatValue(value, type) {\n        if (value == null || value === \"\") return \"‚Äì\";\n\n        if (type === \"number\") {\n            const num = Number(value);\n            if (isNaN(num)) return String(value);\n            // Formater avec s√©parateurs de milliers\n            return num.toLocaleString(\"fr-FR\");\n        }\n\n        if (type === \"date\") {\n            const date = new Date(value);\n            if (isNaN(date.getTime())) return String(value);\n            return date.toLocaleDateString(\"fr-FR\");\n        }\n\n        return String(value);\n    }\n\n})(typeof window !== \"undefined\" ? window : global);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf Table Module\n * Affichage tabulaire des donn√©es cartographiques avec tri, recherche et s√©lection\n * Version: 1.0.0\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const Log = GeoLeaf.Log;\n\n    /**\n     * Module GeoLeaf.Table\n     * Vue tabulaire compl√©mentaire √† la carte\n     */\n    const TableModule = {\n        /**\n         * R√©f√©rence vers la carte Leaflet\n         * @type {L.Map|null}\n         */\n        _map: null,\n\n        /**\n         * Configuration du module table depuis geoleaf.config.json\n         * @type {Object|null}\n         */\n        _config: null,\n\n        /**\n         * Couche actuellement affich√©e dans le tableau\n         * @type {string|null}\n         */\n        _currentLayerId: null,\n\n        /**\n         * IDs des entit√©s s√©lectionn√©es\n         * @type {Set<string>}\n         */\n        _selectedIds: new Set(),\n\n        /**\n         * Donn√©es en cache (features filtr√©es)\n         * @type {Array}\n         */\n        _cachedData: [],\n\n        /**\n         * Mapping featureId ‚Üí index dans _cachedData (synchronis√© avec le renderer)\n         * @type {Map<string, number>}\n         */\n        _featureIdMap: new Map(),\n\n        /**\n         * Couches Leaflet de surbrillance actuellement actives\n         * @type {Array<L.Layer>}\n         */\n        _highlightLayers: [],\n\n        /**\n         * Indique si la surbrillance est activ√©e\n         * @type {boolean}\n         */\n        _highlightActive: false,\n\n        /**\n         * √âtat actuel du tri\n         * @type {Object}\n         */\n        _sortState: {\n            field: null,\n            direction: null // 'asc' | 'desc' | null\n        },\n\n        /**\n         * Conteneur DOM du tableau\n         * @type {HTMLElement|null}\n         */\n        _container: null,\n\n        /**\n         * Indique si le tableau est visible\n         * @type {boolean}\n         */\n        _isVisible: false,\n\n        /**\n         * Initialise le module Table\n         * @param {Object} options - Options d'initialisation\n         * @param {L.Map} options.map - Instance de la carte Leaflet\n         * @param {Object} [options.config] - Configuration personnalis√©e\n         */\n        init(options) {\n            if (!options || !options.map) {\n                Log.error(\"[Table] init() n√©cessite une instance de carte Leaflet\");\n                return;\n            }\n\n            this._map = options.map;\n\n            // R√©cup√©rer la config depuis GeoLeaf.Config\n            const globalConfig = GeoLeaf.Config ? GeoLeaf.Config.get(\"tableConfig\") : null;\n            this._config = Object.assign({\n                enabled: true,\n                defaultVisible: false,\n                pageSize: 50,\n                maxRowsPerLayer: 1000,\n                enableExportButton: true,\n                virtualScrolling: true,\n                defaultHeight: \"40%\",\n                minHeight: \"20%\",\n                maxHeight: \"60%\",\n                resizable: false\n            }, globalConfig, options.config);\n\n            if (!this._config.enabled) {\n                Log.info(\"[Table] Module d√©sactiv√© via configuration\");\n                return;\n            }\n\n            Log.info(\"[Table] Initialisation du module Table\", this._config);\n\n            // Cr√©er le panel si besoin\n            if (GeoLeaf._TablePanel && typeof GeoLeaf._TablePanel.create === \"function\") {\n                this._container = GeoLeaf._TablePanel.create(this._map, this._config);\n            } else {\n                Log.error(\"[Table] Module table/panel.js non charg√©\");\n                return;\n            }\n\n            // D√©finir la visibilit√© initiale\n            if (this._config.defaultVisible) {\n                this.show();\n            }\n\n            // √âcouter les √©v√©nements carte\n            this._attachMapEvents();\n\n            Log.info(\"[Table] Module Table initialis√© avec succ√®s\");\n        },\n\n        /**\n         * Attache les listeners d'√©v√©nements Leaflet\n         * @private\n         */\n        _attachMapEvents() {\n            if (!this._map) return;\n\n            // Timer pour debounce du rafra√Æchissement du s√©lecteur\n            let refreshSelectorTimer = null;\n            const debouncedRefreshSelector = () => {\n                if (refreshSelectorTimer) clearTimeout(refreshSelectorTimer);\n                refreshSelectorTimer = setTimeout(() => {\n                    if (GeoLeaf._TablePanel && typeof GeoLeaf._TablePanel.refreshLayerSelector === \"function\") {\n                        GeoLeaf._TablePanel.refreshLayerSelector();\n                    }\n                }, 150);\n            };\n\n            // Synchroniser avec les changements de filtres\n            this._map.on(\"geoleaf:filters:changed\", () => {\n                if (this._isVisible && this._currentLayerId) {\n                    this.refresh();\n                }\n            });\n\n            // Rafra√Æchir le s√©lecteur quand les couches GeoJSON sont charg√©es\n            this._map.on(\"geoleaf:geojson:layers-loaded\", () => {\n                Log.debug(\"[Table] √âv√©nement layers-loaded re√ßu, rafra√Æchissement du s√©lecteur\");\n                debouncedRefreshSelector();\n            });\n\n            // Rafra√Æchir le s√©lecteur quand un th√®me est appliqu√©\n            // (c'est √† ce moment que la visibilit√© est r√©ellement d√©finie)\n            document.addEventListener(\"geoleaf:theme:applied\", () => {\n                Log.debug(\"[Table] √âv√©nement theme:applied re√ßu, rafra√Æchissement du s√©lecteur\");\n                debouncedRefreshSelector();\n            });\n\n            // Synchroniser avec les changements de visibilit√© des couches\n            this._map.on(\"geoleaf:geojson:visibility-changed\", (e) => {\n                // Rafra√Æchir le s√©lecteur (debounced pour grouper les changements multiples)\n                debouncedRefreshSelector();\n\n                // Si la couche active est celle qui a chang√© de visibilit√©\n                if (this._currentLayerId === e.layerId) {\n                    if (e.visible) {\n                        this.refresh();\n                    } else {\n                        // La couche active a √©t√© masqu√©e : basculer sur la premi√®re couche visible\n                        // Attendre le debounce pour que le s√©lecteur soit √† jour\n                        setTimeout(() => {\n                            const available = this._getAvailableVisibleLayers();\n                            if (available.length > 0) {\n                                this.setLayer(available[0].id);\n                                const select = document.querySelector(\"[data-table-layer-select]\");\n                                if (select) select.value = available[0].id;\n                            } else {\n                                this.setLayer(\"\");\n                            }\n                        }, 200);\n                    }\n                }\n            });\n        },\n\n        /**\n         * Affiche le tableau\n         */\n        show() {\n            if (!this._container) {\n                Log.warn(\"[Table] Conteneur non initialis√©\");\n                return;\n            }\n\n            this._container.classList.add(\"is-visible\");\n            this._isVisible = true;\n\n            this._fireEvent(\"table:opened\", {});\n            Log.debug(\"[Table] Tableau affich√©\");\n        },\n\n        /**\n         * Masque le tableau\n         */\n        hide() {\n            if (!this._container) return;\n\n            // Nettoyer la surbrillance\n            this._clearHighlightLayers();\n            this._highlightActive = false;\n\n            this._container.classList.remove(\"is-visible\");\n            this._isVisible = false;\n\n            this._fireEvent(\"table:closed\", {});\n            Log.debug(\"[Table] Tableau masqu√©\");\n        },\n\n        /**\n         * Toggle la visibilit√© du tableau\n         */\n        toggle() {\n            if (this._isVisible) {\n                this.hide();\n            } else {\n                this.show();\n            }\n        },\n\n        /**\n         * D√©finit la couche √† afficher dans le tableau\n         * @param {string} layerId - ID de la couche\n         */\n        setLayer(layerId) {\n            Log.debug(\"[Table] setLayer appel√© avec:\", layerId);\n\n            // Si layerId est vide, vider le tableau\n            if (!layerId) {\n                this._currentLayerId = null;\n                this._selectedIds.clear();\n                this._clearHighlightLayers();\n                this._highlightActive = false;\n                this._featureIdMap.clear();\n                this._sortState = { field: null, direction: null };\n                this._cachedData = [];\n\n                // Vider le tableau visuellement\n                if (GeoLeaf._TableRenderer && this._container) {\n                    GeoLeaf._TableRenderer.render(this._container, {\n                        layerId: null,\n                        features: [],\n                        selectedIds: this._selectedIds,\n                        sortState: this._sortState,\n                        config: this._config\n                    });\n                }\n\n                this._fireEvent(\"table:layerChanged\", { layerId: null });\n                Log.debug(\"[Table] Tableau vid√© (aucune couche s√©lectionn√©e)\");\n                return;\n            }\n\n            const layers = this._getAvailableLayers();\n            const layer = layers.find(l => l.id === layerId);\n\n            if (!layer) {\n                Log.warn(\"[Table] Couche introuvable ou non activ√©e pour le tableau:\", layerId);\n                return;\n            }\n\n            this._currentLayerId = layerId;\n            this._selectedIds.clear();\n            this._clearHighlightLayers();\n            this._highlightActive = false;\n            this._sortState = { field: null, direction: null };\n\n            // D√©finir le tri par d√©faut depuis la config du layer\n            const layerData = GeoLeaf.GeoJSON ? GeoLeaf.GeoJSON.getLayerData(layerId) : null;\n            if (layerData && layerData.config && layerData.config.table && layerData.config.table.defaultSort) {\n                this._sortState.field = layerData.config.table.defaultSort.field;\n                this._sortState.direction = layerData.config.table.defaultSort.direction || layerData.config.table.defaultSort.order || \"asc\";\n            }\n\n            this.refresh();\n\n            this._fireEvent(\"table:layerChanged\", { layerId });\n            Log.debug(\"[Table] Couche chang√©e:\", layerId);\n        },\n\n        /**\n         * Rafra√Æchit les donn√©es affich√©es dans le tableau\n         */\n        refresh() {\n            if (!this._currentLayerId) {\n                Log.debug(\"[Table] Aucune couche s√©lectionn√©e, impossible de rafra√Æchir\");\n                return;\n            }\n\n            // R√©cup√©rer les donn√©es depuis GeoJSON\n            const features = this._getLayerFeatures(this._currentLayerId);\n            this._cachedData = features;\n\n            // Construire le mapping ID‚Üíindex (miroir de la logique du renderer)\n            this._featureIdMap.clear();\n            let syntheticCounter = 0;\n            features.forEach((feature, index) => {\n                const id = this._resolveFeatureId(feature, syntheticCounter);\n                if (id.startsWith(\"__gl_row_\")) syntheticCounter++;\n                this._featureIdMap.set(id, index);\n            });\n\n            Log.debug(\"[Table] Features r√©cup√©r√©es:\", features.length);\n\n            // Appliquer le tri si d√©fini\n            if (this._sortState.field && this._sortState.direction) {\n                this._applySorting();\n            }\n\n            // Rafra√Æchir le rendu\n            if (GeoLeaf._TableRenderer && typeof GeoLeaf._TableRenderer.render === \"function\") {\n                GeoLeaf._TableRenderer.render(this._container, {\n                    layerId: this._currentLayerId,\n                    features: this._cachedData,\n                    selectedIds: this._selectedIds,\n                    sortState: this._sortState,\n                    config: this._config\n                });\n            } else {\n                Log.error(\"[Table] Renderer non disponible\");\n            }\n\n            Log.debug(\"[Table] Donn√©es rafra√Æchies:\", features.length, \"entit√©s\");\n        },\n\n        /**\n         * R√©cup√®re les features d'une couche avec les filtres appliqu√©s\n         * @param {string} layerId - ID de la couche\n         * @returns {Array} Features\n         * @private\n         */\n        _getLayerFeatures(layerId) {\n            if (!GeoLeaf.GeoJSON || typeof GeoLeaf.GeoJSON.getLayerData !== \"function\") {\n                Log.warn(\"[Table] Module GeoJSON non disponible\");\n                return [];\n            }\n\n            const layerData = GeoLeaf.GeoJSON.getLayerData(layerId);\n\n            if (!layerData || !layerData.features) {\n                Log.warn(\"[Table] Aucune donn√©e pour la couche:\", layerId);\n                return [];\n            }\n\n            Log.debug(\"[Table] _getLayerFeatures - Nombre de features:\", layerData.features.length);\n\n            // Appliquer la limite de lignes\n            const maxRows = this._config.maxRowsPerLayer || 1000;\n            if (layerData.features.length > maxRows) {\n                Log.warn(\"[Table] Donn√©es volumineuses (\" + layerData.features.length + \" entit√©s). Limit√© √† \" + maxRows);\n                return layerData.features.slice(0, maxRows);\n            }\n\n            return layerData.features || [];\n        },\n\n        /**\n         * R√©cup√®re les couches disponibles pour le tableau (table.enabled)\n         * @returns {Array} Liste des couches avec table.enabled = true\n         * @private\n         */\n        _getAvailableLayers() {\n            if (!GeoLeaf.GeoJSON || typeof GeoLeaf.GeoJSON.getAllLayers !== \"function\") {\n                return [];\n            }\n\n            const allLayers = GeoLeaf.GeoJSON.getAllLayers();\n            const availableLayers = [];\n\n            allLayers.forEach(layer => {\n                const layerData = GeoLeaf.GeoJSON.getLayerData(layer.id);\n                if (layerData && layerData.config && layerData.config.table && layerData.config.table.enabled) {\n                    availableLayers.push({\n                        id: layer.id,\n                        label: layer.label || layer.id,\n                        config: layerData.config.table\n                    });\n                }\n            });\n\n            return availableLayers;\n        },\n\n        /**\n         * R√©cup√®re les couches disponibles ET visibles pour le tableau\n         * @returns {Array} Liste des couches avec table.enabled = true et visibles sur la carte\n         * @private\n         */\n        _getAvailableVisibleLayers() {\n            const available = this._getAvailableLayers();\n            const VisibilityManager = GeoLeaf._LayerVisibilityManager;\n\n            return available.filter(layer => {\n                if (VisibilityManager && typeof VisibilityManager.getVisibilityState === \"function\") {\n                    const visState = VisibilityManager.getVisibilityState(layer.id);\n                    return visState && visState.current === true;\n                }\n                // Fallback : v√©rifier via layerData\n                const layerData = GeoLeaf.GeoJSON.getLayerData(layer.id);\n                return layerData && layerData._visibility && layerData._visibility.current === true;\n            });\n        },\n\n        /**\n         * Applique le tri sur les donn√©es en cache\n         * @private\n         */\n        _applySorting() {\n            if (!this._sortState.field || !this._sortState.direction) return;\n\n            const field = this._sortState.field;\n            const direction = this._sortState.direction;\n\n            this._cachedData.sort((a, b) => {\n                const valA = this._getNestedValue(a, field);\n                const valB = this._getNestedValue(b, field);\n\n                // Gestion des valeurs nulles\n                if (valA == null && valB == null) return 0;\n                if (valA == null) return direction === \"asc\" ? 1 : -1;\n                if (valB == null) return direction === \"asc\" ? -1 : 1;\n\n                // Comparaison\n                let result = 0;\n                if (typeof valA === \"number\" && typeof valB === \"number\") {\n                    result = valA - valB;\n                } else {\n                    result = String(valA).localeCompare(String(valB));\n                }\n\n                return direction === \"asc\" ? result : -result;\n            });\n\n            Log.debug(\"[Table] Tri appliqu√©:\", field, direction);\n        },\n\n        /**\n         * Change le tri sur une colonne\n         * @param {string} field - Chemin du champ\n         */\n        sortByField(field) {\n            if (this._sortState.field === field) {\n                // Cycle : asc ‚Üí desc ‚Üí null\n                if (this._sortState.direction === \"asc\") {\n                    this._sortState.direction = \"desc\";\n                } else if (this._sortState.direction === \"desc\") {\n                    this._sortState.field = null;\n                    this._sortState.direction = null;\n                } else {\n                    this._sortState.direction = \"asc\";\n                }\n            } else {\n                this._sortState.field = field;\n                this._sortState.direction = \"asc\";\n            }\n\n            this.refresh();\n            this._fireEvent(\"table:sortChanged\", this._sortState);\n        },\n\n        /**\n         * S√©lectionne ou d√©s√©lectionne des entit√©s\n         * @param {Array<string>} ids - IDs √† s√©lectionner\n         * @param {boolean} [add=false] - Ajouter √† la s√©lection existante ou remplacer\n         */\n        setSelection(ids, add = false) {\n            if (!add) {\n                this._selectedIds.clear();\n            }\n\n            ids.forEach(id => this._selectedIds.add(String(id)));\n\n            this._fireEvent(\"table:selectionChanged\", {\n                layerId: this._currentLayerId,\n                selectedIds: Array.from(this._selectedIds)\n            });\n\n            // Rafra√Æchir le rendu pour mettre √† jour les cases coch√©es\n            if (GeoLeaf._TableRenderer && typeof GeoLeaf._TableRenderer.updateSelection === \"function\") {\n                GeoLeaf._TableRenderer.updateSelection(this._container, this._selectedIds);\n            }\n\n            Log.debug(\"[Table] S√©lection mise √† jour:\", this._selectedIds.size, \"entit√©s\");\n        },\n\n        /**\n         * Retourne les IDs des entit√©s s√©lectionn√©es\n         * @returns {Array<string>}\n         */\n        getSelectedIds() {\n            return Array.from(this._selectedIds);\n        },\n\n        /**\n         * Efface la s√©lection\n         */\n        clearSelection() {\n            this._selectedIds.clear();\n            this._fireEvent(\"table:selectionChanged\", {\n                layerId: this._currentLayerId,\n                selectedIds: []\n            });\n\n            if (GeoLeaf._TableRenderer && typeof GeoLeaf._TableRenderer.updateSelection === \"function\") {\n                GeoLeaf._TableRenderer.updateSelection(this._container, this._selectedIds);\n            }\n\n            Log.debug(\"[Table] S√©lection effac√©e\");\n        },\n\n        /**\n         * Zoom sur les entit√©s s√©lectionn√©es\n         */\n        zoomToSelection() {\n            if (this._selectedIds.size === 0) {\n                Log.warn(\"[Table] Aucune entit√© s√©lectionn√©e pour le zoom\");\n                return;\n            }\n\n            const selectedFeatures = this._getSelectedFeatures();\n            if (selectedFeatures.length === 0) {\n                Log.warn(\"[Table] Aucune feature trouv√©e pour les IDs s√©lectionn√©s\");\n                return;\n            }\n\n            const bounds = L.latLngBounds([]);\n\n            selectedFeatures.forEach(feature => {\n                if (feature.geometry && feature.geometry.coordinates) {\n                    this._extendBoundsFromGeometry(bounds, feature.geometry);\n                }\n            });\n\n            if (bounds.isValid()) {\n                this._map.fitBounds(bounds, { padding: [50, 50], maxZoom: 16 });\n                this._fireEvent(\"table:zoomToSelection\", {\n                    layerId: this._currentLayerId,\n                    selectedIds: Array.from(this._selectedIds)\n                });\n                Log.debug(\"[Table] Zoom sur la s√©lection (\", selectedFeatures.length, \"entit√©s)\");\n            } else {\n                Log.warn(\"[Table] Bounds invalides pour la s√©lection\");\n            }\n        },\n\n        /**\n         * Active/d√©sactive la surbrillance des entit√©s s√©lectionn√©es sur la carte\n         * @param {boolean} active - Activer ou non\n         */\n        highlightSelection(active) {\n            // Toujours nettoyer les anciennes surbrillances\n            this._clearHighlightLayers();\n\n            this._highlightActive = active;\n\n            if (!active) {\n                Log.debug(\"[Table] Surbrillance d√©sactiv√©e\");\n                this._fireEvent(\"table:highlightSelection\", {\n                    layerId: this._currentLayerId,\n                    selectedIds: Array.from(this._selectedIds),\n                    active: false\n                });\n                return;\n            }\n\n            if (this._selectedIds.size === 0) {\n                Log.warn(\"[Table] Aucune entit√© s√©lectionn√©e pour la surbrillance\");\n                return;\n            }\n\n            const selectedFeatures = this._getSelectedFeatures();\n            if (selectedFeatures.length === 0) {\n                Log.warn(\"[Table] Aucune feature trouv√©e pour la surbrillance\");\n                return;\n            }\n\n            // Style de surbrillance (contour jaune √©pais)\n            const highlightStyle = {\n                color: \"#FFD600\",\n                weight: 4,\n                opacity: 1,\n                fillOpacity: 0.15,\n                fillColor: \"#FFD600\",\n                dashArray: \"\",\n                interactive: false\n            };\n\n            selectedFeatures.forEach(feature => {\n                try {\n                    if (feature.geometry) {\n                        const geomType = feature.geometry.type;\n                        if (geomType === \"Point\") {\n                            // Pour les points, cr√©er un cercle de surbrillance\n                            const coords = feature.geometry.coordinates;\n                            const circle = L.circleMarker(\n                                [coords[1], coords[0]],\n                                {\n                                    radius: 14,\n                                    color: \"#FFD600\",\n                                    weight: 4,\n                                    opacity: 1,\n                                    fillOpacity: 0.25,\n                                    fillColor: \"#FFD600\",\n                                    interactive: false\n                                }\n                            );\n                            circle.addTo(this._map);\n                            this._highlightLayers.push(circle);\n                        } else {\n                            // Pour les polygones/polylines, superposer le contour\n                            const highlightLayer = L.geoJSON(feature, {\n                                style: function() { return highlightStyle; },\n                                interactive: false,\n                                pointToLayer: function(f, latlng) {\n                                    return L.circleMarker(latlng, highlightStyle);\n                                }\n                            });\n                            highlightLayer.addTo(this._map);\n                            this._highlightLayers.push(highlightLayer);\n                        }\n                    }\n                } catch (e) {\n                    Log.warn(\"[Table] Erreur surbrillance feature:\", e);\n                }\n            });\n\n            this._fireEvent(\"table:highlightSelection\", {\n                layerId: this._currentLayerId,\n                selectedIds: Array.from(this._selectedIds),\n                active: true\n            });\n\n            Log.debug(\"[Table] Surbrillance activ√©e pour\", selectedFeatures.length, \"entit√©s\");\n        },\n\n        /**\n         * Supprime toutes les couches de surbrillance de la carte\n         * @private\n         */\n        _clearHighlightLayers() {\n            this._highlightLayers.forEach(layer => {\n                try {\n                    if (this._map && this._map.hasLayer(layer)) {\n                        this._map.removeLayer(layer);\n                    }\n                } catch (e) {\n                    // Silencieux\n                }\n            });\n            this._highlightLayers = [];\n        },\n\n        /**\n         * Exporte les entit√©s s√©lectionn√©es au format GeoJSON (t√©l√©chargement)\n         */\n        exportSelection() {\n            if (this._selectedIds.size === 0) {\n                Log.warn(\"[Table] Aucune entit√© s√©lectionn√©e pour l'export\");\n                return;\n            }\n\n            const selectedFeatures = this._getSelectedFeatures();\n\n            if (selectedFeatures.length === 0) {\n                Log.warn(\"[Table] Aucune feature trouv√©e pour l'export\");\n                return;\n            }\n\n            // Construire le GeoJSON FeatureCollection\n            const geojson = {\n                type: \"FeatureCollection\",\n                features: selectedFeatures.map(f => ({\n                    type: \"Feature\",\n                    properties: f.properties || {},\n                    geometry: f.geometry || null\n                }))\n            };\n\n            // T√©l√©charger le fichier\n            try {\n                const json = JSON.stringify(geojson, null, 2);\n                const blob = new Blob([json], { type: \"application/geo+json\" });\n                const url = URL.createObjectURL(blob);\n                const a = document.createElement(\"a\");\n                a.href = url;\n                a.download = (this._currentLayerId || \"export\") + \"_selection.geojson\";\n                document.body.appendChild(a);\n                a.click();\n                document.body.removeChild(a);\n                URL.revokeObjectURL(url);\n\n                Log.info(\"[Table] Export GeoJSON:\", selectedFeatures.length, \"entit√©s export√©es\");\n            } catch (e) {\n                Log.error(\"[Table] Erreur lors de l'export:\", e);\n            }\n\n            this._fireEvent(\"table:exportSelection\", {\n                layerId: this._currentLayerId,\n                selectedIds: Array.from(this._selectedIds),\n                rows: selectedFeatures\n            });\n        },\n\n        /**\n         * R√©cup√®re les features s√©lectionn√©es √† partir du cache via le mapping d'IDs\n         * @returns {Array} Features GeoJSON correspondant √† la s√©lection\n         * @private\n         */\n        _getSelectedFeatures() {\n            const result = [];\n            this._selectedIds.forEach(id => {\n                const index = this._featureIdMap.get(id);\n                if (index != null && this._cachedData[index]) {\n                    result.push(this._cachedData[index]);\n                }\n            });\n            return result;\n        },\n\n        /**\n         * R√©sout l'ID d'une feature en miroir de la logique du renderer\n         * @param {Object} feature - Feature GeoJSON\n         * @param {number} syntheticIndex - Index pour les IDs synth√©tiques\n         * @returns {string}\n         * @private\n         */\n        _resolveFeatureId(feature, syntheticIndex) {\n            // 1. ID standard GeoJSON\n            if (feature.id != null && feature.id !== \"\") return String(feature.id);\n\n            const p = feature.properties;\n            if (!p) return \"__gl_row_\" + syntheticIndex;\n\n            // 2. Propri√©t√©s d'identifiant courantes (miroir exact du renderer)\n            if (p.id != null && p.id !== \"\") return String(p.id);\n            if (p.fid != null && p.fid !== \"\") return String(p.fid);\n            if (p.osm_id != null && p.osm_id !== \"\") return String(p.osm_id);\n            if (p.OBJECTID != null && p.OBJECTID !== \"\") return String(p.OBJECTID);\n            if (p.SITE_ID != null && p.SITE_ID !== \"\") return String(p.SITE_ID);\n            if (p.code != null && p.code !== \"\") return String(p.code);\n            if (p.IN1 != null && p.IN1 !== \"\") return String(p.IN1);\n\n            // 3. Fallback : ID synth√©tique (miroir du renderer)\n            return \"__gl_row_\" + syntheticIndex;\n        },\n\n        /**\n         * √âtend les bounds √† partir d'une g√©om√©trie GeoJSON\n         * @param {L.LatLngBounds} bounds - Bounds √† √©tendre\n         * @param {Object} geometry - G√©om√©trie GeoJSON\n         * @private\n         */\n        _extendBoundsFromGeometry(bounds, geometry) {\n            const coords = geometry.coordinates;\n            const type = geometry.type;\n\n            if (type === \"Point\") {\n                bounds.extend([coords[1], coords[0]]);\n            } else if (type === \"LineString\") {\n                coords.forEach(c => bounds.extend([c[1], c[0]]));\n            } else if (type === \"MultiLineString\") {\n                coords.forEach(line => line.forEach(c => bounds.extend([c[1], c[0]])));\n            } else if (type === \"Polygon\") {\n                coords[0].forEach(c => bounds.extend([c[1], c[0]]));\n            } else if (type === \"MultiPolygon\") {\n                coords.forEach(poly => {\n                    poly[0].forEach(c => bounds.extend([c[1], c[0]]));\n                });\n            } else if (type === \"MultiPoint\") {\n                coords.forEach(c => bounds.extend([c[1], c[0]]));\n            }\n        },\n\n        /**\n         * R√©cup√®re une valeur imbriqu√©e dans un objet\n         * @param {Object} obj - Objet source\n         * @param {string} path - Chemin avec notation point\n         * @returns {*}\n         * @private\n         */\n        _getNestedValue(obj, path) {\n            if (!obj || !path) return null;\n            return path.split('.').reduce((current, prop) =>\n                current && current[prop] !== undefined ? current[prop] : null, obj);\n        },\n\n        /**\n         * √âmet un √©v√©nement personnalis√©\n         * @param {string} eventName - Nom de l'√©v√©nement\n         * @param {Object} detail - Donn√©es de l'√©v√©nement\n         * @private\n         */\n        _fireEvent(eventName, detail) {\n            if (this._map && typeof this._map.fire === \"function\") {\n                this._map.fire(\"geoleaf:\" + eventName, detail);\n            }\n\n            if (typeof document !== \"undefined\" && document.dispatchEvent) {\n                document.dispatchEvent(new CustomEvent(\"geoleaf:\" + eventName, { detail }));\n            }\n        }\n    };\n\n    // Exposer le module\n    GeoLeaf.Table = TableModule;\n\n})(typeof window !== \"undefined\" ? window : global);\n","/**\r\n * API Module Manager - Sprint 4.3 (Version Robuste)\r\n * Gestionnaire centralis√© d'acc√®s aux modules GeoLeaf\r\n * @module APIModuleManager\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    const Log = GeoLeaf.Log || console;\r\n\r\n    /**\r\n     * Gestionnaire d'acc√®s aux modules GeoLeaf\r\n     */\r\n    class APIModuleManager {\r\n        constructor() {\r\n            this.modules = new Map();\r\n            this.aliases = new Map();\r\n            this.isInitialized = false;\r\n            this.stats = {\r\n                totalModules: 0,\r\n                accessCount: 0,\r\n                errors: 0\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Initialise le gestionnaire avec les modules existants\r\n         * @returns {boolean} Succ√®s de l'initialisation\r\n         */\r\n        init() {\r\n            try {\r\n                if (this.isInitialized) {\r\n                    if (Log) Log.debug('[APIModuleManager] Already initialized');\r\n                    return true;\r\n                }\r\n\r\n                if (Log) Log.info('[APIModuleManager] Initializing module manager');\r\n\r\n                // Scanner tous les modules disponibles dans le namespace GeoLeaf\r\n                this._scanExistingModules();\r\n\r\n                // Configurer les alias pour compatibilit√©\r\n                this._setupAliases();\r\n\r\n                this.isInitialized = true;\r\n\r\n                if (Log) Log.info(`[APIModuleManager] Initialized with ${this.stats.totalModules} modules`);\r\n                return true;\r\n\r\n            } catch (error) {\r\n                this.stats.errors++;\r\n                if (Log) Log.error('[APIModuleManager] Initialization failed:', error);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Scanner les modules existants dans GeoLeaf\r\n         * @private\r\n         */\r\n        _scanExistingModules() {\r\n            if (!global.GeoLeaf) return;\r\n\r\n            const moduleList = [\r\n                'Core', 'UI', 'Config', 'Baselayers', 'BaseLayers',\r\n                'POI', 'GeoJSON', 'Route', 'Legend', 'LayerManager',\r\n                'Storage', 'Filters', 'Log', 'Security', 'Utils',\r\n                'Constants', 'Validators', 'Errors'\r\n            ];\r\n\r\n            moduleList.forEach(name => {\r\n                if (global.GeoLeaf[name]) {\r\n                    this.modules.set(name, global.GeoLeaf[name]);\r\n                    this.stats.totalModules++;\r\n                }\r\n            });\r\n\r\n            // Scanner les modules priv√©s (pr√©fixe _)\r\n            Object.keys(global.GeoLeaf).forEach(key => {\r\n                if (key.startsWith('_') && !this.modules.has(key)) {\r\n                    this.modules.set(key, global.GeoLeaf[key]);\r\n                    this.stats.totalModules++;\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Configure les alias pour compatibilit√©\r\n         * @private\r\n         */\r\n        _setupAliases() {\r\n            const aliases = {\r\n                'Baselayers': 'BaseLayers',\r\n                'BaseLayers': 'Baselayers',\r\n                'Logger': 'Log',\r\n                'Log': 'Logger'\r\n            };\r\n\r\n            Object.entries(aliases).forEach(([alias, target]) => {\r\n                if (this.modules.has(target)) {\r\n                    this.aliases.set(alias, target);\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Obtient un module par nom\r\n         * @param {string} name - Nom du module\r\n         * @returns {*} Module ou null si non trouv√©\r\n         */\r\n        getModule(name) {\r\n            try {\r\n                this.stats.accessCount++;\r\n\r\n                if (!name || typeof name !== 'string') {\r\n                    if (Log) Log.warn(`[APIModuleManager] Invalid module name:`, name);\r\n                    this.stats.errors++;\r\n                    return null;\r\n                }\r\n\r\n                // Recherche directe\r\n                if (this.modules.has(name)) {\r\n                    return this.modules.get(name);\r\n                }\r\n\r\n                // Recherche par alias\r\n                if (this.aliases.has(name)) {\r\n                    const targetName = this.aliases.get(name);\r\n                    return this.modules.get(targetName);\r\n                }\r\n\r\n                // Fallback vers acc√®s global direct\r\n                if (global.GeoLeaf && global.GeoLeaf[name]) {\r\n                    // Ajouter √† notre cache pour les prochains acc√®s\r\n                    this.modules.set(name, global.GeoLeaf[name]);\r\n                    this.stats.totalModules++;\r\n                    return global.GeoLeaf[name];\r\n                }\r\n\r\n                // Module non trouv√©\r\n                if (Log) Log.debug(`[APIModuleManager] Module '${name}' not found`);\r\n                return null;\r\n\r\n            } catch (error) {\r\n                this.stats.errors++;\r\n                if (Log) Log.error(`[APIModuleManager] Error accessing module '${name}':`, error);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Enregistre manuellement un module\r\n         * @param {string} name - Nom du module\r\n         * @param {*} module - Instance du module\r\n         */\r\n        registerModule(name, module) {\r\n            try {\r\n                if (!name || typeof name !== 'string') {\r\n                    throw new Error('Module name must be a non-empty string');\r\n                }\r\n\r\n                if (!module) {\r\n                    throw new Error('Module cannot be null or undefined');\r\n                }\r\n\r\n                this.modules.set(name, module);\r\n                this.stats.totalModules++;\r\n\r\n                if (Log) Log.debug(`[APIModuleManager] Module '${name}' registered`);\r\n                return true;\r\n\r\n            } catch (error) {\r\n                this.stats.errors++;\r\n                if (Log) Log.error(`[APIModuleManager] Failed to register module '${name}':`, error);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * V√©rifie si un module existe\r\n         * @param {string} name - Nom du module\r\n         * @returns {boolean}\r\n         */\r\n        hasModule(name) {\r\n            try {\r\n                return this.modules.has(name) ||\r\n                       this.aliases.has(name) ||\r\n                       !!(global.GeoLeaf && global.GeoLeaf[name]);\r\n            } catch (error) {\r\n                if (Log) Log.error(`[APIModuleManager] Error checking module '${name}':`, error);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Obtient la liste des modules disponibles\r\n         * @returns {Array<string>}\r\n         */\r\n        getModuleList() {\r\n            const moduleNames = Array.from(this.modules.keys());\r\n\r\n            // Ajouter les modules du namespace global non encore dans notre cache\r\n            if (global.GeoLeaf) {\r\n                Object.keys(global.GeoLeaf).forEach(key => {\r\n                    if (!moduleNames.includes(key)) {\r\n                        moduleNames.push(key);\r\n                    }\r\n                });\r\n            }\r\n\r\n            return moduleNames.sort();\r\n        }\r\n\r\n        /**\r\n         * Obtient les statistiques d'usage\r\n         * @returns {Object}\r\n         */\r\n        getStats() {\r\n            return {\r\n                ...this.stats,\r\n                cachedModules: this.modules.size,\r\n                aliases: this.aliases.size,\r\n                isInitialized: this.isInitialized\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Rafra√Æchit le cache des modules\r\n         */\r\n        refresh() {\r\n            if (Log) Log.info('[APIModuleManager] Refreshing module cache');\r\n\r\n            this.modules.clear();\r\n            this.aliases.clear();\r\n            this.stats.totalModules = 0;\r\n\r\n            this._scanExistingModules();\r\n            this._setupAliases();\r\n        }\r\n\r\n        /**\r\n         * R√©initialise le gestionnaire\r\n         */\r\n        reset() {\r\n            this.modules.clear();\r\n            this.aliases.clear();\r\n            this.isInitialized = false;\r\n            this.stats = {\r\n                totalModules: 0,\r\n                accessCount: 0,\r\n                errors: 0\r\n            };\r\n\r\n            if (Log) Log.info('[APIModuleManager] Manager reset');\r\n        }\r\n    }\r\n\r\n    // Export vers le namespace GeoLeaf\r\n    GeoLeaf.API = GeoLeaf.API || {};\r\n    GeoLeaf.API.APIModuleManager = APIModuleManager; // Nom correct pour controller\r\n    GeoLeaf.API.ModuleManager = APIModuleManager; // Alias pour compatibilit√©\r\n\r\n    if (Log) Log.info('[APIModuleManager] Module manager loaded (Sprint 4.3 - Robust)');\r\n\r\n})(window);\r\n","/**\r\n * API Initialization Manager - Sprint 4.3 (Version Robuste)\r\n * Gestionnaire des op√©rations d'initialisation GeoLeaf\r\n * @module APIInitializationManager\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    const Log = GeoLeaf.Log || console;\r\n\r\n    /**\r\n     * Gestionnaire d'initialisation pour GeoLeaf\r\n     */\r\n    class APIInitializationManager {\r\n        constructor() {\r\n            this.isReady = true; // Manager pr√™t sans init s√©par√©e\r\n            this.pendingPromise = null;\r\n            this.cancelled = false;\r\n            this.stats = {\r\n                initCalls: 0,\r\n                configLoads: 0,\r\n                errors: 0\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Initialise GeoLeaf avec les options fournies\r\n         * @param {Object} options - Options d'initialisation\r\n         * @param {Function} getModule - Fonction d'acc√®s aux modules\r\n         * @returns {*} R√©sultat de l'initialisation\r\n         */\r\n        init(options, getModule) {\r\n            try {\r\n                this.stats.initCalls++;\r\n\r\n                if (Log) Log.info('[APIInitializationManager] Initializing GeoLeaf');\r\n\r\n                // Validation des param√®tres\r\n                const validationResult = this._validateInitParams(options, getModule);\r\n                if (!validationResult.valid) {\r\n                    throw new Error(validationResult.error);\r\n                }\r\n\r\n                // Obtenir le module Core\r\n                const Core = getModule(\"Core\");\r\n                if (!Core || typeof Core.init !== \"function\") {\r\n                    throw new Error(\"[GeoLeaf.init] GeoLeaf.Core.init() is not available. Core module must be loaded before API.\");\r\n                }\r\n\r\n                // Normaliser les options\r\n                const normalizedOptions = this._normalizeInitOptions(options);\r\n                if (Log) Log.info('[APIInitializationManager] Initializing with options:', normalizedOptions);\r\n\r\n                // Appeler l'initialisation du Core\r\n                const result = Core.init(normalizedOptions);\r\n\r\n                if (Log) Log.info('[APIInitializationManager] Initialization completed successfully');\r\n                return result;\r\n\r\n            } catch (error) {\r\n                this.stats.errors++;\r\n                if (Log) Log.error('[APIInitializationManager] Initialization failed:', error);\r\n                throw error;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Charge une configuration depuis URL ou donn√©es\r\n         * @param {string|Object} input - Source de configuration\r\n         * @param {Function} getModule - Fonction d'acc√®s aux modules\r\n         * @returns {Promise<Object>} Donn√©es de configuration\r\n         */\r\n        async loadConfig(input, getModule) {\r\n            try {\r\n                this.stats.configLoads++;\r\n\r\n                if (Log) Log.info('[APIInitializationManager] Loading configuration');\r\n\r\n                // Validation des param√®tres\r\n                if (!input) {\r\n                    throw new Error('Configuration input is required');\r\n                }\r\n\r\n                if (!getModule || typeof getModule !== 'function') {\r\n                    throw new Error('getModule function is required');\r\n                }\r\n\r\n                // Obtenir le module Config\r\n                const Config = getModule(\"Config\");\r\n                if (!Config || typeof Config.init !== \"function\") {\r\n                    throw new Error(\"[GeoLeaf.loadConfig] GeoLeaf.Config.init() is not available. Config module must be loaded.\");\r\n                }\r\n\r\n                // Normaliser les options de configuration\r\n                const options = this._normalizeConfigOptions(input);\r\n\r\n                // Annuler la requ√™te pr√©c√©dente si elle existe\r\n                if (this.pendingPromise) {\r\n                    this.cancelled = true;\r\n                    if (Log) Log.info('[APIInitializationManager] Cancelling previous config load request');\r\n                }\r\n\r\n                this.cancelled = false;\r\n\r\n                // Charger la configuration\r\n                this.pendingPromise = Config.init(options);\r\n                const result = await this.pendingPromise;\r\n\r\n                this.pendingPromise = null;\r\n\r\n                if (this.cancelled) {\r\n                    if (Log) Log.info('[APIInitializationManager] Config load was cancelled');\r\n                    return null;\r\n                }\r\n\r\n                if (Log) Log.info('[APIInitializationManager] Configuration loaded successfully');\r\n                return result;\r\n\r\n            } catch (error) {\r\n                this.stats.errors++;\r\n                this.pendingPromise = null;\r\n                if (Log) Log.error('[APIInitializationManager] Config loading failed:', error);\r\n                throw error;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Change le th√®me de l'interface\r\n         * @param {string} theme - Nom du th√®me\r\n         * @param {Function} getModule - Fonction d'acc√®s aux modules\r\n         * @returns {boolean} Succ√®s du changement\r\n         */\r\n        setTheme(theme, getModule) {\r\n            try {\r\n                if (Log) Log.info(`[APIInitializationManager] Setting theme: ${theme}`);\r\n\r\n                // Validation\r\n                if (!theme || typeof theme !== 'string') {\r\n                    throw new Error('Theme name must be a non-empty string');\r\n                }\r\n\r\n                if (!getModule || typeof getModule !== 'function') {\r\n                    throw new Error('getModule function is required');\r\n                }\r\n\r\n                // Obtenir le module UI\r\n                const UI = getModule(\"UI\");\r\n                if (!UI) {\r\n                    throw new Error(\"[GeoLeaf.setTheme] GeoLeaf.UI is not available. UI module must be loaded.\");\r\n                }\r\n\r\n                // Appliquer le th√®me - utilise applyTheme comme dans geoleaf.ui.js\r\n                let result = false;\r\n                if (typeof UI.applyTheme === 'function') {\r\n                    result = UI.applyTheme(theme);\r\n                } else if (typeof UI.setTheme === 'function') {\r\n                    result = UI.setTheme(theme);\r\n                } else if (typeof UI.theme === 'function') {\r\n                    result = UI.theme(theme);\r\n                } else {\r\n                    throw new Error('UI module does not provide applyTheme, setTheme or theme method');\r\n                }\r\n\r\n                if (Log) Log.info(`[APIInitializationManager] Theme '${theme}' applied successfully`);\r\n                return result;\r\n\r\n            } catch (error) {\r\n                this.stats.errors++;\r\n                if (Log) Log.error(`[APIInitializationManager] Failed to set theme '${theme}':`, error);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Valide les param√®tres d'initialisation\r\n         * @private\r\n         */\r\n        _validateInitParams(options, getModule) {\r\n            if (!options || typeof options !== \"object\") {\r\n                return { valid: false, error: \"[GeoLeaf.init] An options object is required.\" };\r\n            }\r\n\r\n            if (!getModule || typeof getModule !== 'function') {\r\n                return { valid: false, error: \"getModule function is required\" };\r\n            }\r\n\r\n            return { valid: true };\r\n        }\r\n\r\n        /**\r\n         * Normalise les options d'initialisation\r\n         * @private\r\n         */\r\n        _normalizeInitOptions(options) {\r\n            // Mode \"structur√©\" (recommand√©) : options.map / options.ui\r\n            let mapOpts = options.map || {};\r\n            let uiOpts = options.ui || {};\r\n\r\n            // Mode \"aplati\" (legacy) : target/mapId / center / zoom / theme √† la racine\r\n            if (!options.map) {\r\n                mapOpts = {\r\n                    target: options.target || options.mapId,\r\n                    center: options.center,\r\n                    zoom: options.zoom\r\n                };\r\n                uiOpts = {\r\n                    theme: options.theme\r\n                };\r\n            }\r\n\r\n            // Validation du target\r\n            const target = mapOpts.target || mapOpts.mapId;\r\n            if (!target) {\r\n                throw new Error(\"[GeoLeaf.init] The 'map.target' (or 'target'/'mapId') option is required.\");\r\n            }\r\n\r\n            // R√©cup√©rer les constantes par d√©faut\r\n            const CONSTANTS = global.GeoLeaf.CONSTANTS || {};\r\n            const center = Array.isArray(mapOpts.center) ? mapOpts.center : CONSTANTS.DEFAULT_CENTER || [0, 0];\r\n            const zoom = Number.isFinite(mapOpts.zoom) ? mapOpts.zoom : CONSTANTS.DEFAULT_ZOOM || 12;\r\n            const theme = uiOpts.theme || mapOpts.theme || \"light\";\r\n\r\n            // Adapter √† la signature Core.init\r\n            return {\r\n                mapId: String(target), // Core.init attend 'mapId' pas 'target'\r\n                center,\r\n                zoom,\r\n                theme\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Normalise les options de configuration\r\n         * @private\r\n         */\r\n        _normalizeConfigOptions(input) {\r\n            if (typeof input === 'string') {\r\n                // URL string\r\n                return {\r\n                    source: 'url',\r\n                    url: input,\r\n                    autoEvent: true\r\n                };\r\n            } else if (input && typeof input === 'object') {\r\n                // Configuration object\r\n                return {\r\n                    source: input.url ? 'url' : 'data',\r\n                    url: input.url,\r\n                    data: input.data,\r\n                    profileId: input.profileId,\r\n                    autoEvent: input.autoEvent !== false, // true par d√©faut\r\n                    ...input\r\n                };\r\n            } else {\r\n                throw new Error('Configuration input must be a URL string or options object');\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Obtient les statistiques du manager\r\n         * @returns {Object}\r\n         */\r\n        getStats() {\r\n            return {\r\n                ...this.stats,\r\n                isReady: this.isReady,\r\n                hasPendingRequest: !!this.pendingPromise\r\n            };\r\n        }\r\n\r\n        /**\r\n         * R√©initialise le manager\r\n         */\r\n        reset() {\r\n            if (this.pendingPromise) {\r\n                this.cancelled = true;\r\n            }\r\n\r\n            this.pendingPromise = null;\r\n            this.cancelled = false;\r\n            this.stats = {\r\n                initCalls: 0,\r\n                configLoads: 0,\r\n                errors: 0\r\n            };\r\n\r\n            if (Log) Log.info('[APIInitializationManager] Manager reset');\r\n        }\r\n    }\r\n\r\n    // Export vers le namespace GeoLeaf\r\n    GeoLeaf.API = GeoLeaf.API || {};\r\n    GeoLeaf.API.APIInitializationManager = APIInitializationManager; // Nom correct pour controller\r\n    GeoLeaf.API.InitializationManager = APIInitializationManager; // Alias pour compatibilit√©\r\n\r\n    if (Log) Log.info('[APIInitializationManager] Initialization manager loaded (Sprint 4.3 - Robust)');\r\n\r\n})(window);\r\n","/**\r\n * API Namespace Manager - Sprint 4.3 (Version Robuste)\r\n * Gestionnaire des op√©rations sur les namespaces GeoLeaf\r\n * @module APINamespaceManager\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    const Log = GeoLeaf.Log || console;\r\n\r\n    /**\r\n     * Gestionnaire des namespaces GeoLeaf\r\n     */\r\n    class APINamespaceManager {\r\n        constructor() {\r\n            this.isReady = true;\r\n            this.stats = {\r\n                operations: 0,\r\n                errors: 0\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Initialise le gestionnaire avec la fonction d'acc√®s aux modules\r\n         * @param {Function} getModule - Fonction d'acc√®s aux modules\r\n         * @returns {boolean} Succ√®s\r\n         */\r\n        init(getModule) {\r\n            try {\r\n                if (!getModule || typeof getModule !== 'function') {\r\n                    throw new Error('getModule function is required');\r\n                }\r\n\r\n                this.getModule = getModule;\r\n\r\n                if (Log) Log.info('[APINamespaceManager] Namespace manager initialized');\r\n                return true;\r\n\r\n            } catch (error) {\r\n                this.stats.errors++;\r\n                if (Log) Log.error('[APINamespaceManager] Initialization failed:', error);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Obtient les statistiques\r\n         */\r\n        getStats() {\r\n            return {\r\n                ...this.stats,\r\n                isReady: this.isReady\r\n            };\r\n        }\r\n\r\n        /**\r\n         * R√©initialise le gestionnaire\r\n         */\r\n        reset() {\r\n            this.getModule = null;\r\n            this.stats = {\r\n                operations: 0,\r\n                errors: 0\r\n            };\r\n\r\n            if (Log) Log.info('[APINamespaceManager] Manager reset');\r\n        }\r\n    }\r\n\r\n    // Export vers le namespace GeoLeaf\r\n    GeoLeaf.API = GeoLeaf.API || {};\r\n    GeoLeaf.API.APINamespaceManager = APINamespaceManager; // Nom correct pour controller\r\n    GeoLeaf.API.NamespaceManager = APINamespaceManager; // Alias pour compatibilit√©\r\n\r\n    if (Log) Log.info('[APINamespaceManager] Namespace manager loaded (Sprint 4.3 - Robust)');\r\n\r\n})(window);\r\n","/**\r\n * API Factory Manager - Sprint 4.3 (Version Robuste)\r\n * Gestionnaire pour la cr√©ation d'instances multi-cartes\r\n * @module APIFactoryManager\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    const Log = GeoLeaf.Log || console;\r\n\r\n    /**\r\n     * Gestionnaire de factory pour multi-cartes\r\n     */\r\n    class APIFactoryManager {\r\n        constructor() {\r\n            this.isReady = true;\r\n            this.mapInstances = new Map();\r\n            this.stats = {\r\n                mapsCreated: 0,\r\n                errors: 0\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Initialise le gestionnaire avec la fonction d'acc√®s aux modules\r\n         * @param {Function} getModule - Fonction d'acc√®s aux modules\r\n         * @returns {boolean} Succ√®s\r\n         */\r\n        init(getModule) {\r\n            try {\r\n                if (!getModule || typeof getModule !== 'function') {\r\n                    throw new Error('getModule function is required');\r\n                }\r\n\r\n                this.getModule = getModule;\r\n\r\n                if (Log) Log.info('[APIFactoryManager] Factory manager initialized');\r\n                return true;\r\n\r\n            } catch (error) {\r\n                this.stats.errors++;\r\n                if (Log) Log.error('[APIFactoryManager] Initialization failed:', error);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Cr√©e une nouvelle instance de carte\r\n         * @param {string} targetId - ID de l'√©l√©ment cible\r\n         * @param {Object} options - Options de configuration\r\n         * @param {Function} getModule - Fonction d'acc√®s aux modules\r\n         * @returns {*} Instance de carte ou null\r\n         */\r\n        createMap(targetId, options, getModule) {\r\n            try {\r\n                this.stats.mapsCreated++;\r\n\r\n                if (!targetId) {\r\n                    throw new Error('Target ID is required');\r\n                }\r\n\r\n                const Core = getModule('Core');\r\n                if (!Core || typeof Core.init !== 'function') {\r\n                    throw new Error('Core module not available for map creation');\r\n                }\r\n\r\n                // Cr√©er la carte avec les options fournies\r\n                const mapOptions = {\r\n                    target: targetId,\r\n                    ...options\r\n                };\r\n\r\n                const mapInstance = Core.init(mapOptions);\r\n\r\n                if (mapInstance) {\r\n                    this.mapInstances.set(targetId, mapInstance);\r\n                    if (Log) Log.info(`[APIFactoryManager] Map created for target: ${targetId}`);\r\n                }\r\n\r\n                return mapInstance;\r\n\r\n            } catch (error) {\r\n                this.stats.errors++;\r\n                if (Log) Log.error(`[APIFactoryManager] Failed to create map for ${targetId}:`, error);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Obtient une instance de carte par ID\r\n         * @param {string} targetId - ID de l'√©l√©ment cible\r\n         * @returns {*} Instance de carte ou null\r\n         */\r\n        getMapInstance(targetId) {\r\n            return this.mapInstances.get(targetId) || null;\r\n        }\r\n\r\n        /**\r\n         * Obtient toutes les instances de carte\r\n         * @returns {Array} Liste des instances\r\n         */\r\n        getAllMapInstances() {\r\n            return Array.from(this.mapInstances.values());\r\n        }\r\n\r\n        /**\r\n         * Obtient les statistiques\r\n         */\r\n        getStats() {\r\n            return {\r\n                ...this.stats,\r\n                activeInstances: this.mapInstances.size,\r\n                isReady: this.isReady\r\n            };\r\n        }\r\n\r\n        /**\r\n         * R√©initialise le gestionnaire\r\n         */\r\n        reset() {\r\n            this.mapInstances.clear();\r\n            this.getModule = null;\r\n            this.stats = {\r\n                mapsCreated: 0,\r\n                errors: 0\r\n            };\r\n\r\n            if (Log) Log.info('[APIFactoryManager] Manager reset');\r\n        }\r\n    }\r\n\r\n    // Export vers le namespace GeoLeaf\r\n    GeoLeaf.API = GeoLeaf.API || {};\r\n    GeoLeaf.API.APIFactoryManager = APIFactoryManager; // Nom correct pour controller\r\n    GeoLeaf.API.FactoryManager = APIFactoryManager; // Alias pour compatibilit√©\r\n\r\n    if (Log) Log.info('[APIFactoryManager] Factory manager loaded (Sprint 4.3 - Robust)');\r\n\r\n})(window);\r\n","/**\r\n * API Controller - Sprint 4.3 (Version Robuste)\r\n * Orchestrateur principal pour les op√©rations API GeoLeaf\r\n * Architecture modulaire avec validation renforc√©e\r\n * @module APIController\r\n */\r\n(function (global) {\r\n    \"use strict\";\r\n\r\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\r\n    const Log = GeoLeaf.Log || console;\r\n\r\n    /**\r\n     * Contr√¥leur principal pour l'API GeoLeaf\r\n     * G√®re l'orchestration des managers sp√©cialis√©s\r\n     */\r\n    class APIController {\r\n        constructor() {\r\n            this.isInitialized = false;\r\n            this.managers = {};\r\n            this.moduleAccessFn = null;\r\n\r\n            // √âtat de sanit√© du contr√¥leur\r\n            this.healthStatus = {\r\n                managers: 0,\r\n                errors: [],\r\n                lastUpdate: null\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Initialise le contr√¥leur et tous ses managers\r\n         * @returns {boolean} Succ√®s de l'initialisation\r\n         */\r\n        init() {\r\n            try {\r\n                if (this.isInitialized) {\r\n                    if (Log) Log.debug('[APIController] Already initialized');\r\n                    return true;\r\n                }\r\n\r\n                if (Log) Log.info('[APIController] Initializing API controller (Sprint 4.3 - Robust)');\r\n\r\n                // Initialiser les managers dans l'ordre\r\n                this._initializeManagers();\r\n\r\n                // Configurer l'acc√®s aux modules\r\n                const success = this._setupModuleAccess();\r\n                if (!success) {\r\n                    throw new Error('Module access setup failed');\r\n                }\r\n\r\n                // Valider l'√©tat final\r\n                this._validateInitialization();\r\n\r\n                this.isInitialized = true;\r\n                this.healthStatus.lastUpdate = new Date().toISOString();\r\n\r\n                if (Log) Log.info('[APIController] API controller initialized successfully');\r\n                return true;\r\n\r\n            } catch (error) {\r\n                this.healthStatus.errors.push({\r\n                    message: error.message,\r\n                    timestamp: new Date().toISOString(),\r\n                    stack: error.stack\r\n                });\r\n\r\n                if (Log) Log.error('[APIController] Initialization failed:', error);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Initialise tous les managers disponibles\r\n         * @private\r\n         */\r\n        _initializeManagers() {\r\n            const managerTypes = ['module', 'initialization', 'namespace', 'factory'];\r\n\r\n            managerTypes.forEach(type => {\r\n                const ManagerClass = this._getManagerClass(type);\r\n                if (ManagerClass) {\r\n                    try {\r\n                        this.managers[type] = new ManagerClass();\r\n                        this.healthStatus.managers++;\r\n                        if (Log) Log.debug(`[APIController] ${type} manager loaded`);\r\n                    } catch (error) {\r\n                        if (Log) Log.warn(`[APIController] Failed to load ${type} manager:`, error);\r\n                        this.healthStatus.errors.push({\r\n                            manager: type,\r\n                            error: error.message\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n\r\n            if (Log) Log.info(`[APIController] Loaded ${this.healthStatus.managers} managers`);\r\n        }\r\n\r\n        /**\r\n         * Obtient la classe d'un manager\r\n         * @private\r\n         */\r\n        _getManagerClass(type) {\r\n            const classNames = {\r\n                module: 'APIModuleManager',\r\n                initialization: 'APIInitializationManager',\r\n                namespace: 'APINamespaceManager',\r\n                factory: 'APIFactoryManager'\r\n            };\r\n\r\n            const className = classNames[type];\r\n            return GeoLeaf.API && GeoLeaf.API[className] ? GeoLeaf.API[className] : null;\r\n        }\r\n\r\n        /**\r\n         * Configure l'acc√®s aux modules\r\n         * @private\r\n         */\r\n        _setupModuleAccess() {\r\n            // Le module manager doit √™tre initialis√© en premier\r\n            if (!this.managers.module) {\r\n                if (Log) Log.error('[APIController] Module manager not available');\r\n                return false;\r\n            }\r\n\r\n            // Initialiser le module manager avec les modules existants\r\n            const initSuccess = this.managers.module.init ? this.managers.module.init() : true;\r\n            if (!initSuccess) {\r\n                if (Log) Log.error('[APIController] Module manager initialization failed');\r\n                return false;\r\n            }\r\n\r\n            // Cr√©er la fonction d'acc√®s aux modules avec validation\r\n            this.moduleAccessFn = (name) => {\r\n                try {\r\n                    if (!name || typeof name !== 'string') {\r\n                        if (Log) Log.warn('[APIController] Invalid module name:', name);\r\n                        return null;\r\n                    }\r\n\r\n                    if (this.managers.module && typeof this.managers.module.getModule === 'function') {\r\n                        return this.managers.module.getModule(name);\r\n                    }\r\n\r\n                    // Fallback vers l'acc√®s global\r\n                    if (global.GeoLeaf && global.GeoLeaf[name]) {\r\n                        return global.GeoLeaf[name];\r\n                    }\r\n\r\n                    return null;\r\n                } catch (error) {\r\n                    if (Log) Log.warn(`[APIController] Error accessing module ${name}:`, error);\r\n                    return null;\r\n                }\r\n            };\r\n\r\n            if (Log) Log.info('[APIController] Module access configured');\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * Valide l'√©tat de l'initialisation\r\n         * @private\r\n         */\r\n        _validateInitialization() {\r\n            const checks = [\r\n                { name: 'moduleAccessFn', value: this.moduleAccessFn, type: 'function' },\r\n                { name: 'managers', value: this.managers, type: 'object' },\r\n                { name: 'moduleManager', value: this.managers.module, type: 'object' }\r\n            ];\r\n\r\n            const failures = checks.filter(check => {\r\n                return !check.value || typeof check.value !== check.type;\r\n            });\r\n\r\n            if (failures.length > 0) {\r\n                const failureNames = failures.map(f => f.name).join(', ');\r\n                throw new Error(`Validation failed for: ${failureNames}`);\r\n            }\r\n\r\n            if (Log) Log.debug('[APIController] Validation passed');\r\n        }\r\n\r\n        /**\r\n         * GeoLeaf.init() - Initialisation de carte\r\n         */\r\n        geoleafInit(options) {\r\n            if (!this._ensureInitialized()) return null;\r\n\r\n            try {\r\n                if (!this.managers.initialization) {\r\n                    throw new Error('Initialization manager not available');\r\n                }\r\n\r\n                return this.managers.initialization.init(options, this.moduleAccessFn);\r\n            } catch (error) {\r\n                if (Log) Log.error('[APIController] geoleafInit failed:', error);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * GeoLeaf.loadConfig() - Chargement configuration\r\n         */\r\n        geoleafLoadConfig(input) {\r\n            if (!this._ensureInitialized()) return Promise.resolve(null);\r\n\r\n            try {\r\n                if (!this.managers.initialization) {\r\n                    throw new Error('Initialization manager not available');\r\n                }\r\n\r\n                return this.managers.initialization.loadConfig(input, this.moduleAccessFn);\r\n            } catch (error) {\r\n                if (Log) Log.error('[APIController] geoleafLoadConfig failed:', error);\r\n                return Promise.resolve(null);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * GeoLeaf.setTheme() - Changement de th√®me\r\n         */\r\n        geoleafSetTheme(theme) {\r\n            if (!this._ensureInitialized()) return false;\r\n\r\n            try {\r\n                if (!this.managers.initialization) {\r\n                    throw new Error('Initialization manager not available');\r\n                }\r\n\r\n                return this.managers.initialization.setTheme(theme, this.moduleAccessFn);\r\n            } catch (error) {\r\n                if (Log) Log.error('[APIController] geoleafSetTheme failed:', error);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * GeoLeaf.createMap() - Cr√©ation multi-cartes\r\n         */\r\n        geoleafCreateMap(targetId, options) {\r\n            if (!this._ensureInitialized()) return null;\r\n\r\n            try {\r\n                if (!this.managers.factory) {\r\n                    throw new Error('Factory manager not available');\r\n                }\r\n\r\n                return this.managers.factory.createMap(targetId, options, this.moduleAccessFn);\r\n            } catch (error) {\r\n                if (Log) Log.error('[APIController] geoleafCreateMap failed:', error);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * S'assure que le contr√¥leur est initialis√©\r\n         * @private\r\n         */\r\n        _ensureInitialized() {\r\n            if (!this.isInitialized) {\r\n                if (Log) Log.error('[APIController] Controller not initialized');\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * Obtient l'√©tat de sant√© du contr√¥leur\r\n         */\r\n        getHealthStatus() {\r\n            return {\r\n                ...this.healthStatus,\r\n                isInitialized: this.isInitialized,\r\n                managersCount: Object.keys(this.managers).length,\r\n                hasModuleAccess: !!this.moduleAccessFn\r\n            };\r\n        }\r\n\r\n        /**\r\n         * R√©initialise le contr√¥leur\r\n         */\r\n        reset() {\r\n            this.isInitialized = false;\r\n            this.managers = {};\r\n            this.moduleAccessFn = null;\r\n            this.healthStatus = {\r\n                managers: 0,\r\n                errors: [],\r\n                lastUpdate: null\r\n            };\r\n\r\n            if (Log) Log.info('[APIController] Controller reset');\r\n        }\r\n    }\r\n\r\n    // Export vers le namespace GeoLeaf\r\n    GeoLeaf.API = GeoLeaf.API || {};\r\n    GeoLeaf.API.Controller = APIController;\r\n\r\n    // Cr√©er et exposer une instance globale _APIController\r\n    if (!GeoLeaf._APIController) {\r\n        const controllerInstance = new APIController();\r\n\r\n        // Tentative d'initialisation automatique\r\n        const initSuccess = controllerInstance.init();\r\n        if (initSuccess) {\r\n            GeoLeaf._APIController = controllerInstance;\r\n            if (Log) Log.info('[APIController] Global instance created and initialized successfully');\r\n        } else {\r\n            if (Log) Log.warn('[APIController] Failed to auto-initialize - will try manual init later');\r\n            GeoLeaf._APIController = controllerInstance; // Exposer quand m√™me pour debug\r\n        }\r\n    }\r\n\r\n    if (Log) Log.info('[APIController] Controller class loaded (Sprint 4.3 - Robust)');\r\n\r\n})(window);\r\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/*!\n * GeoLeaf ‚Äì API publique unifi√©e\n * Point d'entr√©e pour futurs bundles (CDN / UMD / ESM)\n * Phase 4.3 ‚Äî Architecture Controller refactoris√©e robuste\n */\n/* global define */\n(function (root, factory) {\n    \"use strict\";\n\n    // UMD minimal : AMD, CommonJS, global\n    if (typeof define === \"function\" && define.amd) {\n        define([], function () {\n            return factory(root);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(root);\n    } else {\n        root.GeoLeaf = factory(root);\n    }\n}(typeof self !== \"undefined\" ? self : this, function (root) {\n    \"use strict\";\n\n    // ---------------------------------------------------------------------\n    // Architecture Controller - D√©l√©gation robuste vers APIController\n    // ---------------------------------------------------------------------\n\n    // R√©cup√©ration de l'√©ventuel GeoLeaf d√©j√† attach√© par les modules\n    const existing = root.GeoLeaf || {};\n\n    // Logger unifi√© (d√©fini par geoleaf.logger-shim.js)\n    const Log = existing.Log;\n\n    // V√©rification de la disponibilit√© d'APIController\n    const APIController = existing._APIController;\n\n    if (!APIController) {\n        Log.error(\"[GeoLeaf.API] APIController non disponible. Les modules API Controller doivent √™tre charg√©s avant geoleaf.api.js\");\n        throw new Error(\"APIController manquant - v√©rifiez que les modules API sont charg√©s\");\n    }\n\n    // Validation de l'√©tat de l'APIController\n    if (!APIController.isInitialized) {\n        Log.error(\"[GeoLeaf.API] APIController en √©tat d√©faillant. V√©rification de l'√©tat :\", APIController.getHealthStatus());\n        throw new Error(\"APIController en √©tat d√©faillant\");\n    }\n\n    // ---------------------------------------------------------------------\n    // API publique d√©l√©gu√©e vers APIController\n    // ---------------------------------------------------------------------\n\n    /**\n     * GeoLeaf.init(options) - Initialisation compl√®te\n     * D√©l√®gue vers APIController.geoleafInit()\n     */\n    function geoleafInit(options) {\n        try {\n            return APIController.geoleafInit(options);\n        } catch (error) {\n            Log.error(\"[GeoLeaf.init] Erreur lors de l'initialisation :\", error);\n            throw error;\n        }\n    }\n\n    /**\n     * GeoLeaf.setTheme(theme) - Application de th√®me\n     * D√©l√®gue vers APIController.geoleafSetTheme()\n     */\n    function geoleafSetTheme(theme) {\n        try {\n            return APIController.geoleafSetTheme(theme);\n        } catch (error) {\n            Log.error(\"[GeoLeaf.setTheme] Erreur lors de l'application du th√®me :\", error);\n            throw error;\n        }\n    }\n\n    /**\n     * GeoLeaf.loadConfig(input) - Chargement de configuration\n     * D√©l√®gue vers APIController.geoleafLoadConfig()\n     */\n    function geoleafLoadConfig(input) {\n        try {\n            return APIController.geoleafLoadConfig(input);\n        } catch (error) {\n            Log.error(\"[GeoLeaf.loadConfig] Erreur lors du chargement de configuration :\", error);\n            throw error;\n        }\n    }\n\n    // ---------------------------------------------------------------------\n    // Constantes et utilitaires\n    // ---------------------------------------------------------------------\n\n    const CONSTANTS = {\n        VERSION: \"4.3.0-robust\",\n        DEFAULT_CENTER: [0, 0],\n        DEFAULT_ZOOM: 3,\n        THEMES: [\"light\", \"dark\", \"satellite\", \"custom\"]\n    };\n\n    // ---------------------------------------------------------------------\n    // Construction de l'API finale\n    // ---------------------------------------------------------------------\n\n    const GeoLeaf = Object.assign(existing, {\n        // M√©thodes principales\n        init: geoleafInit,\n        setTheme: geoleafSetTheme,\n        loadConfig: geoleafLoadConfig,\n\n        // Constantes\n        CONSTANTS,\n\n        // Acc√®s aux modules via APIController\n        getModule: function(name) {\n            return APIController.moduleAccessFn ? APIController.moduleAccessFn(name) : null;\n        },\n\n        hasModule: function(name) {\n            const module = APIController.moduleAccessFn ? APIController.moduleAccessFn(name) : null;\n            return !!module;\n        },\n\n        // Acc√®s aux namespaces via APIController\n        getNamespace: function(name) {\n            return APIController.managers && APIController.managers.namespace ?\n                APIController.managers.namespace.get(name) : null;\n        },\n\n        // Gestion des instances de cartes via APIController\n        createMap: function(id, options) {\n            return APIController.geoleafCreateMap ? APIController.geoleafCreateMap(id, options) : null;\n        },\n\n        getMap: function(id) {\n            return APIController.managers && APIController.managers.factory ?\n                APIController.managers.factory.get(id) : null;\n        },\n\n        getAllMaps: function() {\n            return APIController.managers && APIController.managers.factory ?\n                APIController.managers.factory.getAll() : {};\n        },\n\n        removeMap: function(id) {\n            return APIController.managers && APIController.managers.factory ?\n                APIController.managers.factory.remove(id) : false;\n        },\n\n        // M√©triques et monitoring\n        getHealth: function() {\n            return APIController.getHealthStatus ? APIController.getHealthStatus() : null;\n        },\n\n        getMetrics: function() {\n            return APIController.getHealthStatus ? APIController.getHealthStatus() : null;\n        },\n\n        // Acc√®s interne pour modules (ne pas utiliser publiquement)\n        _APIController: APIController\n    });\n\n    // Log de l'initialisation r√©ussie\n    if (Log) {\n        Log.info(`[GeoLeaf.API] API publique v${CONSTANTS.VERSION} initialis√©e avec succ√®s`);\n        Log.info(`[GeoLeaf.API] Sant√© APIController :`, APIController.getHealthStatus());\n    }\n\n    return GeoLeaf;\n}));\n","/*!\n * GeoLeaf Core ‚Äì App / Helpers\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf Application Helpers\n * Syst√®me de logs production, d√©tection de chemin, v√©rification des plugins,\n * et helper de notification.\n *\n * Ce fichier cr√©e le namespace partag√© GeoLeaf._app utilis√© par\n * app/init.js et app/boot.js.\n *\n * @module app/helpers\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n\n    /**\n     * Namespace interne pour le module Application Bootstrap.\n     * Partag√© entre app/helpers.js, app/init.js et app/boot.js.\n     * @namespace GeoLeaf._app\n     * @private\n     */\n    const _app = GeoLeaf._app = GeoLeaf._app || {};\n\n    // ============================================================\n    // Syst√®me de logs production\n    // ============================================================\n    _app.AppLog = {\n        log(...args) {\n            if (location.search.includes('debug=true')) {\n                console.log('[GeoLeaf]', ...args);\n            }\n        },\n        info(...args) {\n            console.info('[GeoLeaf]', ...args);\n        },\n        error(...args) {\n            console.error('[GeoLeaf]', ...args);\n        },\n        warn(...args) {\n            console.warn('[GeoLeaf]', ...args);\n        }\n    };\n\n    // ============================================================\n    // D√©tection automatique du chemin vers profiles/\n    // ============================================================\n    /**\n     * D√©tecte automatiquement le chemin de base vers le dossier profiles/\n     * en fonction de l'URL courante.\n     * @returns {string} Chemin relatif vers profiles/\n     */\n    _app.getProfilesBasePath = function () {\n        const currentPath = global.location.pathname;\n        if (currentPath.includes('/demo/')) {\n            return '../profiles/';\n        }\n        return './profiles/';\n    };\n\n    // ============================================================\n    // V√©rification des plugins au boot\n    // ============================================================\n    /**\n     * V√©rifie que les plugins requis par la configuration sont bien charg√©s\n     * et affiche des avertissements dans la console si ce n'est pas le cas.\n     * @param {Object} cfg - Configuration du profil actif\n     */\n    _app.checkPlugins = function (cfg) {\n        const AppLog = _app.AppLog;\n\n        // Avertissement si config attend AddPOI mais plugin non charg√©\n        if (cfg && cfg.ui && cfg.ui.showAddPoi === true) {\n            if (!GeoLeaf.POI || !GeoLeaf.POI.AddForm) {\n                AppLog.warn(\n                    '‚ö†Ô∏è Config has showAddPoi=true but AddPOI plugin is not loaded. ' +\n                    'Load geoleaf-addpoi.plugin.js before calling GeoLeaf.boot().'\n                );\n            }\n        }\n\n        // Avertissement si config attend Storage mais plugin non charg√©\n        if (cfg && cfg.storage) {\n            if (!GeoLeaf.Storage) {\n                AppLog.warn(\n                    '‚ö†Ô∏è Config references storage but Storage plugin is not loaded. ' +\n                    'Load geoleaf-storage.plugin.js before calling GeoLeaf.boot().'\n                );\n            }\n\n            // Avertissement si enableServiceWorker mais sw-register absent\n            if (cfg.storage.enableServiceWorker && !GeoLeaf._SWRegister) {\n                AppLog.warn(\n                    '‚ö†Ô∏è Config has enableServiceWorker=true but SW Register module is not available. ' +\n                    'Ensure sw-register.js is included in the Storage plugin bundle.'\n                );\n            }\n        }\n\n        // Avertissement si SyncHandler est charg√© sans Storage\n        if (GeoLeaf.POI && GeoLeaf.POI.SyncHandler && !GeoLeaf.Storage) {\n            AppLog.warn(\n                '‚ö†Ô∏è SyncHandler loaded without Storage plugin ‚Äî sync operations will be disabled. ' +\n                'POI add/edit/delete will work in online-only mode.'\n            );\n        }\n    };\n\n    // ============================================================\n    // Helper : afficher une notification\n    // ============================================================\n    /**\n     * Affiche une notification via le syst√®me UI de GeoLeaf.\n     * Tente d'abord GeoLeaf.UI.Notifications, puis GeoLeaf._UINotifications.\n     * @param {string} message - Message √† afficher\n     * @param {number} [duration=3500] - Dur√©e d'affichage en millisecondes\n     * @returns {boolean} true si la notification a √©t√© affich√©e\n     */\n    _app.showNotification = function (message, duration) {\n        duration = duration || 3500;\n        if (GeoLeaf.UI && GeoLeaf.UI.Notifications && typeof GeoLeaf.UI.Notifications.success === \"function\") {\n            try { GeoLeaf.UI.Notifications.success(message, duration); return true; } catch (e) {}\n        }\n        if (GeoLeaf._UINotifications && typeof GeoLeaf._UINotifications.success === \"function\") {\n            try { GeoLeaf._UINotifications.success(message, duration); return true; } catch (e) {}\n        }\n        _app.AppLog.log(message + \" (notifications indisponibles)\");\n        return false;\n    };\n\n})(window);\n","/*!\n * GeoLeaf Core ‚Äì App / Init\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf Application Init\n * Fonction principale d'initialisation de l'application :\n * - Initialisation de la carte\n * - Chargement des modules (POI, Routes, GeoJSON, etc.)\n * - Configuration des composants UI\n * - M√©canisme de reveal (loader / spinner)\n *\n * @module app/init\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const _app = GeoLeaf._app = GeoLeaf._app || {};\n\n    // ============================================================\n    // Fonction principale : initialiser l'application\n    // ============================================================\n    _app.initApp = function (cfg) {\n        cfg = cfg || {};\n        const AppLog = _app.AppLog;\n        AppLog.log(\"Initialisation avec config:\", cfg);\n\n        // V√©rifier les plugins\n        _app.checkPlugins(cfg);\n\n        // ========================================================\n        // Initialisation de la carte\n        // La carte est cr√©√©e directement sur l'emprise du profil\n        // (map.bounds obligatoire dans le profil).\n        // ========================================================\n        const mapTarget = (cfg.map && (cfg.map.target || cfg.map.id)) || \"geoleaf-map\";\n        const uiTheme = (cfg.ui && cfg.ui.theme) || \"light\";\n\n        // Bounds obligatoires ‚Äî pas de fallback carte monde\n        if (!cfg.map || !Array.isArray(cfg.map.bounds) || cfg.map.bounds.length !== 2) {\n            AppLog.error(\n                \"[GeoLeaf] Le profil actif ne d√©finit pas de map.bounds valide. \" +\n                \"L'emprise (map.bounds) est obligatoire dans le fichier profile.json. \" +\n                \"Exemple : \\\"bounds\\\": [[43.0, 1.0], [44.0, 2.0]]\"\n            );\n            return;\n        }\n\n        // Calculer le centre depuis les bounds pour √©viter le flash carte monde\n        const profileBounds = cfg.map.bounds;\n        const profileMaxZoom = cfg.map.maxZoom || 12;\n        const profilePadding = cfg.map.padding || [50, 50];\n        const mapCenter = [\n            (profileBounds[0][0] + profileBounds[1][0]) / 2,\n            (profileBounds[0][1] + profileBounds[1][1]) / 2\n        ];\n\n        let map = null;\n\n        try {\n            map = GeoLeaf.init({\n                map: {\n                    target: mapTarget,\n                    center: mapCenter,\n                    zoom: profileMaxZoom\n                },\n                ui: {\n                    theme: uiTheme\n                }\n            });\n        } catch (e) {\n            AppLog.error(\"GeoLeaf.init() a lev√© une erreur :\", e);\n            return;\n        }\n\n        if (!map) {\n            AppLog.error(\"GeoLeaf.init() n'a pas renvoy√© de carte valide.\");\n            return;\n        }\n\n        // Positionnement pr√©cis via fitBounds (ajuste le zoom aux dimensions r√©elles du conteneur)\n        try {\n            map.fitBounds(profileBounds, {\n                maxZoom: profileMaxZoom,\n                padding: profilePadding,\n                animate: false\n            });\n            AppLog.log(\"Carte positionn√©e via map.bounds du profil.\");\n        } catch (e) {\n            AppLog.warn(\"Erreur fitBounds depuis profile.map.bounds :\", e);\n        }\n\n        // ========================================================\n        // Initialiser le Storage avec la config du profil (si plugin charg√©)\n        // ========================================================\n        if (GeoLeaf.Storage && typeof GeoLeaf.Storage.init === \"function\") {\n            try {\n                const storageConfig = cfg.storage || {};\n                AppLog.log(\"Initialisation du Storage avec config:\", storageConfig);\n\n                GeoLeaf.Storage.init({\n                    indexedDB: { name: 'geoleaf-db', version: 2 },\n                    cache: storageConfig.cache || {\n                        enableProfileCache: true,\n                        enableTileCache: true\n                    },\n                    offline: {},\n                    enableOfflineDetector: !!(storageConfig.enableOfflineDetector),\n                    enableServiceWorker: !!(storageConfig.enableServiceWorker)\n                }).then(() => {\n                    AppLog.log(\"Storage initialis√© avec succ√®s\");\n                }).catch(err => {\n                    AppLog.warn(\"Erreur initialisation Storage:\", err);\n                });\n            } catch (e) {\n                AppLog.warn(\"Erreur lors de l'initialisation du Storage:\", e);\n            }\n        } else {\n            AppLog.log(\"Plugin Storage non charg√© ‚Äî fonctionnement en mode cache navigateur standard.\");\n        }\n\n        // ========================================================\n        // Initialiser le syst√®me de notifications UI\n        // ========================================================\n        if (GeoLeaf._UINotifications && typeof GeoLeaf._UINotifications.init === \"function\") {\n            try {\n                let notificationContainer = document.getElementById('gl-notifications');\n                if (!notificationContainer) {\n                    notificationContainer = document.createElement('div');\n                    notificationContainer.id = 'gl-notifications';\n                    notificationContainer.className = 'gl-notifications gl-notifications--bottom-center';\n                    document.body.appendChild(notificationContainer);\n                }\n\n                GeoLeaf._UINotifications.init({\n                    container: '#gl-notifications',\n                    position: 'bottom-center',\n                    maxVisible: 3,\n                    animations: true\n                });\n\n                AppLog.log(\"Syst√®me de notifications initialis√©\");\n            } catch (e) {\n                AppLog.warn(\"Erreur lors de l'initialisation des notifications:\", e);\n            }\n        }\n\n        // ========================================================\n        // Toast de chargement persistant pendant le chargement des couches\n        // Affich√© d√®s que le ThemeApplier commence √† charger un th√®me,\n        // ferm√© quand geoleaf:theme:applied est √©mis.\n        // ========================================================\n        let _loadingToast = null;\n\n        document.addEventListener('geoleaf:theme:applying', function(event) {\n            // Afficher un toast persistant si le syst√®me de notifications est pr√™t\n            if (GeoLeaf._UINotifications && GeoLeaf._UINotifications.container) {\n                _loadingToast = GeoLeaf._UINotifications.info(\n                    'Chargement des donn√©es en cours, patientez‚Ä¶',\n                    { persistent: true, dismissible: false }\n                );\n            }\n        });\n\n        // ========================================================\n        // √âcouteurs d'√©v√©nements (notifications profile & theme)\n        // ========================================================\n        let pendingProfileToastDetail = null;\n\n        function notificationsReady() {\n            try {\n                if (GeoLeaf.UI && GeoLeaf.UI.Notifications && typeof GeoLeaf.UI.Notifications.getStatus === \"function\") {\n                    return !!GeoLeaf.UI.Notifications.getStatus().initialized;\n                }\n                if (GeoLeaf._UINotifications && GeoLeaf._UINotifications.container) {\n                    return true;\n                }\n            } catch (e) {}\n            return false;\n        }\n\n        function tryShowProfileToast(detail) {\n            if (!detail || !detail.data) return false;\n            const profile = detail.data.profile || {};\n            const profileName = profile.label || profile.name || profile.title || detail.profileId || 'Profil';\n            const message = profileName + \" charg√©\";\n            if (!notificationsReady()) {\n                pendingProfileToastDetail = detail;\n                return false;\n            }\n            const shown = _app.showNotification(message);\n            if (shown) pendingProfileToastDetail = null;\n            else pendingProfileToastDetail = detail;\n            return shown;\n        }\n\n        document.addEventListener(\"geoleaf:profile:loaded\", function(event) {\n            if (event && event.detail) {\n                pendingProfileToastDetail = event.detail;\n                tryShowProfileToast(event.detail);\n            }\n        });\n\n        document.addEventListener(\"geoleaf:theme:applied\", function(event) {\n            // Fermer le toast de chargement persistant\n            if (_loadingToast && GeoLeaf._UINotifications && typeof GeoLeaf._UINotifications.dismiss === 'function') {\n                GeoLeaf._UINotifications.dismiss(_loadingToast);\n                _loadingToast = null;\n            }\n            if (event && event.detail) {\n                const detail = event.detail;\n                _app.showNotification(`Th√®me \"${detail.themeName}\" charg√© (${detail.layerCount} couches visibles)`, 3500);\n            }\n        });\n\n        // √âcouter la fin de chargement pour les notifications en attente\n        document.addEventListener(\"geoleaf:map:ready\", function() {\n            if (pendingProfileToastDetail) {\n                tryShowProfileToast(pendingProfileToastDetail);\n            }\n        });\n\n        // ========================================================\n        // Th√®me UI via GeoLeaf.setTheme() + initialisation UI\n        // ========================================================\n        try {\n            if (typeof GeoLeaf.setTheme === \"function\") {\n                GeoLeaf.setTheme(uiTheme);\n            }\n        } catch (e) {\n            AppLog.warn(\"Erreur lors de l'appel √† GeoLeaf.setTheme :\", e);\n        }\n\n        if (GeoLeaf.UI && typeof GeoLeaf.UI.init === \"function\") {\n            try {\n                const mapContainer = document.querySelector('.gl-main') || document.getElementById(mapTarget);\n                GeoLeaf.UI.init({\n                    buttonSelector: '[data-gl-role=\"theme-toggle\"]',\n                    map: map,\n                    mapContainer: mapContainer,\n                    config: cfg\n                });\n            } catch (e) {\n                AppLog.warn(\"GeoLeaf.UI.init() a lev√© une erreur :\", e);\n            }\n        }\n\n        // Construction du panneau de filtres\n        if (GeoLeaf.UI && typeof GeoLeaf.UI.buildFilterPanelFromActiveProfile === \"function\") {\n            try {\n                let filterContainer = document.getElementById(\"gl-filter-panel\");\n                if (!filterContainer) {\n                    filterContainer = document.createElement(\"div\");\n                    filterContainer.id = \"gl-filter-panel\";\n                    filterContainer.setAttribute(\"data-gl-role\", \"filter-panel\");\n                    const glMain = document.querySelector('.gl-main');\n                    if (glMain) glMain.appendChild(filterContainer);\n                    else document.body.appendChild(filterContainer);\n                }\n\n                GeoLeaf.UI.buildFilterPanelFromActiveProfile({ container: filterContainer });\n\n                if (typeof GeoLeaf.UI.initFilterToggle === \"function\") {\n                    GeoLeaf.UI.initFilterToggle();\n                }\n                if (typeof GeoLeaf.UI.initProximityFilter === \"function\") {\n                    GeoLeaf.UI.initProximityFilter(map);\n                }\n            } catch (e) {\n                AppLog.warn(\"Erreur lors de la construction du panneau de filtres :\", e);\n            }\n        }\n\n        // Initialisation du module Table\n        if (GeoLeaf.Table && typeof GeoLeaf.Table.init === \"function\" && cfg.tableConfig && cfg.tableConfig.enabled) {\n            try {\n                GeoLeaf.Table.init({ map: map, config: cfg.tableConfig });\n                AppLog.log(\"Module Table initialis√©.\");\n            } catch (e) {\n                AppLog.warn(\"Erreur lors de l'initialisation du module Table :\", e);\n            }\n        }\n\n        // Initialisation du bouton de cache offline (si plugin Storage charg√©)\n        if (GeoLeaf.UI && GeoLeaf.UI.CacheButton && typeof GeoLeaf.UI.CacheButton.init === \"function\") {\n            try {\n                GeoLeaf.UI.CacheButton.init(map, cfg);\n                AppLog.log(\"Bouton de cache initialis√©.\");\n            } catch (e) {\n                AppLog.warn(\"Erreur lors de l'initialisation du bouton de cache :\", e);\n            }\n        }\n\n        // ========================================================\n        // Basemaps via GeoLeaf.BaseLayers\n        // ========================================================\n        (function initBasemaps() {\n            const baseLayersModule = GeoLeaf.BaseLayers || GeoLeaf.Baselayers;\n            if (!baseLayersModule || typeof baseLayersModule.init !== \"function\") {\n                AppLog.warn(\"Module BaseLayers introuvable.\");\n                return;\n            }\n\n            let activeKey = \"street\";\n            const basemapsFromConfig = {};\n            if (cfg.basemaps && typeof cfg.basemaps === 'object') {\n                Object.keys(cfg.basemaps).forEach(function(key) {\n                    const def = cfg.basemaps[key];\n                    if (def.defaultBasemap === true) activeKey = def.id || key;\n                    basemapsFromConfig[key] = {\n                        id: def.id || key,\n                        label: def.label || key,\n                        url: def.url,\n                        options: {\n                            minZoom: def.minZoom || 0,\n                            maxZoom: def.maxZoom || 19,\n                            attribution: def.attribution || ''\n                        }\n                    };\n                });\n            }\n\n            try {\n                baseLayersModule.init({\n                    map: map,\n                    baselayers: basemapsFromConfig,\n                    activeKey: activeKey,\n                    ui: cfg.ui,\n                    basemaps: cfg.basemaps\n                });\n            } catch (e) {\n                AppLog.warn(\"BaseLayers.init a lev√© une exception :\", e);\n            }\n        })();\n\n        // ========================================================\n        // POI via GeoLeaf.POI\n        // ========================================================\n        (function initPOI() {\n            const poiApi = GeoLeaf.POI;\n            if (!poiApi || typeof poiApi.add !== \"function\") {\n                AppLog.warn(\"GeoLeaf.POI.add() indisponible, aucun POI ne sera affich√©.\");\n                return;\n            }\n\n            try {\n                if (typeof poiApi.init === \"function\") {\n                    poiApi.init({ map: map, config: cfg.poiConfig || {} });\n\n                    // Chargement des l√©gendes POI\n                    if (GeoLeaf.Legend && typeof GeoLeaf.Legend.loadLayerLegend === \"function\" && cfg.layers && Array.isArray(cfg.layers)) {\n                        cfg.layers.forEach(function(layerRef) {\n                            if (layerRef.id && layerRef.id.includes('poi') && layerRef.configFile) {\n                                fetch(layerRef.configFile)\n                                    .then(response => response.json())\n                                    .then(layerConfig => {\n                                        let styleId = 'default';\n                                        if (layerConfig.styles && layerConfig.styles.available && layerConfig.styles.available.length > 0) {\n                                            styleId = layerConfig.styles.available[0].id || 'default';\n                                        }\n                                        GeoLeaf.Legend.loadLayerLegend(layerRef.id, styleId, layerConfig);\n                                        if (typeof GeoLeaf.Legend.setLayerVisibility === \"function\") {\n                                            GeoLeaf.Legend.setLayerVisibility(layerRef.id, true);\n                                        }\n                                    })\n                                    .catch(err => AppLog.warn(`Erreur chargement config couche ${layerRef.id}:`, err));\n                            }\n                        });\n                    }\n                }\n            } catch (e) {\n                AppLog.warn(\"GeoLeaf.POI.init() a lev√© une erreur :\", e);\n            }\n\n            const showFilterPanel = cfg.ui && cfg.ui.showFilterPanel === true;\n            if (showFilterPanel) {\n                AppLog.info(\"Panneau de filtres activ√© : les POI seront charg√©s via le syst√®me de filtres.\");\n                if (GeoLeaf.UI && typeof GeoLeaf.UI.applyFiltersInitial === \"function\") {\n                    GeoLeaf.UI.applyFiltersInitial();\n                }\n                return;\n            }\n\n            if (!Array.isArray(cfg.poi) || cfg.poi.length === 0) {\n                return;\n            }\n\n            const bounds = [];\n            cfg.poi.forEach(function (poiItem) {\n                let latlng = null;\n                if (poiItem.latlng && Array.isArray(poiItem.latlng) && poiItem.latlng.length === 2) {\n                    latlng = poiItem.latlng;\n                } else if (poiItem.location && typeof poiItem.location.lat === \"number\" && typeof poiItem.location.lng === \"number\") {\n                    latlng = [poiItem.location.lat, poiItem.location.lng];\n                }\n                if (latlng) bounds.push(latlng);\n            });\n\n            if (bounds.length > 0) {\n                // fitBounds POI uniquement si pas de bounds dans le profil ET pas de couches GeoJSON\n                const hasBoundsFromProfile = cfg.map && Array.isArray(cfg.map.bounds) && cfg.map.bounds.length === 2;\n                const hasGeoJSONLayers = cfg.layers && Array.isArray(cfg.layers) && cfg.layers.length > 0;\n                if (!hasBoundsFromProfile && !hasGeoJSONLayers) {\n                    try {\n                        map.fitBounds(L.latLngBounds(bounds), { padding: [80, 80], maxZoom: 12, animate: false });\n                    } catch (e) {\n                        AppLog.warn(\"Erreur lors de fitBounds :\", e);\n                    }\n                }\n                if (GeoLeaf.UI && typeof GeoLeaf.UI.refreshFilterTags === \"function\") {\n                    GeoLeaf.UI.refreshFilterTags();\n                }\n            }\n        })();\n\n        // ========================================================\n        // Itin√©raires via GeoLeaf.Route\n        // ========================================================\n        (function initRoute() {\n            const routeApi = GeoLeaf.Route;\n            if (!routeApi || typeof routeApi.init !== \"function\" || typeof routeApi.loadFromConfig !== \"function\") {\n                return;\n            }\n            try {\n                routeApi.init({ map: map, fitBoundsOnLoad: false, maxZoomOnFit: 12 });\n            } catch (e) {\n                AppLog.warn(\"GeoLeaf.Route.init() a lev√© une erreur :\", e);\n                return;\n            }\n            if (Array.isArray(cfg.routes) && cfg.routes.length > 0) {\n                try {\n                    routeApi.loadFromConfig(cfg.routes);\n                    AppLog.log(\"Itin√©raires charg√©s.\");\n                } catch (e) {\n                    AppLog.warn(\"GeoLeaf.Route.loadFromConfig() a lev√© une erreur :\", e);\n                }\n            }\n        })();\n\n        // ========================================================\n        // Couches GeoJSON via GeoLeaf.GeoJSON\n        // ========================================================\n        (function initGeoJSON() {\n            const geoJsonApi = GeoLeaf.GeoJSON;\n            if (!geoJsonApi || typeof geoJsonApi.init !== \"function\") {\n                AppLog.log(\"GeoLeaf.GeoJSON.init() indisponible ‚Äî pas de couches GeoJSON.\");\n                return;\n            }\n\n            try {\n                geoJsonApi.init({ map: map, fitBoundsOnLoad: false, maxZoomOnFit: 12 });\n            } catch (e) {\n                AppLog.warn(\"GeoLeaf.GeoJSON.init() a lev√© une erreur :\", e);\n                return;\n            }\n\n            if (map && typeof map.on === \"function\") {\n                map.on(\"geoleaf:geojson:layers-loaded\", function(event) {\n                    if (event && event.detail && typeof event.detail.count === \"number\") {\n                        const count = event.detail.count;\n                        const message = count === 1 ? \"1 couche GeoJSON charg√©e\" : count + \" couches GeoJSON charg√©es\";\n                        _app.showNotification(message, 3000);\n                    }\n                });\n            }\n\n            // Initialisation du syst√®me de th√®mes\n            const loadAllConfigsPromise = (function() {\n                if (GeoLeaf._GeoJSONLoader && typeof GeoLeaf._GeoJSONLoader.loadAllLayersConfigsForLayerManager === \"function\") {\n                    const activeProfile = GeoLeaf.Config && typeof GeoLeaf.Config.getActiveProfile === \"function\"\n                        ? GeoLeaf.Config.getActiveProfile() : null;\n                    if (activeProfile) {\n                        return GeoLeaf._GeoJSONLoader.loadAllLayersConfigsForLayerManager(activeProfile)\n                            .catch(err => { AppLog.warn(\"Erreur chargement configs couches:\", err); return []; });\n                    }\n                }\n                return Promise.resolve();\n            })();\n\n            loadAllConfigsPromise.then(function() {\n                if (!GeoLeaf.ThemeSelector || typeof GeoLeaf.ThemeSelector.init !== \"function\") {\n                    AppLog.warn(\"ThemeSelector non disponible\");\n                    return;\n                }\n\n                let currentProfileId = null;\n                if (GeoLeaf.Config && typeof GeoLeaf.Config.getActiveProfileId === \"function\") {\n                    currentProfileId = GeoLeaf.Config.getActiveProfileId();\n                }\n\n                const primaryContainer = document.getElementById(\"gl-theme-primary-container\");\n                const secondaryContainer = document.getElementById(\"gl-theme-secondary-container\");\n\n                if (!currentProfileId || !primaryContainer || !secondaryContainer) {\n                    AppLog.warn(\"ThemeSelector : conteneurs ou profil manquants\");\n                    return;\n                }\n\n                GeoLeaf.ThemeSelector.init({\n                    profileId: currentProfileId,\n                    primaryContainer: primaryContainer,\n                    secondaryContainer: secondaryContainer\n                }).then(function() {\n                    AppLog.log(\"ThemeSelector initialis√© et th√®me appliqu√©\");\n\n                    if (GeoLeaf._GeoJSONLayerManager && typeof GeoLeaf._GeoJSONLayerManager.populateLayerManagerWithAllConfigs === \"function\") {\n                        const activeThemeConfig = GeoLeaf.ThemeSelector.getActiveTheme ? GeoLeaf.ThemeSelector.getActiveTheme() : null;\n                        GeoLeaf._GeoJSONLayerManager.populateLayerManagerWithAllConfigs(activeThemeConfig);\n                    }\n\n                    document.addEventListener('geoleaf:theme:applied', function() {\n                        if (GeoLeaf._GeoJSONLayerManager && typeof GeoLeaf._GeoJSONLayerManager.populateLayerManagerWithAllConfigs === \"function\") {\n                            const activeThemeConfig = GeoLeaf.ThemeSelector.getActiveTheme ? GeoLeaf.ThemeSelector.getActiveTheme() : null;\n                            GeoLeaf._GeoJSONLayerManager.populateLayerManagerWithAllConfigs(activeThemeConfig);\n                        }\n                    });\n                }).catch(function(e) {\n                    AppLog.warn(\"Erreur initialisation ThemeSelector:\", e);\n                });\n            });\n        })();\n\n        // ========================================================\n        // Branding\n        // ========================================================\n        if (GeoLeaf.UI && GeoLeaf.UI.Branding && typeof GeoLeaf.UI.Branding.init === \"function\") {\n            try {\n                GeoLeaf.UI.Branding.init(map);\n            } catch (e) {\n                AppLog.warn(\"GeoLeaf.UI.Branding.init() a lev√© une erreur :\", e);\n            }\n        }\n\n        // ========================================================\n        // L√©gende et gestionnaire de couches\n        // ========================================================\n        if (cfg.ui && cfg.ui.showLegend !== false && GeoLeaf.Legend && typeof GeoLeaf.Legend.init === \"function\") {\n            try {\n                GeoLeaf.Legend.init(map, {\n                    position: \"bottomleft\",\n                    collapsible: true,\n                    collapsed: false,\n                    title: \"L√©gende\"\n                });\n            } catch (e) {\n                AppLog.warn(\"Erreur lors de l'initialisation du module Legend:\", e);\n            }\n        }\n\n        if (cfg.ui && cfg.ui.showLayerManager !== false && GeoLeaf.LayerManager && typeof GeoLeaf.LayerManager.init === \"function\") {\n            try {\n                GeoLeaf.LayerManager.init({ map: map, position: \"bottomright\" });\n            } catch (e) {\n                AppLog.warn(\"GeoLeaf.LayerManager.init() a lev√© une erreur :\", e);\n            }\n        }\n\n        // ========================================================\n        // Contr√¥le d'√©chelle\n        // ========================================================\n        if (GeoLeaf.initScaleControl && typeof GeoLeaf.initScaleControl === \"function\") {\n            try { GeoLeaf.initScaleControl(map); } catch (e) {\n                AppLog.warn(\"GeoLeaf.initScaleControl() a lev√© une erreur :\", e);\n            }\n        }\n\n        // ========================================================\n        // Syst√®me de labels\n        // ========================================================\n        if (GeoLeaf.Labels && typeof GeoLeaf.Labels.init === \"function\") {\n            try { GeoLeaf.Labels.init({ map: map }); } catch (e) {\n                AppLog.warn(\"GeoLeaf.Labels.init() a lev√© une erreur :\", e);\n            }\n        }\n\n        // ========================================================\n        // Affichage des coordonn√©es\n        // ========================================================\n        if (cfg.ui && cfg.ui.showCoordinates !== false && GeoLeaf.UI && GeoLeaf.UI.CoordinatesDisplay && typeof GeoLeaf.UI.CoordinatesDisplay.init === \"function\") {\n            try {\n                GeoLeaf.UI.CoordinatesDisplay.init(map, { position: \"bottomleft\", decimals: 6 });\n            } catch (e) {\n                AppLog.warn(\"GeoLeaf.UI.CoordinatesDisplay.init() a lev√© une erreur :\", e);\n            }\n        }\n\n        // ========================================================\n        // R√©v√©ler l'application quand les couches sont pr√™tes\n        // Le spinner #gl-loader reste opaque pendant que la carte\n        // et les couches GeoJSON se chargent derri√®re.\n        // On attend l'√©v√©nement geoleaf:theme:applied (= toutes\n        // les couches visibles sont charg√©es) avant de r√©v√©ler.\n        // ========================================================\n        let _appRevealed = false;\n        function revealApp(reason) {\n            if (_appRevealed) return;\n            _appRevealed = true;\n            const loader = document.getElementById('gl-loader');\n            if (loader) {\n                loader.classList.add('gl-loader--fade');\n                // Supprimer du DOM apr√®s la transition CSS (400ms)\n                loader.addEventListener('transitionend', function() {\n                    loader.style.display = 'none';\n                }, { once: true });\n                // Fallback si transitionend ne se d√©clenche pas\n                setTimeout(function() { loader.style.display = 'none'; }, 500);\n            }\n\n            // Correctif : le loader (#gl-loader) recouvrait la carte (position: fixed; inset: 0)\n            // ‚Üí Leaflet calculait fitBounds sur un conteneur de dimensions incorrectes.\n            // On recalcule apr√®s le retrait du loader.\n            if (map) {\n                map.invalidateSize({ pan: false });\n                setTimeout(function() {\n                    try {\n                        map.fitBounds(profileBounds, {\n                            maxZoom:  profileMaxZoom,\n                            padding:  profilePadding,\n                            animate:  true,\n                            duration: 0.6\n                        });\n                    } catch (e) {\n                        AppLog.warn(\"[GeoLeaf] Correctif fitBounds au reveal :\", e);\n                    }\n                }, 120);\n            }\n\n            document.dispatchEvent(new CustomEvent(\"geoleaf:map:ready\"));\n            AppLog.info(\"Application pr√™te ‚Äî \" + reason);\n        }\n\n        // Attendre que toutes les couches du th√®me soient charg√©es\n        document.addEventListener('geoleaf:theme:applied', function() {\n            revealApp('th√®me appliqu√©, couches charg√©es');\n        }, { once: true });\n\n        // S√©curit√© : r√©v√©ler apr√®s 15s max (r√©seau lent, erreur‚Ä¶)\n        setTimeout(function() { revealApp('timeout s√©curit√© 15s'); }, 15000);\n\n        AppLog.info(\"Application initialis√©e, chargement des couches en arri√®re-plan‚Ä¶\");\n    };\n\n})(window);\n","/*!\n * GeoLeaf Core ‚Äì App / Boot\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf Application Boot\n * Chargement de la configuration et lancement de l'initialisation.\n * Expose l'API publique GeoLeaf.boot().\n *\n * Usage : <script>GeoLeaf.boot();</script>\n *\n * @module app/boot\n */\n(function (global) {\n    \"use strict\";\n\n    const GeoLeaf = (global.GeoLeaf = global.GeoLeaf || {});\n    const _app = GeoLeaf._app = GeoLeaf._app || {};\n\n    // ============================================================\n    // Fonction startApp : chargement config + lancement initApp\n    // ============================================================\n    _app.startApp = function () {\n        const AppLog = _app.AppLog;\n\n        if (!GeoLeaf) {\n            AppLog.error(\"GeoLeaf global introuvable. Le bundle core doit √™tre charg√© avant GeoLeaf.boot().\");\n            return;\n        }\n\n        if (typeof GeoLeaf.loadConfig !== \"function\") {\n            AppLog.error(\"GeoLeaf.loadConfig() est introuvable. V√©rifiez que le bundle core est complet.\");\n            return;\n        }\n\n        AppLog.info(\"D√©marrage de l'application...\");\n\n        let selectedProfile = null;\n        try {\n            selectedProfile = sessionStorage.getItem('gl-selected-profile');\n            if (selectedProfile) {\n                AppLog.log('Profil s√©lectionn√© depuis sessionStorage:', selectedProfile);\n                sessionStorage.removeItem('gl-selected-profile');\n            }\n        } catch (e) {\n            AppLog.warn('Impossible de lire sessionStorage:', e);\n        }\n\n        const profilesPath = _app.getProfilesBasePath();\n\n        GeoLeaf.loadConfig({\n            url: profilesPath + \"geoleaf.config.json\",\n            profileId: selectedProfile,\n            autoEvent: true,\n\n            onLoaded: function (cfg) {\n                AppLog.log(\"Configuration charg√©e via GeoLeaf.loadConfig :\", cfg || {});\n\n                if (GeoLeaf.Config && typeof GeoLeaf.Config.getCategories === \"function\") {\n                    try { GeoLeaf.Config.getCategories(); } catch (e) {\n                        AppLog.warn(\"Erreur lors de la lecture du mapping cat√©gories :\", e);\n                    }\n                }\n\n                const baseCfg = cfg || {};\n\n                if (GeoLeaf.Config && typeof GeoLeaf.Config.loadActiveProfileResources === \"function\") {\n                    GeoLeaf.Config.loadActiveProfileResources()\n                        .then(function (profileCfg) {\n                            AppLog.info(\"Ressources du profil actif charg√©es.\");\n                            _app.initApp(profileCfg || baseCfg);\n                        })\n                        .catch(function (err) {\n                            AppLog.warn(\"Erreur lors du chargement des ressources de profil :\", err);\n                            _app.initApp(baseCfg);\n                        });\n                } else {\n                    _app.initApp(baseCfg);\n                }\n            },\n\n            onError: function (err) {\n                AppLog.error(\"Erreur chargement config via GeoLeaf.loadConfig :\", err);\n            }\n        });\n    };\n\n    // ============================================================\n    // Exposer GeoLeaf.boot() ‚Äî API publique\n    // ============================================================\n\n    /**\n     * D√©marre l'application GeoLeaf.\n     * Charge la configuration, initialise la carte et tous les modules.\n     * Les plugins optionnels (Storage, AddPOI) doivent √™tre charg√©s avant cet appel.\n     *\n     * @example\n     * <script src=\"dist/geoleaf.umd.js\"></script>\n     * <script src=\"dist/geoleaf-storage.plugin.js\"></script>  <!-- optionnel -->\n     * <script src=\"dist/geoleaf-addpoi.plugin.js\"></script>   <!-- optionnel -->\n     * <script>GeoLeaf.boot();</script>\n     */\n    GeoLeaf.boot = function() {\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', _app.startApp);\n        } else {\n            _app.startApp();\n        }\n    };\n\n})(window);\n","/*!\n * GeoLeaf Core\n * ¬© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf Bundle Entry Point\n * Point d'entr√©e pour la g√©n√©ration du bundle UMD via Rollup\n *\n * Ce fichier charge tous les modules GeoLeaf dans l'ordre correct des d√©pendances.\n * Chaque module est un IIFE qui attache ses exports sur window.GeoLeaf.\n *\n * @version 3.1.0\n */\n\n// Import des modules dans l'ordre des d√©pendances (identique √† main.js ligne par ligne)\n\n// Modules utilitaires (doivent √™tre charg√©s en premier)\nimport './static/js/geoleaf.log.js';\nimport './static/js/geoleaf.log.config.js';\nimport './static/js/geoleaf.security.js';\nimport './static/js/geoleaf.constants.js';\nimport './static/js/geoleaf.utils.js';\nimport './static/js/utils/dom-security.js';\nimport './static/js/utils/dom-helpers.js';\nimport './static/js/utils/event-listener-manager.js';\nimport './static/js/utils/timer-manager.js';\nimport './static/js/utils/scale-utils.js';\n\n// Helpers\nimport './static/js/helpers/style-resolver.js';\n\n// Validators\nimport './static/js/validators/style-validator-rules.js';\nimport './static/js/validators/style-validator.js';\n\n// Modules principaux\nimport './static/js/geoleaf.core.js';\n\n// UI - Sous-modules\nimport './static/js/ui/theme.js';\nimport './static/js/ui/controls.js';\nimport './static/js/ui/panel-builder.js';\nimport './static/js/ui/dom-utils.js';\nimport './static/js/ui/coordinates-display.js';\nimport './static/js/ui/branding.js';\n\n// UI - Content Builder\nimport './static/js/ui/content-builder/core.js';\nimport './static/js/ui/content-builder/templates.js';\nimport './static/js/ui/content-builder/assemblers.js';\nimport './static/js/ui/content-builder.js';\nimport './static/js/ui/components.js';\nimport './static/js/ui/notifications.js';\n\n// UI - Sprint 4.4\nimport './static/js/ui/event-delegation.js';\nimport './static/js/ui/filter-state-manager.js';\n\n// Map\nimport './static/js/map/scale-control.js';\n\n// UI - Filter Control Builder\nimport './static/js/ui/filter-control-builder.js';\n\n// UI - Filter Panel\nimport './static/js/ui/filter-panel/shared.js';\nimport './static/js/ui/filter-panel/state-reader.js';\nimport './static/js/ui/filter-panel/lazy-loader.js';\nimport './static/js/ui/filter-panel/applier.js';\nimport './static/js/ui/filter-panel/renderer.js';\nimport './static/js/ui/filter-panel/proximity.js';\nimport './static/js/ui/filter-panel/core.js';\nimport './static/js/ui/filter-panel.js';\n\n// Main UI\nimport './static/js/geoleaf.ui.js';\n\n// Data\nimport './static/js/data/normalizer.js';\n\n// Loaders\nimport './static/js/loaders/style-loader.js';\n\n// Config - Sous-modules\nimport './static/js/config/loader.js';\nimport './static/js/config/storage.js';\nimport './static/js/config/normalization.js';\nimport './static/js/config/taxonomy.js';\nimport './static/js/config/profile-v3-loader.js';\nimport './static/js/config/profile.js';\nimport './static/js/config/data-converter.js';\n// Config - GeoLeaf.Config (√©clat√© en 4 sous-modules)\nimport './static/js/config/geoleaf-config/config-core.js';\nimport './static/js/config/geoleaf-config/config-validation.js';\nimport './static/js/config/geoleaf-config/config-loaders.js';\nimport './static/js/config/geoleaf-config/config-accessors.js';\n\n// Autres modules\nimport './static/js/geoleaf.baselayers.js';\nimport './static/js/geoleaf.filters.js';\n\n// POI - Sous-modules\nimport './static/js/poi/shared.js';\nimport './static/js/poi/normalizers.js';\nimport './static/js/poi/popup.js';\nimport './static/js/poi/markers.js';\n\n// POI Renderers\nimport './static/js/renderers/abstract-renderer.js';\nimport './static/js/poi/renderers/field-renderers.js';\nimport './static/js/poi/renderers/media-renderers.js';\nimport './static/js/poi/renderers/lightbox-manager.js';\nimport './static/js/poi/renderers/ui-behaviors.js';\nimport './static/js/poi/renderers/component-renderers.js';\nimport './static/js/poi/renderers/section-orchestrator.js';\nimport './static/js/poi/renderers/links.js';\nimport './static/js/poi/renderers/core.js';\nimport './static/js/poi/renderers.js';\nimport './static/js/poi/sidepanel.js';\nimport './static/js/poi/core.js';\nimport './static/js/geoleaf.poi.js';\n\n// POI Sync Handler + Placement Mode ‚Üí charg√©s via geoleaf-addpoi.plugin.js (optionnel)\n\n// GeoJSON - Sous-modules\nimport './static/js/geojson/shared.js';\nimport './static/js/geojson/style-resolver.js';\nimport './static/js/geojson/visibility-manager.js';\n\n// GeoJSON Layer Manager (√©clat√© en 4 sous-modules)\nimport './static/js/geojson/layer-manager/store.js';\nimport './static/js/geojson/layer-manager/visibility.js';\nimport './static/js/geojson/layer-manager/style.js';\nimport './static/js/geojson/layer-manager/integration.js';\nimport './static/js/geojson/popup-tooltip.js';\nimport './static/js/geojson/clustering.js';\nimport './static/js/geojson/layer-config-manager.js';\nimport './static/js/geojson/feature-validator.js';\n// GeoJSON Loader (√©clat√© en 4 sous-modules)\nimport './static/js/geojson/loader/config-helpers.js';\nimport './static/js/geojson/loader/data.js';\nimport './static/js/geojson/loader/single-layer.js';\nimport './static/js/geojson/loader/profile.js';\nimport './static/js/geojson/core.js';\nimport './static/js/geoleaf.geojson.js';\n\n// Route - Sous-modules\nimport './static/js/route/style-resolver.js';\nimport './static/js/route/popup-builder.js';\nimport './static/js/route/loaders.js';\nimport './static/js/route/layer-manager.js';\nimport './static/js/geoleaf.route.js';\n\n// LayerManager - Sous-modules\nimport './static/js/layer-manager/shared.js';\nimport './static/js/layer-manager/renderer.js';\nimport './static/js/layer-manager/cache-section.js';\nimport './static/js/layer-manager/basemap-selector.js';\nimport './static/js/layer-manager/style-selector.js';\nimport './static/js/layer-manager/control.js';\nimport './static/js/geoleaf.layer-manager.js';\n\n// Legend\nimport './static/js/legend/legend-generator.js';\nimport './static/js/legend/legend-renderer.js';\nimport './static/js/legend/legend-control.js';\nimport './static/js/geoleaf.legend.js';\n\n// Labels\nimport './static/js/labels/label-renderer.js';\nimport './static/js/labels/label-button-manager.js';\nimport './static/js/labels/labels.js';\n\n// Themes\nimport './static/js/themes/theme-loader.js';\n\n// Theme Applier (√©clat√© en 4 sous-modules)\nimport './static/js/themes/theme-applier/core.js';\nimport './static/js/themes/theme-applier/visibility.js';\nimport './static/js/themes/theme-applier/deferred.js';\nimport './static/js/themes/theme-applier/ui-sync.js';\n\nimport './static/js/themes/theme-selector.js';\n\n// Table\nimport './static/js/table/panel.js';\nimport './static/js/table/renderer.js';\nimport './static/js/geoleaf.table.js';\n\n// Storage + Cache Button ‚Üí charg√©s via geoleaf-storage.plugin.js (optionnel)\n\n// POI Add Form ‚Üí charg√© via geoleaf-addpoi.plugin.js (optionnel)\n\n// API Controller\nimport './static/js/api/module-manager.js';\nimport './static/js/api/initialization-manager.js';\nimport './static/js/api/namespace-manager.js';\nimport './static/js/api/factory-manager.js';\nimport './static/js/api/controller.js';\n\n// API publique - Doit √™tre charg√© en dernier\nimport './static/js/geoleaf.api.js';\n\n// Application bootstrap (√©clat√© en 3 sous-modules)\nimport './app/helpers.js';\nimport './app/init.js';\nimport './app/boot.js';\n\n// Export du namespace global GeoLeaf\nexport default (typeof window !== 'undefined' ? window.GeoLeaf : {});\n"],"names":["global","this"],"mappings":"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"}