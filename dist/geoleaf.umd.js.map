{"version":3,"file":"geoleaf.umd.js","sources":["../src/modules/log/logger.js","../src/modules/errors/index.js","../src/modules/constants/index.js","../src/modules/security/index.js","../src/modules/security/csrf-token.js","../src/modules/config/storage.js","../src/modules/config/loader.js","../src/modules/config/taxonomy.js","../src/modules/config/normalization.js","../src/modules/config/profile-loader.js","../src/modules/config/profile.js","../src/modules/config/geoleaf-config/config-core.js","../src/modules/core/map-factory.js","../src/modules/core/theme.js","../src/modules/core/index.js","../src/modules/utils/general-utils.js","../src/modules/utils/dom-security.js","../src/modules/utils/dom-helpers.js","../src/modules/utils/animation-helper.js","../src/modules/utils/error-logger.js","../src/modules/utils/event-helpers.js","../src/modules/utils/event-listener-manager.js","../src/modules/utils/event-bus.js","../src/modules/utils/fetch-helper.js","../src/modules/utils/formatters.js","../src/modules/utils/file-validator.js","../src/modules/utils/map-helpers.js","../src/modules/utils/performance/baseline-storage.js","../src/modules/utils/performance/devtools-export.js","../src/modules/config/debug-flag.js","../src/modules/utils/performance-profiler.js","../src/modules/utils/lazy-loader.js","../src/modules/utils/timer-manager.js","../src/modules/utils/object-utils.js","../src/modules/utils/scale-utils.js","../src/modules/globals.core.js","../src/modules/helpers/style-resolver.js","../src/modules/validators/style-validator-rules.js","../src/modules/validators/style-validator.js","../src/modules/renderers/abstract-renderer.js","../src/modules/renderers/simple-text-renderer.js","../src/modules/data/normalizer.js","../src/modules/loaders/style-loader.js","../src/modules/map/scale-control.js","../src/modules/config/data-converter.js","../src/modules/config/geoleaf-config/config-loaders.js","../src/modules/config/geoleaf-config/config-accessors.js","../src/modules/config/geoleaf-config/config-validation.js","../src/modules/globals.config.js","../src/modules/geojson/shared.js","../src/modules/geojson/clustering.js","../src/modules/geojson/feature-validator.js","../src/modules/geojson/style-utils.js","../src/modules/geojson/style-resolver.js","../src/modules/geojson/vector-tiles.js","../src/modules/geojson/visibility-manager.js","../src/modules/geojson/worker-manager.js","../src/modules/geojson/layer-config-manager.js","../src/modules/geojson/popup-tooltip.js","../src/modules/geojson/layer-manager/store.js","../src/modules/geojson/layer-manager/visibility.js","../src/modules/geojson/layer-manager/hatch-pattern.js","../src/modules/geojson/layer-manager/style.js","../src/modules/geojson/layer-manager/integration.js","../src/modules/geojson/loader/config-helpers.js","../src/modules/geojson/loader/data.js","../src/modules/geojson/loader/profile.js","../src/modules/geojson/loader/single-layer.js","../src/modules/geojson/core.js","../src/modules/route/layer-manager.js","../src/modules/route/loaders.js","../src/modules/route/popup-builder.js","../src/modules/route/style-resolver.js","../src/modules/globals.geojson.js","../src/modules/ui/components.js","../src/modules/labels/label-renderer.js","../src/modules/labels/labels.js","../src/modules/labels/label-button-manager.js","../src/modules/poi/shared.js","../src/modules/poi/normalizers.js","../src/modules/ui/content-builder/helpers.js","../src/modules/ui/content-builder/core.js","../src/modules/ui/content-builder/renderers-shared.js","../src/modules/ui/content-builder/assemblers.js","../src/modules/poi/popup.js","../src/modules/shared/storage-contract.js","../src/modules/poi/renderers/component-renderers.js","../src/modules/poi/renderers/field-renderers.js","../src/modules/poi/renderers/media-renderers.js","../src/modules/poi/renderers/section-orchestrator.js","../src/modules/poi/renderers/lightbox-manager.js","../src/modules/poi/renderers/ui-behaviors.js","../src/modules/poi/renderers/core.js","../src/modules/poi/renderers/links.js","../src/contracts/poi-renderers.contract.js","../src/modules/poi/renderers.js","../src/modules/poi/sidepanel.js","../src/modules/poi/core.js","../src/contracts/poi-core.contract.js","../src/modules/poi/markers.js","../src/modules/legend/legend-renderer.js","../src/modules/legend/legend-control.js","../src/modules/legend/legend-generator.js","../src/modules/baselayers/providers.js","../src/modules/baselayers/registry.js","../src/modules/baselayers/ui.js","../src/modules/baselayers/index.js","../src/modules/layer-manager/basemap-selector.js","../src/modules/ui/notifications.js","../src/modules/layer-manager/cache-section.js","../src/modules/legend/legend-api.js","../src/contracts/legend.contract.js","../src/modules/layer-manager/style-selector.js","../src/modules/layer-manager/layer-manager-api.js","../src/modules/themes/theme-applier/core.js","../src/modules/layer-manager/renderer.js","../src/modules/layer-manager/control.js","../src/modules/layer-manager/shared.js","../src/modules/themes/theme-cache.js","../src/modules/themes/theme-loader.js","../src/modules/themes/theme-selector.js","../src/modules/themes/theme-applier/deferred.js","../src/modules/route/route-api.js","../src/contracts/route.contract.js","../src/modules/themes/theme-applier/ui-sync.js","../src/modules/themes/theme-applier/visibility.js","../src/modules/ui/branding.js","../src/modules/ui/geolocation-state.js","../src/contracts/poi-addform.contract.js","../src/modules/ui/controls.js","../src/modules/ui/coordinates-display.js","../src/modules/ui/dom-utils.js","../src/modules/ui/event-delegation.js","../src/modules/ui/filter-control-builder.js","../src/modules/ui/filter-state-manager.js","../src/modules/ui/panel-builder.js","../src/modules/ui/scale-control.js","../src/modules/ui/theme.js","../src/modules/ui/content-builder/templates.js","../src/modules/ui/filter-panel/shared.js","../src/modules/ui/filter-panel/proximity.js","../src/modules/ui/filter-panel/state-reader.js","../src/modules/poi/poi-api.js","../src/modules/filters/utils.js","../src/modules/filters/poi-filter.js","../src/modules/filters/route-filter.js","../src/modules/filters/index.js","../src/modules/ui/filter-panel/applier.js","../src/modules/ui/filter-panel/svg-helpers.js","../src/modules/ui/filter-panel/lazy-loader.js","../src/modules/ui/filter-panel/renderer.js","../src/modules/ui/filter-panel/core.js","../src/modules/ui/filter-panel.js","../src/modules/globals.ui.js","../src/modules/storage/offline-detector.js","../src/modules/storage/sw-register.js","../src/modules/globals.storage.js","../src/modules/globals.poi.js","../src/modules/api/controller.js","../src/modules/api/factory-manager.js","../src/modules/api/initialization-manager.js","../src/modules/api/module-manager.js","../src/modules/helpers/dom-helpers.js","../src/modules/table/sort.js","../src/modules/table/export.js","../src/contracts/table.contract.js","../src/modules/table/panel.js","../src/modules/table/renderer.js","../src/modules/table/table-api.js","../src/modules/ui/ui-api.js","../src/modules/validators/general-validators.js","../src/modules/api/boot-info.js","../src/modules/api/plugin-registry.js","../src/modules/globals.api.js","../src/modules/globals.js","../src/app/helpers.js","../src/app/init-feature-modules.js","../src/app/init.js","../src/app/boot.js","../src/bundle-entry.js","../src/lazy/poi-core.js","../src/lazy/poi-renderers.js","../src/lazy/poi-extras.js","../src/lazy/basemap-selector.js","../src/lazy/route.js","../src/lazy/layer-manager.js","../src/lazy/legend.js","../src/lazy/labels.js","../src/lazy/themes.js","../src/lazy/table.js"],"sourcesContent":["/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * @module log/logger\r\n * @description GeoLeaf.Log — gestion centralisée des logs\r\n *\r\n * Objectif :\r\n * - remplacer tous les console.log/console.warn/... du projet\r\n * - fournir un niveau de verbosité configurable via la config JSON\r\n * - s'assurer que chaque message possède un préfixe normalisé [GeoLeaf.X]\r\n */\r\n\r\nexport const LEVELS = {\r\n    DEBUG: 0,\r\n    INFO: 1,\r\n    WARN: 2,\r\n    ERROR: 3\r\n};\r\n\r\nlet currentLevel = LEVELS.INFO; // niveau par défaut\r\nlet quietMode = false; // mode silencieux pour les logs répétitifs\r\nconst suppressedMessages = new Set(); // pour éviter les répétitions\r\nconst groupedMessageCounts = new Map(); // pour grouper les messages similaires\r\nconst MAX_GROUPED_ENTRIES = 200; // cap to prevent unbounded growth\r\n\r\nconst formatPrefix = (type) => `[GeoLeaf.${type}]`;\r\n\r\n// Détecte si un message est répétitif ou informatif non critique\r\nconst isRepetitiveMessage = (message) => {\r\n    const patterns = [\r\n        /Chargement du sprite SVG/,\r\n        /Sprite SVG détecté/,\r\n        /IconsConfig récupéré/,\r\n        /Module.*chargé/,\r\n        /Module.*initialisé/,\r\n        /Contrôle.*ajouté/,\r\n        /Bouton.*ajouté/,\r\n        /Panneau.*créé/,\r\n        /Section.*remplie/,\r\n        /Profil.*chargé/,\r\n        /Couche.*chargée/,\r\n        /Style.*appliqué/,\r\n        /ThemeApplier/,\r\n        /LayerManager/,\r\n        /Storage/,\r\n        /CacheButton/,\r\n        /Renderers\\./,\r\n        /FormRenderer/,\r\n        /ResourceEnumerator/,\r\n        /LayerSelector/,\r\n        /CacheControl/,\r\n        /POI.*DEBUG/,\r\n        /AddForm/\r\n    ];\r\n    return patterns.some(pattern => pattern.test(message));\r\n};\r\n\r\n// Messages critiques qui doivent toujours être affichés\r\nconst isCriticalMessage = (message) => {\r\n    const criticalPatterns = [\r\n        /ERROR/,\r\n        /WARN/,\r\n        /Failed/,\r\n        /Error/,\r\n        /Exception/,\r\n        /Carte initialisée avec succès/,\r\n        /All.*modules loaded/,\r\n        /Mode.*activé/\r\n    ];\r\n    return criticalPatterns.some(pattern => pattern.test(message));\r\n};\r\n\r\n// Gère les messages groupés\r\nconst handleGroupedMessage = (message, args) => {\r\n    const key = message.replace(/\\d+/g, 'X').replace(/[{}:,]/g, ''); // normalise\r\n    const count = (groupedMessageCounts.get(key) || 0) + 1;\r\n    groupedMessageCounts.set(key, count);\r\n\r\n    // Evict oldest entries when cap is reached\r\n    if (groupedMessageCounts.size > MAX_GROUPED_ENTRIES) {\r\n        const firstKey = groupedMessageCounts.keys().next().value;\r\n        groupedMessageCounts.delete(firstKey);\r\n    }\r\n\r\n    if (count === 1) {\r\n        return true; // affiche le premier\r\n    } else if (count === 3 && !isCriticalMessage(message)) {\r\n        console.info(`${formatPrefix('INFO')} [Groupé] Message répété - suite masquée: ${message.substring(0, 60)}...`);\r\n        return false;\r\n    } else if (count > 3) {\r\n        return false; // supprime après 3 occurrences pour les non-critiques\r\n    }\r\n    return count <= 2; // affiche max 2 fois les messages non critiques\r\n};\r\n\r\n/**\r\n * Logger centralisé GeoLeaf (implementation)\r\n * @type {Object}\r\n */\r\nconst _LogImpl = {\r\n    /**\r\n     * Définir le niveau de logs global\r\n     * @param {string} level  \"debug\" | \"info\" | \"warn\" | \"error\" | \"production\"\r\n     */\r\n    setLevel(level) {\r\n        const lvl = String(level).toLowerCase();\r\n        switch (lvl) {\r\n            case \"debug\":\r\n                currentLevel = LEVELS.DEBUG;\r\n                break;\r\n            case \"info\":\r\n                currentLevel = LEVELS.INFO;\r\n                break;\r\n            case \"warn\":\r\n                currentLevel = LEVELS.WARN;\r\n                break;\r\n            case \"error\":\r\n                currentLevel = LEVELS.ERROR;\r\n                break;\r\n            case \"production\":\r\n                currentLevel = LEVELS.WARN; // En production, seulement WARN et ERROR\r\n                quietMode = true;\r\n                break;\r\n            default:\r\n                console.warn(`${formatPrefix(\"WARN\")} Niveau de log inconnu :`, level);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Retourne le niveau de log courant (valeur numérique)\r\n     * @returns {number}\r\n     */\r\n    getLevel() {\r\n        return currentLevel;\r\n    },\r\n\r\n    /**\r\n     * Retourne le nom du niveau de log courant\r\n     * @returns {string}\r\n     */\r\n    getLevelName() {\r\n        for (const [name, value] of Object.entries(LEVELS)) {\r\n            if (value === currentLevel) return name;\r\n        }\r\n        return 'UNKNOWN';\r\n    },\r\n\r\n    /**\r\n     * Active/désactive le mode silencieux pour les messages répétitifs\r\n     */\r\n    setQuietMode(enabled) {\r\n        if (quietMode === enabled) return; // éviter les répétitions\r\n        quietMode = enabled;\r\n        if (enabled) {\r\n            console.info(`${formatPrefix(\"INFO\")} Mode silencieux activé - logs répétitifs réduits`);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Affiche un résumé des messages groupés\r\n     */\r\n    showSummary() {\r\n        if (groupedMessageCounts.size > 0) {\r\n            console.group(`${formatPrefix(\"INFO\")} Résumé des logs groupés:`);\r\n            for (const [message, count] of groupedMessageCounts) {\r\n                if (count > 3) {\r\n                    console.info(`• ${count}x: ${message.substring(0, 60)}...`);\r\n                }\r\n            }\r\n            console.groupEnd();\r\n        }\r\n    },\r\n\r\n    debug(...args) {\r\n        if (currentLevel <= LEVELS.DEBUG) {\r\n            const message = args.join(' ');\r\n            if (quietMode && isRepetitiveMessage(message)) {\r\n                if (!handleGroupedMessage(message, args)) return;\r\n            }\r\n            console.debug(formatPrefix(\"DEBUG\"), ...args);\r\n        }\r\n    },\r\n\r\n    info(...args) {\r\n        if (currentLevel <= LEVELS.INFO) {\r\n            const message = args.join(' ');\r\n\r\n            // En mode silencieux, filtrer plus agressivement\r\n            if (quietMode) {\r\n                // Toujours afficher les messages critiques\r\n                if (isCriticalMessage(message)) {\r\n                    console.info(formatPrefix(\"INFO\"), ...args);\r\n                    return;\r\n                }\r\n\r\n                // Grouper/masquer les messages répétitifs\r\n                if (isRepetitiveMessage(message)) {\r\n                    if (!handleGroupedMessage(message, args)) return;\r\n                }\r\n            }\r\n\r\n            console.info(formatPrefix(\"INFO\"), ...args);\r\n        }\r\n    },\r\n\r\n    warn(...args) {\r\n        if (currentLevel <= LEVELS.WARN) {\r\n            console.warn(formatPrefix(\"WARN\"), ...args);\r\n        }\r\n    },\r\n\r\n    error(...args) {\r\n        if (currentLevel <= LEVELS.ERROR) {\r\n            console.error(formatPrefix(\"ERROR\"), ...args);\r\n        }\r\n    }\r\n};\r\n\r\n// ── Local globalThis reference (for test-mock Proxy delegation) ──\r\nconst _g = typeof globalThis !== 'undefined'\r\n    ? globalThis\r\n    : typeof window !== 'undefined' ? window : {};\r\n\r\n/**\r\n * Exported Log proxy — delegates to LogImpl; provides CJS test override surface\r\n * (global.GeoLeaf.Log = mock)\r\n * while modules use the standard `import { Log }` pattern.\r\n * @type {Object}\r\n */\r\nexport const Log = new Proxy(_LogImpl, {\r\n    get(_target, prop, receiver) {\r\n        const current = _g.GeoLeaf && _g.GeoLeaf.Log;\r\n        if (current && current !== _LogImpl && current !== receiver && prop in current) {\r\n            return current[prop];\r\n        }\r\n        return _LogImpl[prop];\r\n    }\r\n});\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * @module errors\r\n * @description Typed error classes for GeoLeaf.\r\n * Each error type includes context information and can be caught specifically.\r\n */\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n// ── Base class ──\r\n\r\nexport class GeoLeafError extends Error {\r\n    constructor(message, context = {}) {\r\n        super(message);\r\n        this.name = this.constructor.name;\r\n        this.context = context;\r\n        this.timestamp = new Date().toISOString();\r\n        if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(this, this.constructor);\r\n        }\r\n    }\r\n\r\n    toJSON() {\r\n        return {\r\n            name: this.name,\r\n            message: this.message,\r\n            context: this.context,\r\n            timestamp: this.timestamp,\r\n            stack: this.stack\r\n        };\r\n    }\r\n\r\n    toString() {\r\n        const contextStr = Object.keys(this.context).length > 0\r\n            ? ` [Context: ${JSON.stringify(this.context)}]`\r\n            : '';\r\n        return `${this.name}: ${this.message}${contextStr}`;\r\n    }\r\n}\r\n\r\n// ── Specific error types ──\r\n\r\nexport class ValidationError extends GeoLeafError {\r\n    constructor(message, context = {}) {\r\n        super(message, context);\r\n        this.code = 'VALIDATION_ERROR';\r\n    }\r\n}\r\n\r\nexport class SecurityError extends GeoLeafError {\r\n    constructor(message, context = {}) {\r\n        super(message, context);\r\n        this.code = 'SECURITY_ERROR';\r\n    }\r\n}\r\n\r\nexport class ConfigError extends GeoLeafError {\r\n    constructor(message, context = {}) {\r\n        super(message, context);\r\n        this.code = 'CONFIG_ERROR';\r\n    }\r\n}\r\n\r\nexport class NetworkError extends GeoLeafError {\r\n    constructor(message, context = {}) {\r\n        super(message, context);\r\n        this.code = 'NETWORK_ERROR';\r\n    }\r\n}\r\n\r\nexport class InitializationError extends GeoLeafError {\r\n    constructor(message, context = {}) {\r\n        super(message, context);\r\n        this.code = 'INITIALIZATION_ERROR';\r\n    }\r\n}\r\n\r\nexport class MapError extends GeoLeafError {\r\n    constructor(message, context = {}) {\r\n        super(message, context);\r\n        this.code = 'MAP_ERROR';\r\n    }\r\n}\r\n\r\nexport class DataError extends GeoLeafError {\r\n    constructor(message, context = {}) {\r\n        super(message, context);\r\n        this.code = 'DATA_ERROR';\r\n    }\r\n}\r\n\r\nexport class POIError extends GeoLeafError {\r\n    constructor(message, context = {}) {\r\n        super(message, context);\r\n        this.code = 'POI_ERROR';\r\n    }\r\n}\r\n\r\nexport class RouteError extends GeoLeafError {\r\n    constructor(message, context = {}) {\r\n        super(message, context);\r\n        this.code = 'ROUTE_ERROR';\r\n    }\r\n}\r\n\r\nexport class UIError extends GeoLeafError {\r\n    constructor(message, context = {}) {\r\n        super(message, context);\r\n        this.code = 'UI_ERROR';\r\n    }\r\n}\r\n\r\n// ── Error codes enum ──\r\n\r\nexport const ErrorCodes = Object.freeze({\r\n    VALIDATION: 'VALIDATION_ERROR',\r\n    SECURITY: 'SECURITY_ERROR',\r\n    CONFIG: 'CONFIG_ERROR',\r\n    NETWORK: 'NETWORK_ERROR',\r\n    INITIALIZATION: 'INITIALIZATION_ERROR',\r\n    MAP: 'MAP_ERROR',\r\n    DATA: 'DATA_ERROR',\r\n    POI: 'POI_ERROR',\r\n    ROUTE: 'ROUTE_ERROR',\r\n    UI: 'UI_ERROR'\r\n});\r\n\r\n// ── Utility functions ──\r\n\r\nexport function normalizeError(error, defaultMessage = 'An unknown error occurred') {\r\n    if (error instanceof Error) return error;\r\n    if (typeof error === 'string') return new GeoLeafError(error);\r\n    if (error && typeof error === 'object') {\r\n        const message = error.message || error.error || defaultMessage;\r\n        return new GeoLeafError(message, { originalError: error });\r\n    }\r\n    return new GeoLeafError(defaultMessage, { originalError: error });\r\n}\r\n\r\nexport function isErrorType(error, ErrorClass) {\r\n    return error instanceof ErrorClass;\r\n}\r\n\r\nexport function getErrorCode(error) {\r\n    if (error && typeof error === 'object' && 'code' in error) return error.code;\r\n    return 'UNKNOWN_ERROR';\r\n}\r\n\r\nexport function createError(ErrorClass, message, context = {}) {\r\n    const error = new ErrorClass(message, context);\r\n    if (Error.captureStackTrace) {\r\n        Error.captureStackTrace(error, createError);\r\n    }\r\n    return error;\r\n}\r\n\r\nexport function createErrorByType(type, message, context = {}) {\r\n    const errorMap = {\r\n        'validation': ValidationError,\r\n        'security': SecurityError,\r\n        'config': ConfigError,\r\n        'network': NetworkError,\r\n        'initialization': InitializationError,\r\n        'map': MapError,\r\n        'data': DataError,\r\n        'poi': POIError,\r\n        'route': RouteError,\r\n        'ui': UIError\r\n    };\r\n    const ErrorClass = errorMap[type.toLowerCase()] || GeoLeafError;\r\n    return createError(ErrorClass, message, context);\r\n}\r\n\r\nexport function sanitizeErrorMessage(message, maxLength = 500) {\r\n    if (message == null) return 'Unknown error';\r\n    let str = typeof message === 'string' ? message : String(message);\r\n    str = str\r\n        .replace(/&/g, '&amp;')\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(/'/g, '&#39;');\r\n    if (str.length > maxLength) {\r\n        str = str.slice(0, maxLength) + '...';\r\n    }\r\n    return str;\r\n}\r\n\r\nexport function safeErrorHandler(handler, error) {\r\n    if (typeof handler !== 'function') return;\r\n    try {\r\n        handler(error);\r\n    } catch (handlerError) {\r\n        Log.error('[GeoLeaf.Errors] Error in error handler:', handlerError);\r\n        Log.error('[GeoLeaf.Errors] Original error:', error);\r\n    }\r\n}\r\n\r\n// ── Aggregate export (facade) ──\r\n\r\nexport const Errors = {\r\n    GeoLeafError,\r\n    ValidationError,\r\n    SecurityError,\r\n    ConfigError,\r\n    NetworkError,\r\n    InitializationError,\r\n    MapError,\r\n    DataError,\r\n    POIError,\r\n    RouteError,\r\n    UIError,\r\n    normalizeError,\r\n    isErrorType,\r\n    getErrorCode,\r\n    createError,\r\n    createErrorByType,\r\n    sanitizeErrorMessage,\r\n    safeErrorHandler,\r\n    ErrorCodes\r\n};\r\n\r\n// ── Backward compatibility moved to globals.js ──\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * @module constants\r\n * @description Constantes globales GeoLeaf — valeurs numériques centralisées.\r\n */\r\n\r\nexport const CONSTANTS = Object.freeze({\r\n    // Carte — vue neutre, le fitBounds positionne après chargement des couches\r\n    DEFAULT_ZOOM: 3,\r\n    DEFAULT_CENTER: [0, 0],\r\n    MAX_ZOOM_ON_FIT: 15,\r\n\r\n    // POI\r\n    POI_MARKER_SIZE: 12,\r\n    POI_MAX_ZOOM: 18,\r\n    POI_SWIPE_THRESHOLD: 50,\r\n    POI_LIGHTBOX_TRANSITION_MS: 300,\r\n    POI_SIDEPANEL_DEFAULT_WIDTH: 420,\r\n\r\n    // Route\r\n    ROUTE_MAX_ZOOM_ON_FIT: 14,\r\n    ROUTE_WAYPOINT_RADIUS: 5,\r\n\r\n    // GeoJSON\r\n    GEOJSON_MAX_ZOOM_ON_FIT: 15,\r\n    GEOJSON_POINT_RADIUS: 6,\r\n\r\n    // UI\r\n    FULLSCREEN_TRANSITION_MS: 10\r\n});\r\n\r\n// ── Backward compatibility moved to globals.js ──\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * @module security\r\n * @description Security functions for GeoLeaf — HTML escaping, URL validation, sanitization.\r\n */\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n// ── HTML Escaping ──\r\n\r\n/**\r\n * Escape dangerous HTML characters to prevent XSS\r\n * @param {string} str - String to escape\r\n * @returns {string} Escaped string\r\n */\r\nexport function escapeHtml(str) {\r\n    if (str === null || str === undefined) {\r\n        return '';\r\n    }\r\n    if (typeof str !== 'string') {\r\n        str = String(str);\r\n    }\r\n    const div = document.createElement('div');\r\n    div.textContent = str;\r\n    // SAFE: innerHTML here gets the escaped version of textContent\r\n    return div.innerHTML;\r\n}\r\n\r\n/**\r\n * Escape HTML attributes for safe use in attribute values\r\n * @param {string} str - String to escape\r\n * @returns {string} Escaped string\r\n */\r\nexport function escapeAttribute(str) {\r\n    if (str === null || str === undefined) {\r\n        return '';\r\n    }\r\n    if (typeof str !== 'string') {\r\n        str = String(str);\r\n    }\r\n    return str\r\n        .replace(/&/g, '&amp;')\r\n        .replace(/'/g, '&#39;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;');\r\n}\r\n\r\n// ── URL Validation ──\r\n\r\n/**\r\n * Validate a URL strictly with protocol whitelist\r\n * @param {string} url - URL to validate\r\n * @param {string} [baseUrl] - Base URL for resolving relative URLs\r\n * @returns {string} Validated URL\r\n * @throws {Error} If URL is invalid or protocol not allowed\r\n */\r\nexport function validateUrl(url, baseUrl) {\r\n    if (!url || typeof url !== 'string') {\r\n        throw new TypeError('URL must be a non-empty string');\r\n    }\r\n\r\n    url = url.trim();\r\n\r\n    const _loc = typeof globalThis !== 'undefined' && globalThis.location ? globalThis.location : (typeof location !== 'undefined' ? location : null);\r\n    const base = baseUrl || (_loc && _loc.origin) || 'https://localhost';\r\n\r\n    try {\r\n        const parsed = new URL(url, base);\r\n\r\n        const ALLOWED_PROTOCOLS = ['http:', 'https:', 'data:'];\r\n        if (!ALLOWED_PROTOCOLS.includes(parsed.protocol)) {\r\n            throw new Error(\r\n                `Protocol \"${parsed.protocol}\" not allowed. Allowed protocols: ${ALLOWED_PROTOCOLS.join(', ')}`\r\n            );\r\n        }\r\n\r\n        // Additional validation for data: URLs\r\n        if (parsed.protocol === 'data:') {\r\n            const allowedDataTypes = [\r\n                'image/png', 'image/jpeg', 'image/jpg', 'image/gif',\r\n                'image/svg+xml', 'image/webp'\r\n            ];\r\n            const dataPrefix = url.split(',')[0];\r\n            const mimeMatch = dataPrefix.match(/data:([^;,]+)/);\r\n            if (!mimeMatch) {\r\n                throw new Error('Invalid data URL format');\r\n            }\r\n            if (!allowedDataTypes.includes(mimeMatch[1])) {\r\n                throw new Error(\r\n                    `Data URL type \"${mimeMatch[1]}\" not allowed. Allowed: ${allowedDataTypes.join(', ')}`\r\n                );\r\n            }\r\n        }\r\n\r\n        return parsed.href;\r\n    } catch (e) {\r\n        if (e.message.includes('not allowed')) {\r\n            throw e;\r\n        }\r\n        throw new Error(`Invalid URL \"${url}\": ${e.message}`);\r\n    }\r\n}\r\n\r\n// ── Coordinate Validation ──\r\n\r\n/**\r\n * Validate geographic coordinates\r\n * @param {number} lat - Latitude\r\n * @param {number} lng - Longitude\r\n * @returns {[number, number]} Validated coordinates [lat, lng]\r\n * @throws {TypeError|RangeError} If coordinates are invalid\r\n */\r\nexport function validateCoordinates(lat, lng) {\r\n    if (typeof lat !== 'number' || typeof lng !== 'number') {\r\n        throw new TypeError(\r\n            `Coordinates must be numbers, got lat=${typeof lat}, lng=${typeof lng}`\r\n        );\r\n    }\r\n    if (!Number.isFinite(lat) || !Number.isFinite(lng)) {\r\n        throw new RangeError('Coordinates must be finite numbers (not NaN or Infinity)');\r\n    }\r\n    if (lat < -90 || lat > 90) {\r\n        throw new RangeError(`Latitude must be between -90 and 90, got ${lat}`);\r\n    }\r\n    if (lng < -180 || lng > 180) {\r\n        throw new RangeError(`Longitude must be between -180 and 180, got ${lng}`);\r\n    }\r\n    return [lat, lng];\r\n}\r\n\r\n// ── POI Sanitization ──\r\n\r\n/**\r\n * Sanitize a POI properties object — escapes text fields and validates URLs\r\n * @param {Object} props - Properties to sanitize\r\n * @returns {Object} Sanitized properties\r\n */\r\nexport function sanitizePoiProperties(props) {\r\n    if (!props || typeof props !== 'object') {\r\n        return {};\r\n    }\r\n\r\n    const sanitized = {};\r\n    const textFields = ['label', 'name', 'title', 'description', 'desc', 'address', 'phone', 'email', 'category', 'type'];\r\n    const urlFields = ['url', 'website', 'image', 'photo', 'icon'];\r\n\r\n    for (const [key, value] of Object.entries(props)) {\r\n        if (typeof value === 'function' || typeof value === 'symbol') continue;\r\n\r\n        if (value === null || value === undefined) {\r\n            sanitized[key] = '';\r\n            continue;\r\n        }\r\n\r\n        if (textFields.includes(key) && typeof value === 'string') {\r\n            sanitized[key] = escapeHtml(value);\r\n        } else if (urlFields.includes(key) && typeof value === 'string') {\r\n            try {\r\n                sanitized[key] = validateUrl(value);\r\n            } catch (e) {\r\n                Log.warn(`[Security] Invalid URL for ${key}: ${e.message}`);\r\n                sanitized[key] = '';\r\n            }\r\n        } else if (Array.isArray(value)) {\r\n            sanitized[key] = value.map(item => {\r\n                if (typeof item === 'object' && item !== null) return sanitizePoiProperties(item);\r\n                if (typeof item === 'string') return escapeHtml(item);\r\n                return item;\r\n            });\r\n        } else if (typeof value === 'object' && value !== null) {\r\n            sanitized[key] = sanitizePoiProperties(value);\r\n        } else {\r\n            sanitized[key] = value;\r\n        }\r\n    }\r\n\r\n    return sanitized;\r\n}\r\n\r\n// ── HTML Detection & Stripping ──\r\n\r\n/**\r\n * Check if a string contains potentially dangerous HTML\r\n * @param {string} str - String to check\r\n * @returns {boolean} True if contains dangerous HTML\r\n */\r\nexport function containsDangerousHtml(str) {\r\n    if (typeof str !== 'string') return false;\r\n\r\n    const dangerousPatterns = [\r\n        /<script/i, /javascript:/i, /on\\w+\\s*=/i,\r\n        /<iframe/i, /<object/i, /<embed/i,\r\n        /<applet/i, /<meta/i, /<link/i,\r\n        /vbscript:/i, /data:text\\/html/i\r\n    ];\r\n\r\n    return dangerousPatterns.some(pattern => pattern.test(str));\r\n}\r\n\r\n/**\r\n * Strip all HTML from a string, keeping only text content\r\n * @param {string} html - HTML to strip\r\n * @returns {string} Plain text\r\n */\r\nexport function stripHtml(html) {\r\n    if (typeof html !== 'string') return '';\r\n\r\n    // SAFE: DOMParser instead of innerHTML to avoid script execution\r\n    const parser = new DOMParser();\r\n    const doc = parser.parseFromString(html, 'text/html');\r\n    return doc.body.textContent || doc.body.innerText || '';\r\n}\r\n\r\n// ── Safe DOM Creation ──\r\n\r\n/**\r\n * Create a DOM element safely with automatic content escaping\r\n * @param {string} tagName - HTML tag name\r\n * @param {Object} options - Configuration\r\n * @returns {Element} Created DOM element\r\n */\r\nexport function createSafeElement(tagName, options = {}) {\r\n    const element = document.createElement(tagName);\r\n\r\n    if (options.className) element.className = options.className;\r\n    if (options.id) element.id = options.id;\r\n    if (options.textContent) {\r\n        // SAFE: textContent automatically escapes HTML\r\n        element.textContent = options.textContent;\r\n    }\r\n    if (options.attributes) {\r\n        Object.keys(options.attributes).forEach(key => {\r\n            element.setAttribute(key, escapeAttribute(options.attributes[key]));\r\n        });\r\n    }\r\n    if (options.children && Array.isArray(options.children)) {\r\n        options.children.forEach(child => {\r\n            if (child instanceof Element) element.appendChild(child);\r\n        });\r\n    }\r\n\r\n    return element;\r\n}\r\n\r\n// ── SVG Sanitization ──\r\n\r\n/**\r\n * Parse and sanitize SVG content safely\r\n * @param {string} svgContent - Raw SVG content\r\n * @returns {SVGElement|null} Sanitized SVG element or null\r\n */\r\nexport function sanitizeSvgContent(svgContent) {\r\n    if (!svgContent || typeof svgContent !== 'string') return null;\r\n\r\n    try {\r\n        const parser = new DOMParser();\r\n        const doc = parser.parseFromString(svgContent, 'image/svg+xml');\r\n\r\n        const parserError = doc.querySelector('parsererror');\r\n        if (parserError) {\r\n            Log.warn('[Security] Erreur parsing SVG:', parserError.textContent);\r\n            return null;\r\n        }\r\n\r\n        const svgEl = doc.documentElement;\r\n        if (!svgEl || svgEl.tagName.toLowerCase() !== 'svg') {\r\n            Log.warn(\"[Security] Contenu SVG invalide: élément racine n'est pas SVG\");\r\n            return null;\r\n        }\r\n\r\n        // Remove dangerous elements\r\n        const dangerousElements = ['script', 'foreignObject', \"use[href^='data:']\"];\r\n        dangerousElements.forEach(selector => {\r\n            const elements = svgEl.querySelectorAll(selector);\r\n            elements.forEach(el => el.remove());\r\n        });\r\n\r\n        // Remove event handler attributes\r\n        const allElements = svgEl.querySelectorAll('*');\r\n        allElements.forEach(el => {\r\n            Array.from(el.attributes).forEach(attr => {\r\n                if (attr.name.toLowerCase().startsWith('on')) {\r\n                    el.removeAttribute(attr.name);\r\n                }\r\n                if ((attr.name === 'href' || attr.name === 'xlink:href') &&\r\n                    attr.value.toLowerCase().trim().startsWith('javascript:')) {\r\n                    el.removeAttribute(attr.name);\r\n                }\r\n            });\r\n        });\r\n\r\n        return svgEl;\r\n    } catch (e) {\r\n        Log.warn('[Security] Erreur sanitization SVG:', e.message);\r\n        return null;\r\n    }\r\n}\r\n\r\n// ── Number Validation ──\r\n\r\n/**\r\n * Validate that a value is a number within a given range\r\n * @param {*} value - Value to validate\r\n * @param {number} [min=-Infinity] - Minimum value\r\n * @param {number} [max=Infinity] - Maximum value\r\n * @returns {number|null} Validated number or null\r\n */\r\nexport function validateNumber(value, min = -Infinity, max = Infinity) {\r\n    const num = Number(value);\r\n    if (!Number.isFinite(num)) return null;\r\n    if (num < min || num > max) return null;\r\n    return num;\r\n}\r\n\r\n// ── Safe HTML Parsing ──\r\n\r\n/**\r\n * Parse HTML safely with tag whitelist\r\n * @param {string} html - HTML to parse\r\n * @param {string[]} [allowedTags] - Allowed tag names\r\n * @returns {DocumentFragment} Cleaned DOM fragment\r\n */\r\nexport function parseHtmlSafely(html, allowedTags = ['p', 'br', 'strong', 'em', 'span', 'a', 'ul', 'ol', 'li', 'b', 'i']) {\r\n    const fragment = document.createDocumentFragment();\r\n    if (!html || typeof html !== 'string') return fragment;\r\n\r\n    try {\r\n        const parser = new DOMParser();\r\n        const doc = parser.parseFromString(html, 'text/html');\r\n\r\n        const cleanNode = (node) => {\r\n            if (node.nodeType === Node.TEXT_NODE) {\r\n                return document.createTextNode(node.textContent);\r\n            }\r\n            if (node.nodeType !== Node.ELEMENT_NODE) return null;\r\n\r\n            const tagName = node.tagName.toLowerCase();\r\n            if (!allowedTags.includes(tagName)) {\r\n                return document.createTextNode(node.textContent);\r\n            }\r\n\r\n            const cleanElement = document.createElement(tagName);\r\n\r\n            if (tagName === 'a' && node.hasAttribute('href')) {\r\n                try {\r\n                    const href = validateUrl(node.getAttribute('href'));\r\n                    cleanElement.setAttribute('href', href);\r\n                    cleanElement.setAttribute('rel', 'noopener noreferrer');\r\n                    cleanElement.setAttribute('target', '_blank');\r\n                } catch (_) {\r\n                    // Invalid URL — ignore the link\r\n                }\r\n            }\r\n\r\n            node.childNodes.forEach(child => {\r\n                const cleanChild = cleanNode(child);\r\n                if (cleanChild) cleanElement.appendChild(cleanChild);\r\n            });\r\n\r\n            return cleanElement;\r\n        };\r\n\r\n        doc.body.childNodes.forEach(child => {\r\n            const cleanChild = cleanNode(child);\r\n            if (cleanChild) fragment.appendChild(cleanChild);\r\n        });\r\n    } catch (e) {\r\n        Log.warn('[Security] Erreur parsing HTML sécurisé:', e.message);\r\n    }\r\n\r\n    return fragment;\r\n}\r\n\r\n// ── Alias for backward compatibility ──\r\n\r\n/**\r\n * Sanitize HTML content and inject into a DOM element safely.\r\n * @param {Element} element - Target DOM element\r\n * @param {string} html - HTML string to sanitize\r\n * @param {Object} [options] - Options\r\n * @param {boolean} [options.stripAll=false] - Strip all HTML, keep text only\r\n * @param {string[]} [options.allowedTags] - Whitelist of allowed tags\r\n * @returns {Element|null} The element for chaining, or null if invalid\r\n */\r\nexport function sanitizeHTML(element, html, options = {}) {\r\n    if (!element || typeof element.appendChild !== 'function') return null;\r\n\r\n    if (html == null) {\r\n        element.innerHTML = '';\r\n        return element;\r\n    }\r\n\r\n    const str = typeof html === 'string' ? html : String(html);\r\n\r\n    // SECURITY: 'trusted' option removed — all content is now sanitized.\r\n    // Use parseHtmlSafely with a broad allowedTags list if you need rich HTML.\r\n    if (options.trusted) {\r\n        Log.warn('[GeoLeaf.Security] sanitizeHTML({ trusted: true }) is deprecated and ignored. All content is now sanitized.');\r\n    }\r\n\r\n    if (options.stripAll) {\r\n        element.textContent = stripHtml(str);\r\n        return element;\r\n    }\r\n\r\n    const allowedTags = options.allowedTags || ['p', 'br', 'strong', 'em', 'span', 'a', 'ul', 'ol', 'li', 'b', 'i'];\r\n    const fragment = parseHtmlSafely(str, allowedTags);\r\n    element.innerHTML = '';\r\n    element.appendChild(fragment);\r\n    return element;\r\n}\r\n\r\n// ── Aggregate export (facade) ──\r\n\r\nexport const Security = {\r\n    escapeHtml,\r\n    escapeAttribute,\r\n    validateUrl,\r\n    validateCoordinates,\r\n    sanitizePoiProperties,\r\n    containsDangerousHtml,\r\n    stripHtml,\r\n    createSafeElement,\r\n    sanitizeSvgContent,\r\n    validateNumber,\r\n    parseHtmlSafely,\r\n    sanitizeHTML\r\n};\r\n\r\n// ── Backward compatibility moved to globals.js ──\r\n","/*!\n * GeoLeaf Core\n * © 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * @module security/csrf-token\n * @description CSRF Token Manager — generates and validates CSRF tokens.\n */\n\nimport { Log } from '../log/index.js';\n\nconst _g = typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof window !== 'undefined' ? window : {};\n\n\n/**\n * CSRF Token Manager\n */\nexport const CSRFToken = {\n    /** @private */\n    _token: null,\n    /** @private */\n    _tokenExpiry: null,\n    /** @private */\n    _tokenDuration: 3600000, // 1 hour\n    /** @private interval handle */\n    _refreshIntervalId: null,\n\n    /**\n     * Initialize CSRF protection — generates initial token and starts auto-refresh.\n     */\n    init() {\n        try {\n            this._token = this._generateToken();\n            this._tokenExpiry = Date.now() + this._tokenDuration;\n            this._startAutoRefresh();\n            Log.info('[CSRF] Token initialized');\n        } catch (e) {\n            Log.error('[CSRF] Init failed — crypto.getRandomValues unavailable:', e.message);\n            this._token = null;\n        }\n    },\n\n    /**\n     * Generate a cryptographically secure token\n     * @private\n     * @returns {string}\n     * @throws {Error} When crypto.getRandomValues is unavailable (insecure environment)\n     */\n    _generateToken() {\n        if (_g.crypto && _g.crypto.getRandomValues) {\n            const array = new Uint8Array(32);\n            _g.crypto.getRandomValues(array);\n            return btoa(String.fromCharCode.apply(null, array))\n                .replace(/\\+/g, '-')\n                .replace(/\\//g, '_')\n                .replace(/=/g, '');\n        }\n        // 8.1.2 Phase 8: Math.random() fallback removed — insecure for CSRF tokens.\n        // Environments without crypto.getRandomValues cannot generate safe CSRF tokens.\n        Log.error('[CSRF] crypto.getRandomValues not available — CSRF protection disabled');\n        throw new Error('[CSRF] Secure random number generation not available');\n    },\n\n    /**\n     * Get current CSRF token (auto-refreshes if expired)\n     * @returns {string|null} token or null if crypto unavailable\n     */\n    getToken() {\n        if (!this._token || Date.now() >= this._tokenExpiry) {\n            Log.info('[CSRF] Token expired, generating new one');\n            try {\n                this._token = this._generateToken();\n                this._tokenExpiry = Date.now() + this._tokenDuration;\n            } catch (e) {\n                Log.error('[CSRF] Token generation failed:', e.message);\n                this._token = null;\n            }\n        }\n        return this._token;\n    },\n\n    /**\n     * Validate a token\n     * @param {string} token\n     * @returns {boolean}\n     */\n    validateToken(token) {\n        if (!token || typeof token !== 'string') return false;\n        if (token === this._token && Date.now() < this._tokenExpiry) return true;\n        Log.warn('[CSRF] Token validation failed');\n        return false;\n    },\n\n    /**\n     * Add CSRF token to form data or plain object\n     * @param {FormData|Object} data\n     * @returns {FormData|Object}\n     */\n    addTokenToData(data) {\n        const token = this.getToken();\n        if (data instanceof FormData) {\n            data.append('csrf_token', token);\n        } else if (typeof data === 'object' && data !== null) {\n            data.csrf_token = token;\n        }\n        return data;\n    },\n\n    /**\n     * Add CSRF token as X-CSRF-Token header to fetch options\n     * @param {Object} options\n     * @returns {Object}\n     */\n    addTokenToHeaders(options = {}) {\n        const token = this.getToken();\n        if (!options.headers) options.headers = {};\n        options.headers['X-CSRF-Token'] = token;\n        return options;\n    },\n\n    /**\n     * Create a hidden input field with CSRF token\n     * @returns {HTMLInputElement}\n     */\n    createTokenInput() {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = 'csrf_token';\n        input.value = this.getToken();\n        input.className = 'csrf-token-input';\n        return input;\n    },\n\n    /**\n     * Add CSRF token input to a form\n     * @param {HTMLFormElement} form\n     */\n    addTokenToForm(form) {\n        if (!form || !(form instanceof HTMLFormElement)) {\n            Log.error('[CSRF] Invalid form element');\n            return;\n        }\n        const existingInput = form.querySelector('input[name=\"csrf_token\"]');\n        if (existingInput) {\n            existingInput.value = this.getToken();\n            return;\n        }\n        form.appendChild(this.createTokenInput());\n    },\n\n    /**\n     * Validate CSRF token from form submission data\n     * @param {FormData|Object} data\n     * @returns {boolean}\n     */\n    validateFormToken(data) {\n        let token;\n        if (data instanceof FormData) {\n            token = data.get('csrf_token');\n        } else if (typeof data === 'object' && data !== null) {\n            token = data.csrf_token;\n        }\n        return this.validateToken(token);\n    },\n\n    /**\n     * Set a SameSite secure cookie\n     * @param {string} cookieName\n     * @param {string} value\n     * @param {Object} [options]\n     */\n    setSecureCookie(cookieName, value, options = {}) {\n        const {\n            maxAge = 3600,\n            path = '/',\n            sameSite = 'Strict',\n            secure = true\n        } = options;\n\n        let cookie = `${encodeURIComponent(cookieName)}=${encodeURIComponent(value)}`;\n        cookie += `; Max-Age=${maxAge}`;\n        cookie += `; Path=${path}`;\n        cookie += `; SameSite=${sameSite}`;\n\n        if (secure && _g.location && _g.location.protocol === 'https:') {\n            cookie += '; Secure';\n        }\n\n        document.cookie = cookie;\n        Log.info(`[CSRF] Secure cookie set: ${cookieName}`);\n    },\n\n    /**\n     * Auto-refresh token before expiry\n     * @private\n     */\n    _startAutoRefresh() {\n        const refreshInterval = this._tokenDuration - (5 * 60 * 1000);\n        this._refreshIntervalId = setInterval(() => {\n            Log.info('[CSRF] Auto-refreshing token');\n            this._token = this._generateToken();\n            this._tokenExpiry = Date.now() + this._tokenDuration;\n\n            if (typeof CustomEvent !== 'undefined') {\n                const event = new CustomEvent('geoleaf:csrf:refreshed', {\n                    detail: { token: this._token }\n                });\n                document.dispatchEvent(event);\n            }\n        }, refreshInterval);\n    },\n\n    /**\n     * Stoppe l'auto-refresh et nettoie le token.\n     */\n    destroy() {\n        if (this._refreshIntervalId !== null) {\n            clearInterval(this._refreshIntervalId);\n            this._refreshIntervalId = null;\n        }\n        this._token = null;\n        this._tokenExpiry = null;\n        Log.debug('[CSRF] Destroyed');\n    },\n\n    /**\n     * Force new token generation (call after sensitive operations)\n     */\n    rotateToken() {\n        Log.info('[CSRF] Rotating token');\n        this._token = this._generateToken();\n        this._tokenExpiry = Date.now() + this._tokenDuration;\n\n        if (typeof CustomEvent !== 'undefined') {\n            const event = new CustomEvent('geoleaf:csrf:rotated', {\n                detail: { token: this._token }\n            });\n            document.dispatchEvent(event);\n        }\n    },\n\n    /**\n     * Get token info (debugging only)\n     * @returns {Object}\n     */\n    getTokenInfo() {\n        return {\n            hasToken: !!this._token,\n            expiresIn: this._tokenExpiry ? Math.max(0, this._tokenExpiry - Date.now()) : 0,\n            isValid: this._token && Date.now() < this._tokenExpiry\n        };\n    }\n};\n\n// ── Backward compatibility moved to globals.js ──\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n\r\n/**\r\n * Logger unifié\r\n */\r\n\r\n/**\r\n * Module Config.Storage\r\n *\r\n * Responsabilités :\r\n * - Stockage et gestion de la configuration consolidée\r\n * - API get/set avec chemins \"a.b.c\"\r\n * - Fusion profonde (deep merge)\r\n * - Helpers de navigation dans l'arbre de config\r\n */\r\nconst StorageModule = {\r\n    /**\r\n     * Configuration interne (référence partagée)\r\n     * @type {Object}\r\n     * @private\r\n     */\r\n    _config: null,\r\n\r\n    /**\r\n     * Initialise le module avec une référence à la config.\r\n     *\r\n     * @param {Object} config - Référence à l'objet de configuration global\r\n     */\r\n    init(config) {\r\n        this._config = config;\r\n    },\r\n\r\n    /**\r\n     * Retourne la configuration complète (objet).\r\n     *\r\n     * @returns {Object}\r\n     */\r\n    getAll() {\r\n        return this._config || {};\r\n    },\r\n\r\n    /**\r\n     * Récupère une valeur via un chemin de type \"map.center\" ou \"basemaps.street.url\".\r\n     *\r\n     * @param {string} path - Chemin avec des points.\r\n     * @param {*} [defaultValue] - Valeur renvoyée si le chemin n'existe pas.\r\n     * @returns {*}\r\n     */\r\n    get(path, defaultValue) {\r\n        if (!this._config || !path || typeof path !== \"string\") {\r\n            return typeof defaultValue === \"undefined\" ? undefined : defaultValue;\r\n        }\r\n        // Phase 4 dedup: delegate to getValueByPath\r\n        const result = this.getValueByPath(this._config, path);\r\n        return result === undefined\r\n            ? (typeof defaultValue === \"undefined\" ? undefined : defaultValue)\r\n            : result;\r\n    },\r\n\r\n    /**\r\n     * Définit une valeur via un chemin de type \"map.center\" ou \"basemaps.street.url\".\r\n     * Crée les objets intermédiaires si nécessaire.\r\n     *\r\n     * @param {string} path\r\n     * @param {*} value\r\n     */\r\n    set(path, value) {\r\n        if (!this._config) {\r\n            Log.warn(\"[GeoLeaf.Config.Storage] Configuration non initialisée.\");\r\n            return;\r\n        }\r\n\r\n        if (!path || typeof path !== \"string\") {\r\n            Log.warn(\"[GeoLeaf.Config.Storage] set() requiert un chemin string.\");\r\n            return;\r\n        }\r\n\r\n        const segments = path.split(\".\");\r\n        let current = this._config;\r\n\r\n        for (let i = 0; i < segments.length; i++) {\r\n            const key = segments[i];\r\n\r\n            if (i === segments.length - 1) {\r\n                current[key] = value;\r\n            } else {\r\n                if (\r\n                    !Object.prototype.hasOwnProperty.call(current, key) ||\r\n                    typeof current[key] !== \"object\" ||\r\n                    current[key] === null\r\n                ) {\r\n                    current[key] = {};\r\n                }\r\n                current = current[key];\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Retourne une section de configuration (ex : \"basemaps\", \"map\").\r\n     *\r\n     * @param {string} sectionName\r\n     * @param {Object} [defaultValue]\r\n     * @returns {Object|*}\r\n     */\r\n    getSection(sectionName, defaultValue) {\r\n        if (!sectionName) {\r\n            return typeof defaultValue === \"undefined\" ? undefined : defaultValue;\r\n        }\r\n        const value = this.get(sectionName);\r\n        if (typeof value === \"undefined\") {\r\n            return typeof defaultValue === \"undefined\" ? undefined : defaultValue;\r\n        }\r\n        return value;\r\n    },\r\n\r\n    /**\r\n     * Fusion profonde (deep merge) simple pour objets JSON.\r\n     *\r\n     * @param {Object} target\r\n     * @param {Object} source\r\n     * @returns {Object}\r\n     */\r\n    deepMerge(target, source) {\r\n        const output = Object.assign({}, target || {});\r\n        if (!source || typeof source !== \"object\") {\r\n            return output;\r\n        }\r\n\r\n        Object.keys(source).forEach((key) => {\r\n            const srcVal = source[key];\r\n            const tgtVal = output[key];\r\n\r\n            if (\r\n                srcVal &&\r\n                typeof srcVal === \"object\" &&\r\n                !Array.isArray(srcVal) &&\r\n                tgtVal &&\r\n                typeof tgtVal === \"object\" &&\r\n                !Array.isArray(tgtVal)\r\n            ) {\r\n                output[key] = this.deepMerge(tgtVal, srcVal);\r\n            } else {\r\n                output[key] = srcVal;\r\n            }\r\n        });\r\n\r\n        return output;\r\n    },\r\n\r\n    /**\r\n     * Lecture d'une valeur via un chemin \"a.b.c\".\r\n     *\r\n     * @param {Object} source\r\n     * @param {string} path\r\n     * @returns {*}\r\n     */\r\n    getValueByPath(source, path) {\r\n        if (!source || !path) return undefined;\r\n        const parts = path.split(\".\");\r\n        let current = source;\r\n\r\n        for (let i = 0; i < parts.length; i += 1) {\r\n            if (current == null) {\r\n                return undefined;\r\n            }\r\n            current = current[parts[i]];\r\n        }\r\n\r\n        return current;\r\n    },\r\n\r\n    /**\r\n     * Écriture d'une valeur via un chemin \"a.b.c\".\r\n     * Crée les sous-objets intermédiaires si nécessaire.\r\n     *\r\n     * @param {Object} target\r\n     * @param {string} path\r\n     * @param {*} value\r\n     */\r\n    setValueByPath(target, path, value) {\r\n        if (!target || !path) return;\r\n        const parts = path.split(\".\");\r\n        let current = target;\r\n\r\n        for (let i = 0; i < parts.length - 1; i += 1) {\r\n            const key = parts[i];\r\n            if (\r\n                !Object.prototype.hasOwnProperty.call(current, key) ||\r\n                current[key] == null\r\n            ) {\r\n                current[key] = {};\r\n            }\r\n            current = current[key];\r\n        }\r\n\r\n        current[parts[parts.length - 1]] = value;\r\n    }\r\n};\r\n\r\n// Exposer le module\r\nconst StorageHelper = StorageModule;\r\nexport { StorageHelper };\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { Security } from '../security/index.js';\r\n\r\n\r\n// Perf 6.3.5: Cache the Security module reference — resolved lazily, avoids re-lookup per fetch\r\nlet _cachedSecurity = null;\r\nfunction _getSecurity() {\r\n    if (_cachedSecurity !== null) return _cachedSecurity;\r\n    const sec = Security || null;\r\n    if (sec) _cachedSecurity = sec;\r\n    return sec;\r\n}\r\n\r\n\r\n/**\r\n * Logger unifié\r\n */\r\n\r\n/**\r\n * Module Config.Loader\r\n *\r\n * Responsabilités :\r\n * - Chargement HTTP via fetch() avec validation CSRF/XSS\r\n * - Validation Content-Type stricte\r\n * - Gestion des headers personnalisés\r\n * - Helper générique _fetchJson()\r\n */\r\nconst LoaderModule = {\r\n    /**\r\n     * Charge une configuration depuis une URL JSON et retourne l'objet.\r\n     *\r\n     * @param {string} url - URL du fichier JSON\r\n     * @param {Object} [options] - Options de chargement\r\n     * @param {Object} [options.headers] - Headers HTTP personnalisés (ex: CSRF token)\r\n     * @param {boolean} [options.strictContentType=true] - Validation stricte du Content-Type\r\n     * @returns {Promise<Object>}\r\n     * @example\r\n     * Loader.loadUrl('/api/config.json', {\r\n     *     headers: { 'X-CSRF-Token': '...' },\r\n     *     strictContentType: true\r\n     * })\r\n     */\r\n    loadUrl(url, options = {}) {\r\n        if (!url) {\r\n            Log.warn(\"[GeoLeaf.Config.Loader] URL JSON manquante dans loadUrl().\");\r\n            return Promise.resolve({});\r\n        }\r\n\r\n        const { headers = {}, strictContentType = true } = options;\r\n\r\n        // Validation de l'URL avec le module Security (Perf 6.3.5: lazy-cached)\r\n        const Security = _getSecurity();\r\n\r\n        // Pour les URLs relatives (commençant par ./ ou ../ ou /), on les laisse passer\r\n        const isRelative = /^\\.{0,2}\\//.test(url) || /^\\/[^/]/.test(url);\r\n\r\n        if (!isRelative) {\r\n            // URL absolue : validation stricte avec Security.validateUrl\r\n            if (Security && typeof Security.validateUrl === \"function\") {\r\n                try {\r\n                    const validation = Security.validateUrl(url);\r\n                    if (validation && typeof validation === 'object') {\r\n                        if (!validation.valid) {\r\n                            throw new Error(validation.error || 'URL validation failed');\r\n                        }\r\n                        url = validation.url || url;\r\n                    } else if (typeof validation === 'string') {\r\n                        url = validation;\r\n                    }\r\n                } catch (e) {\r\n                    const errMsg = \"[GeoLeaf.Config.Loader] \" + e.message;\r\n                    Log.error(errMsg);\r\n                    return Promise.reject(new Error(errMsg));\r\n                }\r\n            } else {\r\n                // Fallback : vérification basique si Security pas disponible\r\n                if (!/^https?:\\/\\//i.test(url)) {\r\n                    const errMsg =\r\n                        \"[GeoLeaf.Config.Loader] URL doit être relative ou commencer par http:// ou https://\";\r\n                    Log.error(errMsg);\r\n                    return Promise.reject(new Error(errMsg));\r\n                }\r\n            }\r\n        }\r\n\r\n        // Configuration fetch avec headers personnalisés\r\n        const fetchOptions = {\r\n            method: \"GET\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                ...headers\r\n            }\r\n        };\r\n\r\n        return fetch(url, fetchOptions)\r\n            .then((response) => {\r\n                if (!response.ok) {\r\n                    throw new Error(\"HTTP \" + response.status + \" pour \" + url);\r\n                }\r\n\r\n                // Validation Content-Type stricte\r\n                const contentType = response.headers.get(\"content-type\");\r\n                if (strictContentType) {\r\n                    if (!contentType || !contentType.includes(\"application/json\")) {\r\n                        throw new Error(\r\n                            \"[GeoLeaf.Config.Loader] Content-Type invalide: attendu 'application/json', reçu '\" +\r\n                            (contentType || \"null\") +\r\n                            \"'. Cela peut indiquer une attaque XSS ou un serveur mal configuré.\"\r\n                        );\r\n                    }\r\n                } else if (contentType && !contentType.includes(\"application/json\")) {\r\n                    Log.warn(\"[GeoLeaf.Config.Loader] Content-Type inattendu:\", contentType);\r\n                }\r\n\r\n                // Security: Wrap response.json() to handle parse errors\r\n                return response.json().catch((parseErr) => {\r\n                    const errMsg = \"[GeoLeaf.Config.Loader] Erreur de parsing JSON pour \" + url + \": \" + parseErr.message;\r\n                    Log.error(errMsg);\r\n                    throw new Error(errMsg);\r\n                });\r\n            })\r\n            .then((jsonCfg) => {\r\n                if (typeof jsonCfg !== \"object\" || jsonCfg === null) {\r\n                    throw new Error(\"Le JSON de configuration n'est pas un objet valide.\");\r\n                }\r\n\r\n                return jsonCfg;\r\n            })\r\n            .catch((err) => {\r\n                Log.error(\"[GeoLeaf.Config.Loader] Erreur lors du chargement JSON :\", err);\r\n                throw err;\r\n            });\r\n    },\r\n\r\n    /**\r\n     * Helper interne pour charger un JSON sans le fusionner dans la configuration.\r\n     *\r\n     * @param {string} url\r\n     * @param {Object} [options]\r\n     * @param {Object} [options.headers]\r\n     * @param {boolean} [options.strictContentType=true]\r\n     * @returns {Promise<Object|null>}\r\n     */\r\n    fetchJson(url, options = {}) {\r\n        if (!url) {\r\n            Log.warn(\"[GeoLeaf.Config.Loader] fetchJson() appelé sans URL.\");\r\n            return Promise.resolve(null);\r\n        }\r\n\r\n        const { headers = {}, strictContentType = true } = options;\r\n\r\n        // Perf 6.3.5: lazy-cached Security module reference\r\n        const Security = _getSecurity();\r\n\r\n        const isRelative =\r\n            /^\\.{0,2}\\//.test(url) || /^\\/[^/]/.test(url);\r\n\r\n        if (!isRelative) {\r\n            if (Security && typeof Security.validateUrl === \"function\") {\r\n                try {\r\n                    const validation = Security.validateUrl(url);\r\n                    if (validation && typeof validation === 'object') {\r\n                        if (!validation.valid) {\r\n                            throw new Error(validation.error || 'URL validation failed');\r\n                        }\r\n                        url = validation.url || url;\r\n                    } else if (typeof validation === 'string') {\r\n                        url = validation;\r\n                    }\r\n                } catch (e) {\r\n                    const errMsg =\r\n                        \"[GeoLeaf.Config.Loader] \" + e.message;\r\n                    Log.error(errMsg);\r\n                    return Promise.reject(new Error(errMsg));\r\n                }\r\n            } else {\r\n                if (!/^https?:\\/\\//i.test(url)) {\r\n                    const errMsg =\r\n                        \"[GeoLeaf.Config.Loader] URL doit être relative ou commencer par http:// ou https://\";\r\n                    Log.error(errMsg);\r\n                    return Promise.reject(new Error(errMsg));\r\n                }\r\n            }\r\n        }\r\n\r\n        const fetchOptions = {\r\n            method: \"GET\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                ...headers\r\n            }\r\n        };\r\n\r\n        return fetch(url, fetchOptions)\r\n            .then((response) => {\r\n                if (!response.ok) {\r\n                    throw new Error(\"HTTP \" + response.status + \" pour \" + url);\r\n                }\r\n\r\n                const contentType = response.headers.get(\"content-type\");\r\n                if (strictContentType) {\r\n                    if (!contentType || !contentType.includes(\"application/json\")) {\r\n                        throw new Error(\r\n                            \"[GeoLeaf.Config.Loader] Content-Type invalide dans fetchJson: attendu 'application/json', reçu '\" +\r\n                            (contentType || \"null\") +\r\n                            \"'.\"\r\n                        );\r\n                    }\r\n                } else if (contentType && !contentType.includes(\"application/json\")) {\r\n                    Log.warn(\"[GeoLeaf.Config.Loader] fetchJson() Content-Type inattendu:\", contentType);\r\n                }\r\n\r\n                // Security: Wrap response.json() to handle parse errors\r\n                return response.json().catch((parseErr) => {\r\n                    const errMsg = \"[GeoLeaf.Config.Loader] Erreur de parsing JSON dans fetchJson pour \" + url + \": \" + parseErr.message;\r\n                    Log.error(errMsg);\r\n                    throw new Error(errMsg);\r\n                });\r\n            })\r\n            .then((json) => {\r\n                if (typeof json !== \"object\" || json === null) {\r\n                    Log.warn(\r\n                        \"[GeoLeaf.Config.Loader] fetchJson() a reçu un JSON non-objet pour l'URL :\",\r\n                        url\r\n                    );\r\n                }\r\n                return json;\r\n            })\r\n            .catch((err) => {\r\n                Log.error(\r\n                    \"[GeoLeaf.Config.Loader] Erreur fetchJson() pour \" + url + \" :\",\r\n                    err\r\n                );\r\n                throw err; // Re-throw pour que l'appelant puisse gérer l'erreur\r\n            });\r\n    }\r\n};\r\n\r\n// Exposer le module\r\nconst ProfileLoader = LoaderModule;\r\nexport { ProfileLoader };\r\n","\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { ProfileLoader } from './loader.js';\r\n\r\n\r\n/**\r\n * Logger unifié\r\n */\r\n\r\n/**\r\n * Module Config.Taxonomy\r\n *\r\n * Responsabilités :\r\n * - Chargement et gestion de la taxonomie (catégories/sous-catégories)\r\n * - Lecture des catégories depuis mapping.json (ancienne taxonomie)\r\n * - Lecture des catégories depuis profile.json (nouvelle taxonomie)\r\n * - API de consultation : getCategories(), getCategory(), getSubcategory()\r\n */\r\nconst TaxonomyModule = {\r\n    /**\r\n     * Configuration interne (référence partagée)\r\n     * @type {Object}\r\n     * @private\r\n     */\r\n    _config: null,\r\n\r\n    /**\r\n     * Initialise le module avec une référence à la config.\r\n     *\r\n     * @param {Object} config - Référence à l'objet de configuration global\r\n     */\r\n    init(config) {\r\n        this._config = config;\r\n    },\r\n\r\n    /**\r\n     * Charge un fichier de taxonomie (mapping catégories / sous-catégories)\r\n     * et le fusionne dans la configuration existante.\r\n     *\r\n     * @param {string} [url] - URL du fichier de mapping (depuis le profil)\r\n     * @param {Object} [options]\r\n     * @param {Object} [options.headers]\r\n     * @param {boolean} [options.strictContentType=true]\r\n     * @returns {Promise<Object>} - Objet categories consolidé\r\n     */\r\n    loadTaxonomy(url = null, options = {}) {\r\n        const Loader = ProfileLoader;\r\n        if (!Loader) {\r\n            Log.error(\"[GeoLeaf.Config.Taxonomy] Module Loader non disponible.\");\r\n            return Promise.reject(new Error(\"Loader module not available\"));\r\n        }\r\n\r\n        if (!url) {\r\n            Log.info(\"[GeoLeaf.Config.Taxonomy] Aucune URL de mapping fournie — skip.\");\r\n            return Promise.resolve({});\r\n        }\r\n\r\n        return Loader.loadUrl(url, options)\r\n            .then((cfg) => {\r\n                const hasCategories =\r\n                    cfg &&\r\n                    typeof cfg === \"object\" &&\r\n                    cfg.categories &&\r\n                    typeof cfg.categories === \"object\" &&\r\n                    !Array.isArray(cfg.categories);\r\n\r\n                if (!hasCategories) {\r\n                    Log.warn(\r\n                        \"[GeoLeaf.Config.Taxonomy] Fichier de mapping catégories chargé mais \" +\r\n                        \"aucune propriété 'categories' valide trouvée (attendu: { \\\"categories\\\": { ... } }).\"\r\n                    );\r\n                } else {\r\n                    // Fusionner dans la config\r\n                    if (!this._config.categories || typeof this._config.categories !== \"object\") {\r\n                        this._config.categories = {};\r\n                    }\r\n                    Object.assign(this._config.categories, cfg.categories);\r\n\r\n                    Log.info(\r\n                        \"[GeoLeaf.Config.Taxonomy] Mapping catégories fusionné avec succès.\"\r\n                    );\r\n                }\r\n\r\n                return this.getCategories();\r\n            })\r\n            .catch((err) => {\r\n                Log.error(\"[GeoLeaf.Config.Taxonomy] Erreur lors du chargement de la taxonomie :\", err);\r\n                return {};\r\n            });\r\n    },\r\n\r\n    /**\r\n     * Retourne l'objet complet des catégories (mapping interne).\r\n     *\r\n     * @returns {Object} - { [categoryId]: { label, icon, colorFill, colorStroke, subcategories? } }\r\n     */\r\n    getCategories() {\r\n        if (!this._config) return {};\r\n        const cats = this._config.categories;\r\n        return (cats && typeof cats === \"object\" && !Array.isArray(cats)) ? cats : {};\r\n    },\r\n\r\n    /**\r\n     * Retourne une catégorie à partir de son identifiant.\r\n     *\r\n     * @param {string} categoryId\r\n     * @returns {Object|undefined}\r\n     */\r\n    getCategory(categoryId) {\r\n        if (!categoryId || typeof categoryId !== \"string\") {\r\n            return undefined;\r\n        }\r\n\r\n        const cats = this.getCategories();\r\n        if (!Object.prototype.hasOwnProperty.call(cats, categoryId)) {\r\n            return undefined;\r\n        }\r\n\r\n        return cats[categoryId];\r\n    },\r\n\r\n    /**\r\n     * Retourne une sous-catégorie à partir de son identifiant et de celui\r\n     * de la catégorie parente.\r\n     *\r\n     * @param {string} categoryId\r\n     * @param {string} subCategoryId\r\n     * @returns {Object|undefined}\r\n     */\r\n    getSubcategory(categoryId, subCategoryId) {\r\n        if (\r\n            !categoryId || typeof categoryId !== \"string\" ||\r\n            !subCategoryId || typeof subCategoryId !== \"string\"\r\n        ) {\r\n            return undefined;\r\n        }\r\n\r\n        const category = this.getCategory(categoryId);\r\n        if (\r\n            !category ||\r\n            !category.subcategories ||\r\n            typeof category.subcategories !== \"object\" ||\r\n            Array.isArray(category.subcategories)\r\n        ) {\r\n            return undefined;\r\n        }\r\n\r\n        const subs = category.subcategories;\r\n        if (!Object.prototype.hasOwnProperty.call(subs, subCategoryId)) {\r\n            return undefined;\r\n        }\r\n\r\n        return subs[subCategoryId];\r\n    }\r\n};\r\n\r\n// Exposer le module\r\nconst TaxonomyManager = TaxonomyModule;\r\nexport { TaxonomyManager };\r\n","\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { StorageHelper } from './storage.js';\r\n\r\n\r\n/**\r\n * Logger unifié\r\n */\r\n\r\n/**\r\n * Module Config.Normalization\r\n *\r\n * Responsabilités :\r\n * - Normalisation structurelle des POI (mapping brut → format GeoLeaf)\r\n * - Application de mapping.json sur POI non normalisés\r\n * - Normalisation des avis (reviews) : ancien/nouveau format\r\n * - Validation de la structure POI : id/title/location\r\n */\r\nconst NormalizationModule = {\r\n    /**\r\n     * Safe object assignment that prevents prototype pollution.\r\n     * Blocks dangerous keys: __proto__, constructor, prototype\r\n     * @param {Object} target\r\n     * @param {Object} source\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _safeAssign(target, source) {\r\n        const dangerousKeys = ['__proto__', 'constructor', 'prototype'];\r\n\r\n        for (const key in source) {\r\n            if (!Object.prototype.hasOwnProperty.call(source, key)) continue;\r\n            if (dangerousKeys.includes(key)) {\r\n                Log.warn('[GeoLeaf.Config.Normalization] Tentative de pollution de prototype bloquée', { key });\r\n                continue;\r\n            }\r\n            target[key] = source[key];\r\n        }\r\n\r\n        return target;\r\n    },\r\n\r\n    /**\r\n     * Vérifie si un POI est déjà normalisé au format GeoLeaf :\r\n     * {\r\n     *   id: string,\r\n     *   title: string,\r\n     *   location: { lat: number, lng: number },\r\n     *   attributes?: object\r\n     * }\r\n     *\r\n     * @param {Object} poi\r\n     * @returns {boolean}\r\n     */\r\n    isPoiStructNormalized(poi) {\r\n        if (!poi || typeof poi !== \"object\") return false;\r\n\r\n        if (typeof poi.id !== \"string\" || poi.id.trim() === \"\") {\r\n            return false;\r\n        }\r\n\r\n        // Supporter les deux formats de label/titre\r\n        const hasTitle = typeof poi.title === \"string\" && poi.title.trim() !== \"\";\r\n        const hasLabel = typeof poi.label === \"string\" && poi.label.trim() !== \"\";\r\n        if (!hasTitle && !hasLabel) {\r\n            return false;\r\n        }\r\n\r\n        // Nouveau format : latlng = [lat, lng]\r\n        if (Array.isArray(poi.latlng) && poi.latlng.length >= 2) {\r\n            const lat = poi.latlng[0];\r\n            const lng = poi.latlng[1];\r\n            if (typeof lat === \"number\" && !Number.isNaN(lat) &&\r\n                typeof lng === \"number\" && !Number.isNaN(lng)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        // Ancien format : location.lat/lng\r\n        if (poi.location && typeof poi.location === \"object\") {\r\n            const lat = poi.location.lat;\r\n            const lng = poi.location.lng;\r\n            if (typeof lat === \"number\" && !Number.isNaN(lat) &&\r\n                typeof lng === \"number\" && !Number.isNaN(lng)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * Applique un mapping brut → POI normalisé pour un POI donné.\r\n     *\r\n     * @param {Object} rawPoi\r\n     * @param {Object} mappingDef  mappingConfig.mapping\r\n     * @returns {Object|null}\r\n     */\r\n    mapRawPoiToNormalized(rawPoi, mappingDef) {\r\n        if (!rawPoi || !mappingDef || typeof mappingDef !== \"object\") {\r\n            return null;\r\n        }\r\n\r\n        const Storage = StorageHelper;\r\n        if (!Storage) {\r\n            Log.error(\"[GeoLeaf.Config.Normalization] Module Storage non disponible.\");\r\n            return null;\r\n        }\r\n\r\n        // Socle minimal conforme au cahier des charges POI\r\n        const normalized = {\r\n            id: \"\",\r\n            title: \"\",\r\n            location: { lat: 0, lng: 0 },\r\n            attributes: {}\r\n        };\r\n\r\n        Object.keys(mappingDef).forEach((targetPath) => {\r\n            const sourcePath = mappingDef[targetPath];\r\n            if (!sourcePath) return;\r\n\r\n            const value = Storage.getValueByPath(rawPoi, sourcePath);\r\n            if (typeof value === \"undefined\") return;\r\n\r\n            Storage.setValueByPath(normalized, targetPath, value);\r\n        });\r\n\r\n        if (\r\n            !normalized.attributes ||\r\n            typeof normalized.attributes !== \"object\" ||\r\n            Array.isArray(normalized.attributes)\r\n        ) {\r\n            normalized.attributes = {};\r\n        }\r\n\r\n        return normalized;\r\n    },\r\n\r\n    /**\r\n     * Normalise structurellement un tableau de POI en utilisant\r\n     * éventuellement mapping.json du profil actif.\r\n     *\r\n     * Règles :\r\n     *  - SANS mapping.json :\r\n     *      → on renvoie les POI tels quels (comportement 100 % rétrocompatible).\r\n     *  - AVEC mapping.json :\r\n     *      → si le POI est déjà normalisé → on le garde tel quel ;\r\n     *      → sinon, on applique le mapping ;\r\n     *      → si après mapping le POI reste non normalisé → POI ignoré (warning).\r\n     *\r\n     * @param {Array} rawPoiArray\r\n     * @param {Object|null} mappingConfig  mapping.json complet ou null\r\n     * @returns {Array}\r\n     */\r\n    normalizePoiWithMapping(rawPoiArray, mappingConfig) {\r\n        if (!Array.isArray(rawPoiArray)) {\r\n            return [];\r\n        }\r\n\r\n        const hasMapping =\r\n            mappingConfig &&\r\n            typeof mappingConfig === \"object\" &&\r\n            mappingConfig.mapping &&\r\n            typeof mappingConfig.mapping === \"object\";\r\n\r\n        // 🔁 CAS 1 — AUCUN mapping.json fourni :\r\n        // on ne touche à rien, on renvoie les POI du profil tels quels.\r\n        if (!hasMapping) {\r\n            Log.debug(\r\n                \"[GeoLeaf.Config.Normalization] Aucun mapping.json fourni ; \" +\r\n                \"les POI sont utilisés tels quels (aucune normalisation structurelle).\"\r\n            );\r\n            return rawPoiArray;\r\n        }\r\n\r\n        // 🔁 CAS 2 — mapping.json présent : on applique vraiment la normalisation\r\n        const mappingDef = mappingConfig.mapping;\r\n        const result = [];\r\n\r\n        rawPoiArray.forEach((rawPoi, index) => {\r\n            // 1) Déjà normalisé → on garde\r\n            if (this.isPoiStructNormalized(rawPoi)) {\r\n                result.push(rawPoi);\r\n                return;\r\n            }\r\n\r\n            // 2) Non normalisé + mapping → tentative de normalisation\r\n            const normalized = this.mapRawPoiToNormalized(rawPoi, mappingDef);\r\n            if (normalized && this.isPoiStructNormalized(normalized)) {\r\n                result.push(normalized);\r\n            } else {\r\n                Log.warn(\r\n                    \"[GeoLeaf.Config.Normalization] POI non normalisé même après application du mapping ; POI ignoré.\",\r\n                    {\r\n                        poiIndex: index,\r\n                        poiId: rawPoi && rawPoi.id\r\n                    }\r\n                );\r\n            }\r\n        });\r\n\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * Normalise le tableau de POI, notamment pour les avis (reviews).\r\n     *\r\n     * - Alimente systématiquement `attributes.reviews` si des avis sont présents.\r\n     * - Supporte l'ancien format (tableau simple) et le nouveau format objet\r\n     *   `{ rating, count, summary, recent[] }`.\r\n     *\r\n     * @param {Array} poiArray\r\n     * @returns {Array}\r\n     */\r\n    normalizePoiArray(poiArray) {\r\n        if (!Array.isArray(poiArray)) {\r\n            return poiArray;\r\n        }\r\n\r\n        return poiArray.map((poi, index) => {\r\n            if (!poi || typeof poi !== \"object\") {\r\n                return poi;\r\n            }\r\n\r\n            // Perf 6.3.6: Mutate in place — avoids 1 object copy per POI (~10k+ POIs).\r\n            // _safeAssign({}, poi) had O(n) cost per POI; callers discard the original array.\r\n            const normalized = poi;\r\n\r\n            // Bloc attributes existant ou nouveau\r\n            const baseAttributes =\r\n                normalized.attributes &&\r\n                typeof normalized.attributes === \"object\" &&\r\n                !Array.isArray(normalized.attributes)\r\n                    ? normalized.attributes\r\n                    : {};\r\n\r\n            // Use null-prototype object to block prototype pollution (kept for security)\r\n            const attributes = Object.assign(Object.create(null), baseAttributes);\r\n\r\n            // Handle reviews - preserve full structure when it exists\r\n            // 1) If attributes.reviews is already an object with recent array (new format), preserve it\r\n            if (\r\n                attributes.reviews &&\r\n                typeof attributes.reviews === \"object\" &&\r\n                !Array.isArray(attributes.reviews) &&\r\n                Array.isArray(attributes.reviews.recent)\r\n            ) {\r\n                // Keep the full reviews object: { rating, count, summary, recent: [...] }\r\n                // Just limit the recent array to 5\r\n                attributes.reviews = {\r\n                    ...attributes.reviews,\r\n                    recent: attributes.reviews.recent.slice(0, 5)\r\n                };\r\n            }\r\n            // 2) If poi.reviews is an object with recent array (new format at root), move to attributes\r\n            else if (\r\n                normalized.reviews &&\r\n                typeof normalized.reviews === \"object\" &&\r\n                !Array.isArray(normalized.reviews) &&\r\n                Array.isArray(normalized.reviews.recent)\r\n            ) {\r\n                attributes.reviews = {\r\n                    ...normalized.reviews,\r\n                    recent: normalized.reviews.recent.slice(0, 5)\r\n                };\r\n            }\r\n            // 3) Legacy: attributes.reviews is already a flat array\r\n            else if (Array.isArray(attributes.reviews)) {\r\n                attributes.reviews = attributes.reviews.slice(0, 5);\r\n            }\r\n            // 4) Legacy: poi.reviews is a flat array at root\r\n            else if (Array.isArray(normalized.reviews)) {\r\n                attributes.reviews = normalized.reviews.slice(0, 5);\r\n            }\r\n            // 5) Unexpected format\r\n            else if (normalized.reviews !== undefined || attributes.reviews !== undefined) {\r\n                Log.warn(\"[GeoLeaf.Config.Normalization] Format de `reviews` inattendu pour le POI :\", {\r\n                    poiIndex: index,\r\n                    poiId: normalized.id,\r\n                    reviewsType: typeof normalized.reviews,\r\n                    attributesReviewsType: typeof attributes.reviews\r\n                });\r\n                attributes.reviews = [];\r\n            }\r\n            // 6) No reviews at all\r\n            else {\r\n                attributes.reviews = [];\r\n            }\r\n\r\n            normalized.attributes = attributes;\r\n\r\n            return normalized;\r\n        });\r\n    }\r\n};\r\n\r\n// Exposer le module\r\nconst ConfigNormalizer = NormalizationModule;\r\nexport { ConfigNormalizer };\r\n","/**\r\n * @fileoverview Chargeur de profil modulaire pour GeoLeaf\r\n * Gère le chargement modulaire des profils avec structure:\r\n * - profile.json (métadonnées)\r\n * - taxonomy.json (catégories/sous-catégories)\r\n * - themes.json (thèmes visuels)\r\n * - layers.json (index des couches)\r\n * - layers/{layerId}/{layerId}_config.json (config par couche)\r\n * @module config/profile-loader\r\n */\r\n\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { ProfileLoader as ConfigLoader } from './loader.js';\r\n\r\n\r\n/**\r\n * Module de chargement de profils modulaires\r\n * @namespace ProfileLoader\r\n */\r\nconst ProfileLoader = {\r\n    /**\r\n     * Charge un profil avec structure modulaire\r\n     * @param {Object} profile - Objet profile.json modulaire\r\n     * @param {string} baseUrl - URL de base du profil\r\n     * @param {string} profileId - ID du profil\r\n     * @param {number} timestamp - Timestamp pour cache busting\r\n     * @param {Object} fetchOptions - Options de fetch\r\n     * @returns {Promise<Object>} Profil enrichi avec toutes les données chargées\r\n     */\r\n    async loadModularProfile(profile, baseUrl, profileId, timestamp = Date.now(), fetchOptions = {}) {\r\n        const Loader = ConfigLoader;\r\n\r\n        if (!Loader) {\r\n            throw new Error(\"GeoLeaf._ConfigLoader non disponible\");\r\n        }\r\n\r\n        Log.info(`[ProfileLoader] Chargement profil modulaire: ${profileId}`);\r\n\r\n        try {\r\n            // 1. Charger les ressources en parallèle\r\n            const [taxonomyData, themesData, layersFileData] = await Promise.all([\r\n                this._loadTaxonomy(profile, baseUrl, timestamp, fetchOptions),\r\n                this._loadThemes(profile, baseUrl, timestamp, fetchOptions),\r\n                this._loadLayersFile(profile, baseUrl, timestamp, fetchOptions)\r\n            ]);\r\n\r\n            // 2. Déterminer la source des layers\r\n            const layersSource = layersFileData || profile.layers || [];\r\n\r\n            // 3. Charger les configurations individuelles des layers\r\n            const layersConfigs = await this._loadLayerConfigs(\r\n                layersSource,\r\n                baseUrl,\r\n                timestamp,\r\n                fetchOptions\r\n            );\r\n\r\n            // 4. Construire le profil enrichi\r\n            const enrichedProfile = this._buildEnrichedProfile({\r\n                profile,\r\n                baseUrl,\r\n                profileId,\r\n                taxonomy: taxonomyData,\r\n                themes: themesData,\r\n                layersSource,\r\n                layersConfigs\r\n            });\r\n\r\n            Log.info(\"[ProfileLoader] Profil modulaire chargé avec succès\", {\r\n                profileId,\r\n                hasTaxonomy: !!enrichedProfile.taxonomy,\r\n                hasThemes: !!enrichedProfile.themes,\r\n                layersCount: enrichedProfile.layers ? enrichedProfile.layers.length : 0\r\n            });\r\n\r\n            return enrichedProfile;\r\n\r\n        } catch (error) {\r\n            Log.error(\"[ProfileLoader] Erreur chargement profil modulaire:\", error);\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Charge taxonomy.json si référencé ET si des features ont des catégories\r\n     * @private\r\n     */\r\n    async _loadTaxonomy(profile, baseUrl, timestamp, fetchOptions) {\r\n        const Loader = ConfigLoader;\r\n        const taxonomyFile = profile.Files?.taxonomyFile || profile.taxonomyFile;\r\n\r\n        if (!taxonomyFile && !profile.taxonomy) {\r\n            return null;\r\n        }\r\n\r\n        if (taxonomyFile) {\r\n            try {\r\n                const taxonomy = await Loader.fetchJson(\r\n                    `${baseUrl}/${taxonomyFile}?t=${timestamp}`,\r\n                    fetchOptions\r\n                );\r\n                Log.info(\"[ProfileLoader] Taxonomy.json chargé avec succès\");\r\n                return taxonomy;\r\n            } catch (err) {\r\n                Log.warn(\"[ProfileLoader] Erreur chargement taxonomy.json:\", err);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        return profile.taxonomy || null;\r\n    },\r\n\r\n    /**\r\n     * Charge themes.json si référencé\r\n     * @private\r\n     */\r\n    async _loadThemes(profile, baseUrl, timestamp, fetchOptions) {\r\n        const Loader = ConfigLoader;\r\n        const themesFile = profile.Files?.themesFile || profile.themesFile;\r\n\r\n        if (themesFile) {\r\n            try {\r\n                const themes = await Loader.fetchJson(\r\n                    `${baseUrl}/${themesFile}?t=${timestamp}`,\r\n                    fetchOptions\r\n                );\r\n                return themes;\r\n            } catch (err) {\r\n                Log.warn(\"[ProfileLoader] Erreur chargement themes.json:\", err);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        return profile.themes || null;\r\n    },\r\n\r\n    /**\r\n     * Charge layers.json si référencé\r\n     * @private\r\n     */\r\n    async _loadLayersFile(profile, baseUrl, timestamp, fetchOptions) {\r\n        const Loader = ConfigLoader;\r\n        const layersFile = profile.Files?.layersFile;\r\n\r\n        if (layersFile) {\r\n            try {\r\n                const layers = await Loader.fetchJson(\r\n                    `${baseUrl}/${layersFile}?t=${timestamp}`,\r\n                    fetchOptions\r\n                );\r\n                return layers;\r\n            } catch (err) {\r\n                Log.warn(\"[ProfileLoader] Erreur chargement layers.json:\", err);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * Charge les configurations individuelles des layers\r\n     * @private\r\n     */\r\n    async _loadLayerConfigs(layersSource, baseUrl, timestamp, fetchOptions) {\r\n        const Loader = ConfigLoader;\r\n\r\n        if (!Array.isArray(layersSource) || layersSource.length === 0) {\r\n            return [];\r\n        }\r\n\r\n        const promises = layersSource.map(async (layerRef) => {\r\n            if (!layerRef.configFile) {\r\n                return {\r\n                    id: layerRef.id,\r\n                    config: null,\r\n                    layerDirectory: null,\r\n                    layerManagerId: layerRef.layerManagerId || null\r\n                };\r\n            }\r\n\r\n            const layerDirectory = layerRef.configFile.replace(/\\/[^\\/]+$/, '');\r\n\r\n            try {\r\n                const layerConfig = await Loader.fetchJson(\r\n                    `${baseUrl}/${layerRef.configFile}?t=${timestamp}`,\r\n                    fetchOptions\r\n                );\r\n\r\n                return {\r\n                    id: layerRef.id,\r\n                    config: layerConfig,\r\n                    layerDirectory: layerDirectory,\r\n                    layerManagerId: layerRef.layerManagerId || null\r\n                };\r\n            } catch (err) {\r\n                Log.error(`[ProfileLoader] Erreur chargement ${layerRef.configFile}:`, err);\r\n                return {\r\n                    id: layerRef.id,\r\n                    config: null,\r\n                    layerDirectory: layerDirectory,\r\n                    layerManagerId: layerRef.layerManagerId || null\r\n                };\r\n            }\r\n        });\r\n\r\n        return Promise.all(promises);\r\n    },\r\n\r\n    /**\r\n     * Construit le profil enrichi avec toutes les données chargées\r\n     * @private\r\n     */\r\n    _buildEnrichedProfile(params) {\r\n        const { profile, baseUrl, profileId, taxonomy, themes, layersSource, layersConfigs } = params;\r\n\r\n        const enrichedProfile = { ...profile };\r\n\r\n        // Ajouter le basePath pour résolution des chemins\r\n        enrichedProfile.basePath = baseUrl;\r\n        enrichedProfile._profileId = profileId;\r\n\r\n        // Intégrer la taxonomie\r\n        if (taxonomy) {\r\n            enrichedProfile.taxonomy = taxonomy;\r\n        }\r\n\r\n        // Intégrer les thèmes\r\n        if (themes) {\r\n            enrichedProfile.themes = themes;\r\n        }\r\n\r\n        // Intégrer les configurations de couches\r\n        if (layersConfigs && layersConfigs.length > 0) {\r\n            enrichedProfile.layers = layersConfigs.map(layerData => {\r\n                if (layerData.config) {\r\n                    // Ajouter le layerDirectory, profileId ET layerManagerId à la config\r\n                    const normalized = {\r\n                        ...layerData.config,\r\n                        _layerDirectory: layerData.layerDirectory,\r\n                        _profileId: profileId,\r\n                        layerManagerId: layerData.layerManagerId || layerData.config.layerManagerId || 'geojson-default'\r\n                    };\r\n\r\n                    // Normaliser data.file → dataFile pour compatibilité GeoJSON loader\r\n                    if (normalized.data && normalized.data.file && !normalized.dataFile) {\r\n                        const dataDir = normalized.data.directory || 'data';\r\n                        normalized.dataFile = `${dataDir}/${normalized.data.file}`;\r\n                    }\r\n\r\n                    return normalized;\r\n                }\r\n                // Fallback si erreur de chargement\r\n                const original = layersSource.find(l => l.id === layerData.id);\r\n                return original || { id: layerData.id, error: \"Failed to load config\" };\r\n            });\r\n        }\r\n\r\n        return enrichedProfile;\r\n    },\r\n\r\n    /**\r\n     * Détermine si un profil utilise la structure modulaire\r\n     * @param {Object} profile - Objet profile.json\r\n     * @returns {boolean} True si profil modulaire (v3.0+)\r\n     */\r\n    isModularProfile(profile) {\r\n        if (!profile || typeof profile !== 'object') {\r\n            return false;\r\n        }\r\n\r\n        // Détection modulaire: présence de Files ou version >= 3.0.0\r\n        if (profile.Files && typeof profile.Files === 'object') {\r\n            return true;\r\n        }\r\n\r\n        if (profile.version) {\r\n            const versionMatch = profile.version.match(/^(\\d+)\\.(\\d+)/);\r\n            if (versionMatch) {\r\n                const major = parseInt(versionMatch[1], 10);\r\n                return major >= 3;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n};\r\n\r\n// Exposer le module\r\nexport { ProfileLoader };\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { ProfileLoader as ConfigLoader } from './loader.js';\r\nimport { ConfigNormalizer } from './normalization.js';\r\nimport { ProfileLoader as ModularProfileLoader } from './profile-loader.js';\r\n\r\n\r\n/**\r\n * Logger unifié\r\n */\r\n\r\n/**\r\n * Module Config.Profile\r\n *\r\n * Responsabilités :\r\n * - Chargement des profils métier (tourism, etc.)\r\n * - Gestion des ressources de profil : profile.json, poi.json, routes.json, mapping.json\r\n * - API de consultation : getActiveProfile*()\r\n * - Événements DOM : geoleaf:profile:loaded\r\n */\r\nconst ProfileModule = {\r\n    /**\r\n     * Configuration interne (référence partagée)\r\n     * @type {Object}\r\n     * @private\r\n     */\r\n    _config: null,\r\n\r\n    /**\r\n     * Profil actuellement actif (ID du profil).\r\n     * @type {string|null}\r\n     * @private\r\n     */\r\n    _activeProfileId: null,\r\n\r\n    /**\r\n     * Description du profil actif (contenu de profile.json).\r\n     * @type {Object|null}\r\n     * @private\r\n     */\r\n    _activeProfile: null,\r\n\r\n    /**\r\n     * Données rattachées au profil actif :\r\n     * - poi.json normalisé\r\n     * - routes.json\r\n     * - mapping.json\r\n     * @type {{poi: Array, routes: Array, mapping: Object|null}}\r\n     * @private\r\n     */\r\n    _activeProfileData: {\r\n        poi: [],\r\n        routes: [],\r\n        mapping: null\r\n    },\r\n\r\n    /**\r\n     * Initialise le module avec une référence à la config.\r\n     *\r\n     * @param {Object} config - Référence à l'objet de configuration global\r\n     */\r\n    init(config) {\r\n        this._config = config;\r\n    },\r\n\r\n    /**\r\n     * Indique si l'usage de mapping.json pour normaliser les POI de profil est activé.\r\n     *\r\n     * 🔎 Cherche plusieurs noms possibles dans config.data pour rester robuste :\r\n     *   - config.data.enableProfilePoiMapping (nom recommandé)\r\n     *   - config.data.useProfilePoiMapping\r\n     *   - config.data.useMapping (compatibilité éventuelle)\r\n     *\r\n     * @returns {boolean} true si le mapping doit être utilisé, false sinon.\r\n     */\r\n    isProfilePoiMappingEnabled() {\r\n        const dataCfg = this._config && this._config.data;\r\n        if (!dataCfg || typeof dataCfg !== \"object\") {\r\n            return true; // par défaut : mapping actif\r\n        }\r\n\r\n        if (typeof dataCfg.enableProfilePoiMapping === \"boolean\") {\r\n            return dataCfg.enableProfilePoiMapping;\r\n        }\r\n        if (typeof dataCfg.useProfilePoiMapping === \"boolean\") {\r\n            return dataCfg.useProfilePoiMapping;\r\n        }\r\n        if (typeof dataCfg.useMapping === \"boolean\") {\r\n            return dataCfg.useMapping;\r\n        }\r\n\r\n        return true;\r\n    },\r\n\r\n    /**\r\n     * Charge les ressources liées au profil actif :\r\n     * - profile.json\r\n     * - poi.json\r\n     * - mapping.json\r\n     * - routes.json\r\n     *\r\n     * Utilise config.data.activeProfile et config.data.profilesBasePath.\r\n     * Injecte aussi, pour compatibilité, les POI et routes dans this._config.poi / this._config.routes.\r\n     * Injecte désormais la taxonomie (categories) depuis profile.json dans this._config.categories.\r\n     *\r\n     * @param {Object} [options]\r\n     * @param {Object} [options.headers] - Headers HTTP optionnels.\r\n     * @param {boolean} [options.strictContentType=true] - Validation stricte du Content-Type.\r\n     * @returns {Promise<Object>} Configuration consolidée incluant les données du profil.\r\n     */\r\n    loadActiveProfileResources(options = {}) {\r\n        const dataCfg = this._config && this._config.data;\r\n        if (!dataCfg || !dataCfg.activeProfile) {\r\n            Log.info(\r\n                \"[GeoLeaf.Config.Profile] Aucun profil actif défini dans config.data.activeProfile ; aucun chargement de profil effectué.\"\r\n            );\r\n            return Promise.resolve(this._config);\r\n        }\r\n\r\n        // Nouveau : mode layers-only (pas de poi.json / routes.json). Par défaut activé.\r\n        const useLegacyProfileData =\r\n            typeof dataCfg.useLegacyProfileData === \"boolean\"\r\n                ? dataCfg.useLegacyProfileData\r\n                : false;\r\n\r\n        const profileId = dataCfg.activeProfile;\r\n        const basePath = dataCfg.profilesBasePath || \"data/profiles\";\r\n        const baseUrl = `${basePath}/${profileId}`;\r\n\r\n        Log.info(\"[GeoLeaf.Config.Profile] Début du chargement du profil :\", {\r\n            profileId,\r\n            baseUrl,\r\n            configData: dataCfg\r\n        });\r\n\r\n        const fetchOptions = {\r\n            headers: options.headers || {},\r\n            strictContentType:\r\n                typeof options.strictContentType === \"boolean\"\r\n                    ? options.strictContentType\r\n                    : true\r\n        };\r\n\r\n        const Loader = ConfigLoader;\r\n        const Normalization = ConfigNormalizer;\r\n\r\n        if (!Loader || !Normalization) {\r\n            Log.error(\"[GeoLeaf.Config.Profile] Modules Loader ou Normalization non disponibles.\");\r\n            return Promise.reject(new Error(\"Required modules not available\"));\r\n        }\r\n\r\n        // 🔧 Nouveau : pilotage global de l'usage de mapping.json via config.data.*\r\n        const isPoiMappingEnabled = this.isProfilePoiMappingEnabled();\r\n        if (!isPoiMappingEnabled) {\r\n            Log.info(\r\n                \"[GeoLeaf.Config.Profile] Mapping de POI désactivé via configuration globale ; \" +\r\n                \"les POI du profil seront considérés comme déjà normalisés.\"\r\n            );\r\n        }\r\n\r\n        Log.info(\"[GeoLeaf.Config.Profile] Chargement des ressources du profil actif :\", {\r\n            profileId,\r\n            baseUrl\r\n        });\r\n\r\n        const timestamp = Date.now();\r\n\r\n        // Branche legacy (maintien backward compat) : charge poi.json/routes.json\r\n        if (useLegacyProfileData) {\r\n            // Si le mapping est désactivé, on ne charge pas mapping.json (Promise.resolve(null))\r\n            const mappingPromise = isPoiMappingEnabled\r\n                ? Loader.fetchJson(`${baseUrl}/mapping.json?t=${timestamp}`, fetchOptions)\r\n                : Promise.resolve(null);\r\n\r\n            // routes.json est optionnel - on tente de le charger mais on tolère son absence\r\n            const routesPromise = Loader.fetchJson(`${baseUrl}/routes.json?t=${timestamp}`, fetchOptions)\r\n                .catch(() => {\r\n                    Log.info(\"[GeoLeaf.Config.Profile] routes.json non disponible ou invalide, utilisation d'un tableau vide.\");\r\n                    return [];\r\n                });\r\n\r\n            return Promise.all([\r\n                Loader.fetchJson(`${baseUrl}/profile.json?t=${timestamp}`, fetchOptions),\r\n                Loader.fetchJson(`${baseUrl}/poi.json?t=${timestamp}`, fetchOptions),\r\n                mappingPromise,\r\n                routesPromise\r\n            ])\r\n                .then(([profile, poi, mapping, routes]) => {\r\n                    return this._finalizeProfileLoad({\r\n                        profile,\r\n                        poi,\r\n                        routes,\r\n                        mapping,\r\n                        mappingEnabled: isPoiMappingEnabled\r\n                    });\r\n                })\r\n                .catch((err) => {\r\n                    Log.error(\r\n                        \"[GeoLeaf.Config.Profile] Erreur lors du chargement des ressources du profil actif :\",\r\n                        err\r\n                    );\r\n                    return this._config;\r\n                });\r\n        }\r\n\r\n        // Nouveau chemin : layers-only. On charge d'abord profile.json pour vérifier si mapping est requis.\r\n        return Loader.fetchJson(`${baseUrl}/profile.json?t=${timestamp}`, fetchOptions)\r\n            .then((profile) => {\r\n                // Utiliser la logique de détection du ProfileLoader pour cohérence\r\n                const isModular = ModularProfileLoader && ModularProfileLoader.isModularProfile(profile);\r\n\r\n                if (isModular) {\r\n                    Log.info(\"[GeoLeaf.Config.Profile] Profil modulaire détecté - Chargement modulaire\");\r\n                    // Pour profil modulaire, retourner directement la config (pas besoin du .then suivant)\r\n                    return this._loadModularProfile(profile, baseUrl, timestamp, fetchOptions);\r\n                }\r\n\r\n                // Version 2.0 (ancien comportement)\r\n                // Vérifier si au moins une couche a normalized:false (nécessite mapping)\r\n                let requiresMapping = false;\r\n                if (profile && Array.isArray(profile.layers)) {\r\n                    requiresMapping = profile.layers.some(layer => layer.normalized === false);\r\n                }\r\n\r\n                // Charger mapping seulement si requis\r\n                const mappingPromise = isPoiMappingEnabled && requiresMapping\r\n                    ? Loader.fetchJson(`${baseUrl}/mapping.json?t=${timestamp}`, fetchOptions).catch((err) => {\r\n                          Log.error(\"[GeoLeaf.Config.Profile] mapping.json requis (normalized:false) mais non trouvé ou invalide.\", err);\r\n                          return null;\r\n                      })\r\n                    : Promise.resolve(null);\r\n\r\n                return Promise.all([Promise.resolve(profile), mappingPromise]);\r\n            })\r\n            .then((result) => {\r\n                // Si c'est un profil modulaire, on le retourne directement (pas un array)\r\n                if (result && !Array.isArray(result)) {\r\n                    return result;\r\n                }\r\n\r\n                // Sinon c'est un array [profile, mapping] (v2.0)\r\n                const [profile, mapping] = result;\r\n                this._activeProfileId = profileId;\r\n                this._activeProfile = profile || null;\r\n\r\n                Log.info(\"[GeoLeaf.Config.Profile] Profil chargé (layers-only)\", {\r\n                    profileId,\r\n                    profileLoaded: !!profile,\r\n                    profileKeys: profile ? Object.keys(profile) : []\r\n                });\r\n\r\n                // Dans ce mode, on ne précharge pas les POI/Routes : ils seront lus via GeoJSON layers.\r\n                this._activeProfileData = {\r\n                    poi: [],\r\n                    routes: [],\r\n                    mapping: mapping && typeof mapping === \"object\" ? mapping : null\r\n                };\r\n\r\n                // Taxonomie : reste depuis profile.json\r\n                if (\r\n                    profile &&\r\n                    typeof profile === \"object\" &&\r\n                    profile.taxonomy &&\r\n                    profile.taxonomy.categories &&\r\n                    typeof profile.taxonomy.categories === \"object\" &&\r\n                    !Array.isArray(profile.taxonomy.categories)\r\n                ) {\r\n                    this._config.categories = profile.taxonomy.categories;\r\n                    Log.info(\r\n                        \"[GeoLeaf.Config.Profile] Taxonomie des catégories chargée (layers-only).\",\r\n                        {\r\n                            profileId,\r\n                            categoriesCount: Object.keys(profile.taxonomy.categories || {}).length\r\n                        }\r\n                    );\r\n                }\r\n\r\n                // Stockage par profil\r\n                if (\r\n                    !this._config.profiles ||\r\n                    typeof this._config.profiles !== \"object\" ||\r\n                    Array.isArray(this._config.profiles)\r\n                ) {\r\n                    this._config.profiles = {};\r\n                }\r\n\r\n                this._config.profiles[profileId] = {\r\n                    profile: this._activeProfile,\r\n                    poi: this._activeProfileData.poi,\r\n                    routes: this._activeProfileData.routes,\r\n                    mapping: this._activeProfileData.mapping\r\n                };\r\n\r\n                // Événement pour les autres modules\r\n                this._fireProfileLoadedEvent(profileId, {\r\n                    profile: this._activeProfile,\r\n                    poi: this._activeProfileData.poi,\r\n                    routes: this._activeProfileData.routes,\r\n                    mapping: this._activeProfileData.mapping\r\n                });\r\n\r\n                return this._config;\r\n            })\r\n            .catch((err) => {\r\n                Log.error(\r\n                    \"[GeoLeaf.Config.Profile] Erreur lors du chargement des ressources du profil actif :\",\r\n                    err\r\n                );\r\n                return this._config;\r\n            });\r\n    },\r\n\r\n    /**\r\n     * Charge un profil modulaire avec structure modulaire\r\n     * @param {Object} profile - Objet profile.json modulaire\r\n     * @param {string} baseUrl - URL de base du profil\r\n     * @param {number} timestamp - Timestamp pour cache busting\r\n     * @param {Object} fetchOptions - Options de fetch\r\n     * @returns {Promise<Object>} Config consolidée\r\n     * @private\r\n     */\r\n    _loadModularProfile(profile, baseUrl, timestamp, fetchOptions) {\r\n        const profileId = this._config.data.activeProfile;\r\n\r\n        // Utiliser le ProfileLoader pour charger le profil\r\n        if (!ModularProfileLoader) {\r\n            Log.error(\"[GeoLeaf.Config.Profile] ProfileLoader non disponible\");\r\n            return Promise.reject(new Error(\"ProfileLoader non disponible\"));\r\n        }\r\n\r\n        return ModularProfileLoader.loadModularProfile(\r\n            profile,\r\n            baseUrl,\r\n            profileId,\r\n            timestamp,\r\n            fetchOptions\r\n        ).then(enrichedProfile => {\r\n            // Stocker le profil enrichi\r\n            this._activeProfileId = profileId;\r\n            this._activeProfile = enrichedProfile;\r\n\r\n            Log.info(\"[GeoLeaf.Config.Profile] Profil modulaire chargé avec succès\", {\r\n                profileId,\r\n                hasTaxonomy: !!enrichedProfile.taxonomy,\r\n                hasThemes: !!enrichedProfile.themes,\r\n                layersCount: enrichedProfile.layers ? enrichedProfile.layers.length : 0\r\n            });\r\n\r\n            this._activeProfileData = {\r\n                poi: [],\r\n                routes: [],\r\n                mapping: null\r\n            };\r\n\r\n            // Stocker la taxonomie dans config.categories pour compatibilité\r\n            if (enrichedProfile.taxonomy && enrichedProfile.taxonomy.categories) {\r\n                this._config.categories = enrichedProfile.taxonomy.categories;\r\n                Log.info(\"[GeoLeaf.Config.Profile] Taxonomie chargée depuis profil modulaire\", {\r\n                    categoriesCount: Object.keys(enrichedProfile.taxonomy.categories || {}).length\r\n                });\r\n            }\r\n\r\n            // Copier toutes les propriétés du profil dans this._config\r\n            Object.keys(enrichedProfile).forEach(key => {\r\n                if (key !== 'layers' && key !== 'taxonomy' && key !== 'themes') {\r\n                    this._config[key] = enrichedProfile[key];\r\n                }\r\n            });\r\n\r\n            // Stocker par profil\r\n            if (!this._config.profiles || typeof this._config.profiles !== \"object\") {\r\n                this._config.profiles = {};\r\n            }\r\n\r\n            this._config.profiles[profileId] = {\r\n                profile: this._activeProfile,\r\n                poi: [],\r\n                routes: [],\r\n                mapping: null\r\n            };\r\n\r\n            // Événement\r\n            this._fireProfileLoadedEvent(profileId, {\r\n                profile: this._activeProfile,\r\n                poi: [],\r\n                routes: [],\r\n                mapping: null\r\n            });\r\n\r\n            return enrichedProfile;\r\n        });\r\n    },\r\n\r\n    // Factorise la fin du chargement (branche legacy uniquement)\r\n    _finalizeProfileLoad({ profile, poi, routes, mapping, mappingEnabled }) {\r\n        const Normalization = ConfigNormalizer;\r\n\r\n        this._activeProfile = profile || null;\r\n\r\n        Log.info(\r\n            \"[GeoLeaf.Config.Profile] Profil chargé depuis profile.json :\",\r\n            {\r\n                profileId: this._activeProfileId,\r\n                profileLoaded: profile !== null && profile !== undefined,\r\n                profileKeys: profile ? Object.keys(profile) : []\r\n            }\r\n        );\r\n\r\n        // Si le mapping est coupé au niveau global, on l'ignore même s'il existe\r\n        const mappingForNormalization =\r\n            mappingEnabled && mapping && typeof mapping === \"object\"\r\n                ? mapping\r\n                : null;\r\n\r\n        // 1) Normalisation STRUCTURELLE des POI\r\n        const structurallyNormalizedPoi = Array.isArray(poi)\r\n            ? Normalization.normalizePoiWithMapping(poi, mappingForNormalization)\r\n            : [];\r\n\r\n        // 2) Normalisation métier des avis\r\n        const normalizedPoi = Normalization.normalizePoiArray(structurallyNormalizedPoi);\r\n\r\n        const safeMapping = mappingForNormalization;\r\n        const safeRoutes = Array.isArray(routes) ? routes : [];\r\n\r\n        this._activeProfileData = {\r\n            poi: normalizedPoi,\r\n            mapping: safeMapping,\r\n            routes: safeRoutes\r\n        };\r\n\r\n        // Injection rétrocompatible dans la config globale\r\n        if (normalizedPoi.length) {\r\n            this._config.poi = normalizedPoi;\r\n        }\r\n        if (safeRoutes.length) {\r\n            this._config.routes = safeRoutes;\r\n        }\r\n\r\n        // Taxonomie\r\n        if (\r\n            profile &&\r\n            typeof profile === \"object\" &&\r\n            profile.taxonomy &&\r\n            profile.taxonomy.categories &&\r\n            typeof profile.taxonomy.categories === \"object\" &&\r\n            !Array.isArray(profile.taxonomy.categories)\r\n        ) {\r\n            this._config.categories = profile.taxonomy.categories;\r\n            Log.info(\r\n                \"[GeoLeaf.Config.Profile] Taxonomie des catégories chargée depuis le profil actif.\",\r\n                {\r\n                    profileId: this._activeProfileId,\r\n                    categoriesCount: Object.keys(profile.taxonomy.categories || {}).length\r\n                }\r\n            );\r\n        }\r\n\r\n        // Stockage par profil\r\n        if (\r\n            !this._config.profiles ||\r\n            typeof this._config.profiles !== \"object\" ||\r\n            Array.isArray(this._config.profiles)\r\n        ) {\r\n            this._config.profiles = {};\r\n        }\r\n\r\n        this._config.profiles[this._activeProfileId] = {\r\n            profile: this._activeProfile,\r\n            poi: this._activeProfileData.poi,\r\n            routes: this._activeProfileData.routes,\r\n            mapping: this._activeProfileData.mapping\r\n        };\r\n\r\n        // Événement\r\n        this._fireProfileLoadedEvent(this._activeProfileId, {\r\n            profile: this._activeProfile,\r\n            poi: this._activeProfileData.poi,\r\n            routes: this._activeProfileData.routes,\r\n            mapping: this._activeProfileData.mapping\r\n        });\r\n\r\n        return this._config;\r\n    },\r\n\r\n    /**\r\n     * Retourne l'identifiant du profil actuellement chargé (ou null).\r\n     *\r\n     * @returns {string|null}\r\n     */\r\n    getActiveProfileId() {\r\n        return this._activeProfileId;\r\n    },\r\n\r\n    /**\r\n     * Retourne l'objet profile.json du profil actif (ou null).\r\n     *\r\n     * @returns {Object|null}\r\n     */\r\n    getActiveProfile() {\r\n        return this._activeProfile;\r\n    },\r\n\r\n    /**\r\n     * Retourne le tableau de POI normalisés du profil actif.\r\n     *\r\n     * @returns {Array}\r\n     */\r\n    getActiveProfilePoi() {\r\n        return (this._activeProfileData && Array.isArray(this._activeProfileData.poi))\r\n            ? this._activeProfileData.poi\r\n            : [];\r\n    },\r\n\r\n    /**\r\n     * Retourne le tableau de routes du profil actif.\r\n     *\r\n     * @returns {Array}\r\n     */\r\n    getActiveProfileRoutes() {\r\n        return (this._activeProfileData && Array.isArray(this._activeProfileData.routes))\r\n            ? this._activeProfileData.routes\r\n            : [];\r\n    },\r\n\r\n    /**\r\n     * Retourne l'objet de mapping du profil actif (mapping.json).\r\n     *\r\n     * @returns {Object|null}\r\n     */\r\n    getActiveProfileMapping() {\r\n        return (this._activeProfileData && this._activeProfileData.mapping)\r\n            ? this._activeProfileData.mapping\r\n            : null;\r\n    },\r\n\r\n    /**\r\n     * Retourne la configuration des icônes depuis la taxonomie du profil actif.\r\n     *\r\n     * @returns {Object|null}\r\n     */\r\n    getIconsConfig() {\r\n        return (this._activeProfile && this._activeProfile.taxonomy && this._activeProfile.taxonomy.icons)\r\n            ? this._activeProfile.taxonomy.icons\r\n            : null;\r\n    },\r\n\r\n    /**\r\n     * Retourne les configurations de couches chargées depuis le profil actif modulaire\r\n     *\r\n     * @returns {Array|null}\r\n     */\r\n    getActiveProfileLayersConfig() {\r\n        return (this._activeProfile && this._activeProfile.layers)\r\n            ? this._activeProfile.layers\r\n            : null;\r\n    },\r\n\r\n    /**\r\n     * Émet un événement DOM \"geoleaf:profile:loaded\" lorsque le profil\r\n     * actif et ses données associées sont chargés.\r\n     *\r\n     * @param {string} profileId\r\n     * @param {Object} payload\r\n     * @private\r\n     */\r\n    _fireProfileLoadedEvent(profileId, payload) {\r\n        if (typeof document === \"undefined\" || typeof document.dispatchEvent !== \"function\") {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const event = new CustomEvent(\"geoleaf:profile:loaded\", {\r\n                detail: {\r\n                    profileId,\r\n                    data: payload\r\n                }\r\n            });\r\n            document.dispatchEvent(event);\r\n        } catch (e) {\r\n            try {\r\n                const legacyEvent = document.createEvent(\"CustomEvent\");\r\n                legacyEvent.initCustomEvent(\r\n                    \"geoleaf:profile:loaded\",\r\n                    false,\r\n                    false,\r\n                    {\r\n                        profileId,\r\n                        data: payload\r\n                    }\r\n                );\r\n                document.dispatchEvent(legacyEvent);\r\n            } catch (err) {\r\n                Log.warn(\r\n                    \"[GeoLeaf.Config.Profile] Impossible d'émettre l'événement geoleaf:profile:loaded.\"\r\n                );\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// Exposer le module\r\nconst ProfileManager = ProfileModule;\r\nexport { ProfileManager };\r\n","/*!\n * GeoLeaf Core – Config / Core\n * © 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n\"use strict\";\n\nimport { Log } from \"../../log/index.js\";\nimport { StorageHelper } from \"../storage.js\";\nimport { TaxonomyManager } from \"../taxonomy.js\";\nimport { ProfileManager } from \"../profile.js\";\nimport { ConfigNormalizer } from \"../normalization.js\";\n\n/**\n * Logger unifié (défini par geoleaf.logger-shim.js chargé en premier)\n */\n\n/**\n * Module GeoLeaf.Config\n *\n * Rôle :\n * - Centraliser la configuration de GeoLeaf (options carte, basemaps, thèmes, etc.)\n * - Charger une configuration depuis un objet JS ou un fichier JSON externe (fetch)\n * - Fournir des helpers pour lire / écrire via chemins de type \"map.center\" ou \"basemaps.street.url\"\n * - Gérer les profils métiers (tourism, etc.) et leurs ressources associées\n *\n * Architecture Phase 4 :\n * - config/loader.js       : Chargement HTTP, fetch, validation CSRF\n * - config/taxonomy.js     : Gestion taxonomie (catégories/sous-catégories)\n * - config/storage.js      : get/set/merge config, helpers paths\n * - config/normalization.js: Normalisation POI (mapping brut→GeoLeaf)\n * - config/profile.js      : Gestion profils métier (profile.json, poi.json, routes.json)\n */\nconst Config = {};\n\n/* ------------------------------------------------------------------ */\n/*  Module-level state                                                 */\n/* ------------------------------------------------------------------ */\n\n/**\n * Configuration interne consolidée\n * @type {Object}\n * @private\n */\nConfig._config = {};\n\n/**\n * Indicateur de chargement\n * @type {boolean}\n * @private\n */\nConfig._isLoaded = false;\n\n/**\n * Garde d'idempotence pour _initSubModules() — reseté par _applyConfig() avant chaque rechargement\n * @type {boolean}\n * @private\n */\nConfig._subModulesInitialized = false;\n\n/**\n * Source de la configuration (\"inline\", \"url\", null)\n * @type {string|null}\n * @private\n */\nConfig._source = null;\n\n/**\n * Options internes\n * @type {{autoEvent: boolean}}\n * @private\n */\nConfig._options = {\n    /**\n     * Si true, émet un événement DOM \"geoleaf:config:loaded\" après chargement.\n     */\n    autoEvent: true,\n};\n\n/* ------------------------------------------------------------------ */\n/*  Core methods                                                       */\n/* ------------------------------------------------------------------ */\n\n/**\n * Initialisation du module de configuration.\n *\n * @param {Object} [options]\n * @param {Object} [options.config] - Objet de configuration fourni directement.\n * @param {string} [options.url] - URL d'un fichier JSON à charger.\n * @param {Object} [options.headers] - Headers HTTP personnalisés pour loadUrl (ex: CSRF token).\n * @param {boolean} [options.strictContentType=true] - Validation stricte du Content-Type.\n * @param {boolean} [options.autoEvent] - Désactiver ou non l'événement auto.\n * @param {Function} [options.onLoaded] - Callback appelé une fois la config disponible (après mapping).\n *\n * @param {Object}  [options.mappingHeaders]\n *        Headers HTTP spécifiques pour le mapping (sinon ceux de headers sont réutilisés).\n * @param {boolean} [options.mappingStrictContentType]\n *        Si défini, surcharge strictContentType pour le mapping.\n *\n * @returns {Promise<Object>} - Promesse résolue avec l'objet de configuration.\n */\nConfig.init = function (options = {}) {\n    this._options = Object.assign({}, this._options, {\n        autoEvent:\n            typeof options.autoEvent === \"boolean\" ? options.autoEvent : this._options.autoEvent,\n    });\n\n    // Cas 1 : configuration inline (objet JS directement fourni)\n    if (options.config && typeof options.config === \"object\") {\n        this._applyConfig(options.config, \"inline\");\n\n        // Si un profileId est spécifié, le mettre à jour après l'application de la config\n        if (typeof options.profileId === \"string\" && options.profileId.length > 0) {\n            if (!this._config.data) {\n                this._config.data = {};\n            }\n            this._config.data.activeProfile = options.profileId;\n            Log.info(\"[GeoLeaf.Config] Profil actif changé vers:\", options.profileId);\n        }\n\n        this._maybeFireLoadedEvent();\n\n        if (typeof options.onLoaded === \"function\") {\n            try {\n                options.onLoaded(this._config);\n            } catch (e) {\n                Log.error(\"[GeoLeaf.Config] Erreur dans onLoaded (inline) :\", e);\n            }\n        }\n\n        return Promise.resolve(this._config);\n    }\n\n    // Cas 2 : chargement via URL JSON\n    if (typeof options.url === \"string\" && options.url.length > 0) {\n        const loadOptions = {\n            headers: options.headers,\n            strictContentType:\n                typeof options.strictContentType === \"boolean\" ? options.strictContentType : true,\n        };\n\n        const mappingUrl =\n            typeof options.mappingUrl === \"string\" && options.mappingUrl.length > 0\n                ? options.mappingUrl\n                : null;\n\n        const mappingOptions = {\n            headers: options.mappingHeaders || options.headers,\n            strictContentType:\n                typeof options.mappingStrictContentType === \"boolean\"\n                    ? options.mappingStrictContentType\n                    : loadOptions.strictContentType,\n        };\n\n        // 1) Charger la config principale\n        return (\n            this.loadUrl(options.url, loadOptions)\n                .then((cfg) => {\n                    // Appliquer le profileId APRÈS le chargement de l'URL\n                    if (typeof options.profileId === \"string\" && options.profileId.length > 0) {\n                        if (!cfg.data) {\n                            cfg.data = {};\n                        }\n                        cfg.data.activeProfile = options.profileId;\n                        this._config.data.activeProfile = options.profileId;\n                        Log.info(\"[GeoLeaf.Config] Profil actif changé vers:\", options.profileId);\n                    }\n                    return cfg;\n                })\n                // 2) Charger le mapping catégories (si URL fournie)\n                .then((cfg) => {\n                    if (!mappingUrl) {\n                        return cfg;\n                    }\n\n                    return this.loadTaxonomy(mappingUrl, mappingOptions)\n                        .then(() => cfg)\n                        .catch((err) => {\n                            Log.warn(\n                                \"[GeoLeaf.Config] Échec du chargement du mapping catégories depuis \" +\n                                    mappingUrl +\n                                    \" (GeoLeaf continuera sans mapping dédié) :\",\n                                err\n                            );\n                            return cfg;\n                        });\n                })\n                // 3) Appeler onLoaded une fois TOUT chargé (config + mapping)\n                .then((cfg) => {\n                    if (typeof options.onLoaded === \"function\") {\n                        try {\n                            options.onLoaded(cfg);\n                        } catch (e) {\n                            Log.error(\"[GeoLeaf.Config] Erreur dans onLoaded (url+mapping) :\", e);\n                        }\n                    }\n                    return cfg;\n                })\n                .catch((err) => {\n                    Log.error(\"[GeoLeaf.Config] Erreur init() avec url :\", err);\n\n                    // Appeler onError si fourni\n                    if (typeof options.onError === \"function\") {\n                        try {\n                            options.onError(err);\n                        } catch (e) {\n                            Log.error(\"[GeoLeaf.Config] Erreur dans onError :\", e);\n                        }\n                    }\n\n                    throw err; // Re-throw pour que la Promise soit rejetée\n                })\n        );\n    }\n\n    // Cas 3 : Aucun paramètre fourni : on se contente d'un objet vide\n    this._applyConfig({}, \"inline\");\n\n    // Si un profileId est spécifié, le mettre à jour\n    if (typeof options.profileId === \"string\" && options.profileId.length > 0) {\n        if (!this._config.data) {\n            this._config.data = {};\n        }\n        this._config.data.activeProfile = options.profileId;\n        Log.info(\"[GeoLeaf.Config] Profil actif changé vers:\", options.profileId);\n    }\n\n    this._maybeFireLoadedEvent();\n\n    if (typeof options.onLoaded === \"function\") {\n        try {\n            options.onLoaded(this._config);\n        } catch (e) {\n            Log.error(\"[GeoLeaf.Config] Erreur dans onLoaded (vide) :\", e);\n        }\n    }\n\n    return Promise.resolve(this._config);\n};\n\n/**\n * Initialise les sous-modules avec la référence partagée à la config.\n *\n * @private\n */\nConfig._initSubModules = function () {\n    // B1 [PERF-01]: garde d'idempotence — évite double/triple init depuis les accesseurs defensifs\n    if (this._subModulesInitialized) return;\n    this._subModulesInitialized = true;\n\n    const Storage = StorageHelper;\n    const Taxonomy = TaxonomyManager;\n    const Profile = ProfileManager;\n\n    if (Storage && typeof Storage.init === \"function\") {\n        Storage.init(this._config);\n    }\n    if (Taxonomy && typeof Taxonomy.init === \"function\") {\n        Taxonomy.init(this._config);\n    }\n    if (Profile && typeof Profile.init === \"function\") {\n        Profile.init(this._config);\n    }\n};\n\n/**\n * Applique une configuration brute (remplace la précédente de manière fusionnée).\n *\n * @param {Object} cfg\n * @param {string} source\n * @private\n */\nConfig._applyConfig = function (cfg, source) {\n    if (typeof cfg !== \"object\" || cfg === null) {\n        cfg = {};\n    }\n\n    // Validation de la structure du JSON\n    this._validateConfig(cfg);\n\n    // Fusion profonde avec la configuration existante\n    const Storage = StorageHelper;\n    if (Storage && typeof Storage.deepMerge === \"function\") {\n        this._config = Storage.deepMerge(this._config, cfg);\n    } else {\n        this._config = Object.assign({}, this._config, cfg);\n    }\n\n    // Normalisation des POI (avis) après fusion\n    const Normalization = ConfigNormalizer;\n    if (Array.isArray(this._config.poi) && Normalization) {\n        this._config.poi = Normalization.normalizePoiArray(this._config.poi);\n    }\n\n    this._isLoaded = true;\n    this._source = source || \"inline\";\n\n    // Initialiser les sous-modules maintenant que _config est chargé\n    // Reset du flag pour permettre une ré-initialisation propre avec la nouvelle config\n    this._subModulesInitialized = false;\n    this._initSubModules();\n\n    try {\n        // On récupère le bloc \"logging\" soit depuis le cfg brut, soit depuis la configuration consolidée\n        const loggingCfg =\n            cfg && typeof cfg === \"object\" && cfg.logging\n                ? cfg.logging\n                : this._config && this._config.logging\n                  ? this._config.logging\n                  : null;\n\n        // Prise en compte du flag global debug\n        let level = loggingCfg && loggingCfg.level;\n        let debugFlag = false;\n        if (cfg && typeof cfg.debug !== \"undefined\") {\n            debugFlag = !!cfg.debug;\n        } else if (this._config && typeof this._config.debug !== \"undefined\") {\n            debugFlag = !!this._config.debug;\n        }\n\n        if (!level) {\n            level = debugFlag ? \"debug\" : \"info\";\n        }\n\n        if (level && Log && typeof Log.setLevel === \"function\") {\n            Log.setLevel(level);\n            Log.info(\n                \"[GeoLeaf.Config] Niveau de log appliqué depuis la configuration :\",\n                level,\n                \"(debug:\",\n                debugFlag,\n                \")\"\n            );\n        }\n    } catch (e) {\n        Log.warn(\n            \"[GeoLeaf.Config] Impossible d'appliquer le niveau de log depuis la configuration :\",\n            e\n        );\n    }\n};\n\n/**\n * Indique si la configuration est considérée comme \"chargée\".\n *\n * @returns {boolean}\n */\nConfig.isLoaded = function () {\n    return this._isLoaded;\n};\n\n/**\n * Retourne la source de la config (\"inline\", \"url\", null).\n *\n * @returns {string|null}\n */\nConfig.getSource = function () {\n    return this._source;\n};\n\n/**\n * Envoie un événement DOM \"geoleaf:config:loaded\" si autoEvent = true.\n *\n * @private\n */\nConfig._maybeFireLoadedEvent = function () {\n    if (!this._options.autoEvent) {\n        return;\n    }\n\n    if (typeof document === \"undefined\" || typeof document.dispatchEvent !== \"function\") {\n        return;\n    }\n\n    try {\n        const event = new CustomEvent(\"geoleaf:config:loaded\", {\n            detail: {\n                config: this._config,\n                source: this._source,\n            },\n        });\n        document.dispatchEvent(event);\n    } catch (e) {\n        // En environnement très ancien, CustomEvent peut ne pas exister\n        try {\n            const legacyEvent = document.createEvent(\"CustomEvent\");\n            legacyEvent.initCustomEvent(\"geoleaf:config:loaded\", false, false, {\n                config: this._config,\n                source: this._source,\n            });\n            document.dispatchEvent(legacyEvent);\n        } catch (err) {\n            // On ne bloque pas le fonctionnement si l'événement échoue\n            Log.warn(\"[GeoLeaf.Config] Impossible d'émettre l'événement geoleaf:config:loaded.\");\n        }\n    }\n};\n\nexport { Config };\n","/*!\r\n * GeoLeaf Core – Core / Map Factory\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n */\r\n\r\nimport { Log } from \"../log/index.js\";\r\nimport { CONSTANTS } from \"../constants/index.js\";\r\n\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n\r\n/**\r\n * Construit les options Leaflet à partir des options GeoLeaf.\r\n * @param {object} options\r\n * @returns {object} leafletMapOptions\r\n */\r\nexport function buildLeafletOptions(options) {\r\n    const center = Array.isArray(options.center) ? options.center : CONSTANTS.DEFAULT_CENTER;\r\n    const zoom = Number.isFinite(options.zoom) ? options.zoom : CONSTANTS.DEFAULT_ZOOM;\r\n\r\n    return Object.assign({}, options.mapOptions || {}, {\r\n        center,\r\n        zoom,\r\n        zoomControl: options.mapOptions?.zoomControl ?? true,\r\n        attributionControl: options.mapOptions?.attributionControl ?? false,\r\n        zoomSnap: options.mapOptions?.zoomSnap ?? 1,\r\n        zoomDelta: options.mapOptions?.zoomDelta ?? 1,\r\n        wheelPxPerZoomLevel: options.mapOptions?.wheelPxPerZoomLevel ?? 120,\r\n        preferCanvas: options.mapOptions?.preferCanvas ?? true,\r\n    });\r\n}\r\n\r\n/**\r\n * Valide le DOM container et retourne l'élément cible.\r\n * @param {string} mapId\r\n * @returns {HTMLElement}\r\n * @throws {Error} si mapId manquant ou élément introuvable\r\n */\r\nexport function resolveMapContainer(mapId) {\r\n    if (!mapId) throw new Error(\"L'option obligatoire 'mapId' est manquante.\");\r\n    const el = document.getElementById(mapId);\r\n    if (!el) throw new Error(`Aucun élément DOM trouvé pour mapId='${mapId}'.`);\r\n    return el;\r\n}\r\n\r\n/**\r\n * Crée une instance Leaflet Map.\r\n * @param {HTMLElement} targetEl\r\n * @param {object} leafletOptions\r\n * @returns {L.Map}\r\n */\r\nexport function createLeafletMap(targetEl, leafletOptions) {\r\n    if (typeof L === \"undefined\") {\r\n        throw new Error(\"Leaflet (L) est introuvable. Assurez-vous d'avoir chargé Leaflet 1.9.x.\");\r\n    }\r\n    return L.map(targetEl, leafletOptions);\r\n}\r\n\r\n/**\r\n * Applique le thème via GeoLeaf.UI si disponible.\r\n * @param {string} theme\r\n */\r\nexport function applyThemeSafe(theme) {\r\n    try {\r\n        if (_g.GeoLeaf?.UI && typeof _g.GeoLeaf.UI.applyTheme === \"function\") {\r\n            _g.GeoLeaf.UI.applyTheme(theme);\r\n        }\r\n    } catch (err) {\r\n        Log.warn(\"[GeoLeaf.Core] Impossible d'appliquer le thème :\", err);\r\n    }\r\n}\r\n\r\n/**\r\n * Initialise Legend si activé dans la config.\r\n * @param {L.Map} mapInstance\r\n */\r\nexport function initLegendSafe(mapInstance) {\r\n    const uiConfig = _g.GeoLeaf?.Config?.get ? _g.GeoLeaf.Config.get(\"ui\") : null;\r\n    const showLegend = uiConfig ? uiConfig.showLegend !== false : true;\r\n\r\n    if (showLegend && typeof _g.GeoLeaf?.Legend?.init === \"function\") {\r\n        try {\r\n            _g.GeoLeaf.Legend.init(mapInstance, {\r\n                position: \"bottomleft\",\r\n                collapsible: true,\r\n                collapsed: false,\r\n            });\r\n        } catch (err) {\r\n            Log.warn(\"[GeoLeaf.Core] Impossible d'initialiser Legend :\", err);\r\n        }\r\n    }\r\n}\r\n","/*!\r\n * GeoLeaf Core – Core / Theme\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n */\r\n\r\nimport { Log } from \"../log/index.js\";\r\n\r\nlet _theme = \"light\";\r\n\r\n/**\r\n * Applique une classe de thème sur document.body.\r\n * @param {string} theme - \"light\" | \"dark\"\r\n */\r\nfunction _applyThemeToBody(theme) {\r\n    const body = document.body;\r\n    if (!body) {\r\n        Log.warn(\"[GeoLeaf.Core] Impossible d'appliquer le thème : document.body introuvable.\");\r\n        return;\r\n    }\r\n    body.classList.remove(\"gl-theme-light\", \"gl-theme-dark\");\r\n    body.classList.add(theme === \"dark\" ? \"gl-theme-dark\" : \"gl-theme-light\");\r\n}\r\n\r\n/**\r\n * Définit et applique le thème actif.\r\n * @param {string} theme - \"light\" | \"dark\"\r\n */\r\nexport function setTheme(theme) {\r\n    if (!theme || (theme !== \"light\" && theme !== \"dark\")) {\r\n        Log.warn(\"[GeoLeaf.Core] setTheme() : thème invalide →\", theme);\r\n        return;\r\n    }\r\n    _theme = theme;\r\n    _applyThemeToBody(theme);\r\n}\r\n\r\n/**\r\n * Retourne le thème actif.\r\n * @returns {string}\r\n */\r\nexport function getTheme() {\r\n    return _theme;\r\n}\r\n","/*!\r\n * GeoLeaf Core – Core / Index (barrel)\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n */\r\n\r\nimport { Log } from \"../log/index.js\";\r\nimport { CONSTANTS } from \"../constants/index.js\";\r\nimport {\r\n    buildLeafletOptions,\r\n    resolveMapContainer,\r\n    createLeafletMap,\r\n    applyThemeSafe,\r\n    initLegendSafe,\r\n} from \"./map-factory.js\";\r\nimport { setTheme, getTheme } from \"./theme.js\";\r\n\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n\r\nlet _mapInstance = null;\r\nlet _map = null;\r\n\r\n// ---------------------------------------------------------\r\n// init\r\n// ---------------------------------------------------------\r\nfunction init(options = {}) {\r\n    const context = \"[GeoLeaf.Core]\";\r\n    try {\r\n        if (_mapInstance) {\r\n            Log.warn(`${context} Carte déjà initialisée. Recyclage de l'instance existante.`);\r\n            return _mapInstance;\r\n        }\r\n\r\n        const targetEl = resolveMapContainer(options.mapId);\r\n        const leafletOptions = buildLeafletOptions(options);\r\n        const theme = options.theme || \"light\";\r\n\r\n        _mapInstance = createLeafletMap(targetEl, leafletOptions);\r\n        _map = _mapInstance;\r\n\r\n        applyThemeSafe(theme);\r\n        initLegendSafe(_mapInstance);\r\n\r\n        Log.info(`${context} Carte initialisée avec succès.`);\r\n        return _mapInstance;\r\n    } catch (err) {\r\n        Log.error(`${context} ERREUR :`, err.message);\r\n\r\n        if (typeof _g.GeoLeaf?.Core?.onError === \"function\") {\r\n            try {\r\n                _g.GeoLeaf.Core.onError(err);\r\n            } catch (cbErr) {\r\n                Log.error(`${context} Erreur dans Core.onError() :`, cbErr);\r\n            }\r\n        }\r\n\r\n        _mapInstance = null;\r\n        _map = null;\r\n        return null;\r\n    }\r\n}\r\n\r\n// ---------------------------------------------------------\r\n// initMap (compat descendante)\r\n// ---------------------------------------------------------\r\nfunction initMap(a, b, c, d) {\r\n    Log.warn(\"[GeoLeaf.Core] GeoLeaf.Core.initMap() est obsolète, utilisez GeoLeaf.Core.init().\");\r\n\r\n    if (_g.GeoLeaf?.Config?.get) {\r\n        try {\r\n            const mapCfg = _g.GeoLeaf.Config.get(\"map\") || {};\r\n            const uiCfg = _g.GeoLeaf.Config.get(\"ui\") || {};\r\n            return init({\r\n                target: mapCfg.target || \"geoleaf-map\",\r\n                center: mapCfg.center || CONSTANTS.DEFAULT_CENTER,\r\n                zoom: typeof mapCfg.zoom === \"number\" ? mapCfg.zoom : CONSTANTS.DEFAULT_ZOOM,\r\n                theme: uiCfg.theme || \"light\",\r\n                mapOptions: mapCfg.mapOptions || {},\r\n            });\r\n        } catch (err) {\r\n            Log.error(\"[GeoLeaf.Core] initMap() n'a pas pu construire les options :\", err);\r\n        }\r\n    }\r\n\r\n    if (a && typeof a === \"object\" && !Array.isArray(a)) return init(a);\r\n\r\n    if (typeof a === \"string\" && Array.isArray(b) && typeof c === \"number\") {\r\n        return init({ target: a, center: b, zoom: c, theme: d || \"light\" });\r\n    }\r\n\r\n    Log.error(\"[GeoLeaf.Core] initMap() appelé avec une signature obsolète ou invalide.\");\r\n    return null;\r\n}\r\n\r\n// ---------------------------------------------------------\r\n// Accesseur\r\n// ---------------------------------------------------------\r\nfunction getMap() {\r\n    return _map;\r\n}\r\n\r\n// ---------------------------------------------------------\r\n// API publique\r\n// ---------------------------------------------------------\r\nexport const Core = {\r\n    init,\r\n    initMap,\r\n    getMap,\r\n    setTheme,\r\n    getTheme,\r\n};\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * @fileoverview General utility functions for GeoLeaf\r\n * @description Shared utilities: data manipulation, URL validation, distance, etc.\r\n */\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { Config } from '../config/config-primitives.js';\r\nimport { validateUrl as _secValidateUrl } from '../security/index.js';\r\nimport { Core } from '../geoleaf.core.js';\r\n\r\n'use strict';\r\n\r\n/**\r\n * Valide et nettoie une URL\r\n * @param {string} url - URL à valider\r\n * @param {Array<string>} allowedProtocols - Protocoles autorisés (défaut: http, https, mailto, tel)\r\n * @returns {string|null} - URL validée ou null si invalide\r\n */\r\n/**\r\n * Phase 4 dedup: delegates to Security.validateUrl when available.\r\n * Wraps the throwing API into a null-on-failure pattern.\r\n */\r\nexport function validateUrl(url, _allowedProtocols = ['http:', 'https:', 'mailto:', 'tel:']) {\r\n    if (!url || typeof url !== 'string') return null;\r\n    // Use canonical Security.validateUrl (static ESM import)\r\n    try { return _secValidateUrl(url); } catch { return null; }\r\n}\r\n\r\n/**\r\n * Merge profond d'objets\r\n * @param {Object} target - Objet cible\r\n * @param {Object} source - Objet source\r\n * @returns {Object} - Objet fusionné\r\n */\r\nexport function deepMerge(target, source) {\r\n    if (!source || typeof source !== 'object') return target;\r\n    if (!target || typeof target !== 'object') return source;\r\n\r\n    const DANGEROUS_KEYS = ['__proto__', 'constructor', 'prototype'];\r\n    const output = Object.assign({}, target);\r\n\r\n    Object.keys(source).forEach(key => {\r\n        // Prototype pollution protection\r\n        if (DANGEROUS_KEYS.includes(key)) return;\r\n\r\n        if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) {\r\n            output[key] = deepMerge(target[key] || {}, source[key]);\r\n        } else {\r\n            output[key] = source[key];\r\n        }\r\n    });\r\n\r\n    return output;\r\n}\r\n\r\n/**\r\n * Résout la carte Leaflet depuis les options ou GeoLeaf.Core\r\n * Utilitaire partagé pour éviter duplication dans POI/GeoJSON/Route\r\n * @param {L.Map|null} explicitMap - Carte passée explicitement\r\n * @returns {L.Map|null} - Instance de la carte ou null\r\n */\r\n/**\r\n * Phase 4 dedup: delegates to MapHelpers.ensureMap (duck-typing) when available\r\n */\r\nexport function ensureMap(explicitMap) {\r\n    // Phase 4 dedup: delegates to MapHelpers.ensureMap (duck-typing) when available\r\n    if (explicitMap) return explicitMap;\r\n    if (Core && typeof Core.getMap === 'function') {\r\n        return Core.getMap();\r\n    }\r\n    return null;\r\n}\r\n\r\n/**\r\n * Merge shallow d'options (pour les modules POI/GeoJSON/Route)\r\n * @param {Object} defaults - Options par défaut\r\n * @param {Object} override - Options fournies par l'utilisateur\r\n * @returns {Object} - Options fusionnées\r\n */\r\nexport function mergeOptions(defaults, override) {\r\n    if (!override || typeof override !== 'object') return defaults;\r\n    return Object.assign({}, defaults, override);\r\n}\r\n\r\n/**\r\n * Émet un événement personnalisé sur la carte Leaflet\r\n * Phase 4 dedup: thin wrapper — canonical is EventHelpers.dispatchMapEvent\r\n * @param {L.Map} map - Instance de la carte\r\n * @param {string} eventName - Nom de l'événement\r\n * @param {Object} payload - Données à transmettre\r\n */\r\nexport function fireMapEvent(map, eventName, payload) {\r\n    if (!map || typeof map.fire !== 'function') return;\r\n    try {\r\n        map.fire(eventName, payload || {});\r\n    } catch (err) {\r\n        if (Log) Log.warn('[Utils] fireMapEvent error:', eventName, err);\r\n    }\r\n}\r\n\r\n/**\r\n * Debounce — Phase 4 dedup: delegates to EventHelpers.debounce at runtime\r\n * (EventHelpers version supports `immediate` param)\r\n * @param {Function} func\r\n * @param {number} [wait=250]\r\n * @param {boolean} [immediate=false]\r\n * @returns {Function}\r\n */\r\nexport function debounce(func, wait = 250, immediate = false) {\r\n    // EventHelpers loaded later via bundle-entry; at runtime it overwrites Utils.debounce\r\n    // This ESM export is kept for any direct import usage\r\n    let timeout;\r\n    return function debounced(...args) {\r\n        const context = this;\r\n        const later = () => { timeout = null; if (!immediate) func.apply(context, args); };\r\n        const callNow = immediate && !timeout;\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n        if (callNow) func.apply(context, args);\r\n    };\r\n}\r\n\r\n/**\r\n * Throttle — Phase 4 dedup: delegates to EventHelpers.throttle at runtime\r\n * @param {Function} func\r\n * @param {number} [limit=100]\r\n * @returns {Function}\r\n */\r\nexport function throttle(func, limit = 100) {\r\n    let lastRan;\r\n    return function throttled(...args) {\r\n        const context = this;\r\n        const now = Date.now();\r\n        if (!lastRan || (now - lastRan >= limit)) {\r\n            func.apply(context, args);\r\n            lastRan = now;\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * Calcule la distance entre deux points géographiques (formule de Haversine)\r\n * @param {number} lat1 - Latitude du point 1 (degrés)\r\n * @param {number} lng1 - Longitude du point 1 (degrés)\r\n * @param {number} lat2 - Latitude du point 2 (degrés)\r\n * @param {number} lng2 - Longitude du point 2 (degrés)\r\n * @returns {number} - Distance en kilomètres\r\n *\r\n * @example\r\n * const distance = getDistance(48.8566, 2.3522, 51.5074, -0.1278);\r\n * console.log(`Distance: ${distance.toFixed(2)} km`);\r\n */\r\nexport function getDistance(lat1, lng1, lat2, lng2) {\r\n    const R = 6371; // Rayon de la Terre en kilomètres\r\n    const dLat = (lat2 - lat1) * (Math.PI / 180);\r\n    const dLng = (lng2 - lng1) * (Math.PI / 180);\r\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n              Math.cos(lat1 * (Math.PI / 180)) * Math.cos(lat2 * (Math.PI / 180)) *\r\n              Math.sin(dLng / 2) * Math.sin(dLng / 2);\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    return R * c;\r\n}\r\n\r\n/**\r\n * Résout la valeur d'un champ depuis plusieurs chemins possibles dans un objet\r\n * Élimine les longues chaînes conditionnelles de résolution de champs\r\n * @param {Object} obj - Objet source\r\n * @param {...string} paths - Chemins à tester dans l'ordre\r\n * @returns {*} - Première valeur trouvée ou chaîne vide si rien trouvé\r\n *\r\n * @example\r\n * const title = resolveField(poi,\r\n *     'label', 'attributes.label', 'properties.label',\r\n *     'name', 'attributes.name', 'properties.name'\r\n * );\r\n */\r\nexport function resolveField(obj, ...paths) {\r\n    if (!obj || typeof obj !== 'object') return '';\r\n\r\n    for (const path of paths) {\r\n        const keys = path.split('.');\r\n        let value = obj;\r\n\r\n        for (const key of keys) {\r\n            if (value && typeof value === 'object' && key in value) {\r\n                value = value[key];\r\n            } else {\r\n                value = null;\r\n                break;\r\n            }\r\n        }\r\n\r\n        // Return any truthy value (string, object, array, number, etc.)\r\n        if (value != null) {\r\n            // For strings, ensure they're not empty\r\n            if (typeof value === 'string') {\r\n                if (value.trim()) return value;\r\n            } else {\r\n                // For non-strings (objects, arrays, numbers, booleans), return as-is\r\n                return value;\r\n            }\r\n        }\r\n    }\r\n\r\n    return '';\r\n}\r\n\r\n/**\r\n * Comparator for sorting config items by their `order` property.\r\n * Items without an order field are sorted last (default: 999).\r\n * Phase 4 dedup — single canonical comparator.\r\n *\r\n * @param {Object} a - First item (must have optional `order` number)\r\n * @param {Object} b - Second item\r\n * @param {number} [fallback=999] - Default order for items without `order`\r\n * @returns {number} Negative if a<b, positive if a>b, 0 if equal\r\n *\r\n * @example\r\n * config.sort(compareByOrder);\r\n * sections.sort((a, b) => compareByOrder(a, b, 0));\r\n */\r\nexport function compareByOrder(a, b, fallback = 999) {\r\n    const orderA = typeof a.order === 'number' ? a.order : fallback;\r\n    const orderB = typeof b.order === 'number' ? b.order : fallback;\r\n    return orderA - orderB;\r\n}\r\n\r\n/**\r\n * Phase 4 dedup: shared getLog() — canonical lazy logger accessor\r\n * @returns {Object} Logger (GeoLeaf.Log or console)\r\n */\r\nexport function getLog() {\r\n    return Log;\r\n}\r\n\r\n/**\r\n * Phase 4 dedup: shared getActiveProfile() — canonical profile accessor\r\n * @returns {Object|null} Active profile or null\r\n */\r\nexport function getActiveProfile() {\r\n    if (Config && typeof Config.getActiveProfile === 'function') {\r\n        return Config.getActiveProfile() || null;\r\n    }\r\n    return null;\r\n}\r\n\r\n/**\r\n * Utils facade — groups all general utilities under one object\r\n * @namespace\r\n */\r\nexport const Utils = {\r\n    validateUrl,\r\n    deepMerge,\r\n    ensureMap,\r\n    mergeOptions,\r\n    fireMapEvent,\r\n    debounce,\r\n    throttle,\r\n    getDistance,\r\n    resolveField,\r\n    compareByOrder,\r\n    getLog,\r\n    getActiveProfile\r\n};\r\n\r\n\r\n","/**\r\n * GeoLeaf - DOM Security Module\r\n *\r\n * @description Wrappers sécurisés pour manipuler le DOM sans vulnérabilités XSS\r\n * @module GeoLeaf.DOMSecurity\r\n * @version 3.0.1\r\n * @date 2026-01-17\r\n *\r\n * USAGE:\r\n * - Remplace innerHTML par des alternatives sécurisées\r\n * - Utilise textContent pour données non-HTML\r\n * - Sanitize via GeoLeaf.Security pour HTML nécessaire\r\n * - Crée SVG de manière sécurisée\r\n */\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { Security } from '../security/index.js';\r\n\r\n'use strict';\r\n\r\n/**\r\n * Définit le contenu texte d'un élément de manière sécurisée\r\n * Remplace: element.innerHTML = text\r\n *\r\n * @param {HTMLElement} element - Élément DOM cible\r\n * @param {string|number} text - Contenu texte (sera converti en string)\r\n * @returns {void}\r\n *\r\n * @example\r\n * // ❌ AVANT (vulnérable XSS)\r\n * div.innerHTML = userData;\r\n *\r\n * // ✅ APRÈS (sécurisé)\r\n * DOMSecurity.setTextContent(div, userData);\r\n */\r\nfunction setTextContent(element, text) {\r\n    if (!element || !element.nodeType) {\r\n        Log.warn('[DOMSecurity] Invalid element in setTextContent');\r\n        return;\r\n    }\r\n    element.textContent = text != null ? String(text) : '';\r\n}\r\n\r\n/**\r\n * Injecte du HTML dans un élément après sanitisation (whitelist de balises sûres).\r\n * Remplace: element.innerHTML = html (quand du HTML enrichi doit être rendu)\r\n *\r\n * @param {HTMLElement} element - Élément DOM cible\r\n * @param {string} html - Contenu HTML à sanitiser et injecter\r\n * @param {string[]} [allowedTags] - Balises autorisées (défaut: p br strong em span a ul ol li)\r\n * @returns {void}\r\n *\r\n * @example\r\n * // ✅ Rendu HTML sanitisé\r\n * DOMSecurity.setSafeHTML(div, '<strong>Important</strong>');\r\n */\r\nfunction setSafeHTML(element, html, allowedTags) {\r\n    if (!element || !element.nodeType) {\r\n        Log.warn('[DOMSecurity] Invalid element in setSafeHTML');\r\n        return;\r\n    }\r\n\r\n    // Utiliser Security.sanitizeHTML si disponible — sanitisation avec whitelist\r\n    if (Security && typeof Security.sanitizeHTML === 'function') {\r\n        Security.sanitizeHTML(element, html, allowedTags ? { allowedTags } : {});\r\n    } else {\r\n        // Fallback sûr : textContent si Security non disponible\r\n        Log.warn('[DOMSecurity] Security.sanitizeHTML unavailable, falling back to textContent');\r\n        element.textContent = html ? String(html) : '';\r\n    }\r\n}\r\n\r\n/**\r\n * Vide un élément de manière sécurisée\r\n * Remplace: element.innerHTML = \"\"\r\n *\r\n * @param {HTMLElement} element - Élément DOM à vider\r\n * @returns {void}\r\n *\r\n * @example\r\n * DOMSecurity.clearElement(container);\r\n */\r\nfunction clearElement(element) {\r\n    if (!element || !element.nodeType) {\r\n        Log.warn('[DOMSecurity] Invalid element in clearElement');\r\n        return;\r\n    }\r\n\r\n    // Méthode la plus performante et sûre\r\n    while (element.firstChild) {\r\n        element.removeChild(element.firstChild);\r\n    }\r\n}\r\n\r\n/**\r\n * Vide rapidement en utilisant textContent (alternative)\r\n * Plus rapide que removeChild mais moins propre\r\n *\r\n * @param {HTMLElement} element - Élément DOM à vider\r\n * @returns {void}\r\n */\r\nfunction clearElementFast(element) {\r\n    if (!element || !element.nodeType) {\r\n        Log.warn('[DOMSecurity] Invalid element in clearElementFast');\r\n        return;\r\n    }\r\n    element.textContent = '';\r\n}\r\n\r\n/**\r\n * Crée un élément SVG de manière sécurisée\r\n *\r\n * @param {number} width - Largeur SVG\r\n * @param {number} height - Hauteur SVG\r\n * @param {string} pathData - Données du path SVG\r\n * @param {Object} [options={}] - Options SVG\r\n * @param {string} [options.viewBox] - ViewBox SVG\r\n * @param {string} [options.fill='none'] - Couleur de remplissage\r\n * @param {string} [options.stroke='currentColor'] - Couleur de trait\r\n * @param {string|number} [options.strokeWidth='2'] - Épaisseur trait\r\n * @param {string} [options.strokeLinecap='round'] - Style bout de trait\r\n * @param {string} [options.strokeLinejoin='round'] - Style jonction\r\n * @returns {SVGElement} Élément SVG créé\r\n *\r\n * @example\r\n * const icon = DOMSecurity.createSVGIcon(18, 18, 'M6 9l6 6 6-6');\r\n * button.appendChild(icon);\r\n */\r\nfunction createSVGIcon(width, height, pathData, options = {}) {\r\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\r\n    svg.setAttribute('width', width);\r\n    svg.setAttribute('height', height);\r\n    svg.setAttribute('viewBox', options.viewBox || `0 0 24 24`);\r\n    svg.setAttribute('fill', options.fill || 'none');\r\n    svg.setAttribute('stroke', options.stroke || 'currentColor');\r\n    svg.setAttribute('stroke-width', String(options.strokeWidth || '2'));\r\n    svg.setAttribute('stroke-linecap', options.strokeLinecap || 'round');\r\n    svg.setAttribute('stroke-linejoin', options.strokeLinejoin || 'round');\r\n\r\n    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\r\n    path.setAttribute('d', pathData);\r\n    svg.appendChild(path);\r\n\r\n    return svg;\r\n}\r\n\r\n/**\r\n * Bibliothèque d'icônes SVG communes\r\n * @constant\r\n */\r\nconst SVG_ICONS = {\r\n    // Chevrons\r\n    'chevron-down': 'M6 9l6 6 6-6',\r\n    'chevron-up': 'M18 15l-6-6-6 6',\r\n    'chevron-left': 'M15 18l-6-6 6-6',\r\n    'chevron-right': 'M9 18l6-6-6-6',\r\n\r\n    // Arrows\r\n    'arrow-left': '‹',\r\n    'arrow-right': '›',\r\n\r\n    // UI Controls\r\n    'close': '✕',\r\n    'check': '✓',\r\n    'star': '★',\r\n    'star-empty': '☆',\r\n\r\n    // Triangles (collapse/expand)\r\n    'triangle-right': '▶',\r\n    'triangle-down': '▼',\r\n\r\n    // Home/Layers\r\n    'home': 'M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z',\r\n    'layers': 'M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5',\r\n\r\n    // Location\r\n    'marker': 'M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z',\r\n    'map-pin': 'M12 22s-8-4.5-8-11.8A8 8 0 0 1 12 2a8 8 0 0 1 8 8.2c0 7.3-8 11.8-8 11.8z',\r\n\r\n    // Actions\r\n    'download': 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3',\r\n    'upload': 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12',\r\n    'trash': 'M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2',\r\n    'copy': 'M8 4v12a2 2 0 002 2h8a2 2 0 002-2V7.242a2 2 0 00-.602-1.43L16.083 2.57A2 2 0 0014.685 2H10a2 2 0 00-2 2z',\r\n\r\n    // Status\r\n    'sync': 'M23 4v6h-6M1 20v-6h6M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15'\r\n};\r\n\r\n/**\r\n * Obtient une icône SVG prédéfinie\r\n *\r\n * @param {string} name - Nom de l'icône\r\n * @param {number} [size=18] - Taille de l'icône\r\n * @param {Object} [options={}] - Options SVG supplémentaires\r\n * @returns {SVGElement|null} Élément SVG ou null si non trouvé\r\n *\r\n * @example\r\n * const homeIcon = DOMSecurity.getIcon('home', 24);\r\n * button.appendChild(homeIcon);\r\n */\r\nfunction getIcon(name, size = 18, options = {}) {\r\n    const pathData = SVG_ICONS[name];\r\n    if (!pathData) {\r\n        Log.warn(`[DOMSecurity] Icon '${name}' not found`);\r\n        return null;\r\n    }\r\n    return createSVGIcon(size, size, pathData, options);\r\n}\r\n\r\n/**\r\n * Crée un élément avec attributs de manière sécurisée\r\n * Alternative sécurisée à innerHTML pour structures simples\r\n *\r\n * @param {string} tagName - Nom de la balise\r\n * @param {Object} [attributes={}] - Attributs de l'élément\r\n * @param {string|HTMLElement|Array} [children] - Enfants (texte ou éléments)\r\n * @returns {HTMLElement} Élément créé\r\n *\r\n * @example\r\n * const div = DOMSecurity.createElement('div',\r\n *   { class: 'container', id: 'main' },\r\n *   ['Hello ', DOMSecurity.createElement('strong', {}, 'World')]\r\n * );\r\n */\r\nfunction createElement(tagName, attributes = {}, children = null) {\r\n    const element = document.createElement(tagName);\r\n\r\n    // Définir les attributs\r\n    for (const [key, value] of Object.entries(attributes)) {\r\n        if (key === 'class' || key === 'className') {\r\n            element.className = value;\r\n        } else if (key === 'style' && typeof value === 'object') {\r\n            Object.assign(element.style, value);\r\n        } else if (key.startsWith('data-')) {\r\n            element.setAttribute(key, value);\r\n        } else {\r\n            element[key] = value;\r\n        }\r\n    }\r\n\r\n    // Ajouter les enfants\r\n    if (children) {\r\n        if (Array.isArray(children)) {\r\n            children.forEach(child => {\r\n                if (typeof child === 'string') {\r\n                    element.appendChild(document.createTextNode(child));\r\n                } else if (child && child.nodeType) {\r\n                    element.appendChild(child);\r\n                }\r\n            });\r\n        } else if (typeof children === 'string') {\r\n            element.textContent = children;\r\n        } else if (children.nodeType) {\r\n            element.appendChild(children);\r\n        }\r\n    }\r\n\r\n    return element;\r\n}\r\n\r\n// API publique\r\nexport const DOMSecurity = {\r\n    setTextContent,\r\n    setSafeHTML,\r\n    clearElement,\r\n    clearElementFast,\r\n    createSVGIcon,\r\n    getIcon,\r\n    createElement,\r\n    SVG_ICONS // Exposer la liste pour référence\r\n};\r\n\r\n\r\n","/**\n * @module GeoLeaf.Utils.DomHelpers\n * Helpers pour création et manipulation d'éléments DOM\n * Simplifie et standardise la création d'éléments DOM dans tout le projet\n *\n * @version 1.0.0\n * @requires GeoLeaf.Security (pour sanitization)\n */\n\nimport { Log } from '../log/index.js';\nimport { DOMSecurity } from './dom-security.js';\n\n\n/**\n * Crée un élément DOM avec propriétés et enfants de manière déclarative\n * Cette fonction simplifie la création d'éléments DOM complexes\n *\n * @param {string} tag - Nom du tag HTML (ex: 'div', 'span', 'button')\n * @param {Object} [props={}] - Propriétés de l'élément\n * @param {string} [props.className] - Classes CSS\n * @param {string} [props.id] - ID de l'élément\n * @param {Object} [props.style] - Styles inline (objet)\n * @param {Object} [props.dataset] - Data attributes (objet)\n * @param {Object} [props.attributes] - Attributs HTML (objet)\n * @param {Function} [props.on*] - Event handlers (ex: onClick, onMouseOver)\n * @param {string} [props._eventContext] - Context for EventListenerManager tracking\n * @param {Array} [props._cleanupArray] - Array to store cleanup functions\n * @param {...(Node|string|number)} children - Enfants de l'élément\n * @returns {HTMLElement} L'élément créé\n *\n * @example\n * // Simple div avec classe\n * createElement('div', { className: 'card' })\n *\n * @example\n * // Div avec enfants\n * createElement('div', { className: 'card' },\n *     createElement('h2', {}, 'Title'),\n *     createElement('p', {}, 'Content')\n * )\n *\n * @example\n * // Bouton avec event handler (auto-cleanup with EventListenerManager)\n * createElement('button', {\n *     className: 'btn',\n *     onClick: (e) => console.log('Clicked!'),\n *     dataset: { action: 'submit' },\n *     _eventContext: 'MyModule.button'\n * }, 'Click me')\n *\n * @example\n * // With cleanup tracking\n * const cleanups = [];\n * createElement('button', {\n *     onClick: handler,\n *     _cleanupArray: cleanups,\n *     _eventContext: 'MyModule'\n * }, 'Click')\n * // Later: cleanups.forEach(fn => fn())\n */\nexport function createElement(tag, props = {}, ...children) {\n    // Validate tag parameter\n    if (typeof tag !== 'string' || !tag.trim()) {\n        throw new TypeError('[DomHelpers] createElement: tag must be a non-empty string');\n    }\n\n    const element = document.createElement(tag);\n\n    // Traiter les propriétés spéciales en premier\n    const {\n        className,\n        id,\n        style,\n        dataset,\n        attributes,\n        textContent,\n        innerHTML,\n        _eventContext,\n        _cleanupArray,\n        ...otherProps\n    } = props;\n\n    // Appliquer className\n    if (className) {\n        element.className = className;\n    }\n\n    // Appliquer ID\n    if (id) {\n        element.id = id;\n    }\n\n    // Appliquer styles\n    if (style && typeof style === 'object') {\n        Object.assign(element.style, style);\n    }\n\n    // Appliquer data attributes\n    if (dataset && typeof dataset === 'object') {\n        for (const [key, value] of Object.entries(dataset)) {\n            element.dataset[key] = value;\n        }\n    }\n\n    // Appliquer attributes HTML\n    if (attributes && typeof attributes === 'object') {\n        for (const [key, value] of Object.entries(attributes)) {\n            element.setAttribute(key, value);\n        }\n    }\n\n    // Appliquer les autres propriétés (event handlers, etc.)\n    const events = GeoLeaf.Utils?.events;\n\n    for (const [key, value] of Object.entries(otherProps)) {\n        // Event handlers (onClick, onMouseOver, etc.)\n        if (key.startsWith('on') && typeof value === 'function') {\n            const event = key.substring(2).toLowerCase();\n\n            // Use EventListenerManager for auto-cleanup if available\n            if (events) {\n                const cleanup = events.on(\n                    element,\n                    event,\n                    value,\n                    false,\n                    _eventContext || 'DomHelpers.createElement'\n                );\n\n                // Store cleanup function if array provided\n                if (_cleanupArray && Array.isArray(_cleanupArray)) {\n                    _cleanupArray.push(cleanup);\n                }\n            } else {\n                // Fallback to native addEventListener\n                element.addEventListener(event, value);\n            }\n        }\n        // Propriétés aria-*\n        else if (key.startsWith('aria')) {\n            const attrName = 'aria-' + key.substring(4).toLowerCase();\n            element.setAttribute(attrName, value);\n        }\n        // Autres propriétés directes\n        else if (key in element) {\n            element[key] = value;\n        }\n        // Fallback: setAttribute\n        else {\n            element.setAttribute(key, value);\n        }\n    }\n\n    // Appliquer textContent si fourni (écrase innerHTML et children)\n    if (textContent !== undefined) {\n        element.textContent = textContent;\n        return element; // Ignorer children si textContent est fourni\n    }\n\n    // Appliquer innerHTML si fourni (écrase children)\n    // WARNING: N'utiliser qu'avec du contenu sécurisé/sanitizé\n    if (innerHTML !== undefined) {\n        if (Log && Log.warn) {\n            Log.warn(\n                '[DomHelpers] createElement avec innerHTML - assurez-vous que le contenu est sanitizé',\n                { tag, innerHTML: innerHTML.substring(0, 100) }\n            );\n        }\n\n        // Use DOMSecurity if available, otherwise use textContent as safer fallback\n        if (GeoLeaf.DOMSecurity && typeof GeoLeaf.DOMSecurity.setSafeHTML === 'function') {\n            GeoLeaf.DOMSecurity.setSafeHTML(element, innerHTML);\n        } else {\n            // Fallback: convert to text for security\n            if (Log && Log.error) {\n                Log.error('[DomHelpers] DOMSecurity not available, using textContent fallback');\n            }\n            element.textContent = innerHTML;\n        }\n        return element; // Ignorer children si innerHTML est fourni\n    }\n\n    // Ajouter les enfants\n    appendChild(element, ...children);\n\n    return element;\n}\n\n/**\n * Ajoute des enfants à un élément parent\n * Gère automatiquement les strings, numbers, nodes, et tableaux\n *\n * @param {HTMLElement} parent - Élément parent\n * @param {...(Node|string|number|Array)} children - Enfants à ajouter\n * @returns {HTMLElement} Le parent (pour chaînage)\n *\n * @example\n * appendChild(div, 'Text', createElement('span', {}, 'More text'))\n *\n * @example\n * // Avec tableau\n * appendChild(ul, items.map(item => createElement('li', {}, item)))\n */\nexport function appendChild(parent, ...children) {\n    for (const child of children) {\n        if (child == null || child === false) {\n            // Ignorer null, undefined, false (utile pour render conditionnel)\n            continue;\n        }\n\n        // Si c'est un tableau, l'aplatir récursivement\n        if (Array.isArray(child)) {\n            appendChild(parent, ...child);\n        }\n        // Si c'est une string ou number, créer un TextNode\n        else if (typeof child === 'string' || typeof child === 'number') {\n            parent.appendChild(document.createTextNode(String(child)));\n        }\n        // Si c'est un Node, l'ajouter directement\n        else if (child instanceof Node) {\n            parent.appendChild(child);\n        }\n        // Sinon, convertir en string et ajouter comme TextNode\n        else {\n            parent.appendChild(document.createTextNode(String(child)));\n        }\n    }\n    return parent;\n}\n\n/**\n * Vide un élément de tous ses enfants\n *\n * @param {HTMLElement} element - Élément à vider\n * @returns {HTMLElement} L'élément (pour chaînage)\n *\n * @example\n * clearElement(container)\n */\n/**\n * Phase 4 dedup: delegates to DOMSecurity.clearElement when available\n */\nexport function clearElement(element) {\n    if (!element) return element;\n    const ds = DOMSecurity;\n    if (ds && typeof ds.clearElement === 'function') {\n        ds.clearElement(element);\n        return element;\n    }\n    while (element.firstChild) {\n        element.removeChild(element.firstChild);\n    }\n    return element;\n}\n\n/**\n * Trouve un élément par ID avec validation\n *\n * @param {string} id - ID de l'élément\n * @param {boolean} [required=false] - Si true, lance une erreur si non trouvé\n * @returns {HTMLElement|null} L'élément trouvé ou null\n * @throws {Error} Si required=true et élément non trouvé\n *\n * @example\n * const el = getElementById('my-element', true) // Lance erreur si absent\n */\nfunction getElementById(id, required = false) {\n    const element = document.getElementById(id);\n    if (required && !element) {\n        throw new Error(`Element with id \"${id}\" not found`);\n    }\n    return element;\n}\n\n/**\n * Trouve des éléments par sélecteur CSS\n *\n * @param {string} selector - Sélecteur CSS\n * @param {HTMLElement} [parent=document] - Élément parent pour la recherche\n * @returns {HTMLElement[]} Tableau d'éléments trouvés\n *\n * @example\n * const buttons = querySelectorAll('.btn')\n */\nfunction querySelectorAll(selector, parent = document) {\n    return Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * Trouve un élément par sélecteur CSS\n *\n * @param {string} selector - Sélecteur CSS\n * @param {HTMLElement} [parent=document] - Élément parent pour la recherche\n * @returns {HTMLElement|null} Premier élément trouvé ou null\n *\n * @example\n * const button = querySelector('.btn-primary')\n */\nfunction querySelector(selector, parent = document) {\n    return parent.querySelector(selector);\n}\n\n/**\n * Toggle une classe CSS sur un élément\n *\n * @param {HTMLElement} element - Élément cible\n * @param {string} className - Nom de la classe\n * @param {boolean} [force] - Force l'ajout (true) ou le retrait (false)\n * @returns {boolean} True si la classe est présente après toggle\n *\n * @example\n * toggleClass(element, 'active')\n * toggleClass(element, 'hidden', false) // Force retrait\n */\nfunction toggleClass(element, className, force) {\n    if (!element) return false;\n    return element.classList.toggle(className, force);\n}\n\n/**\n * Ajoute une ou plusieurs classes à un élément\n *\n * @param {HTMLElement} element - Élément cible\n * @param {...string} classNames - Classes à ajouter\n * @returns {HTMLElement} L'élément (pour chaînage)\n *\n * @example\n * addClass(element, 'active', 'visible')\n */\nfunction addClass(element, ...classNames) {\n    if (!element) return element;\n    element.classList.add(...classNames);\n    return element;\n}\n\n/**\n * Retire une ou plusieurs classes d'un élément\n *\n * @param {HTMLElement} element - Élément cible\n * @param {...string} classNames - Classes à retirer\n * @returns {HTMLElement} L'élément (pour chaînage)\n *\n * @example\n * removeClass(element, 'active', 'visible')\n */\nfunction removeClass(element, ...classNames) {\n    if (!element) return element;\n    element.classList.remove(...classNames);\n    return element;\n}\n\n/**\n * Vérifie si un élément a une classe\n *\n * @param {HTMLElement} element - Élément à vérifier\n * @param {string} className - Nom de la classe\n * @returns {boolean} True si la classe est présente\n *\n * @example\n * if (hasClass(element, 'active')) { ... }\n */\nfunction hasClass(element, className) {\n    if (!element) return false;\n    return element.classList.contains(className);\n}\n\n/**\n * Définit ou récupère un attribut data-*\n *\n * @param {HTMLElement} element - Élément cible\n * @param {string} key - Nom de l'attribut (sans 'data-')\n * @param {*} [value] - Valeur à définir (omis pour lecture)\n * @returns {string|HTMLElement} Valeur lue ou élément (pour chaînage)\n *\n * @example\n * setData(element, 'id', '123') // Définir\n * const id = setData(element, 'id') // Lire\n */\nfunction setData(element, key, value) {\n    if (!element) return value === undefined ? null : element;\n    if (value === undefined) {\n        return element.dataset[key];\n    }\n    element.dataset[key] = value;\n    return element;\n}\n\n// Exposer le module\n\n// ── $create shorthand alias ──\n// Single canonical alias used across all modules (Phase 4 dedup).\nexport { createElement as $create };\n\n// Alias sur GeoLeaf.Utils pour compatibilité et facilité d'usage\n\n\n","/**\n * @fileoverview Animation Helper - 60 FPS Animation Manager\n * @description Optimized animation utilities using requestAnimationFrame\n * @version 1.0.0\n * @phase Phase 5 Section 5.2 - Animation Optimization\n *\n * Features:\n * - requestAnimationFrame-based animations (60 FPS)\n * - Automatic frame batching for multiple animations\n * - CSS transition optimization with will-change\n * - Animation queue management\n * - Performance monitoring (FPS counter)\n * - Mobile-optimized animations\n * - Graceful degradation for older browsers\n *\n * @example Basic usage\n * ```javascript\n * const helper = GeoLeaf.Utils.AnimationHelper;\n *\n * // Animate element\n * helper.animate(element, {\n *     from: { opacity: 0, translateY: -20 },\n *     to: { opacity: 1, translateY: 0 },\n *     duration: 300,\n *     easing: 'easeOutCubic'\n * });\n * ```\n */\n\nimport { Log } from \"../log/index.js\";\n\n(\"use strict\");\n\n// Perf 6.1.5: Module-level Set for O(1) transform property lookup (avoids array.includes per frame)\nconst _TRANSFORM_PROPS = new Set([\n    \"translateX\",\n    \"translateY\",\n    \"translateZ\",\n    \"scale\",\n    \"scaleX\",\n    \"scaleY\",\n    \"rotate\",\n    \"rotateX\",\n    \"rotateY\",\n    \"rotateZ\",\n    \"skewX\",\n    \"skewY\",\n]);\n\n// Perf 6.1.4: Module-level easing dictionary — created once, not per animation call\nconst _EASINGS = {\n    linear: (t) => t,\n    easeInQuad: (t) => t * t,\n    easeOutQuad: (t) => t * (2 - t),\n    easeInOutQuad: (t) => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t),\n    easeInCubic: (t) => t * t * t,\n    easeOutCubic: (t) => --t * t * t + 1,\n    easeInOutCubic: (t) => (t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1),\n    easeInQuart: (t) => t * t * t * t,\n    easeOutQuart: (t) => 1 - --t * t * t * t,\n    easeInOutQuart: (t) => (t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t),\n    easeOutBack: (t) => {\n        const c1 = 1.70158;\n        const c3 = c1 + 1;\n        return 1 + c3 * Math.pow(t - 1, 3) + c1 * Math.pow(t - 1, 2);\n    },\n};\n\n/**\n * @class AnimationHelper\n * @description Manages high-performance animations using requestAnimationFrame\n */\nexport class AnimationHelper {\n    constructor() {\n        /** @private {Map<number, Function>} Active animations */\n        this._animations = new Map();\n\n        /** @private {number} Animation frame ID */\n        this._rafId = null;\n\n        /** @private {number} Last frame timestamp */\n        this._lastFrameTime = 0;\n\n        /** @private {Array<number>} FPS history (last 60 frames) */\n        this._fpsHistory = [];\n\n        /** @private {boolean} Debug mode */\n        this._debug = false;\n\n        /** @private {number} Next animation ID */\n        this._nextId = 1;\n\n        /** @private {WeakMap<HTMLElement, Set>} Element animations tracking */\n        this._elementAnimations = new WeakMap();\n\n        // Performance monitoring\n        this._stats = {\n            totalFrames: 0,\n            droppedFrames: 0,\n            averageFPS: 0,\n        };\n\n        // Bind methods\n        this._tick = this._tick.bind(this);\n    }\n\n    /**\n     * Enable debug mode with FPS counter\n     * @param {boolean} enabled - Enable debug\n     */\n    setDebug(enabled) {\n        this._debug = enabled;\n        if (enabled && !this._rafId) {\n            this._startLoop();\n        }\n    }\n\n    /**\n     * Get animation statistics\n     * @returns {Object} Animation stats\n     */\n    getStats() {\n        return {\n            ...this._stats,\n            activeAnimations: this._animations.size,\n            currentFPS: this._getCurrentFPS(),\n        };\n    }\n\n    /**\n     * Animate element with requestAnimationFrame\n     * @param {HTMLElement} element - Target element\n     * @param {Object} options - Animation options\n     * @param {Object} options.from - Start values\n     * @param {Object} options.to - End values\n     * @param {number} [options.duration=300] - Duration in ms\n     * @param {string} [options.easing='easeOutCubic'] - Easing function\n     * @param {Function} [options.onComplete] - Completion callback\n     * @param {Function} [options.onUpdate] - Update callback (progress 0-1)\n     * @returns {number} Animation ID (can be used to cancel)\n     */\n    animate(element, options = {}) {\n        if (!element || !(element instanceof HTMLElement)) {\n            this._log(\"warn\", \"animate: invalid element\", element);\n            return null;\n        }\n\n        const {\n            from = {},\n            to = {},\n            duration = 300,\n            easing = \"easeOutCubic\",\n            onComplete = null,\n            onUpdate = null,\n        } = options;\n\n        const id = this._nextId++;\n        const startTime = performance.now();\n        const easingFn = this._getEasingFunction(easing);\n\n        // Optimize with will-change\n        this._optimizeElement(element, to);\n\n        // Track animation for this element\n        this._trackElementAnimation(element, id);\n\n        const animationFn = (currentTime) => {\n            const elapsed = currentTime - startTime;\n            const progress = Math.min(elapsed / duration, 1);\n            const easedProgress = easingFn(progress);\n\n            // Apply transformations\n            this._applyTransform(element, from, to, easedProgress);\n\n            // Update callback\n            if (onUpdate) {\n                onUpdate(easedProgress);\n            }\n\n            // Check completion\n            if (progress >= 1) {\n                this._animations.delete(id);\n                this._untrackElementAnimation(element, id);\n                this._cleanupElement(element);\n\n                if (onComplete) {\n                    onComplete();\n                }\n\n                this._log(\"debug\", `Animation ${id} completed`);\n                return false; // Stop animation\n            }\n\n            return true; // Continue animation\n        };\n\n        this._animations.set(id, animationFn);\n        this._startLoop();\n\n        this._log(\"debug\", `Animation ${id} started`, { duration, easing });\n        return id;\n    }\n\n    /**\n     * Fade in element\n     * @param {HTMLElement} element - Target element\n     * @param {number} [duration=300] - Duration in ms\n     * @param {Function} [onComplete] - Completion callback\n     * @returns {number} Animation ID\n     */\n    fadeIn(element, duration = 300, onComplete = null) {\n        if (!element.style.display || element.style.display === \"none\") {\n            element.style.display = \"block\";\n        }\n        return this.animate(element, {\n            from: { opacity: 0 },\n            to: { opacity: 1 },\n            duration,\n            easing: \"easeOutCubic\",\n            onComplete,\n        });\n    }\n\n    /**\n     * Fade out element\n     * @param {HTMLElement} element - Target element\n     * @param {number} [duration=300] - Duration in ms\n     * @param {Function} [onComplete] - Completion callback\n     * @returns {number} Animation ID\n     */\n    fadeOut(element, duration = 300, onComplete = null) {\n        return this.animate(element, {\n            from: { opacity: 1 },\n            to: { opacity: 0 },\n            duration,\n            easing: \"easeOutCubic\",\n            onComplete: () => {\n                element.style.display = \"none\";\n                if (onComplete) onComplete();\n            },\n        });\n    }\n\n    /**\n     * Slide in element (from top)\n     * @param {HTMLElement} element - Target element\n     * @param {number} [duration=300] - Duration in ms\n     * @param {Function} [onComplete] - Completion callback\n     * @returns {number} Animation ID\n     */\n    slideIn(element, duration = 300, onComplete = null) {\n        element.style.display = element.style.display || \"block\";\n        return this.animate(element, {\n            from: { opacity: 0, translateY: -20 },\n            to: { opacity: 1, translateY: 0 },\n            duration,\n            easing: \"easeOutBack\",\n            onComplete,\n        });\n    }\n\n    /**\n     * Slide out element (to top)\n     * @param {HTMLElement} element - Target element\n     * @param {number} [duration=300] - Duration in ms\n     * @param {Function} [onComplete] - Completion callback\n     * @returns {number} Animation ID\n     */\n    slideOut(element, duration = 300, onComplete = null) {\n        return this.animate(element, {\n            from: { opacity: 1, translateY: 0 },\n            to: { opacity: 0, translateY: -20 },\n            duration,\n            easing: \"easeInCubic\",\n            onComplete: () => {\n                element.style.display = \"none\";\n                if (onComplete) onComplete();\n            },\n        });\n    }\n\n    /**\n     * Cancel animation\n     * @param {number} id - Animation ID\n     * @returns {boolean} True if cancelled\n     */\n    cancel(id) {\n        const existed = this._animations.has(id);\n        if (existed) {\n            this._animations.delete(id);\n            this._log(\"debug\", `Animation ${id} cancelled`);\n        }\n        return existed;\n    }\n\n    /**\n     * Cancel all animations for element\n     * @param {HTMLElement} element - Target element\n     * @returns {number} Number of animations cancelled\n     */\n    cancelForElement(element) {\n        const ids = this._elementAnimations.get(element);\n        if (!ids) return 0;\n\n        let count = 0;\n        ids.forEach((id) => {\n            if (this._animations.delete(id)) {\n                count++;\n            }\n        });\n\n        this._elementAnimations.delete(element);\n        this._cleanupElement(element);\n\n        this._log(\"debug\", `Cancelled ${count} animations for element`);\n        return count;\n    }\n\n    /**\n     * Cancel all animations\n     */\n    cancelAll() {\n        const count = this._animations.size;\n        this._animations.clear();\n\n        if (this._rafId) {\n            cancelAnimationFrame(this._rafId);\n            this._rafId = null;\n        }\n\n        this._log(\"info\", `Cancelled all ${count} animations`);\n    }\n\n    /**\n     * Wait for next frame (utility for chaining animations)\n     * @returns {Promise<DOMHighResTimeStamp>} Resolves with timestamp\n     */\n    nextFrame() {\n        return new Promise((resolve) => {\n            requestAnimationFrame(resolve);\n        });\n    }\n\n    /**\n     * Batch multiple animations to run in same frame\n     * @param {Array<Function>} animations - Array of animation functions\n     */\n    batch(animations) {\n        if (!Array.isArray(animations)) return;\n\n        requestAnimationFrame(() => {\n            animations.forEach((fn) => {\n                if (typeof fn === \"function\") {\n                    try {\n                        fn();\n                    } catch (error) {\n                        this._log(\"error\", \"Batch animation error:\", error);\n                    }\n                }\n            });\n        });\n    }\n\n    /**\n     * Main animation loop\n     * @private\n     * @param {DOMHighResTimeStamp} currentTime - Current timestamp\n     */\n    _tick(currentTime) {\n        // Calculate FPS\n        if (this._lastFrameTime) {\n            const delta = currentTime - this._lastFrameTime;\n            const fps = 1000 / delta;\n            this._updateFPS(fps);\n\n            // Detect dropped frames (< 50 FPS)\n            if (fps < 50) {\n                this._stats.droppedFrames++;\n            }\n        }\n\n        this._lastFrameTime = currentTime;\n        this._stats.totalFrames++;\n\n        // Run all active animations\n        const toRemove = [];\n        this._animations.forEach((animationFn, id) => {\n            try {\n                const shouldContinue = animationFn(currentTime);\n                if (!shouldContinue) {\n                    toRemove.push(id);\n                }\n            } catch (error) {\n                this._log(\"error\", `Animation ${id} error:`, error);\n                toRemove.push(id);\n            }\n        });\n\n        // Cleanup completed animations\n        toRemove.forEach((id) => this._animations.delete(id));\n\n        // Continue loop if animations active or debug mode\n        if (this._animations.size > 0 || this._debug) {\n            this._rafId = requestAnimationFrame(this._tick);\n        } else {\n            this._rafId = null;\n        }\n    }\n\n    /**\n     * Start animation loop\n     * @private\n     */\n    _startLoop() {\n        if (!this._rafId) {\n            this._rafId = requestAnimationFrame(this._tick);\n        }\n    }\n\n    /**\n     * Apply transform to element\n     * @private\n     * @param {HTMLElement} element - Target element\n     * @param {Object} from - Start values\n     * @param {Object} to - End values\n     * @param {number} progress - Progress (0-1)\n     */\n    _applyTransform(element, from, to, progress) {\n        const transforms = [];\n        const styles = {};\n\n        Object.keys(to).forEach((key) => {\n            const startValue = from[key] !== undefined ? from[key] : this._getDefaultValue(key);\n            const endValue = to[key];\n            const currentValue = this._interpolate(startValue, endValue, progress);\n\n            if (this._isTransformProperty(key)) {\n                transforms.push(this._formatTransform(key, currentValue));\n            } else {\n                styles[key] = this._formatValue(key, currentValue);\n            }\n        });\n\n        // Apply transforms\n        if (transforms.length > 0) {\n            element.style.transform = transforms.join(\" \");\n        }\n\n        // Apply styles\n        Object.keys(styles).forEach((key) => {\n            element.style[key] = styles[key];\n        });\n    }\n\n    /**\n     * Interpolate between two values\n     * @private\n     * @param {number} start - Start value\n     * @param {number} end - End value\n     * @param {number} progress - Progress (0-1)\n     * @returns {number} Interpolated value\n     */\n    _interpolate(start, end, progress) {\n        return start + (end - start) * progress;\n    }\n\n    /**\n     * Check if property is a transform\n     * @private\n     * @param {string} key - Property name\n     * @returns {boolean} True if transform property\n     */\n    _isTransformProperty(key) {\n        // Perf 6.1.5: Use module-level Set for O(1) lookup instead of Array.includes()\n        return _TRANSFORM_PROPS.has(key);\n    }\n\n    /**\n     * Format transform property\n     * @private\n     * @param {string} key - Property name\n     * @param {number} value - Value\n     * @returns {string} Formatted transform\n     */\n    _formatTransform(key, value) {\n        if (key.includes(\"translate\")) {\n            return `${key}(${value}px)`;\n        } else if (key.includes(\"rotate\") || key.includes(\"skew\")) {\n            return `${key}(${value}deg)`;\n        } else {\n            return `${key}(${value})`;\n        }\n    }\n\n    /**\n     * Format CSS value\n     * @private\n     * @param {string} key - Property name\n     * @param {number} value - Value\n     * @returns {string} Formatted value\n     */\n    _formatValue(key, value) {\n        if (key === \"opacity\") {\n            return value.toString();\n        }\n        return `${value}px`;\n    }\n\n    /**\n     * Get default value for property\n     * @private\n     * @param {string} key - Property name\n     * @returns {number} Default value\n     */\n    _getDefaultValue(key) {\n        if (key === \"opacity\") return 1;\n        if (key === \"scale\" || key === \"scaleX\" || key === \"scaleY\") return 1;\n        return 0;\n    }\n\n    /**\n     * Optimize element for animation\n     * @private\n     * @param {HTMLElement} element - Target element\n     * @param {Object} properties - Properties to animate\n     */\n    _optimizeElement(element, properties) {\n        const willChange = [];\n\n        Object.keys(properties).forEach((key) => {\n            if (this._isTransformProperty(key)) {\n                if (!willChange.includes(\"transform\")) {\n                    willChange.push(\"transform\");\n                }\n            } else {\n                willChange.push(key);\n            }\n        });\n\n        if (willChange.length > 0) {\n            element.style.willChange = willChange.join(\", \");\n        }\n    }\n\n    /**\n     * Cleanup element optimization\n     * @private\n     * @param {HTMLElement} element - Target element\n     */\n    _cleanupElement(element) {\n        element.style.willChange = \"auto\";\n    }\n\n    /**\n     * Track animation for element\n     * @private\n     * @param {HTMLElement} element - Target element\n     * @param {number} id - Animation ID\n     */\n    _trackElementAnimation(element, id) {\n        let ids = this._elementAnimations.get(element);\n        if (!ids) {\n            ids = new Set();\n            this._elementAnimations.set(element, ids);\n        }\n        ids.add(id);\n    }\n\n    /**\n     * Untrack animation for element\n     * @private\n     * @param {HTMLElement} element - Target element\n     * @param {number} id - Animation ID\n     */\n    _untrackElementAnimation(element, id) {\n        const ids = this._elementAnimations.get(element);\n        if (ids) {\n            ids.delete(id);\n            if (ids.size === 0) {\n                this._elementAnimations.delete(element);\n            }\n        }\n    }\n\n    /**\n     * Get easing function\n     * @private\n     * @param {string} name - Easing name\n     * @returns {Function} Easing function\n     */\n    _getEasingFunction(name) {\n        // Perf 6.1.4: Use module-level dictionary — not recreated every call\n        return _EASINGS[name] || _EASINGS.easeOutCubic;\n    }\n\n    /**\n     * Update FPS history\n     * @private\n     * @param {number} fps - Current FPS\n     */\n    _updateFPS(fps) {\n        this._fpsHistory.push(fps);\n        if (this._fpsHistory.length > 60) {\n            this._fpsHistory.shift();\n        }\n\n        // Calculate average\n        const sum = this._fpsHistory.reduce((a, b) => a + b, 0);\n        this._stats.averageFPS = Math.round(sum / this._fpsHistory.length);\n    }\n\n    /**\n     * Get current FPS\n     * @private\n     * @returns {number} Current FPS\n     */\n    _getCurrentFPS() {\n        if (this._fpsHistory.length === 0) return 0;\n        return Math.round(this._fpsHistory[this._fpsHistory.length - 1]);\n    }\n\n    /**\n     * Log message\n     * @private\n     * @param {string} level - Log level\n     * @param {...*} args - Log arguments\n     */\n    _log(level, ...args) {\n        if (!this._debug && level === \"debug\") return;\n\n        const log = Log || console;\n        if (log[level]) {\n            log[level](\"[AnimationHelper]\", ...args);\n        }\n    }\n}\n\n// Create singleton instance — lazy (perf 5.2: création différée au premier accès)\nlet _animationHelperInstance = null;\n\nexport function getAnimationHelper() {\n    if (!_animationHelperInstance) {\n        _animationHelperInstance = new AnimationHelper();\n    }\n    return _animationHelperInstance;\n}\n","/**\r\n * GeoLeaf Error Logger\r\n *\r\n * Centralised error logging for consistent error reporting across all modules.\r\n * Replaces 60+ LOC of repetitive logging patterns with unified interface.\r\n *\r\n * @module GeoLeaf.Utils.ErrorLogger\r\n * @version 3.0.0\r\n */\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n\r\nexport const ErrorLogger = {\r\n    /**\r\n     * Niveaux de log\r\n     * @private\r\n     */\r\n    LEVELS: {\r\n        ERROR: 'error',\r\n        WARN: 'warn',\r\n        INFO: 'info',\r\n        DEBUG: 'debug'\r\n    },\r\n\r\n    /**\r\n     * Logue une erreur avec contexte\r\n     * @param {string} module - Nom du module (ex: \"CacheManager\", \"LayerSelector\")\r\n     * @param {string} message - Message d'erreur\r\n     * @param {Error|*} [error] - L'erreur originale (optionnel)\r\n     */\r\n    error: function (module, message, error) {\r\n        const fullMessage = `[${module}] ${message}`;\r\n\r\n        if (Log && typeof Log.error === 'function') {\r\n            Log.error(fullMessage, error);\r\n            // Inclure le stack trace si disponible\r\n            if (error && error.stack) {\r\n                Log.error(`  Stack: ${error.stack}`);\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Logue un avertissement\r\n     * @param {string} module - Nom du module\r\n     * @param {string} message - Message d'avertissement\r\n     */\r\n    warn: function (module, message) {\r\n        const fullMessage = `[${module}] ${message}`;\r\n\r\n        if (Log && typeof Log.warn === 'function') {\r\n            Log.warn(fullMessage);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Logue une info\r\n     * @param {string} module - Nom du module\r\n     * @param {string} message - Message d'info\r\n     */\r\n    info: function (module, message) {\r\n        const fullMessage = `[${module}] ${message}`;\r\n\r\n        if (Log && typeof Log.info === 'function') {\r\n            Log.info(fullMessage);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Logue un debug\r\n     * @param {string} module - Nom du module\r\n     * @param {string} message - Message de debug\r\n     */\r\n    debug: function (module, message) {\r\n        const fullMessage = `[${module}] ${message}`;\r\n\r\n        if (Log && typeof Log.debug === 'function') {\r\n            Log.debug(fullMessage);\r\n        } else {\r\n            console.debug(fullMessage);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Logue une erreur quota spécifiquement\r\n     * @param {string} module - Nom du module\r\n     * @param {number} available - Espace disponible en bytes\r\n     * @param {number} needed - Espace nécessaire en bytes\r\n     */\r\n    quotaError: function (module, available, needed) {\r\n        const availableGB = (available / 1024 / 1024 / 1024).toFixed(2);\r\n        const neededGB = (needed / 1024 / 1024 / 1024).toFixed(2);\r\n        const shortageGB = ((needed - available) / 1024 / 1024 / 1024).toFixed(2);\r\n\r\n        const message = `QUOTA EXCEEDED - Available: ${availableGB}GB, Needed: ${neededGB}GB, Shortage: ${shortageGB}GB`;\r\n        this.error(module, message);\r\n    },\r\n\r\n    /**\r\n     * Logue une erreur de réseau\r\n     * @param {string} module - Nom du module\r\n     * @param {string} url - URL qui a échoué\r\n     * @param {number|string} status - Statut HTTP\r\n     * @param {Error} [error] - L'erreur originale\r\n     */\r\n    networkError: function (module, url, status, error) {\r\n        const message = `Network error [${status}] - ${url}`;\r\n        this.error(module, message, error);\r\n    },\r\n\r\n    /**\r\n     * Logue une erreur de validation\r\n     * @param {string} module - Nom du module\r\n     * @param {string} field - Champ validé\r\n     * @param {string} expectedFormat - Format attendu\r\n     */\r\n    validationError: function (module, field, expectedFormat) {\r\n        const message = `Validation error - ${field} (expected: ${expectedFormat})`;\r\n        this.warn(module, message);\r\n    },\r\n\r\n    /**\r\n     * Logue une erreur IndexedDB\r\n     * @param {string} module - Nom du module\r\n     * @param {string} operation - Opération (query, insert, update, delete)\r\n     * @param {Error} [error] - L'erreur IDB\r\n     */\r\n    idbError: function (module, operation, error) {\r\n        const message = `IndexedDB error (${operation})`;\r\n        this.error(module, message, error);\r\n    },\r\n\r\n    /**\r\n     * Logue les détails d'une performance\r\n     * @param {string} module - Nom du module\r\n     * @param {string} operation - Opération effectuée\r\n     * @param {number} milliseconds - Temps en ms\r\n     */\r\n    performance: function (module, operation, milliseconds) {\r\n        const message = `${operation} completed in ${milliseconds}ms`;\r\n        this.info(module, message);\r\n    },\r\n\r\n    /**\r\n     * Logue un warning de mémoire\r\n     * @param {string} module - Nom du module\r\n     * @param {number} usedMB - Mémoire utilisée en MB\r\n     */\r\n    memoryWarning: function (module, usedMB) {\r\n        const message = `⚠️ High memory usage: ${usedMB}MB`;\r\n        this.warn(module, message);\r\n    },\r\n\r\n    /**\r\n     * Crée un contexte de log pour une opération\r\n     * @param {string} module - Nom du module\r\n     * @param {string} operation - Nom de l'opération\r\n     * @returns {Object} Objet avec start/end/error methods\r\n     */\r\n    operation: function (module, operation) {\r\n        const startTime = performance.now();\r\n\r\n        return {\r\n            success: (result) => {\r\n                const duration = performance.now() - startTime;\r\n                this.info(module, `${operation} succeeded (${duration.toFixed(0)}ms)`);\r\n                return result;\r\n            },\r\n            error: (error) => {\r\n                const duration = performance.now() - startTime;\r\n                this.error(module, `${operation} failed (${duration.toFixed(0)}ms)`, error);\r\n                throw error;\r\n            },\r\n            warn: (warning) => {\r\n                const duration = performance.now() - startTime;\r\n                this.warn(module, `${operation} warning (${duration.toFixed(0)}ms): ${warning}`);\r\n            }\r\n        };\r\n    }\r\n};\r\n\r\nif (Log) {\r\n    Log.debug(\"[ErrorLogger] Module loaded\");\r\n}\r\n","/**\n * @fileoverview Event Helpers - Utilities for custom event dispatching\n * @module utils/event-helpers\n *\n * @description\n * Provides cross-browser compatible event dispatching utilities.\n * Eliminates duplicate CustomEvent patterns and provides consistent error handling.\n *\n * @author GeoLeaf\n * @version 2.1.0\n * @since Phase 3 - Code Deduplication\n */\n\nimport { Log } from \"../log/index.js\";\n\n/**\n * @namespace EventHelpers\n * @memberof GeoLeaf.Utils\n * @description Utilities for custom event management\n */\nexport const EventHelpers = {\n    /**\n     * Dispatches a custom event on document with cross-browser compatibility\n     *\n     * @param {string} eventName - Event name (ex: 'geoleaf:poi:loaded')\n     * @param {Object} [detail={}] - Event detail payload\n     * @param {Object} [options={}] - Additional options\n     * @param {boolean} [options.bubbles=true] - Event bubbles up DOM tree\n     * @param {boolean} [options.cancelable=true] - Event can be cancelled\n     * @param {EventTarget} [options.target=document] - Event target (default: document)\n     * @returns {boolean} True if event was dispatched successfully\n     *\n     * @description\n     * Uses modern CustomEvent constructor with IE11 fallback.\n     * Provides consistent error handling and logging.\n     *\n     * @example\n     * // Simple event dispatch\n     * EventHelpers.dispatchCustomEvent('geoleaf:data:loaded', {\n     *   count: 42,\n     *   source: 'api'\n     * });\n     *\n     * @example\n     * // With custom options\n     * EventHelpers.dispatchCustomEvent('geoleaf:ui:changed',\n     *   { theme: 'dark' },\n     *   { bubbles: false, target: window }\n     * );\n     *\n     * @example\n     * // Error handling\n     * const success = EventHelpers.dispatchCustomEvent('my:event', data);\n     * if (!success) {\n     *   console.warn('Event dispatch failed');\n     * }\n     */\n    dispatchCustomEvent(eventName, detail = {}, options = {}) {\n        const { bubbles = true, cancelable = true, target = document } = options;\n\n        try {\n            const event = new CustomEvent(eventName, {\n                detail,\n                bubbles,\n                cancelable,\n            });\n\n            target.dispatchEvent(event);\n            return true;\n        } catch (error) {\n            if (Log.error) {\n                Log.error(`[EventHelpers] Failed to dispatch event '${eventName}':`, error);\n            }\n            return false;\n        }\n    },\n\n    /**\n     * Dispatches a Leaflet map event with fallback\n     *\n     * @param {L.Map} map - Leaflet map instance\n     * @param {string} eventName - Event name (ex: 'geoleaf:filters:changed')\n     * @param {Object} [detail={}] - Event detail payload\n     * @returns {boolean} True if event was dispatched successfully\n     *\n     * @description\n     * Uses Leaflet's map.fire() method for map-specific events.\n     * Validates map instance before dispatch.\n     *\n     * @example\n     * // Dispatch map event\n     * const map = globalThis.GeoLeaf?.Core?.getMap();\n     * EventHelpers.dispatchMapEvent(map, 'geoleaf:layer:added', {\n     *   layerId: 'my-layer',\n     *   type: 'geojson'\n     * });\n     *\n     * @example\n     * // With validation\n     * if (this._map) {\n     *   EventHelpers.dispatchMapEvent(this._map, 'custom:event', data);\n     * }\n     */\n    dispatchMapEvent(map, eventName, detail = {}) {\n        if (!map || typeof map.fire !== \"function\") {\n            if (Log.warn) {\n                Log.warn(`[EventHelpers] Invalid map instance, cannot fire '${eventName}'`);\n            }\n            return false;\n        }\n\n        try {\n            map.fire(eventName, detail);\n            return true;\n        } catch (error) {\n            if (Log.error) {\n                Log.error(`[EventHelpers] Failed to fire map event '${eventName}':`, error);\n            }\n            return false;\n        }\n    },\n\n    /**\n     * Dispatches both document and map events simultaneously\n     *\n     * @param {string} eventName - Event name (without 'geoleaf:' prefix)\n     * @param {Object} [detail={}] - Event detail payload\n     * @param {L.Map|null} [map=null] - Optional map instance\n     * @returns {Object} Dispatch results { document: boolean, map: boolean }\n     *\n     * @description\n     * Convenience method to dispatch to both document and map.\n     * Automatically adds 'geoleaf:' prefix to event name.\n     *\n     * @example\n     * // Dispatch to both targets\n     * const results = EventHelpers.dispatchBoth('poi:loaded', {\n     *   count: 10,\n     *   source: 'api'\n     * }, this._map);\n     *\n     * console.log(`Document: ${results.document}, Map: ${results.map}`);\n     *\n     * @example\n     * // Without map (document only)\n     * EventHelpers.dispatchBoth('data:loaded', { count: 42 });\n     */\n    dispatchBoth(eventName, detail = {}, map = null) {\n        // Ensure geoleaf: prefix\n        const fullEventName = eventName.startsWith(\"geoleaf:\") ? eventName : `geoleaf:${eventName}`;\n\n        const results = {\n            document: false,\n            map: false,\n        };\n\n        // Dispatch to document\n        results.document = this.dispatchCustomEvent(fullEventName, detail);\n\n        // Dispatch to map if available\n        if (map) {\n            results.map = this.dispatchMapEvent(map, fullEventName, detail);\n        }\n\n        return results;\n    },\n\n    /**\n     * Creates an event listener with automatic cleanup tracking\n     *\n     * @param {EventTarget} target - Event target (element, document, window)\n     * @param {string} eventName - Event name to listen for\n     * @param {Function} handler - Event handler function\n     * @param {Object} [options={}] - addEventListener options\n     * @returns {Function} Cleanup function to remove listener\n     *\n     * @description\n     * Wraps addEventListener with automatic cleanup function.\n     * Useful for component lifecycle management.\n     *\n     * @example\n     * // In component initialization\n     * this._cleanup = EventHelpers.addEventListener(\n     *   document,\n     *   'geoleaf:data:loaded',\n     *   (e) => this.handleDataLoaded(e.detail)\n     * );\n     *\n     * // In component cleanup\n     * if (this._cleanup) this._cleanup();\n     *\n     * @example\n     * // Multiple listeners\n     * this._cleanups = [\n     *   EventHelpers.addEventListener(map, 'moveend', this.onMove),\n     *   EventHelpers.addEventListener(document, 'geoleaf:refresh', this.onRefresh)\n     * ];\n     *\n     * // Cleanup all\n     * this._cleanups.forEach(fn => fn());\n     */\n    addEventListener(target, eventName, handler, options = {}) {\n        if (!target || typeof target.addEventListener !== \"function\") {\n            if (Log.warn) {\n                Log.warn(`[EventHelpers] Invalid target for addEventListener '${eventName}'`);\n            }\n            return () => {}; // noop cleanup\n        }\n\n        target.addEventListener(eventName, handler, options);\n\n        // Return cleanup function\n        return () => {\n            try {\n                target.removeEventListener(eventName, handler, options);\n            } catch (error) {\n                if (Log.error) {\n                    Log.error(`[EventHelpers] Failed to remove listener '${eventName}':`, error);\n                }\n            }\n        };\n    },\n\n    /**\n     * Creates multiple event listeners with batch cleanup\n     *\n     * @param {Array<Object>} listeners - Array of listener configurations\n     * @returns {Function} Cleanup function to remove all listeners\n     *\n     * @description\n     * Batch version of addEventListener for multiple listeners.\n     * Returns single cleanup function for all.\n     *\n     * @example\n     * // Batch listener setup\n     * this._cleanup = EventHelpers.addEventListeners([\n     *   { target: document, event: 'geoleaf:data:loaded', handler: this.onLoad },\n     *   { target: this._map, event: 'moveend', handler: this.onMove },\n     *   { target: window, event: 'resize', handler: this.onResize }\n     * ]);\n     *\n     * // Single cleanup call\n     * this._cleanup();\n     */\n    addEventListeners(listeners = []) {\n        const cleanups = listeners.map(({ target, event, handler, options }) => {\n            return this.addEventListener(target, event, handler, options);\n        });\n\n        // Return batch cleanup function\n        return () => {\n            cleanups.forEach((cleanup) => cleanup());\n        };\n    },\n\n    /**\n     * Debounce function - delays execution until after wait time\n     *\n     * @param {Function} func - Function to debounce\n     * @param {number} [wait=300] - Wait time in milliseconds\n     * @param {boolean} [immediate=false] - Execute immediately on leading edge\n     * @returns {Function} Debounced function\n     *\n     * @description\n     * Delays function execution until after wait time has elapsed since last call.\n     * Useful for expensive operations like search, resize, scroll handlers.\n     *\n     * @example\n     * // Search with debounce\n     * const debouncedSearch = EventHelpers.debounce((query) => {\n     *   fetchResults(query);\n     * }, 300);\n     *\n     * input.addEventListener('input', (e) => debouncedSearch(e.target.value));\n     *\n     * @example\n     * // Immediate execution (leading edge)\n     * const saveImmediate = EventHelpers.debounce(saveData, 1000, true);\n     */\n    debounce(func, wait = 300, immediate = false) {\n        let timeout;\n\n        return function debounced(...args) {\n            const context = this;\n\n            const later = () => {\n                timeout = null;\n                if (!immediate) {\n                    func.apply(context, args);\n                }\n            };\n\n            const callNow = immediate && !timeout;\n\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n\n            if (callNow) {\n                func.apply(context, args);\n            }\n        };\n    },\n\n    /**\n     * Throttle function - limits execution to once per interval\n     *\n     * @param {Function} func - Function to throttle\n     * @param {number} [limit=300] - Interval limit in milliseconds\n     * @returns {Function} Throttled function\n     *\n     * @description\n     * Limits function execution to once per interval, executing immediately.\n     * First call executes immediately, subsequent calls wait for interval.\n     * Useful for scroll, resize, mousemove handlers.\n     *\n     * @example\n     * // Scroll handler with throttle\n     * const throttledScroll = EventHelpers.throttle(() => {\n     *   updateScrollPosition();\n     * }, 100);\n     *\n     * window.addEventListener('scroll', throttledScroll);\n     *\n     * @example\n     * // Mouse move tracking (limited to 60fps)\n     * const trackMouse = EventHelpers.throttle((e) => {\n     *   updateCursor(e.clientX, e.clientY);\n     * }, 16); // ~60fps\n     */\n    throttle(func, limit = 300) {\n        let lastRan;\n\n        return function throttled(...args) {\n            const context = this;\n            const now = Date.now();\n\n            if (!lastRan) {\n                func.apply(context, args);\n                lastRan = now;\n            } else {\n                if (now - lastRan >= limit) {\n                    func.apply(context, args);\n                    lastRan = now;\n                }\n            }\n        };\n    },\n};\n\n// Export to GeoLeaf namespace\n\n// Convenient aliases at root level\n\n// Utility aliases (Sprint 3.2 - consolidated from helpers.js)\n","/**\r\n * @fileoverview EventListenerManager - Gestion centralisée des event listeners\r\n * Permet de tracker et nettoyer tous les event listeners\r\n * pour éviter les fuites mémoire\r\n *\r\n * @module GeoLeaf.Utils.EventListenerManager\r\n * @version 2.0.0\r\n * @author GeoLeaf Project\r\n */\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n\r\n/**\r\n * EventListenerManager - Gestionnaire centralisé d'event listeners\r\n * @class\r\n */\r\nexport class EventListenerManager {\r\n    constructor(name = 'default') {\r\n        this.name = name;\r\n        this.listeners = [];\r\n        this._nextId = 1;\r\n    }\r\n\r\n    /**\r\n     * Ajoute un event listener avec tracking\r\n     * @param {Element|Window|Document} target - Élément cible\r\n     * @param {string} event - Nom de l'événement\r\n     * @param {Function} handler - Handler de l'événement\r\n     * @param {Object|boolean} [options] - Options (capture, once, passive, etc.)\r\n     * @param {string} [label] - Label optionnel pour debug\r\n     * @returns {number} ID du listener pour removal ultérieur\r\n     */\r\n    addEventListener(target, event, handler, options = false, label = '') {\r\n        if (!target || typeof target.addEventListener !== 'function') {\r\n            Log.warn(`[EventListenerManager.${this.name}] Invalid target for addEventListener`);\r\n            return null;\r\n        }\r\n\r\n        const id = this._nextId++;\r\n\r\n        target.addEventListener(event, handler, options);\r\n\r\n        this.listeners.push({\r\n            id,\r\n            target,\r\n            event,\r\n            handler,\r\n            options,\r\n            label,\r\n            createdAt: Date.now()\r\n        });\r\n\r\n        Log.debug(`[EventListenerManager.${this.name}] Listener added:`, id, event, label);\r\n        return id;\r\n    }\r\n\r\n    /**\r\n     * Ajoute un event listener Leaflet avec tracking\r\n     * @param {L.Evented} target - Objet Leaflet (map, marker, etc.)\r\n     * @param {string} event - Nom de l'événement\r\n     * @param {Function} handler - Handler de l'événement\r\n     * @param {string} [label] - Label optionnel pour debug\r\n     * @returns {number} ID du listener\r\n     */\r\n    addLeafletListener(target, event, handler, label = '') {\r\n        if (!target || typeof target.on !== 'function') {\r\n            Log.warn(`[EventListenerManager.${this.name}] Invalid Leaflet target`);\r\n            return null;\r\n        }\r\n\r\n        const id = this._nextId++;\r\n\r\n        target.on(event, handler);\r\n\r\n        this.listeners.push({\r\n            id,\r\n            target,\r\n            event,\r\n            handler,\r\n            label,\r\n            type: 'leaflet',\r\n            createdAt: Date.now()\r\n        });\r\n\r\n        Log.debug(`[EventListenerManager.${this.name}] Leaflet listener added:`, id, event, label);\r\n        return id;\r\n    }\r\n\r\n    /**\r\n     * Retire un listener spécifique par ID\r\n     * @param {number} id - ID du listener\r\n     * @returns {boolean} True si le listener a été trouvé et retiré\r\n     */\r\n    removeListener(id) {\r\n        const index = this.listeners.findIndex(l => l.id === id);\r\n        if (index === -1) return false;\r\n\r\n        const listener = this.listeners[index];\r\n\r\n        if (listener.type === 'leaflet') {\r\n            if (listener.target && typeof listener.target.off === 'function') {\r\n                listener.target.off(listener.event, listener.handler);\r\n            }\r\n        } else {\r\n            if (listener.target && typeof listener.target.removeEventListener === 'function') {\r\n                listener.target.removeEventListener(listener.event, listener.handler, listener.options);\r\n            }\r\n        }\r\n\r\n        this.listeners.splice(index, 1);\r\n\r\n        Log.debug(`[EventListenerManager.${this.name}] Listener removed:`, id, listener.label);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Retire tous les listeners d'un élément spécifique\r\n     * @param {Element|L.Evented} target - Élément cible\r\n     * @returns {number} Nombre de listeners retirés\r\n     */\r\n    removeListenersForTarget(target) {\r\n        const matchingListeners = this.listeners.filter(l => l.target === target);\r\n\r\n        matchingListeners.forEach(listener => {\r\n            if (listener.type === 'leaflet') {\r\n                if (listener.target && typeof listener.target.off === 'function') {\r\n                    listener.target.off(listener.event, listener.handler);\r\n                }\r\n            } else {\r\n                if (listener.target && typeof listener.target.removeEventListener === 'function') {\r\n                    listener.target.removeEventListener(listener.event, listener.handler, listener.options);\r\n                }\r\n            }\r\n        });\r\n\r\n        this.listeners = this.listeners.filter(l => l.target !== target);\r\n\r\n        if (Log && matchingListeners.length > 0) {\r\n            Log.info(`[EventListenerManager.${this.name}] Removed ${matchingListeners.length} listener(s) for target`);\r\n        }\r\n\r\n        return matchingListeners.length;\r\n    }\r\n\r\n    /**\r\n     * Retire tous les listeners\r\n     */\r\n    removeAll() {\r\n        const count = this.listeners.length;\r\n\r\n        this.listeners.forEach(listener => {\r\n            try {\r\n                if (listener.type === 'leaflet') {\r\n                    if (listener.target && typeof listener.target.off === 'function') {\r\n                        listener.target.off(listener.event, listener.handler);\r\n                    }\r\n                } else {\r\n                    if (listener.target && typeof listener.target.removeEventListener === 'function') {\r\n                        listener.target.removeEventListener(listener.event, listener.handler, listener.options);\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                Log.warn(`[EventListenerManager.${this.name}] Error removing listener:`, error);\r\n            }\r\n        });\r\n\r\n        this.listeners = [];\r\n\r\n        if (Log && count > 0) {\r\n            Log.info(`[EventListenerManager.${this.name}] Removed ${count} listener(s)`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Obtient le nombre de listeners actifs\r\n     * @returns {number}\r\n     */\r\n    getCount() {\r\n        return this.listeners.length;\r\n    }\r\n\r\n    /**\r\n     * Liste tous les listeners actifs (pour debug)\r\n     * @returns {Array}\r\n     */\r\n    listActiveListeners() {\r\n        return this.listeners.map(l => ({\r\n            id: l.id,\r\n            event: l.event,\r\n            label: l.label,\r\n            type: l.type || 'dom',\r\n            age: Date.now() - l.createdAt\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * Détruit le manager et nettoie tous les listeners\r\n     */\r\n    destroy() {\r\n        this.removeAll();\r\n        Log.info(`[EventListenerManager.${this.name}] Destroyed`);\r\n    }\r\n}\r\n\r\n/**\r\n * Instance globale par défaut\r\n */\r\nconst globalEventManager = new EventListenerManager('global');\r\n\r\n/**\r\n * API simplifiée pour l'instance globale\r\n */\r\n\r\n// Cleanup automatique avant unload\r\nif (typeof window !== 'undefined') {\r\n    window.addEventListener('beforeunload', () => {\r\n        const count = globalEventManager.getCount();\r\n        if (count > 0) {\r\n            Log.warn(`[EventListenerManager] ${count} listener(s) still active at page unload`);\r\n            globalEventManager.removeAll();\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * API simplifiée pour l'instance globale (shortcuts sur globalEventManager)\r\n */\r\nconst events = {\r\n    /**\r\n     * addEventListener avec tracking global\r\n     */\r\n    on: (target, event, handler, options, label) =>\r\n        globalEventManager.addEventListener(target, event, handler, options, label),\r\n\r\n    /**\r\n     * Leaflet event listener avec tracking global\r\n     */\r\n    onLeaflet: (target, event, handler, label) =>\r\n        globalEventManager.addLeafletListener(target, event, handler, label),\r\n\r\n    /**\r\n     * Retire un listener par ID\r\n     */\r\n    off: (id) => globalEventManager.removeListener(id),\r\n\r\n    /**\r\n     * Retire tous les listeners d'une cible\r\n     */\r\n    offTarget: (target) => globalEventManager.removeListenersForTarget(target),\r\n\r\n    /**\r\n     * Retire tous les listeners globaux\r\n     */\r\n    offAll: () => globalEventManager.removeAll(),\r\n\r\n    /**\r\n     * Obtient le nombre de listeners actifs\r\n     */\r\n    getCount: () => globalEventManager.getCount(),\r\n\r\n    /**\r\n     * Liste les listeners actifs\r\n     */\r\n    listActive: () => globalEventManager.listActiveListeners(),\r\n\r\n    /**\r\n     * Crée une nouvelle instance pour un composant\r\n     * @param {string} name - Nom du manager\r\n     * @returns {EventListenerManager}\r\n     */\r\n    createManager: (name) => new EventListenerManager(name)\r\n};\r\n\r\nexport { globalEventManager, events };\r\n","/**\n * GeoLeaf - Event Bus léger (pub/sub)\n * Bus d'événements interne pour découpler les modules.\n *\n * Usage :\n *   import { bus } from './event-bus.js';\n *   const off = bus.on('poi:loaded', ({ count }) => console.log(count));\n *   bus.emit('poi:loaded', { count: 42 });\n *   off(); // désabonnement\n *\n * @module utils/event-bus\n */\n\"use strict\";\n\n/**\n * Crée une nouvelle instance de bus d'événements.\n * @returns {{ on, off, emit, once, clear }}\n */\nfunction createEventBus() {\n    /** @type {Map<string, Set<Function>>} */\n    const _listeners = new Map();\n\n    /**\n     * Abonne un handler à un événement.\n     * @param {string} event - Nom de l'événement\n     * @param {Function} handler - Callback(data)\n     * @returns {Function} Fonction de désabonnement\n     */\n    function on(event, handler) {\n        if (!_listeners.has(event)) _listeners.set(event, new Set());\n        _listeners.get(event).add(handler);\n        return () => off(event, handler);\n    }\n\n    /**\n     * Désabonne un handler d'un événement.\n     * @param {string} event\n     * @param {Function} handler\n     */\n    function off(event, handler) {\n        const handlers = _listeners.get(event);\n        if (handlers) handlers.delete(handler);\n    }\n\n    /**\n     * Émet un événement, en passant `data` à tous les handlers abonnés.\n     * @param {string} event\n     * @param {*} [data]\n     */\n    function emit(event, data) {\n        const handlers = _listeners.get(event);\n        if (!handlers) return;\n        handlers.forEach(h => {\n            try { h(data); } catch (e) { /* isolation des erreurs */ }\n        });\n    }\n\n    /**\n     * Abonne un handler pour une seule exécution.\n     * @param {string} event\n     * @param {Function} handler\n     * @returns {Function} Fonction de désabonnement\n     */\n    function once(event, handler) {\n        const wrapper = (data) => { off(event, wrapper); handler(data); };\n        return on(event, wrapper);\n    }\n\n    /**\n     * Supprime tous les handlers d'un événement (ou tous si non spécifié).\n     * @param {string} [event]\n     */\n    function clear(event) {\n        if (event) { _listeners.delete(event); }\n        else { _listeners.clear(); }\n    }\n\n    return { on, off, emit, once, clear };\n}\n\n/** Instance globale partagée */\nconst bus = createEventBus();\n\nexport { bus, createEventBus };\n","/**\r\n * @fileoverview FetchHelper - Unified HTTP client with timeout, retry, and cache strategies\r\n * @module GeoLeaf.Utils.FetchHelper\r\n *\r\n * Sprint 3.3: Unified fetch() implementation across codebase\r\n * Consolidates scattered fetch logic into one robust helper\r\n *\r\n * @version 1.0.0\r\n * @since Sprint 3.3 - Performance Phase\r\n */\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { Security } from '../security/index.js';\r\n\r\n\r\n/**\r\n * Default configuration for fetch operations\r\n * @private\r\n */\r\nconst DEFAULT_CONFIG = {\r\n    timeout: 10000,        // 10s timeout (was 5s in helpers.js)\r\n    retries: 2,           // Max retry attempts\r\n    retryDelay: 1000,     // Delay between retries (ms)\r\n    retryDelayMultiplier: 1.5,  // Exponential backoff multiplier\r\n    cache: 'default',     // Cache strategy\r\n    credentials: 'same-origin', // CORS credentials\r\n    parseResponse: true,  // Auto-parse JSON/text responses\r\n    throwOnError: true,   // Throw on HTTP errors (4xx, 5xx)\r\n    validateUrl: true     // Use Security.validateUrl if available\r\n};\r\n\r\n/**\r\n * Rate limiter — prevents excessive concurrent requests\r\n * @private\r\n */\r\nconst _rateLimiter = {\r\n    /** @type {Map<string, number[]>} Per-domain request timestamps */\r\n    _requests: new Map(),\r\n    /** Max requests per domain per window */\r\n    maxPerDomain: 50,\r\n    /** Time window in ms (10 seconds) */\r\n    windowMs: 10000,\r\n\r\n    /**\r\n     * Check if a request to this domain is allowed.\r\n     * @param {string} url\r\n     * @returns {boolean}\r\n     */\r\n    allow(url) {\r\n        let domain;\r\n        try {\r\n            domain = new URL(url, globalThis.location?.origin || 'https://localhost').hostname;\r\n        } catch {\r\n            domain = '_relative';\r\n        }\r\n\r\n        const now = Date.now();\r\n        let timestamps = this._requests.get(domain) || [];\r\n\r\n        // Purge old entries\r\n        timestamps = timestamps.filter(t => now - t < this.windowMs);\r\n\r\n        if (timestamps.length >= this.maxPerDomain) {\r\n            return false;\r\n        }\r\n\r\n        timestamps.push(now);\r\n        this._requests.set(domain, timestamps);\r\n        return true;\r\n    },\r\n\r\n    /** Reset rate limiter (for testing) */\r\n    reset() {\r\n        this._requests.clear();\r\n    }\r\n};\r\n\r\n/**\r\n * @namespace FetchHelper\r\n * @memberof GeoLeaf.Utils\r\n * @description Unified HTTP client with advanced features\r\n */\r\nexport const FetchHelper = {\r\n\r\n    /**\r\n     * Execute HTTP request with comprehensive error handling and retry logic\r\n     *\r\n     * @param {string} url - Request URL\r\n     * @param {Object} [options={}] - Fetch options + FetchHelper extensions\r\n     * @param {number} [options.timeout=10000] - Request timeout in ms\r\n     * @param {number} [options.retries=2] - Max retry attempts\r\n     * @param {number} [options.retryDelay=1000] - Base delay between retries\r\n     * @param {number} [options.retryDelayMultiplier=1.5] - Exponential backoff multiplier\r\n     * @param {boolean} [options.parseResponse=true] - Auto-parse response based on content-type\r\n     * @param {boolean} [options.throwOnError=true] - Throw on HTTP error status\r\n     * @param {boolean} [options.validateUrl=true] - Validate URL with Security\r\n     * @param {Function} [options.onRetry] - Callback on retry attempt\r\n     * @param {Function} [options.onTimeout] - Callback on timeout\r\n     * @returns {Promise<Response|Object>} Response or parsed data\r\n     * @throws {FetchError} Enhanced error with retry info and context\r\n     *\r\n     * @example\r\n     * // Simple request\r\n     * const data = await FetchHelper.fetch('/api/data');\r\n     *\r\n     * @example\r\n     * // Advanced request with custom options\r\n     * const result = await FetchHelper.fetch('/api/config', {\r\n     *   method: 'POST',\r\n     *   timeout: 5000,\r\n     *   retries: 3,\r\n     *   parseResponse: true,\r\n     *   onRetry: (attempt, error) => console.log(`Retry ${attempt}:`, error.message)\r\n     * });\r\n     *\r\n     * @example\r\n     * // HEAD request for resource checking\r\n     * const response = await FetchHelper.fetch('/resource.json', {\r\n     *   method: 'HEAD',\r\n     *   parseResponse: false,\r\n     *   throwOnError: false\r\n     * });\r\n     */\r\n    async fetch(url, options = {}) {\r\n        const config = { ...DEFAULT_CONFIG, ...options };\r\n        let attempt = 0;\r\n        let lastError;\r\n\r\n        // Rate limiting\r\n        if (!_rateLimiter.allow(url)) {\r\n            throw new FetchError('Rate limit exceeded for this domain', {\r\n                url,\r\n                type: 'rate_limit_error'\r\n            });\r\n        }\r\n\r\n        // URL validation\r\n        if (config.validateUrl && Security?.validateUrl) {\r\n            try {\r\n                const validation = Security.validateUrl(url);\r\n                if (validation && typeof validation === 'object') {\r\n                    if (!validation.valid) {\r\n                        throw new Error(validation.error || 'URL validation failed');\r\n                    }\r\n                    url = validation.url || url;\r\n                } else if (typeof validation === 'string') {\r\n                    url = validation;\r\n                }\r\n            } catch (error) {\r\n                throw new FetchError(`URL validation failed: ${error.message}`, {\r\n                    url,\r\n                    cause: error,\r\n                    type: 'validation_error'\r\n                });\r\n            }\r\n        }\r\n\r\n        // Retry loop\r\n        while (attempt <= config.retries) {\r\n            try {\r\n                const result = await this._executeRequest(url, config, attempt);\r\n\r\n                // Log successful request (with retry info if applicable)\r\n                if (Log && attempt > 0) {\r\n                    Log.info(`[FetchHelper] ✓ ${url} (succeeded after ${attempt} retries)`);\r\n                }\r\n\r\n                return result;\r\n\r\n            } catch (error) {\r\n                lastError = error;\r\n                attempt++;\r\n\r\n                // If this was the last attempt, throw the error\r\n                if (attempt > config.retries) {\r\n                    throw new FetchError(\r\n                        `Request failed after ${config.retries + 1} attempts: ${error.message}`,\r\n                        {\r\n                            url,\r\n                            attempts: attempt,\r\n                            cause: error,\r\n                            type: error.name === 'AbortError' ? 'timeout' : 'network_error'\r\n                        }\r\n                    );\r\n                }\r\n\r\n                // Calculate delay with exponential backoff\r\n                const delay = config.retryDelay * Math.pow(config.retryDelayMultiplier, attempt - 1);\r\n\r\n                // Call retry callback if provided\r\n                if (config.onRetry && typeof config.onRetry === 'function') {\r\n                    try {\r\n                        config.onRetry(attempt, error, delay);\r\n                    } catch (callbackError) {\r\n                        Log.warn('[FetchHelper] onRetry callback failed:', callbackError);\r\n                    }\r\n                }\r\n\r\n                if (Log) {\r\n                    Log.warn(`[FetchHelper] Retry ${attempt}/${config.retries} for ${url} in ${delay}ms (${error.message})`);\r\n                }\r\n\r\n                // Wait before retry\r\n                await this._delay(delay);\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Execute single HTTP request with timeout\r\n     * @private\r\n     */\r\n    async _executeRequest(url, config, attempt) {\r\n        // Create abort controller for timeout\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => {\r\n            controller.abort();\r\n            if (config.onTimeout && typeof config.onTimeout === 'function') {\r\n                try {\r\n                    config.onTimeout(url, config.timeout, attempt);\r\n                } catch (callbackError) {\r\n                    Log.warn('[FetchHelper] onTimeout callback failed:', callbackError);\r\n                }\r\n            }\r\n        }, config.timeout);\r\n\r\n        try {\r\n            // Prepare fetch options (remove our custom options)\r\n            const fetchOptions = { ...config };\r\n            delete fetchOptions.timeout;\r\n            delete fetchOptions.retries;\r\n            delete fetchOptions.retryDelay;\r\n            delete fetchOptions.retryDelayMultiplier;\r\n            delete fetchOptions.parseResponse;\r\n            delete fetchOptions.throwOnError;\r\n            delete fetchOptions.validateUrl;\r\n            delete fetchOptions.onRetry;\r\n            delete fetchOptions.onTimeout;\r\n\r\n            // Add abort signal\r\n            fetchOptions.signal = controller.signal;\r\n\r\n            // Execute fetch\r\n            const response = await fetch(url, fetchOptions);\r\n\r\n            // Clear timeout\r\n            clearTimeout(timeoutId);\r\n\r\n            // Handle HTTP errors\r\n            if (!response.ok && config.throwOnError) {\r\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n            }\r\n\r\n            // Parse response if requested\r\n            if (config.parseResponse && response.ok) {\r\n                return await this._parseResponse(response);\r\n            }\r\n\r\n            return response;\r\n\r\n        } catch (error) {\r\n            clearTimeout(timeoutId);\r\n\r\n            // Enhance AbortError with more context\r\n            if (error.name === 'AbortError') {\r\n                throw new Error(`Request timed out after ${config.timeout}ms`);\r\n            }\r\n\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Parse response based on content-type\r\n     * @private\r\n     */\r\n    async _parseResponse(response) {\r\n        const contentType = response.headers.get('content-type') || '';\r\n\r\n        if (contentType.includes('application/json')) {\r\n            return await response.json();\r\n        }\r\n\r\n        if (contentType.includes('text/') || contentType.includes('application/javascript')) {\r\n            return await response.text();\r\n        }\r\n\r\n        if (contentType.startsWith('image/') || contentType.includes('application/octet-stream')) {\r\n            return await response.blob();\r\n        }\r\n\r\n        // Default to text for unknown types\r\n        return await response.text();\r\n    },\r\n\r\n    /**\r\n     * Delay utility for retry logic\r\n     * @private\r\n     */\r\n    async _delay(ms) {\r\n        return new Promise(resolve => setTimeout(resolve, ms));\r\n    },\r\n\r\n    /**\r\n     * Convenience method for GET requests\r\n     *\r\n     * @param {string} url - Request URL\r\n     * @param {Object} [options={}] - Request options\r\n     * @returns {Promise} Parsed response data\r\n     */\r\n    async get(url, options = {}) {\r\n        return this.fetch(url, { ...options, method: 'GET' });\r\n    },\r\n\r\n    /**\r\n     * Convenience method for POST requests\r\n     *\r\n     * @param {string} url - Request URL\r\n     * @param {Object} data - Request body data\r\n     * @param {Object} [options={}] - Request options\r\n     * @returns {Promise} Parsed response data\r\n     */\r\n    async post(url, data, options = {}) {\r\n        const postOptions = {\r\n            ...options,\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                ...options.headers\r\n            },\r\n            body: typeof data === 'string' ? data : JSON.stringify(data)\r\n        };\r\n\r\n        return this.fetch(url, postOptions);\r\n    },\r\n\r\n    /**\r\n     * Convenience method for HEAD requests (check resource existence)\r\n     *\r\n     * @param {string} url - Request URL\r\n     * @param {Object} [options={}] - Request options\r\n     * @returns {Promise<Response>} Raw response (not parsed)\r\n     */\r\n    async head(url, options = {}) {\r\n        return this.fetch(url, {\r\n            ...options,\r\n            method: 'HEAD',\r\n            parseResponse: false\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Check if resource exists (HEAD request)\r\n     *\r\n     * @param {string} url - Resource URL\r\n     * @param {Object} [options={}] - Request options\r\n     * @returns {Promise<boolean>} True if resource exists (2xx status)\r\n     */\r\n    async exists(url, options = {}) {\r\n        try {\r\n            const response = await this.head(url, {\r\n                ...options,\r\n                throwOnError: false\r\n            });\r\n            return response.ok;\r\n        } catch (error) {\r\n            Log.debug(`[FetchHelper] exists() failed for ${url}:`, error.message);\r\n            return false;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Configure default options\r\n     *\r\n     * @param {Object} config - Default configuration to merge\r\n     * @example\r\n     * FetchHelper.configure({\r\n     *   timeout: 15000,\r\n     *   retries: 3\r\n     * });\r\n     */\r\n    configure(config) {\r\n        Object.assign(DEFAULT_CONFIG, config);\r\n        Log.debug('[FetchHelper] Configuration updated:', DEFAULT_CONFIG);\r\n    },\r\n\r\n    /**\r\n     * Get current default configuration\r\n     *\r\n     * @returns {Object} Current default config\r\n     */\r\n    getConfig() {\r\n        return { ...DEFAULT_CONFIG };\r\n    }\r\n};\r\n\r\n/**\r\n * Enhanced Error class for fetch operations\r\n *\r\n * @class FetchError\r\n * @extends Error\r\n */\r\nexport class FetchError extends Error {\r\n    constructor(message, context = {}) {\r\n        super(message);\r\n        this.name = 'FetchError';\r\n        this.url = context.url;\r\n        this.attempts = context.attempts;\r\n        this.type = context.type || 'unknown';\r\n        this.cause = context.cause;\r\n\r\n        // Maintain stack trace\r\n        if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(this, FetchError);\r\n        }\r\n    }\r\n}\r\n\r\n// Export to GeoLeaf namespace\r\n\r\n// Convenient aliases for common usage\r\n\r\n\r\n","/**\r\n * @module GeoLeaf.Utils.Formatters\r\n * Formatters pour dates, nombres, distances et autres valeurs\r\n * Centralise tous les formatages pour cohérence et internationalisation\r\n *\r\n * @version 1.0.0\r\n */\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n\r\n// Configuration par défaut (peut être écrasée par l'utilisateur)\r\nconst defaultConfig = {\r\n    locale: 'fr-FR',\r\n    dateFormat: {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric'\r\n    },\r\n    dateTimeFormat: {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n    },\r\n    distanceUnits: 'metric' // 'metric' ou 'imperial'\r\n};\r\n\r\n/**\r\n * Formate une distance en unités lisibles\r\n *\r\n * @param {number} distanceInMeters - Distance en mètres\r\n * @param {Object} [options={}] - Options de formatage\r\n * @param {string} [options.unit='metric'] - Système d'unités ('metric' ou 'imperial')\r\n * @param {number} [options.precision=2] - Nombre de décimales\r\n * @param {boolean} [options.showUnit=true] - Afficher l'unité\r\n * @param {string} [options.locale='fr-FR'] - Locale pour formatage des nombres\r\n * @returns {string} Distance formatée\r\n *\r\n * @example\r\n * formatDistance(1500) // \"1.50 km\"\r\n * formatDistance(850) // \"850 m\"\r\n * formatDistance(1500, { unit: 'imperial' }) // \"0.93 mi\"\r\n * formatDistance(1500, { precision: 1 }) // \"1.5 km\"\r\n */\r\nexport function formatDistance(distanceInMeters, options = {}) {\r\n    const {\r\n        unit = defaultConfig.distanceUnits,\r\n        precision = 2,\r\n        showUnit = true,\r\n        locale = defaultConfig.locale\r\n    } = options;\r\n\r\n    if (distanceInMeters == null || isNaN(distanceInMeters)) {\r\n        return showUnit ? '0 m' : '0';\r\n    }\r\n\r\n    let value, unitLabel;\r\n\r\n    if (unit === 'imperial') {\r\n        // Conversion en miles/feet\r\n        const distanceInMiles = distanceInMeters * 0.000621371;\r\n        if (distanceInMiles < 0.1) {\r\n            // Afficher en feet si < 0.1 mile\r\n            value = distanceInMeters * 3.28084;\r\n            unitLabel = 'ft';\r\n        } else {\r\n            value = distanceInMiles;\r\n            unitLabel = 'mi';\r\n        }\r\n    } else {\r\n        // Metric (défaut)\r\n        if (distanceInMeters < 1000) {\r\n            // Afficher en mètres si < 1 km\r\n            value = distanceInMeters;\r\n            unitLabel = 'm';\r\n        } else {\r\n            // Afficher en kilomètres\r\n            value = distanceInMeters / 1000;\r\n            unitLabel = 'km';\r\n        }\r\n    }\r\n\r\n    // Formater le nombre\r\n    const formatted = value.toLocaleString(locale, {\r\n        minimumFractionDigits: unitLabel === 'm' || unitLabel === 'ft' ? 0 : precision,\r\n        maximumFractionDigits: unitLabel === 'm' || unitLabel === 'ft' ? 0 : precision\r\n    });\r\n\r\n    return showUnit ? `${formatted} ${unitLabel}` : formatted;\r\n}\r\n\r\n/**\r\n * Formate une date selon le format configuré\r\n *\r\n * @param {Date|string|number} date - Date à formater\r\n * @param {Object} [options={}] - Options de formatage\r\n * @param {string} [options.locale='fr-FR'] - Locale pour formatage\r\n * @param {string} [options.style='medium'] - Style de formatage ('short', 'medium', 'long', 'full')\r\n * @param {Object} [options.format] - Format personnalisé (Intl.DateTimeFormat options)\r\n * @returns {string} Date formatée ou chaîne vide si invalide\r\n *\r\n * @example\r\n * formatDate(new Date()) // \"19 décembre 2025\"\r\n * formatDate(new Date(), { style: 'short' }) // \"19/12/2025\"\r\n * formatDate('2025-12-19') // \"19 décembre 2025\"\r\n */\r\nexport function formatDate(date, options = {}) {\r\n    const {\r\n        locale = defaultConfig.locale,\r\n        style = 'medium',\r\n        format = null\r\n    } = options;\r\n\r\n    // Convertir en objet Date si nécessaire\r\n    const dateObj = date instanceof Date ? date : new Date(date);\r\n\r\n    // Vérifier validité\r\n    if (isNaN(dateObj.getTime())) {\r\n        return '';\r\n    }\r\n\r\n    // Formats prédéfinis selon le style\r\n    const formats = {\r\n        short: { year: 'numeric', month: '2-digit', day: '2-digit' },\r\n        medium: { year: 'numeric', month: 'long', day: 'numeric' },\r\n        long: { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' },\r\n        full: { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long', hour: '2-digit', minute: '2-digit' }\r\n    };\r\n\r\n    const formatOptions = format || formats[style] || formats.medium;\r\n\r\n    return dateObj.toLocaleDateString(locale, formatOptions);\r\n}\r\n\r\n/**\r\n * Formate une date avec heure\r\n *\r\n * @param {Date|string|number} date - Date à formater\r\n * @param {Object} [options={}] - Options de formatage\r\n * @param {string} [options.locale='fr-FR'] - Locale pour formatage\r\n * @param {string} [options.style='medium'] - Style de formatage\r\n * @param {Object} [options.format] - Format personnalisé\r\n * @returns {string} Date et heure formatées\r\n *\r\n * @example\r\n * formatDateTime(new Date()) // \"19 décembre 2025 à 14:30\"\r\n * formatDateTime(new Date(), { style: 'short' }) // \"19/12/2025 14:30\"\r\n */\r\nexport function formatDateTime(date, options = {}) {\r\n    const {\r\n        locale = defaultConfig.locale,\r\n        style = 'medium',\r\n        format = null\r\n    } = options;\r\n\r\n    const dateObj = date instanceof Date ? date : new Date(date);\r\n\r\n    if (isNaN(dateObj.getTime())) {\r\n        return '';\r\n    }\r\n\r\n    const formats = {\r\n        short: {\r\n            year: 'numeric', month: '2-digit', day: '2-digit',\r\n            hour: '2-digit', minute: '2-digit'\r\n        },\r\n        medium: {\r\n            year: 'numeric', month: 'long', day: 'numeric',\r\n            hour: '2-digit', minute: '2-digit'\r\n        },\r\n        long: {\r\n            year: 'numeric', month: 'long', day: 'numeric', weekday: 'long',\r\n            hour: '2-digit', minute: '2-digit', second: '2-digit'\r\n        }\r\n    };\r\n\r\n    const formatOptions = format || formats[style] || formats.medium;\r\n\r\n    return dateObj.toLocaleString(locale, formatOptions);\r\n}\r\n\r\n/**\r\n * Formate un nombre avec séparateurs de milliers\r\n *\r\n * @param {number} value - Valeur à formater\r\n * @param {Object} [options={}] - Options de formatage\r\n * @param {string} [options.locale='fr-FR'] - Locale pour formatage\r\n * @param {number} [options.decimals] - Nombre de décimales (auto si non spécifié)\r\n * @param {number} [options.minDecimals=0] - Nombre minimum de décimales\r\n * @param {number} [options.maxDecimals=2] - Nombre maximum de décimales\r\n * @returns {string} Nombre formaté\r\n *\r\n * @example\r\n * formatNumber(1234567.89) // \"1 234 567,89\"\r\n * formatNumber(1234.5, { decimals: 0 }) // \"1 235\"\r\n * formatNumber(1234.5, { locale: 'en-US' }) // \"1,234.5\"\r\n */\r\nexport function formatNumber(value, options = {}) {\r\n    const {\r\n        locale = defaultConfig.locale,\r\n        decimals = null,\r\n        minDecimals = 0,\r\n        maxDecimals = 2\r\n    } = options;\r\n\r\n    if (value == null || isNaN(value)) {\r\n        return '0';\r\n    }\r\n\r\n    const formatOptions = {};\r\n\r\n    if (decimals !== null) {\r\n        formatOptions.minimumFractionDigits = decimals;\r\n        formatOptions.maximumFractionDigits = decimals;\r\n    } else {\r\n        formatOptions.minimumFractionDigits = minDecimals;\r\n        formatOptions.maximumFractionDigits = maxDecimals;\r\n    }\r\n\r\n    return value.toLocaleString(locale, formatOptions);\r\n}\r\n\r\n/**\r\n * Formate une durée en format lisible\r\n *\r\n * @param {number} milliseconds - Durée en millisecondes\r\n * @param {Object} [options={}] - Options de formatage\r\n * @param {boolean} [options.short=false] - Format court (h, m, s)\r\n * @param {boolean} [options.showSeconds=true] - Afficher les secondes\r\n * @returns {string} Durée formatée\r\n *\r\n * @example\r\n * formatDuration(3665000) // \"1 heure 1 minute 5 secondes\"\r\n * formatDuration(3665000, { short: true }) // \"1h 1m 5s\"\r\n * formatDuration(90000, { showSeconds: false }) // \"1 minute\"\r\n */\r\nfunction formatDuration(milliseconds, options = {}) {\r\n    const { short = false, showSeconds = true } = options;\r\n\r\n    if (milliseconds == null || isNaN(milliseconds)) {\r\n        return short ? '0s' : '0 seconde';\r\n    }\r\n\r\n    const totalSeconds = Math.floor(milliseconds / 1000);\r\n    const hours = Math.floor(totalSeconds / 3600);\r\n    const minutes = Math.floor((totalSeconds % 3600) / 60);\r\n    const seconds = totalSeconds % 60;\r\n\r\n    const parts = [];\r\n\r\n    if (hours > 0) {\r\n        parts.push(short ? `${hours}h` : `${hours} heure${hours > 1 ? 's' : ''}`);\r\n    }\r\n\r\n    if (minutes > 0) {\r\n        parts.push(short ? `${minutes}m` : `${minutes} minute${minutes > 1 ? 's' : ''}`);\r\n    }\r\n\r\n    if (showSeconds && (seconds > 0 || parts.length === 0)) {\r\n        parts.push(short ? `${seconds}s` : `${seconds} seconde${seconds > 1 ? 's' : ''}`);\r\n    }\r\n\r\n    return parts.join(' ');\r\n}\r\n\r\n/**\r\n * Formate une taille de fichier en unités lisibles\r\n *\r\n * @param {number} bytes - Taille en bytes\r\n * @param {Object} [options={}] - Options de formatage\r\n * @param {number} [options.precision=2] - Nombre de décimales\r\n * @param {string} [options.locale='fr-FR'] - Locale pour formatage\r\n * @returns {string} Taille formatée\r\n *\r\n * @example\r\n * formatFileSize(1024) // \"1.00 KB\"\r\n * formatFileSize(1536000) // \"1.50 MB\"\r\n * formatFileSize(1536000, { precision: 0 }) // \"1 MB\"\r\n */\r\nexport function formatFileSize(bytes, options = {}) {\r\n    const {\r\n        precision = 2,\r\n        locale = defaultConfig.locale\r\n    } = options;\r\n\r\n    if (bytes == null || isNaN(bytes) || bytes === 0) {\r\n        return '0 B';\r\n    }\r\n\r\n    const units = ['B', 'KB', 'MB', 'GB', 'TB'];\r\n    const k = 1024;\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    const value = bytes / Math.pow(k, i);\r\n\r\n    const formatted = value.toLocaleString(locale, {\r\n        minimumFractionDigits: i === 0 ? 0 : precision,\r\n        maximumFractionDigits: i === 0 ? 0 : precision\r\n    });\r\n\r\n    return `${formatted} ${units[i]}`;\r\n}\r\n\r\n/**\r\n * Formate un pourcentage\r\n *\r\n * @param {number} value - Valeur (0-1 ou 0-100 selon options)\r\n * @param {Object} [options={}] - Options de formatage\r\n * @param {boolean} [options.fromDecimal=true] - La valeur est entre 0-1 (sinon 0-100)\r\n * @param {number} [options.precision=0] - Nombre de décimales\r\n * @param {string} [options.locale='fr-FR'] - Locale pour formatage\r\n * @returns {string} Pourcentage formaté\r\n *\r\n * @example\r\n * formatPercentage(0.75) // \"75 %\"\r\n * formatPercentage(75, { fromDecimal: false }) // \"75 %\"\r\n * formatPercentage(0.755, { precision: 1 }) // \"75.5 %\"\r\n */\r\nfunction formatPercentage(value, options = {}) {\r\n    const {\r\n        fromDecimal = true,\r\n        precision = 0,\r\n        locale = defaultConfig.locale\r\n    } = options;\r\n\r\n    if (value == null || isNaN(value)) {\r\n        return '0 %';\r\n    }\r\n\r\n    const percentValue = fromDecimal ? value * 100 : value;\r\n\r\n    const formatted = percentValue.toLocaleString(locale, {\r\n        minimumFractionDigits: precision,\r\n        maximumFractionDigits: precision\r\n    });\r\n\r\n    return `${formatted} %`;\r\n}\r\n\r\n/**\r\n * Retourne uniquement la valeur GB avec précision (convenience pour cache)\r\n *\r\n * @param {number} bytes - Nombre d'octets\r\n * @param {number} [precision=2] - Nombre de décimales\r\n * @returns {string} Exemple: \"2.34\"\r\n */\r\nexport function toGB(bytes, precision = 2) {\r\n    if (!bytes || bytes === 0) return \"0\";\r\n    return (bytes / 1024 / 1024 / 1024).toFixed(precision);\r\n}\r\n\r\n/**\r\n * Retourne uniquement la valeur MB avec précision (convenience pour cache)\r\n *\r\n * @param {number} bytes - Nombre d'octets\r\n * @param {number} [precision=1] - Nombre de décimales\r\n * @returns {string} Exemple: \"512.5\"\r\n */\r\nexport function toMB(bytes, precision = 1) {\r\n    if (!bytes || bytes === 0) return \"0\";\r\n    return (bytes / 1024 / 1024).toFixed(precision);\r\n}\r\n\r\n/**\r\n * Tronque un texte long avec ellipsis\r\n *\r\n * @param {string} text - Texte à tronquer\r\n * @param {number} [maxLength=50] - Longueur maximale\r\n * @returns {string} Exemple: \"Très long texte...\"\r\n */\r\nfunction truncate(text, maxLength = 50) {\r\n    if (!text || text.length <= maxLength) return text;\r\n    return text.substring(0, maxLength) + '...';\r\n}\r\n\r\n/**\r\n * Capitalise la première lettre\r\n *\r\n * @param {string} str - Chaîne à capitaliser\r\n * @returns {string} Exemple: \"Hello world\"\r\n */\r\nfunction capitalize(str) {\r\n    if (!str) return \"\";\r\n    return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\n/**\r\n * Convertit camelCase vers Title Case\r\n *\r\n * @param {string} str - Chaîne en camelCase\r\n * @returns {string} Exemple: \"Layer Name Here\"\r\n */\r\nfunction camelCaseToTitle(str) {\r\n    if (!str) return \"\";\r\n    return str\r\n        .replace(/([A-Z])/g, ' $1')\r\n        .replace(/^./, (char) => char.toUpperCase())\r\n        .trim();\r\n}\r\n\r\n/**\r\n * Convertit une URL en nom lisible\r\n *\r\n * @param {string} url - URL complète\r\n * @returns {string} Exemple: \"tile-0001.png\"\r\n */\r\nfunction getFilenameFromURL(url) {\r\n    if (!url) return \"-\";\r\n    return url.split('/').pop().split('?')[0];\r\n}\r\n\r\n/**\r\n * Configure les paramètres par défaut du module\r\n *\r\n * @param {Object} config - Configuration à appliquer\r\n * @param {string} [config.locale] - Locale par défaut\r\n * @param {string} [config.distanceUnits] - Unités de distance par défaut\r\n * @param {Object} [config.dateFormat] - Format de date par défaut\r\n * @param {Object} [config.dateTimeFormat] - Format de date+heure par défaut\r\n *\r\n * @example\r\n * configure({ locale: 'en-US', distanceUnits: 'imperial' })\r\n */\r\nfunction configure(config) {\r\n    Object.assign(defaultConfig, config);\r\n}\r\n\r\n/**\r\n * Récupère la configuration actuelle\r\n *\r\n * @returns {Object} Configuration actuelle\r\n */\r\nfunction getConfig() {\r\n    return { ...defaultConfig };\r\n}\r\n\r\n\r\n","/**\n * GeoLeaf File Validator Module\n * Security-focused file validation for uploads\n *\n * Features:\n * - Magic bytes validation (file signature check)\n * - MIME type verification\n * - File size limits\n * - Extension whitelist\n *\n * @module utils/file-validator\n * @version 1.0.0\n */\n\nimport { Log } from '../log/index.js';\nimport { formatFileSize } from './formatters.js';\n\n\n// ========================================\n//   CONSTANTS\n// ========================================\n\n/**\n * Maximum file size: 100 MB\n * @const {number}\n */\nconst MAX_FILE_SIZE = 100 * 1024 * 1024; // 100 MB\n\n/**\n * Magic bytes signatures for common file types\n * Each entry: [signature bytes, offset, mime type, extensions]\n * @const {Array}\n */\nconst MAGIC_BYTES = [\n    // Images\n    { signature: [0xFF, 0xD8, 0xFF], offset: 0, mime: 'image/jpeg', extensions: ['jpg', 'jpeg'] },\n    { signature: [0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A], offset: 0, mime: 'image/png', extensions: ['png'] },\n    { signature: [0x47, 0x49, 0x46, 0x38, 0x37, 0x61], offset: 0, mime: 'image/gif', extensions: ['gif'] },\n    { signature: [0x47, 0x49, 0x46, 0x38, 0x39, 0x61], offset: 0, mime: 'image/gif', extensions: ['gif'] },\n    { signature: [0x52, 0x49, 0x46, 0x46], offset: 0, mime: 'image/webp', extensions: ['webp'], extraCheck: (bytes) => {\n        // WEBP: RIFF....WEBP\n        return bytes.length >= 12 && bytes[8] === 0x57 && bytes[9] === 0x45 && bytes[10] === 0x42 && bytes[11] === 0x50;\n    }},\n    { signature: [0x42, 0x4D], offset: 0, mime: 'image/bmp', extensions: ['bmp'] },\n\n    // Documents\n    { signature: [0x25, 0x50, 0x44, 0x46], offset: 0, mime: 'application/pdf', extensions: ['pdf'] },\n\n    // Archives\n    { signature: [0x50, 0x4B, 0x03, 0x04], offset: 0, mime: 'application/zip', extensions: ['zip', 'kmz'] },\n    { signature: [0x50, 0x4B, 0x05, 0x06], offset: 0, mime: 'application/zip', extensions: ['zip', 'kmz'] },\n    { signature: [0x50, 0x4B, 0x07, 0x08], offset: 0, mime: 'application/zip', extensions: ['zip', 'kmz'] },\n\n    // GeoJSON (JSON text file - no magic bytes, validate by parsing)\n    // KML/GPX (XML text file - validate by parsing)\n];\n\n/**\n * Whitelist of allowed file extensions\n * @const {Array<string>}\n */\nconst ALLOWED_EXTENSIONS = [\n    // Images\n    'jpg', 'jpeg', 'png', 'gif', 'webp', 'bmp', 'svg',\n\n    // Geo formats\n    'geojson', 'json', 'kml', 'gpx', 'kmz',\n\n    // Documents\n    'pdf', 'txt', 'csv'\n];\n\n/**\n * Whitelist of allowed MIME types\n * @const {Array<string>}\n */\nconst ALLOWED_MIME_TYPES = [\n    // Images\n    'image/jpeg', 'image/png', 'image/gif', 'image/webp', 'image/bmp', 'image/svg+xml',\n\n    // Geo formats\n    'application/json', 'application/geo+json', 'application/vnd.google-earth.kml+xml',\n    'application/vnd.google-earth.kmz', 'application/gpx+xml',\n\n    // Documents\n    'application/pdf', 'text/plain', 'text/csv',\n\n    // Archives\n    'application/zip'\n];\n\n// ========================================\n//   FILE VALIDATOR MODULE\n// ========================================\n\nexport const FileValidator = {\n    /**\n     * Validate a file for security and format compliance\n     *\n     * @param {File} file - File object to validate\n     * @param {Object} [options] - Validation options\n     * @param {number} [options.maxSize] - Max file size in bytes (default: 100 MB)\n     * @param {Array<string>} [options.allowedExtensions] - Allowed extensions (default: ALLOWED_EXTENSIONS)\n     * @param {Array<string>} [options.allowedMimeTypes] - Allowed MIME types (default: ALLOWED_MIME_TYPES)\n     * @param {boolean} [options.checkMagicBytes=true] - Verify magic bytes signature\n     * @returns {Promise<Object>} Validation result { valid: boolean, error?: string, details: {} }\n     */\n    async validateFile(file, options = {}) {\n        const {\n            maxSize = MAX_FILE_SIZE,\n            allowedExtensions = ALLOWED_EXTENSIONS,\n            allowedMimeTypes = ALLOWED_MIME_TYPES,\n            checkMagicBytes = true\n        } = options;\n\n        const result = {\n            valid: false,\n            error: null,\n            details: {\n                fileName: file.name,\n                fileSize: file.size,\n                mimeType: file.type,\n                extension: this._getFileExtension(file.name)\n            }\n        };\n\n        try {\n            // 1. Check if file exists\n            if (!file) {\n                result.error = 'No file provided';\n                return result;\n            }\n\n            // 1b. Check filename for path traversal and dangerous characters\n            if (file.name) {\n                const dangerousPatterns = [\n                    /\\.\\./,              // path traversal\n                    /[/\\\\]/,             // directory separators\n                    /[\\0-\\x1f]/,         // eslint-disable-line no-control-regex -- control chars\n                    /^\\.+$/,             // only dots (., ..)\n                ];\n                for (const pattern of dangerousPatterns) {\n                    if (pattern.test(file.name)) {\n                        result.error = 'Filename contains dangerous characters (path traversal attempt?)';\n                        Log.warn('[FileValidator] Dangerous filename rejected:', file.name.substring(0, 50));\n                        return result;\n                    }\n                }\n                // Max filename length\n                if (file.name.length > 255) {\n                    result.error = 'Filename too long (max 255 characters)';\n                    return result;\n                }\n            }\n\n            // 2. Check file size\n            if (file.size > maxSize) {\n                result.error = `File size (${this._formatBytes(file.size)}) exceeds maximum allowed (${this._formatBytes(maxSize)})`;\n                Log.warn('[FileValidator] File too large:', result.error);\n                return result;\n            }\n\n            if (file.size === 0) {\n                result.error = 'File is empty';\n                return result;\n            }\n\n            // 3. Check file extension\n            const extension = this._getFileExtension(file.name);\n            if (!extension) {\n                result.error = 'File has no extension';\n                return result;\n            }\n\n            if (!allowedExtensions.includes(extension.toLowerCase())) {\n                result.error = `File extension '.${extension}' is not allowed. Allowed: ${allowedExtensions.join(', ')}`;\n                Log.warn('[FileValidator] Invalid extension:', result.error);\n                return result;\n            }\n\n            // 4. Check MIME type\n            if (file.type && !allowedMimeTypes.includes(file.type)) {\n                result.error = `MIME type '${file.type}' is not allowed`;\n                Log.warn('[FileValidator] Invalid MIME type:', result.error);\n                return result;\n            }\n\n            // 5. Check magic bytes (file signature)\n            if (checkMagicBytes && this._needsMagicBytesCheck(extension)) {\n                const magicBytesValid = await this._validateMagicBytes(file, extension);\n                if (!magicBytesValid.valid) {\n                    result.error = magicBytesValid.error || 'Magic bytes validation failed';\n                    Log.warn('[FileValidator] Magic bytes check failed:', result.error);\n                    return result;\n                }\n                result.details.magicBytesMatch = magicBytesValid.matchedType;\n            }\n\n            // 6. Text file validation (JSON, XML, etc.)\n            if (this._isTextFile(extension)) {\n                const textValid = await this._validateTextFile(file, extension);\n                if (!textValid.valid) {\n                    result.error = textValid.error || 'Text file validation failed';\n                    Log.warn('[FileValidator] Text file validation failed:', result.error);\n                    return result;\n                }\n            }\n\n            // All checks passed\n            result.valid = true;\n            Log.info('[FileValidator] File validation successful:', file.name);\n            return result;\n\n        } catch (error) {\n            result.error = `Validation error: ${error.message}`;\n            Log.error('[FileValidator] Validation exception:', error);\n            return result;\n        }\n    },\n\n    /**\n     * Validate magic bytes (file signature)\n     *\n     * @private\n     * @param {File} file - File to check\n     * @param {string} extension - File extension\n     * @returns {Promise<Object>} { valid: boolean, error?: string, matchedType?: string }\n     */\n    async _validateMagicBytes(file, extension) {\n        try {\n            // Read first 32 bytes (enough for most signatures)\n            const headerBytes = await this._readFileBytes(file, 0, 32);\n\n            // Find matching signatures\n            const matches = MAGIC_BYTES.filter(magic => {\n                // Check if extension matches\n                if (!magic.extensions.includes(extension.toLowerCase())) {\n                    return false;\n                }\n\n                // Check signature bytes\n                for (let i = 0; i < magic.signature.length; i++) {\n                    if (headerBytes[magic.offset + i] !== magic.signature[i]) {\n                        return false;\n                    }\n                }\n\n                // Extra check if defined (e.g., WEBP)\n                if (magic.extraCheck && !magic.extraCheck(headerBytes)) {\n                    return false;\n                }\n\n                return true;\n            });\n\n            if (matches.length === 0) {\n                return {\n                    valid: false,\n                    error: `File signature does not match extension '.${extension}'. File may be corrupted or renamed.`\n                };\n            }\n\n            return {\n                valid: true,\n                matchedType: matches[0].mime\n            };\n\n        } catch (error) {\n            return {\n                valid: false,\n                error: `Error reading file signature: ${error.message}`\n            };\n        }\n    },\n\n    /**\n     * Validate text-based files (JSON, XML, etc.)\n     *\n     * @private\n     * @param {File} file - File to validate\n     * @param {string} extension - File extension\n     * @returns {Promise<Object>} { valid: boolean, error?: string }\n     */\n    async _validateTextFile(file, extension) {\n        try {\n            const text = await this._readFileAsText(file, 1024 * 1024); // Read first 1MB\n\n            if (extension === 'json' || extension === 'geojson') {\n                // Validate JSON syntax\n                try {\n                    JSON.parse(text);\n                    return { valid: true };\n                } catch (e) {\n                    return {\n                        valid: false,\n                        error: `Invalid JSON: ${e.message}`\n                    };\n                }\n            }\n\n            if (extension === 'kml' || extension === 'gpx' || extension === 'svg') {\n                // Basic XML validation\n                if (!text.trim().startsWith('<?xml') && !text.trim().startsWith('<')) {\n                    return {\n                        valid: false,\n                        error: 'Invalid XML: File does not start with XML declaration or tag'\n                    };\n                }\n            }\n\n            return { valid: true };\n\n        } catch (error) {\n            return {\n                valid: false,\n                error: `Error reading text file: ${error.message}`\n            };\n        }\n    },\n\n    /**\n     * Read file bytes from start to end\n     *\n     * @private\n     * @param {File} file - File to read\n     * @param {number} start - Start byte position\n     * @param {number} length - Number of bytes to read\n     * @returns {Promise<Uint8Array>} Byte array\n     */\n    _readFileBytes(file, start, length) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            const blob = file.slice(start, start + length);\n\n            reader.onload = (e) => {\n                const arrayBuffer = e.target.result;\n                const bytes = new Uint8Array(arrayBuffer);\n                resolve(bytes);\n            };\n\n            reader.onerror = () => {\n                reject(new Error('Failed to read file bytes'));\n            };\n\n            reader.readAsArrayBuffer(blob);\n        });\n    },\n\n    /**\n     * Read file as text\n     *\n     * @private\n     * @param {File} file - File to read\n     * @param {number} [maxLength] - Maximum characters to read\n     * @returns {Promise<string>} File text content\n     */\n    _readFileAsText(file, maxLength = null) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            const blob = maxLength ? file.slice(0, maxLength) : file;\n\n            reader.onload = (e) => {\n                resolve(e.target.result);\n            };\n\n            reader.onerror = () => {\n                reject(new Error('Failed to read file as text'));\n            };\n\n            reader.readAsText(blob);\n        });\n    },\n\n    /**\n     * Get file extension from filename\n     *\n     * @private\n     * @param {string} filename - File name\n     * @returns {string} Extension (without dot)\n     */\n    _getFileExtension(filename) {\n        if (!filename || typeof filename !== 'string') return '';\n        const parts = filename.split('.');\n        return parts.length > 1 ? parts[parts.length - 1] : '';\n    },\n\n    /**\n     * Check if file extension requires magic bytes validation\n     *\n     * @private\n     * @param {string} extension - File extension\n     * @returns {boolean}\n     */\n    _needsMagicBytesCheck(extension) {\n        const ext = extension.toLowerCase();\n        // Images and PDFs need magic bytes check\n        const binaryExtensions = ['jpg', 'jpeg', 'png', 'gif', 'webp', 'bmp', 'pdf'];\n        return binaryExtensions.includes(ext);\n    },\n\n    /**\n     * Check if file is text-based\n     *\n     * @private\n     * @param {string} extension - File extension\n     * @returns {boolean}\n     */\n    _isTextFile(extension) {\n        const ext = extension.toLowerCase();\n        const textExtensions = ['json', 'geojson', 'kml', 'gpx', 'svg', 'txt', 'csv'];\n        return textExtensions.includes(ext);\n    },\n\n    /**\n     * Format bytes to human-readable size\n     *\n     * @private\n     * @param {number} bytes - Byte count\n     * @returns {string} Formatted size (e.g., \"1.5 MB\")\n     */\n    _formatBytes(bytes) {\n        // Phase 4 dedup: delegate to Formatters.formatFileSize\n        return formatFileSize(bytes, { precision: 2 });\n        if (bytes === 0) return '0 Bytes';\n        const k = 1024;\n        const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n        return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + ' ' + sizes[i];\n    },\n\n    /**\n     * Get configuration constants (for testing/documentation)\n     *\n     * @returns {Object} Configuration object\n     */\n    getConfig() {\n        return {\n            maxFileSize: MAX_FILE_SIZE,\n            allowedExtensions: [...ALLOWED_EXTENSIONS],\n            allowedMimeTypes: [...ALLOWED_MIME_TYPES],\n            magicBytesSignatures: MAGIC_BYTES.map(m => ({\n                mime: m.mime,\n                extensions: m.extensions\n            }))\n        };\n    }\n};\n\n// ========================================\n//   EXPORT\n// ========================================\n\n\n","/**\r\n * @fileoverview Map Helpers - Utilities for Leaflet map instance management\r\n * @module utils/map-helpers\r\n * @requires geoleaf.core\r\n *\r\n * @description\r\n * Provides centralized functions for retrieving and validating Leaflet map instances.\r\n * Eliminates duplicate map retrieval patterns across 15+ modules.\r\n *\r\n * @author GeoLeaf\r\n * @version 2.1.0\r\n * @since Phase 3 - Code Deduplication\r\n */\r\n\r\n\r\n/**\r\n * @namespace MapHelpers\r\n * @memberof GeoLeaf.Utils\r\n * @description Utilities for Leaflet map instance management\r\n */\r\nimport { Core } from '../geoleaf.core.js';\r\nexport const MapHelpers = {\r\n\r\n    /**\r\n     * Safely retrieves a Leaflet map instance from various sources\r\n     *\r\n     * @param {L.Map|null} [explicitMap=null] - Explicitly provided map instance\r\n     * @returns {L.Map|null} The map instance or null if not found\r\n     *\r\n     * @description\r\n     * Resolution order:\r\n     * 1. Explicit map parameter (if provided and valid)\r\n     * 2. (globalThis.GeoLeaf && globalThis.GeoLeaf.Core).getMap() (if Core module loaded)\r\n     * 3. null (no map found)\r\n     *\r\n     * @example\r\n     * // With explicit map\r\n     * const map = MapHelpers.ensureMap(myMap);\r\n     *\r\n     * @example\r\n     * // Auto-resolve from (globalThis.GeoLeaf && globalThis.GeoLeaf.Core)\r\n     * const map = MapHelpers.ensureMap();\r\n     * if (map) {\r\n     *   map.setView([lat, lng], zoom);\r\n     * }\r\n     *\r\n     * @example\r\n     * // In module initialization\r\n     * init(options = {}) {\r\n     *   this._map = MapHelpers.ensureMap(options.map);\r\n     *   if (!this._map) {\r\n     *     // ...\r\n     *   }\r\n     * }\r\n     */\r\n    ensureMap(explicitMap = null) {\r\n        // 1. Check explicit map parameter\r\n        if (explicitMap && typeof explicitMap === \"object\") {\r\n            // Validate it's a Leaflet map\r\n            if (this._isLeafletMap(explicitMap)) {\r\n                return explicitMap;\r\n            }\r\n        }\r\n\r\n        // 2. Try Core.getMap()\r\n        if (Core?.getMap && typeof Core.getMap === \"function\") {\r\n            const coreMap = Core.getMap();\r\n            if (coreMap && this._isLeafletMap(coreMap)) {\r\n                return coreMap;\r\n            }\r\n        }\r\n\r\n        // 3. No map found\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * Retrieves a Leaflet map instance and throws if not found (strict mode)\r\n     *\r\n     * @param {L.Map|null} [explicitMap=null] - Explicitly provided map instance\r\n     * @param {string} [contextInfo='Unknown'] - Context for error message (module name)\r\n     * @returns {L.Map} The map instance (never null)\r\n     * @throws {Error} If no valid map instance found\r\n     *\r\n     * @description\r\n     * Use this when map instance is REQUIRED for functionality.\r\n     * Will throw descriptive error if map cannot be resolved.\r\n     *\r\n     * @example\r\n     * // In critical initialization\r\n     * init(options = {}) {\r\n     *   try {\r\n     *     this._map = MapHelpers.requireMap(options.map, 'Baselayers');\r\n     *     this._setupControls();\r\n     *   } catch (error) {\r\n     *     // ...\r\n     *   }\r\n     * }\r\n     *\r\n     * @example\r\n     * // Short form in methods\r\n     * fitBounds(bounds) {\r\n     *   const map = MapHelpers.requireMap(this._map, 'Table');\r\n     *   map.fitBounds(bounds, { padding: [50, 50] });\r\n     * }\r\n     */\r\n    requireMap(explicitMap = null, contextInfo = \"Unknown\") {\r\n        const map = this.ensureMap(explicitMap);\r\n\r\n        if (!map) {\r\n            const sources = [];\r\n            if (explicitMap !== null) sources.push(\"explicit parameter\");\r\n            if (Core) sources.push(\"(Core module)\");\r\n\r\n            throw new Error(\r\n                `[${contextInfo}] No Leaflet map instance found. ` +\r\n                `Tried: ${sources.length ? sources.join(\", \") : \"no sources available\"}. ` +\r\n                `Ensure map is initialized or passed as option.`\r\n            );\r\n        }\r\n\r\n        return map;\r\n    },\r\n\r\n    /**\r\n     * Validates if an object is a Leaflet map instance\r\n     *\r\n     * @param {*} obj - Object to validate\r\n     * @returns {boolean} True if valid Leaflet map\r\n     *\r\n     * @private\r\n     * @description\r\n     * Checks for Leaflet map duck-typing:\r\n     * - Has getCenter() method\r\n     * - Has setView() method\r\n     * - Has getBounds() method\r\n     *\r\n     * @example\r\n     * if (MapHelpers._isLeafletMap(obj)) {\r\n     *   obj.setView([lat, lng], zoom);\r\n     * }\r\n     */\r\n    _isLeafletMap(obj) {\r\n        if (!obj || typeof obj !== \"object\") return false;\r\n\r\n        // Duck-typing check for Leaflet map\r\n        return (\r\n            typeof obj.getCenter === \"function\" &&\r\n            typeof obj.setView === \"function\" &&\r\n            typeof obj.getBounds === \"function\" &&\r\n            typeof obj.on === \"function\" &&\r\n            typeof obj.off === \"function\"\r\n        );\r\n    },\r\n\r\n    /**\r\n     * Checks if a Leaflet map instance is currently available\r\n     *\r\n     * @param {L.Map|null} [explicitMap=null] - Explicitly provided map instance\r\n     * @returns {boolean} True if map is available\r\n     *\r\n     * @description\r\n     * Non-throwing version for conditional checks.\r\n     * Useful in optional features or progressive enhancement.\r\n     *\r\n     * @example\r\n     * // Conditional feature activation\r\n     * if (MapHelpers.hasMap()) {\r\n     *   this._enableMapFeatures();\r\n     * } else {\r\n     *   // ...\r\n     * }\r\n     *\r\n     * @example\r\n     * // Guard in event handlers\r\n     * handleClick() {\r\n     *   if (!MapHelpers.hasMap(this._map)) return;\r\n     *   const map = MapHelpers.ensureMap(this._map);\r\n     *   map.panTo([lat, lng]);\r\n     * }\r\n     */\r\n    hasMap(explicitMap = null) {\r\n        return this.ensureMap(explicitMap) !== null;\r\n    },\r\n\r\n    /**\r\n     * Retrieves map instance with detailed diagnostic info for debugging\r\n     *\r\n     * @param {L.Map|null} [explicitMap=null] - Explicitly provided map instance\r\n     * @returns {Object} Diagnostic object with map and status info\r\n     *\r\n     * @description\r\n     * Returns object with:\r\n     * - map: The map instance or null\r\n     * - found: Boolean indicating if map was found\r\n     * - source: Where map was found ('explicit', 'core', or 'none')\r\n     * - isValid: Boolean indicating if map passes Leaflet validation\r\n     *\r\n     * @example\r\n     * // Debug map resolution issues\r\n     * const diagnostic = MapHelpers.getMapDiagnostic(options.map);\r\n     * // ...\r\n     * // {\r\n     * //   map: L.Map {...},\r\n     * //   found: true,\r\n     * //   source: 'core',\r\n     * //   isValid: true\r\n     * // }\r\n     */\r\n    getMapDiagnostic(explicitMap = null) {\r\n        const diagnostic = {\r\n            map: null,\r\n            found: false,\r\n            source: \"none\",\r\n            isValid: false\r\n        };\r\n\r\n        // Check explicit map\r\n        if (explicitMap && typeof explicitMap === \"object\") {\r\n            if (this._isLeafletMap(explicitMap)) {\r\n                diagnostic.map = explicitMap;\r\n                diagnostic.found = true;\r\n                diagnostic.source = \"explicit\";\r\n                diagnostic.isValid = true;\r\n                return diagnostic;\r\n            }\r\n        }\r\n\r\n        // Check Core.getMap()\r\n        if (Core?.getMap && typeof Core.getMap === \"function\") {\r\n            const coreMap = Core.getMap();\r\n            if (coreMap && this._isLeafletMap(coreMap)) {\r\n                diagnostic.map = coreMap;\r\n                diagnostic.found = true;\r\n                diagnostic.source = \"core\";\r\n                diagnostic.isValid = true;\r\n                return diagnostic;\r\n            }\r\n        }\r\n\r\n        return diagnostic;\r\n    }\r\n};\r\n\r\n// Export to GeoLeaf namespace\r\n\r\n// Convenient aliases at root level\r\n\r\n\r\n","/**\n * GeoLeaf Performance Profiler – Baseline Storage\n * Pure storage helpers extracted from performance-profiler.js (Phase 8.2.5)\n *\n * @module utils/performance/baseline-storage\n */\n\"use strict\";\n\nconst STORAGE_KEY = 'geoleaf_performance_baseline';\n\n/**\n * Charge le profil de baseline depuis le storage navigateur.\n * Retourne la baseline ou null si absente / invalide.\n *\n * @param {'localStorage'|'sessionStorage'} storageType\n * @returns {Object|null}\n */\nexport function loadBaselineFromStorage(storageType) {\n    try {\n        const storage = storageType === 'localStorage' ? localStorage : sessionStorage;\n        const saved = storage.getItem(STORAGE_KEY);\n        if (saved) {\n            return JSON.parse(saved);\n        }\n    } catch (_) {\n        // Storage non disponible ou données corrompues\n    }\n    return null;\n}\n\n/**\n * Sauvegarde le profil de baseline dans le storage navigateur.\n *\n * @param {Object} baseline     - Objet baseline à sauvegarder\n * @param {'localStorage'|'sessionStorage'} storageType\n */\nexport function saveBaselineToStorage(baseline, storageType) {\n    try {\n        const storage = storageType === 'localStorage' ? localStorage : sessionStorage;\n        storage.setItem(STORAGE_KEY, JSON.stringify(baseline));\n    } catch (_) {\n        // Storage non disponible\n    }\n}\n","/**\n * GeoLeaf Performance Profiler – DevTools Export\n * Pure DevTools trace builder extracted from performance-profiler.js (Phase 8.2.5)\n *\n * @module utils/performance/devtools-export\n */\n\"use strict\";\n\n/**\n * Construit un objet de trace Chrome DevTools (profil JSON) à partir des\n * marks et measures collectés par `PerformanceProfiler`.\n *\n * Compatible avec l'onglet Performance de Chrome DevTools:\n * `DevTools → Performance → Load Profile → sélectionner le fichier JSON`\n *\n * @param {{ marks: Map<string, number>, measures: Map<string, number> }} data\n * @returns {{traceEvents: Array, metadata: Object}} Objet de trace DevTools\n */\nexport function buildDevToolsTrace({ marks, measures }) {\n    const devToolsData = {\n        traceEvents: [],\n        metadata: {\n            'cpu-family': 6,\n            'cpu-model': 70,\n            'cpu-stepping': 1,\n            'field-name-mappings': {},\n            'os-name': navigator.platform,\n            'trace-capture-datetime': new Date().toISOString(),\n            'user-agent': navigator.userAgent\n        }\n    };\n\n    // Convert marks → Instant trace events\n    marks.forEach((timestamp, name) => {\n        devToolsData.traceEvents.push({\n            name,\n            cat: 'blink.user_timing',\n            ph: 'I', // Instant event\n            ts: timestamp * 1000, // µs\n            pid: 1,\n            tid: 1\n        });\n    });\n\n    // Convert measures → Begin/End trace event pairs\n    measures.forEach((duration, name) => {\n        const startTime = performance.now() - duration;\n        devToolsData.traceEvents.push(\n            {\n                name,\n                cat: 'blink.user_timing',\n                ph: 'B', // Begin\n                ts: startTime * 1000,\n                pid: 1,\n                tid: 1\n            },\n            {\n                name,\n                cat: 'blink.user_timing',\n                ph: 'E', // End\n                ts: (startTime + duration) * 1000,\n                pid: 1,\n                tid: 1\n            }\n        );\n    });\n\n    return devToolsData;\n}\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * @module config/debug-flag\r\n * @description Centralized debug mode accessor.\r\n *\r\n * Phase 10-A: Extracts the `globalThis.GeoLeaf.DEBUG` lookup into a dedicated\r\n * utility so modules can declare the dependency explicitly rather than\r\n * reading the global namespace directly.\r\n *\r\n * NOTE: This still reads `globalThis.GeoLeaf.DEBUG` at call time to support\r\n * the use case where end users set `window.GeoLeaf.DEBUG = true` after init.\r\n * A future Phase 10-D migration could replace this with a build-time replace()\r\n * plugin (Rollup) or a proper ESM-level init function.\r\n */\r\n\r\n/**\r\n * Returns whether GeoLeaf debug mode is currently active.\r\n * Reads the runtime flag set by end users via `window.GeoLeaf.DEBUG = true`.\r\n * @returns {boolean}\r\n */\r\nexport function getDebugMode() {\r\n    return globalThis.GeoLeaf?.DEBUG === true;\r\n}\r\n","/**\r\n * @fileoverview GeoLeaf Performance Profiler\r\n * Sprint 3.5: Advanced performance monitoring and Chrome DevTools integration\r\n *\r\n * Features:\r\n * - Real-time performance monitoring\r\n * - Memory usage tracking and leak detection\r\n * - Chrome DevTools integration\r\n * - Performance baseline establishment\r\n * - Automated performance regression detection\r\n * - Detailed profiling reports\r\n *\r\n * @version 1.0.0\r\n * @author GeoLeaf Team\r\n * @since 2026-01-17\r\n */\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { loadBaselineFromStorage, saveBaselineToStorage } from './performance/baseline-storage.js';\r\nimport { buildDevToolsTrace } from './performance/devtools-export.js';\r\nimport { getDebugMode } from '../config/debug-flag.js';\r\n\r\n'use strict';\r\n\r\n// Perf 6.1.3: Pre-compile regex at module level to avoid re-creation in loops\r\nconst _RE_IMAGE_EXT = /\\.(jpg|jpeg|png|gif|svg|webp)$/i;\r\n\r\n/**\r\n * Performance monitoring configuration\r\n */\r\nconst DEFAULT_CONFIG = {\r\n    // Monitoring intervals\r\n    monitoring: {\r\n        enabled: false, // Enable only in dev mode\r\n        interval: 5000, // 5 seconds (reduced CPU overhead)\r\n        maxDataPoints: 60 // 5 minutes of data at 5s interval\r\n    },\r\n    // Memory monitoring\r\n    memory: {\r\n        enabled: true,\r\n        threshold: 200 * 1024 * 1024, // 200MB threshold (realistic for GeoJSON apps)\r\n        leakDetection: true\r\n    },\r\n    // Performance marks\r\n    marks: {\r\n        enabled: true,\r\n        autoMark: ['init', 'ready', 'firstLoad']\r\n    },\r\n    // Baseline\r\n    baseline: {\r\n        enabled: true,\r\n        storage: 'sessionStorage' // or 'localStorage'\r\n    }\r\n};\r\n\r\n/**\r\n * Performance data storage\r\n */\r\nlet performanceData = {\r\n    marks: new Map(),\r\n    measures: new Map(),\r\n    memory: [],\r\n    timeline: [],\r\n    baseline: null\r\n};\r\n\r\n/**\r\n * @class PerformanceProfiler\r\n * @description Advanced performance profiling for GeoLeaf\r\n */\r\nexport class PerformanceProfiler {\r\n    constructor(config = {}) {\r\n        this.config = this._mergeConfig(DEFAULT_CONFIG, config);\r\n        this.monitoringInterval = null;\r\n        this.baselineEstablished = false;\r\n        // Ne pas appeler init() ici — les observers et setInterval doivent être\r\n        // démarrés uniquement au premier accès via getPerformanceProfiler().\r\n        // Cela évite de créer des PerformanceObserver/setInterval à l'import.\r\n    }\r\n\r\n    /**\r\n     * Initialize performance profiler\r\n     */\r\n    init() {\r\n        // Check if we're in development mode\r\n        this.config.monitoring.enabled = this._isDevelopmentMode();\r\n\r\n        this._initPerformanceObserver();\r\n        this._loadBaseline();\r\n\r\n        if (this.config.monitoring.enabled) {\r\n            this._startMonitoring();\r\n        }\r\n\r\n        if (Log) {\r\n            Log.info('[GeoLeaf.Utils.PerformanceProfiler] Performance profiler initialized');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Start performance monitoring\r\n     */\r\n    startMonitoring() {\r\n        if (this.monitoringInterval) {\r\n            this.stopMonitoring();\r\n        }\r\n\r\n        this._startMonitoring();\r\n\r\n        if (Log) {\r\n            Log.info('[PerformanceProfiler] Monitoring started');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Stop performance monitoring\r\n     */\r\n    stopMonitoring() {\r\n        if (this.monitoringInterval) {\r\n            clearInterval(this.monitoringInterval);\r\n            this.monitoringInterval = null;\r\n\r\n            if (Log) {\r\n                Log.info('[PerformanceProfiler] Monitoring stopped');\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create performance mark\r\n     * @param {string} name - Mark name\r\n     */\r\n    mark(name) {\r\n        if (!this.config.marks.enabled) return;\r\n\r\n        const timestamp = performance.now();\r\n\r\n        try {\r\n            performance.mark(name);\r\n            performanceData.marks.set(name, timestamp);\r\n\r\n            if (Log) {\r\n                Log.debug(`[PerformanceProfiler] Mark: ${name} at ${timestamp.toFixed(2)}ms`);\r\n            }\r\n        } catch (error) {\r\n            if (Log) {\r\n                Log.warn(`[PerformanceProfiler] Failed to create mark ${name}:`, error);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create performance measure\r\n     * @param {string} name - Measure name\r\n     * @param {string} startMark - Start mark name\r\n     * @param {string} [endMark] - End mark name (optional)\r\n     * @returns {number} Duration in milliseconds\r\n     */\r\n    measure(name, startMark, endMark) {\r\n        try {\r\n            performance.measure(name, startMark, endMark);\r\n\r\n            const entries = performance.getEntriesByName(name, 'measure');\r\n            const latestEntry = entries[entries.length - 1];\r\n            const duration = latestEntry ? latestEntry.duration : 0;\r\n\r\n            performanceData.measures.set(name, duration);\r\n\r\n            if (Log) {\r\n                Log.debug(`[PerformanceProfiler] Measure: ${name} = ${duration.toFixed(2)}ms`);\r\n            }\r\n\r\n            return duration;\r\n        } catch (error) {\r\n            if (Log) {\r\n                Log.warn(`[PerformanceProfiler] Failed to create measure ${name}:`, error);\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get current memory usage\r\n     * @returns {Object} Memory information\r\n     */\r\n    getMemoryUsage() {\r\n        const memory = {\r\n            timestamp: performance.now(),\r\n            used: 0,\r\n            total: 0,\r\n            available: 0\r\n        };\r\n\r\n        try {\r\n            if (performance.memory) {\r\n                memory.used = performance.memory.usedJSHeapSize;\r\n                memory.total = performance.memory.totalJSHeapSize;\r\n                memory.available = performance.memory.jsHeapSizeLimit;\r\n            }\r\n        } catch (error) {\r\n            // Memory API not available\r\n        }\r\n\r\n        return memory;\r\n    }\r\n\r\n    /**\r\n     * Analyze memory for potential leaks\r\n     * @returns {Object} Leak analysis\r\n     */\r\n    analyzeMemoryLeaks() {\r\n        if (performanceData.memory.length < 10) {\r\n            return { status: 'insufficient_data' };\r\n        }\r\n\r\n        const recentData = performanceData.memory.slice(-30); // Last 30 data points\r\n        const firstUsed = recentData[0].used;\r\n        const lastUsed = recentData[recentData.length - 1].used;\r\n        const growthRate = (lastUsed - firstUsed) / firstUsed;\r\n\r\n        const analysis = {\r\n            status: 'normal',\r\n            growthRate: growthRate,\r\n            memoryTrend: lastUsed > firstUsed ? 'increasing' : 'decreasing',\r\n            recommendation: 'No action needed'\r\n        };\r\n\r\n        if (growthRate > 0.2) { // 20% increase\r\n            analysis.status = 'warning';\r\n            analysis.recommendation = 'Monitor memory usage - potential leak detected';\r\n        }\r\n\r\n        if (growthRate > 0.5) { // 50% increase\r\n            analysis.status = 'critical';\r\n            analysis.recommendation = 'Investigate memory leak - significant growth detected';\r\n        }\r\n\r\n        return analysis;\r\n    }\r\n\r\n    /**\r\n     * Generate comprehensive performance report\r\n     * @returns {Object} Performance report\r\n     */\r\n    generateReport() {\r\n        const currentMemory = this.getMemoryUsage();\r\n        const memoryAnalysis = this.analyzeMemoryLeaks();\r\n\r\n        const report = {\r\n            timestamp: new Date().toISOString(),\r\n            session: {\r\n                duration: performance.now(),\r\n                marks: Object.fromEntries(performanceData.marks),\r\n                measures: Object.fromEntries(performanceData.measures)\r\n            },\r\n            memory: {\r\n                current: currentMemory,\r\n                peak: this._getPeakMemory(),\r\n                analysis: memoryAnalysis,\r\n                history: performanceData.memory.slice(-10) // Last 10 samples\r\n            },\r\n            performance: {\r\n                navigation: this._getNavigationTiming(),\r\n                paint: this._getPaintTiming(),\r\n                resources: this._getResourceTiming(),\r\n                longTasks: this._getLongTasks()\r\n            },\r\n            baseline: this._compareWithBaseline(),\r\n            recommendations: this._generateRecommendations()\r\n        };\r\n\r\n        return report;\r\n    }\r\n\r\n    /**\r\n     * Establish performance baseline\r\n     */\r\n    establishBaseline() {\r\n        const baseline = {\r\n            timestamp: new Date().toISOString(),\r\n            navigation: this._getNavigationTiming(),\r\n            paint: this._getPaintTiming(),\r\n            memory: this.getMemoryUsage(),\r\n            userAgent: navigator.userAgent,\r\n            viewport: {\r\n                width: window.innerWidth,\r\n                height: window.innerHeight\r\n            }\r\n        };\r\n\r\n        performanceData.baseline = baseline;\r\n        this.baselineEstablished = true;\r\n\r\n        if (this.config.baseline.enabled) {\r\n            this._saveBaseline(baseline);\r\n        }\r\n\r\n        if (Log) {\r\n            Log.info('[PerformanceProfiler] Performance baseline established');\r\n        }\r\n\r\n        return baseline;\r\n    }\r\n\r\n    /**\r\n     * Export profiling data for Chrome DevTools\r\n     * @returns {Object} Chrome DevTools compatible data\r\n     */\r\n    exportForDevTools() {\r\n        return buildDevToolsTrace(performanceData);\r\n    }\r\n\r\n    /**\r\n     * Initialize performance observer\r\n     * @private\r\n     */\r\n    _initPerformanceObserver() {\r\n        if (!('PerformanceObserver' in window)) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Observe navigation and paint timings\r\n            const observer = new PerformanceObserver((list) => {\r\n                this._processPerformanceEntries(list.getEntries());\r\n            });\r\n\r\n            observer.observe({ entryTypes: ['navigation', 'paint', 'measure', 'mark', 'longtask'] });\r\n\r\n        } catch (error) {\r\n            if (Log) {\r\n                Log.warn('[PerformanceProfiler] PerformanceObserver initialization failed:', error);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Process performance entries\r\n     * @private\r\n     */\r\n    _processPerformanceEntries(entries) {\r\n        entries.forEach(entry => {\r\n            switch (entry.entryType) {\r\n                case 'longtask':\r\n                    if (Log) {\r\n                        Log.warn(`[PerformanceProfiler] Long task detected: ${entry.duration.toFixed(2)}ms`);\r\n                    }\r\n                    break;\r\n                case 'measure':\r\n                    performanceData.measures.set(entry.name, entry.duration);\r\n                    break;\r\n                case 'mark':\r\n                    performanceData.marks.set(entry.name, entry.startTime);\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Start monitoring loop\r\n     * @private\r\n     */\r\n    _startMonitoring() {\r\n        this.monitoringInterval = setInterval(() => {\r\n            this._collectPerformanceData();\r\n        }, this.config.monitoring.interval);\r\n    }\r\n\r\n    /**\r\n     * Collect performance data\r\n     * @private\r\n     */\r\n    _collectPerformanceData() {\r\n        const memory = this.getMemoryUsage();\r\n\r\n        // Add to memory history\r\n        performanceData.memory.push(memory);\r\n\r\n        // Limit data points\r\n        if (performanceData.memory.length > this.config.monitoring.maxDataPoints) {\r\n            performanceData.memory.shift();\r\n        }\r\n\r\n        // Check memory threshold\r\n        if (this.config.memory.enabled && memory.used > this.config.memory.threshold) {\r\n            if (Log) {\r\n                Log.warn(`[PerformanceProfiler] Memory usage high: ${(memory.used / 1024 / 1024).toFixed(2)}MB`);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get navigation timing\r\n     * @private\r\n     */\r\n    _getNavigationTiming() {\r\n        try {\r\n            const timing = performance.getEntriesByType('navigation')[0];\r\n            if (!timing) return null;\r\n\r\n            return {\r\n                domContentLoaded: timing.domContentLoadedEventEnd - timing.domContentLoadedEventStart,\r\n                load: timing.loadEventEnd - timing.loadEventStart,\r\n                domComplete: timing.domComplete - timing.navigationStart,\r\n                firstByte: timing.responseStart - timing.requestStart,\r\n                dns: timing.domainLookupEnd - timing.domainLookupStart,\r\n                tcp: timing.connectEnd - timing.connectStart\r\n            };\r\n        } catch (error) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get paint timing\r\n     * @private\r\n     */\r\n    _getPaintTiming() {\r\n        try {\r\n            const paintEntries = performance.getEntriesByType('paint');\r\n            const result = {};\r\n\r\n            paintEntries.forEach(entry => {\r\n                result[entry.name] = entry.startTime;\r\n            });\r\n\r\n            return result;\r\n        } catch (error) {\r\n            return {};\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get resource timing\r\n     * @private\r\n     */\r\n    _getResourceTiming() {\r\n        try {\r\n            const resources = performance.getEntriesByType('resource');\r\n            const summary = {\r\n                total: resources.length,\r\n                scripts: 0,\r\n                stylesheets: 0,\r\n                images: 0,\r\n                totalSize: 0,\r\n                totalDuration: 0\r\n            };\r\n\r\n            resources.forEach(resource => {\r\n                if (resource.name.includes('.js')) summary.scripts++;\r\n                else if (resource.name.includes('.css')) summary.stylesheets++;\r\n                else if (_RE_IMAGE_EXT.test(resource.name)) summary.images++;\r\n\r\n                if (resource.transferSize) summary.totalSize += resource.transferSize;\r\n                summary.totalDuration += resource.duration;\r\n            });\r\n\r\n            return summary;\r\n        } catch (error) {\r\n            return { total: 0 };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get long tasks\r\n     * @private\r\n     */\r\n    _getLongTasks() {\r\n        try {\r\n            return performance.getEntriesByType('longtask').map(task => ({\r\n                duration: task.duration,\r\n                startTime: task.startTime\r\n            }));\r\n        } catch (error) {\r\n            return [];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get peak memory usage\r\n     * @private\r\n     */\r\n    _getPeakMemory() {\r\n        if (performanceData.memory.length === 0) {\r\n            return this.getMemoryUsage();\r\n        }\r\n\r\n        return performanceData.memory.reduce((peak, current) => {\r\n            return current.used > peak.used ? current : peak;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Compare with baseline\r\n     * @private\r\n     */\r\n    _compareWithBaseline() {\r\n        if (!performanceData.baseline) {\r\n            return { status: 'no_baseline' };\r\n        }\r\n\r\n        const current = {\r\n            navigation: this._getNavigationTiming(),\r\n            paint: this._getPaintTiming(),\r\n            memory: this.getMemoryUsage()\r\n        };\r\n\r\n        const comparison = {\r\n            navigation: {},\r\n            paint: {},\r\n            memory: {},\r\n            overall: 'similar'\r\n        };\r\n\r\n        // Compare navigation timing\r\n        if (current.navigation && performanceData.baseline.navigation) {\r\n            Object.keys(performanceData.baseline.navigation).forEach(key => {\r\n                const baselineValue = performanceData.baseline.navigation[key];\r\n                const currentValue = current.navigation[key];\r\n                const diff = ((currentValue - baselineValue) / baselineValue) * 100;\r\n\r\n                comparison.navigation[key] = {\r\n                    baseline: baselineValue,\r\n                    current: currentValue,\r\n                    difference: diff,\r\n                    status: Math.abs(diff) > 20 ? (diff > 0 ? 'worse' : 'better') : 'similar'\r\n                };\r\n            });\r\n        }\r\n\r\n        // Compare paint timing\r\n        Object.keys(performanceData.baseline.paint).forEach(key => {\r\n            if (current.paint[key]) {\r\n                const diff = ((current.paint[key] - performanceData.baseline.paint[key]) / performanceData.baseline.paint[key]) * 100;\r\n                comparison.paint[key] = {\r\n                    baseline: performanceData.baseline.paint[key],\r\n                    current: current.paint[key],\r\n                    difference: diff,\r\n                    status: Math.abs(diff) > 20 ? (diff > 0 ? 'worse' : 'better') : 'similar'\r\n                };\r\n            }\r\n        });\r\n\r\n        // Compare memory\r\n        if (performanceData.baseline.memory.used > 0) {\r\n            const memDiff = ((current.memory.used - performanceData.baseline.memory.used) / performanceData.baseline.memory.used) * 100;\r\n            comparison.memory = {\r\n                baseline: performanceData.baseline.memory.used,\r\n                current: current.memory.used,\r\n                difference: memDiff,\r\n                status: Math.abs(memDiff) > 30 ? (memDiff > 0 ? 'worse' : 'better') : 'similar'\r\n            };\r\n        }\r\n\r\n        return comparison;\r\n    }\r\n\r\n    /**\r\n     * Generate recommendations\r\n     * @private\r\n     */\r\n    _generateRecommendations() {\r\n        const recommendations = [];\r\n        const memoryAnalysis = this.analyzeMemoryLeaks();\r\n        const resources = this._getResourceTiming();\r\n        const longTasks = this._getLongTasks();\r\n\r\n        // Memory recommendations\r\n        if (memoryAnalysis.status === 'warning') {\r\n            recommendations.push({\r\n                type: 'memory',\r\n                priority: 'medium',\r\n                message: 'Monitor memory usage - potential leak detected',\r\n                action: 'Check for event listener cleanup and object references'\r\n            });\r\n        } else if (memoryAnalysis.status === 'critical') {\r\n            recommendations.push({\r\n                type: 'memory',\r\n                priority: 'high',\r\n                message: 'Critical memory usage detected',\r\n                action: 'Immediate investigation required - check for memory leaks'\r\n            });\r\n        }\r\n\r\n        // Long task recommendations\r\n        if (longTasks.length > 0) {\r\n            const avgLongTask = longTasks.reduce((sum, task) => sum + task.duration, 0) / longTasks.length;\r\n            recommendations.push({\r\n                type: 'performance',\r\n                priority: 'medium',\r\n                message: `${longTasks.length} long tasks detected (avg: ${avgLongTask.toFixed(2)}ms)`,\r\n                action: 'Consider breaking up long-running operations with setTimeout or requestIdleCallback'\r\n            });\r\n        }\r\n\r\n        // Resource recommendations\r\n        if (resources.total > 50) {\r\n            recommendations.push({\r\n                type: 'resources',\r\n                priority: 'low',\r\n                message: `High number of resources loaded (${resources.total})`,\r\n                action: 'Consider bundling or lazy loading resources'\r\n            });\r\n        }\r\n\r\n        return recommendations;\r\n    }\r\n\r\n    /**\r\n     * Check if in development mode\r\n     * @private\r\n     */\r\n    _isDevelopmentMode() {\r\n        return (\r\n            (globalThis.location && globalThis.location.hostname === 'localhost') ||\r\n            (globalThis.location && globalThis.location.hostname === '127.0.0.1') ||\r\n            (globalThis.location && globalThis.location.port) ||\r\n            getDebugMode()\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Load baseline from storage\r\n     * @private\r\n     */\r\n    _loadBaseline() {\r\n        if (!this.config.baseline.enabled) return;\r\n        const saved = loadBaselineFromStorage(this.config.baseline.storage);\r\n        if (saved) {\r\n            performanceData.baseline = saved;\r\n            this.baselineEstablished = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Save baseline to storage\r\n     * @private\r\n     */\r\n    _saveBaseline(baseline) {\r\n        saveBaselineToStorage(baseline, this.config.baseline.storage);\r\n    }\r\n\r\n    /**\r\n     * Merge configuration objects\r\n     * @private\r\n     */\r\n    _mergeConfig(defaultConfig, userConfig) {\r\n        const merged = { ...defaultConfig };\r\n\r\n        for (const key in userConfig) {\r\n            if (typeof userConfig[key] === 'object' && !Array.isArray(userConfig[key])) {\r\n                merged[key] = { ...defaultConfig[key], ...userConfig[key] };\r\n            } else {\r\n                merged[key] = userConfig[key];\r\n            }\r\n        }\r\n\r\n        return merged;\r\n    }\r\n}\r\n\r\n// Singleton lazy — perf 5.2 / C9: création ET initialisation différées au premier accès.\r\n// Le constructeur ne démarre plus d'observers/setInterval automatiquement.\r\nlet _performanceProfilerInstance = null;\r\n\r\nexport function getPerformanceProfiler() {\r\n    if (!_performanceProfilerInstance) {\r\n        _performanceProfilerInstance = new PerformanceProfiler();\r\n        // init() démarre PerformanceObserver + setInterval : uniquement ici, pas dans le constructeur\r\n        _performanceProfilerInstance.init();\r\n    }\r\n    return _performanceProfilerInstance;\r\n}\r\n\r\n// Auto-establish baseline — perf 5.8: différé après load, uniquement si profiler déjà instancié\r\nwindow.addEventListener('load', () => {\r\n    if (_performanceProfilerInstance) {\r\n        _performanceProfilerInstance.establishBaseline();\r\n    }\r\n}, { once: true });\r\n\r\n\r\n","/**\n * @fileoverview GeoLeaf Lazy Loading Module\n * Sprint 3.4: Advanced lazy loading for modules, images, and code splitting\n *\n * Features:\n * - Module lazy loading with caching\n * - Image lazy loading with intersection observer\n * - Dynamic imports for code splitting\n * - Performance monitoring\n * - Error handling and fallbacks\n *\n * @version 1.0.0\n * @author GeoLeaf Team\n * @since 2026-01-17\n */\n\nimport { Log } from \"../log/index.js\";\n\n// Phase 7 B2 fix: globalThis used directly (replaces legacy namespace shim from _namespace.js)\nconst _g =\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\n\n(\"use strict\");\n\n/**\n * Lazy Loading Configuration\n */\nconst DEFAULT_CONFIG = {\n    // Module loading\n    modules: {\n        timeout: 15000,\n        retries: 2,\n        cacheBust: false,\n    },\n    // Image lazy loading\n    images: {\n        rootMargin: \"50px\",\n        threshold: 0.1,\n        loadingClass: \"lazy-loading\",\n        loadedClass: \"lazy-loaded\",\n        errorClass: \"lazy-error\",\n    },\n    // Code splitting\n    chunks: {\n        preload: [\"core\", \"ui\"],\n        defer: [\"poi\", \"geojson\", \"route\", \"legend\"],\n    },\n};\n\n/**\n * Module cache for loaded modules\n */\nconst moduleCache = new Map();\nconst loadingPromises = new Map();\n\n/**\n * Performance metrics\n */\nconst metrics = {\n    modulesLoaded: 0,\n    imagesLoaded: 0,\n    totalLoadTime: 0,\n    errors: 0,\n};\n\n/**\n * @class LazyLoader\n * @description Advanced lazy loading system for GeoLeaf\n */\nexport class LazyLoader {\n    constructor(config = {}) {\n        this.config = this._mergeConfig(DEFAULT_CONFIG, config);\n        this.imageObserver = null;\n        this.init();\n    }\n\n    /**\n     * Initialize lazy loader\n     */\n    init() {\n        // B2 [PERF-02]: _initImageObserver() est désormais différé au premier scan()\n        // via _ensureObserver() — évite une allocation IntersectionObserver inutile au boot.\n        this._preloadCoreModules();\n\n        if (Log) {\n            Log.info(\"[GeoLeaf.Utils.LazyLoader] Lazy loading system initialized\");\n        }\n    }\n\n    /**\n     * Lazy load a module dynamically\n     * @param {string} moduleName - Module identifier\n     * @param {string} modulePath - Path to module file\n     * @param {Object} options - Loading options\n     * @returns {Promise<Object>} Module exports\n     */\n    async loadModule(moduleName, modulePath, options = {}) {\n        const startTime = performance.now();\n\n        try {\n            // Check cache first\n            if (moduleCache.has(moduleName)) {\n                return moduleCache.get(moduleName);\n            }\n\n            // Check if already loading\n            if (loadingPromises.has(moduleName)) {\n                return await loadingPromises.get(moduleName);\n            }\n\n            // Create loading promise\n            const loadingPromise = this._loadModuleScript(moduleName, modulePath, options);\n            loadingPromises.set(moduleName, loadingPromise);\n\n            const result = await loadingPromise;\n\n            // Cache and metrics\n            moduleCache.set(moduleName, result);\n            loadingPromises.delete(moduleName);\n\n            const loadTime = performance.now() - startTime;\n            metrics.modulesLoaded++;\n            metrics.totalLoadTime += loadTime;\n\n            if (Log) {\n                Log.info(`[LazyLoader] Module \"${moduleName}\" loaded in ${loadTime.toFixed(2)}ms`);\n            }\n\n            return result;\n        } catch (error) {\n            loadingPromises.delete(moduleName);\n            metrics.errors++;\n\n            if (Log) {\n                Log.error(`[LazyLoader] Failed to load module \"${moduleName}\":`, error);\n            }\n\n            throw error;\n        }\n    }\n\n    /**\n     * Load module dynamically via ESM import() — remplace l'ancienne injection <script>\n     * B6 [DEAD-04]: _loadModuleScript() (script injection) supprimé — remplacé par import()\n     * @private\n     */\n    async _loadModuleScript(moduleName, modulePath, options) {\n        const config = { ...this.config.modules, ...options };\n        const finalPath = config.cacheBust ? `${modulePath}?v=${Date.now()}` : modulePath;\n\n        const importPromise = import(/* webpackIgnore: true */ finalPath);\n\n        if (!config.timeout) return importPromise;\n\n        // Timeout wrapper\n        const timeoutPromise = new Promise((_, reject) =>\n            setTimeout(\n                () => reject(new Error(`Module \"${moduleName}\" load timeout`)),\n                config.timeout\n            )\n        );\n        return Promise.race([importPromise, timeoutPromise]);\n    }\n\n    /**\n     * Extract module exports from global namespace\n     * @private\n     */\n    _extractModuleExports(moduleName) {\n        // Common patterns for GeoLeaf modules\n        const patterns = [\n            `GeoLeaf.${moduleName}`,\n            `GeoLeaf._${moduleName}`,\n            `GeoLeaf.Utils.${moduleName}`,\n            moduleName,\n        ];\n\n        for (const pattern of patterns) {\n            const moduleExports = this._getNestedProperty(_g, pattern);\n            if (moduleExports) {\n                return moduleExports;\n            }\n        }\n\n        // Fallback - return the module name (for modules that register themselves)\n        return { name: moduleName, loaded: true };\n    }\n\n    /**\n     * Get nested property from object\n     * @private\n     */\n    _getNestedProperty(obj, path) {\n        return path.split(\".\").reduce((current, key) => {\n            return current && current[key] !== undefined ? current[key] : null;\n        }, obj);\n    }\n\n    /**\n     * Garantit que l'ImageObserver est initialisé avant utilisation (lazy-init)\n     * B2 [PERF-02]: création différée au premier appel de scan() ou enableImageLazyLoading()\n     * @private\n     */\n    _ensureObserver() {\n        if (!this.imageObserver) {\n            this._initImageObserver();\n        }\n    }\n\n    /**\n     * Initialize image lazy loading with Intersection Observer\n     * @private\n     * @note Ne pas appeler _loadAllImages() ici : la requête DOM doit être différée\n     *       jusqu'au premier appel explicite de scan() / enableImageLazyLoading().\n     */\n    _initImageObserver() {\n        if (!(\"IntersectionObserver\" in window)) {\n            // Fallback pour navigateurs anciens — pas de requête DOM ici.\n            // enableImageLazyLoading() / scan() gère le fallback naturellement\n            // (imageObserver === null → chargement direct dans enableImageLazyLoading).\n            return;\n        }\n\n        this.imageObserver = new IntersectionObserver(\n            (entries) => this._handleImageIntersection(entries),\n            {\n                rootMargin: this.config.images.rootMargin,\n                threshold: this.config.images.threshold,\n            }\n        );\n    }\n\n    /**\n     * Handle image intersection\n     * @private\n     */\n    _handleImageIntersection(entries) {\n        entries.forEach((entry) => {\n            if (entry.isIntersecting) {\n                const img = entry.target;\n                this._loadImage(img);\n                this.imageObserver.unobserve(img);\n            }\n        });\n    }\n\n    /**\n     * Load a single image\n     * @private\n     */\n    _loadImage(img) {\n        const config = this.config.images;\n\n        img.classList.add(config.loadingClass);\n\n        const startTime = performance.now();\n\n        const tempImg = new Image();\n\n        tempImg.onload = () => {\n            img.src = tempImg.src;\n            img.classList.remove(config.loadingClass);\n            img.classList.add(config.loadedClass);\n\n            const loadTime = performance.now() - startTime;\n            metrics.imagesLoaded++;\n\n            if (Log) {\n                Log.debug(`[LazyLoader] Image loaded in ${loadTime.toFixed(2)}ms: ${img.src}`);\n            }\n        };\n\n        tempImg.onerror = () => {\n            img.classList.remove(config.loadingClass);\n            img.classList.add(config.errorClass);\n            metrics.errors++;\n\n            if (Log) {\n                Log.warn(`[LazyLoader] Image load failed: ${tempImg.src}`);\n            }\n        };\n\n        tempImg.src = img.dataset.src || img.src;\n    }\n\n    /**\n     * Enable lazy loading for images\n     * @param {string} selector - CSS selector for images (default: 'img[data-src]')\n     */\n    enableImageLazyLoading(selector = \"img[data-src]\") {\n        this._ensureObserver(); // B2: init différé au premier appel\n        const images = document.querySelectorAll(selector);\n\n        if (this.imageObserver) {\n            images.forEach((img) => this.imageObserver.observe(img));\n        } else {\n            // Fallback - load all images immediately\n            images.forEach((img) => this._loadImage(img));\n        }\n\n        if (Log) {\n            Log.info(`[LazyLoader] Enabled lazy loading for ${images.length} images`);\n        }\n    }\n\n    /**\n     * Scanne le DOM et active le lazy loading sur les images trouvées.\n     * C'est ici que la requête DOM est effectuée — jamais dans le constructeur.\n     * @param {string} [selector='img[data-src]'] - Sélecteur CSS\n     * @returns {number} Nombre d'images trouvées\n     */\n    scan(selector = \"img[data-src]\") {\n        this._ensureObserver(); // B2: init différé au premier appel\n        const images = document.querySelectorAll(selector);\n        if (images.length) {\n            if (this.imageObserver) {\n                images.forEach((img) => this.imageObserver.observe(img));\n            } else {\n                // Fallback : pas d'IntersectionObserver — chargement immédiat\n                images.forEach((img) => this._loadImage(img));\n            }\n            if (Log) {\n                Log.info(`[LazyLoader] scan() — ${images.length} image(s) trouvée(s)`);\n            }\n        }\n        return images.length;\n    }\n\n    /**\n     * Initialise le lazy loading en différant le scan jusqu'au DOMContentLoaded\n     * si le DOM n'est pas encore prêt. Remplace l'auto-scan du constructeur.\n     * @param {object} [options={}]\n     * @param {boolean} [options.autoScan=true] - Lancer automatiquement scan()\n     * @param {string} [options.selector='img[data-src]'] - Sélecteur CSS\n     */\n    initialize(options = {}) {\n        const { autoScan = true, selector = \"img[data-src]\" } = options;\n        if (!autoScan) return;\n\n        if (document.readyState === \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", () => this.scan(selector), {\n                once: true,\n            });\n        } else {\n            this.scan(selector);\n        }\n    }\n\n    /**\n     * Preload core modules\n     * @private\n     */\n    _preloadCoreModules() {\n        const coreModules = this.config.chunks.preload;\n\n        coreModules.forEach((moduleName) => {\n            // Only preload if not already loaded\n            if (!moduleCache.has(moduleName) && this._shouldPreloadModule(moduleName)) {\n                this._preloadModule(moduleName);\n            }\n        });\n    }\n\n    /**\n     * Check if module should be preloaded\n     * @private\n     */\n    _shouldPreloadModule(moduleName) {\n        // Check if module is already available in GeoLeaf namespace\n        const moduleExists = this._extractModuleExports(moduleName);\n        return !moduleExists || moduleExists.name === moduleName;\n    }\n\n    /**\n     * Preload a module (non-blocking)\n     * @private\n     */\n    _preloadModule(moduleName) {\n        const modulePath = this._getModulePath(moduleName);\n        if (modulePath) {\n            // Create link prefetch for better performance\n            const link = document.createElement(\"link\");\n            link.rel = \"prefetch\";\n            link.href = modulePath;\n            document.head.appendChild(link);\n\n            if (Log) {\n                Log.debug(`[LazyLoader] Prefetching module: ${moduleName}`);\n            }\n        }\n    }\n\n    /**\n     * Get module path from name\n     * @private\n     */\n    _getModulePath(moduleName) {\n        // Common GeoLeaf module paths\n        const pathMap = {\n            poi: \"poi/add-form-orchestrator.js\",\n            geojson: \"geojson/loader.js\",\n            route: \"geoleaf.route.js\",\n            legend: \"geoleaf.legend.js\",\n            themes: \"themes/theme-loader.js\",\n        };\n\n        const basePath = this._getBasePath();\n        return pathMap[moduleName] ? `${basePath}/${pathMap[moduleName]}` : null;\n    }\n\n    /**\n     * Get base path for GeoLeaf modules\n     * @private\n     */\n    _getBasePath() {\n        // Try to detect base path from current script\n        const scripts = document.getElementsByTagName(\"script\");\n        for (const script of scripts) {\n            if (script.src && script.src.includes(\"geoleaf\")) {\n                const srcParts = script.src.split(\"/\");\n                srcParts.pop(); // Remove filename\n                return srcParts.join(\"/\");\n            }\n        }\n        // Fallback\n        return \"./src/modules\";\n    }\n\n    /**\n     * Load all images immediately (fallback)\n     * @private\n     */\n    _loadAllImages() {\n        const images = document.querySelectorAll(\"img[data-src]\");\n        images.forEach((img) => this._loadImage(img));\n    }\n\n    /**\n     * Get performance metrics\n     * @returns {Object} Performance metrics\n     */\n    getMetrics() {\n        return {\n            ...metrics,\n            averageLoadTime:\n                metrics.modulesLoaded > 0 ? metrics.totalLoadTime / metrics.modulesLoaded : 0,\n        };\n    }\n\n    /**\n     * Clear module cache\n     */\n    clearCache() {\n        moduleCache.clear();\n        loadingPromises.clear();\n\n        if (Log) {\n            Log.info(\"[LazyLoader] Module cache cleared\");\n        }\n    }\n\n    /**\n     * Merge configuration objects\n     * @private\n     */\n    _mergeConfig(defaultConfig, userConfig) {\n        const merged = { ...defaultConfig };\n\n        for (const key in userConfig) {\n            if (typeof userConfig[key] === \"object\" && !Array.isArray(userConfig[key])) {\n                merged[key] = { ...defaultConfig[key], ...userConfig[key] };\n            } else {\n                merged[key] = userConfig[key];\n            }\n        }\n\n        return merged;\n    }\n}\n\n// Singleton lazy — perf 5.2: création différée au premier accès\nlet _lazyLoaderInstance = null;\n\nexport function getLazyLoader() {\n    if (!_lazyLoaderInstance) {\n        _lazyLoaderInstance = new LazyLoader();\n    }\n    return _lazyLoaderInstance;\n}\n\n// Auto-scan au démarrage via initialize() — la requête DOM est différée\n// jusqu'au DOMContentLoaded ou à la microtâche post-parsing (jamais à l'import).\n// perf 5.7 / C9: plus de querySelectorAll au niveau module.\nif (document.readyState === \"loading\") {\n    document.addEventListener(\n        \"DOMContentLoaded\",\n        () => {\n            getLazyLoader().initialize();\n        },\n        { once: true }\n    );\n} else {\n    // DOM déjà prêt : activer via microtâche pour ne pas bloquer le parsing\n    Promise.resolve().then(() => getLazyLoader().initialize());\n}\n","/**\r\n * @fileoverview TimerManager - Gestion centralisée des timers\r\n * Permet de tracker et nettoyer tous les setTimeout/setInterval\r\n * pour éviter les fuites mémoire\r\n *\r\n * @module GeoLeaf.Utils.TimerManager\r\n * @version 2.0.0\r\n * @author GeoLeaf Project\r\n */\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n\r\n/**\r\n * TimerManager - Gestionnaire centralisé de timers\r\n * @class\r\n */\r\nexport class TimerManager {\r\n    constructor(name = 'default') {\r\n        this.name = name;\r\n        this.timers = new Map();\r\n        this.intervals = new Map();\r\n        this._nextId = 1;\r\n    }\r\n\r\n    /**\r\n     * Crée un setTimeout avec tracking\r\n     * @param {Function} callback - Fonction à exécuter\r\n     * @param {number} delay - Délai en ms\r\n     * @param {string} [label] - Label optionnel pour debug\r\n     * @returns {number} ID du timer\r\n     */\r\n    setTimeout(callback, delay, label = '') {\r\n        const id = this._nextId++;\r\n        const timerId = setTimeout(() => {\r\n            try {\r\n                callback();\r\n            } finally {\r\n                // Auto-cleanup après exécution\r\n                this.timers.delete(id);\r\n            }\r\n        }, delay);\r\n\r\n        this.timers.set(id, {\r\n            timerId,\r\n            label,\r\n            type: 'timeout',\r\n            createdAt: Date.now(),\r\n            delay\r\n        });\r\n\r\n        Log.debug(`[TimerManager.${this.name}] setTimeout created:`, id, label);\r\n        return id;\r\n    }\r\n\r\n    /**\r\n     * Crée un setInterval avec tracking\r\n     * @param {Function} callback - Fonction à exécuter\r\n     * @param {number} interval - Intervalle en ms\r\n     * @param {string} [label] - Label optionnel pour debug\r\n     * @returns {number} ID de l'interval\r\n     */\r\n    setInterval(callback, interval, label = '') {\r\n        const id = this._nextId++;\r\n        const intervalId = setInterval(() => {\r\n            try {\r\n                callback();\r\n            } catch (error) {\r\n                Log.error(`[TimerManager.${this.name}] Error in interval ${id}:`, error);\r\n            }\r\n        }, interval);\r\n\r\n        this.intervals.set(id, {\r\n            intervalId,\r\n            label,\r\n            type: 'interval',\r\n            createdAt: Date.now(),\r\n            interval\r\n        });\r\n\r\n        Log.debug(`[TimerManager.${this.name}] setInterval created:`, id, label);\r\n        return id;\r\n    }\r\n\r\n    /**\r\n     * Clear un timer spécifique\r\n     * @param {number} id - ID du timer\r\n     * @returns {boolean} True si le timer a été trouvé et nettoyé\r\n     */\r\n    clearTimeout(id) {\r\n        const timer = this.timers.get(id);\r\n        if (timer) {\r\n            clearTimeout(timer.timerId);\r\n            this.timers.delete(id);\r\n            Log.debug(`[TimerManager.${this.name}] setTimeout cleared:`, id, timer.label);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Clear un interval spécifique\r\n     * @param {number} id - ID de l'interval\r\n     * @returns {boolean} True si l'interval a été trouvé et nettoyé\r\n     */\r\n    clearInterval(id) {\r\n        const interval = this.intervals.get(id);\r\n        if (interval) {\r\n            clearInterval(interval.intervalId);\r\n            this.intervals.delete(id);\r\n            Log.debug(`[TimerManager.${this.name}] setInterval cleared:`, id, interval.label);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Clear tous les timers et intervals\r\n     */\r\n    clearAll() {\r\n        // Clear tous les timeouts\r\n        for (const [id, timer] of this.timers.entries()) {\r\n            clearTimeout(timer.timerId);\r\n        }\r\n\r\n        // Clear tous les intervals\r\n        for (const [id, interval] of this.intervals.entries()) {\r\n            clearInterval(interval.intervalId);\r\n        }\r\n\r\n        const totalCleared = this.timers.size + this.intervals.size;\r\n        this.timers.clear();\r\n        this.intervals.clear();\r\n\r\n        if (Log && totalCleared > 0) {\r\n            Log.info(`[TimerManager.${this.name}] Cleared ${totalCleared} timer(s)`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Obtient le nombre de timers actifs\r\n     * @returns {{timeouts: number, intervals: number, total: number}}\r\n     */\r\n    getStats() {\r\n        return {\r\n            timeouts: this.timers.size,\r\n            intervals: this.intervals.size,\r\n            total: this.timers.size + this.intervals.size\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Liste tous les timers actifs (pour debug)\r\n     * @returns {Array} Liste des timers avec leurs infos\r\n     */\r\n    listActiveTimers() {\r\n        const list = [];\r\n\r\n        for (const [id, timer] of this.timers.entries()) {\r\n            list.push({\r\n                id,\r\n                type: 'timeout',\r\n                label: timer.label,\r\n                age: Date.now() - timer.createdAt,\r\n                delay: timer.delay\r\n            });\r\n        }\r\n\r\n        for (const [id, interval] of this.intervals.entries()) {\r\n            list.push({\r\n                id,\r\n                type: 'interval',\r\n                label: interval.label,\r\n                age: Date.now() - interval.createdAt,\r\n                interval: interval.interval\r\n            });\r\n        }\r\n\r\n        return list;\r\n    }\r\n\r\n    /**\r\n     * Détruit le manager et nettoie tous les timers\r\n     */\r\n    destroy() {\r\n        this.clearAll();\r\n        Log.info(`[TimerManager.${this.name}] Destroyed`);\r\n    }\r\n}\r\n\r\n/**\r\n * Instance globale par défaut\r\n */\r\nconst globalTimerManager = new TimerManager('global');\r\n\r\n/**\r\n * API simplifiée pour l'instance globale\r\n */\r\n\r\n// Cleanup automatique avant unload de la page\r\nif (typeof window !== 'undefined') {\r\n    window.addEventListener('beforeunload', () => {\r\n        const stats = globalTimerManager.getStats();\r\n        if (stats.total > 0) {\r\n            Log.warn(`[TimerManager] ${stats.total} timer(s) still active at page unload`);\r\n            globalTimerManager.clearAll();\r\n        }\r\n    });\r\n}\r\n\r\n\r\n","/**\r\n * @module GeoLeaf.Utils.ObjectUtils\r\n * @description Utilitaires pour manipulation d'objets et accès aux propriétés imbriquées\r\n * @version 2.1.0\r\n * @since 2.1.0\r\n */\r\n\r\n\r\n\r\n/**\r\n * Récupère une valeur imbriquée dans un objet via un chemin de propriétés.\r\n * Gère les valeurs null/undefined de manière sécurisée.\r\n *\r\n * @param {Object} obj - Objet source\r\n * @param {string} path - Chemin vers la propriété avec notation point (ex: 'user.address.city')\r\n * @returns {*} Valeur trouvée ou null si le chemin n'existe pas\r\n *\r\n * @example\r\n * const user = { name: 'John', address: { city: 'Paris', zip: '75001' } };\r\n * getNestedValue(user, 'name');               // 'John'\r\n * getNestedValue(user, 'address.city');       // 'Paris'\r\n * getNestedValue(user, 'address.country');    // null\r\n * getNestedValue(user, 'profile.avatar');     // null\r\n * getNestedValue(null, 'name');               // null\r\n */\r\nexport function getNestedValue(obj, path) {\r\n    // Validation des paramètres\r\n    if (!obj || typeof obj !== 'object') {\r\n        return null;\r\n    }\r\n\r\n    if (!path || typeof path !== 'string') {\r\n        return null;\r\n    }\r\n\r\n    // Parcours du chemin\r\n    const keys = path.split('.');\r\n    let result = obj;\r\n\r\n    for (const key of keys) {\r\n        // Vérification à chaque niveau\r\n        if (result == null) {\r\n            return null;\r\n        }\r\n        result = result[key];\r\n    }\r\n\r\n    // Retourner null si undefined, sinon la valeur (même falsy comme 0, '', false)\r\n    return result !== undefined ? result : null;\r\n}\r\n\r\n/**\r\n * Vérifie si un chemin de propriété existe dans un objet.\r\n *\r\n * @param {Object} obj - Objet source\r\n * @param {string} path - Chemin vers la propriété\r\n * @returns {boolean} True si le chemin existe, false sinon\r\n *\r\n * @example\r\n * const user = { name: 'John', address: { city: 'Paris' } };\r\n * hasNestedPath(user, 'address.city');     // true\r\n * hasNestedPath(user, 'address.country');  // false\r\n */\r\nexport function hasNestedPath(obj, path) {\r\n    if (!obj || typeof obj !== 'object' || !path) {\r\n        return false;\r\n    }\r\n\r\n    const keys = path.split('.');\r\n    let current = obj;\r\n\r\n    for (const key of keys) {\r\n        if (current == null || !Object.prototype.hasOwnProperty.call(current, key)) {\r\n            return false;\r\n        }\r\n        current = current[key];\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n/**\r\n * Définit une valeur dans un objet via un chemin de propriétés.\r\n * Crée les objets intermédiaires si nécessaire.\r\n *\r\n * @param {Object} obj - Objet cible\r\n * @param {string} path - Chemin vers la propriété\r\n * @param {*} value - Valeur à définir\r\n * @returns {Object} L'objet modifié\r\n *\r\n * @example\r\n * const user = {};\r\n * setNestedValue(user, 'address.city', 'Paris');\r\n * // user = { address: { city: 'Paris' } }\r\n */\r\nexport function setNestedValue(obj, path, value) {\r\n    if (!obj || typeof obj !== 'object') {\r\n        throw new Error('[ObjectUtils.setNestedValue] Invalid object');\r\n    }\r\n\r\n    if (!path || typeof path !== 'string') {\r\n        throw new Error('[ObjectUtils.setNestedValue] Invalid path');\r\n    }\r\n\r\n    const keys = path.split('.');\r\n    const lastKey = keys.pop();\r\n    let current = obj;\r\n\r\n    // Créer les objets intermédiaires\r\n    for (const key of keys) {\r\n        if (!(key in current) || typeof current[key] !== 'object') {\r\n            current[key] = {};\r\n        }\r\n        current = current[key];\r\n    }\r\n\r\n    // Définir la valeur finale\r\n    current[lastKey] = value;\r\n\r\n    return obj;\r\n}\r\n\r\n// Export public\r\n\r\n// Alias pour compatibilité et facilité d'utilisation\r\n\r\n\r\n","/**\r\n * @fileoverview Scale utilities - compute map scale and test visibility ranges\r\n * @module utils/scale-utils\r\n */\r\n\r\n\r\n\r\n// Cache basé sur le zoom et la latitude pour éviter des recalculs coûteux\r\nconst _scaleCache = {\r\n    zoom: null,\r\n    lat: null,\r\n    scale: null\r\n};\r\n\r\n/**\r\n * Calcule l'échelle (1:X) de la carte pour le zoom et la latitude actuels.\r\n * Retourne la valeur mise en cache si zoom/latitude inchangés.\r\n * @param {L.Map} map\r\n * @param {Object} [options]\r\n * @param {boolean} [options.force=false] - Ignore le cache et recalcule\r\n * @param {Object} [options.logger] - Logger optionnel pour debug\r\n * @returns {number} échelle (ex: 5000000 pour 1:5M)\r\n */\r\nexport function calculateMapScale(map, options = {}) {\r\n    if (!map) return 0;\r\n\r\n    const logger = options.logger;\r\n    const center = map.getCenter?.();\r\n    const zoom = map.getZoom?.();\r\n\r\n    if (!center || typeof zoom !== \"number\") {\r\n        return 0;\r\n    }\r\n\r\n    // Utiliser le cache si possible\r\n    if (!options.force && _scaleCache.zoom === zoom && _scaleCache.lat === center.lat) {\r\n        return _scaleCache.scale || 0;\r\n    }\r\n\r\n    const METERS_PER_PIXEL_AT_ZOOM_0 = 156543.04;\r\n    const metersPerPixel = METERS_PER_PIXEL_AT_ZOOM_0 * Math.cos(center.lat * Math.PI / 180) / Math.pow(2, zoom);\r\n\r\n    const METERS_PER_INCH = 0.0254;\r\n    const DPI = 96;\r\n    const metersPerInch = metersPerPixel * DPI;\r\n\r\n    const scale = Math.round(metersPerInch / METERS_PER_INCH);\r\n\r\n    _scaleCache.zoom = zoom;\r\n    _scaleCache.lat = center.lat;\r\n    _scaleCache.scale = scale;\r\n\r\n    if (logger && typeof logger.debug === \"function\") {\r\n        logger.debug(`[ScaleUtils] Calcul échelle: zoom=${zoom}, lat=${center.lat.toFixed(2)}, échelle=1:${scale.toLocaleString()}`);\r\n    }\r\n\r\n    return scale;\r\n}\r\n\r\n/**\r\n * Vérifie si l'échelle courante est dans l'intervalle [maxScale ; minScale].\r\n * @param {number} currentScale\r\n * @param {number|null|undefined} minScale - échelle la plus large (dézoom)\r\n * @param {number|null|undefined} maxScale - échelle la plus détaillée (zoom)\r\n * @param {Object} [logger]\r\n * @returns {boolean}\r\n */\r\nexport function isScaleInRange(currentScale, minScale, maxScale, logger) {\r\n    const normalizedMin = (typeof minScale === \"number\" && minScale > 0) ? minScale : null;\r\n    const normalizedMax = (typeof maxScale === \"number\" && maxScale > 0) ? maxScale : null;\r\n\r\n    if (normalizedMin !== null && currentScale > normalizedMin) {\r\n        if (logger && typeof logger.debug === \"function\") {\r\n            logger.debug(`[ScaleUtils] ${currentScale} > minScale ${normalizedMin} → invisible (trop dézoomé)`);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    if (normalizedMax !== null && currentScale < normalizedMax) {\r\n        if (logger && typeof logger.debug === \"function\") {\r\n            logger.debug(`[ScaleUtils] ${currentScale} < maxScale ${normalizedMax} → invisible (trop zoomé)`);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    if (logger && typeof logger.debug === \"function\") {\r\n        logger.debug(`[ScaleUtils] ${currentScale} dans [${normalizedMax ?? '∞'} ; ${normalizedMin ?? '∞'}] → visible`);\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nexport function clearScaleCache() {\r\n    _scaleCache.zoom = null;\r\n    _scaleCache.lat = null;\r\n    _scaleCache.scale = null;\r\n}\r\n\r\n\r\n","/**\n * globals.core.js — Bridge UMD/ESM : B1 + B2 — runtime core\n * log, errors, constants, security, utils\n *\n * @see globals.js (orchestrateur)\n * @see docs/architecture/BOOT_SEQUENCE.md\n */\n\n// B1 : log, errors, constants, security\nimport { Log } from './log/index.js';\nimport { Errors } from './errors/index.js';\nimport { CONSTANTS } from './constants/index.js';\nimport { Security } from './security/index.js';\nimport { CSRFToken } from './security/csrf-token.js';\n\n// B2 : utils\nimport { Utils, validateUrl, deepMerge, debounce, throttle } from './utils/general-utils.js';\nimport { createElement } from './utils/dom-helpers.js';\nimport { AnimationHelper, getAnimationHelper } from './utils/animation-helper.js';\nimport { DOMSecurity } from './utils/dom-security.js';\nimport { ErrorLogger } from './utils/error-logger.js';\nimport { EventHelpers } from './utils/event-helpers.js';\nimport { EventListenerManager, globalEventManager, events as globalEvents } from './utils/event-listener-manager.js';\nimport { bus as _eventBus, createEventBus } from './utils/event-bus.js';\nimport { FetchHelper, FetchError } from './utils/fetch-helper.js';\nimport { FileValidator } from './utils/file-validator.js';\nimport { MapHelpers } from './utils/map-helpers.js';\nimport { PerformanceProfiler, getPerformanceProfiler } from './utils/performance-profiler.js';\nimport { LazyLoader, getLazyLoader } from './utils/lazy-loader.js';\nimport { TimerManager } from './utils/timer-manager.js';\nimport { getNestedValue, hasNestedPath, setNestedValue } from './utils/object-utils.js';\nimport { calculateMapScale, isScaleInRange, clearScaleCache } from './utils/scale-utils.js';\n\nconst _g = typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof window !== 'undefined' ? window : {};\n\n_g.GeoLeaf = _g.GeoLeaf || {};\n\n// Version injectable au build — fallback pour le dev sans build\n_g.GeoLeaf._version = typeof __GEOLEAF_VERSION__ !== 'undefined'\n    ? __GEOLEAF_VERSION__\n    : '4.0.0-dev';\n\n// ── B1 assignations ──────────────────────────────────────────────────────────\n_g.GeoLeaf.Log = Log;\n_g.GeoLeaf.Errors = Errors;\n_g.GeoLeaf.CONSTANTS = CONSTANTS;\nif (!_g.GeoLeaf.Security) _g.GeoLeaf.Security = {};\nObject.assign(_g.GeoLeaf.Security, Security);\n_g.GeoLeaf.Security.CSRFToken = CSRFToken;\n\n// ── B2 assignations ──────────────────────────────────────────────────────────\nif (!_g.GeoLeaf.Utils) _g.GeoLeaf.Utils = {};\nObject.assign(_g.GeoLeaf.Utils, Utils);\n_g.GeoLeaf.Utils.AnimationHelper = AnimationHelper;\nObject.defineProperty(_g.GeoLeaf.Utils, 'animationHelper', {\n    get: () => getAnimationHelper(),\n    configurable: true\n});\n_g.GeoLeaf.Utils.createElement = createElement;\n_g.GeoLeaf.Utils.DOMSecurity = DOMSecurity;\n_g.GeoLeaf.DOMSecurity = DOMSecurity;\n_g.GeoLeaf.Utils.ErrorLogger = ErrorLogger;\n_g.GeoLeaf.Utils.EventHelpers = EventHelpers;\n_g.GeoLeaf.Utils.EventListenerManager = EventListenerManager;\n_g.GeoLeaf.Utils.events = globalEvents;\n_g.GeoLeaf.Utils.globalEventManager = globalEventManager;\n_g.GeoLeaf.Bus = _eventBus;\n_g.GeoLeaf.Utils.createEventBus = createEventBus;\n_g.GeoLeaf.Utils.FetchHelper = FetchHelper;\n_g.GeoLeaf.Utils.FetchError = FetchError;\n_g.GeoLeaf.Utils.FileValidator = FileValidator;\n_g.GeoLeaf.FileValidator = FileValidator;\n_g.GeoLeaf.Utils.MapHelpers = MapHelpers;\n_g.GeoLeaf.Utils.PerformanceProfiler = PerformanceProfiler;\nObject.defineProperty(_g.GeoLeaf.Utils, 'performanceProfiler', {\n    get: () => getPerformanceProfiler(),\n    configurable: true\n});\n_g.GeoLeaf.Utils.LazyLoader = LazyLoader;\nObject.defineProperty(_g.GeoLeaf.Utils, 'lazyLoader', {\n    get: () => getLazyLoader(),\n    configurable: true\n});\n_g.GeoLeaf.Utils.TimerManager = TimerManager;\n_g.GeoLeaf.Utils.ObjectUtils = { getNestedValue, hasNestedPath, setNestedValue };\n_g.GeoLeaf.Utils.getNestedValue = getNestedValue;\n_g.GeoLeaf.Utils.hasNestedPath = hasNestedPath;\n_g.GeoLeaf.Utils.setNestedValue = setNestedValue;\n_g.GeoLeaf.Utils.ScaleUtils = { calculateMapScale, isScaleInRange, clearScaleCache };\n// FetchHelper shortcuts\n_g.GeoLeaf.fetch = FetchHelper.fetch.bind(FetchHelper);\n_g.GeoLeaf.get   = FetchHelper.get.bind(FetchHelper);\n_g.GeoLeaf.post  = FetchHelper.post.bind(FetchHelper);\n// MapHelpers shortcuts\n_g.GeoLeaf.ensureMap   = MapHelpers.ensureMap.bind(MapHelpers);\n_g.GeoLeaf.requireMap  = MapHelpers.requireMap.bind(MapHelpers);\n_g.GeoLeaf.hasMap      = MapHelpers.hasMap.bind(MapHelpers);\n// Animation shortcuts\n_g.GeoLeaf.animate  = (...args) => getAnimationHelper().animate(...args);\n_g.GeoLeaf.fadeIn   = (...args) => getAnimationHelper().fadeIn(...args);\n_g.GeoLeaf.fadeOut  = (...args) => getAnimationHelper().fadeOut(...args);\n// PerformanceProfiler shortcuts\n_g.GeoLeaf.mark               = (name) => getPerformanceProfiler().mark(name);\n_g.GeoLeaf.measure            = (name, s, e) => getPerformanceProfiler().measure(name, s, e);\n_g.GeoLeaf.getPerformanceReport = () => getPerformanceProfiler().generateReport();\n_g.GeoLeaf.establishBaseline  = () => getPerformanceProfiler().establishBaseline();\n// LazyLoader shortcuts\n_g.GeoLeaf.loadModule        = (name, path, opts) => getLazyLoader().loadModule(name, path, opts);\n_g.GeoLeaf.enableLazyImages  = (selector) => getLazyLoader().enableImageLazyLoading(selector);\n// EventHelpers shortcuts\n_g.GeoLeaf.dispatchEvent    = EventHelpers.dispatchCustomEvent.bind(EventHelpers);\n_g.GeoLeaf.dispatchMapEvent = EventHelpers.dispatchMapEvent.bind(EventHelpers);\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * Style Resolver - Helper pour résoudre les couleurs depuis les styleRules des couches\r\n * Remplace l'ancien système category.style.json\r\n *\r\n * @module helpers/style-resolver\r\n */\r\n\r\n// ── Runtime reference for GeoLeaf._GeoJSONShared via globalThis (not yet ESM) ──\r\nconst _gl = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\n/**\r\n * Récupère les couleurs d'un POI depuis les styleRules de sa couche\r\n * @param {Object} poi - POI avec properties.categoryId, properties.subCategoryId\r\n * @param {string} layerId - ID de la couche du POI\r\n * @returns {Object|null} - { fillColor, color } ou null si non trouvé\r\n */\r\nexport function getColorsFromLayerStyle(poi, layerId) {\r\n    if (!poi || !layerId) return null;\r\n\r\n    // Récupérer les données de la couche\r\n    const layerData = _gl.GeoLeaf?._GeoJSONShared?.state?.layers?.get(layerId);\r\n    if (!layerData) return null;\r\n\r\n    // Récupérer le currentStyle (objet chargé en mémoire)\r\n    const styleConfig = layerData.currentStyle;\r\n    if (!styleConfig || !styleConfig.styleRules) return null;\r\n\r\n    // Extraire categoryId et subCategoryId\r\n    const categoryId = poi.categoryId || poi.category ||\r\n        (poi.attributes && poi.attributes.categoryId) ||\r\n        (poi.properties && poi.properties.categoryId) ||\r\n        (poi.properties && poi.properties.category);\r\n\r\n    const subCategoryId = poi.subCategoryId || poi.subCategory || poi.sub_category ||\r\n        (poi.attributes && poi.attributes.subCategoryId) ||\r\n        (poi.properties && poi.properties.subCategoryId) ||\r\n        (poi.properties && poi.properties.sub_category);\r\n\r\n    // Chercher dans les styleRules\r\n    // Priorité 1 : subCategoryId\r\n    if (subCategoryId) {\r\n        const rule = styleConfig.styleRules.find(r =>\r\n            r.when &&\r\n            r.when.field === \"properties.subCategoryId\" &&\r\n            r.when.value === subCategoryId\r\n        );\r\n        if (rule && rule.style) {\r\n            return {\r\n                fillColor: rule.style.fillColor,\r\n                color: rule.style.color,\r\n                colorFill: rule.style.fillColor,\r\n                colorStroke: rule.style.color\r\n            };\r\n        }\r\n    }\r\n\r\n    // Priorité 2 : categoryId\r\n    if (categoryId) {\r\n        const rule = styleConfig.styleRules.find(r =>\r\n            r.when &&\r\n            r.when.field === \"properties.categoryId\" &&\r\n            r.when.value === categoryId\r\n        );\r\n        if (rule && rule.style) {\r\n            return {\r\n                fillColor: rule.style.fillColor,\r\n                color: rule.style.color,\r\n                colorFill: rule.style.fillColor,\r\n                colorStroke: rule.style.color\r\n            };\r\n        }\r\n    }\r\n\r\n    // Fallback : defaultStyle\r\n    if (styleConfig.defaultStyle) {\r\n        return {\r\n            fillColor: styleConfig.defaultStyle.fillColor,\r\n            color: styleConfig.defaultStyle.color,\r\n            colorFill: styleConfig.defaultStyle.fillColor,\r\n            colorStroke: styleConfig.defaultStyle.color\r\n        };\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n/**\r\n * Récupère les couleurs en fonction du style actif de la couche\r\n * Cette fonction remplace l'ancien getCategoryStyles()\r\n * @param {Object} poi - POI avec _layerConfig\r\n * @returns {Object} - { colorFill, colorStroke, colorRoute }\r\n */\r\nexport function resolvePoiColors(poi) {\r\n    const colors = {\r\n        colorFill: null,\r\n        colorStroke: null,\r\n        colorRoute: null\r\n    };\r\n\r\n    if (!poi || !poi._layerConfig) return colors;\r\n\r\n    const layerId = poi._layerConfig.id;\r\n    const styleColors = getColorsFromLayerStyle(poi, layerId);\r\n\r\n    if (styleColors) {\r\n        colors.colorFill = styleColors.fillColor || styleColors.colorFill;\r\n        colors.colorStroke = styleColors.color || styleColors.colorStroke;\r\n        colors.colorRoute = styleColors.color || styleColors.colorStroke;\r\n    }\r\n\r\n    return colors;\r\n}\r\n\r\n/**\r\n * Facade objet pour rétrocompatibilité\r\n * @type {Object}\r\n */\r\nexport const StyleResolver = {\r\n    getColorsFromLayerStyle,\r\n    resolvePoiColors\r\n};\r\n\r\n\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * @fileoverview Validations des règles de style (styleRules, conditions, scales)\r\n * Extrait de style-validator.js pour réduire la complexité\r\n * @module validators/style-validator-rules\r\n */\r\n\r\n/**\r\n * Valide les styleRules (règles conditionnelles de style)\r\n * Vérifie la structure when/style de chaque règle et valide les conditions\r\n *\r\n * @param {Array<Object>} rules - Tableau de règles styleRules\r\n * @param {Object} rules[].when - Condition d'application (simple ou composée avec \"all\")\r\n * @param {Object} rules[].style - Style à appliquer si condition vraie\r\n * @param {Object} [rules[].legend] - Info légende optionnelle pour cette règle\r\n * @param {Array<Object>} errors - Tableau d'erreurs à remplir (modifié in-place)\r\n * @param {Array<Object>} warnings - Tableau d'avertissements à remplir (modifié in-place)\r\n * @param {Object} context - Contexte additionnel (profileId, layerId, etc.)\r\n * @returns {void} Modifie errors/warnings directement\r\n * @example\r\n * const rules = [\r\n *   { when: { field: 'population', operator: '>', value: 100000 }, style: { color: '#ff0000' } },\r\n *   { when: { all: [{ field: 'type', operator: '==', value: 'city' }] }, style: { weight: 3 } }\r\n * ];\r\n * const errors = [], warnings = [];\r\n * validateStyleRules(rules, errors, warnings, { layerId: 'cities' });\r\n */\r\nexport function validateStyleRules(rules, errors, warnings, context) {\r\n    if (!Array.isArray(rules)) {\r\n        errors.push({\r\n            field: 'styleRules',\r\n            message: `styleRules doit être un tableau`,\r\n            context: { received: typeof rules, ...context }\r\n        });\r\n        return;\r\n    }\r\n\r\n    rules.forEach((rule, index) => {\r\n        const ruleContext = { ...context, ruleIndex: index };\r\n\r\n        if (typeof rule !== 'object' || rule === null) {\r\n            errors.push({\r\n                field: `styleRules[${index}]`,\r\n                message: `La règle doit être un objet`,\r\n                context: ruleContext\r\n            });\r\n            return;\r\n        }\r\n\r\n        // Validation when\r\n        if (!rule.when) {\r\n            errors.push({\r\n                field: `styleRules[${index}].when`,\r\n                message: `Le champ 'when' est requis`,\r\n                context: ruleContext\r\n            });\r\n        } else {\r\n            validateWhenCondition(rule.when, index, errors, warnings, ruleContext);\r\n        }\r\n\r\n        // Validation style\r\n        if (!rule.style) {\r\n            errors.push({\r\n                field: `styleRules[${index}].style`,\r\n                message: `Le champ 'style' est requis`,\r\n                context: ruleContext\r\n            });\r\n        } else if (typeof rule.style !== 'object' || rule.style === null) {\r\n            errors.push({\r\n                field: `styleRules[${index}].style`,\r\n                message: `Le style doit être un objet`,\r\n                context: { received: typeof rule.style, ...ruleContext }\r\n            });\r\n        }\r\n\r\n        // Validation legend (optionnel)\r\n        if (rule.legend && typeof rule.legend !== 'object') {\r\n            errors.push({\r\n                field: `styleRules[${index}].legend`,\r\n                message: `legend doit être un objet`,\r\n                context: { received: typeof rule.legend, ...ruleContext }\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Valide la condition when d'une règle\r\n * Supporte conditions simples et composées avec opérateur \"all\" (ET logique)\r\n *\r\n * @param {Object} when - Objet de condition when\r\n * @param {string} [when.field] - Champ à tester (mode simple)\r\n * @param {string} [when.operator] - Opérateur de comparaison (mode simple)\r\n * @param {*} [when.value] - Valeur de référence (mode simple)\r\n * @param {Array<Object>} [when.all] - Tableau de conditions (mode composé, ET logique)\r\n * @param {number} ruleIndex - Index de la règle dans styleRules (pour messages d'erreur)\r\n * @param {Array<Object>} errors - Tableau d'erreurs\r\n * @param {Array<Object>} warnings - Tableau d'avertissements\r\n * @param {Object} context - Contexte\r\n * @returns {void}\r\n * @example\r\n * // Condition simple\r\n * const when1 = { field: 'population', operator: '>', value: 50000 };\r\n * // Condition composée (AND)\r\n * const when2 = { all: [\r\n *   { field: 'type', operator: '==', value: 'restaurant' },\r\n *   { field: 'rating', operator: '>=', value: 4 }\r\n * ]};\r\n */\r\nexport function validateWhenCondition(when, ruleIndex, errors, warnings, context) {\r\n    if (typeof when !== 'object' || when === null) {\r\n        errors.push({\r\n            field: `styleRules[${ruleIndex}].when`,\r\n            message: `when doit être un objet`,\r\n            context: { received: typeof when, ...context }\r\n        });\r\n        return;\r\n    }\r\n\r\n    // Support pour conditions composées avec \"all\"\r\n    if (when.all && Array.isArray(when.all)) {\r\n        // Valider chaque condition dans le tableau \"all\"\r\n        when.all.forEach((condition, condIndex) => {\r\n            validateSimpleCondition(condition, ruleIndex, condIndex, errors, context);\r\n        });\r\n        return;\r\n    }\r\n\r\n    // Support pour conditions simples\r\n    validateSimpleCondition(when, ruleIndex, null, errors, context);\r\n}\r\n\r\n/**\r\n * Valide une condition simple (field/operator/value)\r\n * Vérifie la présence des champs requis et la validité de l'opérateur\r\n *\r\n * @param {Object} condition - Condition à valider\r\n * @param {string} condition.field - Nom du champ de feature à tester (ex: 'properties.population')\r\n * @param {string} condition.operator - Opérateur: '==', '!=', '<', '>', '<=', '>=', 'in', 'contains'\r\n * @param {*} condition.value - Valeur de référence (string, number, array selon opérateur)\r\n * @param {number} ruleIndex - Index de la règle dans styleRules\r\n * @param {number|null} condIndex - Index de la condition dans \"all\" (null si condition simple)\r\n * @param {Array<Object>} errors - Tableau d'erreurs\r\n * @param {Object} context - Contexte\r\n * @returns {void}\r\n * @example\r\n * const condition = { field: 'properties.type', operator: 'in', value: ['hotel', 'restaurant'] };\r\n * validateSimpleCondition(condition, 0, null, errors, {});\r\n */\r\nexport function validateSimpleCondition(condition, ruleIndex, condIndex = null, errors, context) {\r\n    // Champs requis\r\n    const required = ['field', 'operator', 'value'];\r\n    for (const field of required) {\r\n        if (!(field in condition)) {\r\n            const prefix = condIndex !== null ? `styleRules[${ruleIndex}].when.all[${condIndex}]` : `styleRules[${ruleIndex}].when`;\r\n            errors.push({\r\n                field: `${prefix}.${field}`,\r\n                message: `Le champ '${field}' est requis dans la condition`,\r\n                context\r\n            });\r\n        }\r\n    }\r\n\r\n    // Validation operator\r\n    const validOperators = ['==', '!=', '<', '>', '<=', '>=', 'in', 'contains'];\r\n    if (condition.operator && !validOperators.includes(condition.operator)) {\r\n        const prefix = condIndex !== null ? `styleRules[${ruleIndex}].when.all[${condIndex}]` : `styleRules[${ruleIndex}].when`;\r\n        errors.push({\r\n            field: `${prefix}.operator`,\r\n            message: `Opérateur invalide`,\r\n            context: { received: condition.operator, allowed: validOperators, ...context }\r\n        });\r\n    }\r\n\r\n    // Validation field\r\n    if (condition.field && typeof condition.field !== 'string') {\r\n        const prefix = condIndex !== null ? `styleRules[${ruleIndex}].when.all[${condIndex}]` : `styleRules[${ruleIndex}].when`;\r\n        errors.push({\r\n            field: `${prefix}.field`,\r\n            message: `field doit être une chaîne de caractères`,\r\n            context: { received: typeof condition.field, ...context }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Valide les échelles (layerScale, labelScale)\r\n * Vérifie la structure des objets d'échelle et la validité des valeurs min/max\r\n *\r\n * @param {Object} styleData - Données du style\r\n * @param {Object} [styleData.layerScale] - Échelle de visibilité de la couche\r\n * @param {number|null} [styleData.layerScale.minScale] - Zoom minimum (ou null = pas de limite)\r\n * @param {number|null} [styleData.layerScale.maxScale] - Zoom maximum (ou null = pas de limite)\r\n * @param {Object} [styleData.labelScale] - Échelle de visibilité des labels\r\n * @param {Array<Object>} errors - Tableau d'erreurs\r\n * @param {Array<Object>} warnings - Tableau d'avertissements\r\n * @param {Object} context - Contexte\r\n * @returns {void}\r\n * @example\r\n * const styleData = {\r\n *   layerScale: { minScale: 10, maxScale: 18 },  // Visible du zoom 10 à 18\r\n *   labelScale: { minScale: 14, maxScale: null }  // Labels visibles à partir du zoom 14\r\n * };\r\n */\r\nexport function validateScales(styleData, errors, warnings, context) {\r\n    ['layerScale', 'labelScale'].forEach(scaleField => {\r\n        const isRequired = scaleField === 'layerScale';\r\n\r\n        if (!styleData[scaleField]) {\r\n            if (isRequired) {\r\n                errors.push({\r\n                    field: scaleField,\r\n                    message: `${scaleField} est requis`,\r\n                    context\r\n                });\r\n            }\r\n            return;\r\n        }\r\n\r\n        const scale = styleData[scaleField];\r\n        if (typeof scale !== 'object' || scale === null) {\r\n            errors.push({\r\n                field: scaleField,\r\n                message: `${scaleField} doit être un objet`,\r\n                context: { received: typeof scale, ...context }\r\n            });\r\n            return;\r\n        }\r\n\r\n        ['minScale', 'maxScale'].forEach(prop => {\r\n            if (!(prop in scale)) {\r\n                if (isRequired) {\r\n                    errors.push({\r\n                        field: `${scaleField}.${prop}`,\r\n                        message: `${prop} est requis dans ${scaleField}`,\r\n                        context\r\n                    });\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (scale[prop] !== null) {\r\n                if (typeof scale[prop] !== 'number' || scale[prop] < 0) {\r\n                    errors.push({\r\n                        field: `${scaleField}.${prop}`,\r\n                        message: `${prop} doit être un nombre >= 0 ou null`,\r\n                        context: { received: scale[prop], ...context }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * Valide la configuration legend\r\n * Vérifie la structure et les types des propriétés de légende\r\n *\r\n * @param {Object} legend - Configuration legend\r\n * @param {number} [legend.order] - Ordre d'affichage dans la légende (doit être entier)\r\n * @param {string} [legend.label] - Label à afficher dans la légende\r\n * @param {string} [legend.description] - Description complémentaire\r\n * @param {Array<Object>} errors - Tableau d'erreurs\r\n * @param {Array<Object>} warnings - Tableau d'avertissements\r\n * @param {Object} context - Contexte\r\n * @returns {void}\r\n * @example\r\n * const legend = { order: 1, label: 'Grandes villes', description: 'Population > 100k' };\r\n */\r\nexport function validateLegend(legend, errors, warnings, context) {\r\n    if (typeof legend !== 'object' || legend === null) {\r\n        errors.push({\r\n            field: 'legend',\r\n            message: `legend doit être un objet`,\r\n            context: { received: typeof legend, ...context }\r\n        });\r\n        return;\r\n    }\r\n\r\n    if ('order' in legend && !Number.isInteger(legend.order)) {\r\n        errors.push({\r\n            field: 'legend.order',\r\n            message: `order doit être un entier`,\r\n            context: { received: legend.order, type: typeof legend.order, ...context }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Facade objet pour rétrocompatibilité\r\n * @type {Object}\r\n */\r\nexport const StyleValidatorRules = {\r\n    validateStyleRules,\r\n    validateWhenCondition,\r\n    validateSimpleCondition,\r\n    validateScales,\r\n    validateLegend\r\n};\r\n\r\n\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * @fileoverview Validateur de fichiers de style GeoLeaf\r\n * Valide les fichiers style.json contre le schéma JSON défini\r\n * et génère des erreurs détaillées avec contexte pour faciliter le debugging\r\n * @module validators/style-validator\r\n */\r\n\r\nimport {\r\n    validateStyleRules as _validateStyleRules,\r\n    validateWhenCondition as _validateWhenCondition,\r\n    validateSimpleCondition as _validateSimpleCondition,\r\n    validateScales as _validateScales,\r\n    validateLegend as _validateLegend\r\n} from './style-validator-rules.js';\r\n\r\n/**\r\n * Classe d'erreur pour les validations de style\r\n */\r\nexport class StyleValidationError extends Error {\r\n    constructor(message, context = {}) {\r\n        super(message);\r\n        this.name = 'StyleValidationError';\r\n        this.context = context;\r\n    }\r\n}\r\n\r\n/**\r\n * Valide un objet de style contre le schéma JSON\r\n * @param {Object} styleData - Données du style à valider\r\n * @param {Object} context - Contexte additionnel (profileId, layerId, styleId)\r\n * @returns {Object} Résultat de validation { valid: boolean, errors: Array, warnings: Array }\r\n */\r\nexport function validateStyle(styleData, context = {}) {\r\n    const errors = [];\r\n    const warnings = [];\r\n\r\n    try {\r\n        // Validation de base: objet requis\r\n        if (!styleData || typeof styleData !== 'object') {\r\n            errors.push({\r\n                field: 'root',\r\n                message: 'Le style doit être un objet JSON valide',\r\n                context: { received: typeof styleData, ...context }\r\n            });\r\n            return { valid: false, errors, warnings };\r\n        }\r\n\r\n        // Validation des champs requis\r\n        validateRequiredFields(styleData, errors, context);\r\n\r\n        // Validation du format de l'ID\r\n        validateId(styleData, errors, context);\r\n\r\n        // Validation du champ label (string ou objet)\r\n        validateLabel(styleData, errors, warnings, context);\r\n\r\n        // Validation du style de base\r\n        validateBaseStyle(styleData, errors, warnings, context);\r\n\r\n        // Validation des styleRules si présentes\r\n        if (styleData.styleRules) {\r\n            _validateStyleRules(styleData.styleRules, errors, warnings, context);\r\n        }\r\n\r\n        // Validation des échelles\r\n        _validateScales(styleData, errors, warnings, context);\r\n\r\n        // Validation de la légende\r\n        if (styleData.legend) {\r\n            _validateLegend(styleData.legend, errors, warnings, context);\r\n        }\r\n\r\n    } catch (error) {\r\n        errors.push({\r\n            field: 'validation',\r\n            message: `Erreur inattendue lors de la validation: ${error.message}`,\r\n            stack: error.stack,\r\n            context\r\n        });\r\n    }\r\n\r\n    return {\r\n        valid: errors.length === 0,\r\n        errors,\r\n        warnings\r\n    };\r\n}\r\n\r\n/**\r\n * Valide les champs requis\r\n */\r\nfunction validateRequiredFields(styleData, errors, context) {\r\n    // Vérifier l'ID (obligatoire)\r\n    if (!('id' in styleData) || styleData.id === undefined || styleData.id === null) {\r\n        errors.push({\r\n            field: 'id',\r\n            message: `Le champ requis 'id' est manquant`,\r\n            context: { availableFields: Object.keys(styleData), ...context }\r\n        });\r\n    }\r\n\r\n    // Vérifier que 'style' OU 'defaultStyle' est présent (au moins un des deux)\r\n    const hasStyle = ('style' in styleData) && styleData.style !== undefined && styleData.style !== null;\r\n    const hasDefaultStyle = ('defaultStyle' in styleData) && styleData.defaultStyle !== undefined && styleData.defaultStyle !== null;\r\n\r\n    if (!hasStyle && !hasDefaultStyle) {\r\n        errors.push({\r\n            field: 'style',\r\n            message: `Le champ requis 'style' ou 'defaultStyle' est manquant`,\r\n            context: { availableFields: Object.keys(styleData), ...context }\r\n        });\r\n    }\r\n\r\n    if (!('layerScale' in styleData)) {\r\n        errors.push({\r\n            field: 'layerScale',\r\n            message: `Le champ requis 'layerScale' est manquant`,\r\n            context: { availableFields: Object.keys(styleData), ...context }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Valide le format de l'ID\r\n */\r\nfunction validateId(styleData, errors, context) {\r\n    if (!styleData.id) return;\r\n\r\n    // Pattern acceptant lettres (y compris accentuées), chiffres, tirets et underscores\r\n    // \\p{L} = toutes les lettres Unicode (y compris é, à, ñ, etc.)\r\n    const idPattern = /^[\\p{L}0-9_-]+$/u;\r\n    if (typeof styleData.id !== 'string') {\r\n        errors.push({\r\n            field: 'id',\r\n            message: `L'ID doit être une chaîne de caractères`,\r\n            context: { received: typeof styleData.id, value: styleData.id, ...context }\r\n        });\r\n    } else if (!idPattern.test(styleData.id)) {\r\n        errors.push({\r\n            field: 'id',\r\n            message: `L'ID doit contenir uniquement des lettres, chiffres, tirets et underscores`,\r\n            context: { received: styleData.id, pattern: idPattern.toString(), ...context }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Valide le champ label (peut être string ou objet de config label)\r\n */\r\nfunction validateLabel(styleData, errors, warnings, context) {\r\n    if (!('label' in styleData)) return;\r\n\r\n    const label = styleData.label;\r\n\r\n    // String: nom d'affichage\r\n    if (typeof label === 'string') {\r\n        return;\r\n    }\r\n\r\n    // Objet: configuration de labels intégrés\r\n    if (typeof label === 'object' && label !== null) {\r\n        // enabled est requis\r\n        if (!('enabled' in label)) {\r\n            errors.push({\r\n                field: 'label.enabled',\r\n                message: `Le champ 'enabled' est requis dans la configuration de labels`,\r\n                context: { labelConfig: label, ...context }\r\n            });\r\n        } else if (typeof label.enabled !== 'boolean') {\r\n            errors.push({\r\n                field: 'label.enabled',\r\n                message: `Le champ 'enabled' doit être un booléen`,\r\n                context: { received: typeof label.enabled, value: label.enabled, ...context }\r\n            });\r\n        }\r\n\r\n        // Si enabled, field devrait être présent\r\n        if (label.enabled && !label.field) {\r\n            warnings.push({\r\n                field: 'label.field',\r\n                message: `Les labels sont activés mais aucun champ n'est spécifié`,\r\n                context: { labelConfig: label, ...context }\r\n            });\r\n        }\r\n\r\n        // Validation font\r\n        if (label.font) {\r\n            validateFont(label.font, errors, warnings, context);\r\n        }\r\n\r\n        // Validation des couleurs\r\n        if (label.color && !isValidHexColor(label.color)) {\r\n            errors.push({\r\n                field: 'label.color',\r\n                message: `Couleur invalide, format attendu: #RRGGBB`,\r\n                context: { received: label.color, ...context }\r\n            });\r\n        }\r\n\r\n        // Validation opacity\r\n        if ('opacity' in label && (typeof label.opacity !== 'number' || label.opacity < 0 || label.opacity > 1)) {\r\n            errors.push({\r\n                field: 'label.opacity',\r\n                message: `L'opacité doit être un nombre entre 0 et 1`,\r\n                context: { received: label.opacity, ...context }\r\n            });\r\n        }\r\n\r\n        // Validation buffer\r\n        if (label.buffer) {\r\n            validateLabelComponent(label.buffer, 'label.buffer', errors, warnings, context);\r\n        }\r\n\r\n        // Validation background\r\n        if (label.background) {\r\n            validateLabelComponent(label.background, 'label.background', errors, warnings, context);\r\n        }\r\n\r\n        // Validation offset\r\n        if (label.offset && typeof label.offset.distancePx !== 'undefined') {\r\n            if (typeof label.offset.distancePx !== 'number') {\r\n                errors.push({\r\n                    field: 'label.offset.distancePx',\r\n                    message: `distancePx doit être un nombre`,\r\n                    context: { received: typeof label.offset.distancePx, ...context }\r\n                });\r\n            }\r\n        }\r\n\r\n        return;\r\n    }\r\n\r\n    // Type invalide\r\n    errors.push({\r\n        field: 'label',\r\n        message: `Le champ 'label' doit être une chaîne de caractères ou un objet de configuration`,\r\n        context: { received: typeof label, value: label, ...context }\r\n    });\r\n}\r\n\r\n/**\r\n * Valide la configuration font\r\n */\r\nfunction validateFont(font, errors, warnings, context) {\r\n    if (typeof font !== 'object' || font === null) {\r\n        errors.push({\r\n            field: 'label.font',\r\n            message: `La configuration font doit être un objet`,\r\n            context: { received: typeof font, ...context }\r\n        });\r\n        return;\r\n    }\r\n\r\n    if (font.sizePt !== undefined) {\r\n        if (typeof font.sizePt !== 'number' || font.sizePt < 1) {\r\n            errors.push({\r\n                field: 'label.font.sizePt',\r\n                message: `sizePt doit être un nombre >= 1`,\r\n                context: { received: font.sizePt, ...context }\r\n            });\r\n        }\r\n    }\r\n\r\n    if (font.weight !== undefined) {\r\n        if (!Number.isInteger(font.weight) || font.weight < 0 || font.weight > 100) {\r\n            errors.push({\r\n                field: 'label.font.weight',\r\n                message: `weight doit être un entier entre 0 et 100`,\r\n                context: { received: font.weight, ...context }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Valide un composant de label (buffer, background)\r\n */\r\nfunction validateLabelComponent(component, fieldPath, errors, warnings, context) {\r\n    if (typeof component !== 'object' || component === null) {\r\n        errors.push({\r\n            field: fieldPath,\r\n            message: `${fieldPath} doit être un objet`,\r\n            context: { received: typeof component, ...context }\r\n        });\r\n        return;\r\n    }\r\n\r\n    if (component.color && !isValidHexColor(component.color)) {\r\n        errors.push({\r\n            field: `${fieldPath}.color`,\r\n            message: `Couleur invalide, format attendu: #RRGGBB`,\r\n            context: { received: component.color, ...context }\r\n        });\r\n    }\r\n\r\n    if ('opacity' in component && (typeof component.opacity !== 'number' || component.opacity < 0 || component.opacity > 1)) {\r\n        errors.push({\r\n            field: `${fieldPath}.opacity`,\r\n            message: `L'opacité doit être un nombre entre 0 et 1`,\r\n            context: { received: component.opacity, ...context }\r\n        });\r\n    }\r\n\r\n    if ('sizePx' in component && (typeof component.sizePx !== 'number' || component.sizePx < 0)) {\r\n        errors.push({\r\n            field: `${fieldPath}.sizePx`,\r\n            message: `sizePx doit être un nombre >= 0`,\r\n            context: { received: component.sizePx, ...context }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Valide le style de base\r\n */\r\nfunction validateBaseStyle(styleData, errors, warnings, context) {\r\n    const style = styleData.style || styleData.defaultStyle;\r\n\r\n    if (!style) return;\r\n\r\n    if (typeof style !== 'object' || style === null) {\r\n        errors.push({\r\n            field: 'style',\r\n            message: `Le style doit être un objet`,\r\n            context: { received: typeof style, ...context }\r\n        });\r\n        return;\r\n    }\r\n\r\n    // Validation des couleurs\r\n    ['fillColor', 'color'].forEach(colorField => {\r\n        if (style[colorField] && !isValidHexColor(style[colorField])) {\r\n            errors.push({\r\n                field: `style.${colorField}`,\r\n                message: `Couleur invalide, format attendu: #RRGGBB`,\r\n                context: { received: style[colorField], ...context }\r\n            });\r\n        }\r\n    });\r\n\r\n    // Validation des opacités\r\n    ['fillOpacity', 'opacity'].forEach(opacityField => {\r\n        if (opacityField in style) {\r\n            if (typeof style[opacityField] !== 'number' || style[opacityField] < 0 || style[opacityField] > 1) {\r\n                errors.push({\r\n                    field: `style.${opacityField}`,\r\n                    message: `${opacityField} doit être un nombre entre 0 et 1`,\r\n                    context: { received: style[opacityField], ...context }\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    // Validation des tailles\r\n    ['weight', 'sizePx', 'radius'].forEach(sizeField => {\r\n        if (sizeField in style) {\r\n            if (typeof style[sizeField] !== 'number' || style[sizeField] < 0) {\r\n                errors.push({\r\n                    field: `style.${sizeField}`,\r\n                    message: `${sizeField} doit être un nombre >= 0`,\r\n                    context: { received: style[sizeField], ...context }\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    // Validation shape (points)\r\n    if (style.shape && !['circle', 'square'].includes(style.shape)) {\r\n        errors.push({\r\n            field: 'style.shape',\r\n            message: `shape doit être 'circle' ou 'square'`,\r\n            context: { received: style.shape, allowed: ['circle', 'square'], ...context }\r\n        });\r\n    }\r\n\r\n    // Validation stroke (lignes)\r\n    if (style.stroke) {\r\n        validateStroke(style.stroke, errors, warnings, context);\r\n    }\r\n\r\n    // Validation casing (lignes)\r\n    if (style.casing) {\r\n        validateCasing(style.casing, errors, warnings, context);\r\n    }\r\n\r\n    // Validation fillPattern (polygones)\r\n    if (style.fillPattern) {\r\n        validateFillPattern(style.fillPattern, errors, warnings, context);\r\n    }\r\n}\r\n\r\n/**\r\n * Valide le stroke (lignes)\r\n */\r\nfunction validateStroke(stroke, errors, warnings, context) {\r\n    if (typeof stroke !== 'object' || stroke === null) {\r\n        errors.push({\r\n            field: 'style.stroke',\r\n            message: `stroke doit être un objet`,\r\n            context: { received: typeof stroke, ...context }\r\n        });\r\n        return;\r\n    }\r\n\r\n    if (stroke.color && !isValidHexColor(stroke.color)) {\r\n        errors.push({\r\n            field: 'style.stroke.color',\r\n            message: `Couleur invalide, format attendu: #RRGGBB`,\r\n            context: { received: stroke.color, ...context }\r\n        });\r\n    }\r\n\r\n    if ('opacity' in stroke && (typeof stroke.opacity !== 'number' || stroke.opacity < 0 || stroke.opacity > 1)) {\r\n        errors.push({\r\n            field: 'style.stroke.opacity',\r\n            message: `opacity doit être un nombre entre 0 et 1`,\r\n            context: { received: stroke.opacity, ...context }\r\n        });\r\n    }\r\n\r\n    if ('weight' in stroke && (typeof stroke.weight !== 'number' || stroke.weight < 0)) {\r\n        errors.push({\r\n            field: 'style.stroke.weight',\r\n            message: `weight doit être un nombre >= 0`,\r\n            context: { received: stroke.weight, ...context }\r\n        });\r\n    }\r\n\r\n    if (stroke.dashArray !== null && stroke.dashArray !== undefined && typeof stroke.dashArray !== 'string') {\r\n        errors.push({\r\n            field: 'style.stroke.dashArray',\r\n            message: `dashArray doit être une chaîne de caractères ou null`,\r\n            context: { received: typeof stroke.dashArray, value: stroke.dashArray, ...context }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Valide le casing (lignes)\r\n */\r\nfunction validateCasing(casing, errors, warnings, context) {\r\n    if (typeof casing !== 'object' || casing === null) {\r\n        errors.push({\r\n            field: 'style.casing',\r\n            message: `casing doit être un objet`,\r\n            context: { received: typeof casing, ...context }\r\n        });\r\n        return;\r\n    }\r\n\r\n    if ('enabled' in casing && typeof casing.enabled !== 'boolean') {\r\n        errors.push({\r\n            field: 'style.casing.enabled',\r\n            message: `enabled doit être un booléen`,\r\n            context: { received: typeof casing.enabled, ...context }\r\n        });\r\n    }\r\n\r\n    if (casing.color && !isValidHexColor(casing.color)) {\r\n        errors.push({\r\n            field: 'style.casing.color',\r\n            message: `Couleur invalide, format attendu: #RRGGBB`,\r\n            context: { received: casing.color, ...context }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Valide le fillPattern (polygones)\r\n */\r\nfunction validateFillPattern(pattern, errors, warnings, context) {\r\n    if (typeof pattern !== 'object' || pattern === null) {\r\n        errors.push({\r\n            field: 'style.fillPattern',\r\n            message: `fillPattern doit être un objet`,\r\n            context: { received: typeof pattern, ...context }\r\n        });\r\n        return;\r\n    }\r\n\r\n    if ('enabled' in pattern && typeof pattern.enabled !== 'boolean') {\r\n        errors.push({\r\n            field: 'style.fillPattern.enabled',\r\n            message: `enabled doit être un booléen`,\r\n            context: { received: typeof pattern.enabled, ...context }\r\n        });\r\n    }\r\n\r\n    if (pattern.type && !['diagonal', 'horizontal', 'vertical', 'cross', 'x'].includes(pattern.type)) {\r\n        errors.push({\r\n            field: 'style.fillPattern.type',\r\n            message: `type doit être parmi: diagonal, horizontal, vertical, cross, x`,\r\n            context: { received: pattern.type, allowed: ['diagonal', 'horizontal', 'vertical', 'cross', 'x'], ...context }\r\n        });\r\n    }\r\n\r\n    if (pattern.color && !isValidHexColor(pattern.color)) {\r\n        errors.push({\r\n            field: 'style.fillPattern.color',\r\n            message: `Couleur invalide, format attendu: #RRGGBB`,\r\n            context: { received: pattern.color, ...context }\r\n        });\r\n    }\r\n\r\n    ['weight', 'density'].forEach(field => {\r\n        if (field in pattern && (typeof pattern[field] !== 'number' || pattern[field] < 0)) {\r\n            errors.push({\r\n                field: `style.fillPattern.${field}`,\r\n                message: `${field} doit être un nombre >= 0`,\r\n                context: { received: pattern[field], ...context }\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Vérifie si une couleur est au format hex valide (#RRGGBB)\r\n */\r\nfunction isValidHexColor(color) {\r\n    return typeof color === 'string' && /^#[0-9A-Fa-f]{6}$/.test(color);\r\n}\r\n\r\n/**\r\n * Formate un résultat de validation en message d'erreur lisible\r\n * @param {Object} validationResult - Résultat de validateStyle()\r\n * @param {string} styleFilePath - Chemin du fichier de style (optionnel)\r\n * @returns {string} Message formaté\r\n */\r\nexport function formatValidationErrors(validationResult, styleFilePath = '') {\r\n    if (validationResult.valid) {\r\n        return null;\r\n    }\r\n\r\n    const lines = [];\r\n    lines.push('═══════════════════════════════════════════════════════');\r\n    lines.push('❌ ERREUR DE VALIDATION DE STYLE GEOLEAF');\r\n    lines.push('═══════════════════════════════════════════════════════');\r\n\r\n    if (styleFilePath) {\r\n        lines.push(`Fichier: ${styleFilePath}`);\r\n        lines.push('');\r\n    }\r\n\r\n    if (validationResult.errors.length > 0) {\r\n        lines.push(`❌ ${validationResult.errors.length} erreur(s) détectée(s):`);\r\n        lines.push('');\r\n\r\n        validationResult.errors.forEach((error, index) => {\r\n            lines.push(`  ${index + 1}. Champ: ${error.field}`);\r\n            lines.push(`     Message: ${error.message}`);\r\n            if (error.context) {\r\n                lines.push(`     Contexte: ${JSON.stringify(error.context, null, 2).split('\\n').join('\\n     ')}`);\r\n            }\r\n            if (error.stack) {\r\n                lines.push(`     Stack: ${error.stack.split('\\n').slice(0, 3).join('\\n     ')}`);\r\n            }\r\n            lines.push('');\r\n        });\r\n    }\r\n\r\n    if (validationResult.warnings.length > 0) {\r\n        lines.push(`⚠️  ${validationResult.warnings.length} avertissement(s):`);\r\n        lines.push('');\r\n\r\n        validationResult.warnings.forEach((warning, index) => {\r\n            lines.push(`  ${index + 1}. Champ: ${warning.field}`);\r\n            lines.push(`     Message: ${warning.message}`);\r\n            if (warning.context) {\r\n                lines.push(`     Contexte: ${JSON.stringify(warning.context, null, 2).split('\\n').join('\\n     ')}`);\r\n            }\r\n            lines.push('');\r\n        });\r\n    }\r\n\r\n    lines.push('═══════════════════════════════════════════════════════');\r\n    lines.push('💡 Conseil: Vérifiez la documentation dans docs/STYLE_FORMAT_SPEC.md');\r\n    lines.push('═══════════════════════════════════════════════════════');\r\n\r\n    return lines.join('\\n');\r\n}\r\n\r\n/**\r\n * Module Style Validator\r\n * Expose les fonctions publiques\r\n */\r\nexport const StyleValidator = {\r\n    validateStyle,\r\n    formatValidationErrors,\r\n    StyleValidationError\r\n};\r\n\r\n\r\n","/**\r\n * @fileoverview Abstract Renderer Base Class\r\n * @description Base class providing common functionality for all renderers\r\n * @version 1.0.0\r\n * @phase Phase 5 - Code Optimization\r\n *\r\n * @author GeoLeaf Team\r\n * @since 3.1.0\r\n *\r\n * @benefits\r\n * - Eliminates ~20% code duplication across renderers\r\n * - Unified dependency resolution pattern\r\n * - Consistent error handling and logging\r\n * - Easier testing and maintenance\r\n */\r\n\"use strict\";\r\n\r\n// Lazy access to GeoLeaf namespace (globalThis fallback for non-ESM consumers)\r\nconst _gl = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\n/**\r\n * @class AbstractRenderer\r\n * @description Base class for all renderer implementations\r\n *\r\n * Common Patterns Extracted:\r\n * - Dependency resolution (Log, Security, Config, Utils)\r\n * - DOM element creation helpers\r\n * - Event handler registration/cleanup\r\n * - State management\r\n * - Error handling and logging\r\n *\r\n * @example\r\n * class MyCustomRenderer extends AbstractRenderer {\r\n *     constructor(options) {\r\n *         super(options);\r\n *         this.init();\r\n *     }\r\n *\r\n *     render(data) {\r\n *         this.log('info', 'Rendering data', data);\r\n *         const element = this.createElement('div', 'my-class');\r\n *         // ... custom rendering logic\r\n *         return element;\r\n *     }\r\n * }\r\n */\r\nclass AbstractRenderer {\r\n    /**\r\n     * @constructor\r\n     * @param {Object} [options={}] - Renderer configuration options\r\n     * @param {string} [options.name='Renderer'] - Renderer name for logging\r\n     * @param {Object} [options.config={}] - Custom configuration\r\n     * @param {boolean} [options.debug=false] - Enable debug logging\r\n     */\r\n    constructor(options = {}) {\r\n        /**\r\n         * @private\r\n         * @type {string}\r\n         */\r\n        this._name = options.name || 'Renderer';\r\n\r\n        /**\r\n         * @private\r\n         * @type {Object}\r\n         */\r\n        this._config = options.config || {};\r\n\r\n        /**\r\n         * @private\r\n         * @type {boolean}\r\n         */\r\n        this._debug = options.debug || false;\r\n\r\n        /**\r\n         * @private\r\n         * @type {Array<Function>}\r\n         */\r\n        this._eventListeners = [];\r\n\r\n        /**\r\n         * @private\r\n         * @type {boolean}\r\n         */\r\n        this._initialized = false;\r\n\r\n        /**\r\n         * @private\r\n         * @type {WeakMap<HTMLElement, Object>}\r\n         */\r\n        this._stateMap = new WeakMap();\r\n    }\r\n\r\n    // ========================================\r\n    //   DEPENDENCY RESOLUTION\r\n    // ========================================\r\n\r\n    /**\r\n     * Get Log utility with fallback\r\n     * @protected\r\n     * @returns {Object} Log object\r\n     */\r\n    getLog() {\r\n        return _gl.GeoLeaf && _gl.GeoLeaf.Log ? _gl.GeoLeaf.Log : console;\r\n    }\r\n\r\n    /**\r\n     * Get Security utilities with fallback\r\n     * @protected\r\n     * @returns {Object} Security object with escapeHtml function\r\n     */\r\n    getSecurity() {\r\n        if (_gl.GeoLeaf && _gl.GeoLeaf.Security && typeof _gl.GeoLeaf.Security.escapeHtml === 'function') {\r\n            return _gl.GeoLeaf.Security;\r\n        }\r\n        // Fallback security utilities\r\n        return {\r\n            escapeHtml: (str) => {\r\n                if (str == null) return '';\r\n                const div = document.createElement('div');\r\n                div.textContent = String(str);\r\n                return div.innerHTML;\r\n            },\r\n            setSafeHTML: (element, html) => {\r\n                if (!element) return;\r\n                if (_gl.GeoLeaf && _gl.GeoLeaf.DOMSecurity && typeof _gl.GeoLeaf.DOMSecurity.setSafeHTML === 'function') {\r\n                    _gl.GeoLeaf.DOMSecurity.setSafeHTML(element, html);\r\n                } else {\r\n                    element.textContent = html; // Safe fallback\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Get Utils with field resolution\r\n     * @protected\r\n     * @returns {Object} Utils object with resolveField function\r\n     */\r\n    getUtils() {\r\n        if (_gl.GeoLeaf && _gl.GeoLeaf.Utils && typeof _gl.GeoLeaf.Utils.resolveField === 'function') {\r\n            return _gl.GeoLeaf.Utils;\r\n        }\r\n        // Fallback resolveField implementation\r\n        return {\r\n            resolveField: (obj, ...paths) => {\r\n                if (!obj) return null;\r\n                for (const path of paths) {\r\n                    if (!path) continue;\r\n                    const parts = String(path).split('.');\r\n                    let current = obj;\r\n                    let found = true;\r\n                    for (const part of parts) {\r\n                        if (current && typeof current === 'object' && part in current) {\r\n                            current = current[part];\r\n                        } else {\r\n                            found = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (found && current !== undefined && current !== null) {\r\n                        return current;\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Get active profile configuration\r\n     * @protected\r\n     * @returns {Object|null} Active profile or null\r\n     */\r\n    getActiveProfile() {\r\n        if (_gl.GeoLeaf && _gl.GeoLeaf.Config && typeof _gl.GeoLeaf.Config.getActiveProfile === 'function') {\r\n            return _gl.GeoLeaf.Config.getActiveProfile() || null;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // ========================================\r\n    //   LOGGING UTILITIES\r\n    // ========================================\r\n\r\n    /**\r\n     * Log message with level\r\n     * @protected\r\n     * @param {string} level - Log level (debug, info, warn, error)\r\n     * @param {string} message - Log message\r\n     * @param {...*} args - Additional arguments\r\n     */\r\n    log(level, message, ...args) {\r\n        if (level === 'debug' && !this._debug) return;\r\n\r\n        const log = this.getLog();\r\n        const prefix = `[${this._name}]`;\r\n\r\n        switch (level) {\r\n            case 'debug':\r\n            case 'info':\r\n                log.info(prefix, message, ...args);\r\n                break;\r\n            case 'warn':\r\n                log.warn(prefix, message, ...args);\r\n                break;\r\n            case 'error':\r\n                log.error(prefix, message, ...args);\r\n                break;\r\n            default:\r\n                log.info(prefix, message, ...args);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Log debug message (if debug enabled)\r\n     * @protected\r\n     * @param {string} message - Debug message\r\n     * @param {...*} args - Additional arguments\r\n     */\r\n    debug(message, ...args) {\r\n        this.log('debug', message, ...args);\r\n    }\r\n\r\n    /**\r\n     * Log info message\r\n     * @protected\r\n     * @param {string} message - Info message\r\n     * @param {...*} args - Additional arguments\r\n     */\r\n    info(message, ...args) {\r\n        this.log('info', message, ...args);\r\n    }\r\n\r\n    /**\r\n     * Log warning message\r\n     * @protected\r\n     * @param {string} message - Warning message\r\n     * @param {...*} args - Additional arguments\r\n     */\r\n    warn(message, ...args) {\r\n        this.log('warn', message, ...args);\r\n    }\r\n\r\n    /**\r\n     * Log error message\r\n     * @protected\r\n     * @param {string} message - Error message\r\n     * @param {...*} args - Additional arguments\r\n     */\r\n    error(message, ...args) {\r\n        this.log('error', message, ...args);\r\n    }\r\n\r\n    // ========================================\r\n    //   DOM BUILDERS\r\n    // ========================================\r\n\r\n    /**\r\n     * Create DOM element with class and attributes\r\n     * @protected\r\n     * @param {string} tagName - HTML tag name\r\n     * @param {string|Array<string>} [className] - CSS class name(s)\r\n     * @param {Object} [attributes={}] - HTML attributes\r\n     * @returns {HTMLElement} Created element\r\n     *\r\n     * @example\r\n     * const div = this.createElement('div', 'my-class', { id: 'my-id', 'data-value': '123' });\r\n     * const button = this.createElement('button', ['btn', 'btn-primary'], { type: 'button' });\r\n     */\r\n    createElement(tagName, className, attributes = {}) {\r\n        const element = document.createElement(tagName);\r\n\r\n        if (className) {\r\n            if (Array.isArray(className)) {\r\n                element.classList.add(...className);\r\n            } else {\r\n                element.className = className;\r\n            }\r\n        }\r\n\r\n        Object.keys(attributes).forEach(key => {\r\n            element.setAttribute(key, attributes[key]);\r\n        });\r\n\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Create text node with safe content\r\n     * @protected\r\n     * @param {string} text - Text content\r\n     * @returns {Text} Text node\r\n     */\r\n    createTextNode(text) {\r\n        return document.createTextNode(text || '');\r\n    }\r\n\r\n    /**\r\n     * Create element with safe text content\r\n     * @protected\r\n     * @param {string} tagName - HTML tag name\r\n     * @param {string} text - Text content\r\n     * @param {string} [className] - CSS class name\r\n     * @returns {HTMLElement} Element with text\r\n     */\r\n    createTextElement(tagName, text, className) {\r\n        const element = this.createElement(tagName, className);\r\n        element.textContent = text || '';\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Create element with safe HTML content\r\n     * @protected\r\n     * @param {string} tagName - HTML tag name\r\n     * @param {string} html - HTML content (will be sanitized)\r\n     * @param {string} [className] - CSS class name\r\n     * @returns {HTMLElement} Element with HTML\r\n     */\r\n    createHTMLElement(tagName, html, className) {\r\n        const element = this.createElement(tagName, className);\r\n        const security = this.getSecurity();\r\n        security.setSafeHTML(element, html);\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Append multiple children to parent element\r\n     * @protected\r\n     * @param {HTMLElement} parent - Parent element\r\n     * @param {...HTMLElement} children - Child elements to append\r\n     * @returns {HTMLElement} Parent element (for chaining)\r\n     */\r\n    appendChildren(parent, ...children) {\r\n        children.forEach(child => {\r\n            if (child) parent.appendChild(child);\r\n        });\r\n        return parent;\r\n    }\r\n\r\n    // ========================================\r\n    //   EVENT HANDLING\r\n    // ========================================\r\n\r\n    /**\r\n     * Register event listener with automatic cleanup\r\n     * @protected\r\n     * @param {HTMLElement} element - Target element\r\n     * @param {string} event - Event name\r\n     * @param {Function} handler - Event handler\r\n     * @param {Object} [options] - Event listener options\r\n     * @returns {Function} Cleanup function\r\n     */\r\n    addEventListener(element, event, handler, options) {\r\n        if (!element || !event || !handler) {\r\n            this.warn('addEventListener: invalid parameters');\r\n            return () => {};\r\n        }\r\n\r\n        const boundHandler = handler.bind(this);\r\n        element.addEventListener(event, boundHandler, options);\r\n\r\n        // Store for cleanup\r\n        const cleanup = () => {\r\n            element.removeEventListener(event, boundHandler, options);\r\n        };\r\n        this._eventListeners.push(cleanup);\r\n\r\n        return cleanup;\r\n    }\r\n\r\n    /**\r\n     * Remove all registered event listeners\r\n     * @protected\r\n     */\r\n    removeAllEventListeners() {\r\n        this._eventListeners.forEach(cleanup => cleanup());\r\n        this._eventListeners = [];\r\n    }\r\n\r\n    // ========================================\r\n    //   STATE MANAGEMENT\r\n    // ========================================\r\n\r\n    /**\r\n     * Set element state\r\n     * @protected\r\n     * @param {HTMLElement} element - Element to store state for\r\n     * @param {Object} state - State data\r\n     */\r\n    setState(element, state) {\r\n        if (element) {\r\n            this._stateMap.set(element, { ...state });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get element state\r\n     * @protected\r\n     * @param {HTMLElement} element - Element to get state from\r\n     * @returns {Object|null} Element state or null\r\n     */\r\n    getState(element) {\r\n        return element ? this._stateMap.get(element) || null : null;\r\n    }\r\n\r\n    /**\r\n     * Update element state (merge with existing)\r\n     * @protected\r\n     * @param {HTMLElement} element - Element to update state for\r\n     * @param {Object} updates - State updates to merge\r\n     */\r\n    updateState(element, updates) {\r\n        if (element) {\r\n            const currentState = this.getState(element) || {};\r\n            this.setState(element, { ...currentState, ...updates });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Delete element state\r\n     * @protected\r\n     * @param {HTMLElement} element - Element to delete state for\r\n     */\r\n    deleteState(element) {\r\n        if (element) {\r\n            this._stateMap.delete(element);\r\n        }\r\n    }\r\n\r\n    // ========================================\r\n    //   LIFECYCLE METHODS\r\n    // ========================================\r\n\r\n    /**\r\n     * Initialize renderer (called in constructor or manually)\r\n     * Override in subclasses for custom initialization\r\n     * @protected\r\n     */\r\n    init() {\r\n        if (this._initialized) {\r\n            this.warn('Renderer already initialized');\r\n            return;\r\n        }\r\n\r\n        this.debug('Initializing renderer');\r\n        this._initialized = true;\r\n    }\r\n\r\n    /**\r\n     * Check if renderer is initialized\r\n     * @public\r\n     * @returns {boolean} true if initialized\r\n     */\r\n    isInitialized() {\r\n        return this._initialized;\r\n    }\r\n\r\n    /**\r\n     * Destroy renderer and cleanup resources\r\n     * @public\r\n     */\r\n    destroy() {\r\n        this.debug('Destroying renderer');\r\n        this.removeAllEventListeners();\r\n        this._stateMap = new WeakMap();\r\n        this._initialized = false;\r\n    }\r\n\r\n    // ========================================\r\n    //   ABSTRACT METHODS (to be overridden)\r\n    // ========================================\r\n\r\n    /**\r\n     * Render content (must be implemented by subclasses)\r\n     * @abstract\r\n     * @param {*} data - Data to render\r\n     * @param {Object} [options] - Render options\r\n     * @returns {HTMLElement|string|null} Rendered content\r\n     * @throws {Error} If not implemented\r\n     */\r\n    render(data, options) {\r\n        throw new Error(`${this._name}.render() must be implemented by subclass`);\r\n    }\r\n}\r\n\r\nexport { AbstractRenderer };\r\n","/**\r\n * @fileoverview Example Renderer Implementation using AbstractRenderer\r\n * @description Demonstrates how to extend AbstractRenderer base class\r\n * @version 1.0.0\r\n * @phase Phase 5 - Code Optimization\r\n *\r\n * @example Usage\r\n * ```javascript\r\n * const renderer = new GeoLeaf._Renderers.SimpleTextRenderer({\r\n *     name: 'SimpleTextRenderer',\r\n *     debug: true\r\n * });\r\n *\r\n * const element = renderer.render({\r\n *     title: 'Hello World',\r\n *     description: 'This is a test'\r\n * });\r\n *\r\n * document.body.appendChild(element);\r\n * ```\r\n */\r\n\"use strict\";\r\n\r\nimport { AbstractRenderer } from './abstract-renderer.js';\r\n\r\n/**\r\n * @class SimpleTextRenderer\r\n * @extends AbstractRenderer\r\n * @description Simple renderer for text-based POI information\r\n *\r\n * Shows how to:\r\n * - Extend AbstractRenderer\r\n * - Use inherited utilities (createElement, log, etc.)\r\n * - Implement render() method\r\n * - Leverage dependency resolution\r\n * - Use state management\r\n * - Handle events with automatic cleanup\r\n */\r\nclass SimpleTextRenderer extends AbstractRenderer {\r\n    /**\r\n     * @constructor\r\n     * @param {Object} [options={}] - Renderer options\r\n     * @param {boolean} [options.showIcon=true] - Show icon in title\r\n     * @param {string} [options.theme='light'] - Theme (light/dark)\r\n     */\r\n    constructor(options = {}) {\r\n        super({\r\n            name: 'SimpleTextRenderer',\r\n            debug: options.debug || false,\r\n            config: {\r\n                showIcon: options.showIcon !== false,\r\n                theme: options.theme || 'light'\r\n            }\r\n        });\r\n\r\n        this.init();\r\n    }\r\n\r\n    /**\r\n     * Override init for custom initialization\r\n     * @protected\r\n     */\r\n    init() {\r\n        super.init();\r\n        this.debug('Initializing with config:', this._config);\r\n    }\r\n\r\n    /**\r\n     * Render POI data as HTML element\r\n     * @override\r\n     * @param {Object} poi - POI data\r\n     * @param {string} poi.title - POI title\r\n     * @param {string} [poi.description] - POI description\r\n     * @param {string} [poi.categoryId] - Category ID for icon\r\n     * @param {Object} [options={}] - Render options\r\n     * @param {string} [options.context='default'] - Render context\r\n     * @returns {HTMLElement} Rendered element\r\n     */\r\n    render(poi, options = {}) {\r\n        if (!poi) {\r\n            this.warn('render: no POI data provided');\r\n            return null;\r\n        }\r\n\r\n        this.debug('Rendering POI:', poi.title || poi.id);\r\n\r\n        // Create container\r\n        const container = this.createElement('div', 'simple-text-renderer', {\r\n            'data-poi-id': poi.id || 'unknown',\r\n            'data-context': options.context || 'default'\r\n        });\r\n\r\n        // Store state\r\n        this.setState(container, {\r\n            poi: poi,\r\n            renderTime: Date.now(),\r\n            context: options.context\r\n        });\r\n\r\n        // Render title\r\n        const title = this._renderTitle(poi);\r\n        if (title) container.appendChild(title);\r\n\r\n        // Render description\r\n        const description = this._renderDescription(poi);\r\n        if (description) container.appendChild(description);\r\n\r\n        // Add click handler example\r\n        this.addEventListener(container, 'click', (e) => {\r\n            this._handleClick(e, poi);\r\n        });\r\n\r\n        this.info('Rendered POI successfully');\r\n        return container;\r\n    }\r\n\r\n    /**\r\n     * Render title element\r\n     * @private\r\n     * @param {Object} poi - POI data\r\n     * @returns {HTMLElement} Title element\r\n     */\r\n    _renderTitle(poi) {\r\n        const utils = this.getUtils();\r\n        const title = utils.resolveField(poi, 'title', 'label', 'name') || 'Untitled';\r\n\r\n        const titleElement = this.createTextElement('h3', title, 'simple-text-renderer__title');\r\n\r\n        // Add icon if enabled\r\n        if (this._config.showIcon && poi.categoryId) {\r\n            const icon = this._createIcon(poi.categoryId);\r\n            if (icon) {\r\n                titleElement.insertBefore(icon, titleElement.firstChild);\r\n            }\r\n        }\r\n\r\n        return titleElement;\r\n    }\r\n\r\n    /**\r\n     * Render description element\r\n     * @private\r\n     * @param {Object} poi - POI data\r\n     * @returns {HTMLElement|null} Description element or null\r\n     */\r\n    _renderDescription(poi) {\r\n        const utils = this.getUtils();\r\n        const description = utils.resolveField(poi, 'description', 'desc');\r\n\r\n        if (!description) return null;\r\n\r\n        return this.createTextElement('p', description, 'simple-text-renderer__description');\r\n    }\r\n\r\n    /**\r\n     * Create icon element\r\n     * @private\r\n     * @param {string} categoryId - Category ID\r\n     * @returns {HTMLElement|null} Icon element or null\r\n     */\r\n    _createIcon(categoryId) {\r\n        const profile = this.getActiveProfile();\r\n        if (!profile || !profile.icons) return null;\r\n\r\n        const iconSpan = this.createElement('span', 'simple-text-renderer__icon');\r\n        iconSpan.textContent = '📍'; // Fallback emoji icon\r\n        iconSpan.style.marginRight = '8px';\r\n\r\n        return iconSpan;\r\n    }\r\n\r\n    /**\r\n     * Handle container click\r\n     * @private\r\n     * @param {MouseEvent} event - Click event\r\n     * @param {Object} poi - POI data\r\n     */\r\n    _handleClick(event, poi) {\r\n        const state = this.getState(event.currentTarget);\r\n        this.info('Clicked POI:', poi.title, 'State:', state);\r\n\r\n        // Update state\r\n        this.updateState(event.currentTarget, {\r\n            lastClicked: Date.now(),\r\n            clickCount: (state.clickCount || 0) + 1\r\n        });\r\n\r\n        // Dispatch custom event\r\n        const customEvent = new CustomEvent('poi:click', {\r\n            detail: { poi, state },\r\n            bubbles: true\r\n        });\r\n        event.currentTarget.dispatchEvent(customEvent);\r\n    }\r\n\r\n    /**\r\n     * Override destroy for custom cleanup\r\n     * @override\r\n     * @public\r\n     */\r\n    destroy() {\r\n        this.debug('Destroying SimpleTextRenderer');\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport { SimpleTextRenderer };\r\n","/**\r\n * GeoLeaf Data Normalizer Module\r\n * Module central pour la normalisation des données provenant de différentes sources.\r\n * Convertit JSON, GeoJSON, GPX (future) et Routes vers un format POI unifié.\r\n *\r\n * @module data/normalizer\r\n * @version 1.0.0\r\n */\r\n\"use strict\";\r\n\r\nimport { getLog } from '../utils/general-utils.js';\r\n\r\n// ========================================\r\n//   TYPES DE SOURCES\r\n// ========================================\r\n\r\nconst SOURCE_TYPES = {\r\n    JSON: 'json',\r\n    GEOJSON: 'geojson',\r\n    GPX: 'gpx',\r\n    ROUTE: 'route'\r\n};\r\n\r\n// ========================================\r\n//   UTILITAIRES\r\n// ========================================\r\n\r\n// getLog imported from general-utils.js (Phase 4 dedup)\r\n\r\n/**\r\n * Génère un ID unique\r\n * @returns {string}\r\n */\r\nfunction generateUniqueId() {\r\n    return 'poi_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\r\n}\r\n\r\n/**\r\n * Détermine le type de géométrie à partir des coordonnées Leaflet\r\n * @param {Object} layer - Layer Leaflet\r\n * @returns {string} 'Point', 'Polygon', 'LineString' ou 'Unknown'\r\n */\r\nfunction detectGeometryType(layer) {\r\n    if (!layer) return 'Unknown';\r\n\r\n    if (typeof layer.getLatLng === 'function') {\r\n        return 'Point';\r\n    }\r\n    if (typeof layer.getLatLngs === 'function') {\r\n        const latLngs = layer.getLatLngs();\r\n        // Polygon : tableau de tableaux de points (anneau extérieur + trous éventuels)\r\n        // LineString : tableau de points\r\n        if (Array.isArray(latLngs) && latLngs.length > 0) {\r\n            if (Array.isArray(latLngs[0]) && Array.isArray(latLngs[0][0])) {\r\n                return 'Polygon';\r\n            }\r\n            if (Array.isArray(latLngs[0])) {\r\n                // Peut être Polygon ou LineString selon si fermé\r\n                return 'Polygon';\r\n            }\r\n            return 'LineString';\r\n        }\r\n    }\r\n    return 'Unknown';\r\n}\r\n\r\n/**\r\n * Extrait les coordonnées d'un layer Leaflet\r\n * @param {Object} layer - Layer Leaflet\r\n * @returns {Array|null} Coordonnées [lat, lng] ou null\r\n */\r\nfunction extractCoordinates(layer) {\r\n    if (!layer) return null;\r\n\r\n    if (typeof layer.getLatLng === 'function') {\r\n        const ll = layer.getLatLng();\r\n        return ll ? [ll.lat, ll.lng] : null;\r\n    }\r\n\r\n    if (typeof layer.getCenter === 'function') {\r\n        const center = layer.getCenter();\r\n        return center ? [center.lat, center.lng] : null;\r\n    }\r\n\r\n    if (typeof layer.getBounds === 'function') {\r\n        try {\r\n            const bounds = layer.getBounds();\r\n            if (bounds && bounds.isValid()) {\r\n                const center = bounds.getCenter();\r\n                return center ? [center.lat, center.lng] : null;\r\n            }\r\n        } catch (e) {\r\n            // Bounds invalides\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n// ========================================\r\n//   NORMALISEURS PAR TYPE DE SOURCE\r\n// ========================================\r\n\r\n/**\r\n * Normalise une entrée JSON en POI\r\n * @param {Object} data - Données JSON brutes\r\n * @param {Object} layerConfig - Configuration du layer\r\n * @returns {Object} POI normalisé\r\n */\r\nfunction normalizeFromJSON(data, layerConfig = {}) {\r\n    if (!data) return null;\r\n\r\n    const id = data.id || data.uid || data.guid || generateUniqueId();\r\n    const dataMapping = layerConfig.dataMapping || {};\r\n\r\n    // Extraction du titre\r\n    const titleField = dataMapping.title || 'title';\r\n    const title = data[titleField] || data.title || data.name || data.label || data.nom || 'Sans titre';\r\n\r\n    // Extraction de la description\r\n    const descField = dataMapping.description || 'description';\r\n    const description = data[descField] || data.description || data.shortDescription || '';\r\n\r\n    // Extraction des coordonnées\r\n    const latField = dataMapping.lat || 'lat';\r\n    const lngField = dataMapping.lng || 'lng';\r\n    let lat = data[latField];\r\n    let lng = data[lngField];\r\n\r\n    // Fallbacks pour coordonnées\r\n    if (lat === undefined) lat = data.latitude || data.y;\r\n    if (lng === undefined) lng = data.longitude || data.lng || data.x;\r\n\r\n    // Extraction catégorie/sous-catégorie\r\n    const catField = dataMapping.categoryId || 'categoryId';\r\n    const subCatField = dataMapping.subCategoryId || 'subCategoryId';\r\n    const categoryId = data[catField] || data.categoryId || data.category || null;\r\n    const subCategoryId = data[subCatField] || data.subCategoryId || data.subcategory || null;\r\n\r\n    // Construction des attributs (toutes les propriétés)\r\n    const attributes = { ...data };\r\n\r\n    return {\r\n        id: String(id),\r\n        sourceType: SOURCE_TYPES.JSON,\r\n        geometryType: 'Point',\r\n        title: String(title),\r\n        description: String(description || ''),\r\n        lat: lat !== undefined ? parseFloat(lat) : null,\r\n        lng: lng !== undefined ? parseFloat(lng) : null,\r\n        categoryId: categoryId,\r\n        subCategoryId: subCategoryId,\r\n        attributes: attributes,\r\n        rawData: data\r\n    };\r\n}\r\n\r\n/**\r\n * Normalise une feature GeoJSON en POI\r\n * @param {Object} feature - Feature GeoJSON\r\n * @param {Object} layerConfig - Configuration du layer\r\n * @param {Object} layer - Layer Leaflet (optionnel, pour coordonnées)\r\n * @returns {Object} POI normalisé\r\n */\r\nfunction normalizeFromGeoJSON(feature, layerConfig = {}, layer = null) {\r\n    if (!feature) return null;\r\n\r\n    const props = feature.properties || {};\r\n    const geometry = feature.geometry || {};\r\n    const dataMapping = layerConfig.dataMapping || {};\r\n\r\n    // ID\r\n    const id = feature.id || props.id || props.uid || props.guid || generateUniqueId();\r\n\r\n    // Type de géométrie\r\n    let geometryType = geometry.type || 'Unknown';\r\n    if (layer && geometryType === 'Unknown') {\r\n        geometryType = detectGeometryType(layer);\r\n    }\r\n\r\n    // Extraction du titre\r\n    const titleField = dataMapping.title || 'title';\r\n    const titlePath = titleField.includes('.') ? titleField.split('.').pop() : titleField;\r\n    const title = props[titlePath] || props.name || props.nom || props.title || props.label || 'Sans titre';\r\n\r\n    // Extraction de la description\r\n    const descField = dataMapping.description || 'description';\r\n    const descPath = descField.includes('.') ? descField.split('.').pop() : descField;\r\n    const description = props[descPath] || props.description || props.shortDescription || '';\r\n\r\n    // Coordonnées\r\n    let lat = null, lng = null;\r\n    if (geometry.coordinates) {\r\n        if (geometryType === 'Point') {\r\n            // GeoJSON : [lng, lat]\r\n            lng = geometry.coordinates[0];\r\n            lat = geometry.coordinates[1];\r\n        } else if (layer) {\r\n            const coords = extractCoordinates(layer);\r\n            if (coords) {\r\n                lat = coords[0];\r\n                lng = coords[1];\r\n            }\r\n        } else if (geometry.coordinates.length > 0) {\r\n            // Calculer le centre approximatif\r\n            const flatCoords = flattenCoordinates(geometry.coordinates, geometry.type);\r\n            if (flatCoords.length > 0) {\r\n                let sumLat = 0, sumLng = 0;\r\n                flatCoords.forEach(c => {\r\n                    sumLng += c[0];\r\n                    sumLat += c[1];\r\n                });\r\n                lng = sumLng / flatCoords.length;\r\n                lat = sumLat / flatCoords.length;\r\n            }\r\n        }\r\n    } else if (layer) {\r\n        const coords = extractCoordinates(layer);\r\n        if (coords) {\r\n            lat = coords[0];\r\n            lng = coords[1];\r\n        }\r\n    }\r\n\r\n    // Catégorie/sous-catégorie\r\n    const catField = dataMapping.categoryId || 'categoryId';\r\n    const catPath = catField.includes('.') ? catField.split('.').pop() : catField;\r\n    const subCatField = dataMapping.subCategoryId || 'subCategoryId';\r\n    const subCatPath = subCatField.includes('.') ? subCatField.split('.').pop() : subCatField;\r\n\r\n    const categoryId = props[catPath] || props.categoryId || props.category || null;\r\n    const subCategoryId = props[subCatPath] || props.subCategoryId || props.subcategory || null;\r\n\r\n    // Construction des attributs\r\n    // Hoist nested props.attributes.* fields to top level so that config paths like\r\n    // \"attributes.reviews.rating\" resolve correctly when the GeoJSON stores rich data\r\n    // under properties.attributes (e.g. reviews, gallery, photo, etc.)\r\n    const nestedAttrs = (props.attributes && typeof props.attributes === 'object') ? props.attributes : {};\r\n    const attributes = { ...props, ...nestedAttrs };\r\n\r\n    return {\r\n        id: String(id),\r\n        sourceType: SOURCE_TYPES.GEOJSON,\r\n        geometryType: geometryType,\r\n        title: String(title),\r\n        description: String(description || ''),\r\n        lat: lat !== null ? parseFloat(lat) : null,\r\n        lng: lng !== null ? parseFloat(lng) : null,\r\n        categoryId: categoryId,\r\n        subCategoryId: subCategoryId,\r\n        attributes: attributes,\r\n        properties: props, // Conserve aussi properties pour compatibilité\r\n        rawData: feature\r\n    };\r\n}\r\n\r\n/**\r\n * Aplatit les coordonnées GeoJSON selon le type de géométrie\r\n * @param {Array} coords - Coordonnées imbriquées\r\n * @param {string} type - Type de géométrie\r\n * @returns {Array} Tableau de [lng, lat]\r\n */\r\nfunction flattenCoordinates(coords, type) {\r\n    if (!coords || !Array.isArray(coords)) return [];\r\n\r\n    switch (type) {\r\n        case 'Point':\r\n            return [coords];\r\n        case 'MultiPoint':\r\n        case 'LineString':\r\n            return coords;\r\n        case 'MultiLineString':\r\n        case 'Polygon':\r\n            return coords.flat();\r\n        case 'MultiPolygon':\r\n            return coords.flat(2);\r\n        default:\r\n            // Aplatir récursivement\r\n            const flat = [];\r\n            const flatten = (arr) => {\r\n                if (!Array.isArray(arr)) return;\r\n                if (typeof arr[0] === 'number') {\r\n                    flat.push(arr);\r\n                } else {\r\n                    arr.forEach(flatten);\r\n                }\r\n            };\r\n            flatten(coords);\r\n            return flat;\r\n    }\r\n}\r\n\r\n/**\r\n * Normalise un waypoint GPX en POI (placeholder pour futur module)\r\n * @param {Object} waypoint - Waypoint GPX\r\n * @param {Object} layerConfig - Configuration du layer\r\n * @returns {Object} POI normalisé\r\n */\r\nfunction normalizeFromGPX(waypoint, layerConfig = {}) {\r\n    if (!waypoint) return null;\r\n\r\n    getLog().info('[Normalizer] GPX normalization - placeholder for future implementation');\r\n\r\n    // Structure de base pour GPX\r\n    const id = waypoint.name || waypoint.sym || generateUniqueId();\r\n    const title = waypoint.name || waypoint.cmt || 'Point GPX';\r\n    const description = waypoint.desc || waypoint.cmt || '';\r\n\r\n    return {\r\n        id: String(id),\r\n        sourceType: SOURCE_TYPES.GPX,\r\n        geometryType: 'Point',\r\n        title: String(title),\r\n        description: String(description),\r\n        lat: waypoint.lat !== undefined ? parseFloat(waypoint.lat) : null,\r\n        lng: waypoint.lon !== undefined ? parseFloat(waypoint.lon) : null,\r\n        categoryId: waypoint.type || null,\r\n        subCategoryId: null,\r\n        attributes: { ...waypoint },\r\n        rawData: waypoint\r\n    };\r\n}\r\n\r\n/**\r\n * Normalise un point de route en POI\r\n * @param {Object} routePoint - Point de route\r\n * @param {Object} routeConfig - Configuration de la route\r\n * @returns {Object} POI normalisé\r\n */\r\nfunction normalizeFromRoute(routePoint, routeConfig = {}) {\r\n    if (!routePoint) return null;\r\n\r\n    const id = routePoint.id || routePoint.placeId || generateUniqueId();\r\n    const title = routePoint.name || routePoint.title || routePoint.address || 'Point de route';\r\n    const description = routePoint.description || routePoint.comment || '';\r\n\r\n    let lat = null, lng = null;\r\n    if (routePoint.latLng) {\r\n        lat = routePoint.latLng.lat;\r\n        lng = routePoint.latLng.lng;\r\n    } else if (routePoint.lat !== undefined && routePoint.lng !== undefined) {\r\n        lat = routePoint.lat;\r\n        lng = routePoint.lng;\r\n    }\r\n\r\n    return {\r\n        id: String(id),\r\n        sourceType: SOURCE_TYPES.ROUTE,\r\n        geometryType: 'Point',\r\n        title: String(title),\r\n        description: String(description),\r\n        lat: lat !== null ? parseFloat(lat) : null,\r\n        lng: lng !== null ? parseFloat(lng) : null,\r\n        categoryId: routePoint.type || 'route-point',\r\n        subCategoryId: routePoint.order !== undefined ? `stop-${routePoint.order}` : null,\r\n        order: routePoint.order,\r\n        address: routePoint.address,\r\n        attributes: { ...routePoint },\r\n        rawData: routePoint\r\n    };\r\n}\r\n\r\n// ========================================\r\n//   FONCTION PRINCIPALE\r\n// ========================================\r\n\r\n/**\r\n * Normalise des données selon leur type de source\r\n * @param {string} sourceType - Type de source ('json', 'geojson', 'gpx', 'route')\r\n * @param {Object} data - Données brutes\r\n * @param {Object} layerConfig - Configuration du layer\r\n * @param {Object} options - Options additionnelles (layer Leaflet, etc.)\r\n * @returns {Object} POI normalisé\r\n */\r\nfunction normalizeFeature(sourceType, data, layerConfig = {}, options = {}) {\r\n    if (!data) {\r\n        getLog().warn('[Normalizer] Données nulles pour normalisation');\r\n        return null;\r\n    }\r\n\r\n    switch (sourceType) {\r\n        case SOURCE_TYPES.JSON:\r\n            return normalizeFromJSON(data, layerConfig);\r\n\r\n        case SOURCE_TYPES.GEOJSON:\r\n            return normalizeFromGeoJSON(data, layerConfig, options.layer);\r\n\r\n        case SOURCE_TYPES.GPX:\r\n            return normalizeFromGPX(data, layerConfig);\r\n\r\n        case SOURCE_TYPES.ROUTE:\r\n            return normalizeFromRoute(data, layerConfig);\r\n\r\n        default:\r\n            getLog().warn('[Normalizer] Type de source non reconnu:', sourceType);\r\n            // Tenter une détection automatique\r\n            return autoDetectAndNormalize(data, layerConfig, options);\r\n    }\r\n}\r\n\r\n/**\r\n * Détecte automatiquement le type de source et normalise\r\n * @param {Object} data - Données brutes\r\n * @param {Object} layerConfig - Configuration du layer\r\n * @param {Object} options - Options additionnelles\r\n * @returns {Object} POI normalisé\r\n */\r\nfunction autoDetectAndNormalize(data, layerConfig = {}, options = {}) {\r\n    // Détection GeoJSON\r\n    if (data.type === 'Feature' && data.geometry) {\r\n        return normalizeFromGeoJSON(data, layerConfig, options.layer);\r\n    }\r\n\r\n    // Détection GPX (waypoint)\r\n    if (data.lat !== undefined && data.lon !== undefined && (data.name || data.sym)) {\r\n        return normalizeFromGPX(data, layerConfig);\r\n    }\r\n\r\n    // Détection Route\r\n    if (data.latLng || (data.order !== undefined && data.address)) {\r\n        return normalizeFromRoute(data, layerConfig);\r\n    }\r\n\r\n    // Par défaut : JSON\r\n    return normalizeFromJSON(data, layerConfig);\r\n}\r\n\r\n/**\r\n * Normalise un tableau de données\r\n * @param {string} sourceType - Type de source\r\n * @param {Array} dataArray - Tableau de données brutes\r\n * @param {Object} layerConfig - Configuration du layer\r\n * @param {Object} options - Options additionnelles\r\n * @returns {Array} Tableau de POIs normalisés\r\n */\r\nfunction normalizeCollection(sourceType, dataArray, layerConfig = {}, options = {}) {\r\n    if (!Array.isArray(dataArray)) {\r\n        getLog().warn('[Normalizer] normalizeCollection attend un tableau');\r\n        return [];\r\n    }\r\n\r\n    return dataArray\r\n        .map(data => normalizeFeature(sourceType, data, layerConfig, options))\r\n        .filter(poi => poi !== null);\r\n}\r\n\r\n// ========================================\r\n//   EXPORT\r\n// ========================================\r\n\r\nconst DataNormalizer = {\r\n    // Types de sources\r\n    SOURCE_TYPES,\r\n\r\n    // Normaliseurs par type\r\n    normalizeFromJSON,\r\n    normalizeFromGeoJSON,\r\n    normalizeFromGPX,\r\n    normalizeFromRoute,\r\n\r\n    // Fonctions principales\r\n    normalizeFeature,\r\n    autoDetectAndNormalize,\r\n    normalizeCollection,\r\n\r\n    // Utilitaires\r\n    detectGeometryType,\r\n    extractCoordinates,\r\n    generateUniqueId\r\n};\r\n\r\n// Log de chargement\r\ngetLog().info('[GeoLeaf._Normalizer] Module Normalizer chargé');\r\n\r\nexport { DataNormalizer };\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * @fileoverview Chargeur centralisé de styles GeoLeaf\r\n * Gère le chargement, la validation et le cache des fichiers style.json\r\n * Supporte les labels intégrés et la détection automatique\r\n * @module loaders/style-loader\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { StyleValidator } from '../validators/style-validator.js';\r\n\r\n// Lazy access to Config (not yet ESM — migrated in B4)\r\nconst _gl = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\n/**\r\n * Cache en mémoire des styles chargés\r\n * Clé: \"profileId:layerId:styleId\"\r\n * Valeur: { styleData, labelConfig, timestamp }\r\n */\r\nconst styleCache = new Map();\r\n\r\n/**\r\n * Helper to get Log instance lazily\r\n * @returns {Object|null}\r\n */\r\nfunction _getLog() {\r\n    return Log || null;\r\n}\r\n\r\n/**\r\n * Configuration du loader\r\n */\r\nlet loaderConfig = {\r\n    debug: false,\r\n    validateOnLoad: true,\r\n    throwOnValidationError: true\r\n};\r\n\r\nfunction getProfilesBasePath() {\r\n    const cfg = _gl.GeoLeaf && _gl.GeoLeaf.Config;\r\n\r\n    if (cfg && typeof cfg.get === \"function\") {\r\n        const configured = cfg.get(\"data.profilesBasePath\", \"profiles\");\r\n        if (typeof configured === \"string\" && configured.trim().length > 0) {\r\n            return configured.endsWith(\"/\") ? configured.slice(0, -1) : configured;\r\n        }\r\n    }\r\n\r\n    return \"profiles\";\r\n}\r\n\r\n/**\r\n * Initialise le style loader avec la configuration GeoLeaf\r\n * @param {Object} config - Configuration GeoLeaf (doit contenir { debug: boolean })\r\n */\r\nfunction initStyleLoader(config = {}) {\r\n    loaderConfig.debug = config.debug === true;\r\n\r\n    if (loaderConfig.debug) {\r\n        const Log = _getLog();\r\n        if (Log) Log.debug('[StyleLoader] Mode debug activé - cache désactivé');\r\n    }\r\n}\r\n\r\n/**\r\n * Charge et valide un fichier de style\r\n * @param {string} profileId - ID du profil\r\n * @param {string} layerId - ID de la couche\r\n * @param {string} styleId - ID du style\r\n * @param {string} styleFileName - Nom du fichier de style (ex: \"default.json\")\r\n * @param {string} layerDirectory - Répertoire de la couche (ex: \"layers/tourism_poi_all\")\r\n * @returns {Promise<Object>} Style chargé et validé avec labels extraits\r\n * @throws {Error} Si le fichier est invalide ou introuvable\r\n */\r\nasync function loadAndValidateStyle(profileId, layerId, styleId, styleFileName, layerDirectory) {\r\n    const cacheKey = `${profileId}:${layerId}:${styleId}`;\r\n\r\n    // Vérifier le cache (sauf en mode debug)\r\n    if (!loaderConfig.debug && styleCache.has(cacheKey)) {\r\n        const cached = styleCache.get(cacheKey);\r\n        return cached;\r\n    }\r\n\r\n    try {\r\n        // Construire le chemin du fichier de style\r\n        const profilesBasePath = getProfilesBasePath();\r\n        const stylePath = `${profilesBasePath}/${profileId}/${layerDirectory}/styles/${styleFileName}`;\r\n\r\n        // Charger le fichier JSON\r\n        const response = await fetch(stylePath);\r\n\r\n        if (!response.ok) {\r\n            throw new Error(\r\n                `Impossible de charger le fichier de style: ${stylePath}\\n` +\r\n                `HTTP ${response.status}: ${response.statusText}`\r\n            );\r\n        }\r\n\r\n        let styleData;\r\n        try {\r\n            styleData = await response.json();\r\n        } catch (jsonError) {\r\n            // Erreur de parsing JSON - format détaillé\r\n            const errorContext = {\r\n                profileId,\r\n                layerId,\r\n                styleId,\r\n                stylePath,\r\n                httpStatus: response.status,\r\n                parseError: jsonError.message\r\n            };\r\n\r\n            console.error('═══════════════════════════════════════════════════════');\r\n            console.error('❌ ERREUR DE PARSING JSON - FICHIER STYLE MALFORMÉ');\r\n            console.error('═══════════════════════════════════════════════════════');\r\n            console.error(`Fichier: ${stylePath}`);\r\n            console.error(`Erreur: ${jsonError.message}`);\r\n            console.error('Contexte:', JSON.stringify(errorContext, null, 2));\r\n            console.error('Stack trace:', jsonError.stack);\r\n            console.error('═══════════════════════════════════════════════════════');\r\n\r\n            throw new Error(\r\n                `Le fichier de style contient du JSON malformé: ${stylePath}\\n` +\r\n                `Erreur de parsing: ${jsonError.message}\\n` +\r\n                `Veuillez vérifier la syntaxe JSON du fichier.`\r\n            );\r\n        }\r\n\r\n        // VALIDATION STRICTE: Ajouter visibleByDefault si manquant et label.enabled: true\r\n        if (styleData.label && styleData.label.enabled === true) {\r\n            if (styleData.label.visibleByDefault === undefined) {\r\n                // Fallback automatique à false\r\n                styleData.label.visibleByDefault = false;\r\n                console.warn(\r\n                    `[StyleLoader] ⚠️ Paramètre \"visibleByDefault\" manquant dans le style: ${stylePath}\\n` +\r\n                    `Le style a \"label.enabled: true\" mais pas de \"visibleByDefault\".\\n` +\r\n                    `Fallback appliqué: visibleByDefault = false\\n` +\r\n                    `Ajoutez explicitement \"visibleByDefault\": false ou true dans le fichier de style.`\r\n                );\r\n            }\r\n        }\r\n\r\n        // Valider le style contre le schéma\r\n        if (loaderConfig.validateOnLoad) {\r\n            if (!StyleValidator) {\r\n                console.warn('[StyleLoader] StyleValidator non disponible, validation ignorée');\r\n            }\r\n\r\n            const validationResult = StyleValidator ? StyleValidator.validateStyle(styleData, {\r\n                profileId,\r\n                layerId,\r\n                styleId,\r\n                stylePath\r\n            }) : { valid: true, errors: [], warnings: [] };\r\n\r\n            if (!validationResult.valid) {\r\n                const errorMessage = StyleValidator ? StyleValidator.formatValidationErrors(validationResult, stylePath) : 'Erreurs de validation';\r\n                console.error(errorMessage);\r\n\r\n                if (loaderConfig.throwOnValidationError) {\r\n                    throw new Error(\r\n                        `Le fichier de style ne respecte pas le schéma GeoLeaf: ${stylePath}\\n` +\r\n                        `Consultez la console pour les détails des erreurs.`\r\n                    );\r\n                }\r\n            }\r\n\r\n            // Afficher les avertissements même si validation OK\r\n            if (validationResult.warnings.length > 0) {\r\n                console.warn(`[StyleLoader] ${validationResult.warnings.length} avertissement(s) pour ${stylePath}:`);\r\n                validationResult.warnings.forEach(warning => {\r\n                    console.warn(`  - ${warning.field}: ${warning.message}`);\r\n                });\r\n            }\r\n        }\r\n\r\n        // Extraire la configuration de labels intégrés\r\n        const labelConfig = extractLabelConfig(styleData);\r\n\r\n        // Préparer l'objet de retour\r\n        const result = {\r\n            styleData,\r\n            labelConfig,\r\n            metadata: {\r\n                profileId,\r\n                layerId,\r\n                styleId,\r\n                stylePath,\r\n                hasIntegratedLabels: labelConfig !== null,\r\n                loadedAt: new Date().toISOString()\r\n            }\r\n        };\r\n\r\n        // Mettre en cache (sauf en mode debug)\r\n        if (!loaderConfig.debug) {\r\n            styleCache.set(cacheKey, result);\r\n        }\r\n\r\n        return result;\r\n\r\n    } catch (error) {\r\n        // Re-throw les erreurs avec contexte complet\r\n        if (error.message.includes('JSON malformé') || error.message.includes('schéma GeoLeaf')) {\r\n            throw error;\r\n        }\r\n\r\n        // Erreur réseau ou autre\r\n        const errorContext = {\r\n            profileId,\r\n            layerId,\r\n            styleId,\r\n            styleFileName,\r\n            layerDirectory,\r\n            originalError: error.message\r\n        };\r\n\r\n        console.error('═══════════════════════════════════════════════════════');\r\n        console.error('❌ ERREUR DE CHARGEMENT DE STYLE');\r\n        console.error('═══════════════════════════════════════════════════════');\r\n        console.error('Contexte:', JSON.stringify(errorContext, null, 2));\r\n        console.error('Stack trace:', error.stack);\r\n        console.error('═══════════════════════════════════════════════════════');\r\n\r\n        throw error;\r\n    }\r\n}\r\n\r\n/**\r\n * Extrait la configuration de labels depuis un style chargé\r\n * Détecte automatiquement si les labels sont intégrés dans le style\r\n * @param {Object} styleData - Données du style\r\n * @returns {Object|null} Configuration de labels ou null si absents/désactivés\r\n */\r\nfunction extractLabelConfig(styleData) {\r\n    if (!styleData || typeof styleData !== 'object') {\r\n        return null;\r\n    }\r\n\r\n    // Vérifier si le champ label est un objet de configuration\r\n    if (styleData.label && typeof styleData.label === 'object' && styleData.label !== null) {\r\n        // Vérifier que enabled est true\r\n        if (styleData.label.enabled === true) {\r\n            return {\r\n                ...styleData.label,\r\n                isIntegrated: true\r\n            };\r\n        }\r\n    }\r\n\r\n    // Pas de labels intégrés ou désactivés\r\n    return null;\r\n}\r\n\r\n/**\r\n * Charge un style avec gestion simplifiée (sans validation stricte)\r\n * Utilisé pour les cas où on veut charger même si validation échoue\r\n * @param {string} profileId - ID du profil\r\n * @param {string} layerId - ID de la couche\r\n * @param {string} styleId - ID du style\r\n * @param {string} styleFileName - Nom du fichier\r\n * @param {string} layerDirectory - Répertoire de la couche\r\n * @returns {Promise<Object>} Style chargé (peut contenir des erreurs)\r\n */\r\nasync function loadStyleLenient(profileId, layerId, styleId, styleFileName, layerDirectory) {\r\n    const previousThrowSetting = loaderConfig.throwOnValidationError;\r\n    loaderConfig.throwOnValidationError = false;\r\n\r\n    try {\r\n        return await loadAndValidateStyle(profileId, layerId, styleId, styleFileName, layerDirectory);\r\n    } finally {\r\n        loaderConfig.throwOnValidationError = previousThrowSetting;\r\n    }\r\n}\r\n\r\n/**\r\n * Précharge plusieurs styles en parallèle\r\n * @param {Array<Object>} styleConfigs - Tableau de { profileId, layerId, styleId, styleFileName, layerDirectory }\r\n * @returns {Promise<Array<Object>>} Résultats de chargement\r\n */\r\nasync function preloadStyles(styleConfigs) {\r\n    const Log = _getLog();\r\n    if (Log) Log.info(`[StyleLoader] Préchargement de ${styleConfigs.length} style(s)...`);\r\n\r\n    const promises = styleConfigs.map(config =>\r\n        loadAndValidateStyle(\r\n            config.profileId,\r\n            config.layerId,\r\n            config.styleId,\r\n            config.styleFileName,\r\n            config.layerDirectory\r\n        ).catch(error => ({\r\n            error: true,\r\n            message: error.message,\r\n            config\r\n        }))\r\n    );\r\n\r\n    const results = await Promise.all(promises);\r\n\r\n    const successCount = results.filter(r => !r.error).length;\r\n    const errorCount = results.filter(r => r.error).length;\r\n\r\n    if (Log) Log.info(`[StyleLoader] Préchargement terminé: ${successCount} succès, ${errorCount} erreurs`);\r\n\r\n    return results;\r\n}\r\n\r\n/**\r\n * Efface le cache des styles\r\n * @param {string} [cacheKey] - Clé spécifique à effacer (optionnel, sinon tout le cache)\r\n */\r\nfunction clearStyleCache(cacheKey = null) {\r\n    if (cacheKey) {\r\n        styleCache.delete(cacheKey);\r\n    } else {\r\n        const count = styleCache.size;\r\n        styleCache.clear();\r\n    }\r\n}\r\n\r\n/**\r\n * Obtient les statistiques du cache\r\n * @returns {Object} Statistiques { size, keys, debug }\r\n */\r\nfunction getCacheStats() {\r\n    return {\r\n        size: styleCache.size,\r\n        keys: Array.from(styleCache.keys()),\r\n        debug: loaderConfig.debug,\r\n        cacheEnabled: !loaderConfig.debug\r\n    };\r\n}\r\n\r\n/**\r\n * Charge un style depuis une configuration de couche\r\n * Détecte automatiquement les références obsolètes à styleFile\r\n * @param {string} profileId - ID du profil\r\n * @param {Object} layerConfig - Configuration de la couche\r\n * @param {string} styleIdOrFileName - ID du style ou nom de fichier\r\n * @returns {Promise<Object>} Style chargé\r\n */\r\nasync function loadStyleFromLayerConfig(profileId, layerConfig, styleIdOrFileName) {\r\n    const layerId = layerConfig.id;\r\n    const layerDirectory = layerConfig._layerDirectory || `layers/${layerId}`;\r\n\r\n    // Vérifier si styleFile est présent dans labels (configuration obsolète)\r\n    if (layerConfig.labels && layerConfig.labels.styleFile) {\r\n        const errorMessage =\r\n            `❌ CONFIGURATION OBSOLÈTE DÉTECTÉE\\n` +\r\n            `═══════════════════════════════════════════════════════\\n` +\r\n            `La couche \"${layerId}\" utilise une référence obsolète à un fichier\\n` +\r\n            `de labels séparé via \"labels.styleFile\".\\n\\n` +\r\n            `GeoLeaf ne supporte plus les fichiers de labels séparés (styleLabel.json).\\n` +\r\n            `Les labels doivent être intégrés dans les fichiers de style.\\n\\n` +\r\n            `Valeur détectée: ${layerConfig.labels.styleFile}\\n` +\r\n            `Profil: ${profileId}\\n` +\r\n            `Couche: ${layerId}\\n\\n` +\r\n            `Action requise:\\n` +\r\n            `1. Supprimez la propriété \"labels.styleFile\" de la configuration\\n` +\r\n            `2. Intégrez les labels dans les fichiers de style (propriété \"label\")\\n` +\r\n            `3. Consultez docs/STYLE_FORMAT_SPEC.md pour la syntaxe\\n` +\r\n            `═══════════════════════════════════════════════════════`;\r\n\r\n        console.error(errorMessage);\r\n        throw new Error(`Configuration obsolète: labels.styleFile détecté dans la couche ${layerId}`);\r\n    }\r\n\r\n    // Trouver le fichier de style dans styles.available\r\n    let styleFileName = styleIdOrFileName;\r\n    let styleId = styleIdOrFileName;\r\n\r\n    if (layerConfig.styles && layerConfig.styles.available) {\r\n        const styleConfig = layerConfig.styles.available.find(s => s.id === styleIdOrFileName || s.file === styleIdOrFileName);\r\n        if (styleConfig) {\r\n            styleFileName = styleConfig.file;\r\n            styleId = styleConfig.id;\r\n        }\r\n    }\r\n\r\n    return loadAndValidateStyle(profileId, layerId, styleId, styleFileName, layerDirectory);\r\n}\r\n\r\n/**\r\n * Construit le chemin complet d'un fichier de style\r\n * @param {string} profileId - ID du profil\r\n * @param {string} layerDirectory - Répertoire de la couche\r\n * @param {string} styleFileName - Nom du fichier\r\n * @returns {string} Chemin complet\r\n */\r\nfunction getStylePath(profileId, layerDirectory, styleFileName) {\r\n    return `profiles/${profileId}/${layerDirectory}/styles/${styleFileName}`;\r\n}\r\n\r\n/**\r\n * Module Style Loader\r\n * Expose toutes les fonctions publiques\r\n */\r\nconst StyleLoader = {\r\n    initStyleLoader,\r\n    loadAndValidateStyle,\r\n    extractLabelConfig,\r\n    loadStyleLenient,\r\n    preloadStyles,\r\n    clearStyleCache,\r\n    getCacheStats,\r\n    loadStyleFromLayerConfig,\r\n    getStylePath,\r\n    styleCache // Export pour tests/debugging\r\n};\r\n\r\nexport { StyleLoader };\r\n","/**\r\n * GeoLeaf Scale Control\r\n * Gère l'affichage de l'échelle graphique, numérique et du niveau de zoom\r\n *\r\n * @module map/scale-control\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n// Lazy access to Config (not yet ESM — migrated in B4)\r\nconst _gl = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\n\r\n    /**\r\n     * Contrôle d'échelle personnalisé\r\n     */\r\n    const ScaleControl = {\r\n        _map: null,\r\n        _config: null,\r\n        _container: null,\r\n        _scaleLineMetric: null,\r\n        _numericElement: null,\r\n        _zoomElement: null,\r\n        _inputElement: null,\r\n        _scalePrefix: null,\r\n        _mainWrapper: null,\r\n        _eventHandlers: {},\r\n\r\n        /**\r\n         * Initialise le contrôle d'échelle\r\n         * @param {L.Map} map - Instance de la carte Leaflet\r\n         * @param {Object} config - Configuration depuis scaleConfig\r\n         */\r\n        init(map, config) {\r\n            if (!map) {\r\n                Log.error(\"[GeoLeaf.ScaleControl] Carte non fournie\");\r\n                return;\r\n            }\r\n\r\n            this._map = map;\r\n            this._config = config || {};\r\n\r\n            // Créer un conteneur unique pour tout\r\n            this._createMainContainer();\r\n\r\n            Log.info(\"[GeoLeaf.ScaleControl] Contrôle d'échelle initialisé\");\r\n        },\r\n\r\n        /**\r\n         * Crée le conteneur principal avec échelle graphique et bloc personnalisé\r\n         * @private\r\n         */\r\n        _createMainContainer() {\r\n            const position = this._config.position || 'bottomleft';\r\n\r\n            // Conteneur principal - disposition horizontale\r\n            this._mainWrapper = L.DomUtil.create('div', 'gl-scale-main-wrapper');\r\n\r\n            // 1. Échelle graphique\r\n            if (this._config.scaleGraphic !== false) {\r\n                const graphicWrapper = L.DomUtil.create('div', 'gl-scale-graphic-wrapper', this._mainWrapper);\r\n                this._addGraphicScaleToContainer(graphicWrapper);\r\n            }\r\n\r\n            // 2. Bloc personnalisé (échelle numérique + zoom) sur la même ligne\r\n            if (this._config.scaleNumeric || this._config.scaleNivel) {\r\n                this._createCustomScaleBlock(this._mainWrapper);\r\n            }\r\n\r\n            // Ajouter le conteneur principal à la carte\r\n            const CustomControl = L.Control.extend({\r\n                options: {\r\n                    position: position\r\n                },\r\n                onAdd: () => {\r\n                    return this._mainWrapper;\r\n                }\r\n            });\r\n\r\n            new CustomControl().addTo(this._map);\r\n        },\r\n\r\n        /**\r\n         * Ajoute l'échelle graphique Leaflet dans un conteneur\r\n         * @param {HTMLElement} container - Conteneur cible\r\n         * @private\r\n         */\r\n        _addGraphicScaleToContainer(container) {\r\n            // Créer l'échelle graphique manuellement (pas via L.control.scale)\r\n            const scaleDiv = L.DomUtil.create('div', 'leaflet-control-scale leaflet-control', container);\r\n\r\n            const scaleLineMetric = L.DomUtil.create('div', 'leaflet-control-scale-line', scaleDiv);\r\n            this._scaleLineMetric = scaleLineMetric;\r\n\r\n            // Fonction de mise à jour de l'échelle graphique\r\n            const updateScale = () => {\r\n                const y = this._map.getSize().y / 2;\r\n                const maxMeters = this._map.distance(\r\n                    this._map.containerPointToLatLng([0, y]),\r\n                    this._map.containerPointToLatLng([150, y])\r\n                );\r\n                this._updateScaleLine(this._scaleLineMetric, maxMeters);\r\n            };\r\n\r\n            this._eventHandlers.graphicScaleUpdate = updateScale;\r\n            this._map.on('zoomend moveend', updateScale);\r\n            updateScale();\r\n\r\n            Log.info(\"[GeoLeaf.ScaleControl] Échelle graphique ajoutée\");\r\n        },\r\n\r\n        /**\r\n         * Met à jour la ligne d'échelle graphique\r\n         * @param {HTMLElement} scaleLine - Élément de la ligne d'échelle\r\n         * @param {number} maxMeters - Distance maximale en mètres\r\n         * @private\r\n         */\r\n        _updateScaleLine(scaleLine, maxMeters) {\r\n            const maxKm = maxMeters / 1000;\r\n            let scale, ratio;\r\n\r\n            if (maxKm > 1) {\r\n                const maxNiceKm = this._getRoundNum(maxKm);\r\n                ratio = maxNiceKm / maxKm;\r\n                scale = maxNiceKm + ' km';\r\n            } else {\r\n                const maxNiceM = this._getRoundNum(maxMeters);\r\n                ratio = maxNiceM / maxMeters;\r\n                scale = maxNiceM + ' m';\r\n            }\r\n\r\n            scaleLine.style.width = Math.round(150 * ratio) + 'px';\r\n            scaleLine.textContent = scale;\r\n        },\r\n\r\n        /**\r\n         * Arrondit un nombre à une valeur \"propre\" (1, 2, 5, 10, 20, 50, etc.)\r\n         * @param {number} num - Nombre à arrondir\r\n         * @returns {number} Nombre arrondi\r\n         * @private\r\n         */\r\n        _getRoundNum(num) {\r\n            const pow10 = Math.pow(10, (Math.floor(num) + '').length - 1);\r\n            let d = num / pow10;\r\n\r\n            d = d >= 10 ? 10 : d >= 5 ? 5 : d >= 3 ? 3 : d >= 2 ? 2 : 1;\r\n\r\n            return pow10 * d;\r\n        },\r\n\r\n        /**\r\n         * Crée le bloc personnalisé (échelle numérique + niveau de zoom)\r\n         * @param {HTMLElement} parentContainer - Conteneur parent\r\n         * @private\r\n         */\r\n        _createCustomScaleBlock(parentContainer) {\r\n            // Créer le conteneur - disposition horizontale\r\n            this._container = L.DomUtil.create('div', 'gl-scale-control', parentContainer);\r\n\r\n            // Échelle numérique\r\n            if (this._config.scaleNumeric) {\r\n                if (this._config.scaleNumericEditable) {\r\n                    this._createEditableScale();\r\n                } else {\r\n                    this._createReadOnlyScale();\r\n                }\r\n            }\r\n\r\n            // Niveau de zoom\r\n            if (this._config.scaleNivel) {\r\n                this._createZoomLevel();\r\n            }\r\n\r\n            // Événements de mise à jour\r\n            const updateHandler = () => this._updateScale();\r\n            this._eventHandlers.numericScaleUpdate = updateHandler;\r\n            this._map.on('zoomend moveend', updateHandler);\r\n            this._updateScale(); // Mise à jour initiale\r\n\r\n            Log.info(\"[GeoLeaf.ScaleControl] Bloc personnalisé ajouté\");\r\n        },\r\n\r\n        /**\r\n         * Crée l'échelle numérique en lecture seule\r\n         * @private\r\n         */\r\n        _createReadOnlyScale() {\r\n            this._numericElement = L.DomUtil.create('div', 'gl-scale-numeric', this._container);\r\n        },\r\n\r\n        /**\r\n         * Crée l'échelle numérique éditable avec input\r\n         * @private\r\n         */\r\n        _createEditableScale() {\r\n            // Créer un conteneur pour l'échelle éditable\r\n            const wrapper = L.DomUtil.create('div', 'gl-scale-numeric-editable', this._container);\r\n\r\n            // Créer le préfixe \"1:\" (toujours visible)\r\n            this._scalePrefix = L.DomUtil.create('span', 'gl-scale-prefix', wrapper);\r\n            this._scalePrefix.textContent = '1:';\r\n\r\n            // Créer le span affiché initialement (souligné et cliquable) - contient uniquement le dénominateur\r\n            this._numericElement = L.DomUtil.create('span', 'gl-scale-numeric-clickable', wrapper);\r\n            this._numericElement.textContent = '0';\r\n\r\n            // Créer l'input (caché initialement) - contient uniquement le dénominateur\r\n            this._inputElement = L.DomUtil.create('input', 'gl-scale-numeric-input', wrapper);\r\n            this._inputElement.type = 'text';\r\n            this._inputElement.placeholder = '250000';\r\n            this._inputElement.style.display = 'none';\r\n\r\n            // Empêcher les interactions de la carte lors de l'édition\r\n            L.DomEvent.disableClickPropagation(wrapper);\r\n            L.DomEvent.disableScrollPropagation(wrapper);\r\n\r\n            // Clic sur le span : passer en mode édition\r\n            this._numericElement.addEventListener('click', () => {\r\n                this._switchToEditMode();\r\n            });\r\n\r\n            // Validation avec Enter\r\n            this._inputElement.addEventListener('keypress', (e) => {\r\n                if (e.key === 'Enter') {\r\n                    this._onScaleInputChange();\r\n                    this._switchToDisplayMode();\r\n                }\r\n            });\r\n\r\n            // Validation en cliquant à l'extérieur (blur)\r\n            this._inputElement.addEventListener('blur', () => {\r\n                this._onScaleInputChange();\r\n                this._switchToDisplayMode();\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Crée l'affichage du niveau de zoom\r\n         * @private\r\n         */\r\n        _createZoomLevel() {\r\n            this._zoomElement = L.DomUtil.create('div', 'gl-scale-zoom', this._container);\r\n        },\r\n\r\n        /**\r\n         * Bascule en mode édition (affiche l'input)\r\n         * @private\r\n         */\r\n        _switchToEditMode() {\r\n            if (!this._numericElement || !this._inputElement) return;\r\n\r\n            // Copier la valeur actuelle dans l'input\r\n            this._inputElement.value = this._numericElement.textContent;\r\n\r\n            // Cacher le span, afficher l'input\r\n            this._numericElement.style.display = 'none';\r\n            this._inputElement.style.display = 'inline-block';\r\n\r\n            // Focus et sélection du texte\r\n            this._inputElement.focus();\r\n            this._inputElement.select();\r\n        },\r\n\r\n        /**\r\n         * Bascule en mode affichage (affiche le span)\r\n         * @private\r\n         */\r\n        _switchToDisplayMode() {\r\n            if (!this._numericElement || !this._inputElement) return;\r\n\r\n            // Cacher l'input, afficher le span\r\n            this._inputElement.style.display = 'none';\r\n            this._numericElement.style.display = 'inline';\r\n        },\r\n\r\n        /**\r\n         * Met à jour l'affichage de l'échelle et du zoom\r\n         * @private\r\n         */\r\n        _updateScale() {\r\n            const zoom = this._map.getZoom();\r\n            const scale = this._calculateScale(zoom);\r\n\r\n            // Mettre à jour l'échelle numérique\r\n            if (this._numericElement) {\r\n                if (this._config.scaleNumericEditable) {\r\n                    // Mettre à jour uniquement le dénominateur (sans '1:')\r\n                    if (this._inputElement.style.display === 'none') {\r\n                        this._numericElement.textContent = this._formatNumber(scale);\r\n                    }\r\n                } else {\r\n                    // Mode non éditable : afficher \"1:\" + dénominateur\r\n                    this._numericElement.textContent = `1:${this._formatNumber(scale)}`;\r\n                }\r\n            }\r\n\r\n            // Mettre à jour le niveau de zoom\r\n            if (this._zoomElement) {\r\n                this._zoomElement.textContent = `Zoom: ${Number(zoom).toFixed(2)}`;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Calcule l'échelle approximative en fonction du niveau de zoom\r\n         * @param {number} zoom - Niveau de zoom Leaflet\r\n         * @param {number} [lat] - Latitude optionnelle (utilise le centre de la carte si non fournie)\r\n         * @returns {number} Échelle (ex: 250000 pour 1:250000)\r\n         * @private\r\n         */\r\n        _calculateScale(zoom, lat) {\r\n            // Utiliser la latitude fournie ou celle du centre de la carte\r\n            const latitude = lat !== undefined ? lat : this._map.getCenter().lat;\r\n            // Formule approximative basée sur la taille des tuiles Web Mercator\r\n            const metersPerPixel = 156543.03392 * Math.cos(latitude * Math.PI / 180) / Math.pow(2, zoom);\r\n            const scale = metersPerPixel * 96 / 0.0254; // 96 DPI\r\n            return Math.round(scale);\r\n        },\r\n\r\n        /**\r\n         * Formate un nombre avec des espaces comme séparateurs de milliers\r\n         * @param {number} num - Nombre à formater\r\n         * @returns {string} Nombre formaté\r\n         * @private\r\n         */\r\n        _formatNumber(num) {\r\n            return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n        },\r\n\r\n        /**\r\n         * Gère le changement manuel de l'échelle\r\n         * @private\r\n         */\r\n        _onScaleInputChange() {\r\n            if (!this._inputElement) return;\r\n\r\n            const input = this._inputElement.value.trim();\r\n            // Parser uniquement le dénominateur (nombre avec espaces optionnels)\r\n            const cleanedInput = input.replace(/\\s/g, '');\r\n            const targetScale = parseInt(cleanedInput, 10);\r\n\r\n            if (!isNaN(targetScale) && targetScale > 0) {\r\n                const targetZoom = this._calculateZoomFromScale(targetScale);\r\n                // Utiliser setView avec zoomSnap: 0 pour permettre les zooms fractionnaires\r\n                this._map.setView(this._map.getCenter(), targetZoom, {\r\n                    animate: true,\r\n                    zoomSnap: 0\r\n                });\r\n                Log.info(`[GeoLeaf.ScaleControl] Zoom ajusté à ${targetZoom} pour échelle 1:${targetScale}`);\r\n            } else {\r\n                Log.warn(\"[GeoLeaf.ScaleControl] Format d'échelle invalide:\", input);\r\n                this._updateScale(); // Réinitialiser la valeur\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Calcule le niveau de zoom pour atteindre une échelle donnée\r\n         * @param {number} targetScale - Échelle cible (ex: 250000)\r\n         * @returns {number} Niveau de zoom (peut être décimal pour plus de précision)\r\n         * @private\r\n         */\r\n        _calculateZoomFromScale(targetScale) {\r\n            const lat = this._map.getCenter().lat;\r\n            const metersPerPixel = targetScale * 0.0254 / 96;\r\n            let zoom = Math.log2(156543.03392 * Math.cos(lat * Math.PI / 180) / metersPerPixel);\r\n\r\n            // Affiner le zoom par itération pour obtenir l'échelle exacte\r\n            // Utiliser une méthode de convergence précise\r\n            for (let i = 0; i < 20; i++) {\r\n                const currentScale = this._calculateScale(zoom, lat); // Passer lat pour éviter recalcul\r\n                const diff = targetScale - currentScale;\r\n\r\n                // Si l'erreur est inférieure à 1 (pratiquement identique), on arrête\r\n                if (Math.abs(diff) < 1) {\r\n                    break;\r\n                }\r\n\r\n                // Ajuster le zoom proportionnellement à l'erreur\r\n                // Plus l'échelle est grande, plus on doit dézoomer (zoom plus petit)\r\n                const adjustment = Math.log2(targetScale / currentScale);\r\n                zoom -= adjustment * 0.95; // Facteur d'amortissement pour éviter les oscillations\r\n            }\r\n\r\n            // Arrondir à 4 décimales pour une précision maximale\r\n            const preciseZoom = Math.round(zoom * 10000) / 10000;\r\n            return Math.max(0, Math.min(22, preciseZoom));\r\n        },\r\n\r\n        /**\r\n         * Détruit le contrôle et nettoie les ressources\r\n         */\r\n        destroy() {\r\n            // Retirer les event listeners de la carte\r\n            if (this._map && this._eventHandlers) {\r\n                if (this._eventHandlers.graphicScaleUpdate) {\r\n                    this._map.off('zoomend moveend', this._eventHandlers.graphicScaleUpdate);\r\n                }\r\n                if (this._eventHandlers.numericScaleUpdate) {\r\n                    this._map.off('zoomend moveend', this._eventHandlers.numericScaleUpdate);\r\n                }\r\n            }\r\n\r\n            // Supprimer le conteneur principal du DOM\r\n            if (this._mainWrapper && this._mainWrapper.parentNode) {\r\n                this._mainWrapper.parentNode.removeChild(this._mainWrapper);\r\n            }\r\n\r\n            // Nettoyer toutes les références\r\n            this._map = null;\r\n            this._config = null;\r\n            this._container = null;\r\n            this._scaleLineMetric = null;\r\n            this._numericElement = null;\r\n            this._zoomElement = null;\r\n            this._inputElement = null;\r\n            this._scalePrefix = null;\r\n            this._mainWrapper = null;\r\n            this._eventHandlers = {};\r\n\r\n            Log.info(\"[GeoLeaf.ScaleControl] Contrôle détruit et ressources nettoyées\");\r\n        }\r\n    };\r\n\r\n    // Exposer le module (removed: migrated to globals.js in B3)\r\n\r\n    /**\r\n     * Initialise automatiquement le contrôle d'échelle si la configuration est présente\r\n     */\r\n    function initScaleControl(map) {\r\n        if (!map) {\r\n            Log.warn(\"[GeoLeaf.ScaleControl] Impossible d'initialiser : carte non fournie\");\r\n            return;\r\n        }\r\n\r\n        const config = _gl.GeoLeaf && _gl.GeoLeaf.Config && typeof _gl.GeoLeaf.Config.get === 'function'\r\n            ? _gl.GeoLeaf.Config.get('scaleConfig')\r\n            : null;\r\n\r\n        if (config && (config.scaleGraphic || config.scaleNumeric || config.scaleNivel)) {\r\n            ScaleControl.init(map, config);\r\n        }\r\n    }\r\n\r\nexport { ScaleControl, initScaleControl };\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n\r\n/**\r\n * Logger unifié\r\n */\r\n\r\n/**\r\n * Module DataConverter\r\n *\r\n * Responsabilités :\r\n * - Convertir les données brutes (Array de POI, Array de routes) vers GeoJSON FeatureCollection\r\n * - Normaliser les géométries\r\n * - Gérer les différents formats : POI, LineString, Polygon\r\n *\r\n * Utilisé par GeoLeaf.GeoJSON lors du chargement depuis profile.json\r\n */\r\nconst DataConverterModule = {\r\n    /**\r\n     * Convertit un array de POI en GeoJSON FeatureCollection.\r\n     *\r\n     * Chaque POI doit avoir :\r\n     * - id (string)\r\n     * - latlng (array [lat, lng])\r\n     * - title (string)\r\n     * - attributes (object)\r\n     *\r\n     * @param {Array} poiArray - Array de POI\r\n     * @returns {Object} FeatureCollection GeoJSON\r\n     */\r\n    convertPoiArrayToGeoJSON(poiArray) {\r\n        if (!Array.isArray(poiArray)) {\r\n            Log.warn(\"[DataConverter.convertPoiArrayToGeoJSON] Input n'est pas un array, retour FeatureCollection vide\");\r\n            return {\r\n                type: \"FeatureCollection\",\r\n                features: []\r\n            };\r\n        }\r\n\r\n        const features = poiArray\r\n            .map((poi) => {\r\n                if (!poi || typeof poi !== \"object\") {\r\n                    return null;\r\n                }\r\n\r\n                if (!poi.id) {\r\n                    Log.warn(\"[DataConverter.convertPoiArrayToGeoJSON] POI sans ID, ignoré\", poi);\r\n                    return null;\r\n                }\r\n\r\n                // Valider latlng\r\n                let coordinates = null;\r\n                if (Array.isArray(poi.latlng) && poi.latlng.length === 2) {\r\n                    // GeoJSON utilise [lon, lat], mais les données utilisent [lat, lon]\r\n                    coordinates = [poi.latlng[1], poi.latlng[0]];\r\n                } else if (\r\n                    poi.location &&\r\n                    typeof poi.location.lat === \"number\" &&\r\n                    typeof poi.location.lng === \"number\"\r\n                ) {\r\n                    coordinates = [poi.location.lng, poi.location.lat];\r\n                } else {\r\n                    Log.warn(\r\n                        \"[DataConverter.convertPoiArrayToGeoJSON] POI sans coordonnées valides, ignoré\",\r\n                        { id: poi.id }\r\n                    );\r\n                    return null;\r\n                }\r\n\r\n                // Construire la feature GeoJSON\r\n                const feature = {\r\n                    type: \"Feature\",\r\n                    id: poi.id,\r\n                    geometry: {\r\n                        type: \"Point\",\r\n                        coordinates: coordinates\r\n                    },\r\n                    properties: {\r\n                        id: poi.id,\r\n                        title: poi.title || \"Sans titre\",\r\n                        description: poi.description || \"\",\r\n                        ...poi.attributes // Fusionner les attributs\r\n                    }\r\n                };\r\n\r\n                return feature;\r\n            })\r\n            .filter((f) => f !== null);\r\n\r\n        Log.debug(\"[DataConverter.convertPoiArrayToGeoJSON] Converti\", {\r\n            input: poiArray.length,\r\n            output: features.length\r\n        });\r\n\r\n        return {\r\n            type: \"FeatureCollection\",\r\n            features: features\r\n        };\r\n    },\r\n\r\n    /**\r\n     * Convertit un array de routes (LineString) en GeoJSON FeatureCollection.\r\n     *\r\n     * Chaque route doit avoir :\r\n     * - id (string)\r\n     * - geometry avec type: \"LineString\" et coordinates\r\n     * - attributes (object optionnel)\r\n     *\r\n     * @param {Array} routeArray - Array de routes\r\n     * @returns {Object} FeatureCollection GeoJSON\r\n     */\r\n    convertRouteArrayToGeoJSON(routeArray) {\r\n        if (!Array.isArray(routeArray)) {\r\n            Log.warn(\"[DataConverter.convertRouteArrayToGeoJSON] Input n'est pas un array, retour FeatureCollection vide\");\r\n            return {\r\n                type: \"FeatureCollection\",\r\n                features: []\r\n            };\r\n        }\r\n\r\n        const features = routeArray\r\n            .map((route) => {\r\n                if (!route || typeof route !== \"object\") {\r\n                    return null;\r\n                }\r\n\r\n                if (!route.id) {\r\n                    Log.warn(\"[DataConverter.convertRouteArrayToGeoJSON] Route sans ID, ignorée\", route);\r\n                    return null;\r\n                }\r\n\r\n                // Valider la géométrie\r\n                if (!route.geometry || route.geometry.type !== \"LineString\" || !Array.isArray(route.geometry.coordinates)) {\r\n                    Log.warn(\r\n                        \"[DataConverter.convertRouteArrayToGeoJSON] Route sans géométrie LineString valide, ignorée\",\r\n                        { id: route.id }\r\n                    );\r\n                    return null;\r\n                }\r\n\r\n                // Construire la feature GeoJSON\r\n                const feature = {\r\n                    type: \"Feature\",\r\n                    id: route.id,\r\n                    geometry: {\r\n                        type: \"LineString\",\r\n                        coordinates: route.geometry.coordinates\r\n                    },\r\n                    properties: {\r\n                        id: route.id,\r\n                        title: route.title || \"Sans titre\",\r\n                        description: route.description || \"\",\r\n                        categoryId: route.categoryId,\r\n                        subCategoryId: route.subCategoryId,\r\n                        ...route.attributes // Fusionner les attributs\r\n                    }\r\n                };\r\n\r\n                return feature;\r\n            })\r\n            .filter((f) => f !== null);\r\n\r\n        Log.debug(\"[DataConverter.convertRouteArrayToGeoJSON] Converti\", {\r\n            input: routeArray.length,\r\n            output: features.length\r\n        });\r\n\r\n        return {\r\n            type: \"FeatureCollection\",\r\n            features: features\r\n        };\r\n    },\r\n\r\n    /**\r\n     * Convertit un array de zones (Polygon) en GeoJSON FeatureCollection.\r\n     *\r\n     * Chaque zone doit avoir :\r\n     * - id (string)\r\n     * - geometry avec type: \"Polygon\" et coordinates\r\n     * - attributes (object optionnel)\r\n     *\r\n     * @param {Array} zoneArray - Array de zones\r\n     * @returns {Object} FeatureCollection GeoJSON\r\n     */\r\n    convertZoneArrayToGeoJSON(zoneArray) {\r\n        if (!Array.isArray(zoneArray)) {\r\n            Log.warn(\"[DataConverter.convertZoneArrayToGeoJSON] Input n'est pas un array, retour FeatureCollection vide\");\r\n            return {\r\n                type: \"FeatureCollection\",\r\n                features: []\r\n            };\r\n        }\r\n\r\n        const features = zoneArray\r\n            .map((zone) => {\r\n                if (!zone || typeof zone !== \"object\") {\r\n                    return null;\r\n                }\r\n\r\n                if (!zone.id) {\r\n                    Log.warn(\"[DataConverter.convertZoneArrayToGeoJSON] Zone sans ID, ignorée\", zone);\r\n                    return null;\r\n                }\r\n\r\n                // Valider la géométrie\r\n                if (!zone.geometry || zone.geometry.type !== \"Polygon\" || !Array.isArray(zone.geometry.coordinates)) {\r\n                    Log.warn(\r\n                        \"[DataConverter.convertZoneArrayToGeoJSON] Zone sans géométrie Polygon valide, ignorée\",\r\n                        { id: zone.id }\r\n                    );\r\n                    return null;\r\n                }\r\n\r\n                // Construire la feature GeoJSON\r\n                const feature = {\r\n                    type: \"Feature\",\r\n                    id: zone.id,\r\n                    geometry: {\r\n                        type: \"Polygon\",\r\n                        coordinates: zone.geometry.coordinates\r\n                    },\r\n                    properties: {\r\n                        id: zone.id,\r\n                        title: zone.title || zone.siteName || \"Sans titre\",\r\n                        description: zone.description || \"\",\r\n                        ...zone.attributes // Fusionner les attributs\r\n                    }\r\n                };\r\n\r\n                return feature;\r\n            })\r\n            .filter((f) => f !== null);\r\n\r\n        Log.debug(\"[DataConverter.convertZoneArrayToGeoJSON] Converti\", {\r\n            input: zoneArray.length,\r\n            output: features.length\r\n        });\r\n\r\n        return {\r\n            type: \"FeatureCollection\",\r\n            features: features\r\n        };\r\n    },\r\n\r\n    /**\r\n     * Convertit un string GPX en GeoJSON FeatureCollection.\r\n     *\r\n     * Parse les éléments waypoints et tracks, crée des Points ou LineStrings.\r\n     *\r\n     * @param {string} gpxString - Contenu XML du fichier GPX\r\n     * @returns {Object} FeatureCollection GeoJSON\r\n     */\r\n    convertGpxToGeoJSON(gpxString) {\r\n        if (!gpxString || typeof gpxString !== \"string\") {\r\n            Log.warn(\"[DataConverter.convertGpxToGeoJSON] GPX string invalide\");\r\n            return {\r\n                type: \"FeatureCollection\",\r\n                features: []\r\n            };\r\n        }\r\n\r\n        try {\r\n            // Parser le XML\r\n            const parser = new DOMParser();\r\n            const gpxDoc = parser.parseFromString(gpxString, \"text/xml\");\r\n\r\n            const parseErrors = gpxDoc.getElementsByTagName(\"parsererror\");\r\n            if (parseErrors.length > 0) {\r\n                Log.error(\"[DataConverter.convertGpxToGeoJSON] Erreur parsing XML:\", parseErrors[0].textContent);\r\n                return {\r\n                    type: \"FeatureCollection\",\r\n                    features: []\r\n                };\r\n            }\r\n\r\n            const features = [];\r\n\r\n            // 1. Parser les waypoints (wpt)\r\n            const waypoints = gpxDoc.getElementsByTagName(\"wpt\");\r\n            for (let i = 0; i < waypoints.length; i++) {\r\n                const wpt = waypoints[i];\r\n                const lat = parseFloat(wpt.getAttribute(\"lat\"));\r\n                const lon = parseFloat(wpt.getAttribute(\"lon\"));\r\n\r\n                if (!isNaN(lat) && !isNaN(lon)) {\r\n                    const nameElem = wpt.getElementsByTagName(\"name\")[0];\r\n                    const descElem = wpt.getElementsByTagName(\"desc\")[0];\r\n                    const symElem = wpt.getElementsByTagName(\"sym\")[0];\r\n\r\n                    // Extraire les extensions GeoLeaf si présentes\r\n                    const geoLeafExt = {};\r\n                    const tagsList = []; // Accumulateur pour les tags multiples\r\n                    const extensions = wpt.getElementsByTagName(\"extensions\");\r\n                    if (extensions.length > 0) {\r\n                        const ext = extensions[0];\r\n                        // Utiliser childNodes pour être sûr d'avoir tous les éléments\r\n                        for (let j = 0; j < ext.childNodes.length; j++) {\r\n                            const child = ext.childNodes[j];\r\n                            // Ignorer les nœuds texte\r\n                            if (child.nodeType !== 1) continue;\r\n\r\n                            // Récupérer le nom du tag (gère les namespaces)\r\n                            const tagName = child.tagName || child.nodeName || '';\r\n                            const localName = child.localName || tagName.split(':').pop();\r\n\r\n                            // Vérifier si c'est une extension GeoLeaf\r\n                            const isGeoLeaf = tagName.toLowerCase().startsWith(\"geoleaf:\") ||\r\n                                (child.namespaceURI && child.namespaceURI.includes(\"geoleaf\"));\r\n\r\n                            if (isGeoLeaf || tagName.includes(':')) {\r\n                                // Utiliser localName comme clé (sans préfixe)\r\n                                const key = localName || tagName.replace(/^[^:]+:/, '');\r\n                                const value = child.textContent || '';\r\n\r\n                                // Cas spécial : les tags sont accumulés dans un tableau\r\n                                if (key === 'tag' || key === 'tags') {\r\n                                    if (value) tagsList.push(value);\r\n                                } else {\r\n                                    geoLeafExt[key] = value;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // Ajouter les tags comme tableau si présents\r\n                    if (tagsList.length > 0) {\r\n                        geoLeafExt.tags = tagsList;\r\n                    }\r\n\r\n                    const feature = {\r\n                        type: \"Feature\",\r\n                        id: geoLeafExt.id || (nameElem ? nameElem.textContent : `wpt-${i}`),\r\n                        geometry: {\r\n                            type: \"Point\",\r\n                            coordinates: [lon, lat]\r\n                        },\r\n                        properties: {\r\n                            id: geoLeafExt.id || (nameElem ? nameElem.textContent : `wpt-${i}`),\r\n                            title: nameElem ? nameElem.textContent : `Waypoint ${i + 1}`,\r\n                            description: descElem ? descElem.textContent : \"\",\r\n                            symbol: symElem ? symElem.textContent : \"\",\r\n                            ...geoLeafExt // Inclure les extensions GeoLeaf\r\n                        }\r\n                    };\r\n\r\n                    features.push(feature);\r\n                }\r\n            }\r\n\r\n            // 2. Parser les tracks (trk)\r\n            const tracks = gpxDoc.getElementsByTagName(\"trk\");\r\n            for (let i = 0; i < tracks.length; i++) {\r\n                const trk = tracks[i];\r\n                const nameElem = trk.getElementsByTagName(\"name\")[0];\r\n                const descElem = trk.getElementsByTagName(\"desc\")[0];\r\n\r\n                // Extraire les extensions GeoLeaf pour le track\r\n                const trkGeoLeafExt = {};\r\n                const trkTagsList = []; // Accumulateur pour les tags multiples\r\n                const trkExtensions = trk.getElementsByTagName(\"extensions\");\r\n                if (trkExtensions.length > 0) {\r\n                    const ext = trkExtensions[0];\r\n                    for (let m = 0; m < ext.childNodes.length; m++) {\r\n                        const child = ext.childNodes[m];\r\n                        if (child.nodeType !== 1) continue;\r\n\r\n                        const tagName = child.tagName || child.nodeName || '';\r\n                        const localName = child.localName || tagName.split(':').pop();\r\n\r\n                        const isGeoLeaf = tagName.toLowerCase().startsWith(\"geoleaf:\") ||\r\n                            (child.namespaceURI && child.namespaceURI.includes(\"geoleaf\"));\r\n\r\n                        if (isGeoLeaf || tagName.includes(':')) {\r\n                            const key = localName || tagName.replace(/^[^:]+:/, '');\r\n                            const value = child.textContent || '';\r\n\r\n                            // Cas spécial : les tags sont accumulés dans un tableau\r\n                            if (key === 'tag' || key === 'tags') {\r\n                                if (value) trkTagsList.push(value);\r\n                            } else {\r\n                                trkGeoLeafExt[key] = value;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Ajouter les tags comme tableau si présents\r\n                if (trkTagsList.length > 0) {\r\n                    trkGeoLeafExt.tags = trkTagsList;\r\n                }\r\n\r\n                const segments = trk.getElementsByTagName(\"trkseg\");\r\n                for (let j = 0; j < segments.length; j++) {\r\n                    const segment = segments[j];\r\n                    const trkpts = segment.getElementsByTagName(\"trkpt\");\r\n\r\n                    const coordinates = [];\r\n                    for (let k = 0; k < trkpts.length; k++) {\r\n                        const trkpt = trkpts[k];\r\n                        const lat = parseFloat(trkpt.getAttribute(\"lat\"));\r\n                        const lon = parseFloat(trkpt.getAttribute(\"lon\"));\r\n\r\n                        if (!isNaN(lat) && !isNaN(lon)) {\r\n                            coordinates.push([lon, lat]);\r\n                        }\r\n                    }\r\n\r\n                    if (coordinates.length > 0) {\r\n                        const feature = {\r\n                            type: \"Feature\",\r\n                            id: nameElem ? `${nameElem.textContent}-${j}` : `trk-${i}-${j}`,\r\n                            geometry: {\r\n                                type: \"LineString\",\r\n                                coordinates: coordinates\r\n                            },\r\n                            properties: {\r\n                                id: nameElem ? `${nameElem.textContent}-${j}` : `trk-${i}-${j}`,\r\n                                title: nameElem ? nameElem.textContent : `Track ${i + 1}`,\r\n                                description: descElem ? descElem.textContent : \"\",\r\n                                segmentIndex: j,\r\n                                pointCount: coordinates.length,\r\n                                ...trkGeoLeafExt // Inclure les extensions GeoLeaf du track\r\n                            }\r\n                        };\r\n\r\n                        features.push(feature);\r\n                    }\r\n                }\r\n            }\r\n\r\n            Log.debug(\"[DataConverter.convertGpxToGeoJSON] Converti\", {\r\n                waypoints: waypoints.length,\r\n                tracks: tracks.length,\r\n                features: features.length\r\n            });\r\n\r\n            return {\r\n                type: \"FeatureCollection\",\r\n                features: features\r\n            };\r\n        } catch (err) {\r\n            Log.error(\"[DataConverter.convertGpxToGeoJSON] Erreur lors du parsing GPX:\", err);\r\n            return {\r\n                type: \"FeatureCollection\",\r\n                features: []\r\n            };\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Détecte automatiquement le type de données et les convertit en GeoJSON.\r\n     *\r\n     * Stratégie de détection :\r\n     * 1. Si déjà GeoJSON (type: \"FeatureCollection\"), retourner tel quel\r\n     * 2. Si array : analyser le premier élément\r\n     *    - S'il a \"latlng\" ou \"location\" → POI\r\n     *    - S'il a \"geometry.type === 'LineString'\" → Route\r\n     *    - S'il a \"geometry.type === 'Polygon'\" → Zone\r\n     * 3. Sinon : retourner vide\r\n     *\r\n     * @param {*} data - Données à convertir\r\n     * @returns {Object} FeatureCollection GeoJSON\r\n     */\r\n    autoConvert(data) {\r\n        if (!data) {\r\n            Log.warn(\"[DataConverter.autoConvert] Données nulles, retour FeatureCollection vide\");\r\n            return {\r\n                type: \"FeatureCollection\",\r\n                features: []\r\n            };\r\n        }\r\n\r\n        // Cas 1 : Déjà GeoJSON\r\n        if (data.type === \"FeatureCollection\" && Array.isArray(data.features)) {\r\n            Log.debug(\"[DataConverter.autoConvert] Données déjà en GeoJSON, passage direct\");\r\n            return data;\r\n        }\r\n\r\n        if (data.type === \"Feature\" && data.geometry) {\r\n            Log.debug(\"[DataConverter.autoConvert] Feature unique, conversion en FeatureCollection\");\r\n            return {\r\n                type: \"FeatureCollection\",\r\n                features: [data]\r\n            };\r\n        }\r\n\r\n        // Cas 2 : Array\r\n        if (!Array.isArray(data) || data.length === 0) {\r\n            Log.warn(\"[DataConverter.autoConvert] Données ne sont pas un array ou array vide\");\r\n            return {\r\n                type: \"FeatureCollection\",\r\n                features: []\r\n            };\r\n        }\r\n\r\n        const firstItem = data[0];\r\n\r\n        if (!firstItem || typeof firstItem !== \"object\") {\r\n            Log.warn(\"[DataConverter.autoConvert] Premier élément invalide\");\r\n            return {\r\n                type: \"FeatureCollection\",\r\n                features: []\r\n            };\r\n        }\r\n\r\n        // Analyser le type\r\n        if (firstItem.latlng || (firstItem.location && typeof firstItem.location.lat === \"number\")) {\r\n            // POI\r\n            Log.debug(\"[DataConverter.autoConvert] Détecté comme array de POI\");\r\n            return this.convertPoiArrayToGeoJSON(data);\r\n        } else if (\r\n            firstItem.geometry &&\r\n            firstItem.geometry.type === \"LineString\" &&\r\n            Array.isArray(firstItem.geometry.coordinates)\r\n        ) {\r\n            // Route\r\n            Log.debug(\"[DataConverter.autoConvert] Détecté comme array de routes\");\r\n            return this.convertRouteArrayToGeoJSON(data);\r\n        } else if (\r\n            firstItem.geometry &&\r\n            firstItem.geometry.type === \"Polygon\" &&\r\n            Array.isArray(firstItem.geometry.coordinates)\r\n        ) {\r\n            // Zone\r\n            Log.debug(\"[DataConverter.autoConvert] Détecté comme array de zones\");\r\n            return this.convertZoneArrayToGeoJSON(data);\r\n        } else {\r\n            Log.warn(\"[DataConverter.autoConvert] Type de données non reconnu\");\r\n            return {\r\n                type: \"FeatureCollection\",\r\n                features: []\r\n            };\r\n        }\r\n    }\r\n};\r\n\r\n// Exposition de l'API\r\nconst DataConverter = DataConverterModule;\r\nexport { DataConverter };\r\n","/*!\r\n * GeoLeaf Core – Config / Loaders\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n\"use strict\";\r\n\r\nimport { Log } from '../../log/index.js';\r\nimport { Config } from './config-core.js';\r\nimport { ProfileLoader as ConfigLoader } from '../loader.js';\r\nimport { TaxonomyManager } from '../taxonomy.js';\r\nimport { ProfileManager } from '../profile.js';\r\n\r\n\r\n/**\r\n * Charge une configuration depuis une URL JSON et la fusionne.\r\n *\r\n * @param {string} url - URL du fichier JSON\r\n * @param {Object} [options] - Options de chargement\r\n * @param {Object} [options.headers] - Headers HTTP personnalisés (ex: CSRF token)\r\n * @param {boolean} [options.strictContentType=true] - Validation stricte du Content-Type\r\n * @returns {Promise<Object>}\r\n * @example\r\n * Config.loadUrl('/api/config.json', {\r\n *     headers: { 'X-CSRF-Token': '...' },\r\n *     strictContentType: true\r\n * })\r\n */\r\nConfig.loadUrl = function (url, options = {}) {\r\n    const Loader = ConfigLoader;\r\n    if (!Loader) {\r\n        Log.error(\"[GeoLeaf.Config] Module Loader non disponible.\");\r\n        return Promise.reject(new Error(\"Loader module not available\"));\r\n    }\r\n\r\n    return Loader.loadUrl(url, options)\r\n        .then((jsonCfg) => {\r\n            // perf 5.5+5.6 : utiliser _applyConfig() pour éviter la duplication de\r\n            // _validateConfig() et _initSubModules() (appels doubles supprimés)\r\n            this._applyConfig(jsonCfg, \"url\");\r\n\r\n            this._maybeFireLoadedEvent();\r\n\r\n            return this._config;\r\n        })\r\n        .catch((err) => {\r\n            Log.error(\"[GeoLeaf.Config] Erreur lors du chargement JSON :\", err);\r\n            return this._config;\r\n        });\r\n};\r\n\r\n/**\r\n * Charge un fichier de taxonomie (mapping catégories / sous-catégories)\r\n * et le fusionne dans la configuration existante.\r\n *\r\n * @param {string} [url] - URL du fichier de mapping (depuis le profil)\r\n * @param {Object} [options]\r\n * @param {Object} [options.headers]\r\n * @param {boolean} [options.strictContentType=true]\r\n * @returns {Promise<Object>} - Objet categories consolidé\r\n */\r\nConfig.loadTaxonomy = function (url = null, options = {}) {\r\n    const Taxonomy = TaxonomyManager;\r\n    if (!Taxonomy) {\r\n        Log.error(\"[GeoLeaf.Config] Module Taxonomy non disponible.\");\r\n        return Promise.reject(new Error(\"Taxonomy module not available\"));\r\n    }\r\n\r\n    return Taxonomy.loadTaxonomy(url, options);\r\n};\r\n\r\n/**\r\n * Charge les ressources liées au profil actif :\r\n * - profile.json\r\n * - poi.json\r\n * - mapping.json\r\n * - routes.json\r\n *\r\n * @param {Object} [options]\r\n * @param {Object} [options.headers] - Headers HTTP optionnels.\r\n * @param {boolean} [options.strictContentType=true] - Validation stricte du Content-Type.\r\n * @returns {Promise<Object>} Configuration consolidée incluant les données du profil.\r\n */\r\nConfig.loadActiveProfileResources = function (options = {}) {\r\n    const Profile = ProfileManager;\r\n    if (!Profile) {\r\n        Log.error(\"[GeoLeaf.Config] Module Profile non disponible.\");\r\n        return Promise.reject(new Error(\"Profile module not available\"));\r\n    }\r\n\r\n    return Profile.loadActiveProfileResources(options);\r\n};\r\n\r\nconst ConfigLoaders = {\r\n    loadUrl: Config.loadUrl,\r\n    loadTaxonomy: Config.loadTaxonomy,\r\n    loadActiveProfileResources: Config.loadActiveProfileResources\r\n};\r\n\r\nexport { ConfigLoaders };\r\n","/*!\r\n * GeoLeaf Core – Config / Accessors\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n\"use strict\";\r\n\r\nimport { Log } from '../../log/index.js';\r\nimport { Config } from './config-core.js';\r\nimport { StorageHelper } from '../storage.js';\r\nimport { TaxonomyManager } from '../taxonomy.js';\r\nimport { ProfileManager } from '../profile.js';\r\n\r\n\r\n/* ------------------------------------------------------------------ */\r\n/*  Storage accessors                                                  */\r\n/* ------------------------------------------------------------------ */\r\n\r\n/**\r\n * Retourne la configuration complète (objet).\r\n *\r\n * @returns {Object}\r\n */\r\nConfig.getAll = function () {\r\n    // S'assurer que les sous-modules sont initialisés\r\n    if (!this._isLoaded) {\r\n        this._initSubModules();\r\n    }\r\n\r\n    const Storage = StorageHelper;\r\n    return Storage && typeof Storage.getAll === \"function\"\r\n        ? Storage.getAll()\r\n        : this._config;\r\n};\r\n\r\n/**\r\n * Récupère une valeur via un chemin de type \"map.center\" ou \"basemaps.street.url\".\r\n *\r\n * @param {string} path - Chemin avec des points.\r\n * @param {*} [defaultValue] - Valeur renvoyée si le chemin n'existe pas.\r\n * @returns {*}\r\n */\r\nConfig.get = function (path, defaultValue) {\r\n    // S'assurer que les sous-modules sont initialisés\r\n    if (!this._isLoaded) {\r\n        this._initSubModules();\r\n    }\r\n\r\n    const Storage = StorageHelper;\r\n    return Storage && typeof Storage.get === \"function\"\r\n        ? Storage.get(path, defaultValue)\r\n        : defaultValue;\r\n};\r\n\r\n/**\r\n * Définit une valeur via un chemin de type \"map.center\" ou \"basemaps.street.url\".\r\n * Crée les objets intermédiaires si nécessaire.\r\n *\r\n * @param {string} path\r\n * @param {*} value\r\n */\r\nConfig.set = function (path, value) {\r\n    const Storage = StorageHelper;\r\n    if (Storage && typeof Storage.set === \"function\") {\r\n        Storage.set(path, value);\r\n    } else {\r\n        Log.warn(\"[GeoLeaf.Config] Module Storage non disponible pour set().\");\r\n    }\r\n};\r\n\r\n/**\r\n * Retourne une section de configuration (ex : \"basemaps\", \"map\").\r\n *\r\n * @param {string} sectionName\r\n * @param {Object} [defaultValue]\r\n * @returns {Object|*}\r\n */\r\nConfig.getSection = function (sectionName, defaultValue) {\r\n    const Storage = StorageHelper;\r\n    return Storage && typeof Storage.getSection === \"function\"\r\n        ? Storage.getSection(sectionName, defaultValue)\r\n        : defaultValue;\r\n};\r\n\r\n/* ------------------------------------------------------------------ */\r\n/*  Taxonomy accessors                                                 */\r\n/* ------------------------------------------------------------------ */\r\n\r\n/**\r\n * Retourne l'objet complet des catégories (mapping interne).\r\n *\r\n * @returns {Object} - { [categoryId]: { label, icon, colorFill, colorStroke, subcategories? } }\r\n */\r\nConfig.getCategories = function () {\r\n    // S'assurer que les sous-modules sont initialisés\r\n    if (!this._isLoaded) {\r\n        this._initSubModules();\r\n    }\r\n\r\n    const Taxonomy = TaxonomyManager;\r\n    return Taxonomy && typeof Taxonomy.getCategories === \"function\"\r\n        ? Taxonomy.getCategories()\r\n        : {};\r\n};\r\n\r\n/**\r\n * Retourne une catégorie à partir de son identifiant.\r\n *\r\n * @param {string} categoryId\r\n * @returns {Object|undefined}\r\n */\r\nConfig.getCategory = function (categoryId) {\r\n    const Taxonomy = TaxonomyManager;\r\n    return Taxonomy && typeof Taxonomy.getCategory === \"function\"\r\n        ? Taxonomy.getCategory(categoryId)\r\n        : undefined;\r\n};\r\n\r\n/**\r\n * Retourne une sous-catégorie à partir de son identifiant et de celui\r\n * de la catégorie parente.\r\n *\r\n * @param {string} categoryId\r\n * @param {string} subCategoryId\r\n * @returns {Object|undefined}\r\n */\r\nConfig.getSubcategory = function (categoryId, subCategoryId) {\r\n    const Taxonomy = TaxonomyManager;\r\n    return Taxonomy && typeof Taxonomy.getSubcategory === \"function\"\r\n        ? Taxonomy.getSubcategory(categoryId, subCategoryId)\r\n        : undefined;\r\n};\r\n\r\n/* ------------------------------------------------------------------ */\r\n/*  Profile accessors                                                  */\r\n/* ------------------------------------------------------------------ */\r\n\r\n/**\r\n * Retourne l'identifiant du profil actuellement chargé (ou null).\r\n *\r\n * @returns {string|null}\r\n */\r\nConfig.getActiveProfileId = function () {\r\n    const Profile = ProfileManager;\r\n    return Profile && typeof Profile.getActiveProfileId === \"function\"\r\n        ? Profile.getActiveProfileId()\r\n        : null;\r\n};\r\n\r\n/**\r\n * Retourne l'objet profile.json du profil actif (ou null).\r\n *\r\n * @returns {Object|null}\r\n */\r\nConfig.getActiveProfile = function () {\r\n    const Profile = ProfileManager;\r\n    return Profile && typeof Profile.getActiveProfile === \"function\"\r\n        ? Profile.getActiveProfile()\r\n        : null;\r\n};\r\n\r\n/**\r\n * Retourne le tableau de POI normalisés du profil actif.\r\n *\r\n * @returns {Array}\r\n */\r\nConfig.getActiveProfilePoi = function () {\r\n    const Profile = ProfileManager;\r\n    return Profile && typeof Profile.getActiveProfilePoi === \"function\"\r\n        ? Profile.getActiveProfilePoi()\r\n        : [];\r\n};\r\n\r\n/**\r\n * Retourne le tableau de routes du profil actif.\r\n *\r\n * @returns {Array}\r\n */\r\nConfig.getActiveProfileRoutes = function () {\r\n    const Profile = ProfileManager;\r\n    return Profile && typeof Profile.getActiveProfileRoutes === \"function\"\r\n        ? Profile.getActiveProfileRoutes()\r\n        : [];\r\n};\r\n\r\n/**\r\n * Retourne l'objet de mapping du profil actif (mapping.json).\r\n *\r\n * @returns {Object|null}\r\n */\r\nConfig.getActiveProfileMapping = function () {\r\n    const Profile = ProfileManager;\r\n    return Profile && typeof Profile.getActiveProfileMapping === \"function\"\r\n        ? Profile.getActiveProfileMapping()\r\n        : null;\r\n};\r\n\r\n/**\r\n * Retourne la configuration des icônes depuis la taxonomie du profil actif.\r\n *\r\n * @returns {Object|null}\r\n */\r\nConfig.getIconsConfig = function () {\r\n    const Profile = ProfileManager;\r\n    return Profile && typeof Profile.getIconsConfig === \"function\"\r\n        ? Profile.getIconsConfig()\r\n        : null;\r\n};\r\n\r\n/**\r\n * Indique si l'usage de mapping.json pour normaliser les POI de profil est activé.\r\n *\r\n * @returns {boolean} true si le mapping doit être utilisé, false sinon.\r\n */\r\nConfig.isProfilePoiMappingEnabled = function () {\r\n    const Profile = ProfileManager;\r\n    return Profile && typeof Profile.isProfilePoiMappingEnabled === \"function\"\r\n        ? Profile.isProfilePoiMappingEnabled()\r\n        : true;\r\n};\r\n\r\nconst ConfigAccessors = {\r\n    getAll: Config.getAll,\r\n    get: Config.get,\r\n    set: Config.set,\r\n    getSection: Config.getSection,\r\n    getCategories: Config.getCategories,\r\n    getCategory: Config.getCategory,\r\n    getSubcategory: Config.getSubcategory,\r\n    getActiveProfileId: Config.getActiveProfileId,\r\n    getActiveProfile: Config.getActiveProfile,\r\n    getActiveProfilePoi: Config.getActiveProfilePoi,\r\n    getActiveProfileRoutes: Config.getActiveProfileRoutes,\r\n    getActiveProfileMapping: Config.getActiveProfileMapping,\r\n    getIconsConfig: Config.getIconsConfig,\r\n    isProfilePoiMappingEnabled: Config.isProfilePoiMappingEnabled\r\n};\r\n\r\nexport { ConfigAccessors };\r\n","/*!\r\n * GeoLeaf Core – Config / Validation\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n\"use strict\";\r\n\r\nimport { Log } from '../../log/index.js';\r\nimport { Config } from './config-core.js';\r\n\r\n\r\n/**\r\n * Valide la structure du JSON de configuration.\r\n * Lance une erreur si les données critiques sont invalides.\r\n *\r\n * @param {Object} cfg - Configuration à valider\r\n * @throws {Error} Si la structure est invalide\r\n * @private\r\n */\r\nConfig._validateConfig = function (cfg) {\r\n    if (!cfg || typeof cfg !== \"object\") {\r\n        return; // Pas de validation si vide\r\n    }\r\n\r\n    // Validation de map.center\r\n    if (cfg.map && cfg.map.center !== undefined) {\r\n        if (\r\n            !Array.isArray(cfg.map.center) ||\r\n            cfg.map.center.length !== 2 ||\r\n            typeof cfg.map.center[0] !== \"number\" ||\r\n            typeof cfg.map.center[1] !== \"number\"\r\n        ) {\r\n            throw new Error(\r\n                \"[GeoLeaf.Config] map.center doit être un tableau de 2 nombres [lat, lng].\"\r\n            );\r\n        }\r\n    }\r\n\r\n    // Validation de map.zoom\r\n    if (cfg.map && cfg.map.zoom !== undefined) {\r\n        if (typeof cfg.map.zoom !== \"number\" || cfg.map.zoom < 0 || cfg.map.zoom > 20) {\r\n            throw new Error(\r\n                \"[GeoLeaf.Config] map.zoom doit être un nombre entre 0 et 20.\"\r\n            );\r\n        }\r\n    }\r\n\r\n    // Validation de map.positionFixed\r\n    if (cfg.map && cfg.map.positionFixed !== undefined) {\r\n        if (typeof cfg.map.positionFixed !== \"boolean\") {\r\n            throw new Error(\r\n                \"[GeoLeaf.Config] map.positionFixed doit être un booléen (true/false).\"\r\n            );\r\n        }\r\n    }\r\n\r\n    // Validation de map.initialMaxZoom\r\n    if (cfg.map && cfg.map.initialMaxZoom !== undefined) {\r\n        if (typeof cfg.map.initialMaxZoom !== \"number\" || cfg.map.initialMaxZoom < 1 || cfg.map.initialMaxZoom > 20) {\r\n            throw new Error(\r\n                \"[GeoLeaf.Config] map.initialMaxZoom doit être un nombre entre 1 et 20.\"\r\n            );\r\n        }\r\n    }\r\n\r\n    // Validation de map.boundsMargin\r\n    if (cfg.map && cfg.map.boundsMargin !== undefined) {\r\n        if (typeof cfg.map.boundsMargin !== \"number\" || cfg.map.boundsMargin < 0 || cfg.map.boundsMargin > 1) {\r\n            throw new Error(\r\n                \"[GeoLeaf.Config] map.boundsMargin doit être un nombre entre 0 et 1 (ex: 0.3 = 30% de marge).\"\r\n            );\r\n        }\r\n    }\r\n\r\n    // Validation de basemaps\r\n    if (cfg.basemaps !== undefined) {\r\n        if (typeof cfg.basemaps !== \"object\" || cfg.basemaps === null) {\r\n            throw new Error(\r\n                \"[GeoLeaf.Config] basemaps doit être un objet.\"\r\n            );\r\n        }\r\n    }\r\n\r\n    // Validation de poi\r\n    if (cfg.poi !== undefined) {\r\n        if (!Array.isArray(cfg.poi)) {\r\n            throw new Error(\r\n                \"[GeoLeaf.Config] poi doit être un tableau.\"\r\n            );\r\n        }\r\n    }\r\n\r\n    // Validation de geojson\r\n    if (cfg.geojson !== undefined) {\r\n        if (!Array.isArray(cfg.geojson)) {\r\n            throw new Error(\r\n                \"[GeoLeaf.Config] geojson doit être un tableau.\"\r\n            );\r\n        }\r\n    }\r\n\r\n    // Validation de categories\r\n    if (cfg.categories !== undefined) {\r\n        if (\r\n            typeof cfg.categories !== \"object\" ||\r\n            cfg.categories === null ||\r\n            Array.isArray(cfg.categories)\r\n        ) {\r\n            throw new Error(\r\n                \"[GeoLeaf.Config] categories doit être un objet.\"\r\n            );\r\n        }\r\n\r\n        // Valider chaque catégorie\r\n        Object.entries(cfg.categories).forEach(([catId, catData]) => {\r\n            if (!catData || typeof catData !== \"object\") {\r\n                Log.warn(\r\n                    `[GeoLeaf.Config] Catégorie '${catId}' invalide (doit être un objet).`\r\n                );\r\n                return;\r\n            }\r\n\r\n            if (!catData.label || typeof catData.label !== \"string\") {\r\n                Log.warn(\r\n                    `[GeoLeaf.Config] Catégorie '${catId}' : le champ 'label' est manquant ou invalide.`\r\n                );\r\n            }\r\n\r\n            // Validation couleurs : accepter soit 'color' (ancien format), soit 'colorFill'/'colorStroke' (nouveau format)\r\n            const hasOldFormat = catData.color && typeof catData.color === \"string\";\r\n            const hasNewFormat =\r\n                (catData.colorFill && typeof catData.colorFill === \"string\") ||\r\n                (catData.colorStroke && typeof catData.colorStroke === \"string\");\r\n\r\n            if (!hasOldFormat && !hasNewFormat) {\r\n                Log.warn(\r\n                    `[GeoLeaf.Config] Catégorie '${catId}' : aucune couleur définie (ni 'color', ni 'colorFill'/'colorStroke').`\r\n                );\r\n            }\r\n\r\n            // Valider les sous-catégories\r\n            if (catData.subcategories !== undefined) {\r\n                if (\r\n                    typeof catData.subcategories !== \"object\" ||\r\n                    catData.subcategories === null ||\r\n                    Array.isArray(catData.subcategories)\r\n                ) {\r\n                    Log.warn(\r\n                        `[GeoLeaf.Config] Catégorie '${catId}' : subcategories doit être un objet.`\r\n                    );\r\n                    return;\r\n                }\r\n\r\n                Object.entries(catData.subcategories).forEach(([subId, subData]) => {\r\n                    if (!subData || typeof subData !== \"object\") {\r\n                        Log.warn(\r\n                            `[GeoLeaf.Config] Sous-catégorie '${subId}' dans '${catId}' invalide (doit être un objet).`\r\n                        );\r\n                        return;\r\n                    }\r\n\r\n                    if (!subData.label || typeof subData.label !== \"string\") {\r\n                        Log.warn(\r\n                            `[GeoLeaf.Config] Sous-catégorie '${subId}' dans '${catId}' : le champ 'label' est manquant ou invalide.`\r\n                        );\r\n                    }\r\n\r\n                    const hasOldFormatSub =\r\n                        subData.color && typeof subData.color === \"string\";\r\n                    const hasNewFormatSub =\r\n                        (subData.colorFill && typeof subData.colorFill === \"string\") ||\r\n                        (subData.colorStroke && typeof subData.colorStroke === \"string\");\r\n\r\n                    if (!hasOldFormatSub && !hasNewFormatSub) {\r\n                        Log.warn(\r\n                            `[GeoLeaf.Config] Sous-catégorie '${subId}' dans '${catId}' : aucune couleur définie (ni 'color', ni 'colorFill'/'colorStroke').`\r\n                        );\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    Log.debug(\"[GeoLeaf.Config] Validation de la structure réussie.\");\r\n};\r\n\r\nconst ConfigValidation = {\r\n    _validateConfig: Config._validateConfig\r\n};\r\n\r\nexport { ConfigValidation };\r\n","/**\n * globals.config.js — Bridge UMD/ESM : B3 + B4 — helpers, validators, renderers, data, loaders, config\n *\n * @see globals.js (orchestrateur)\n */\n\n// B3 : helpers, validators, renderers, data, loaders, map\nimport { StyleResolver, getColorsFromLayerStyle, resolvePoiColors } from './helpers/style-resolver.js';\nimport { StyleValidator } from './validators/style-validator.js';\nimport { StyleValidatorRules } from './validators/style-validator-rules.js';\nimport { AbstractRenderer } from './renderers/abstract-renderer.js';\nimport { SimpleTextRenderer } from './renderers/simple-text-renderer.js';\nimport { DataNormalizer } from './data/normalizer.js';\nimport { StyleLoader } from './loaders/style-loader.js';\nimport { ScaleControl, initScaleControl } from './map/scale-control.js';\n// B4 : config\nimport { DataConverter } from './config/data-converter.js';\nimport { ProfileLoader as ConfigLoader } from './config/loader.js';\nimport { ConfigNormalizer } from './config/normalization.js';\nimport { ProfileLoader as ModularProfileLoader } from './config/profile-loader.js';\nimport { ProfileManager } from './config/profile.js';\nimport { StorageHelper } from './config/storage.js';\nimport { TaxonomyManager } from './config/taxonomy.js';\nimport { Config } from './config/geoleaf-config/config-core.js';\n// Config sub-modules: side-effect imports that mutate the Config singleton.\n// Must follow config-core.js.\nimport './config/geoleaf-config/config-loaders.js';\nimport './config/geoleaf-config/config-accessors.js';\nimport './config/geoleaf-config/config-validation.js';\n\nconst _g = typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof window !== 'undefined' ? window : {};\n\n_g.GeoLeaf = _g.GeoLeaf || {};\n\n// ── B3 assignations ──────────────────────────────────────────────────────────\nif (!_g.GeoLeaf.Helpers) _g.GeoLeaf.Helpers = {};\n_g.GeoLeaf.Helpers.StyleResolver = StyleResolver;\n_g.GeoLeaf.Helpers.getColorsFromLayerStyle = getColorsFromLayerStyle;\n_g.GeoLeaf.Helpers.resolvePoiColors = resolvePoiColors;\nif (!_g.GeoLeaf._Validators) _g.GeoLeaf._Validators = {};\n_g.GeoLeaf._StyleValidator = StyleValidator;\n_g.GeoLeaf._Validators.StyleValidator = StyleValidator;\n_g.GeoLeaf._StyleValidatorRules = StyleValidatorRules;\n_g.GeoLeaf._Validators.StyleValidatorRules = StyleValidatorRules;\nif (!_g.GeoLeaf._Renderers) _g.GeoLeaf._Renderers = {};\n_g.GeoLeaf._Renderers.AbstractRenderer = AbstractRenderer;\n_g.GeoLeaf._Renderers.SimpleTextRenderer = SimpleTextRenderer;\n_g.GeoLeaf._Normalizer = DataNormalizer;\n_g.GeoLeaf._StyleLoader = StyleLoader;\n_g.GeoLeaf.ScaleControl = ScaleControl;\n_g.GeoLeaf.initScaleControl = initScaleControl;\n\n// ── B4 assignations ──────────────────────────────────────────────────────────\nif (!_g.GeoLeaf.Config) _g.GeoLeaf.Config = Config;\nObject.assign(_g.GeoLeaf.Config, Config);\n_g.GeoLeaf._DataConverter = DataConverter;\n_g.GeoLeaf._ConfigLoader = ConfigLoader;\n_g.GeoLeaf._ConfigNormalization = ConfigNormalizer;\n_g.GeoLeaf._ProfileLoader = ModularProfileLoader;\n_g.GeoLeaf._ConfigProfile = ProfileManager;\n_g.GeoLeaf._ConfigStorage = StorageHelper;\n_g.GeoLeaf._ConfigTaxonomy = TaxonomyManager;\n","/**\n * GeoLeaf GeoJSON Module - Shared State & Constants\n * État partagé et constantes pour le module GeoJSON\n *\n * @module geojson/shared\n */\n\"use strict\";\n\nconst _g =\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\n\n/**\n * État partagé du module GeoJSON\n * Accessible via GeoJSONShared.state\n */\nconst GeoJSONShared = {};\n\n/**\n * État interne partagé entre les sous-modules\n */\nGeoJSONShared.state = {\n    /**\n     * Référence vers la carte Leaflet.\n     * @type {L.Map|null}\n     */\n    map: null,\n\n    /**\n     * Groupe contenant toutes les couches GeoJSON (conteneur parent).\n     * @type {L.LayerGroup|null}\n     */\n    layerGroup: null,\n\n    /**\n     * LEGACY: Couche L.GeoJSON principale (pour compatibilité descendante).\n     * @deprecated depuis v4.0.0 — utiliser `layers` (Map). Suppression prévue en v4.1.0.\n     * Migration : remplacer `state.geoJsonLayer` par `state.layers.get(layerId)?.layer`.\n     * @type {L.GeoJSON|null}\n     */\n    geoJsonLayer: null,\n\n    /**\n     * Map des couches individuelles par ID.\n     * Structure: Map<layerId, {id, label, layer, visible, config, clusterGroup}>\n     * Remplace le champ `geoJsonLayer` (désormais @deprecated).\n     * Migration : remplacer `state.geoJsonLayer` par `state.layers.get(layerId)?.layer`.\n     * @type {Map<string, Object>}\n     */\n    layers: new Map(),\n\n    /**\n     * Compteur pour générer des IDs uniques si non fourni.\n     * @type {number}\n     */\n    layerIdCounter: 0,\n\n    // featureCache removed (Sprint 1) — features accessed via state.layers\n\n    /**\n     * Options par défaut du module GeoJSON.\n     */\n    options: {\n        /**\n         * Style par défaut des géométries (polygones / lignes).\n         * Neutral transparent fallback — real style loaded from JSON before layer creation.\n         */\n        defaultStyle: {\n            color: \"#999999\",\n            weight: 2,\n            opacity: 0.9,\n            fillColor: \"#cccccc\",\n            fillOpacity: 0.15,\n        },\n        /**\n         * Style des points (circleMarker).\n         */\n        defaultPointStyle: {\n            radius: 6,\n            color: \"#999999\",\n            weight: 2,\n            fillColor: \"#cccccc\",\n            fillOpacity: 0.9,\n        },\n        /**\n         * Fonction de rappel pour chaque feature.\n         * @param {Object} feature\n         * @param {L.Layer} layer\n         */\n        onEachFeature: null,\n        /**\n         * Fonction pointToLayer personnalisée (si fournie).\n         * @param {Object} feature\n         * @param {L.LatLng} latlng\n         * @returns {L.Layer}\n         */\n        pointToLayer: null,\n        /**\n         * Adapter automatiquement la vue sur les données chargées.\n         */\n        fitBoundsOnLoad: true,\n        /**\n         * ZOOM max lors du fitBounds (facultatif).\n         */\n        maxZoomOnFit:\n            _g.GeoLeaf && _g.GeoLeaf.CONSTANTS ? _g.GeoLeaf.CONSTANTS.GEOJSON_MAX_ZOOM_ON_FIT : 18,\n    },\n};\n\n/**\n * Configuration des panes Leaflet pour le z-ordering des couches.\n */\nGeoJSONShared.PANE_CONFIG = {\n    BASEMAP_NAME: \"geoleaf-basemap\",\n    BASEMAP_ZINDEX: 200,\n    LAYER_PREFIX: \"geoleaf-layer-\",\n    LAYER_BASE_ZINDEX: 400,\n    MIN_LAYER_ZINDEX: 0,\n    MAX_LAYER_ZINDEX: 99,\n};\n\n/**\n * Helpers pour la gestion des panes\n */\nGeoJSONShared.PaneHelpers = {\n    /**\n     * Génère le nom du pane pour un zIndex donné\n     * @param {number} zIndex - zIndex de la couche (0-99)\n     * @returns {string} Nom du pane\n     */\n    getPaneName(zIndex) {\n        const config = GeoJSONShared.PANE_CONFIG;\n        return `${config.LAYER_PREFIX}${zIndex || 0}`;\n    },\n\n    /**\n     * Valide et clamp un zIndex dans la plage autorisée\n     * @param {number} zIndex - zIndex à valider\n     * @returns {number} zIndex valide (0-99)\n     */\n    validateZIndex(zIndex) {\n        const config = GeoJSONShared.PANE_CONFIG;\n        return Math.max(\n            config.MIN_LAYER_ZINDEX,\n            Math.min(config.MAX_LAYER_ZINDEX, Math.floor(zIndex))\n        );\n    },\n\n    /**\n     * Applique le pane à un layer ou marker\n     * @param {L.Layer} layer - Layer Leaflet\n     * @param {number} zIndex - zIndex de la couche\n     */\n    applyPaneToLayer(layer, zIndex) {\n        if (layer && layer.options) {\n            layer.options.pane = this.getPaneName(zIndex);\n        }\n    },\n};\n\n/**\n * Map des opérateurs de comparaison pour styleRules.\n * Supporte : >, >=, <, <=, ==, ===, eq (alias ==), !=, !==, contains, startsWith, endsWith, in, notIn, between\n */\nGeoJSONShared.STYLE_OPERATORS = {\n    \">\": (a, b) => Number(a) > Number(b),\n    \">=\": (a, b) => Number(a) >= Number(b),\n    \"<\": (a, b) => Number(a) < Number(b),\n    \"<=\": (a, b) => Number(a) <= Number(b),\n    \"==\": (a, b) => a == b,\n    \"===\": (a, b) => a === b,\n    eq: (a, b) => a == b, // Alias pour ==\n    \"!=\": (a, b) => a != b,\n    \"!==\": (a, b) => a !== b,\n    neq: (a, b) => a != b, // Alias pour !=\n    contains: (a, b) => String(a).toLowerCase().includes(String(b).toLowerCase()),\n    startsWith: (a, b) => String(a).toLowerCase().startsWith(String(b).toLowerCase()),\n    endsWith: (a, b) => String(a).toLowerCase().endsWith(String(b).toLowerCase()),\n    in: (a, b) => Array.isArray(b) && b.includes(a),\n    notIn: (a, b) => Array.isArray(b) && !b.includes(a),\n    between: (a, b) => {\n        if (!Array.isArray(b) || b.length !== 2) return false;\n        const num = Number(a);\n        const min = Number(b[0]);\n        const max = Number(b[1]);\n        return num >= min && num <= max;\n    },\n};\n\n/**\n * Réinitialise l'état partagé (utile pour les tests)\n */\nGeoJSONShared.reset = function () {\n    const state = GeoJSONShared.state;\n    state.map = null;\n    state.layerGroup = null;\n    state.geoJsonLayer = null;\n    state.layers = new Map();\n    state.layerIdCounter = 0;\n    // featureCache removed (Sprint 1)\n    // Réinitialiser les options par défaut\n    state.options = {\n        defaultStyle: {\n            color: \"#999999\",\n            weight: 2,\n            opacity: 0.9,\n            fillColor: \"#cccccc\",\n            fillOpacity: 0.15,\n        },\n        defaultPointStyle: {\n            radius: 6,\n            color: \"#999999\",\n            weight: 2,\n            fillColor: \"#cccccc\",\n            fillOpacity: 0.9,\n        },\n        onEachFeature: null,\n        pointToLayer: null,\n        fitBoundsOnLoad: true,\n        maxZoomOnFit:\n            _g.GeoLeaf && _g.GeoLeaf.CONSTANTS ? _g.GeoLeaf.CONSTANTS.GEOJSON_MAX_ZOOM_ON_FIT : 18,\n    };\n};\n\n/**\n * Getter pour le Log (lazy loading)\n */\nGeoJSONShared.getLog = function () {\n    return _g.GeoLeaf && _g.GeoLeaf.Log ? _g.GeoLeaf.Log : console;\n};\n\n// ── Getters publics (8.3.2) ─────────────────────────────────────────────────\n\n/**\n * @public Retourne la Map des couches GeoJSON actives.\n * @returns {Map<string, Object>}\n */\nGeoJSONShared.getLayers = function () {\n    return GeoJSONShared.state.layers;\n};\n\n/**\n * @public Retourne les données d'une couche par son ID.\n * @param {string} layerId\n * @returns {Object|undefined}\n */\nGeoJSONShared.getLayerById = function (layerId) {\n    return GeoJSONShared.state.layers.get(layerId);\n};\n\nexport { GeoJSONShared };\n","/**\r\n * GeoLeaf GeoJSON Module - Clustering\r\n * Gestion des stratégies de clustering (unified, by-source, etc.)\r\n *\r\n * @module geojson/clustering\r\n */\r\n\"use strict\";\r\n\r\nimport { getLog } from '../utils/general-utils.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\n\r\n// Dépendances lazy\r\n\r\nconst GeoJSONClustering = {};\r\n\r\n/**\r\n * Récupère la configuration POI globale.\r\n *\r\n * @returns {Object}\r\n */\r\nGeoJSONClustering.getPoiConfig = function () {\r\n    const Config = _g.GeoLeaf && _g.GeoLeaf.Config;\r\n    if (Config && typeof Config.get === \"function\") {\r\n        return Config.get(\"poiConfig\") || {};\r\n    }\r\n    return {};\r\n};\r\n\r\n/**\r\n * Récupère le cluster partagé du module POI s'il existe.\r\n *\r\n * @returns {L.MarkerClusterGroup|null}\r\n */\r\nGeoJSONClustering.getSharedPOICluster = function () {\r\n    const Log = getLog();\r\n\r\n\r\n    try {\r\n        const POI = _g.GeoLeaf && _g.GeoLeaf.POI;\r\n        if (!POI || typeof POI.getLayer !== \"function\") {\r\n            Log.debug(\"[GeoLeaf.GeoJSON] Module POI non disponible ou getLayer() manquant\");\r\n            return null;\r\n        }\r\n\r\n        const poiLayer = POI.getLayer();\r\n\r\n        if (!poiLayer) {\r\n            Log.debug(\"[GeoLeaf.GeoJSON] POI.getLayer() retourne null/undefined\");\r\n            return null;\r\n        }\r\n\r\n        Log.debug(\"[GeoLeaf.GeoJSON] POI.getLayer() retourné:\", {\r\n            hasAddLayer: typeof poiLayer.addLayer === \"function\",\r\n            hasRemoveLayer: typeof poiLayer.removeLayer === \"function\",\r\n            hasFeatureGroup: poiLayer._featureGroup !== undefined,\r\n            hasGroup: poiLayer._group !== undefined,\r\n            hasClusterGroup: poiLayer._markerCluster !== undefined,\r\n            isMarkerClusterGroup: poiLayer.constructor && poiLayer.constructor.name === 'MarkerClusterGroup',\r\n            constructor: poiLayer.constructor ? poiLayer.constructor.name : 'unknown'\r\n        });\r\n\r\n        // Vérifier si c'est un markerClusterGroup ou LayerGroup valide\r\n        // Accepter tout layer avec addLayer/removeLayer (plus permissif)\r\n        if (poiLayer &&\r\n            typeof poiLayer.addLayer === \"function\" &&\r\n            typeof poiLayer.removeLayer === \"function\") {\r\n            Log.debug(\"[GeoLeaf.GeoJSON] Cluster/Layer POI récupéré avec succès\");\r\n            return poiLayer;\r\n        }\r\n\r\n        Log.warn(\"[GeoLeaf.GeoJSON] POI.getLayer() ne retourne pas un layer valide (checks failed)\");\r\n    } catch (e) {\r\n        Log.error(\"[GeoLeaf.GeoJSON] Impossible de récupérer le cluster POI :\", e);\r\n    }\r\n    return null;\r\n};\r\n\r\n/**\r\n * Détermine la stratégie de clustering pour une couche.\r\n *\r\n * @param {Object} def - Définition de la couche\r\n * @param {Object} geojsonData - Données GeoJSON\r\n * @returns {Object} - { shouldCluster: boolean, useSharedCluster: boolean }\r\n */\r\nGeoJSONClustering.getClusteringStrategy = function (def, geojsonData) {\r\n    const Log = getLog();\r\n    const poiConfig = GeoJSONClustering.getPoiConfig();\r\n\r\n    // Normaliser def.clustering: peut être boolean ou object\r\n    const clusteringConfig = typeof def.clustering === 'object' ? def.clustering : { enabled: def.clustering };\r\n    const isClusteringEnabled = clusteringConfig.enabled === true;\r\n    const isClusteringDisabled = clusteringConfig.enabled === false;\r\n\r\n    // Override explicite dans la couche: clustering.enabled: false (priorité absolue)\r\n    if (isClusteringDisabled) {\r\n        return { shouldCluster: false, useSharedCluster: false };\r\n    }\r\n\r\n    // Si clustering désactivé globalement ET pas d'override dans la couche\r\n    if (!poiConfig.clustering && !isClusteringEnabled) {\r\n        return { shouldCluster: false, useSharedCluster: false };\r\n    }\r\n\r\n    // Vérifier si la couche contient des Points\r\n    const hasPoints = geojsonData.features && geojsonData.features.some(f =>\r\n        f.geometry && f.geometry.type && f.geometry.type.includes(\"Point\")\r\n    );\r\n\r\n    if (!hasPoints) {\r\n        return { shouldCluster: false, useSharedCluster: false };\r\n    }\r\n\r\n    // Override explicite dans la couche: clustering.enabled: true\r\n    if (isClusteringEnabled) {\r\n        // Si la couche a des paramètres de clustering spécifiques, créer un cluster indépendant\r\n        const clusterRadius = clusteringConfig.maxClusterRadius || (typeof def.clusterRadius === \"number\" ? def.clusterRadius : null);\r\n        const disableAtZoom = clusteringConfig.disableClusteringAtZoom || (typeof def.disableClusteringAtZoom === \"number\" ? def.disableClusteringAtZoom : null);\r\n\r\n        const hasCustomClusterParams =\r\n            (clusterRadius !== null && clusterRadius !== (poiConfig.clusterRadius || 80)) ||\r\n            (disableAtZoom !== null && disableAtZoom !== (poiConfig.disableClusteringAtZoom || 18));\r\n\r\n        if (hasCustomClusterParams) {\r\n            return {\r\n                shouldCluster: true,\r\n                useSharedCluster: false  // Cluster indépendant avec paramètres personnalisés\r\n            };\r\n        }\r\n\r\n        // Sinon, respecter la stratégie globale\r\n        const strategy = poiConfig.clusterStrategy || \"unified\";\r\n        return {\r\n            shouldCluster: true,\r\n            useSharedCluster: strategy === \"unified\"\r\n        };\r\n    }\r\n\r\n    // Lire la stratégie configurée\r\n    const strategy = poiConfig.clusterStrategy || \"unified\";\r\n\r\n    switch (strategy) {\r\n        case \"unified\":\r\n            // Un seul cluster partagé pour tous\r\n            return { shouldCluster: true, useSharedCluster: true };\r\n\r\n        case \"by-layer\":\r\n            // Cluster indépendant par couche: respecte clustering.enabled: true/false en config\r\n            // Par défaut, pas de cluster SAUF si clustering.enabled === true\r\n            return {\r\n                shouldCluster: isClusteringEnabled,\r\n                useSharedCluster: false  // Chaque couche a son propre cluster\r\n            };\r\n\r\n        case \"by-source\":\r\n            // Cluster séparé par source\r\n            const sourceConfig = poiConfig.clusterStrategies?.[\"by-source\"]?.sources || {};\r\n            const shouldClusterGeoJSON = sourceConfig.geojson !== false;\r\n            return {\r\n                shouldCluster: shouldClusterGeoJSON,\r\n                useSharedCluster: false\r\n            };\r\n\r\n        case \"json-only\":\r\n            // Cluster uniquement pour JSON, pas GeoJSON\r\n            const jsonOnlyConfig = poiConfig.clusterStrategies?.[\"json-only\"] || {};\r\n            return {\r\n                shouldCluster: jsonOnlyConfig.geojsonClustering === true,\r\n                useSharedCluster: false\r\n            };\r\n\r\n        default:\r\n            // Par défaut : comportement unifié (rétrocompatibilité)\r\n            Log.warn(\"[GeoLeaf.GeoJSON] Stratégie de clustering inconnue: \" + strategy + \". Utilisation de 'unified'.\");\r\n            return { shouldCluster: true, useSharedCluster: true };\r\n    }\r\n};\r\n\r\n/**\r\n * Crée un cluster indépendant avec les options spécifiées.\r\n *\r\n * @param {Object} options - Options de clustering\r\n * @returns {L.MarkerClusterGroup|null}\r\n */\r\nGeoJSONClustering.createIndependentCluster = function (options = {}) {\r\n    if (!_g.L || !_g.L.markerClusterGroup) {\r\n        return null;\r\n    }\r\n\r\n    return _g.L.markerClusterGroup({\r\n        maxClusterRadius: options.clusterRadius || 80,\r\n        disableClusteringAtZoom: options.disableClusteringAtZoom || 18,\r\n        animate: options.animate !== undefined ? options.animate : false,\r\n        spiderfyOnMaxZoom: options.spiderfyOnMaxZoom !== undefined ? options.spiderfyOnMaxZoom : false,\r\n        showCoverageOnHover: options.showCoverageOnHover !== undefined ? options.showCoverageOnHover : false,\r\n        zoomToBoundsOnClick: options.zoomToBoundsOnClick !== undefined ? options.zoomToBoundsOnClick : true\r\n    });\r\n};\r\n\r\nexport { GeoJSONClustering };\r\n","/**\r\n * GeoLeaf GeoJSON Module - Feature Validator\r\n * Validation stricte des features GeoJSON selon schéma centralisé\r\n *\r\n * @module geojson/feature-validator\r\n */\r\n\"use strict\";\r\n\r\nimport { getLog } from '../utils/general-utils.js';\r\n\r\n\r\n// Dépendances lazy\r\n\r\nconst FeatureValidator = {};\r\n\r\n/**\r\n * Valide une FeatureCollection entière et retourne les features valides\r\n *\r\n * @param {Object} collection - FeatureCollection GeoJSON\r\n * @returns {Object} { validFeatures: Array, errors: Array }\r\n */\r\nFeatureValidator.validateFeatureCollection = function (collection) {\r\n    const Log = getLog();\r\n    const errors = [];\r\n    const validFeatures = [];\r\n\r\n    if (!collection || typeof collection !== \"object\") {\r\n        Log.warn(\"[GeoLeaf.GeoJSON.Validator] Collection non valide : type invalide\");\r\n        return { validFeatures: [], errors: [{ message: \"Collection non valide\" }] };\r\n    }\r\n\r\n    // Accepter les FeatureCollections ou les arrays de features\r\n    const features = collection.type === \"FeatureCollection\"\r\n        ? collection.features\r\n        : Array.isArray(collection)\r\n            ? collection\r\n            : [collection];\r\n\r\n\r\n    if (!Array.isArray(features)) {\r\n        Log.warn(\"[GeoLeaf.GeoJSON.Validator] Pas de features à valider\");\r\n        return { validFeatures: [], errors: [] };\r\n    }\r\n\r\n    features.forEach((feature, index) => {\r\n        const result = FeatureValidator.validateFeature(feature, index);\r\n        if (result.valid) {\r\n            validFeatures.push(feature);\r\n        } else {\r\n            errors.push(...result.errors);\r\n        }\r\n    });\r\n\r\n    return { validFeatures, errors };\r\n};\r\n\r\n/**\r\n * Valide une single feature\r\n *\r\n * @param {Object} feature - Feature GeoJSON\r\n * @param {number} [index] - Index dans la collection (pour logging)\r\n * @returns {Object} { valid: Boolean, errors: Array }\r\n */\r\nFeatureValidator.validateFeature = function (feature, index) {\r\n    const Log = getLog();\r\n    const errors = [];\r\n    const featureId = feature?.properties?.id || feature?.id || index || \"unknown\";\r\n\r\n    // Type feature\r\n    if (!feature || feature.type !== \"Feature\") {\r\n        errors.push({\r\n            featureId,\r\n            field: \"type\",\r\n            message: \"Feature doit avoir type='Feature'\",\r\n            severity: \"error\"\r\n        });\r\n        Log.warn(`[GeoLeaf.GeoJSON.Validator] Feature ${featureId}: type invalide`);\r\n        return { valid: false, errors };\r\n    }\r\n\r\n    // Géométrie\r\n    const geomResult = FeatureValidator.validateGeometry(\r\n        feature.geometry,\r\n        featureId\r\n    );\r\n    if (!geomResult.valid) {\r\n        errors.push(...geomResult.errors);\r\n    }\r\n\r\n    // Propriétés\r\n    const propsResult = FeatureValidator.validateProperties(\r\n        feature.properties,\r\n        featureId\r\n    );\r\n    if (!propsResult.valid) {\r\n        errors.push(...propsResult.errors);\r\n    }\r\n\r\n    if (errors.length > 0) {\r\n        Log.warn(\r\n            `[GeoLeaf.GeoJSON.Validator] Feature ${featureId} rejetée : ${errors.map(e => e.message).join(\"; \")}`\r\n        );\r\n        return { valid: false, errors };\r\n    }\r\n\r\n    return { valid: true, errors: [] };\r\n};\r\n\r\n/**\r\n * Valide la géométrie d'une feature\r\n *\r\n * @param {Object} geometry - Geometry GeoJSON\r\n * @param {string|number} featureId - Feature identifier (for logging)\r\n * @returns {Object} { valid: Boolean, errors: Array }\r\n */\r\nFeatureValidator.validateGeometry = function (geometry, featureId) {\r\n    const errors = [];\r\n    const validTypes = [\"Point\", \"LineString\", \"MultiLineString\", \"Polygon\", \"MultiPolygon\"];\r\n\r\n    if (!geometry || typeof geometry !== \"object\") {\r\n        errors.push({\r\n            featureId,\r\n            field: \"geometry\",\r\n            message: \"geometry requis et doit être un objet\",\r\n            severity: \"error\"\r\n        });\r\n        return { valid: false, errors };\r\n    }\r\n\r\n    if (!geometry.type) {\r\n        errors.push({\r\n            featureId,\r\n            field: \"geometry.type\",\r\n            message: \"geometry.type requis\",\r\n            severity: \"error\"\r\n        });\r\n        return { valid: false, errors };\r\n    }\r\n\r\n    if (!validTypes.includes(geometry.type)) {\r\n        errors.push({\r\n            featureId,\r\n            field: \"geometry.type\",\r\n            message: `Type de géométrie invalide '${geometry.type}'. Doit être : ${validTypes.join(\", \")}`,\r\n            severity: \"error\"\r\n        });\r\n        return { valid: false, errors };\r\n    }\r\n\r\n    if (!Array.isArray(geometry.coordinates) || geometry.coordinates.length === 0) {\r\n        errors.push({\r\n            featureId,\r\n            field: \"geometry.coordinates\",\r\n            message: \"geometry.coordinates doit être un array non-vide\",\r\n            severity: \"error\"\r\n        });\r\n        return { valid: false, errors };\r\n    }\r\n\r\n    return { valid: errors.length === 0, errors };\r\n};\r\n\r\n/**\r\n * Valide les propriétés d'une feature\r\n *\r\n * @param {Object} properties - Feature properties\r\n * @param {string|number} featureId - Feature identifier (for logging)\r\n * @returns {Object} { valid: Boolean, errors: Array }\r\n */\r\nFeatureValidator.validateProperties = function (properties, featureId) {\r\n    const errors = [];\r\n\r\n    if (!properties || typeof properties !== \"object\") {\r\n        errors.push({\r\n            featureId,\r\n            field: \"properties\",\r\n            message: \"properties requis et doit être un objet\",\r\n            severity: \"error\"\r\n        });\r\n        return { valid: false, errors };\r\n    }\r\n\r\n    // Au moins un nom (name, title, ou autre identifier)\r\n    const hasName = properties.name || properties.title || properties.label;\r\n    if (!hasName) {\r\n        errors.push({\r\n            featureId,\r\n            field: \"properties.name\",\r\n            message: \"properties doit contenir au moins name, title ou label\",\r\n            severity: \"error\"\r\n        });\r\n    }\r\n\r\n    // Validation des types numériques\r\n    if (typeof properties.distance_km !== \"undefined\" && typeof properties.distance_km !== \"number\") {\r\n        errors.push({\r\n            featureId,\r\n            field: \"properties.distance_km\",\r\n            message: \"distance_km doit être un nombre\",\r\n            severity: \"warning\"\r\n        });\r\n    }\r\n\r\n    if (typeof properties.distance_km === \"number\" && properties.distance_km < 0) {\r\n        errors.push({\r\n            featureId,\r\n            field: \"properties.distance_km\",\r\n            message: \"distance_km doit être >= 0\",\r\n            severity: \"warning\"\r\n        });\r\n    }\r\n\r\n    if (typeof properties.duration_min !== \"undefined\" && typeof properties.duration_min !== \"number\") {\r\n        errors.push({\r\n            featureId,\r\n            field: \"properties.duration_min\",\r\n            message: \"duration_min doit être un nombre\",\r\n            severity: \"warning\"\r\n        });\r\n    }\r\n\r\n    if (typeof properties.duration_min === \"number\" && properties.duration_min < 0) {\r\n        errors.push({\r\n            featureId,\r\n            field: \"properties.duration_min\",\r\n            message: \"duration_min doit être >= 0\",\r\n            severity: \"warning\"\r\n        });\r\n    }\r\n\r\n    if (typeof properties.rating !== \"undefined\") {\r\n        if (typeof properties.rating !== \"number\") {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties.rating\",\r\n                message: \"rating doit être un nombre\",\r\n                severity: \"warning\"\r\n            });\r\n        } else if (properties.rating < 0 || properties.rating > 5) {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties.rating\",\r\n                message: \"rating doit être entre 0 et 5\",\r\n                severity: \"warning\"\r\n            });\r\n        }\r\n    }\r\n\r\n    // Validation des couleurs hex\r\n    if (typeof properties.color !== \"undefined\" && typeof properties.color === \"string\") {\r\n        if (!/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(properties.color)) {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties.color\",\r\n                message: `color invalide '${properties.color}'. Format: #RGB ou #RRGGBB`,\r\n                severity: \"warning\"\r\n            });\r\n        }\r\n    }\r\n\r\n    // Validation des opacity\r\n    if (typeof properties.opacity !== \"undefined\") {\r\n        if (typeof properties.opacity !== \"number\") {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties.opacity\",\r\n                message: \"opacity doit être un nombre\",\r\n                severity: \"warning\"\r\n            });\r\n        } else if (properties.opacity < 0 || properties.opacity > 1) {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties.opacity\",\r\n                message: \"opacity doit être entre 0 et 1\",\r\n                severity: \"warning\"\r\n            });\r\n        }\r\n    }\r\n\r\n    // Validation des weight\r\n    if (typeof properties.weight !== \"undefined\") {\r\n        if (typeof properties.weight !== \"number\") {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties.weight\",\r\n                message: \"weight doit être un nombre\",\r\n                severity: \"warning\"\r\n            });\r\n        } else if (properties.weight < 0) {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties.weight\",\r\n                message: \"weight doit être >= 0\",\r\n                severity: \"warning\"\r\n            });\r\n        }\r\n    }\r\n\r\n    // Validation des URLs\r\n    const urlFields = [\"link\", \"photo\", \"url\"];\r\n    urlFields.forEach(field => {\r\n        if (typeof properties[field] !== \"undefined\" && typeof properties[field] === \"string\") {\r\n            if (!FeatureValidator.isValidUrl(properties[field])) {\r\n                errors.push({\r\n                    featureId,\r\n                    field: `properties.${field}`,\r\n                    message: `${field} n'est pas une URL valide`,\r\n                    severity: \"warning\"\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    // Validation email\r\n    if (typeof properties.email !== \"undefined\" && typeof properties.email === \"string\") {\r\n        if (!FeatureValidator.isValidEmail(properties.email)) {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties.email\",\r\n                message: \"email invalide\",\r\n                severity: \"warning\"\r\n            });\r\n        }\r\n    }\r\n\r\n    // Validation tags (doit être array de strings)\r\n    if (typeof properties.tags !== \"undefined\") {\r\n        if (!Array.isArray(properties.tags)) {\r\n            errors.push({\r\n                featureId,\r\n                field: \"properties.tags\",\r\n                message: \"tags doit être un array\",\r\n                severity: \"warning\"\r\n            });\r\n        } else {\r\n            properties.tags.forEach((tag, idx) => {\r\n                if (typeof tag !== \"string\") {\r\n                    errors.push({\r\n                        featureId,\r\n                        field: `properties.tags[${idx}]`,\r\n                        message: \"tag doit être une string\",\r\n                        severity: \"warning\"\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    // Vérifier que properties ne contient pas d'objets imbriqués (à plat obligatoirement)\r\n    Object.entries(properties).forEach(([key, value]) => {\r\n        if (value !== null && typeof value === \"object\" && !Array.isArray(value)) {\r\n            errors.push({\r\n                featureId,\r\n                field: `properties.${key}`,\r\n                message: `Propriété imbriquée détectée. Les propriétés doivent être plates (strings, nombres, arrays). Objet trouvé: ${JSON.stringify(value)}`,\r\n                severity: \"error\"\r\n            });\r\n        }\r\n    });\r\n\r\n    // Les erreurs \"error\" invalident la feature, pas les \"warning\"\r\n    const hasErrors = errors.some(e => e.severity === \"error\");\r\n    return { valid: !hasErrors, errors };\r\n};\r\n\r\n/**\r\n * Valide qu'une string est une URL valide\r\n *\r\n * @param {string} url - URL à valider\r\n * @returns {Boolean}\r\n */\r\nFeatureValidator.isValidUrl = function (url) {\r\n    if (typeof url !== \"string\") return false;\r\n    try {\r\n        new URL(url);\r\n        return true;\r\n    } catch {\r\n        // Accepter aussi les URLs relatives\r\n        return /^(https?:\\/\\/|\\/|\\.\\.?\\/)/.test(url);\r\n    }\r\n};\r\n\r\n/**\r\n * Valide qu'une string est un email valide\r\n *\r\n * @param {string} email - Email à valider\r\n * @returns {Boolean}\r\n */\r\nFeatureValidator.isValidEmail = function (email) {\r\n    if (typeof email !== \"string\") return false;\r\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\r\n};\r\n\r\nexport { FeatureValidator };\r\n","/**\r\n * GeoLeaf GeoJSON - Style Utilities\r\n * Shared style normalization helpers (Phase 4 dedup — extracted from style.js + vector-tiles.js)\r\n *\r\n * @module geojson/style-utils\r\n * @version 1.0.0\r\n */\r\n\"use strict\";\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\n/**\r\n * Normalise a GeoLeaf style object (fill/stroke nested format) into\r\n * flat Leaflet Path options.\r\n *\r\n * Handles:\r\n * - Nested fill/stroke → flat Leaflet props\r\n * - Already-flat passthrough\r\n * - fillOpacity default (0.4 when unspecified)\r\n *\r\n * Does NOT handle hatch patterns or casing — those are layered on by the\r\n * caller (layer-manager/style.js) when a layerId is available.\r\n *\r\n * @param {Object} style - Style in GeoLeaf format\r\n * @param {Object} [options={}] - Extra options\r\n * @param {boolean} [options.setFillFlag=false] - Set `fill: true` when fill block present\r\n * @returns {Object} Flat Leaflet Path options\r\n */\r\nexport function normalizeStyleToLeaflet(style, options = {}) {\r\n    if (!style || typeof style !== 'object') return {};\r\n\r\n    const normalized = {};\r\n\r\n    if (style.fill || style.stroke) {\r\n        // Fill (remplissage)\r\n        if (style.fill) {\r\n            if (style.fill.color) normalized.fillColor = style.fill.color;\r\n            normalized.fillOpacity = typeof style.fill.opacity === 'number'\r\n                ? style.fill.opacity\r\n                : 0.4;\r\n            if (style.fill.pattern) normalized.fillPattern = style.fill.pattern;\r\n            if (options.setFillFlag) normalized.fill = true;\r\n        }\r\n\r\n        // Stroke (contour)\r\n        if (style.stroke) {\r\n            if (style.stroke.color) normalized.color = style.stroke.color;\r\n            if (typeof style.stroke.opacity === 'number') normalized.opacity = style.stroke.opacity;\r\n            if (typeof style.stroke.widthPx === 'number') normalized.weight = style.stroke.widthPx;\r\n            if (style.stroke.dashArray) normalized.dashArray = style.stroke.dashArray;\r\n            if (style.stroke.lineCap) normalized.lineCap = style.stroke.lineCap;\r\n            if (style.stroke.lineJoin) normalized.lineJoin = style.stroke.lineJoin;\r\n        }\r\n\r\n        // Shape & size (common)\r\n        if (style.shape) normalized.shape = style.shape;\r\n        if (typeof style.sizePx === 'number') {\r\n            normalized.radius = style.sizePx;\r\n            normalized.sizePx = style.sizePx;\r\n        }\r\n    } else {\r\n        // Already flat Leaflet format — passthrough\r\n        Object.assign(normalized, style);\r\n    }\r\n\r\n    return normalized;\r\n}\r\n\r\n// ── Backward compat ──\r\nif (!_g.GeoLeaf) _g.GeoLeaf = {};\r\n_g.GeoLeaf._StyleUtils = { normalizeStyleToLeaflet };\r\n","/**\r\n * GeoLeaf GeoJSON Module - Style Resolver\r\n * Évaluation des règles de style dynamiques (styleRules)\r\n *\r\n * @module geojson/style-resolver\r\n */\r\n\"use strict\";\r\n\r\nimport { GeoJSONShared } from './shared.js';\r\nimport { getLog } from '../utils/general-utils.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\n\r\nconst GeoJSONStyleResolver = {};\r\n\r\n/**\r\n * Résout une valeur imbriquée dans un objet via un chemin (ex: \"properties.name\").\r\n * @param {Object} obj - Objet source\r\n * @param {string} path - Chemin (dot notation)\r\n * @returns {*} Valeur trouvée ou null\r\n */\r\nGeoJSONStyleResolver.getNestedValue = function (obj, path) {\r\n    if (!obj || !path) return null;\r\n    return path.split('.').reduce((current, prop) =>\r\n        current && current[prop] !== undefined ? current[prop] : null, obj);\r\n};\r\n\r\n\r\n/**\r\n * Évalue une condition simple contre une feature GeoJSON.\r\n * @param {Object} feature - Feature GeoJSON\r\n * @param {Object} condition - {field, operator, value}\r\n * @param {Object} STYLE_OPERATORS - Opérateurs de comparaison\r\n * @param {Object} Log - Logger\r\n * @returns {boolean} true si la condition est remplie\r\n */\r\nGeoJSONStyleResolver.evaluateCondition = function (feature, condition, STYLE_OPERATORS, Log) {\r\n    const { field, operator, value } = condition;\r\n    if (!field || !operator) return false;\r\n\r\n    // Résoudre la valeur du champ depuis la feature\r\n    const fieldValue = GeoJSONStyleResolver.getNestedValue(feature, field);\r\n\r\n    // Si le champ n'existe pas, la condition n'est pas remplie\r\n    if (fieldValue === null || fieldValue === undefined) return false;\r\n\r\n    // Obtenir la fonction de comparaison\r\n    const compareFn = STYLE_OPERATORS[operator];\r\n    if (!compareFn) {\r\n        Log.warn && Log.warn('[GeoJSON] Opérateur styleRules inconnu:', operator);\r\n        return false;\r\n    }\r\n\r\n    // Évaluer la condition\r\n    try {\r\n        return compareFn(fieldValue, value);\r\n    } catch (e) {\r\n        Log.warn && Log.warn('[GeoJSON] Erreur évaluation condition:', e.message);\r\n        return false;\r\n    }\r\n};\r\n\r\n/**\r\n * Évalue les règles de style (styleRules) contre une feature GeoJSON.\r\n * Retourne le style de la PREMIÈRE règle correspondante (ordre du tableau).\r\n * Supporte les formats:\r\n * - Simple: {when: {field, operator, value}, style: {...}}\r\n * - Composé: {when: {all: [{field, operator, value}, ...]}, style: {...}}\r\n *\r\n * @param {Object} feature - Feature GeoJSON\r\n * @param {Array} styleRules - Tableau de règles\r\n * @returns {Object|null} Style de la première règle correspondante, ou null\r\n */\r\nGeoJSONStyleResolver.evaluateStyleRules = function (feature, styleRules) {\r\n    if (!Array.isArray(styleRules) || styleRules.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    const shared = GeoJSONShared;\r\n    const Log = getLog();\r\n    const STYLE_OPERATORS = shared.STYLE_OPERATORS;\r\n\r\n    for (const rule of styleRules) {\r\n        if (!rule || !rule.when || !rule.style) continue;\r\n\r\n        // Support du format composé avec \"all\": [conditions]\r\n        if (rule.when.all && Array.isArray(rule.when.all)) {\r\n            // Vérifier que TOUTES les conditions sont remplies\r\n            const allConditionsMet = rule.when.all.every(condition =>\r\n                GeoJSONStyleResolver.evaluateCondition(feature, condition, STYLE_OPERATORS, Log)\r\n            );\r\n\r\n            if (allConditionsMet) {\r\n                return rule.style;\r\n            }\r\n        }\r\n        // Format simple avec field, operator, value\r\n        else if (rule.when.field && rule.when.operator) {\r\n            const conditionMet = GeoJSONStyleResolver.evaluateCondition(\r\n                feature,\r\n                rule.when,\r\n                STYLE_OPERATORS,\r\n                Log\r\n            );\r\n\r\n            if (conditionMet) {\r\n                return rule.style;\r\n            }\r\n        }\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n/**\r\n * Construit les options Leaflet pour L.geoJSON à partir des options GeoLeaf.\r\n *\r\n * @param {Object} options - Options GeoLeaf\r\n * @returns {Object} - Options Leaflet\r\n */\r\nGeoJSONStyleResolver.buildLeafletOptions = function (options) {\r\n    const evaluateStyleRules = GeoJSONStyleResolver.evaluateStyleRules;\r\n\r\n    const normalizeStyle = (style) => {\r\n        if (!style || typeof style !== 'object') {\r\n            return {};\r\n        }\r\n\r\n        const normalized = {};\r\n\r\n        // Format imbriqué fill/stroke\r\n        if (style.fill || style.stroke) {\r\n            if (style.fill) {\r\n                if (style.fill.color) normalized.fillColor = style.fill.color;\r\n                if (typeof style.fill.opacity === 'number') {\r\n                    normalized.fillOpacity = style.fill.opacity;\r\n                } else {\r\n                    normalized.fillOpacity = 1.0;\r\n                }\r\n            }\r\n\r\n            if (style.stroke) {\r\n                if (style.stroke.color) normalized.color = style.stroke.color;\r\n                if (typeof style.stroke.opacity === 'number') normalized.opacity = style.stroke.opacity;\r\n                if (typeof style.stroke.widthPx === 'number') normalized.weight = style.stroke.widthPx;\r\n                if (style.stroke.dashArray) normalized.dashArray = style.stroke.dashArray;\r\n                if (style.stroke.lineCap) normalized.lineCap = style.stroke.lineCap;\r\n                if (style.stroke.lineJoin) normalized.lineJoin = style.stroke.lineJoin;\r\n            }\r\n\r\n            // Hatch (hachurage) — copier la structure pour que setLayerStyle\r\n            // puisse la traiter plus tard.\r\n            // Pour renderMode 'pattern_only' : on met fillColor='transparent'\r\n            // et fillOpacity=1. Transparent évite le flash blanc, et fillOpacity=1\r\n            // garantit que le pattern SVG sera visible dès son injection par\r\n            // _applyHatchToLayer (plus besoin de changer fill-opacity après coup).\r\n            if (style.hatch && style.hatch.enabled) {\r\n                normalized.hatch = Object.assign({}, style.hatch);\r\n                if (style.hatch.renderMode === 'pattern_only') {\r\n                    normalized.fillColor = 'transparent';\r\n                    normalized.fillOpacity = 1;\r\n                }\r\n            }\r\n\r\n            // Propriétés communes\r\n            if (style.shape) normalized.shape = style.shape;\r\n            if (typeof style.sizePx === 'number') {\r\n                normalized.radius = style.sizePx;\r\n                normalized.sizePx = style.sizePx;\r\n            }\r\n        } else {\r\n            Object.assign(normalized, style);\r\n            if (typeof normalized.fillOpacity !== 'number') {\r\n                normalized.fillOpacity = 1.0;\r\n            }\r\n        }\r\n\r\n        return normalized;\r\n    };\r\n\r\n    const leafletOptions = {\r\n        /**\r\n         * Style pour polygones / lignes.\r\n         * Priorité : defaultStyle < styleRules (première correspondante) < feature.properties.style\r\n         */\r\n        style(feature) {\r\n            // 1. Commencer avec le style par défaut\r\n            let finalStyle = Object.assign({}, normalizeStyle(options.defaultStyle));\r\n\r\n            // 2. Appliquer les styleRules (première règle correspondante gagne)\r\n            if (options.styleRules && Array.isArray(options.styleRules)) {\r\n                const matchedStyle = evaluateStyleRules(feature, options.styleRules);\r\n                if (matchedStyle) {\r\n                    finalStyle = Object.assign({}, finalStyle, normalizeStyle(matchedStyle));\r\n                }\r\n            }\r\n\r\n            // 3. Mode interactif\r\n            const interactiveShapes = typeof options.interactiveShape === \"boolean\"\r\n                ? options.interactiveShape\r\n                : (_g.GeoLeaf && _g.GeoLeaf.Config && _g.GeoLeaf.Config.get ? _g.GeoLeaf.Config.get('ui.interactiveShapes', false) : false);\r\n            finalStyle.interactive = interactiveShapes;\r\n\r\n            return finalStyle;\r\n        },\r\n\r\n        /**\r\n         * Gestion des points (Point / MultiPoint).\r\n         */\r\n        pointToLayer: options.pointToLayer\r\n            ? function (feature, latlng) {\r\n                  return options.pointToLayer(feature, latlng);\r\n              }\r\n            : function (feature, latlng) {\r\n                  // Utiliser le paramètre interactiveShape défini pour cette couche\r\n                  const interactiveShapes = typeof options.interactiveShape === \"boolean\"\r\n                      ? options.interactiveShape\r\n                      : (_g.GeoLeaf && _g.GeoLeaf.Config && _g.GeoLeaf.Config.get ? _g.GeoLeaf.Config.get('ui.interactiveShapes', false) : false);\r\n                  const pointStyle = _g.GeoLeaf && _g.GeoLeaf.Utils && _g.GeoLeaf.Utils.mergeOptions\r\n                      ? _g.GeoLeaf.Utils.mergeOptions(options.defaultPointStyle, { interactive: interactiveShapes })\r\n                      : Object.assign({}, options.defaultPointStyle, { interactive: interactiveShapes });\r\n                  return _g.L.circleMarker(latlng, pointStyle);\r\n              },\r\n\r\n        /**\r\n         * Callback pour chaque entité.\r\n         */\r\n        onEachFeature: function (feature, layer) {\r\n            // Popup simple par défaut si popupContent fourni\r\n            if (\r\n                feature &&\r\n                feature.properties &&\r\n                typeof feature.properties.popupContent === \"string\"\r\n            ) {\r\n                layer.bindPopup(feature.properties.popupContent);\r\n            }\r\n\r\n            // Callback custom utilisateur\r\n            if (typeof options.onEachFeature === \"function\") {\r\n                options.onEachFeature(feature, layer);\r\n            }\r\n        }\r\n    };\r\n\r\n    return leafletOptions;\r\n};\r\n\r\n// Exposer aussi via _StyleRules pour compatibilité avec le module Themes\r\nif (!_g.GeoLeaf) _g.GeoLeaf = {};\r\n_g.GeoLeaf._StyleRules = {\r\n    evaluate: GeoJSONStyleResolver.evaluateStyleRules,\r\n    operators: GeoJSONShared ? GeoJSONShared.STYLE_OPERATORS : {},\r\n    getNestedValue: GeoJSONStyleResolver.getNestedValue\r\n};\r\n\r\nexport { GeoJSONStyleResolver };\r\n","/**\r\n * GeoLeaf GeoJSON Module — Vector Tiles\r\n * Support for protobuf vector tiles via Leaflet.VectorGrid\r\n *\r\n * Sprint 8: Replace heavy GeoJSON polygon/line layers with pre-generated\r\n * vector tiles for near-zero memory consumption. Tiles are served as\r\n * static PBF files ({z}/{x}/{y}.pbf) — no tile server required.\r\n *\r\n * Requires: leaflet.vectorgrid (optional peer dependency)\r\n *   <script src=\"https://unpkg.com/leaflet.vectorgrid/dist/Leaflet.VectorGrid.bundled.min.js\"></script>\r\n *\r\n * Fallback: if VectorGrid is not available, the layer falls back to\r\n * standard GeoJSON loading (single-layer.js pipeline).\r\n *\r\n * @module geojson/vector-tiles\r\n */\r\n\"use strict\";\r\n\r\nimport { GeoJSONShared } from './shared.js';\r\nimport { normalizeStyleToLeaflet } from './style-utils.js';\r\nimport { getLog } from '../utils/general-utils.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\nconst getState = () => GeoJSONShared.state;\r\n\r\n/**\r\n * VectorTiles module — manages VT layer creation, style mapping, and interactions.\r\n * Exposed as GeoLeaf._VectorTiles on the global namespace.\r\n */\r\nconst VectorTiles = {\r\n\r\n    // ════════════════════════════════════════════════════════════════\r\n    //   DETECTION\r\n    // ════════════════════════════════════════════════════════════════\r\n\r\n    /**\r\n     * Check whether Leaflet.VectorGrid is loaded and usable.\r\n     * @returns {boolean}\r\n     */\r\n    isAvailable() {\r\n        return !!(\r\n            _g.L &&\r\n            _g.L.vectorGrid &&\r\n            typeof _g.L.vectorGrid.protobuf === 'function'\r\n        );\r\n    },\r\n\r\n    /**\r\n     * Determine if a layer definition should use vector tiles.\r\n     * Returns true only when:\r\n     * 1. The layer has a vectorTiles config with enabled !== false\r\n     * 2. Leaflet.VectorGrid is loaded\r\n     * 3. The layer's default style does NOT use SVG hatch patterns\r\n     *    (VectorGrid uses Canvas tiles — SVG patterns are incompatible)\r\n     *\r\n     * @param {Object} def - Normalised layer definition\r\n     * @returns {boolean}\r\n     */\r\n    shouldUseVectorTiles(def) {\r\n        const vtConfig = this._getVTConfig(def);\r\n        if (!vtConfig || vtConfig.enabled === false) return false;\r\n        if (!this.isAvailable()) return false;\r\n\r\n        // Layers requiring SVG hatch patterns cannot use VectorGrid (Canvas-based).\r\n        // Check the inline style definition for hatch config.\r\n        if (def.style && def.style.hatch && def.style.hatch.enabled) {\r\n            const Log = getLog();\r\n            Log.info(`[VectorTiles] Layer \"${def.id}\" has hatch patterns → falling back to GeoJSON/SVG renderer`);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    },\r\n\r\n    // ════════════════════════════════════════════════════════════════\r\n    //   CONFIG HELPERS\r\n    // ════════════════════════════════════════════════════════════════\r\n\r\n    /**\r\n     * Extract the vectorTiles config block from a layer definition.\r\n     * Supports both `def.vectorTiles` and `def.data.vectorTiles`.\r\n     *\r\n     * @param {Object} def\r\n     * @returns {Object|null}\r\n     * @private\r\n     */\r\n    _getVTConfig(def) {\r\n        if (!def) return null;\r\n        if (def.vectorTiles && typeof def.vectorTiles === 'object') {\r\n            return def.vectorTiles;\r\n        }\r\n        if (def.data && def.data.vectorTiles && typeof def.data.vectorTiles === 'object') {\r\n            return def.data.vectorTiles;\r\n        }\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * Resolve the full tile URL template from the layer definition.\r\n     * If the config provides an absolute URL, returns it as-is.\r\n     * Otherwise builds a relative path: `{profilesBasePath}/{profileId}/{layerDir}/{tilesDir}/{z}/{x}/{y}.pbf`\r\n     *\r\n     * @param {Object} def - Layer definition (must contain _profileId + _layerDirectory)\r\n     * @param {Object} vtConfig - The vectorTiles config block\r\n     * @returns {string|null}\r\n     * @private\r\n     */\r\n    _resolveTileUrl(def, vtConfig) {\r\n        // Absolute URL or explicit template\r\n        if (vtConfig.url) {\r\n            if (vtConfig.url.startsWith('http') || vtConfig.url.startsWith('//') || vtConfig.url.startsWith('/')) {\r\n                return vtConfig.url;\r\n            }\r\n        }\r\n\r\n        const Config = _g.GeoLeaf && _g.GeoLeaf.Config;\r\n        const dataCfg = Config && Config.get ? Config.get('data') : null;\r\n        const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || 'profiles';\r\n        const profileId = def._profileId;\r\n        const layerDir = def._layerDirectory;\r\n\r\n        if (!profileId || !layerDir) {\r\n            // Cannot resolve relative → try raw url fallback\r\n            return vtConfig.url || null;\r\n        }\r\n\r\n        const tilesDir = vtConfig.tilesDirectory || 'tiles';\r\n        return `${profilesBasePath}/${profileId}/${layerDir}/${tilesDir}/{z}/{x}/{y}.pbf`;\r\n    },\r\n\r\n    // ════════════════════════════════════════════════════════════════\r\n    //   STYLE CONVERSION\r\n    // ════════════════════════════════════════════════════════════════\r\n\r\n    /**\r\n     * Normalise a GeoLeaf style object into flat Leaflet Path options.\r\n     * Phase 4 dedup: delegates to shared style-utils.\r\n     * @private\r\n     */\r\n    _normalizeStyle(style) {\r\n        return normalizeStyleToLeaflet(style, { setFillFlag: true });\r\n    },\r\n\r\n    /**\r\n     * Convert a full GeoLeaf style definition (defaultStyle + styleRules)\r\n     * into a VectorGrid-compatible style value.\r\n     *\r\n     * If styleRules are present, returns a **function(properties, zoom)**\r\n     * that evaluates rules per-feature (called by VectorGrid for each tile feature).\r\n     *\r\n     * If only a static defaultStyle is present, returns a flat style object.\r\n     *\r\n     * @param {Object|null} styleData - Loaded style JSON ({defaultStyle, styleRules, ...})\r\n     * @param {Object|null} fallbackStyle - Fallback default style (GeoLeaf defaults)\r\n     * @returns {Object|Function} VectorGrid style value\r\n     */\r\n    convertStyleToVT(styleData, fallbackStyle) {\r\n        const self = this;\r\n        const base = this._normalizeStyle(fallbackStyle || {});\r\n\r\n        if (!styleData) return base;\r\n\r\n        // Merge defaultStyle from loaded style JSON\r\n        const merged = Object.assign({}, base, this._normalizeStyle(styleData.defaultStyle));\r\n\r\n        // If styleRules are present, return a function for per-feature evaluation\r\n        if (styleData.styleRules && Array.isArray(styleData.styleRules) && styleData.styleRules.length > 0) {\r\n            const rules = styleData.styleRules;\r\n\r\n            return function vtStyleFunction(properties, zoom) {\r\n                // Build a pseudo-feature for evaluateStyleRules\r\n                const feature = { properties: properties || {} };\r\n\r\n                const StyleResolver = _g.GeoLeaf && _g.GeoLeaf._GeoJSONStyleResolver;\r\n                if (StyleResolver && typeof StyleResolver.evaluateStyleRules === 'function') {\r\n                    const matched = StyleResolver.evaluateStyleRules(feature, rules);\r\n                    if (matched) {\r\n                        return Object.assign({}, merged, self._normalizeStyle(matched));\r\n                    }\r\n                }\r\n                return merged;\r\n            };\r\n        }\r\n\r\n        return merged;\r\n    },\r\n\r\n    // ════════════════════════════════════════════════════════════════\r\n    //   LAYER CREATION\r\n    // ════════════════════════════════════════════════════════════════\r\n\r\n    /**\r\n     * Create and return a L.vectorGrid.protobuf layer for a VT-enabled definition.\r\n     * This is the main entry point called from single-layer.js.\r\n     *\r\n     * @param {string} layerId - Unique layer ID\r\n     * @param {string} layerLabel - Display label\r\n     * @param {Object} def - Normalised layer definition (must include vectorTiles block)\r\n     * @param {Object} baseOptions - Base options from GeoJSON module\r\n     * @returns {Promise<Object>} Layer metadata (id, label, featureCount, isVectorTile)\r\n     */\r\n    async loadVectorTileLayer(layerId, layerLabel, def, baseOptions) {\r\n        const Log = getLog();\r\n        const state = getState();\r\n        const vtConfig = this._getVTConfig(def);\r\n\r\n        if (!vtConfig) {\r\n            throw new Error(`[VectorTiles] No vectorTiles config for ${layerId}`);\r\n        }\r\n\r\n        // 1. Resolve tile URL\r\n        const tileUrl = this._resolveTileUrl(def, vtConfig);\r\n        if (!tileUrl) {\r\n            throw new Error(`[VectorTiles] Cannot resolve tile URL for ${layerId}`);\r\n        }\r\n\r\n        // 2. Load default style (same mechanism as GeoJSON layers)\r\n        let styleData = null;\r\n        try {\r\n            if (def.styles && def.styles.default) {\r\n                styleData = await (_g.GeoLeaf && _g.GeoLeaf._GeoJSONLayerConfig && _g.GeoLeaf._GeoJSONLayerConfig.loadDefaultStyle(layerId, def));\r\n            }\r\n        } catch (err) {\r\n            Log.warn(`[VectorTiles] Could not load default style for ${layerId}:`, err.message);\r\n        }\r\n\r\n        // 3. Convert style\r\n        const fallbackStyle = state.options.defaultStyle;\r\n        const vtStyle = this.convertStyleToVT(styleData, fallbackStyle);\r\n\r\n        // 4. Layer name in the vector tile (configured or defaults to layer id)\r\n        const vtLayerName = vtConfig.layerName || def.id;\r\n\r\n        // 5. Resolve pane\r\n        const PaneHelpers = GeoJSONShared.PaneHelpers;\r\n        const PaneConfig = GeoJSONShared.PANE_CONFIG;\r\n\r\n        let zIndex = def.zIndex;\r\n        if (typeof zIndex !== 'number') {\r\n            const allLayerIds = Array.from(state.layers.keys());\r\n            zIndex = Math.max(PaneConfig.MIN_LAYER_ZINDEX, PaneConfig.MAX_LAYER_ZINDEX - allLayerIds.length);\r\n        } else {\r\n            zIndex = PaneHelpers.validateZIndex(zIndex);\r\n        }\r\n        def.zIndex = zIndex;\r\n\r\n        const paneName = PaneHelpers.getOrCreatePane\r\n            ? PaneHelpers.getOrCreatePane(zIndex, state.map)\r\n            : PaneHelpers.getPaneName(zIndex);\r\n\r\n        // 6. Build VectorGrid options\r\n        const vtOptions = {\r\n            vectorTileLayerStyles: {},\r\n            interactive: vtConfig.interactive !== false,\r\n            maxNativeZoom: vtConfig.maxNativeZoom || 14,\r\n            maxZoom: vtConfig.maxZoom || (state.options.maxZoomOnFit || 18),\r\n            minZoom: vtConfig.minZoom || 0,\r\n            pane: paneName,\r\n            rendererFactory: _g.L && _g.L.canvas ? _g.L.canvas.tile : undefined,\r\n            tolerance: vtConfig.tolerance || 3,\r\n        };\r\n\r\n        // Feature ID accessor (for setFeatureStyle)\r\n        if (vtConfig.featureIdProperty) {\r\n            vtOptions.getFeatureId = function (feature) {\r\n                return feature.properties[vtConfig.featureIdProperty] || feature.id;\r\n            };\r\n        }\r\n\r\n        vtOptions.vectorTileLayerStyles[vtLayerName] = vtStyle;\r\n\r\n        Log.info(`[GeoLeaf.VectorTiles] ⬡ Creating VT layer: ${layerId} (tile layer: ${vtLayerName})`);\r\n        Log.debug(`[GeoLeaf.VectorTiles] URL template: ${tileUrl}`);\r\n\r\n        // 7. Create the VectorGrid layer\r\n        const vtLayer = _g.L.vectorGrid.protobuf(tileUrl, vtOptions);\r\n\r\n        // 8. Bind interactions (popup, tooltip)\r\n        if (vtConfig.interactive !== false) {\r\n            this._bindInteractions(vtLayer, def);\r\n        }\r\n\r\n        // 9. Store in state.layers (same structure as GeoJSON layers for LayerManager compat)\r\n        const Config = _g.GeoLeaf && _g.GeoLeaf.Config;\r\n        const dataCfg = Config && Config.get ? Config.get('data') : null;\r\n        const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || 'profiles';\r\n        const layerBasePath = `${profilesBasePath}/${def._profileId}/${def._layerDirectory}`;\r\n\r\n        const layerData = {\r\n            id: layerId,\r\n            label: layerLabel,\r\n            layer: vtLayer,\r\n            visible: true,\r\n            config: def,\r\n            clusterGroup: null,\r\n            legendsConfig: def.legends,\r\n            basePath: layerBasePath,\r\n            useSharedCluster: false,\r\n            features: [],  // VT layers don't expose raw features\r\n            geometryType: def.geometry || def.geometryType || 'polygon',\r\n            // Sprint 8: VT-specific metadata\r\n            isVectorTile: true,\r\n            vtLayerName: vtLayerName,\r\n            vtTileUrl: tileUrl,\r\n            currentStyle: styleData\r\n        };\r\n\r\n        // Visibility metadata (same as GeoJSON layers)\r\n        layerData._visibility = {\r\n            current: false,\r\n            logicalState: false,\r\n            source: 'system',\r\n            userOverride: false,\r\n            themeOverride: false,\r\n            themeDesired: null,\r\n            zoomConstrained: false\r\n        };\r\n\r\n        state.layers.set(layerId, layerData);\r\n\r\n        // VT layers do NOT go into ThemeCache (nothing to cache — tiles are streamed)\r\n\r\n        // Apply zoom visibility if LayerManager is available\r\n        if (_g.GeoLeaf && _g.GeoLeaf._GeoJSONLayerManager) {\r\n            _g.GeoLeaf._GeoJSONLayerManager.updateLayerVisibilityByZoom();\r\n        }\r\n\r\n        // Don't auto-add to map — themes control visibility\r\n        layerData.visible = false;\r\n\r\n        Log.info(`[GeoLeaf.VectorTiles] ✅ VT layer loaded: ${layerId}`);\r\n\r\n        return {\r\n            id: layerId,\r\n            label: layerLabel,\r\n            featureCount: 0,  // VT: feature count unknown until tiles are rendered\r\n            isVectorTile: true\r\n        };\r\n    },\r\n\r\n    // ════════════════════════════════════════════════════════════════\r\n    //   INTERACTIONS (POPUP / TOOLTIP)\r\n    // ════════════════════════════════════════════════════════════════\r\n\r\n    /**\r\n     * Bind popup and tooltip interactions to a VectorGrid layer.\r\n     * VectorGrid fires click/mouseover on individual tile features,\r\n     * providing `e.layer.properties` from the PBF data.\r\n     *\r\n     * @param {L.VectorGrid} vtLayer - The VectorGrid layer\r\n     * @param {Object} def - Layer definition (popup/tooltip config)\r\n     * @private\r\n     */\r\n    _bindInteractions(vtLayer, def) {\r\n        const Log = getLog();\r\n        const PopupTooltip = _g.GeoLeaf && _g.GeoLeaf._GeoJSONPopupTooltip;\r\n\r\n        // ── Click → popup ──\r\n        if (def.popup && def.popup.enabled !== false) {\r\n            vtLayer.on('click', function (e) {\r\n                if (!e.layer || !e.layer.properties) return;\r\n\r\n                const feature = {\r\n                    type: 'Feature',\r\n                    properties: e.layer.properties,\r\n                    geometry: null  // Geometry not available from VT click events\r\n                };\r\n\r\n                // Build popup content the same way as GeoJSON layers\r\n                if (PopupTooltip && typeof PopupTooltip._buildPopupContent === 'function') {\r\n                    const content = PopupTooltip._buildPopupContent(feature, def);\r\n                    if (content) {\r\n                        _g.L.popup()\r\n                            .setLatLng(e.latlng)\r\n                            .setContent(content)\r\n                            .openOn(getState().map);\r\n                    }\r\n                } else {\r\n                    // Fallback: simple properties dump\r\n                    const props = feature.properties;\r\n                    const lines = Object.keys(props)\r\n                        .filter(k => props[k] !== null && props[k] !== undefined)\r\n                        .slice(0, 10)\r\n                        .map(k => `<b>${k}:</b> ${props[k]}`);\r\n                    if (lines.length > 0) {\r\n                        _g.L.popup()\r\n                            .setLatLng(e.latlng)\r\n                            .setContent(lines.join('<br>'))\r\n                            .openOn(getState().map);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        // ── Hover → tooltip ──\r\n        if (def.tooltip && def.tooltip.enabled !== false) {\r\n            let tooltipLayer = null;\r\n\r\n            vtLayer.on('mouseover', function (e) {\r\n                if (!e.layer || !e.layer.properties) return;\r\n\r\n                const fields = def.tooltip.fields;\r\n                if (!fields || !Array.isArray(fields) || fields.length === 0) return;\r\n\r\n                // Extract the first text field for tooltip\r\n                const firstField = fields[0];\r\n                const fieldPath = firstField.field || '';\r\n                const propValue = _resolvePropertyPath(e.layer.properties, fieldPath);\r\n\r\n                if (propValue) {\r\n                    tooltipLayer = _g.L.tooltip({ sticky: true })\r\n                        .setLatLng(e.latlng)\r\n                        .setContent(String(propValue));\r\n                    getState().map.addLayer(tooltipLayer);\r\n                }\r\n            });\r\n\r\n            vtLayer.on('mouseout', function () {\r\n                if (tooltipLayer) {\r\n                    getState().map.removeLayer(tooltipLayer);\r\n                    tooltipLayer = null;\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    // ════════════════════════════════════════════════════════════════\r\n    //   STYLE UPDATES (for theme changes)\r\n    // ════════════════════════════════════════════════════════════════\r\n\r\n    /**\r\n     * Update the style of an existing VT layer.\r\n     * Called by the LayerManager / Themes when the active style changes.\r\n     *\r\n     * @param {string} layerId - Layer ID\r\n     * @param {Object} styleData - New style JSON ({defaultStyle, styleRules, ...})\r\n     */\r\n    updateLayerStyle(layerId, styleData) {\r\n        const Log = getLog();\r\n        const state = getState();\r\n        const layerData = state.layers.get(layerId);\r\n\r\n        if (!layerData || !layerData.isVectorTile) return;\r\n\r\n        const vtLayerName = layerData.vtLayerName;\r\n        const vtLayer = layerData.layer;\r\n\r\n        if (!vtLayer || !vtLayer.options) return;\r\n\r\n        const fallbackStyle = state.options.defaultStyle;\r\n        const newStyle = this.convertStyleToVT(styleData, fallbackStyle);\r\n\r\n        vtLayer.options.vectorTileLayerStyles[vtLayerName] = newStyle;\r\n\r\n        // Force redraw to apply new styles\r\n        if (typeof vtLayer.redraw === 'function') {\r\n            vtLayer.redraw();\r\n        }\r\n\r\n        layerData.currentStyle = styleData;\r\n        Log.debug(`[GeoLeaf.VectorTiles] Style updated for ${layerId}`);\r\n    }\r\n};\r\n\r\n\r\n// ════════════════════════════════════════════════════════════════\r\n//   PRIVATE HELPERS\r\n// ════════════════════════════════════════════════════════════════\r\n\r\n/**\r\n * Resolve a dot-notation property path against a flat properties object.\r\n * Handles \"properties.Name\" → looks up \"Name\" (strips \"properties.\" prefix).\r\n *\r\n * @param {Object} props - Flat properties from vector tile feature\r\n * @param {string} path - Dot-notation path (e.g. \"properties.Name\")\r\n * @returns {*} Resolved value or null\r\n * @private\r\n */\r\nfunction _resolvePropertyPath(props, path) {\r\n    if (!props || !path) return null;\r\n\r\n    // Strip leading \"properties.\" since VT features already provide flat properties\r\n    const cleanPath = path.startsWith('properties.')\r\n        ? path.substring('properties.'.length)\r\n        : path;\r\n\r\n    // Simple dot-notation resolution\r\n    const parts = cleanPath.split('.');\r\n    let current = props;\r\n    for (const part of parts) {\r\n        if (current === null || current === undefined) return null;\r\n        current = current[part];\r\n    }\r\n    return current !== undefined ? current : null;\r\n}\r\n\r\n\r\nexport { VectorTiles };\r\n","/**\r\n * GeoLeaf GeoJSON Module - Visibility Manager\r\n * Gestionnaire centralisé de visibilité des couches avec gestion des priorités\r\n *\r\n * Gère trois sources de modification de visibilité :\r\n * - 'user': Action manuelle de l'utilisateur (toggle, show/hide explicite)\r\n * - 'theme': Modification par application d'un thème\r\n * - 'zoom': Modification automatique selon le niveau de zoom\r\n *\r\n * Règles de priorité :\r\n * 1. user > theme > zoom (l'utilisateur a toujours le dernier mot)\r\n * 2. Une action 'user' annule les flags 'theme' et 'zoom'\r\n * 3. Une action 'theme' peut override 'zoom' mais pas 'user'\r\n * 4. Une action 'zoom' ne change jamais l'état si 'user' ou 'theme' est actif\r\n *\r\n * @module geojson/visibility-manager\r\n */\r\n\"use strict\";\r\n\r\nimport { GeoJSONShared } from './shared.js';\r\nimport { getLog } from '../utils/general-utils.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\n\r\n\r\n// Dépendances lazy\r\n\r\nconst getState = () => GeoJSONShared.state;\r\n\r\nconst VisibilityManager = {};\r\n\r\n\r\n/**\r\n * États de visibilité possibles\r\n * @private\r\n */\r\nconst VisibilitySource = {\r\n    USER: 'user',\r\n    THEME: 'theme',\r\n    ZOOM: 'zoom',\r\n    SYSTEM: 'system'  // Chargement initial, etc.\r\n};\r\n\r\n/**\r\n * Initialise les métadonnées de visibilité pour une couche\r\n * @param {Object} layerData - Données de la couche\r\n * @private\r\n */\r\nfunction initVisibilityMetadata(layerData) {\r\n    if (!layerData._visibility) {\r\n        layerData._visibility = {\r\n            current: false,           // État actuel physique sur la carte (true/false)\r\n            logicalState: false,      // État logique (bouton ON/OFF, indépendant du zoom)\r\n            source: VisibilitySource.SYSTEM,  // Dernière source de modification\r\n            userOverride: false,      // L'utilisateur a forcé un état\r\n            themeOverride: false,     // Un thème a forcé un état\r\n            themeDesired: null,       // Visibilité voulue par le thème (true/false)\r\n            zoomConstrained: false    // La couche est limitée par le zoom\r\n        };\r\n    }\r\n}\r\n\r\n/**\r\n * Définit la visibilité d'une couche avec gestion de priorité\r\n *\r\n * @param {string} layerId - ID de la couche\r\n * @param {boolean} visible - État de visibilité souhaité\r\n * @param {string} source - Source de la modification ('user' | 'theme' | 'zoom' | 'system')\r\n * @returns {boolean} - true si la visibilité a été modifiée, false sinon\r\n */\r\nVisibilityManager.setVisibility = function (layerId, visible, source) {\r\n    const state = getState();\r\n    const Log = getLog();\r\n    const layerData = state.layers.get(layerId);\r\n\r\n    if (!layerData) {\r\n        Log.warn(\"[VisibilityManager] Couche introuvable:\", layerId);\r\n        return false;\r\n    }\r\n\r\n    // Initialiser les métadonnées si nécessaire\r\n    initVisibilityMetadata(layerData);\r\n\r\n    const meta = layerData._visibility;\r\n    const oldVisible = meta.current;\r\n    const oldSource = meta.source;\r\n\r\n    // Appliquer les règles de priorité\r\n    const canChange = this._canChangeVisibility(meta, source, visible);\r\n\r\n    if (!canChange) {\r\n        Log.debug(\r\n            `[VisibilityManager] Changement refusé pour ${layerId}: ` +\r\n            `source=${source}, userOverride=${meta.userOverride}, themeOverride=${meta.themeOverride}`\r\n        );\r\n        return false;\r\n    }\r\n\r\n    // Mettre à jour les flags selon la source\r\n    this._updateVisibilityFlags(meta, source, visible);\r\n\r\n    // Appliquer le changement effectif\r\n    const changed = this._applyVisibilityChange(layerId, layerData, visible);\r\n\r\n    if (changed) {\r\n        meta.current = visible;\r\n        meta.source = source;\r\n\r\n        Log.debug(\r\n            `[VisibilityManager] ${layerId}: ${oldVisible} → ${visible} ` +\r\n            `(source: ${oldSource} → ${source})`\r\n        );\r\n\r\n        // Mettre à jour les anciens flags pour compatibilité\r\n        layerData.visible = visible;\r\n        layerData.userDisabled = meta.userOverride && !visible;\r\n        layerData.themeHidden = meta.themeOverride && !visible;\r\n\r\n        // Notifier la légende\r\n        this._notifyLegend(layerId, visible);\r\n\r\n        // Émettre l'événement\r\n        this._fireVisibilityEvent(layerId, visible, source);\r\n    }\r\n\r\n    return changed;\r\n};\r\n\r\n/**\r\n * Vérifie si la visibilité peut être modifiée selon les règles de priorité\r\n * @param {Object} meta - Métadonnées de visibilité\r\n * @param {string} source - Source de la modification\r\n * @returns {boolean}\r\n * @private\r\n */\r\nVisibilityManager._canChangeVisibility = function (meta, source, desiredVisible) {\r\n    // L'utilisateur peut toujours modifier\r\n    if (source === VisibilitySource.USER) {\r\n        return true;\r\n    }\r\n\r\n    // IMPORTANT: Le zoom DOIT TOUJOURS pouvoir modifier l'affichage physique (current)\r\n    // même si userOverride est true. Cela permet d'afficher/masquer selon les seuils de zoom\r\n    // tout en gardant logicalState indépendant.\r\n    if (source === VisibilitySource.ZOOM) {\r\n        return true;\r\n    }\r\n\r\n    // Si l'utilisateur a défini un override, seul l'utilisateur peut changer l'état logique\r\n    if (meta.userOverride) {\r\n        return false;\r\n    }\r\n\r\n    // Ne jamais réactiver ce qu'un thème a explicitement masqué\r\n    if (source === VisibilitySource.ZOOM && meta.themeOverride && meta.themeDesired === false && desiredVisible === true) {\r\n        return false;\r\n    }\r\n\r\n    // Les thèmes peuvent override le zoom mais pas l'utilisateur\r\n    if (source === VisibilitySource.THEME) {\r\n        return true;\r\n    }\r\n\r\n    // Par défaut, autoriser (pour 'system' et autres)\r\n    return true;\r\n};\r\n\r\n/**\r\n * Met à jour les flags de visibilité selon la source\r\n * @param {Object} meta - Métadonnées de visibilité\r\n * @param {string} source - Source de la modification\r\n * @param {boolean} visible - État de visibilité\r\n * @private\r\n */\r\nVisibilityManager._updateVisibilityFlags = function (meta, source, visible) {\r\n    switch (source) {\r\n        case VisibilitySource.USER:\r\n            meta.userOverride = true;\r\n            meta.themeOverride = false;  // Reset theme override\r\n            meta.zoomConstrained = false;\r\n            meta.logicalState = visible; // Mettre à jour l'état logique\r\n            break;\r\n\r\n        case VisibilitySource.THEME:\r\n            // Ne pas override userOverride si déjà présent\r\n            if (!meta.userOverride) {\r\n                meta.themeOverride = true;\r\n                meta.themeDesired = visible;\r\n                meta.zoomConstrained = false;\r\n                meta.logicalState = visible; // Mettre à jour l'état logique\r\n            }\r\n            break;\r\n\r\n        case VisibilitySource.ZOOM:\r\n            // Marquer la contrainte zoom (sauf override utilisateur)\r\n            // NE PAS modifier logicalState - le zoom n'affecte pas l'état logique\r\n            if (!meta.userOverride) {\r\n                meta.zoomConstrained = true;\r\n            }\r\n            break;\r\n\r\n        case VisibilitySource.SYSTEM:\r\n            // Reset tous les overrides pour un chargement propre\r\n            meta.userOverride = false;\r\n            meta.themeOverride = false;\r\n            meta.themeDesired = null;\r\n            meta.zoomConstrained = false;\r\n            meta.logicalState = visible; // Initialiser l'état logique\r\n            break;\r\n    }\r\n};\r\n\r\n/**\r\n * Applique physiquement le changement de visibilité (add/remove layer)\r\n * @param {string} layerId - ID de la couche\r\n * @param {Object} layerData - Données de la couche\r\n * @param {boolean} visible - État de visibilité souhaité\r\n * @returns {boolean} - true si un changement a été effectué\r\n * @private\r\n */\r\nVisibilityManager._applyVisibilityChange = function (layerId, layerData, visible) {\r\n    const state = getState();\r\n    const Log = getLog();\r\n\r\n    if (!layerData.layer) {\r\n        Log.warn(\"[VisibilityManager] Layer Leaflet manquant pour:\", layerId);\r\n        return false;\r\n    }\r\n\r\n    // Déterminer quelle couche gérer (cluster ou layer)\r\n    const layerToManage = layerData.clusterGroup || layerData.layer;\r\n    const isCurrentlyOnMap = state.map && state.map.hasLayer(layerToManage);\r\n\r\n    // Si déjà dans l'état souhaité, ne rien faire\r\n    if (visible && isCurrentlyOnMap) {\r\n        return false;\r\n    }\r\n    if (!visible && !isCurrentlyOnMap) {\r\n        return false;\r\n    }\r\n\r\n    try {\r\n        if (visible) {\r\n            // Cas 1 : Cluster partagé avec POI\r\n            if (layerData.useSharedCluster && layerData.clusterGroup) {\r\n                layerData.clusterGroup.addLayer(layerData.layer);\r\n            }\r\n            // Cas 2 : Cluster indépendant\r\n            else if (layerData.clusterGroup) {\r\n                state.map.addLayer(layerData.clusterGroup);\r\n                if (layerData.clusterGroup.refreshClusters) {\r\n                    layerData.clusterGroup.refreshClusters();\r\n                }\r\n            }\r\n            // Cas 3 : Pas de cluster - ajouter directement à la map pour respecter le pane\r\n            else {\r\n                state.map.addLayer(layerData.layer);\r\n            }\r\n        } else {\r\n            // Cas 1 : Cluster partagé avec POI\r\n            if (layerData.useSharedCluster && layerData.clusterGroup) {\r\n                layerData.clusterGroup.removeLayer(layerData.layer);\r\n            }\r\n            // Cas 2 : Cluster indépendant\r\n            else if (layerData.clusterGroup) {\r\n                state.map.removeLayer(layerData.clusterGroup);\r\n            }\r\n            // Cas 3 : Pas de cluster - retirer directement de la map\r\n            else {\r\n                state.map.removeLayer(layerData.layer);\r\n            }\r\n        }\r\n\r\n        // Synchroniser l'UI du Layer Manager et le bouton labels après changement réussi\r\n        // Utilise le refresh debounced pour grouper les changements multiples (ex: zoom)\r\n        if (_g.GeoLeaf && _g.GeoLeaf.LayerManager && typeof _g.GeoLeaf.LayerManager.refresh === 'function') {\r\n            _g.GeoLeaf.LayerManager.refresh(); // Debounced par défaut (100ms)\r\n        }\r\n\r\n        if (_g.GeoLeaf && _g.GeoLeaf._LabelButtonManager && typeof _g.GeoLeaf._LabelButtonManager.syncImmediate === 'function') {\r\n            _g.GeoLeaf._LabelButtonManager.syncImmediate(layerId);\r\n        }\r\n\r\n        return true;\r\n\r\n    } catch (err) {\r\n        Log.error(`[VisibilityManager] Erreur lors du changement de visibilité de ${layerId}:`, err);\r\n        return false;\r\n    }\r\n};\r\n\r\n/**\r\n * Notifie le module Legend d'un changement de visibilité\r\n * @param {string} layerId - ID de la couche\r\n * @param {boolean} visible - État de visibilité\r\n * @private\r\n */\r\nVisibilityManager._notifyLegend = function (layerId, visible) {\r\n    if (_g.GeoLeaf && _g.GeoLeaf.Legend && typeof _g.GeoLeaf.Legend.setLayerVisibility === \"function\") {\r\n        _g.GeoLeaf.Legend.setLayerVisibility(layerId, visible);\r\n    }\r\n\r\n    // Notifier aussi le module Labels pour masquer/afficher les étiquettes\r\n    if (_g.GeoLeaf && _g.GeoLeaf.Labels) {\r\n        if (visible) {\r\n            // Si la couche devient visible, vérifier si les labels doivent être affichés\r\n            // refreshLabels ne fait rien si les labels ne sont pas enabled\r\n            if (typeof _g.GeoLeaf.Labels.refreshLabels === \"function\") {\r\n                _g.GeoLeaf.Labels.refreshLabels(layerId);\r\n            }\r\n        } else {\r\n            // Si la couche devient invisible, masquer les labels (sans changer enabled)\r\n            if (typeof _g.GeoLeaf.Labels._hideLabelsForLayer === \"function\") {\r\n                _g.GeoLeaf.Labels._hideLabelsForLayer(layerId);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Synchroniser le bouton de label pour refléter la visibilité de la couche\r\n    if (_g.GeoLeaf && _g.GeoLeaf._LabelButtonManager && typeof _g.GeoLeaf._LabelButtonManager.syncImmediate === \"function\") {\r\n        _g.GeoLeaf._LabelButtonManager.syncImmediate(layerId);\r\n    }\r\n};\r\n\r\n/**\r\n * Émet un événement de changement de visibilité\r\n * @param {string} layerId - ID de la couche\r\n * @param {boolean} visible - État de visibilité\r\n * @param {string} source - Source du changement\r\n * @private\r\n */\r\nVisibilityManager._fireVisibilityEvent = function (layerId, visible, source) {\r\n    const state = getState();\r\n    if (!state.map) return;\r\n\r\n    try {\r\n        state.map.fire(\"geoleaf:geojson:visibility-changed\", {\r\n            layerId: layerId,\r\n            visible: visible,\r\n            source: source\r\n        });\r\n    } catch (e) {\r\n        // Silencieux\r\n    }\r\n};\r\n\r\n/**\r\n * Réinitialise les overrides utilisateur pour une couche\r\n * Utilisé par les thèmes pour reprendre le contrôle\r\n *\r\n * @param {string} layerId - ID de la couche\r\n */\r\nVisibilityManager.resetUserOverride = function (layerId) {\r\n    const state = getState();\r\n    const layerData = state.layers.get(layerId);\r\n\r\n    if (layerData && layerData._visibility) {\r\n        layerData._visibility.userOverride = false;\r\n        getLog().debug(`[VisibilityManager] User override réinitialisé pour ${layerId}`);\r\n    }\r\n};\r\n\r\n/**\r\n * Réinitialise tous les overrides utilisateur\r\n * Utilisé par les thèmes lors d'un changement complet de thème\r\n */\r\nVisibilityManager.resetAllUserOverrides = function () {\r\n    const state = getState();\r\n    let count = 0;\r\n\r\n    state.layers.forEach((layerData, layerId) => {\r\n        if (layerData._visibility && layerData._visibility.userOverride) {\r\n            layerData._visibility.userOverride = false;\r\n            count++;\r\n        }\r\n    });\r\n\r\n    if (count > 0) {\r\n        getLog().debug(`[VisibilityManager] ${count} user override(s) réinitialisé(s)`);\r\n    }\r\n};\r\n\r\n/**\r\n * Obtient l'état de visibilité complet d'une couche\r\n * @param {string} layerId - ID de la couche\r\n * @returns {Object|null} - Métadonnées de visibilité ou null\r\n */\r\nVisibilityManager.getVisibilityState = function (layerId) {\r\n    const state = getState();\r\n    const layerData = state.layers.get(layerId);\r\n\r\n    if (!layerData) {\r\n        return null;\r\n    }\r\n\r\n    initVisibilityMetadata(layerData);\r\n\r\n    return {\r\n        current: layerData._visibility.current,\r\n        source: layerData._visibility.source,\r\n        userOverride: layerData._visibility.userOverride,\r\n        themeOverride: layerData._visibility.themeOverride,\r\n        zoomConstrained: layerData._visibility.zoomConstrained\r\n    };\r\n};\r\n\r\n/**\r\n * Exporte les constantes pour utilisation externe\r\n */\r\nVisibilityManager.VisibilitySource = VisibilitySource;\r\n\r\ngetLog().info(\"[GeoLeaf._LayerVisibilityManager] Module chargé\");\r\n\r\nexport { VisibilityManager };\r\n","/**\r\n * GeoLeaf GeoJSON Worker Manager\r\n * Orchestre le cycle de vie du Web Worker GeoJSON.\r\n *\r\n * Fonctionnalités :\r\n *   - Création lazy d'un Worker unique (singleton)\r\n *   - Communication postMessage / onmessage\r\n *   - Fallback transparent vers fetch main-thread si Worker indisponible\r\n *   - Nettoyage automatique du Worker après un délai d'inactivité\r\n *\r\n * @module geojson/worker-manager\r\n */\r\n\"use strict\";\r\n\r\nimport { getLog } from '../utils/general-utils.js';\r\n\r\n/** Délai avant terminaison du Worker inactif (ms) */\r\nconst IDLE_TIMEOUT = 30000;\r\n\r\n/** Chunk size envoyé au Worker */\r\nconst DEFAULT_CHUNK_SIZE = 500;\r\n\r\n/** Nom du fichier worker */\r\nconst WORKER_FILENAME = \"geojson-worker.js\";\r\n\r\n/**\r\n * Détecte le répertoire de base du bundle GeoLeaf en scannant les balises <script>.\r\n * Permet de résoudre l'URL du Worker relativement au bundle, pas à la page HTML.\r\n *\r\n * @returns {string} Base URL se terminant par '/' (ex. \"../dist/\" ou \"/assets/js/\")\r\n * @private\r\n */\r\nfunction _detectScriptBase() {\r\n    // Méthode 1 : document.currentScript (disponible uniquement pendant l'exécution synchrone du script)\r\n    if (typeof document !== \"undefined\" && document.currentScript && document.currentScript.src) {\r\n        return document.currentScript.src.substring(0, document.currentScript.src.lastIndexOf(\"/\") + 1);\r\n    }\r\n\r\n    // Méthode 2 : scanner les <script> pour trouver geoleaf*.js\r\n    if (typeof document !== \"undefined\") {\r\n        var scripts = document.getElementsByTagName(\"script\");\r\n        for (var i = scripts.length - 1; i >= 0; i--) {\r\n            var src = scripts[i].src || \"\";\r\n            if (/geoleaf[\\w.-]*\\.js/i.test(src)) {\r\n                return src.substring(0, src.lastIndexOf(\"/\") + 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Méthode 3 : fallback — même répertoire que la page\r\n    return \"\";\r\n}\r\n\r\n/** Base URL capturée au chargement du module */\r\nconst _scriptBase = _detectScriptBase();\r\n\r\n/**\r\n * État interne du manager.\r\n * @private\r\n */\r\nconst _state = {\r\n    /** @type {Worker|null} */\r\n    worker: null,\r\n    /** @type {boolean} */\r\n    workerAvailable: true,\r\n    /** @type {Map<string, Object>} layerId → { resolve, reject, features, onChunk } */\r\n    pending: new Map(),\r\n    /** @type {number|null} */\r\n    idleTimer: null\r\n};\r\n\r\n// ─── Helpers ────────────────────────────────────────────────────\r\n\r\n/**\r\n * Tente de créer le Worker. Renvoie null si impossible.\r\n * @returns {Worker|null}\r\n * @private\r\n */\r\nfunction _createWorker() {\r\n    if (!_state.workerAvailable) return null;\r\n    if (_state.worker) return _state.worker;\r\n\r\n    try {\r\n        // Résoudre l'URL du Worker relativement au script GeoLeaf (pas à la page HTML)\r\n        const workerUrl = _scriptBase + WORKER_FILENAME;\r\n        const worker = new Worker(workerUrl);\r\n\r\n        worker.onmessage = _onMessage;\r\n        worker.onerror = _onError;\r\n\r\n        _state.worker = worker;\r\n        getLog().debug(\"[WorkerManager] Web Worker GeoJSON créé :\", workerUrl);\r\n        return worker;\r\n    } catch (err) {\r\n        getLog().warn(\"[WorkerManager] Impossible de créer le Web Worker, fallback main-thread :\", err.message);\r\n        _state.workerAvailable = false;\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Réinitialise le timer d'inactivité.\r\n * @private\r\n */\r\nfunction _resetIdleTimer() {\r\n    if (_state.idleTimer) clearTimeout(_state.idleTimer);\r\n    _state.idleTimer = setTimeout(() => {\r\n        if (_state.pending.size === 0 && _state.worker) {\r\n            _state.worker.terminate();\r\n            _state.worker = null;\r\n            getLog().debug(\"[WorkerManager] Worker terminé après inactivité\");\r\n        }\r\n    }, IDLE_TIMEOUT);\r\n}\r\n\r\n// ─── Worker message handlers ────────────────────────────────────\r\n\r\n/**\r\n * Gestionnaire des messages reçus du Worker.\r\n * @param {MessageEvent} event\r\n * @private\r\n */\r\nfunction _onMessage(event) {\r\n    const msg = event.data;\r\n    if (!msg || !msg.type) return;\r\n\r\n    const entry = msg.layerId ? _state.pending.get(msg.layerId) : null;\r\n\r\n    switch (msg.type) {\r\n        case \"chunk\":\r\n            if (entry) {\r\n                // Accumuler les features\r\n                if (msg.features && msg.features.length) {\r\n                    entry.features.push(...msg.features);\r\n                }\r\n                // Callback optionnel par chunk (pour rendu progressif)\r\n                if (typeof entry.onChunk === \"function\") {\r\n                    entry.onChunk(msg.features, msg.index, msg.total);\r\n                }\r\n            }\r\n            break;\r\n\r\n        case \"done\":\r\n            if (entry) {\r\n                _state.pending.delete(msg.layerId);\r\n                entry.resolve({\r\n                    type: \"FeatureCollection\",\r\n                    features: entry.features\r\n                });\r\n                _resetIdleTimer();\r\n            }\r\n            break;\r\n\r\n        case \"text-done\":\r\n            // Perf 6.3.1: GPX text fetch completed in Worker\r\n            if (entry) {\r\n                _state.pending.delete(msg.layerId);\r\n                entry.resolve(msg.text || '');\r\n                _resetIdleTimer();\r\n            }\r\n            break;\r\n\r\n        case \"error\":\r\n            if (entry) {\r\n                _state.pending.delete(msg.layerId);\r\n                entry.reject(new Error(msg.message));\r\n                _resetIdleTimer();\r\n            } else {\r\n                getLog().warn(\"[WorkerManager] Erreur Worker sans layerId :\", msg.message);\r\n            }\r\n            break;\r\n\r\n        case \"pong\":\r\n            getLog().debug(\"[WorkerManager] Worker pong reçu\");\r\n            break;\r\n    }\r\n}\r\n\r\n/**\r\n * Gestionnaire d'erreur globale du Worker.\r\n * @param {ErrorEvent} err\r\n * @private\r\n */\r\nfunction _onError(err) {\r\n    var details = err.message || err.filename || \"unknown (possible 404 on \" + _scriptBase + WORKER_FILENAME + \")\";\r\n    getLog().error(\"[WorkerManager] Erreur Worker :\", details);\r\n    // Rejeter toutes les requêtes en cours → fallback main-thread\r\n    _state.pending.forEach(function (entry) {\r\n        entry.reject(new Error(\"Worker error: \" + details));\r\n    });\r\n    _state.pending.clear();\r\n    // Marquer le Worker comme indisponible → prochains appels utiliseront le fallback\r\n    _state.workerAvailable = false;\r\n    if (_state.worker) {\r\n        _state.worker.terminate();\r\n        _state.worker = null;\r\n    }\r\n}\r\n\r\n// ─── Fallback main-thread ───────────────────────────────────────\r\n\r\n/**\r\n * Fallback : fetch + parse sur le thread principal.\r\n *\r\n * @param {string} url\r\n * @param {string} layerId\r\n * @returns {Promise<Object>} FeatureCollection\r\n * @private\r\n */\r\nfunction _mainThreadFetch(url, layerId) {\r\n    const Log = getLog();\r\n    Log.debug(\"[WorkerManager] Fallback main-thread pour :\", layerId);\r\n\r\n    return fetch(url)\r\n        .then(function (response) {\r\n            if (!response.ok) {\r\n                throw new Error(\"HTTP \" + response.status + \" pour \" + url);\r\n            }\r\n            return response.json();\r\n        })\r\n        .then(function (data) {\r\n            // Normaliser\r\n            if (data && data.type === \"FeatureCollection\") return data;\r\n            if (data && data.type === \"Feature\") {\r\n                return { type: \"FeatureCollection\", features: [data] };\r\n            }\r\n            if (Array.isArray(data)) {\r\n                return { type: \"FeatureCollection\", features: data };\r\n            }\r\n            return data;\r\n        });\r\n}\r\n\r\n// ─── API publique ───────────────────────────────────────────────\r\n\r\nconst WorkerManager = {\r\n\r\n    /**\r\n     * Récupère et parse un GeoJSON via le Web Worker (ou fallback main-thread).\r\n     *\r\n     * @param {string} url - URL du GeoJSON\r\n     * @param {string} layerId - Identifiant unique de la couche\r\n     * @param {Object} [options={}]\r\n     * @param {number} [options.chunkSize=500] - Nombre de features par chunk\r\n     * @param {Function} [options.onChunk] - Callback(features[], chunkIndex, totalFeatures)\r\n     * @returns {Promise<Object>} - Résolu avec un FeatureCollection complet\r\n     */\r\n    fetchGeoJSON: function (url, layerId, options) {\r\n        options = options || {};\r\n\r\n        // Resolve relative URLs to absolute before sending to the Worker.\r\n        // The Worker resolves relative paths against its own location (dist/),\r\n        // not the page URL — so we must pass an absolute URL.\r\n        var absoluteUrl = url;\r\n        if (typeof location !== \"undefined\" && url && !url.includes(\"://\")) {\r\n            try {\r\n                absoluteUrl = new URL(url, location.href).href;\r\n            } catch (_) {\r\n                // keep original url if resolution fails\r\n            }\r\n        }\r\n\r\n        var worker = _createWorker();\r\n\r\n        if (!worker) {\r\n            return _mainThreadFetch(absoluteUrl, layerId);\r\n        }\r\n\r\n        return new Promise(function (resolve, reject) {\r\n            _state.pending.set(layerId, {\r\n                resolve: resolve,\r\n                reject: reject,\r\n                features: [],\r\n                onChunk: options.onChunk || null\r\n            });\r\n\r\n            worker.postMessage({\r\n                type: \"fetch\",\r\n                url: absoluteUrl,\r\n                layerId: layerId,\r\n                chunkSize: options.chunkSize || DEFAULT_CHUNK_SIZE\r\n            });\r\n\r\n            _resetIdleTimer();\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Récupère le texte brut d'une URL via le Web Worker (ou fallback main-thread).\r\n     * Perf 6.3.1: Utilisé pour les fichiers GPX afin de décharger le réseau du thread principal.\r\n     * Note: le parsing DOMParser reste sur le main thread car non disponible dans tous les Workers.\r\n     *\r\n     * @param {string} url - URL du fichier texte\r\n     * @param {string} layerId - Identifiant unique de la couche\r\n     * @returns {Promise<string>} - Résolu avec le texte brut\r\n     */\r\n    fetchText: function (url, layerId) {\r\n        // Resolve relative URLs to absolute (same reason as fetchGeoJSON)\r\n        var absoluteUrl = url;\r\n        if (typeof location !== \"undefined\" && url && !url.includes(\"://\")) {\r\n            try {\r\n                absoluteUrl = new URL(url, location.href).href;\r\n            } catch (_) {}\r\n        }\r\n\r\n        var worker = _createWorker();\r\n\r\n        if (!worker) {\r\n            // Fallback main-thread\r\n            return fetch(absoluteUrl).then(function (response) {\r\n                if (!response.ok) throw new Error('HTTP ' + response.status + ' pour ' + absoluteUrl);\r\n                return response.text();\r\n            });\r\n        }\r\n\r\n        return new Promise(function (resolve, reject) {\r\n            _state.pending.set(layerId, {\r\n                resolve: resolve,\r\n                reject: reject,\r\n                features: [], // unused for text, kept for consistency\r\n                onChunk: null\r\n            });\r\n\r\n            worker.postMessage({\r\n                type: 'fetch-text',\r\n                url: absoluteUrl,\r\n                layerId: layerId\r\n            });\r\n\r\n            _resetIdleTimer();\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Vérifie si le Web Worker est disponible.\r\n     * @returns {boolean}\r\n     */\r\n    isAvailable: function () {\r\n        return _state.workerAvailable && typeof Worker !== \"undefined\";\r\n    },\r\n\r\n    /**\r\n     * Termine le Worker et nettoie l'état.\r\n     * Appelé lors du teardown de l'application.\r\n     */\r\n    dispose: function () {\r\n        if (_state.idleTimer) clearTimeout(_state.idleTimer);\r\n        _state.pending.forEach(function (entry) {\r\n            entry.reject(new Error(\"WorkerManager disposed\"));\r\n        });\r\n        _state.pending.clear();\r\n        if (_state.worker) {\r\n            _state.worker.terminate();\r\n            _state.worker = null;\r\n        }\r\n        getLog().debug(\"[WorkerManager] Disposed\");\r\n    }\r\n};\r\n\r\nexport { WorkerManager };\r\n","/**\r\n * GeoLeaf GeoJSON Module - Layer Configuration Manager\r\n * Gestion de la configuration et des options des couches\r\n *\r\n * @module geojson/layer-config-manager\r\n */\r\n\"use strict\";\r\n\r\nimport { GeoJSONShared } from './shared.js';\r\nimport { getLog } from '../utils/general-utils.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\n// Dépendances lazy\r\nconst getState = () => GeoJSONShared.state;\r\n\r\nconst LayerConfigManager = {};\r\n\r\n/**\r\n * Résout le chemin absolu d'un fichier de données\r\n *\r\n * @param {string} dataFile - Nom du fichier de données\r\n * @param {Object} profile - Profil actif\r\n * @param {string} [layerDirectory] - Dossier de la couche\r\n * @returns {string} Chemin absolu résolu\r\n */\r\nLayerConfigManager.resolveDataFilePath = function (dataFile, profile, layerDirectory) {\r\n    const Config = _g.GeoLeaf && _g.GeoLeaf.Config;\r\n    const dataCfg = Config && Config.get ? Config.get('data') : null;\r\n    const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || \"profiles\";\r\n    const profileId = (dataCfg && dataCfg.activeProfile) || profile.id;\r\n\r\n    // Si dataFile commence par ../, on résout relativement au dossier du profil\r\n    if (dataFile.startsWith('../')) {\r\n        // dataFile = \"../raw/file.json\" -> \"profiles/tourism/raw/file.json\"\r\n        const relativePath = dataFile.replace('../', '');\r\n        return `${profilesBasePath}/${profileId}/${relativePath}`;\r\n    }\r\n\r\n\r\n    // Si dataFile commence par /, c'est un chemin absolu\r\n    if (dataFile.startsWith('/')) {\r\n        return dataFile;\r\n    }\r\n\r\n    // Sinon, relatif au dossier de la couche (layers/tourism_poi_all/data/file.json)\r\n    if (layerDirectory) {\r\n        return `${profilesBasePath}/${profileId}/${layerDirectory}/${dataFile}`;\r\n    }\r\n\r\n    // Fallback: relatif au dossier du profil\r\n    return `${profilesBasePath}/${profileId}/${dataFile}`;\r\n};\r\n\r\n/**\r\n * Infère le type de géométrie d'une couche\r\n *\r\n * @param {Object} def - Définition de la couche\r\n * @param {Object} geojsonData - Données GeoJSON\r\n * @returns {string} Type de géométrie ('point', 'line', 'polygon', 'unknown')\r\n */\r\nLayerConfigManager.inferGeometryType = function (def, geojsonData) {\r\n    if (def && typeof def.geometryType === \"string\") return def.geometryType;\r\n    const features = geojsonData && Array.isArray(geojsonData.features)\r\n        ? geojsonData.features\r\n        : [];\r\n    const first = features.find(f => f && f.geometry && f.geometry.type);\r\n    if (!first) return \"unknown\";\r\n    const geometryType = first.geometry.type.toLowerCase();\r\n    if (geometryType.includes(\"point\")) return \"point\";\r\n    if (geometryType.includes(\"line\")) return \"line\";\r\n    if (geometryType.includes(\"polygon\")) return \"polygon\";\r\n    return \"unknown\";\r\n};\r\n\r\n/**\r\n * Construit les options Leaflet pour une couche spécifique\r\n * Configure pointToLayer, onEachFeature, styles, popups, tooltips et panes\r\n *\r\n * @param {Object} def - Définition de la couche depuis profile.json\r\n * @param {string} def.id - ID unique de la couche\r\n * @param {number} [def.zIndex] - Index z pour le positionnement\r\n * @param {Object} [def.style] - Style par défaut de la couche\r\n * @param {Array} [def.styleRules] - Règles de style conditionnelles\r\n * @param {boolean} [def.interactiveShape=false] - Rendre les formes interactives\r\n * @param {boolean} [def.showIconsOnMap=false] - Afficher icônes SVG pour les points\r\n * @param {Object} baseOptions - Options de base du module GeoJSON\r\n * @returns {Object} Options Leaflet configurées (pointToLayer, onEachFeature, style, etc.)\r\n * @example\r\n * const options = GeoLeaf._GeoJSONLayerConfig.buildLayerOptions(\r\n *   { id: 'poi_tourism', zIndex: 100, showIconsOnMap: true },\r\n *   { defaultPointStyle: { radius: 8 } }\r\n * );\r\n */\r\nLayerConfigManager.buildLayerOptions = function (def, baseOptions) {\r\n    const state = getState();\r\n    const mergedOptions = Object.assign({}, state.options, baseOptions);\r\n\r\n    // Style des polygones / lignes\r\n    if (def.style && typeof def.style === \"object\") {\r\n        mergedOptions.defaultStyle = Object.assign(\r\n            {},\r\n            mergedOptions.defaultStyle,\r\n            def.style\r\n        );\r\n    }\r\n\r\n    // Règles de style dynamiques (styleRules)\r\n    if (Array.isArray(def.styleRules) && def.styleRules.length > 0) {\r\n        mergedOptions.styleRules = def.styleRules;\r\n    }\r\n\r\n    // Déterminer le paramètre interactiveShape pour cette couche\r\n    mergedOptions.interactiveShape = typeof def.interactiveShape === \"boolean\"\r\n        ? def.interactiveShape\r\n        : (_g.GeoLeaf && _g.GeoLeaf.Config && _g.GeoLeaf.Config.get ? _g.GeoLeaf.Config.get('ui.interactiveShapes', false) : false);\r\n\r\n    // Vérifier si on doit afficher les icônes SVG sur la carte\r\n    const showIconsOnMap = typeof def.showIconsOnMap === 'boolean' ? def.showIconsOnMap : false;\r\n\r\n    // Déterminer le pane à utiliser pour cette couche\r\n    const PaneHelpers = GeoJSONShared.PaneHelpers;\r\n    const paneName = PaneHelpers.getPaneName(def.zIndex);\r\n\r\n    // Style des points\r\n    if (showIconsOnMap) {\r\n        // Mode ICÔNE : utiliser les icônes SVG du profil\r\n        mergedOptions.pointToLayer = function (feature, latlng) {\r\n            // Convertir la feature en POI pour obtenir les infos de catégorie\r\n            const PopupTooltip = _g.GeoLeaf && _g.GeoLeaf._GeoJSONPopupTooltip;\r\n            const poiData = PopupTooltip ? PopupTooltip.convertFeatureToPOI(feature, def) : null;\r\n\r\n            if (poiData) {\r\n                // Convertir le format ancien 'fields' au nouveau 'detailPopup'\r\n                const popupConfig = def.popup || {};\r\n                const convertedPopup = {\r\n                    enabled: popupConfig.enabled,\r\n                    // Format ancien: { fields: [...] } → Format nouveau: { detailPopup: [...] }\r\n                    detailPopup: popupConfig.detailPopup || popupConfig.fields || [],\r\n                    // Aussi supporter l'ancien format de tooltip\r\n                    detailTooltip: popupConfig.detailTooltip || (popupConfig.tooltip && popupConfig.tooltip.fields) || []\r\n                };\r\n\r\n                // Passer toute la configuration de la couche au POI\r\n                poiData._layerConfig = {\r\n                    style: mergedOptions.defaultStyle || {},\r\n                    popup: convertedPopup,\r\n                    tooltip: def.tooltip || {},\r\n                    sidepanelConfig: def.sidepanelConfig || {}\r\n                };\r\n            }\r\n\r\n            // Utiliser le système de markers POI pour créer l'icône\r\n            const markers = _g.GeoLeaf && _g.GeoLeaf._POIMarkers;\r\n            if (markers && typeof markers.createMarker === 'function' && poiData) {\r\n                const attachEvents = mergedOptions.interactiveShape !== false;\r\n                const marker = markers.createMarker(poiData, { attachEvents, pane: paneName });\r\n                // S'assurer que le pane est défini sur le marker\r\n                if (marker && marker.options) {\r\n                    marker.options.pane = paneName;\r\n                }\r\n                return marker;\r\n            }\r\n\r\n            // Fallback sur circleMarker avec pane\r\n            const pointStyle = Object.assign(\r\n                {},\r\n                mergedOptions.defaultPointStyle,\r\n                def.pointStyle,\r\n                { interactive: mergedOptions.interactiveShape, pane: paneName }\r\n            );\r\n            return _g.L.circleMarker(latlng, pointStyle);\r\n        };\r\n    } else if (def.pointStyle && typeof def.pointStyle === \"object\") {\r\n        // Mode CIRCLE : utiliser circleMarker classique avec pane\r\n        const pointStyle = Object.assign(\r\n            {},\r\n            mergedOptions.defaultPointStyle,\r\n            def.pointStyle,\r\n            { interactive: mergedOptions.interactiveShape, pane: paneName }\r\n        );\r\n        mergedOptions.pointToLayer = function (feature, latlng) {\r\n            return _g.L.circleMarker(latlng, pointStyle);\r\n        };\r\n    }\r\n\r\n    // Callback onEachFeature : intégration popups + side panel + tooltips\r\n    const originalOnEachFeature = typeof def.onEachFeature === \"function\" ? def.onEachFeature : null;\r\n\r\n    mergedOptions.onEachFeature = function (feature, layer) {\r\n        // Popup unifié\r\n        const PopupTooltip = _g.GeoLeaf && _g.GeoLeaf._GeoJSONPopupTooltip;\r\n        if (PopupTooltip) {\r\n            PopupTooltip.bindUnifiedPopup(feature, layer, def);\r\n            PopupTooltip.bindUnifiedTooltip(feature, layer, def);\r\n        }\r\n\r\n        // Callback custom si fourni\r\n        if (originalOnEachFeature) {\r\n            originalOnEachFeature(feature, layer);\r\n        }\r\n    };\r\n\r\n    // Ajouter le pane aux defaultPointStyle pour que le style-resolver l'utilise dans son fallback\r\n    if (mergedOptions.defaultPointStyle) {\r\n        mergedOptions.defaultPointStyle = Object.assign({}, mergedOptions.defaultPointStyle, { pane: paneName });\r\n    } else {\r\n        mergedOptions.defaultPointStyle = { pane: paneName };\r\n    }\r\n\r\n    // Utiliser le StyleResolver pour construire les options Leaflet finales\r\n    if (_g.GeoLeaf && _g.GeoLeaf._GeoJSONStyleResolver && _g.GeoLeaf._GeoJSONStyleResolver.buildLeafletOptions) {\r\n        return _g.GeoLeaf._GeoJSONStyleResolver.buildLeafletOptions(mergedOptions);\r\n    }\r\n\r\n    return mergedOptions;\r\n};\r\n\r\n/**\r\n * Charge la légende d'une couche depuis son fichier legends/*.json\r\n * Résout automatiquement le chemin selon le style actif et la config du profil\r\n *\r\n * @param {Object} profile - Profil contenant la configuration\r\n * @param {string} profile.id - ID du profil (ex: 'tourism')\r\n * @param {string} [profile.basePath] - Chemin de base du profil\r\n * @param {Object} layerDef - Définition de la couche depuis profile.json\r\n * @param {string} layerDef.id - ID de la couche\r\n * @param {string} [layerDef.style='default'] - Style actif de la couche\r\n * @param {Object} [layerDef.legends] - Configuration des légendes\r\n * @param {string} [layerDef.legends.directory='legends'] - Dossier des légendes\r\n * @param {string} [layerDef.legends.default] - Fichier légende par défaut\r\n * @returns {void} Charge et affiche la légende via GeoLeaf.Legend.loadLegend()\r\n * @example\r\n * GeoLeaf._GeoJSONLayerConfig.loadLayerLegend(\r\n *   { id: 'tourism', basePath: '../profiles/tourism' },\r\n *   { id: 'poi_all', style: 'par_categorie', legends: { directory: 'legends' } }\r\n * );\r\n */\r\nLayerConfigManager.loadLayerLegend = function (profile, layerDef) {\r\n    const Log = getLog();\r\n\r\n    if (!layerDef) {\r\n        if (Log) Log.debug(\"[GeoLeaf.GeoJSON] Pas de définition de couche\");\r\n        return;\r\n    }\r\n\r\n    // Pour v3.0, la config de la couche est déjà dans layerDef (enrichie par profile.js)\r\n    const layerConfig = layerDef.legends ? layerDef : null;\r\n\r\n    if (!layerConfig || !layerConfig.legends) {\r\n        if (Log) Log.debug(\"[GeoLeaf.GeoJSON] Pas de config legends pour cette couche\");\r\n        return;\r\n    }\r\n\r\n    const legendsConfig = layerConfig.legends;\r\n    const legendDirectory = legendsConfig.directory || \"legends\";\r\n\r\n    // Déterminer le style actif de la couche\r\n    const activeStyle = layerDef.style || \"default\";\r\n\r\n    // Construire le nom de fichier de la légende\r\n    let legendFile;\r\n    if (activeStyle === \"default\" && legendsConfig.default) {\r\n        legendFile = legendsConfig.default;\r\n    } else {\r\n        legendFile = `${activeStyle}.legend.json`;\r\n    }\r\n\r\n    // Construire le chemin de la légende\r\n    const profileBasePath = profile.basePath || \"./profiles/\" + profile.id;\r\n    const layerDirectory = layerDef._layerDirectory || \"layers/\" + layerDef.id;\r\n    const legendPath = `${profileBasePath}/${layerDirectory}/${legendDirectory}/${legendFile}`;\r\n\r\n    if (Log) Log.debug(`[GeoLeaf.GeoJSON] Chargement légende pour style \"${activeStyle}\": ${legendPath}`);\r\n\r\n    // Charger et afficher la légende directement\r\n    if (_g.GeoLeaf && _g.GeoLeaf.Legend && typeof _g.GeoLeaf.Legend.loadLayerLegend === \"function\") {\r\n        try {\r\n            _g.GeoLeaf.Legend.loadLayerLegend(layerDef.id, activeStyle, layerDef);\r\n            if (Log) Log.info(`[GeoLeaf.GeoJSON] Légende affichée pour ${layerDef.id} (style: ${activeStyle})`);\r\n        } catch (error) {\r\n            if (Log) Log.warn(`[GeoLeaf.GeoJSON] Erreur chargement légende: ${error.message}`);\r\n        }\r\n    } else {\r\n        if (Log) Log.warn(\"[GeoLeaf.GeoJSON] Module Legend non disponible\");\r\n    }\r\n};\r\n\r\n/**\r\n * Charge le style par défaut d'une couche depuis son fichier styles/*.style.json\r\n * Fonction asynchrone utilisant fetch() pour charger le JSON\r\n *\r\n * @async\r\n * @param {string} layerId - ID de la couche (utilisé pour le logging)\r\n * @param {Object} layerDef - Définition de la couche\r\n * @param {Object} layerDef.styles - Configuration des styles\r\n * @param {string} layerDef.styles.default - Nom du fichier de style par défaut\r\n * @param {string} [layerDef.styles.directory='styles'] - Dossier des styles\r\n * @param {string} layerDef._profileId - ID du profil (métadonnée interne)\r\n * @param {string} layerDef._layerDirectory - Dossier de la couche (métadonnée interne)\r\n * @returns {Promise<Object>} Style chargé (objet JSON parsé)\r\n * @throws {Error} \"Pas de style par défaut défini\" si styles.default manquant\r\n * @throws {Error} \"Métadonnées manquantes\" si _profileId ou _layerDirectory absent\r\n * @throws {Error} \"HTTP {status}\" si le fetch échoue\r\n * @example\r\n * try {\r\n *   const style = await GeoLeaf._GeoJSONLayerConfig.loadDefaultStyle(\r\n *     'provincia_ar',\r\n *     { styles: { default: 'défaut.json' }, _profileId: 'tourism', _layerDirectory: 'layers/provincia_ar' }\r\n *   );\r\n *   console.log('Style chargé:', style);\r\n * } catch (err) {\r\n *   console.error('Erreur chargement style:', err);\r\n * }\r\n */\r\nLayerConfigManager.loadDefaultStyle = async function (layerId, layerDef) {\r\n    const Log = getLog();\r\n\r\n    if (!layerDef.styles || !layerDef.styles.default) {\r\n        throw new Error(\"Pas de style par défaut défini\");\r\n    }\r\n\r\n    const profileId = layerDef._profileId;\r\n    const layerDirectory = layerDef._layerDirectory;\r\n\r\n    if (!profileId || !layerDirectory) {\r\n        throw new Error(\"Métadonnées manquantes (profileId ou layerDirectory)\");\r\n    }\r\n\r\n    const Config = _g.GeoLeaf && _g.GeoLeaf.Config;\r\n    const dataCfg = Config && Config.get ? Config.get('data') : null;\r\n    const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || \"profiles\";\r\n\r\n    const styleDirectory = layerDef.styles.directory || \"styles\";\r\n    const styleFile = layerDef.styles.default;\r\n    const stylePath = `${profilesBasePath}/${profileId}/${layerDirectory}/${styleDirectory}/${styleFile}`;\r\n\r\n    Log.debug(\"[GeoLeaf.GeoJSON] Chargement style par défaut:\", stylePath);\r\n\r\n    const response = await fetch(stylePath);\r\n    if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`);\r\n    }\r\n\r\n    const styleData = await response.json();\r\n    Log.debug(\"[GeoLeaf.GeoJSON] Style chargé:\", styleData);\r\n    return styleData;\r\n};\r\n\r\nexport { LayerConfigManager };\r\n","/**\r\n * GeoLeaf GeoJSON Module - Popup & Tooltip\r\n * Gestion des popups et tooltips unifiés\r\n *\r\n * @module geojson/popup-tooltip\r\n */\r\n\"use strict\";\r\n\r\nimport { GeoJSONShared } from './shared.js';\r\nimport { getLog } from '../utils/general-utils.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\n// Dépendances lazy\r\nconst getState = () => GeoJSONShared.state;\r\n\r\nconst PopupTooltip = {};\r\n\r\n/**\r\n * Convertit une feature GeoJSON en format POI pour le side panel.\r\n * Utilise _Normalizer si disponible, sinon crée un POI par défaut.\r\n * Enrichissement centralisé pour tous les POIs.\r\n *\r\n * @param {Object} feature - Feature GeoJSON\r\n * @param {Object} def - Définition de la couche\r\n * @returns {Object} - Objet POI formaté\r\n */\r\nPopupTooltip.convertFeatureToPOI = function (feature, def) {\r\n    let poi;\r\n\r\n    // Utiliser le Normalizer centralisé si disponible\r\n    const Normalizer = _g.GeoLeaf && _g.GeoLeaf._Normalizer;\r\n    if (Normalizer && typeof Normalizer.normalizeFromGeoJSON === 'function') {\r\n        poi = Normalizer.normalizeFromGeoJSON(feature, def);\r\n    } else {\r\n        // Fallback: logique locale\r\n        const props = feature.properties || {};\r\n\r\n\r\n        poi = {\r\n            id: props.id || (\"geojson-feature-\" + Math.random().toString(36).substr(2, 9)),\r\n            // Résolution case-insensitive du titre (28 janvier 2026)\r\n            title: props.NAME || props.Name || props.name ||\r\n                   props.TITLE || props.Title || props.title ||\r\n                   props.LABEL || props.Label || props.label || \"Sans titre\",\r\n            description: props.description || props.desc || \"\",\r\n            // Conserver properties pour compatibilité avec les configs qui utilisent \"properties.field\"\r\n            properties: { ...props },\r\n            attributes: {\r\n                source: \"geojson\",\r\n                layerId: def.id,\r\n                layerLabel: def.label,\r\n                ...props\r\n            }\r\n        };\r\n\r\n        // Ajouter les coordonnées dans tous les formats supportés\r\n        if (feature.geometry && feature.geometry.coordinates) {\r\n            // Format latlng array [lat, lng] pour compatibilité POI\r\n            poi.latlng = [\r\n                feature.geometry.coordinates[1], // lat\r\n                feature.geometry.coordinates[0]  // lng\r\n            ];\r\n            // Format geometry pour compatibilité GeoJSON\r\n            poi.geometry = feature.geometry;\r\n            // Format location pour compatibilité legacy\r\n            poi.location = {\r\n                lat: feature.geometry.coordinates[1],\r\n                lng: feature.geometry.coordinates[0]\r\n            };\r\n        }\r\n    }\r\n\r\n    // Enrichissement centralisé pour tous les POIs\r\n    if (poi) {\r\n        poi.attributes = poi.attributes || {};\r\n        poi.attributes.source = \"geojson\";\r\n        poi.attributes.layerId = def.id;\r\n        poi.attributes.layerLabel = def.label;\r\n\r\n        // Attacher la configuration de la couche\r\n        poi._layerConfig = def;\r\n\r\n        // Utiliser getSidepanelConfig pour la normalisation correcte\r\n        const Loader = _g.GeoLeaf && _g.GeoLeaf._GeoJSONLoader;\r\n        const sidepanelLayout = Loader && Loader.getSidepanelConfig ? Loader.getSidepanelConfig(def) : null;\r\n        if (sidepanelLayout) {\r\n            poi._sidepanelConfig = {\r\n                detailLayout: sidepanelLayout\r\n            };\r\n        }\r\n    }\r\n\r\n    return poi;\r\n};\r\n\r\n/**\r\n * Attache un popup unifié compatible avec le système POI.\r\n *\r\n * @param {Object} feature - Feature GeoJSON\r\n * @param {L.Layer} layer - Couche Leaflet\r\n * @param {Object} def - Définition de la couche\r\n */\r\nPopupTooltip.bindUnifiedPopup = function (feature, layer, def) {\r\n    const Log = getLog();\r\n\r\n    if (!feature.properties) return;\r\n\r\n    // Si interactiveShape est false, ne rien attacher (la couche est non-cliquable)\r\n    if (def.interactiveShape === false) {\r\n        return;\r\n    }\r\n\r\n    // Vérifier le paramètre showPopup de la couche (défaut: true)\r\n    const showPopup = typeof def.showPopup === 'boolean' ? def.showPopup : true;\r\n\r\n    // Si showPopup est false, mode DIRECT: toggle du panneau latéral au clic (sans popup)\r\n    if (!showPopup) {\r\n        layer.on(\"click\", (e) => {\r\n            if (e && e.originalEvent) e.originalEvent.stopPropagation();\r\n\r\n            // Masquer le tooltip si présent\r\n            if (layer.getTooltip && layer.getTooltip()) {\r\n                try {\r\n                    if (typeof layer.closeTooltip === 'function') layer.closeTooltip();\r\n                    else layer.unbindTooltip();\r\n                } catch (err) { /* ignore */ }\r\n            }\r\n\r\n            if (_g.GeoLeaf && _g.GeoLeaf.POI && typeof _g.GeoLeaf.POI.showPoiDetails === \"function\") {\r\n                const poiData = PopupTooltip.convertFeatureToPOI(feature, def);\r\n                const shared = _g.GeoLeaf._POIShared && _g.GeoLeaf._POIShared.state;\r\n                const current = shared ? shared.currentPoiInPanel : null;\r\n\r\n                // Toggle: si le même POI est ouvert, fermer le panneau, sinon l'ouvrir\r\n                if (current && poiData && current.id && poiData.id && current.id === poiData.id) {\r\n                    if (_g.GeoLeaf.POI && typeof _g.GeoLeaf.POI.hideSidePanel === 'function') {\r\n                        _g.GeoLeaf.POI.hideSidePanel();\r\n                    }\r\n                } else {\r\n                    _g.GeoLeaf.POI.showPoiDetails(poiData);\r\n                }\r\n            }\r\n        });\r\n        return;\r\n    }\r\n\r\n    // Si un popup existe déjà (créé par POI Markers), le conserver\r\n    if (layer.getPopup()) {\r\n        return;\r\n    }\r\n\r\n    // Convertir la feature en POI normalisé\r\n    const poiData = PopupTooltip.convertFeatureToPOI(feature, def);\r\n\r\n    // Utiliser ContentBuilder.Assemblers si disponible\r\n    const ContentBuilder = _g.GeoLeaf && _g.GeoLeaf._ContentBuilder?.Assemblers || null;\r\n    // Utiliser le helper pour récupérer la config popup (28 janvier 2026)\r\n    const Loader = _g.GeoLeaf && _g.GeoLeaf._GeoJSONLoader;\r\n\r\n    let popupConfig = null;\r\n    try {\r\n        popupConfig = Loader && Loader.getPopupConfig ? Loader.getPopupConfig(def) : null;\r\n    } catch (e) {\r\n        // ...log supprimé ([DEBUG] bindUnifiedPopup - ERREUR getPopupConfig)...\r\n    }\r\n\r\n    // ...logs supprimés ([POPUP] bindUnifiedPopup)...\r\n    if (ContentBuilder && typeof ContentBuilder.buildPopupHTML === 'function') {\r\n        const markersModule = _g.GeoLeaf && _g.GeoLeaf._POIMarkers;\r\n        const resolveCategoryDisplay = markersModule && typeof markersModule.resolveCategoryDisplay === 'function'\r\n            ? markersModule.resolveCategoryDisplay\r\n            : null;\r\n\r\n        const popupContent = ContentBuilder.buildPopupHTML(poiData, popupConfig, {\r\n            resolveCategoryDisplay: resolveCategoryDisplay\r\n        });\r\n\r\n        if (popupContent) {\r\n            layer.bindPopup(popupContent);\r\n        }\r\n    } else {\r\n        // Fallback: utiliser POIPopup module\r\n        const popupModule = _g.GeoLeaf && _g.GeoLeaf._POIPopup;\r\n        if (popupModule && typeof popupModule.buildQuickPopupContent === 'function') {\r\n            const markersModule = _g.GeoLeaf && _g.GeoLeaf._POIMarkers;\r\n            const resolveCategoryDisplay = markersModule && typeof markersModule.resolveCategoryDisplay === 'function'\r\n                ? markersModule.resolveCategoryDisplay\r\n                : null;\r\n\r\n            const popupContent = popupModule.buildQuickPopupContent(poiData, resolveCategoryDisplay);\r\n            if (popupContent) {\r\n                layer.bindPopup(popupContent);\r\n            }\r\n        } else {\r\n            // Fallback minimal sans modules\r\n            const Security = _g.GeoLeaf && _g.GeoLeaf.Security || {\r\n                escapeHtml: (str) => {\r\n                    if (!str) return \"\";\r\n                    const div = document.createElement(\"div\");\r\n                    div.textContent = String(str);\r\n                    return div.innerHTML;\r\n                }\r\n            };\r\n\r\n            const props = feature.properties;\r\n            const name = props.name || props.label || props.title || \"Sans titre\";\r\n            const description = props.description || props.desc || \"\";\r\n\r\n            let popupHtml = '<div class=\"gl-geojson-popup\">';\r\n            popupHtml += '<h3 class=\"gl-popup-title\">' + Security.escapeHtml(name) + '</h3>';\r\n\r\n            if (description) {\r\n                popupHtml += '<p class=\"gl-popup-description\">' + Security.escapeHtml(description) + '</p>';\r\n            }\r\n\r\n            if (_g.GeoLeaf && _g.GeoLeaf.POI && typeof _g.GeoLeaf.POI.showPoiDetails === \"function\") {\r\n                popupHtml += '<a href=\"#\" class=\"gl-poi-popup__link\" data-layer-id=\"' + def.id + '\" data-feature-id=\"' + (props.id || '') + '\">Voir détails →</a>';\r\n            }\r\n\r\n            popupHtml += '</div>';\r\n            layer.bindPopup(popupHtml);\r\n        }\r\n    }\r\n\r\n    // Flag pour tracker l'état du popup\r\n    layer._geoleafPopupActive = false;\r\n\r\n    // Fermer le tooltip quand le popup s'ouvre\r\n    layer.on('popupopen', () => {\r\n        layer._geoleafPopupActive = true;\r\n\r\n        // Fermer le tooltip si présent\r\n        if (layer.getTooltip && layer.getTooltip()) {\r\n            try {\r\n                if (typeof layer.closeTooltip === 'function') {\r\n                    layer.closeTooltip();\r\n                }\r\n            } catch (err) {\r\n                Log.warn('[GeoJSON] Erreur fermeture tooltip:', err);\r\n            }\r\n        }\r\n\r\n        // Délégation d'événement pour le lien \"Voir détails\"\r\n        const popup = layer.getPopup();\r\n        if (!popup) return;\r\n\r\n        const popupEl = popup.getElement();\r\n        if (!popupEl) return;\r\n\r\n        const link = popupEl.querySelector('.gl-poi-popup__link');\r\n        if (link && !link._geoleafClickBound) {\r\n            link._geoleafClickBound = true;\r\n            link.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                if (_g.GeoLeaf && _g.GeoLeaf.POI && typeof _g.GeoLeaf.POI.showPoiDetails === \"function\") {\r\n                    const poiData = PopupTooltip.convertFeatureToPOI(feature, def);\r\n                    _g.GeoLeaf.POI.showPoiDetails(poiData);\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    // Réactiver le tooltip quand le popup se ferme\r\n    layer.on('popupclose', () => {\r\n        layer._geoleafPopupActive = false;\r\n\r\n        // Réouvrir le tooltip s'il est permanent (mode \"always\")\r\n        if (layer.getTooltip() && layer.getTooltip().options.permanent) {\r\n            setTimeout(() => {\r\n                if (layer.openTooltip && !layer._geoleafPopupActive) {\r\n                    layer.openTooltip();\r\n                }\r\n            }, 50);\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * Attache un tooltip unifié à une couche selon sa configuration.\r\n *\r\n * @param {Object} feature - Feature GeoJSON\r\n * @param {L.Layer} layer - Couche Leaflet\r\n * @param {Object} def - Définition de la couche\r\n */\r\nPopupTooltip.bindUnifiedTooltip = function (feature, layer, def) {\r\n    const state = getState();\r\n\r\n    if (!feature.properties || !layer) return;\r\n\r\n    // Récupérer les paramètres de tooltip de la couche\r\n    const tooltipMode = def.tooltipMode || \"hover\"; // \"always\", \"never\", \"hover\"\r\n    const tooltipMinZoom = typeof def.tooltipMinZoom === \"number\" ? def.tooltipMinZoom : 0;\r\n\r\n    // Si mode \"never\", ne rien faire\r\n    if (tooltipMode === \"never\") {\r\n        return;\r\n    }\r\n\r\n    // Construire le texte du tooltip par défaut (fallback case-insensitive)\r\n    const props = feature.properties;\r\n    const tooltipText = props.NAME || props.Name || props.name ||\r\n                        props.TITLE || props.Title || props.title ||\r\n                        props.LABEL || props.Label || props.label ||\r\n                        props.id || \"Sans titre\";\r\n\r\n    // Utiliser le helper pour récupérer la config tooltip (28 janvier 2026)\r\n    const Loader = _g.GeoLeaf && _g.GeoLeaf._GeoJSONLoader;\r\n    const tooltipConfig = Loader && Loader.getTooltipConfig ? Loader.getTooltipConfig(def) : null;\r\n\r\n    // Convertir la feature en POI pour avoir access aux champs via attributes.*\r\n    const featureAsPoi = PopupTooltip.convertFeatureToPOI(feature, def);\r\n\r\n    // Fonction pour construire le contenu du tooltip\r\n    const buildTooltipContent = () => {\r\n        // Utiliser ContentBuilder.Assemblers si disponible\r\n        const ContentBuilder = _g.GeoLeaf && _g.GeoLeaf._ContentBuilder?.Assemblers || null;\r\n        if (ContentBuilder && typeof ContentBuilder.buildTooltipHTML === 'function') {\r\n            const content = ContentBuilder.buildTooltipHTML(featureAsPoi, tooltipConfig);\r\n            return content || tooltipText;\r\n        }\r\n\r\n        // Fallback: utiliser POIPopup module\r\n        const POIPopup = _g.GeoLeaf && _g.GeoLeaf._POIPopup;\r\n        if (POIPopup && typeof POIPopup.buildTooltipContent === 'function') {\r\n            const content = POIPopup.buildTooltipContent(featureAsPoi);\r\n            return content || tooltipText;\r\n        }\r\n\r\n        // Fallback minimal\r\n        return tooltipText;\r\n    };\r\n\r\n    // Fonction pour gérer l'affichage du tooltip selon le zoom\r\n    const updateTooltipVisibility = () => {\r\n        if (!state.map) return;\r\n\r\n        // Ne pas afficher le tooltip si un popup est actif sur cette couche\r\n        if (layer._geoleafPopupActive) return;\r\n\r\n        const currentZoom = state.map.getZoom();\r\n        const shouldShow = currentZoom >= tooltipMinZoom;\r\n\r\n        const content = buildTooltipContent();\r\n\r\n        if (shouldShow) {\r\n            if (!layer.getTooltip()) {\r\n                const opts = {\r\n                    direction: 'top',\r\n                    offset: [0, -10],\r\n                    opacity: 0.9,\r\n                    className: 'gl-geojson-tooltip',\r\n                    permanent: tooltipMode === 'always'\r\n                };\r\n                layer.bindTooltip(content, opts);\r\n                if (tooltipMode === 'always' && layer.openTooltip) {\r\n                    layer.openTooltip();\r\n                }\r\n            } else {\r\n                // update existing tooltip content\r\n                const tooltip = layer.getTooltip();\r\n                if (tooltip && tooltip.setContent) tooltip.setContent(content);\r\n            }\r\n        } else {\r\n            if (layer.getTooltip()) {\r\n                try {\r\n                    if (typeof layer.closeTooltip === 'function') {\r\n                        layer.closeTooltip();\r\n                    } else {\r\n                        layer.unbindTooltip();\r\n                    }\r\n                } catch (err) {\r\n                    /* ignore */\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    // Stocker la référence pour le nettoyage\r\n    layer._geoleafTooltipUpdate = updateTooltipVisibility;\r\n\r\n    // Bloquer l'ouverture du tooltip pendant que le popup est actif\r\n    layer.on('tooltipopen', (e) => {\r\n        if (layer._geoleafPopupActive) {\r\n            layer.closeTooltip();\r\n        }\r\n    });\r\n\r\n    // Attendre que la couche soit ajoutée à la map avant d'initialiser\r\n    layer.on('add', () => {\r\n        // Initialiser le tooltip\r\n        updateTooltipVisibility();\r\n\r\n        // Ajouter le listener sur le zoom\r\n        if (state.map) {\r\n            state.map.on('zoomend', updateTooltipVisibility);\r\n        }\r\n    });\r\n\r\n    // Nettoyer le listener quand la couche est retirée\r\n    layer.on('remove', () => {\r\n        if (state.map && layer._geoleafTooltipUpdate) {\r\n            state.map.off('zoomend', layer._geoleafTooltipUpdate);\r\n        }\r\n    });\r\n};\r\n\r\nexport { PopupTooltip };\r\n","/**\r\n * GeoLeaf GeoJSON Layer Manager - Store\r\n * Layer CRUD operations: get, query, remove, z-index\r\n *\r\n * @module geojson/layer-manager/store\r\n */\r\n\"use strict\";\r\n\r\nimport { GeoJSONShared } from '../shared.js';\r\nimport { getLog } from '../../utils/general-utils.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\nconst getState = () => GeoJSONShared.state;\r\n\r\nconst LayerManager = {};\r\n\r\n/**\r\n * Récupère une couche spécifique par son ID.\r\n *\r\n * @param {string} layerId - ID de la couche\r\n * @returns {Object|null} - { id, label, layer, visible, config, clusterGroup } ou null\r\n */\r\nLayerManager.getLayerById = function (layerId) {\r\n    const state = getState();\r\n    return state.layers.get(layerId) || null;\r\n};\r\n\r\n/**\r\n * Récupère les données d'une couche (geojson, geometryType, config).\r\n * Utilisé par le module Themes pour appliquer les styles.\r\n *\r\n * @param {string} layerId - ID de la couche\r\n * @returns {Object|null} - { geojson, geometryType, config } ou null\r\n */\r\nLayerManager.getLayerData = function (layerId) {\r\n    const state = getState();\r\n    const layerData = state.layers.get(layerId);\r\n    if (!layerData) return null;\r\n\r\n    return {\r\n        geojson: layerData.geojson || null,\r\n        features: layerData.features || [],\r\n        geometryType: layerData.geometryType || 'unknown',\r\n        config: layerData.config || {},\r\n        layer: layerData.layer\r\n    };\r\n};\r\n\r\n/**\r\n * Récupère toutes les couches chargées.\r\n *\r\n * @returns {Array<Object>} - Tableau de { id, label, visible, type, featureCount }\r\n *\r\n * Note: 'visible' retourne l'état LOGIQUE de la couche (activée/désactivée par l'utilisateur ou le thème),\r\n * pas l'état physique sur la carte (qui peut être masquée par le zoom).\r\n * C'est l'état qui doit être reflété par le bouton ON/OFF du gestionnaire de couches.\r\n */\r\nLayerManager.getAllLayers = function () {\r\n    const state = getState();\r\n    const Log = getLog();\r\n    const layers = [];\r\n    state.layers.forEach((layerData, id) => {\r\n        // Utiliser logicalState qui est indépendant du zoom\r\n        const meta = layerData._visibility;\r\n        const logicalVisible = meta && typeof meta.logicalState === 'boolean'\r\n            ? meta.logicalState\r\n            : (layerData.visible || false);\r\n\r\n        layers.push({\r\n            id: id,\r\n            label: layerData.label,\r\n            visible: logicalVisible,\r\n            // Perf 6.1.2: Use cached geometryType instead of O(n) detectLayerType() per call\r\n            type: layerData.geometryType || LayerManager.detectLayerType(layerData.layer),\r\n            featureCount: layerData.features ? layerData.features.length : (layerData.layer ? layerData.layer.getLayers().length : 0)\r\n        });\r\n    });\r\n    return layers;\r\n};\r\n\r\n/**\r\n * Détecte le type de géométrie dominant d'une couche.\r\n *\r\n * @param {L.GeoJSON} layer\r\n * @returns {string} - \"poi\", \"route\", \"area\", ou \"mixed\"\r\n */\r\nLayerManager.detectLayerType = function (layer) {\r\n    if (!layer || typeof layer.eachLayer !== 'function') return \"mixed\";\r\n\r\n    const types = { Point: 0, LineString: 0, Polygon: 0 };\r\n\r\n    layer.eachLayer((l) => {\r\n        if (l.feature && l.feature.geometry) {\r\n            const geomType = l.feature.geometry.type;\r\n            if (geomType.includes(\"Point\")) types.Point++;\r\n            else if (geomType.includes(\"LineString\")) types.LineString++;\r\n            else if (geomType.includes(\"Polygon\")) types.Polygon++;\r\n        }\r\n    });\r\n\r\n    const max = Math.max(types.Point, types.LineString, types.Polygon);\r\n    if (max === 0) return \"mixed\";\r\n    if (types.Point === max) return \"poi\";\r\n    if (types.LineString === max) return \"route\";\r\n    if (types.Polygon === max) return \"area\";\r\n    return \"mixed\";\r\n};\r\n\r\n/**\r\n * Supprime une couche.\r\n *\r\n * @param {string} layerId - ID de la couche\r\n */\r\nLayerManager.removeLayer = function (layerId) {\r\n    const state = getState();\r\n    const Log = getLog();\r\n    const layerData = state.layers.get(layerId);\r\n\r\n    if (!layerData) {\r\n        Log.warn(\"[GeoLeaf.GeoJSON] removeLayer: couche introuvable :\", layerId);\r\n        return;\r\n    }\r\n\r\n    // Retirer de la carte\r\n    if (layerData.visible) {\r\n        LayerManager.hideLayer(layerId);\r\n    }\r\n\r\n    // Détruire les objets Leaflet\r\n    if (layerData.clusterGroup) {\r\n        layerData.clusterGroup.clearLayers();\r\n    }\r\n    if (layerData.layer) {\r\n        layerData.layer.clearLayers();\r\n    }\r\n\r\n    // Retirer de la Map\r\n    state.layers.delete(layerId);\r\n    // featureCache removed (Sprint 1)\r\n\r\n    Log.debug(\"[GeoLeaf.GeoJSON] Couche supprimée :\", layerId);\r\n};\r\n\r\n/**\r\n * Met à jour le zIndex d'une couche (ordre d'empilement sur la carte).\r\n * Recréée la couche avec le nouveau pane si elle est visible.\r\n *\r\n * @param {string} layerId - ID de la couche\r\n * @param {number} newZIndex - Nouveau zIndex (0-99)\r\n * @returns {boolean} - true si la mise à jour a réussi\r\n */\r\nLayerManager.updateLayerZIndex = function (layerId, newZIndex) {\r\n    const state = getState();\r\n    const Log = getLog();\r\n    const layerData = state.layers.get(layerId);\r\n\r\n    if (!layerData) {\r\n        Log.warn(\"[GeoLeaf.GeoJSON] updateLayerZIndex: couche introuvable :\", layerId);\r\n        return false;\r\n    }\r\n\r\n    // Validation et clamping 0-99\r\n    const PaneHelpers = GeoJSONShared.PaneHelpers;\r\n    newZIndex = PaneHelpers.validateZIndex(newZIndex);\r\n\r\n    const oldZIndex = layerData.config.zIndex || 0;\r\n    if (oldZIndex === newZIndex) {\r\n        Log.debug(\"[GeoLeaf.GeoJSON] updateLayerZIndex: zIndex identique, aucun changement :\", layerId);\r\n        return true;\r\n    }\r\n\r\n    Log.info(`[GeoLeaf.GeoJSON] Changement zIndex pour ${layerId}: ${oldZIndex} → ${newZIndex}`);\r\n\r\n    // Mettre à jour la config\r\n    layerData.config.zIndex = newZIndex;\r\n\r\n    // Si la couche n'est pas visible, juste mettre à jour la config\r\n    const VisibilityManager = _g.GeoLeaf && _g.GeoLeaf._LayerVisibilityManager;\r\n    const visState = VisibilityManager ? VisibilityManager.getVisibilityState(layerId) : null;\r\n    const isVisible = visState ? visState.current : layerData.visible;\r\n\r\n    if (!isVisible) {\r\n        Log.debug(\"[GeoLeaf.GeoJSON] Couche non visible, zIndex mis à jour dans config uniquement\");\r\n        return true;\r\n    }\r\n\r\n    // Couche visible : besoin de changer le pane\r\n    const newPaneName = PaneHelpers.getPaneName(newZIndex);\r\n    const newPane = state.map.getPane(newPaneName);\r\n\r\n    if (!newPane) {\r\n        Log.error(`[GeoLeaf.GeoJSON] Pane ${newPaneName} introuvable`);\r\n        return false;\r\n    }\r\n\r\n    try {\r\n        // Retirer temporairement de la carte\r\n        if (layerData.clusterGroup) {\r\n            state.map.removeLayer(layerData.clusterGroup);\r\n        } else {\r\n            state.map.removeLayer(layerData.layer);\r\n        }\r\n\r\n        // Changer le pane du layer Leaflet\r\n        if (layerData.layer && layerData.layer.options) {\r\n            layerData.layer.options.pane = newPaneName;\r\n\r\n            // Mettre à jour chaque feature/layer individuelle\r\n            layerData.layer.eachLayer(function(subLayer) {\r\n                if (subLayer.options) {\r\n                    subLayer.options.pane = newPaneName;\r\n                }\r\n                // Forcer le re-rendu en changeant le pane du path SVG\r\n                if (subLayer._path && subLayer._path.parentNode) {\r\n                    const newPaneElement = state.map.getPane(newPaneName);\r\n                    if (newPaneElement) {\r\n                        newPaneElement.appendChild(subLayer._path);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        // Changer le pane du clusterGroup si présent\r\n        if (layerData.clusterGroup && layerData.clusterGroup.options) {\r\n            layerData.clusterGroup.options.pane = newPaneName;\r\n        }\r\n\r\n        // Remettre sur la carte directement\r\n        if (layerData.clusterGroup) {\r\n            state.map.addLayer(layerData.clusterGroup);\r\n        } else {\r\n            state.map.addLayer(layerData.layer);\r\n        }\r\n\r\n        Log.debug(`[GeoLeaf.GeoJSON] Couche ${layerId} déplacée vers pane ${newPaneName}`);\r\n\r\n        // Déclencher événement de changement\r\n        if (state.map) {\r\n            state.map.fire(\"geoleaf:geojson:zindex-changed\", {\r\n                layerId: layerId,\r\n                oldZIndex: oldZIndex,\r\n                newZIndex: newZIndex\r\n            });\r\n        }\r\n\r\n        return true;\r\n    } catch (error) {\r\n        Log.error(`[GeoLeaf.GeoJSON] Erreur lors du changement de zIndex pour ${layerId}:`, error);\r\n        return false;\r\n    }\r\n};\r\n\r\nexport { LayerManager as LayerManagerStore };\r\n","/**\r\n * GeoLeaf GeoJSON Layer Manager - Visibility\r\n * Show/hide/toggle layers, zoom-based visibility\r\n *\r\n * @module geojson/layer-manager/visibility\r\n */\r\n\"use strict\";\r\n\r\nimport { GeoJSONShared } from '../shared.js';\r\nimport { getLog } from '../../utils/general-utils.js';\r\nimport { calculateMapScale, isScaleInRange } from '../../utils/scale-utils.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\nconst getState = () => GeoJSONShared.state;\r\nconst ScaleUtils = { calculateMapScale, isScaleInRange };\r\n\r\nconst LayerManager = {};\r\n\r\n/**\r\n * Affiche une couche (rend visible).\r\n *\r\n * @param {string} layerId - ID de la couche\r\n */\r\nLayerManager.showLayer = function (layerId) {\r\n    const state = getState();\r\n    const Log = getLog();\r\n    const layerData = state.layers.get(layerId);\r\n\r\n    if (!layerData) {\r\n        Log.warn(\"[GeoLeaf.GeoJSON] showLayer: couche introuvable :\", layerId);\r\n        return;\r\n    }\r\n\r\n    // Utiliser le gestionnaire de visibilité centralisé\r\n    const VisibilityManager = _g.GeoLeaf && _g.GeoLeaf._LayerVisibilityManager;\r\n    if (!VisibilityManager) {\r\n        Log.error(\"[GeoLeaf.GeoJSON] LayerVisibilityManager non disponible\");\r\n        return;\r\n    }\r\n\r\n    const changed = VisibilityManager.setVisibility(\r\n        layerId,\r\n        true,\r\n        VisibilityManager.VisibilitySource.USER\r\n    );\r\n\r\n    // IMPORTANT: Recalculer la visibilité physique en fonction du zoom\r\n    // setVisibility met à jour logicalState (bouton), mais il faut aussi recalculer current\r\n    LayerManager.updateLayerVisibilityByZoom();\r\n\r\n    // Charger la légende si disponible (uniquement si changement effectué)\r\n    if (changed) {\r\n        LayerManager._loadLayerLegend(layerId, layerData);\r\n\r\n        // Gérer les labels au moment de l'activation\r\n        if (_g.GeoLeaf && _g.GeoLeaf.Labels && _g.GeoLeaf.Labels.hasLabelConfig(layerId)) {\r\n            // Vérifier si visibleByDefault est true pour les labels\r\n            const visibleByDefault = layerData.currentStyle?.label?.visibleByDefault === true;\r\n\r\n            if (visibleByDefault) {\r\n                // Activer et afficher les labels immédiatement\r\n                _g.GeoLeaf.Labels.enableLabels(layerId, {}, true);\r\n            } else if (_g.GeoLeaf.Labels.areLabelsEnabled(layerId)) {\r\n                // Sinon, juste rafraîchir si déjà activés\r\n                _g.GeoLeaf.Labels.refreshLabels(layerId);\r\n            }\r\n        }\r\n        if (_g.GeoLeaf && _g.GeoLeaf._LabelButtonManager) {\r\n            _g.GeoLeaf._LabelButtonManager.syncImmediate(layerId);\r\n        }\r\n\r\n        Log.debug(\"[GeoLeaf.GeoJSON] Couche affichée :\", layerId);\r\n    }\r\n};\r\n\r\n/**\r\n * Masque une couche (rend invisible).\r\n *\r\n * @param {string} layerId - ID de la couche\r\n */\r\nLayerManager.hideLayer = function (layerId) {\r\n    const state = getState();\r\n    const Log = getLog();\r\n    const layerData = state.layers.get(layerId);\r\n\r\n    if (!layerData) {\r\n        Log.warn(\"[GeoLeaf.GeoJSON] hideLayer: couche introuvable :\", layerId);\r\n        return;\r\n    }\r\n\r\n    // Utiliser le gestionnaire de visibilité centralisé\r\n    const VisibilityManager = _g.GeoLeaf && _g.GeoLeaf._LayerVisibilityManager;\r\n    if (!VisibilityManager) {\r\n        Log.error(\"[GeoLeaf.GeoJSON] LayerVisibilityManager non disponible\");\r\n        return;\r\n    }\r\n\r\n    const changed = VisibilityManager.setVisibility(\r\n        layerId,\r\n        false,\r\n        VisibilityManager.VisibilitySource.USER\r\n    );\r\n\r\n    // IMPORTANT: Recalculer la visibilité physique (even on hide, to ensure consistency)\r\n    LayerManager.updateLayerVisibilityByZoom();\r\n\r\n    if (changed) {\r\n        // Masquer les labels et mettre à jour le bouton\r\n        if (_g.GeoLeaf && _g.GeoLeaf.Labels) {\r\n            _g.GeoLeaf.Labels.disableLabels(layerId);\r\n        }\r\n        if (_g.GeoLeaf && _g.GeoLeaf._LabelButtonManager) {\r\n            _g.GeoLeaf._LabelButtonManager.syncImmediate(layerId);\r\n        }\r\n\r\n        Log.debug(\"[GeoLeaf.GeoJSON] Couche masquée :\", layerId);\r\n    }\r\n};\r\n\r\n/**\r\n * Toggle la visibilité d'une couche.\r\n *\r\n * @param {string} layerId - ID de la couche\r\n */\r\nLayerManager.toggleLayer = function (layerId) {\r\n    const state = getState();\r\n    const Log = getLog();\r\n    const layerData = state.layers.get(layerId);\r\n\r\n    if (!layerData) {\r\n        Log.warn(\"[GeoLeaf.GeoJSON] toggleLayer: couche introuvable :\", layerId);\r\n        return;\r\n    }\r\n\r\n    // Obtenir l'état actuel via le gestionnaire de visibilité\r\n    const VisibilityManager = _g.GeoLeaf && _g.GeoLeaf._LayerVisibilityManager;\r\n    if (!VisibilityManager) {\r\n        Log.error(\"[GeoLeaf.GeoJSON] LayerVisibilityManager non disponible\");\r\n        return;\r\n    }\r\n\r\n    const visState = VisibilityManager.getVisibilityState(layerId);\r\n    const currentlyVisible = visState ? visState.current : layerData.visible;\r\n\r\n    // Toggle\r\n    if (currentlyVisible) {\r\n        LayerManager.hideLayer(layerId);\r\n    } else {\r\n        LayerManager.showLayer(layerId);\r\n    }\r\n};\r\n\r\n/**\r\n * Met à jour la visibilité des couches en fonction de layerScale du style actif.\r\n * Respecte les préférences utilisateur (désactivation manuelle ou par thème).\r\n * Utilise le gestionnaire de visibilité centralisé avec source 'zoom'.\r\n * Exécution immédiate pour réactivité pendant le zoom (le debounce LayerManager.refresh évite les saccades d'UI).\r\n */\r\nLayerManager.updateLayerVisibilityByZoom = function () {\r\n    const state = getState();\r\n    const Log = getLog();\r\n    if (!state.map) return;\r\n\r\n    const VisibilityManager = _g.GeoLeaf && _g.GeoLeaf._LayerVisibilityManager;\r\n    if (!VisibilityManager) {\r\n        Log.error(\"[GeoLeaf.GeoJSON] LayerVisibilityManager non disponible\");\r\n        return;\r\n    }\r\n\r\n    const currentScale = (ScaleUtils && typeof ScaleUtils.calculateMapScale === \"function\")\r\n        ? ScaleUtils.calculateMapScale(state.map, { logger: Log })\r\n        : 0;\r\n\r\n    const normalizeScaleValue = (value) => {\r\n        if (typeof value !== \"number\") return null;\r\n        return value <= 0 ? null : value;\r\n    };\r\n\r\n    state.layers.forEach((layerData, layerId) => {\r\n        const config = layerData.config;\r\n        if (!config) return;\r\n\r\n        const hasCurrentStyle = !!layerData.currentStyle;\r\n        const styleScale = hasCurrentStyle ? layerData.currentStyle.layerScale : null;\r\n        if (!styleScale && hasCurrentStyle) {\r\n            if (Log && typeof Log.warn === \"function\") {\r\n                Log.warn(`[GeoLeaf.GeoJSON] layerScale manquant pour ${layerId}, couche laissée visible par défaut`);\r\n            }\r\n        }\r\n\r\n        const minScale = normalizeScaleValue(styleScale && styleScale.minScale);\r\n        const maxScale = normalizeScaleValue(styleScale && styleScale.maxScale);\r\n\r\n        const shouldBeVisibleByScale = (ScaleUtils && typeof ScaleUtils.isScaleInRange === \"function\")\r\n            ? ScaleUtils.isScaleInRange(currentScale, minScale, maxScale, Log)\r\n            : true;\r\n\r\n        // Base visibility: user override > theme intent > config default\r\n        const meta = layerData._visibility;\r\n        let baseVisible;\r\n        if (meta && meta.userOverride) {\r\n            // IMPORTANT: Pour userOverride, utiliser logicalState (état bouton), pas current (état zoom)\r\n            baseVisible = meta.logicalState;\r\n        } else if (meta && meta.themeOverride) {\r\n            baseVisible = meta.themeDesired;\r\n        } else {\r\n            // visibility.active parameter is deprecated - now managed by layerScale in style files\r\n            baseVisible = true;\r\n        }\r\n\r\n        // RÈGLE CRITIQUE :\r\n        // - L'AFFICHAGE sur la carte RESPECTE TOUJOURS les seuils de zoom\r\n        // - Le BOUTON (via logicalState) reste indépendant du zoom\r\n        // - Utilisateur voit : bouton ON, mais couche cachée si hors zoom\r\n        const shouldBeVisible = baseVisible && shouldBeVisibleByScale;\r\n\r\n        VisibilityManager.setVisibility(\r\n            layerId,\r\n            shouldBeVisible,\r\n            VisibilityManager.VisibilitySource.ZOOM\r\n        );\r\n    });\r\n};\r\n\r\n/**\r\n * Émet un événement de changement de visibilité.\r\n *\r\n * @param {string} layerId\r\n * @param {boolean} visible\r\n * @private\r\n */\r\nLayerManager._fireLayerVisibilityEvent = function (layerId, visible) {\r\n    const state = getState();\r\n    if (!state.map) return;\r\n\r\n    try {\r\n        state.map.fire(\"geoleaf:geojson:visibility-changed\", {\r\n            layerId: layerId,\r\n            visible: visible\r\n        });\r\n    } catch (e) {\r\n        // Silencieux\r\n    }\r\n};\r\n\r\nexport { LayerManager as LayerManagerVisibility };\r\n","/**\n * GeoLeaf GeoJSON - Hatch Pattern Utilities\n * SVG hatch pattern creation and application for polygon fills.\n * Extracted from layer-manager/style.js (Phase 8.2.1)\n *\n * @module geojson/layer-manager/hatch-pattern\n */\n\"use strict\";\n\n/**\n * Crée un pattern SVG pour le hachurage.\n * Retourne l'ID (string) du pattern, à passer à `_applyHatchToLayer`.\n * Les patterns sont réellement injectés dans le DOM dans `_applyHatchToLayer`.\n *\n * @param {string} layerId - ID de la couche (pour l'unicité du pattern)\n * @param {Object} hatchConfig - Configuration du hachurage\n * @returns {string|null} patternId, ou null si hachurage désactivé\n */\nexport function _createHatchPattern(layerId, hatchConfig) {\n    if (!hatchConfig || !hatchConfig.enabled) {\n        return null;\n    }\n\n    // Créer un ID unique basé sur les paramètres du hatch\n    const type = hatchConfig.type || 'diagonal';\n    const angle = hatchConfig.angleDeg || 0;\n    const spacing = hatchConfig.spacingPx || 10;\n    const strokeColor = (hatchConfig.stroke?.color || '#000000').replace('#', '');\n    const strokeWidth = hatchConfig.stroke?.widthPx || 1;\n    const strokeOpacity = hatchConfig.stroke?.opacity || 1;\n\n    // Hash des paramètres pour créer un ID unique\n    const configHash = `${type}-${angle}-${spacing}-${strokeColor}-${strokeWidth}-${strokeOpacity}`;\n    const patternId = `hatch-${layerId}-${configHash}`;\n\n    // Si le pattern existe déjà, le réutiliser\n    const existingPattern = document.getElementById(patternId);\n    if (existingPattern) {\n        return patternId;\n    }\n\n    // Créer le pattern SVG\n    const pattern = document.createElementNS('http://www.w3.org/2000/svg', 'pattern');\n    pattern.setAttribute('id', patternId);\n    pattern.setAttribute('patternUnits', 'userSpaceOnUse');\n    pattern.setAttribute('width', spacing);\n    pattern.setAttribute('height', spacing);\n\n    // Créer les lignes selon le type\n    if (type === 'dot') {\n        // Pattern de points (stipple)\n        const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        circle.setAttribute('cx', spacing / 2);\n        circle.setAttribute('cy', spacing / 2);\n        circle.setAttribute('r', Math.max(0.5, strokeWidth / 2));\n        circle.setAttribute('fill', `#${strokeColor}`);\n        circle.setAttribute('fill-opacity', strokeOpacity);\n        pattern.appendChild(circle);\n    } else if (type === 'cross') {\n        // Croix (horizontal + vertical)\n        const lineH = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n        lineH.setAttribute('x1', '0');\n        lineH.setAttribute('y1', spacing / 2);\n        lineH.setAttribute('x2', spacing);\n        lineH.setAttribute('y2', spacing / 2);\n        lineH.setAttribute('stroke', `#${strokeColor}`);\n        lineH.setAttribute('stroke-width', strokeWidth);\n        lineH.setAttribute('stroke-opacity', strokeOpacity);\n        pattern.appendChild(lineH);\n\n        const lineV = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n        lineV.setAttribute('x1', spacing / 2);\n        lineV.setAttribute('y1', '0');\n        lineV.setAttribute('x2', spacing / 2);\n        lineV.setAttribute('y2', spacing);\n        lineV.setAttribute('stroke', `#${strokeColor}`);\n        lineV.setAttribute('stroke-width', strokeWidth);\n        lineV.setAttribute('stroke-opacity', strokeOpacity);\n        pattern.appendChild(lineV);\n    } else if (type === 'x') {\n        // Croix diagonale (45° + 135°)\n        const line1 = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n        line1.setAttribute('x1', '0');\n        line1.setAttribute('y1', '0');\n        line1.setAttribute('x2', spacing);\n        line1.setAttribute('y2', spacing);\n        line1.setAttribute('stroke', `#${strokeColor}`);\n        line1.setAttribute('stroke-width', strokeWidth);\n        line1.setAttribute('stroke-opacity', strokeOpacity);\n        pattern.appendChild(line1);\n\n        const line2 = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n        line2.setAttribute('x1', spacing);\n        line2.setAttribute('y1', '0');\n        line2.setAttribute('x2', '0');\n        line2.setAttribute('y2', spacing);\n        line2.setAttribute('stroke', `#${strokeColor}`);\n        line2.setAttribute('stroke-width', strokeWidth);\n        line2.setAttribute('stroke-opacity', strokeOpacity);\n        pattern.appendChild(line2);\n    } else {\n        // Simple ligne (diagonal, horizontal, vertical)\n        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n\n        if (type === 'horizontal' || angle === 0) {\n            line.setAttribute('x1', '0');\n            line.setAttribute('y1', spacing / 2);\n            line.setAttribute('x2', spacing);\n            line.setAttribute('y2', spacing / 2);\n        } else if (type === 'vertical' || angle === 90) {\n            line.setAttribute('x1', spacing / 2);\n            line.setAttribute('y1', '0');\n            line.setAttribute('x2', spacing / 2);\n            line.setAttribute('y2', spacing);\n        } else {\n            // Diagonal avec angle - créer une vraie diagonale\n            line.setAttribute('x1', '0');\n            line.setAttribute('y1', '0');\n            line.setAttribute('x2', spacing);\n            line.setAttribute('y2', spacing);\n            // Appliquer la rotation depuis le centre du pattern\n            if (angle != null && angle !== 45) {\n                const centerX = spacing / 2;\n                const centerY = spacing / 2;\n                pattern.setAttribute('patternTransform', `rotate(${angle} ${centerX} ${centerY})`);\n            }\n        }\n\n        line.setAttribute('stroke', `#${strokeColor}`);\n        line.setAttribute('stroke-width', strokeWidth);\n        line.setAttribute('stroke-opacity', strokeOpacity);\n        pattern.appendChild(line);\n    }\n\n    // Retourner juste l'ID du pattern.\n    // Les patterns seront injectés dans le SVG Leaflet dans _applyHatchToLayer.\n    return patternId;\n}\n\n/**\n * Trouve l'élément SVG contenant les paths d'un layer Leaflet.\n * Les layers sur des panes custom (geoleaf-layer-XX) ont leur propre SVG.\n *\n * @param {L.Layer} layer - Layer Leaflet\n * @returns {SVGSVGElement|null}\n */\nexport function _findLayerSvg(layer) {\n    // 1. Chercher via le path du layer lui-même\n    if (layer._path && layer._path.ownerSVGElement) {\n        return layer._path.ownerSVGElement;\n    }\n\n    // 2. Pour les groupes, chercher via le premier sublayer avec un path\n    if (typeof layer.eachLayer === 'function') {\n        let found = null;\n        layer.eachLayer(sublayer => {\n            if (!found && sublayer._path && sublayer._path.ownerSVGElement) {\n                found = sublayer._path.ownerSVGElement;\n            }\n        });\n        if (found) return found;\n    }\n\n    // 3. Chercher via le renderer du layer (Leaflet stocke le renderer)\n    const renderer = layer._renderer || layer._map?._renderer;\n    if (renderer && renderer._container && renderer._container.tagName === 'svg') {\n        return renderer._container;\n    }\n\n    // 4. Fallback: chercher dans tous les panes (pas seulement overlay-pane)\n    const svgs = document.querySelectorAll('.leaflet-pane svg');\n    if (svgs.length === 1) return svgs[0];\n\n    // 5. Dernier fallback: overlay-pane\n    return document.querySelector('.leaflet-overlay-pane svg');\n}\n\n/**\n * Applique le hachurage SVG à un layer Leaflet.\n * Injecte le pattern dans le `<defs>` du SVG Leaflet et pose un MutationObserver\n * pour que le `fill` reste sur le pattern même après un re-render Leaflet.\n *\n * @param {L.Layer} layer - Layer Leaflet\n * @param {string} patternId - ID du pattern SVG\n * @param {Object} hatchConfig - Configuration du hachurage\n */\nexport function _applyHatchToLayer(layer, patternId, hatchConfig) {\n    if (!layer || !patternId) return;\n\n    // Trouver le SVG correct pour ce layer (pane custom ou overlay-pane)\n    let mapSvg = _findLayerSvg(layer);\n    if (!mapSvg) {\n        // Retry avec délai si SVG n'existe pas encore\n        const retryCount = 5;\n        const retryDelay = 100; // ms\n        let attempts = 0;\n        const tryApplyHatch = () => {\n            mapSvg = _findLayerSvg(layer);\n            if (mapSvg) {\n                _applyHatchToLayer(layer, patternId, hatchConfig);\n                return;\n            }\n            attempts++;\n            if (attempts < retryCount) {\n                setTimeout(tryApplyHatch, retryDelay);\n            }\n        };\n        setTimeout(tryApplyHatch, retryDelay);\n        return;\n    }\n\n    // Vérifier si le pattern existe déjà\n    let pattern = mapSvg.querySelector(`#${patternId}`);\n    if (!pattern && hatchConfig) {\n        // Créer le pattern maintenant\n        const spacing = hatchConfig.spacingPx || 10;\n        const type = hatchConfig.type || 'diagonal';\n        const angle = hatchConfig.angleDeg;\n        const strokeColor = hatchConfig.stroke?.color || '#000000';\n        const strokeWidth = hatchConfig.stroke?.widthPx || 1;\n        const strokeOpacity = hatchConfig.stroke?.opacity || 1;\n\n        // Assurer que la couleur a toujours le # pour les attributs SVG\n        const colorWithHash = strokeColor.startsWith('#') ? strokeColor : `#${strokeColor}`;\n\n        pattern = document.createElementNS('http://www.w3.org/2000/svg', 'pattern');\n        pattern.setAttribute('id', patternId);\n        pattern.setAttribute('patternUnits', 'userSpaceOnUse');\n        pattern.setAttribute('width', spacing);\n        pattern.setAttribute('height', spacing);\n\n        // Créer le contenu selon le type\n        if (type === 'dot') {\n            const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n            circle.setAttribute('cx', spacing / 2);\n            circle.setAttribute('cy', spacing / 2);\n            // Rayon proportionnel au spacing:\n            // Plus petit spacing (plus dense) = points plus petits\n            // Plus grand spacing (moins dense) = points plus gros pour compenser\n            // spacing 6px → r=0.42, spacing 12px → r=0.84\n            circle.setAttribute('r', Math.max(0.3, spacing * 0.07));\n            circle.setAttribute('fill', colorWithHash);\n            circle.setAttribute('fill-opacity', strokeOpacity);\n            pattern.appendChild(circle);\n        } else if (type === 'diagonal') {\n            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n            line.setAttribute('x1', '0');\n            line.setAttribute('y1', '0');\n            line.setAttribute('x2', spacing);\n            line.setAttribute('y2', spacing);\n            line.setAttribute('stroke', colorWithHash);\n            line.setAttribute('stroke-width', strokeWidth);\n            line.setAttribute('stroke-opacity', strokeOpacity);\n            if (angle != null && angle !== 45) {\n                const centerX = spacing / 2;\n                const centerY = spacing / 2;\n                pattern.setAttribute('patternTransform', `rotate(${angle} ${centerX} ${centerY})`);\n            }\n            pattern.appendChild(line);\n        } else if (type === 'cross') {\n            // Ligne horizontale\n            const hLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n            hLine.setAttribute('x1', '0');\n            hLine.setAttribute('y1', spacing / 2);\n            hLine.setAttribute('x2', spacing);\n            hLine.setAttribute('y2', spacing / 2);\n            hLine.setAttribute('stroke', colorWithHash);\n            hLine.setAttribute('stroke-width', strokeWidth);\n            hLine.setAttribute('stroke-opacity', strokeOpacity);\n            pattern.appendChild(hLine);\n            // Ligne verticale\n            const vLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n            vLine.setAttribute('x1', spacing / 2);\n            vLine.setAttribute('y1', '0');\n            vLine.setAttribute('x2', spacing / 2);\n            vLine.setAttribute('y2', spacing);\n            vLine.setAttribute('stroke', colorWithHash);\n            vLine.setAttribute('stroke-width', strokeWidth);\n            vLine.setAttribute('stroke-opacity', strokeOpacity);\n            pattern.appendChild(vLine);\n        } else if (type === 'x') {\n            // Diagonale principal (TL to BR)\n            const line1 = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n            line1.setAttribute('x1', '0');\n            line1.setAttribute('y1', '0');\n            line1.setAttribute('x2', spacing);\n            line1.setAttribute('y2', spacing);\n            line1.setAttribute('stroke', colorWithHash);\n            line1.setAttribute('stroke-width', strokeWidth);\n            line1.setAttribute('stroke-opacity', strokeOpacity);\n            pattern.appendChild(line1);\n            // Diagonale secondaire (TR to BL)\n            const line2 = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n            line2.setAttribute('x1', spacing);\n            line2.setAttribute('y1', '0');\n            line2.setAttribute('x2', '0');\n            line2.setAttribute('y2', spacing);\n            line2.setAttribute('stroke', colorWithHash);\n            line2.setAttribute('stroke-width', strokeWidth);\n            line2.setAttribute('stroke-opacity', strokeOpacity);\n            pattern.appendChild(line2);\n        } else if (type === 'horizontal') {\n            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n            line.setAttribute('x1', '0');\n            line.setAttribute('y1', spacing / 2);\n            line.setAttribute('x2', spacing);\n            line.setAttribute('y2', spacing / 2);\n            line.setAttribute('stroke', colorWithHash);\n            line.setAttribute('stroke-width', strokeWidth);\n            line.setAttribute('stroke-opacity', strokeOpacity);\n            pattern.appendChild(line);\n        } else if (type === 'vertical') {\n            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n            line.setAttribute('x1', spacing / 2);\n            line.setAttribute('y1', '0');\n            line.setAttribute('x2', spacing / 2);\n            line.setAttribute('y2', spacing);\n            line.setAttribute('stroke', colorWithHash);\n            line.setAttribute('stroke-width', strokeWidth);\n            line.setAttribute('stroke-opacity', strokeOpacity);\n            pattern.appendChild(line);\n        }\n\n        // Ajouter au defs du SVG\n        let defs = mapSvg.querySelector('defs');\n        if (!defs) {\n            defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');\n            mapSvg.insertBefore(defs, mapSvg.firstChild);\n        }\n        defs.appendChild(pattern);\n    }\n\n    // Fonction pour appliquer le pattern à un élément path\n    const applyToPath = (path) => {\n        if (path && path.setAttribute) {\n            const fillUrl = `url(#${patternId})`;\n            const currentFill = path.getAttribute('fill');\n\n            // N'appliquer que si différent (évite boucle infinie)\n            if (currentFill !== fillUrl) {\n                path.setAttribute('fill', fillUrl);\n            }\n\n            // S'assurer que l'opacité de remplissage est visible pour les patterns\n            if (hatchConfig && hatchConfig.renderMode === 'pattern_only') {\n                // Toujours forcer fill-opacity=1 quand le pattern est appliqué.\n                // C'est ici (et uniquement ici) qu'on rend le fill visible,\n                // car le pattern SVG est déjà injecté — pas de flash blanc.\n                path.setAttribute('fill-opacity', '1');\n            }\n\n            // Observer les changements pour réappliquer le pattern\n            if (!path._hatchObserver) {\n                const observer = new MutationObserver((mutations) => {\n                    mutations.forEach((mutation) => {\n                        if (mutation.type === 'attributes' && mutation.attributeName === 'fill') {\n                            const newFill = path.getAttribute('fill');\n                            // Ne réappliquer que si vraiment différent\n                            if (newFill !== fillUrl && !newFill.includes(patternId)) {\n                                path.setAttribute('fill', fillUrl);\n                            }\n                        }\n                    });\n                });\n                observer.observe(path, { attributes: true, attributeFilter: ['fill'] });\n                path._hatchObserver = observer;\n            }\n        }\n    };\n\n    // Pour les layers individuels\n    if (layer._path) {\n        applyToPath(layer._path);\n    }\n\n    // Pour les groupes de layers (L.geoJSON, FeatureGroup, MultiPolygon)\n    // Récursif : gère les FeatureGroups imbriqués (ex: MultiPolygon dans L.geoJSON)\n    if (typeof layer.eachLayer === 'function') {\n        layer.eachLayer(sublayer => {\n            if (sublayer._path) {\n                applyToPath(sublayer._path);\n            } else if (typeof sublayer.eachLayer === 'function') {\n                // Recurse into nested groups (MultiPolygon → individual Polygons)\n                sublayer.eachLayer(sub => {\n                    if (sub._path) {\n                        applyToPath(sub._path);\n                    }\n                });\n            }\n        });\n    }\n\n    // Phase 1 fix L1: disconnect MutationObservers on layer remove to prevent memory leaks\n    if (!layer._disconnectHatchObservers) {\n        layer._disconnectHatchObservers = function() {\n            const disconnectPath = (p) => {\n                if (p._hatchObserver) {\n                    p._hatchObserver.disconnect();\n                    p._hatchObserver = null;\n                }\n            };\n            if (this._path) disconnectPath(this._path);\n            if (typeof this.eachLayer === 'function') {\n                this.eachLayer(sub => {\n                    if (sub._path) disconnectPath(sub._path);\n                    if (typeof sub.eachLayer === 'function') {\n                        sub.eachLayer(inner => {\n                            if (inner._path) disconnectPath(inner._path);\n                        });\n                    }\n                });\n            }\n        };\n        layer.on('remove', function() { this._disconnectHatchObservers(); });\n    }\n}\n","/**\n * GeoLeaf GeoJSON Layer Manager - Style\n * Style normalization, hatch patterns, style application\n *\n * @module geojson/layer-manager/style\n */\n\"use strict\";\n\nimport { normalizeStyleToLeaflet } from '../style-utils.js';\nimport { GeoJSONShared } from '../shared.js';\nimport { getLog } from '../../utils/general-utils.js';\nimport { _createHatchPattern, _findLayerSvg, _applyHatchToLayer } from './hatch-pattern.js';\n\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\n\nconst getState = () => GeoJSONShared.state;\n\nconst LayerManager = {};\n\n/**\n * Normalise le format de style vers le format Leaflet\n * Phase 4 dedup: delegates base fill/stroke to shared normalizeStyleToLeaflet,\n * then layers on hatch patterns and casing extensions.\n * @private\n * @param {Object} style - Style source (format imbriqué ou plat)\n * @param {string} layerId - ID de la couche (pour les patterns SVG)\n * @returns {Object} - Style normalisé au format Leaflet\n */\nfunction _normalizeStyleToLeaflet(style, layerId) {\n    if (!style || typeof style !== 'object') {\n        return {};\n    }\n\n    // Base normalization (fill/stroke → flat Leaflet props)\n    const normalized = normalizeStyleToLeaflet(style);\n\n    // ── Extended: hatch pattern_only override ──\n    if (style.fill || style.stroke) {\n        if (style.hatch && style.hatch.enabled && style.hatch.renderMode === 'pattern_only') {\n            normalized.fillColor = 'transparent';\n            normalized.fillOpacity = 1;\n        }\n\n        // ── Extended: Casing (bordure/contour pour polylines) ──\n        if (style.casing && style.casing.enabled) {\n            normalized._casing = {\n                enabled: true,\n                color: style.casing.color || '#000000',\n                opacity: typeof style.casing.opacity === 'number' ? style.casing.opacity : 1.0,\n                weight: typeof style.casing.widthPx === 'number' ? style.casing.widthPx : 1.0,\n                dashArray: style.casing.dashArray || null,\n                lineCap: style.casing.lineCap || null,\n                lineJoin: style.casing.lineJoin || null\n            };\n        }\n\n        // ── Extended: Hatch normalization + SVG pattern creation ──\n        if (style.hatch) {\n            normalized.hatch = { ...style.hatch };\n            if (style.hatch.stroke) {\n                const hatchStroke = {};\n                if (style.hatch.stroke.color) hatchStroke.color = style.hatch.stroke.color;\n                if (typeof style.hatch.stroke.opacity === 'number') hatchStroke.opacity = style.hatch.stroke.opacity;\n                if (typeof style.hatch.stroke.widthPx === 'number') hatchStroke.widthPx = style.hatch.stroke.widthPx;\n                normalized.hatch.stroke = hatchStroke;\n            }\n\n            if (style.hatch.enabled && layerId) {\n                const patternId = _createHatchPattern(layerId, style.hatch);\n                if (patternId) {\n                    normalized._hatchPatternId = patternId;\n                    if (style.hatch.renderMode === 'pattern_only') {\n                        normalized.fillColor = 'transparent';\n                        normalized.fillOpacity = 1;\n                    }\n                }\n            }\n        }\n    }\n\n    return normalized;\n}\n\n/**\n * Applique un nouveau style à une couche existante.\n * Utilisé par le module Themes pour changer dynamiquement l'apparence.\n *\n * @param {string} layerId - ID de la couche\n * @param {Object} styleConfig - Configuration du style { style, styleRules }\n * @returns {boolean} - true si le style a été appliqué avec succès\n */\nLayerManager.setLayerStyle = function (layerId, styleConfig) {\n    const state = getState();\n    const Log = getLog();\n    const layerData = state.layers.get(layerId);\n\n    if (!layerData) {\n        Log.warn(\"[GeoLeaf.GeoJSON] setLayerStyle: couche introuvable :\", layerId);\n        return false;\n    }\n\n    // Sprint 8: VT layers — delegate to VectorTiles module\n    if (layerData.isVectorTile && _g.GeoLeaf && _g.GeoLeaf._VectorTiles) {\n        _g.GeoLeaf._VectorTiles.updateLayerStyle(layerId, styleConfig);\n        return true;\n    }\n\n    const leafletLayer = layerData.layer;\n    if (!leafletLayer || typeof leafletLayer.setStyle !== 'function') {\n        Log.warn(\"[GeoLeaf.GeoJSON] setLayerStyle: couche sans méthode setStyle :\", layerId);\n        return false;\n    }\n\n    // Préparer le style par défaut (ne pas utiliser defaultStyle qui peut contenir les anciennes valeurs)\n    const baseStyle = {\n        color: '#999999',\n        weight: 2,\n        opacity: 0.9,\n        fillColor: '#cccccc',\n        fillOpacity: 0.15\n    };\n\n    // Normaliser le style (defaultStyle ou style) vers format Leaflet\n    const rawStyle = styleConfig.defaultStyle || styleConfig.style || {};\n    const normalizedStyle = _normalizeStyleToLeaflet(rawStyle, layerId);\n    const defaultStyle = Object.assign({}, baseStyle, normalizedStyle);\n\n    // Préparer les styleRules\n    const styleRules = Array.isArray(styleConfig.styleRules) ? styleConfig.styleRules : [];\n\n    // Fonction de style dynamique\n    const styleFn = (feature) => {\n        // 1. Commencer avec le style par défaut\n        let finalStyle = Object.assign({}, defaultStyle);\n\n        // 2. Appliquer les styleRules (première règle correspondante gagne)\n        if (styleRules.length > 0 && _g.GeoLeaf && _g.GeoLeaf._GeoJSONStyleResolver) {\n                const matchedStyle = _g.GeoLeaf._GeoJSONStyleResolver.evaluateStyleRules(feature, styleRules);\n            if (matchedStyle) {\n                // Normaliser le style de la règle vers format Leaflet\n                const normalizedRuleStyle = _normalizeStyleToLeaflet(matchedStyle, layerId);\n                finalStyle = Object.assign({}, finalStyle, normalizedRuleStyle);\n            }\n        }\n\n        // 3. NE PAS appliquer properties.style ou properties.color pour permettre aux règles de s'appliquer\n        // Commenté car cela écrase les règles de style\n        // const featureStyle = feature && feature.properties && feature.properties.style\n        //     ? feature.properties.style\n        //     : null;\n        // if (featureStyle) {\n        //     finalStyle = Object.assign({}, finalStyle, featureStyle);\n        // }\n\n        return finalStyle;\n    };\n\n    // Appliquer le style à toutes les features de la couche\n    try {\n        let styled = 0;\n        let skipped = 0;\n        let markersRecreated = 0;\n        const layersToRecreate = [];\n\n        // Première passe : identifier et styler ou marquer pour recréation\n        leafletLayer.eachLayer(function(layer) {\n            if (!layer.feature) {\n                skipped++;\n                return;\n            }\n\n            const style = styleFn(layer.feature);\n\n            // Cas 1: Layers avec setStyle (Path, CircleMarker, Polyline, etc.)\n            if (layer.setStyle && typeof layer.setStyle === 'function') {\n                layer.setStyle(style);\n\n                // Préserver/restaurer l'état interactive depuis la config de la couche.\n                // setStyle() de Leaflet ne touche pas 'interactive', mais certaines\n                // recréations de path peuvent le perdre.\n                const isInteractive = typeof layerData.config.interactiveShape === 'boolean'\n                    ? layerData.config.interactiveShape\n                    : (_g.GeoLeaf && _g.GeoLeaf.Config && _g.GeoLeaf.Config.get\n                        ? _g.GeoLeaf.Config.get('ui.interactiveShapes', false)\n                        : false);\n                if (layer.options) {\n                    layer.options.interactive = isInteractive;\n                }\n                // S'assurer que le path SVG a le bon pointer-events\n                if (layer._path) {\n                    layer._path.style.pointerEvents = isInteractive ? 'auto' : 'none';\n                }\n                // Pour les layers Canvas : forcer Leaflet à recalculer le\n                // hit-area en cas de changement d'interactive. Canvas n'a pas\n                // de _path mais utilise _renderer pour le hit-testing.\n                if (!layer._path && layer._renderer && typeof layer.redraw === 'function') {\n                    layer.redraw();\n                }\n\n                styled++;\n\n                // Gérer le casing (bordure pour polylines)\n                if (style._casing && style._casing.enabled && layer instanceof _g.L.Polyline && !(layer instanceof _g.L.Polygon)) {\n                    const casingConfig = style._casing;\n\n                    // Créer ou mettre à jour la polyline de casing (dessous, plus large)\n                    if (!layer._casingLayer) {\n                        // Créer une nouvelle couche de casing\n                        const casingStyle = {\n                            color: casingConfig.color,\n                            opacity: casingConfig.opacity,\n                            weight: casingConfig.weight,\n                            dashArray: casingConfig.dashArray,\n                            lineCap: casingConfig.lineCap || 'butt',\n                            lineJoin: casingConfig.lineJoin || 'miter',\n                            fill: false\n                        };\n\n                        layer._casingLayer = _g.L.polyline(layer.getLatLngs(), casingStyle);\n                        // Ajouter la couche de casing au même parent (group ou map)\n                        if (leafletLayer && leafletLayer.addLayer) {\n                            leafletLayer.addLayer(layer._casingLayer);\n                        } else if (layer._map) {\n                            layer._map.addLayer(layer._casingLayer);\n                        }\n                        // Mettre la couche de casing derrière la couche principale\n                        if (layer._casingLayer.setZIndex) {\n                            layer._casingLayer.setZIndex((layer.options.zIndex || 0) - 1);\n                        }\n                    } else {\n                        // Mettre à jour le style existant\n                        layer._casingLayer.setStyle({\n                            color: casingConfig.color,\n                            opacity: casingConfig.opacity,\n                            weight: casingConfig.weight,\n                            dashArray: casingConfig.dashArray,\n                            lineCap: casingConfig.lineCap || 'butt',\n                            lineJoin: casingConfig.lineJoin || 'miter'\n                        });\n                    }\n                } else if (!style._casing || !style._casing.enabled) {\n                    // Supprimer la couche de casing si elle existe mais n'est plus nécessaire\n                    if (layer._casingLayer && leafletLayer && leafletLayer.removeLayer) {\n                        leafletLayer.removeLayer(layer._casingLayer);\n                        layer._casingLayer = null;\n                    }\n                }\n\n                // Appliquer le hachurage si présent dans ce style\n                if (style._hatchPatternId && style.hatch) {\n                    const patternId = style._hatchPatternId;\n                    const hatchConfig = style.hatch;\n\n                    // Appliquer immédiatement : fonctionne pour les layers avec _path\n                    // ET pour les FeatureGroups (MultiPolygon) via eachLayer récursif.\n                    setTimeout(() => {\n                        _applyHatchToLayer(layer, patternId, hatchConfig);\n                    }, 0);\n\n                    // Ajouter aussi un listener pour quand le layer est ajouté/re-ajouté\n                    if (!layer._hatchPatternId || layer._hatchPatternId !== patternId) {\n                        layer._hatchPatternId = patternId;\n\n                        // Supprimer l'ancien listener s'il existe\n                        if (layer._hatchListener) {\n                            layer.off('add', layer._hatchListener);\n                        }\n\n                        // Créer le nouveau listener\n                        // Ne PAS garder 'if (this._path)' : pour les FeatureGroups\n                        // (MultiPolygon), _path est null mais _applyHatchToLayer\n                        // gère les groupes via eachLayer.\n                        layer._hatchListener = function() {\n                            _applyHatchToLayer(this, patternId, hatchConfig);\n                        };\n\n                        layer.on('add', layer._hatchListener);\n\n                        // Phase 1 fix L2: cleanup hatch listener on remove to prevent leaks\n                        if (!layer._hatchCleanupBound) {\n                            layer._hatchCleanupBound = true;\n                            layer.on('remove', function() {\n                                if (this._hatchListener) {\n                                    this.off('add', this._hatchListener);\n                                    this._hatchListener = null;\n                                }\n                            });\n                        }\n                    }\n                }\n            }\n            // Cas 2: Markers avec icônes - besoin de recréer avec nouvelle icône\n            else if (_g.L && layer instanceof _g.L.Marker) {\n                layersToRecreate.push({ layer, feature: layer.feature, style });\n            } else {\n                skipped++;\n            }\n        });\n\n        // Seconde passe : recréer les markers avec les nouvelles couleurs\n        if (layersToRecreate.length > 0) {\n            const POIMarkers = _g.GeoLeaf && _g.GeoLeaf._POIMarkers;\n\n            layersToRecreate.forEach(({ layer, feature, style }) => {\n                const latlng = layer.getLatLng();\n\n                // Utiliser le système POI pour créer une nouvelle icône colorée\n                if (POIMarkers && typeof POIMarkers.buildMarkerIcon === 'function') {\n                    const poiData = {\n                        ...feature.properties,\n                        latlng: [latlng.lat, latlng.lng],\n                        attributes: feature.properties.attributes || {},\n                        _layerConfig: { style: style } // Passer le style pour resolveCategoryColors\n                    };\n\n                    let displayConfig = {};\n                    if (typeof POIMarkers.resolveCategoryDisplay === 'function') {\n                        displayConfig = POIMarkers.resolveCategoryDisplay(poiData);\n                    }\n\n                    // Override avec tous les paramètres du style\n                    if (style.fillColor) {\n                        displayConfig.colorFill = style.fillColor;\n                    }\n                    if (style.color) {\n                        displayConfig.colorStroke = style.color;\n                    }\n                    if (typeof style.radius === 'number') {\n                        displayConfig.radius = style.radius;\n                    }\n                    if (typeof style.weight === 'number') {\n                        displayConfig.weight = style.weight;\n                    }\n                    if (typeof style.fillOpacity === 'number') {\n                        displayConfig.fillOpacity = style.fillOpacity;\n                    }\n                    if (typeof style.opacity === 'number') {\n                        displayConfig.opacity = style.opacity;\n                    }\n\n                    const newIcon = POIMarkers.buildMarkerIcon(displayConfig);\n                    layer.setIcon(newIcon);\n                    markersRecreated++;\n                } else {\n                    // Fallback: remplacer par un CircleMarker\n                    const newMarker = _g.L.circleMarker(latlng, style);\n                    newMarker.feature = feature;\n                    leafletLayer.removeLayer(layer);\n                    leafletLayer.addLayer(newMarker);\n                    markersRecreated++;\n                }\n            });\n        }\n\n        Log.debug(`[GeoLeaf.GeoJSON] Style appliqué: ${styled + markersRecreated} features (${styled} setStyle, ${markersRecreated} markers)`);\n\n        // Appliquer le hachurage global uniquement si pas de styleRules avec hatch\n        const hasHatchInRules = styleRules.some(rule => rule.style?.hatch?.enabled);\n\n        if (defaultStyle._hatchPatternId && !hasHatchInRules) {\n            const patternId = defaultStyle._hatchPatternId;\n            const hatchConfig = defaultStyle.hatch;\n\n            // Appliquer immédiatement (avec hatchConfig pour fill-opacity)\n            _applyHatchToLayer(leafletLayer, patternId, hatchConfig);\n\n            // Log résumé au lieu de logs individuels\n            Log.debug(`[GeoLeaf.GeoJSON] Hachures appliquées: pattern=${patternId}, features=${styled}`);\n\n            // Supprimer les anciens listeners pour éviter les doublons\n            if (layerData._hatchListeners) {\n                leafletLayer.off('add', layerData._hatchListeners.onAdd);\n                if (_g.L && _g.L.DomEvent) {\n                    leafletLayer.eachLayer(layer => {\n                        if (layer._path) {\n                            layer.off('add', layerData._hatchListeners.onLayerAdd);\n                        }\n                    });\n                }\n            }\n\n            // Créer les listeners pour réappliquer le hachurage après les redraws\n            const onAdd = () => {\n                setTimeout(() => _applyHatchToLayer(leafletLayer, patternId, hatchConfig), 0);\n            };\n\n            const onLayerAdd = function() {\n                _applyHatchToLayer(this, patternId, hatchConfig);\n            };\n\n            // Ajouter les listeners\n            leafletLayer.on('add', onAdd);\n            leafletLayer.eachLayer(layer => {\n                if (layer._path) {\n                    layer.on('add', onLayerAdd);\n                }\n            });\n\n            // Stocker les listeners pour nettoyage futur\n            layerData._hatchListeners = { onAdd, onLayerAdd };\n            layerData._hatchPatternId = patternId;\n        }\n\n        // Mettre à jour la config stockée pour que les futures évaluations utilisent le nouveau style\n        layerData.config = Object.assign({}, layerData.config, {\n            style: styleConfig.defaultStyle || styleConfig.style,\n            styleRules: styleRules\n        });\n\n        // Stocker currentStyle pour les labels\n        layerData.currentStyle = styleConfig;\n\n        // Mettre à jour l'état du bouton des labels immédiatement\n        if (_g.GeoLeaf && _g.GeoLeaf._LabelButtonManager) {\n            _g.GeoLeaf._LabelButtonManager.syncImmediate(layerId);\n        }\n\n        // Réévaluer la visibilité après application du style (layerScale)\n        if (_g.GeoLeaf && _g.GeoLeaf._GeoJSONLayerManager && typeof _g.GeoLeaf._GeoJSONLayerManager.updateLayerVisibilityByZoom === \"function\") {\n            _g.GeoLeaf._GeoJSONLayerManager.updateLayerVisibilityByZoom();\n        }\n\n        Log.debug(\"[GeoLeaf.GeoJSON] Style appliqué avec succès :\", layerId);\n        return true;\n    } catch (err) {\n        Log.error(\"[GeoLeaf.GeoJSON] Erreur setLayerStyle :\", layerId, err.message);\n        return false;\n    }\n};\n\nexport { LayerManager as LayerManagerStyle };\n","/**\r\n * GeoLeaf GeoJSON Layer Manager - Integration\r\n * Layer Manager UI registration, legend loading, populate with all configs\r\n *\r\n * @module geojson/layer-manager/integration\r\n */\r\n\"use strict\";\r\n\r\nimport { GeoJSONShared } from '../shared.js';\r\nimport { getLog } from '../../utils/general-utils.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\nconst getState = () => GeoJSONShared.state;\r\n\r\nconst LayerManager = {};\r\n\r\n/**\r\n * Enregistre les couches dans le module LayerManager.\r\n */\r\nLayerManager.registerWithLayerManager = function () {\r\n    const state = getState();\r\n    const Log = getLog();\r\n    const LMgr = _g.GeoLeaf && _g.GeoLeaf.LayerManager;\r\n\r\n    Log.info(`[GeoLeaf.GeoJSON] registerWithLayerManager() appelé avec ${state.layers.size} couche(s)`);\r\n\r\n    if (!LMgr || typeof LMgr._registerGeoJsonLayer !== \"function\") {\r\n        Log.warn(\"[GeoLeaf.GeoJSON] Module LayerManager non disponible, pas d'intégration gestionnaire de couches\");\r\n        return;\r\n    }\r\n\r\n    // Grouper les layers par idSection\r\n    const sectionMap = new Map();\r\n\r\n    state.layers.forEach((layerData, id) => {\r\n        // Log pour debug - VOIR TOUTES LES COUCHES\r\n        // Utiliser layerManagerId défini dans layer.json\r\n        const sectionId = layerData.config.layerManagerId || \"geojson-default\";\r\n\r\n        if (!sectionMap.has(sectionId)) {\r\n            sectionMap.set(sectionId, {\r\n                id: sectionId,\r\n                order: 99,\r\n                items: []\r\n            });\r\n        }\r\n\r\n        const type = LayerManager.detectLayerType(layerData.layer);\r\n        let legendType = \"fill\";\r\n        if (type === \"poi\") legendType = \"circle\";\r\n        else if (type === \"route\") legendType = \"line\";\r\n        else if (type === \"area\") legendType = \"fill\";\r\n\r\n        let color = \"#3388ff\";\r\n        if (layerData.config.style) {\r\n            color = layerData.config.style.fillColor || layerData.config.style.color || color;\r\n        } else if (layerData.config.pointStyle) {\r\n            color = layerData.config.pointStyle.fillColor || color;\r\n        }\r\n\r\n        // Détecter si la couche a des labels (dans la config OU dans le style courant)\r\n        let hasLabels = false;\r\n        let labelsConfig = null;\r\n\r\n        // Vérifier d'abord dans la config de la couche\r\n        if (layerData.config.labels && layerData.config.labels.enabled) {\r\n            hasLabels = true;\r\n            labelsConfig = layerData.config.labels;\r\n        }\r\n\r\n        // Vérifier ensuite dans le style actuel (currentStyle)\r\n        if (!hasLabels && layerData.currentStyle && layerData.currentStyle.label && layerData.currentStyle.label.enabled) {\r\n            hasLabels = true;\r\n            // Créer une config de labels minimale basée sur le style\r\n            labelsConfig = { enabled: true };\r\n        }\r\n\r\n        // Log pour TOUTES les couches pour comprendre le problème\r\n        if (Log) {\r\n            Log.info(`[GeoJSON LayerManager] 🔍 Préparation item ${id}:`, {\r\n                hasConfig: !!layerData.config,\r\n                hasStyles: !!(layerData.config && layerData.config.styles),\r\n                styles: layerData.config ? layerData.config.styles : 'NO CONFIG',\r\n                configKeys: layerData.config ? Object.keys(layerData.config).sort() : []\r\n            });\r\n        }\r\n\r\n        sectionMap.get(sectionId).items.push({\r\n            id: id,\r\n            label: layerData.label,\r\n            type: legendType,\r\n            color: color,\r\n            visible: layerData.visible,\r\n            toggleable: true,\r\n            order: 0,\r\n            zIndex: layerData.config.zIndex || 0,\r\n            themes: layerData.config.themes || null,\r\n            labels: hasLabels ? labelsConfig : null,\r\n            styles: layerData.config.styles || null\r\n        });\r\n    });\r\n\r\n    // Ajouter chaque section au gestionnaire de couches\r\n    sectionMap.forEach((section) => {\r\n        // Trier les items par zIndex décroissant (zIndex élevé = en haut = affiché au-dessus)\r\n        section.items.sort((a, b) => (b.zIndex || 0) - (a.zIndex || 0));\r\n\r\n        // Enregistrer chaque couche dans le LayerManager\r\n        section.items.forEach((item) => {\r\n            Log.debug(`[GeoLeaf.GeoJSON] Enregistrement couche \"${item.id}\" dans section \"${section.id}\"`);\r\n            LMgr._registerGeoJsonLayer(item.id, {\r\n                layerManagerId: section.id,\r\n                label: item.label,\r\n                themes: item.themes,\r\n                styles: item.styles,\r\n                labels: item.labels\r\n            });\r\n        });\r\n\r\n        Log.debug(\"[GeoLeaf.GeoJSON] Section couche '\" + section.id + \"' créée avec \" + section.items.length + \" couche(s)\");\r\n    });\r\n};\r\n\r\n/**\r\n * Charge la légende d'une couche si disponible\r\n * @param {string} layerId - ID de la couche\r\n * @param {Object} layerData - Données de la couche\r\n * @private\r\n */\r\nLayerManager._loadLayerLegend = function (layerId, layerData) {\r\n    const Log = getLog();\r\n\r\n    const config = layerData.config || {};\r\n\r\n    // Nouveau flux : générer la légende depuis le style JSON\r\n    if (_g.GeoLeaf && _g.GeoLeaf.Legend && typeof _g.GeoLeaf.Legend.loadLayerLegend === \"function\") {\r\n        // Déterminer le style courant\r\n        const styleSelector = _g.GeoLeaf._LayerManagerStyleSelector;\r\n        let styleId = null;\r\n\r\n        if (styleSelector && typeof styleSelector.getCurrentStyle === \"function\") {\r\n            styleId = styleSelector.getCurrentStyle(layerId) || null;\r\n        }\r\n\r\n        // Fallback depuis metadata éventuelle\r\n        if (!styleId && layerData.currentStyleMetadata && layerData.currentStyleMetadata.id) {\r\n            styleId = layerData.currentStyleMetadata.id;\r\n        }\r\n\r\n        // Fallback depuis la config de styles\r\n        if (!styleId && config.styles && Array.isArray(config.styles.available)) {\r\n            const available = config.styles.available;\r\n            // Essayer de trouver l'ID correspondant au fichier default\r\n            const defaultFile = config.styles.default;\r\n            const defaultByFile = defaultFile ? available.find(s => s.file === defaultFile) : null;\r\n            styleId = (defaultByFile && defaultByFile.id) || (available[0] && available[0].id) || \"default\";\r\n        }\r\n\r\n        if (!styleId) {\r\n            styleId = \"default\";\r\n        }\r\n\r\n        _g.GeoLeaf.Legend.loadLayerLegend(layerId, styleId, config);\r\n        return;\r\n    }\r\n};\r\n\r\n/**\r\n * Peuple le LayerManager avec TOUTES les configurations de couches disponibles.\r\n * Contrairement à registerWithLayerManager() qui ne montre que les couches chargées (thème actif),\r\n * cette fonction affiche TOUTES les couches et met à jour l'état coché selon le thème actif.\r\n *\r\n * @param {Object} activeThemeConfig - Configuration du thème actif (contient liste des layers visibles)\r\n * @returns {void}\r\n */\r\nLayerManager.populateLayerManagerWithAllConfigs = function(activeThemeConfig) {\r\n        // ...logs nettoyés...\r\n    const Log = getLog();\r\n    const LMgr = _g.GeoLeaf && _g.GeoLeaf.LayerManager;\r\n\r\n    if (!LMgr || typeof LMgr._registerGeoJsonLayer !== \"function\") {\r\n        Log.warn(\"[GeoLeaf.GeoJSON] populateLayerManagerWithAllConfigs: Module LayerManager non disponible\");\r\n        return;\r\n    }\r\n\r\n    if (!_g.GeoLeaf || !_g.GeoLeaf._allLayerConfigs || !Array.isArray(_g.GeoLeaf._allLayerConfigs)) {\r\n        Log.warn(\"[GeoLeaf.GeoJSON] populateLayerManagerWithAllConfigs: GeoLeaf._allLayerConfigs non disponible\");\r\n        return;\r\n    }\r\n\r\n    Log.info(`[GeoLeaf.GeoJSON] Peuplement LayerManager avec ${_g.GeoLeaf._allLayerConfigs.length} configs de couches...`);\r\n    // ...log debug supprimé...\r\n\r\n    // Obtenir la liste des couches actives du thème\r\n    // Les layers peuvent être des objets {id, visible, style} ou des strings simples\r\n    let activeThemeLayers = [];\r\n    if (activeThemeConfig && Array.isArray(activeThemeConfig.layers)) {\r\n        activeThemeLayers = activeThemeConfig.layers.map(l => l.id || l);\r\n    }\r\n    Log.debug(`[GeoLeaf.GeoJSON] Couches actives du thème: ${activeThemeLayers.join(', ')}`);\r\n\r\n    // Grouper les configs par sectionId (layerManagerId)\r\n    const sectionMap = new Map();\r\n\r\n    _g.GeoLeaf._allLayerConfigs.forEach(config => {\r\n        const sectionId = config.layerManagerId || \"geojson-default\";\r\n\r\n        if (!sectionMap.has(sectionId)) {\r\n            sectionMap.set(sectionId, {\r\n                id: sectionId,\r\n                items: []\r\n            });\r\n        }\r\n\r\n        // Déterminer si la couche est active dans le thème courant\r\n        const isActive = activeThemeLayers.includes(config.id);\r\n\r\n        // Log pour debug - VOIR CE QUI EST DANS config POUR TOUTES LES COUCHES\r\n        // ...logs supprimés ([GeoJSON LayerManager] config debug)...\r\n\r\n        sectionMap.get(sectionId).items.push({\r\n            id: config.id,\r\n            label: config.label,\r\n            layerManagerId: sectionId,\r\n            themes: config.themes || null,\r\n            isActive: isActive,\r\n            zIndex: config.zIndex || 0,\r\n            styles: config.styles || null,\r\n            labels: config.labels || null\r\n        });\r\n    });\r\n\r\n    // Enregistrer chaque couche avec le LayerManager\r\n    sectionMap.forEach((section) => {\r\n        // Trier par zIndex décroissant\r\n        section.items.sort((a, b) => (b.zIndex || 0) - (a.zIndex || 0));\r\n\r\n        section.items.forEach((item) => {\r\n            Log.debug(`[GeoLeaf.GeoJSON] Enregistrement couche \"${item.id}\" dans section \"${section.id}\" (actif: ${item.isActive})`);\r\n            LMgr._registerGeoJsonLayer(item.id, {\r\n                layerManagerId: section.id,\r\n                label: item.label,\r\n                themes: item.themes,\r\n                checked: item.isActive,\r\n                styles: item.styles,\r\n                labels: item.labels\r\n            });\r\n        });\r\n\r\n        Log.debug(`[GeoLeaf.GeoJSON] Section \"${section.id}\" peuplée avec ${section.items.length} couche(s)`);\r\n    });\r\n\r\n    Log.info(`[GeoLeaf.GeoJSON] LayerManager peuplé avec succès`);\r\n\r\n    // Mettre à jour l'UI du LayerManager si nécessaire\r\n    if (LMgr._updateUI && typeof LMgr._updateUI === \"function\") {\r\n        Log.debug(\"[GeoLeaf.GeoJSON] Appel LayerManager._updateUI()\");\r\n        LMgr._updateUI();\r\n    }\r\n};\r\n\r\nexport { LayerManager as LayerManagerIntegration };\r\n","/**\n * GeoLeaf GeoJSON Loader - Config Helpers\n * Accesseurs de configuration normalisée pour popup, tooltip et sidepanel.\n * Utilisé par popup-tooltip.js via l'import ESM de GeoJSONLoader.\n *\n * @module geojson/loader/config-helpers\n */\n\"use strict\";\n\nconst Loader = {};\n\n/**\n * Récupère la configuration des champs popup d'une couche.\n *\n * @param {Object} def - Définition de la couche (normalisée ou originale)\n * @returns {Array|null} - Array de configurations de champs ou null\n */\nLoader.getPopupConfig = function(def) {\n    if (!def) return null;\n\n    // Structure normalisée (après passage dans loadProfile)\n    if (def.popupFields && Array.isArray(def.popupFields)) {\n        return def.popupFields;\n    }\n\n    // Structure originale (depuis config JSON)\n    if (def.popup && def.popup.fields && Array.isArray(def.popup.fields)) {\n        return def.popup.fields;\n    }\n\n    return null;\n};\n\n/**\n * Récupère la configuration des champs tooltip d'une couche.\n *\n * @param {Object} def - Définition de la couche (normalisée ou originale)\n * @returns {Array|null} - Array de configurations de champs ou null\n */\nLoader.getTooltipConfig = function(def) {\n    if (!def) return null;\n\n    // Structure normalisée (après passage dans loadProfile)\n    if (def.tooltipFields && Array.isArray(def.tooltipFields)) {\n        return def.tooltipFields;\n    }\n\n    // Structure originale (depuis config JSON)\n    if (def.tooltip && def.tooltip.fields && Array.isArray(def.tooltip.fields)) {\n        return def.tooltip.fields;\n    }\n\n    return null;\n};\n\n/**\n * Récupère la configuration des champs sidepanel d'une couche.\n *\n * @param {Object} def - Définition de la couche (normalisée ou originale)\n * @returns {Array|null} - Array de configurations de champs ou null\n */\nLoader.getSidepanelConfig = function(def) {\n    if (!def) return null;\n\n    // Structure normalisée (après passage dans loadProfile)\n    if (def.sidepanelFields && Array.isArray(def.sidepanelFields)) {\n        return def.sidepanelFields;\n    }\n\n    // Structure originale (depuis config JSON)\n    if (def.sidepanel && def.sidepanel.detailLayout && Array.isArray(def.sidepanel.detailLayout)) {\n        return def.sidepanel.detailLayout;\n    }\n\n    return null;\n};\n\nexport { Loader as LoaderConfigHelpers };\n","/**\r\n * GeoLeaf GeoJSON Loader - Data\r\n * Chargement direct de données GeoJSON (URL ou objet JS)\r\n *\r\n * @module geojson/loader/data\r\n */\r\n\"use strict\";\r\n\r\nimport { GeoJSONShared } from '../shared.js';\r\nimport { getLog } from '../../utils/general-utils.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\nconst getState = () => GeoJSONShared.state;\r\n\r\nconst Loader = {};\r\n\r\n/**\r\n * Charge un fichier GeoJSON via une URL.\r\n *\r\n * @param {string} url - URL du fichier GeoJSON.\r\n * @param {Object} [options] - Options additionnelles, fusionnées avec celles du module.\r\n * @returns {Promise<L.GeoJSON|null>}\r\n */\r\nLoader.loadUrl = async function (url, options = {}) {\r\n    const state = getState();\r\n    const Log = getLog();\r\n\r\n    if (!url) {\r\n        Log.warn(\"[GeoLeaf.GeoJSON] URL GeoJSON manquante.\");\r\n        return state.geoJsonLayer;\r\n    }\r\n\r\n    if (!state.map) {\r\n        Log.error(\"[GeoLeaf.GeoJSON] Module non initialisé. Appelle GeoLeaf.GeoJSON.init() avant loadUrl().\");\r\n        return null;\r\n    }\r\n\r\n    const mergedOptions = _g.GeoLeaf && _g.GeoLeaf.Utils && _g.GeoLeaf.Utils.mergeOptions\r\n        ? _g.GeoLeaf.Utils.mergeOptions(state.options, options)\r\n        : Object.assign({}, state.options, options);\r\n\r\n    try {\r\n        // Sprint 3.3: Use unified FetchHelper for GeoJSON loading\r\n        const FetchHelper = _g.GeoLeaf && _g.GeoLeaf.Utils?.FetchHelper;\r\n\r\n        let data;\r\n        if (FetchHelper) {\r\n            data = await FetchHelper.get(url, {\r\n                timeout: 20000, // GeoJSON files can be large\r\n                retries: 2\r\n            });\r\n        } else {\r\n            // Fallback to raw fetch\r\n            const response = await fetch(url);\r\n            if (!response.ok) {\r\n                throw new Error(\"HTTP \" + response.status + \" pour \" + url);\r\n            }\r\n            data = await response.json();\r\n        }\r\n\r\n        _g.GeoLeaf && Loader.addData(data, mergedOptions);\r\n        return state.geoJsonLayer;\r\n    } catch (err) {\r\n        Log.error(\"[GeoLeaf.GeoJSON] Erreur lors du chargement GeoJSON :\", err);\r\n        return state.geoJsonLayer;\r\n    }\r\n};\r\n\r\n/**\r\n * Ajoute des données GeoJSON passées directement en objet JS.\r\n * Valide les features selon le schéma strict avant ajout.\r\n *\r\n * @param {Object} geojsonData - Objet GeoJSON valide.\r\n * @param {Object} [options] - Options additionnelles, fusionnées avec celles du module.\r\n */\r\nLoader.addData = function (geojsonData, options = {}) {\r\n    const state = getState();\r\n    const Log = getLog();\r\n\r\n    if (!geojsonData) {\r\n        Log.warn(\"[GeoLeaf.GeoJSON] Aucune donnée GeoJSON fournie à addData().\");\r\n        return;\r\n    }\r\n\r\n    if (!state.map || !state.geoJsonLayer) {\r\n        Log.error(\"[GeoLeaf.GeoJSON] Module non initialisé. Appelle GeoLeaf.GeoJSON.init() avant addData().\");\r\n        return;\r\n    }\r\n\r\n    const mergedOptions = _g.GeoLeaf && _g.GeoLeaf.Utils && _g.GeoLeaf.Utils.mergeOptions\r\n        ? _g.GeoLeaf.Utils.mergeOptions(state.options, options)\r\n        : Object.assign({}, state.options, options);\r\n\r\n    // Met à jour les options de la couche si besoin\r\n    if (_g.GeoLeaf && _g.GeoLeaf._GeoJSONStyleResolver && _g.GeoLeaf._GeoJSONStyleResolver.buildLeafletOptions) {\r\n        state.geoJsonLayer.options = _g.GeoLeaf._GeoJSONStyleResolver.buildLeafletOptions(mergedOptions);\r\n    }\r\n\r\n    // Validation stricte des features GeoJSON\r\n    let dataToAdd = geojsonData;\r\n    if (_g.GeoLeaf && _g.GeoLeaf._GeoJSONFeatureValidator && typeof _g.GeoLeaf._GeoJSONFeatureValidator.validateFeatureCollection === \"function\") {\r\n        const validationResult = _g.GeoLeaf._GeoJSONFeatureValidator.validateFeatureCollection(geojsonData);\r\n\r\n        if (validationResult.errors.length > 0) {\r\n            Log.warn(\r\n                `[GeoLeaf.GeoJSON] Validation: ${validationResult.errors.length} feature(s) rejetée(s), ${validationResult.validFeatures.length} acceptée(s)`\r\n            );\r\n        }\r\n\r\n        // Ajouter uniquement les features valides\r\n        if (validationResult.validFeatures.length > 0) {\r\n            if (geojsonData.type === \"FeatureCollection\") {\r\n                dataToAdd = {\r\n                    type: \"FeatureCollection\",\r\n                    features: validationResult.validFeatures\r\n                };\r\n            } else {\r\n                dataToAdd = validationResult.validFeatures.length === 1\r\n                    ? validationResult.validFeatures[0]\r\n                    : { type: \"FeatureCollection\", features: validationResult.validFeatures };\r\n            }\r\n        } else {\r\n            Log.warn(\"[GeoLeaf.GeoJSON] Aucune feature valide à ajouter après validation\");\r\n            return;\r\n        }\r\n    }\r\n\r\n    // Ajoute les données validées\r\n    state.geoJsonLayer.addData(dataToAdd);\r\n\r\n    // Adapter la vue sur les données si demandé\r\n    if (mergedOptions.fitBoundsOnLoad && state.layerGroup) {\r\n        const bounds = state.layerGroup.getBounds();\r\n        if (bounds.isValid()) {\r\n            const fitOptions = {};\r\n            if (typeof mergedOptions.maxZoomOnFit === \"number\") {\r\n                fitOptions.maxZoom = mergedOptions.maxZoomOnFit;\r\n            }\r\n            state.map.fitBounds(bounds, fitOptions);\r\n        }\r\n    }\r\n\r\n    // Événement custom pour l'écosystème GeoLeaf\r\n    try {\r\n        state.map.fire(\"geoleaf:geojson:loaded\", {\r\n            data: geojsonData,\r\n            layer: state.geoJsonLayer\r\n        });\r\n    } catch (e) {\r\n        // On ne bloque jamais si fire échoue\r\n    }\r\n};\r\n\r\nexport { Loader as LoaderData };\r\n","/**\r\n * GeoLeaf GeoJSON Loader - Profile\r\n * Orchestration du chargement par profil, batch loading, LayerManager population\r\n *\r\n * @module geojson/loader/profile\r\n */\r\n\"use strict\";\r\n\r\nimport { GeoJSONShared } from '../shared.js';\r\nimport { getLog } from '../../utils/general-utils.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\nconst getState = () => GeoJSONShared.state;\r\n\r\nconst Loader = {};\r\n\r\n/**\r\n * Charge automatiquement les couches GeoJSON déclarées dans le profil actif.\r\n *\r\n * @param {Object} [options] - Options supplémentaires globales appliquées à toutes les couches.\r\n * @returns {Promise<Array<Object>>} - Tableau des couches effectivement chargées avec métadonnées.\r\n */\r\nLoader.loadFromActiveProfile = function (options = {}) {\r\n    const state = getState();\r\n    const Log = getLog();\r\n    const Config = _g.GeoLeaf && _g.GeoLeaf.Config;\r\n\r\n\r\n\r\n    if (!Config || typeof Config.getActiveProfile !== \"function\") {\r\n\r\n        Log.warn(\r\n            \"[GeoLeaf.GeoJSON] Module Config ou Config.getActiveProfile() non disponible ; chargement GeoJSON par profil impossible.\"\r\n        );\r\n        return Promise.resolve([]);\r\n    }\r\n\r\n    const profile = Config.getActiveProfile();\r\n\r\n\r\n    if (!profile || typeof profile !== \"object\") {\r\n\r\n        Log.warn(\"[GeoLeaf.GeoJSON] Aucun profil actif ou profil invalide ; aucun GeoJSON chargé.\");\r\n        return Promise.resolve([]);\r\n    }\r\n\r\n    let layersDef = [];\r\n\r\n    // Format 1 : profil.geojsonLayers = [...]\r\n    if (Array.isArray(profile.geojsonLayers)) {\r\n        layersDef = profile.geojsonLayers;\r\n    }\r\n    // Format 2 : profil.geojson.layers = [...]\r\n    else if (profile.geojson && Array.isArray(profile.geojson.layers)) {\r\n        layersDef = profile.geojson.layers;\r\n    }\r\n    // Format 3 : profil.layers = [...] (nouveau modèle Full Layer)\r\n    else if (Array.isArray(profile.layers)) {\r\n        layersDef = profile.layers;\r\n    }\r\n    // Format 4 : v3.0 avec Config.getActiveProfileLayersConfig() (nouvelles couches modulaires)\r\n    else if (Config.Profile && typeof Config.Profile.getActiveProfileLayersConfig === \"function\") {\r\n        const layersConfig = Config.Profile.getActiveProfileLayersConfig();\r\n        if (Array.isArray(layersConfig)) {\r\n            layersDef = layersConfig;\r\n            Log.info(\"[GeoLeaf.GeoJSON] Utilisation du système v3.0 - \" + layersConfig.length + \" couches détectées\");\r\n        }\r\n    }\r\n\r\n    if (!layersDef.length) {\r\n        Log.info(\r\n            \"[GeoLeaf.GeoJSON] Aucun bloc geojsonLayers / geojson.layers / layers défini dans le profil actif ; rien à charger.\"\r\n        );\r\n        return Promise.resolve([]);\r\n    }\r\n\r\n    // Limite de sécurité : max 50 couches (augmentée pour profils riches)\r\n    if (layersDef.length > 50) {\r\n        Log.warn(\r\n            \"[GeoLeaf.GeoJSON] Beaucoup de couches GeoJSON détectées (\" + layersDef.length + \"). Cela peut affecter les performances.\"\r\n        );\r\n    } else if (layersDef.length > 20) {\r\n        Log.info(\r\n            \"[GeoLeaf.GeoJSON] \" + layersDef.length + \" couches GeoJSON détectées. Profil riche détecté.\"\r\n        );\r\n    }\r\n\r\n    const baseOptions = options || {};\r\n    const batchSize = 3;\r\n    const batchDelay = 200;\r\n    const self = this;\r\n\r\n    const tasks = layersDef.map((def, index) => async () => {\r\n        if (!def || typeof def !== \"object\") {\r\n            Log.warn(\"[GeoLeaf.GeoJSON] Descripteur GeoJSON de profil invalide, ignoré :\", { index, def });\r\n            return null;\r\n        }\r\n\r\n        if (typeof def.active === \"boolean\" && def.active === false) {\r\n            Log.debug(\"[GeoLeaf.GeoJSON] Couche désactivée (active: false), ignorée :\", def.id || \"(sans ID)\");\r\n            return null;\r\n        }\r\n\r\n        const layerDirectory = def._layerDirectory || null;\r\n        const layerUrl = def.url || (def.dataFile ? self._resolveDataFilePath(def.dataFile, profile, layerDirectory) : null);\r\n\r\n        if (!layerUrl) {\r\n            Log.warn(\"[GeoLeaf.GeoJSON] Descripteur GeoJSON sans URL ou dataFile, ignoré :\", {\r\n                index,\r\n                id: def.id,\r\n                label: def.label\r\n            });\r\n            return null;\r\n        }\r\n\r\n        const normalizedDef = { ...def, url: layerUrl };\r\n        normalizedDef._profileId = profile.id;\r\n        normalizedDef._layerDirectory = layerDirectory;\r\n\r\n        // Normalisation unifiée des configurations\r\n        if (def.popup && typeof def.popup === 'object') {\r\n            normalizedDef.showPopup = def.popup.enabled !== false;\r\n            if (def.popup.fields && Array.isArray(def.popup.fields)) {\r\n                normalizedDef.popupFields = def.popup.fields;\r\n            }\r\n            normalizedDef.popup = def.popup;\r\n        }\r\n\r\n        if (def.tooltip && typeof def.tooltip === 'object') {\r\n            normalizedDef.showTooltip = def.tooltip.enabled !== false;\r\n            if (def.tooltip.fields && Array.isArray(def.tooltip.fields)) {\r\n                normalizedDef.tooltipFields = def.tooltip.fields;\r\n            }\r\n            if (def.tooltip.mode) {\r\n                normalizedDef.tooltipMode = def.tooltip.mode;\r\n            }\r\n            normalizedDef.tooltip = def.tooltip;\r\n        }\r\n\r\n        if (def.sidepanel && typeof def.sidepanel === 'object') {\r\n            if (def.sidepanel.detailLayout && Array.isArray(def.sidepanel.detailLayout)) {\r\n                normalizedDef.sidepanelFields = def.sidepanel.detailLayout;\r\n            }\r\n            normalizedDef.sidepanel = def.sidepanel;\r\n        }\r\n\r\n        if (def.clustering && typeof def.clustering === 'object') {\r\n            normalizedDef.clustering = def.clustering.enabled !== false;\r\n            if (typeof def.clustering.maxClusterRadius === 'number') {\r\n                normalizedDef.maxClusterRadius = def.clustering.maxClusterRadius;\r\n                normalizedDef.clusterRadius = def.clustering.maxClusterRadius;\r\n            }\r\n            if (typeof def.clustering.disableClusteringAtZoom === 'number') {\r\n                normalizedDef.disableClusteringAtZoom = def.clustering.disableClusteringAtZoom;\r\n            }\r\n        }\r\n\r\n        if (def.search && typeof def.search === 'object') {\r\n            normalizedDef.search = def.search;\r\n        }\r\n\r\n        if (def.table && typeof def.table === 'object') {\r\n            normalizedDef.table = def.table;\r\n        }\r\n\r\n        // Sprint 8: propagate vectorTiles config\r\n        if (def.data && def.data.vectorTiles && typeof def.data.vectorTiles === 'object') {\r\n            normalizedDef.vectorTiles = def.data.vectorTiles;\r\n        }\r\n        if (def.vectorTiles && typeof def.vectorTiles === 'object') {\r\n            normalizedDef.vectorTiles = def.vectorTiles;\r\n        }\r\n\r\n        const layerId = def.id || (\"geojson-layer-\" + (state.layerIdCounter++));\r\n        const layerLabel = def.label || layerId;\r\n\r\n        Log.debug(\"[GeoLeaf.GeoJSON] Chargement couche GeoJSON :\", {\r\n            profileId: profile.id || \"(inconnu)\",\r\n            layerId: layerId,\r\n            url: layerUrl\r\n        });\r\n\r\n        try {\r\n            return await _g.GeoLeaf._GeoJSONLoader._loadSingleLayer(layerId, layerLabel, normalizedDef, baseOptions);\r\n        } catch (err) {\r\n            Log.error(\"[GeoLeaf.GeoJSON] Échec chargement couche :\", {\r\n                layerId: layerId,\r\n                url: layerUrl,\r\n                error: err\r\n            });\r\n            return null;\r\n        }\r\n    });\r\n\r\n    // ── Sprint 5 : Smart loading — immediate (default theme) + deferred ──\r\n    const defaultThemeLayerIds = self._getDefaultThemeLayerIds(profile);\r\n    const immediateTasks = [];\r\n    const deferredTasks = [];\r\n\r\n    layersDef.forEach((def, index) => {\r\n        if (def && def.id && defaultThemeLayerIds.has(def.id)) {\r\n            immediateTasks.push(tasks[index]);\r\n        } else {\r\n            deferredTasks.push(tasks[index]);\r\n        }\r\n    });\r\n\r\n    Log.info(\r\n        `[GeoLeaf.GeoJSON] Smart loading: ${immediateTasks.length} immédiate(s) (thème par défaut), ${deferredTasks.length} différée(s)`\r\n    );\r\n\r\n    // Phase 1 : charger les couches du thème par défaut\r\n    return this._loadLayersByBatch(immediateTasks, batchSize, batchDelay).then((layers) => {\r\n        const loadedLayers = layers.filter(Boolean);\r\n\r\n        Log.info(\"[GeoLeaf.GeoJSON] Phase 1 : \" + loadedLayers.length + \" couche(s) du thème par défaut chargée(s)\");\r\n\r\n        // Intégration avec LayerManager si disponible\r\n        if (loadedLayers.length > 0 && _g.GeoLeaf && _g.GeoLeaf._GeoJSONLayerManager) {\r\n            _g.GeoLeaf._GeoJSONLayerManager.registerWithLayerManager();\r\n        }\r\n\r\n        // Fit bounds sur l'ensemble des couches chargées\r\n        if (baseOptions.fitBoundsOnLoad !== false && state.map && state.layerGroup) {\r\n            const bounds = state.layerGroup.getBounds();\r\n            if (bounds.isValid()) {\r\n                const fitOptions = {};\r\n                if (typeof baseOptions.maxZoomOnFit === \"number\") {\r\n                    fitOptions.maxZoom = baseOptions.maxZoomOnFit;\r\n                }\r\n                state.map.fitBounds(bounds, fitOptions);\r\n                Log.debug(\"[GeoLeaf.GeoJSON] Carte ajustée sur l'emprise des couches GeoJSON\");\r\n\r\n                const onMoveEnd = function() {\r\n                    state.map.off('moveend', onMoveEnd);\r\n                    try {\r\n                        const event = new CustomEvent('geoleaf:fitbounds:complete', { detail: { bounds: bounds } });\r\n                        document.dispatchEvent(event);\r\n                    } catch (e) {\r\n                        // fallback si CustomEvent n'est pas dispo\r\n                    }\r\n                };\r\n                state.map.on('moveend', onMoveEnd);\r\n            }\r\n        }\r\n\r\n        // Événement : couches initiales prêtes\r\n        try {\r\n            state.map.fire(\"geoleaf:geojson:layers-loaded\", {\r\n                count: loadedLayers.length,\r\n                layers: loadedLayers.map(l => ({ id: l.id, label: l.label }))\r\n            });\r\n        } catch (e) {\r\n            // Silencieux\r\n        }\r\n\r\n        try {\r\n            document.dispatchEvent(new CustomEvent('geoleaf:layers:initial-loaded', {\r\n                detail: { count: loadedLayers.length, deferred: deferredTasks.length }\r\n            }));\r\n        } catch (e) {\r\n            // Silencieux\r\n        }\r\n\r\n        // Phase 2 : charger le reste en arrière-plan (idle)\r\n        if (deferredTasks.length > 0) {\r\n            self._loadLayersInIdle(deferredTasks).then((deferredLayers) => {\r\n                const loadedDeferred = deferredLayers.filter(Boolean);\r\n                Log.info(\r\n                    \"[GeoLeaf.GeoJSON] Phase 2 : \" + loadedDeferred.length + \" couche(s) différée(s) chargée(s) en arrière-plan\"\r\n                );\r\n\r\n                // Re-register with LayerManager to include deferred layers\r\n                if (loadedDeferred.length > 0 && _g.GeoLeaf && _g.GeoLeaf._GeoJSONLayerManager) {\r\n                    _g.GeoLeaf._GeoJSONLayerManager.registerWithLayerManager();\r\n                }\r\n\r\n                try {\r\n                    state.map.fire(\"geoleaf:geojson:deferred-layers-loaded\", {\r\n                        count: loadedDeferred.length,\r\n                        layers: loadedDeferred.map(l => ({ id: l.id, label: l.label }))\r\n                    });\r\n                } catch (e) {\r\n                    // Silencieux\r\n                }\r\n            }).catch((err) => {\r\n                Log.error(\"[GeoLeaf.GeoJSON] Erreur chargement couches différées :\", err);\r\n            });\r\n        }\r\n\r\n        return loadedLayers;\r\n    });\r\n};\r\n\r\n/**\r\n * Exécute un tableau de tâches async par lots.\r\n *\r\n * @param {Array<Function>} tasks - Fonctions async à exécuter\r\n * @param {number} [batchSize=3] - Taille des lots\r\n * @param {number} [delayMs=200] - Délai entre les lots (non utilisé actuellement)\r\n * @returns {Promise<Array>}\r\n * @private\r\n */\r\nLoader._loadLayersByBatch = async function (tasks, batchSize = 3, delayMs = 200) {\r\n    const results = [];\r\n\r\n    for (let i = 0; i < tasks.length; i += batchSize) {\r\n        const batch = tasks.slice(i, i + batchSize);\r\n        const batchStart = Date.now();\r\n        const batchResults = await Promise.all(batch.map(fn => fn()));\r\n        results.push(...batchResults);\r\n\r\n        const batchDuration = Date.now() - batchStart;\r\n        const Log = getLog();\r\n        Log.info(`[GeoLeaf.GeoJSON] Lot ${Math.floor(i / batchSize) + 1}/${Math.ceil(tasks.length / batchSize)} chargé en ${batchDuration} ms`);\r\n\r\n        // Yield to the main thread between batches to avoid long tasks\r\n        if (i + batchSize < tasks.length && delayMs > 0) {\r\n            await new Promise(resolve => setTimeout(resolve, delayMs));\r\n        }\r\n    }\r\n\r\n    return results;\r\n};\r\n\r\n/**\r\n * Retourne un Set d'IDs de couches appartenant au thème par défaut.\r\n * Utilisé pour le chargement prioritaire (Sprint 5).\r\n *\r\n * @param {Object} profile - Profil actif enrichi\r\n * @returns {Set<string>} - IDs des couches du thème initial\r\n * @private\r\n */\r\nLoader._getDefaultThemeLayerIds = function (profile) {\r\n    try {\r\n        if (!profile || !profile.themes) return new Set();\r\n\r\n        const themesData = profile.themes;\r\n        // Support \"defautTheme\" (FR) et \"defaultTheme\" (EN)\r\n        const defaultThemeId =\r\n            (themesData.config && themesData.config.defautTheme) ||\r\n            themesData.defaultTheme ||\r\n            null;\r\n\r\n        if (!defaultThemeId || !Array.isArray(themesData.themes)) return new Set();\r\n\r\n        const defaultTheme = themesData.themes.find((t) => t.id === defaultThemeId);\r\n        if (!defaultTheme || !Array.isArray(defaultTheme.layers)) return new Set();\r\n\r\n        return new Set(\r\n            defaultTheme.layers\r\n                .filter((l) => l.visible !== false)\r\n                .map((l) => l.id)\r\n        );\r\n    } catch (e) {\r\n        return new Set();\r\n    }\r\n};\r\n\r\n/**\r\n * Charge des tâches de couches en arrière-plan via requestIdleCallback.\r\n * Chaque lot est planifié quand le navigateur est inactif.\r\n *\r\n * @param {Array<Function>} tasks - Fonctions async à exécuter\r\n * @param {number} [batchSize=2] - Taille des lots idle\r\n * @returns {Promise<Array>}\r\n * @private\r\n */\r\nLoader._loadLayersInIdle = function (tasks, batchSize = 2) {\r\n    const Log = getLog();\r\n\r\n    return new Promise((resolve) => {\r\n        const results = [];\r\n        let index = 0;\r\n\r\n        const schedule =\r\n            typeof requestIdleCallback === 'function'\r\n                ? (cb) => requestIdleCallback(cb, { timeout: 3000 })\r\n                : (cb) => setTimeout(cb, 60);\r\n\r\n        const processNext = () => {\r\n            if (index >= tasks.length) {\r\n                resolve(results);\r\n                return;\r\n            }\r\n\r\n            schedule(async () => {\r\n                const batch = tasks.slice(index, index + batchSize);\r\n                const batchResults = await Promise.all(batch.map((fn) => fn()));\r\n                results.push(...batchResults);\r\n\r\n                Log.debug(\r\n                    `[GeoLeaf.GeoJSON] Idle: lot ${Math.floor(index / batchSize) + 1}/${Math.ceil(tasks.length / batchSize)} ` +\r\n                    `(${results.length}/${tasks.length} traitées)`\r\n                );\r\n\r\n                index += batchSize;\r\n                processNext();\r\n            });\r\n        };\r\n\r\n        processNext();\r\n    });\r\n};\r\n\r\n/**\r\n * Prépare les configurations de TOUTES les couches pour le LayerManager.\r\n * Utilise les configs déjà chargées par ProfileLoader et y ajoute les layerManagerId.\r\n *\r\n * @param {Object} profile - Profil actif enrichi par ProfileLoader\r\n * @returns {Promise<Array>} - Promise résolvant en array des infos de couches\r\n */\r\nLoader.loadAllLayersConfigsForLayerManager = async function(profile) {\r\n    const Log = getLog();\r\n\r\n    if (!profile || !profile.layers || !Array.isArray(profile.layers)) {\r\n        Log.warn(\"[GeoLeaf.GeoJSON] loadAllLayersConfigsForLayerManager: Pas de couches dans le profil\");\r\n        return [];\r\n    }\r\n\r\n    Log.info(`[GeoLeaf.GeoJSON] Préparation de ${profile.layers.length} configurations de couches pour LayerManager...`);\r\n\r\n    // Les configs sont déjà chargées par ProfileLoader, il suffit d'enrichir avec layerManagerId\r\n    const allConfigs = profile.layers.map(layer => {\r\n        let styles = null;\r\n        let labels = null;\r\n        if (layer.config && layer.config.styles) {\r\n            styles = layer.config.styles;\r\n        } else if (layer.styles) {\r\n            styles = layer.styles;\r\n        }\r\n        if (layer.config && layer.config.labels) {\r\n            labels = layer.config.labels;\r\n        } else if (layer.labels) {\r\n            labels = layer.labels;\r\n        }\r\n        return {\r\n            id: layer.id,\r\n            label: layer.label,\r\n            layerManagerId: layer.layerManagerId || \"geojson-default\",\r\n            configFile: layer.configFile,\r\n            zIndex: (layer.config && layer.config.zIndex) || 0,\r\n            themes: (layer.config && layer.config.themes) || null,\r\n            styles: styles,\r\n            labels: labels\r\n        };\r\n    });\r\n\r\n    Log.info(`[GeoLeaf.GeoJSON] ${allConfigs.length} configurations prêtes pour LayerManager`);\r\n\r\n    // Stocker les configs pour utilisation par LayerManager\r\n    _g.GeoLeaf._allLayerConfigs = allConfigs;\r\n\r\n    return allConfigs;\r\n};\r\n\r\nexport { Loader as LoaderProfile };\r\n","/**\r\n * GeoLeaf GeoJSON Loader - Single Layer\r\n * Pipeline complet de chargement d'une couche individuelle\r\n *\r\n * Sprint 7 : Web Worker fetch+parse + chunked addData via requestIdleCallback\r\n * Sprint 8 : Vector tiles — early-exit to VectorTiles module when configured\r\n *\r\n * @module geojson/loader/single-layer\r\n */\r\n\"use strict\";\r\n\r\nimport { GeoJSONShared } from '../shared.js';\r\nimport { getLog } from '../../utils/general-utils.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\nconst getState = () => GeoJSONShared.state;\r\nconst getVectorTiles = () => _g.GeoLeaf && _g.GeoLeaf._VectorTiles;\r\n\r\n/**\r\n * Détermine si un style chargé nécessite un post-processing via setLayerStyle\r\n * (hatch patterns ou casing). Les styles simples (couleurs, opacités) sont\r\n * déjà injectés dans buildLayerOptions et ne nécessitent pas de passe supplémentaire.\r\n *\r\n * @param {Object} styleData - Données de style JSON chargées\r\n * @returns {boolean} true si setLayerStyle est nécessaire\r\n * @private\r\n */\r\nfunction _styleNeedsPostProcess(styleData) {\r\n    if (!styleData) return false;\r\n\r\n    // Check default style for hatch\r\n    const defStyle = styleData.defaultStyle || styleData.style || {};\r\n    if (defStyle.hatch && defStyle.hatch.enabled) return true;\r\n    if (defStyle.casing && defStyle.casing.enabled) return true;\r\n\r\n    // Check styleRules for hatch/casing\r\n    const rules = Array.isArray(styleData.styleRules) ? styleData.styleRules : [];\r\n    for (const rule of rules) {\r\n        const s = rule.style || {};\r\n        if (s.hatch && s.hatch.enabled) return true;\r\n        if (s.casing && s.casing.enabled) return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nconst Loader = {};\r\n\r\n/** Nombre de features injectées par tick idle */\r\nconst CHUNK_ADD_SIZE = 200;\r\n\r\n/**\r\n * Ajoute des features à un layer Leaflet par chunks via requestIdleCallback.\r\n * Évite de bloquer le thread principal lors de gros jeux de données.\r\n *\r\n * @param {L.GeoJSON} leafletLayer - Layer Leaflet cible (créé vide)\r\n * @param {Array} features - Tableau des features GeoJSON\r\n * @param {number} [chunkSize=200] - Nombre de features par tick\r\n * @returns {Promise<void>} Résolu quand toutes les features sont ajoutées\r\n * @private\r\n */\r\nfunction _addFeaturesChunked(leafletLayer, features, chunkSize) {\r\n    chunkSize = chunkSize || CHUNK_ADD_SIZE;\r\n    var total = features.length;\r\n\r\n    // Petit jeu de données → ajout direct (pas de surcoût scheduling)\r\n    if (total <= chunkSize) {\r\n        leafletLayer.addData({ type: \"FeatureCollection\", features: features });\r\n        return Promise.resolve();\r\n    }\r\n\r\n    var Log = getLog();\r\n    var _ric = typeof requestIdleCallback === \"function\"\r\n        ? requestIdleCallback\r\n        : function (cb) { return setTimeout(cb, 4); };\r\n\r\n    return new Promise(function (resolve) {\r\n        var offset = 0;\r\n\r\n        function processChunk() {\r\n            var end = Math.min(offset + chunkSize, total);\r\n            var slice = features.slice(offset, end);\r\n\r\n            leafletLayer.addData({ type: \"FeatureCollection\", features: slice });\r\n            offset = end;\r\n\r\n            if (offset < total) {\r\n                _ric(processChunk);\r\n            } else {\r\n                Log.debug(\"[GeoLeaf.GeoJSON] Chunked addData terminé :\", total, \"features\");\r\n                resolve();\r\n            }\r\n        }\r\n\r\n        _ric(processChunk);\r\n    });\r\n}\r\n\r\n/**\r\n * Charge une couche GeoJSON individuelle.\r\n *\r\n * @param {string} layerId - ID unique de la couche\r\n * @param {string} layerLabel - Libellé de la couche\r\n * @param {Object} def - Définition de la couche depuis le profil\r\n * @param {Object} baseOptions - Options de base\r\n * @returns {Promise<Object>} - Métadonnées de la couche chargée\r\n * @private\r\n */\r\nLoader._loadSingleLayer = function (layerId, layerLabel, def, baseOptions) {\r\n    const state = getState();\r\n    const Log = getLog();\r\n\r\n    // ── Sprint 8: Vector tiles — early-exit ──────────────────────\r\n    // If the layer has a vectorTiles config AND VectorGrid is available,\r\n    // delegate entirely to the VT module (no GeoJSON fetch/parse).\r\n    const VT = getVectorTiles();\r\n    if (VT && VT.shouldUseVectorTiles(def)) {\r\n        Log.info(`[GeoLeaf.GeoJSON] ⬡ Layer \"${layerId}\" → vector tiles (Sprint 8)`);\r\n        return VT.loadVectorTileLayer(layerId, layerLabel, def, baseOptions);\r\n    }\r\n\r\n    const fromCache = !!def._cachedData;\r\n    const isGpx = def.type === \"gpx\" || (def.url && def.url.endsWith(\".gpx\"));\r\n\r\n    // Sprint 7 : utiliser le Web Worker pour le fetch+parse JSON (pas cache)\r\n    // Perf 6.3.1: étendre le Worker au fetch GPX text (parse DOMParser reste main thread)\r\n    const WorkerMgr = _g.GeoLeaf && _g.GeoLeaf._WorkerManager;\r\n    const useWorker = !fromCache && WorkerMgr && WorkerMgr.isAvailable();\r\n\r\n    const dataPromise = fromCache\r\n        ? Promise.resolve(def._cachedData)\r\n        : useWorker\r\n            ? (isGpx\r\n                ? WorkerMgr.fetchText(def.url, layerId)\r\n                : WorkerMgr.fetchGeoJSON(def.url, layerId))\r\n            : fetch(def.url).then((response) => {\r\n                if (!response.ok) {\r\n                    throw new Error(\"HTTP \" + response.status + \" pour \" + def.url);\r\n                }\r\n\r\n                if (isGpx) {\r\n                    return response.text();\r\n                }\r\n\r\n                return response.json();\r\n            });\r\n\r\n    return dataPromise\r\n        .then(async (rawData) => {\r\n            if (fromCache) {\r\n                delete def._cachedData;\r\n            }\r\n\r\n            const DataConverter = _g.GeoLeaf && _g.GeoLeaf._DataConverter;\r\n            let geojsonData;\r\n\r\n            if (isGpx) {\r\n                if (typeof rawData === \"string\") {\r\n                    geojsonData = DataConverter && typeof DataConverter.convertGpxToGeoJSON === \"function\"\r\n                        ? DataConverter.convertGpxToGeoJSON(rawData)\r\n                        : { type: \"FeatureCollection\", features: [] };\r\n                } else {\r\n                    Log.warn(\"[GeoLeaf.GeoJSON._loadSingleLayer] GPX n'est pas un string\", layerId);\r\n                    geojsonData = { type: \"FeatureCollection\", features: [] };\r\n                }\r\n            } else {\r\n                geojsonData = DataConverter ? DataConverter.autoConvert(rawData) : rawData;\r\n            }\r\n\r\n            Log.debug(\"[GeoLeaf.GeoJSON._loadSingleLayer] Données converties\", {\r\n                layerId: layerId,\r\n                type: def.type,\r\n                features: geojsonData.features ? geojsonData.features.length : 0,\r\n                source: fromCache ? \"cache\" : \"network\"\r\n            });\r\n\r\n            const PaneHelpers = GeoJSONShared.PaneHelpers;\r\n            const PaneConfig = GeoJSONShared.PANE_CONFIG;\r\n\r\n            // ── Style pre-loading: charger le JSON AVANT de créer le layer ──\r\n            let preloadedStyleData = null;\r\n            if (def.styles && def.styles.default) {\r\n                try {\r\n                    preloadedStyleData = await _g.GeoLeaf._GeoJSONLayerConfig.loadDefaultStyle(layerId, def);\r\n                    if (preloadedStyleData) {\r\n                        // Injecter le style résolu dans def pour que buildLayerOptions l'utilise\r\n                        const resolvedDefault = preloadedStyleData.defaultStyle || preloadedStyleData.style;\r\n                        if (resolvedDefault) {\r\n                            def.style = Object.assign({}, def.style || {}, resolvedDefault);\r\n                        }\r\n                        if (Array.isArray(preloadedStyleData.styleRules) && preloadedStyleData.styleRules.length) {\r\n                            def.styleRules = preloadedStyleData.styleRules;\r\n                        }\r\n                        Log.debug(\"[GeoLeaf.GeoJSON] Style pré-chargé pour:\", layerId);\r\n                    }\r\n                } catch (err) {\r\n                    Log.warn(\"[GeoLeaf.GeoJSON] Échec pré-chargement style pour:\", layerId, err.message);\r\n                    // Notification toast si le système est disponible\r\n                    if (_g.GeoLeaf && _g.GeoLeaf.Notifications && typeof _g.GeoLeaf.Notifications.warning === 'function') {\r\n                        _g.GeoLeaf.Notifications.warning(\r\n                            `Style par défaut introuvable pour « ${layerLabel} ». Affichage avec style neutre.`\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n\r\n            const layerOptions = _g.GeoLeaf._GeoJSONLayerConfig.buildLayerOptions(def, baseOptions);\r\n            // Use lazy pane factory if available, fallback to getPaneName\r\n            layerOptions.pane = PaneHelpers.getOrCreatePane\r\n                ? PaneHelpers.getOrCreatePane(def.zIndex, state.map)\r\n                : PaneHelpers.getPaneName(def.zIndex);\r\n\r\n            // ── NE PAS appeler enablePaneInteraction ici ──────────────────\r\n            // Mettre pointer-events: auto sur le pane <div> est DESTRUCTIF :\r\n            // le <div> couvre tout le viewport et intercepte TOUS les clics,\r\n            // bloquant les panes à z-index inférieur. Avec les panes par couche,\r\n            // plusieurs panes interactifs se superposent (ex: z454 au-dessus de\r\n            // z453), et pointer-events: auto sur z454 empêche tout clic sur z453.\r\n            //\r\n            // Tous les panes restent à pointer-events: none. L'interactivité\r\n            // est gérée au niveau des éléments enfants :\r\n            //  - SVG <path> : Leaflet CSS `.leaflet-pane > svg path.leaflet-interactive`\r\n            //    donne pointer-events: auto (fonctionne malgré le parent none)\r\n            //  - Markers <div> : Leaflet CSS `.leaflet-marker-icon.leaflet-interactive`\r\n            //    donne pointer-events: auto\r\n            //  - Canvas : les couches non-interactives restent muettes (voulu)\r\n\r\n            // ── Choix du renderer : SVG vs Canvas ──────────────────────────\r\n            // Avec preferCanvas: true (défaut Sprint 7), Leaflet crée un <canvas>\r\n            // par pane. Contrairement aux éléments SVG <path> (qui ne captent les\r\n            // clics que sur leur tracé réel), un <canvas> est un rectangle opaque\r\n            // pour les événements DOM : il intercepte TOUS les clics dans ses\r\n            // limites, même sur les zones transparentes. Résultat : les panes\r\n            // Canvas superposés plus haut en z-index bloquent les clics vers les\r\n            // couches interactives en-dessous.\r\n            //\r\n            // Solution : forcer L.svg() pour toute couche interactive polygon/\r\n            // polyline (pas les points, qui utilisent le markerPane ou les\r\n            // clusters). Cela garantit que chaque polygone interactif est un\r\n            // <path> SVG avec son propre pointer-events, tandis que les couches\r\n            // non-interactives restent en Canvas pour la performance.\r\n            const isInteractiveShape = def.interactiveShape === true;\r\n            const isPolygonOrLine = def.geometry === 'polygon' || def.geometry === 'polyline' || def.geometry === 'line';\r\n            const needsSvgRenderer = _styleNeedsPostProcess(preloadedStyleData) || (isInteractiveShape && isPolygonOrLine);\r\n\r\n            if (needsSvgRenderer && _g.L && _g.L.svg) {\r\n                layerOptions.renderer = _g.L.svg({ pane: layerOptions.pane });\r\n                if (_styleNeedsPostProcess(preloadedStyleData)) {\r\n                    Log.debug(\"[GeoLeaf.GeoJSON] SVG renderer forcé (hatch/casing) pour:\", layerId);\r\n                } else {\r\n                    Log.debug(\"[GeoLeaf.GeoJSON] SVG renderer forcé (interactive polygon/line + preferCanvas) pour:\", layerId);\r\n                }\r\n            }\r\n\r\n            // ── Propager interactive au niveau du FeatureGroup L.geoJSON ──\r\n            // Le style() callback définit interactive par feature, mais le\r\n            // FeatureGroup parent doit aussi être marqué interactive pour que\r\n            // Leaflet enregistre les event handlers sur le renderer.\r\n            if (isInteractiveShape) {\r\n                layerOptions.interactive = true;\r\n            }\r\n\r\n            // Sprint 7 : créer le layer vide puis injecter les features par chunks\r\n            const features = Array.isArray(geojsonData.features) ? geojsonData.features : [];\r\n            const leafletLayer = _g.L.geoJSON(null, layerOptions);\r\n\r\n            // Déterminer la stratégie de clustering AVANT d'ajouter les features\r\n            // pour savoir si on doit attendre la fin de l'injection (cas cluster).\r\n            const ClusteringModule = _g.GeoLeaf && _g.GeoLeaf._GeoJSONClustering;\r\n            const clusterStrategy = ClusteringModule\r\n                ? ClusteringModule.getClusteringStrategy(def, geojsonData)\r\n                : { shouldCluster: false, useSharedCluster: false };\r\n\r\n            // Normaliser les paramètres de clustering depuis l'objet clustering si présents\r\n            // (le thème applier ne fait pas cette normalisation contrairement à profile.js)\r\n            if (def.clustering && typeof def.clustering === 'object') {\r\n                if (typeof def.clusterRadius !== 'number' && typeof def.clustering.maxClusterRadius === 'number') {\r\n                    def.clusterRadius = def.clustering.maxClusterRadius;\r\n                }\r\n                if (typeof def.disableClusteringAtZoom !== 'number' && typeof def.clustering.disableClusteringAtZoom === 'number') {\r\n                    def.disableClusteringAtZoom = def.clustering.disableClusteringAtZoom;\r\n                }\r\n            }\r\n\r\n            // Sprint 7+8 : addData chunked — ATTENDRE la fin si clustering actif\r\n            // ou si le style nécessite un post-processing (hatch/casing).\r\n            // MarkerClusterGroup.addLayer(featureGroup) prend un instantané des enfants ;\r\n            // les features ajoutées après ne sont PAS visibles dans le cluster.\r\n            // Pour hatch/casing, setLayerStyle doit itérer TOUTES les features\r\n            // pour attacher les listeners 'add' → il faut que les features soient présentes.\r\n            const needsAwaitFeatures = clusterStrategy.shouldCluster || _styleNeedsPostProcess(preloadedStyleData);\r\n            if (needsAwaitFeatures) {\r\n                await _addFeaturesChunked(leafletLayer, features, CHUNK_ADD_SIZE);\r\n            } else {\r\n                // Sans clustering ni hatch, on peut continuer sans attendre — Leaflet affiche\r\n                // les features au fur et à mesure lorsque la couche est déjà sur la map.\r\n                _addFeaturesChunked(leafletLayer, features, CHUNK_ADD_SIZE);\r\n            }\r\n\r\n            let clusterGroup = null;\r\n            let useSharedCluster = false;\r\n\r\n            if (clusterStrategy.shouldCluster) {\r\n                if (clusterStrategy.useSharedCluster) {\r\n                    // Utiliser le cluster POI partagé\r\n                    Log.info(\"[GeoLeaf.GeoJSON] 🔄 Tentative récupération cluster POI partagé pour:\", layerId);\r\n                    let poiCluster = ClusteringModule ? ClusteringModule.getSharedPOICluster() : null;\r\n\r\n                    if (poiCluster) {\r\n                        clusterGroup = poiCluster;\r\n                        clusterGroup.addLayer(leafletLayer);\r\n                        useSharedCluster = true;\r\n                        Log.info(\"[GeoLeaf.GeoJSON] ✅ Couche ajoutée au cluster POI partagé (stratégie: unified) :\", layerId);\r\n                    } else {\r\n                        // Le cluster POI n'est pas encore créé, attendre un peu et réessayer\r\n                        Log.debug(\"[GeoLeaf.GeoJSON] Cluster POI non disponible immédiatement, tentative après délai :\", layerId);\r\n\r\n                        // Stocker temporairement sans cluster\r\n                        const tempLayerData = {\r\n                            id: layerId,\r\n                            label: layerLabel,\r\n                            layer: leafletLayer,\r\n                            visible: true,\r\n                            config: def,\r\n                            clusterGroup: null,\r\n                            useSharedCluster: false,\r\n                            pendingSharedCluster: true\r\n                        };\r\n\r\n                        state.layers.set(layerId, tempLayerData);\r\n\r\n                        // Réessayer après un court délai\r\n                        setTimeout(() => {\r\n                            poiCluster = ClusteringModule ? ClusteringModule.getSharedPOICluster() : null;\r\n\r\n                            if (poiCluster) {\r\n                                poiCluster.addLayer(leafletLayer);\r\n                                tempLayerData.clusterGroup = poiCluster;\r\n                                tempLayerData.useSharedCluster = true;\r\n                                tempLayerData.pendingSharedCluster = false;\r\n                                Log.debug(\"[GeoLeaf.GeoJSON] Couche ajoutée au cluster POI partagé (après délai) :\", layerId);\r\n                            } else {\r\n                                Log.warn(\"[GeoLeaf.GeoJSON] Cluster POI toujours non disponible, création cluster indépendant :\", layerId);\r\n                                if (_g.L && _g.L.markerClusterGroup) {\r\n                                    const independentCluster = _g.L.markerClusterGroup({\r\n                                        maxClusterRadius: def.clusterRadius || 80,\r\n                                        disableClusteringAtZoom: def.disableClusteringAtZoom || 18,\r\n                                        animate: false,\r\n                                        showCoverageOnHover: false\r\n                                    });\r\n\r\n                                    // Forcer le pane sur tous les markers du cluster\r\n                                    independentCluster.on('layeradd', function(e) {\r\n                                        PaneHelpers.applyPaneToLayer(e.layer, def.zIndex || 0);\r\n                                    });\r\n\r\n                                    independentCluster.addLayer(leafletLayer);\r\n                                    tempLayerData.clusterGroup = independentCluster;\r\n                                    tempLayerData.useSharedCluster = false;\r\n                                    tempLayerData.pendingSharedCluster = false;\r\n\r\n                                    if (tempLayerData.visible) {\r\n                                        state.map.addLayer(independentCluster);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }, 500);\r\n\r\n                        return {\r\n                            id: layerId,\r\n                            label: layerLabel,\r\n                            featureCount: features.length\r\n                        };\r\n                    }\r\n                } else {\r\n                    // Créer un cluster indépendant (by-source)\r\n                    if (_g.L && _g.L.markerClusterGroup) {\r\n                        clusterGroup = _g.L.markerClusterGroup({\r\n                            maxClusterRadius: def.clusterRadius || 80,\r\n                            disableClusteringAtZoom: def.disableClusteringAtZoom || 18,\r\n                            animate: false,\r\n                            spiderfyOnMaxZoom: false,\r\n                            showCoverageOnHover: false,\r\n                            zoomToBoundsOnClick: true\r\n                        });\r\n\r\n                        // Forcer le pane sur tous les markers du cluster\r\n                        const paneName = PaneHelpers.getPaneName(def.zIndex);\r\n                        clusterGroup.on('layeradd', function(e) {\r\n                            PaneHelpers.applyPaneToLayer(e.layer, def.zIndex || 0);\r\n                        });\r\n\r\n                        clusterGroup.addLayer(leafletLayer);\r\n                        Log.debug(\"[GeoLeaf.GeoJSON] Couche avec cluster indépendant (stratégie: by-source) :\", layerId);\r\n                    }\r\n                }\r\n            } else {\r\n                Log.debug(\"[GeoLeaf.GeoJSON] Couche sans clustering :\", layerId);\r\n            }\r\n\r\n            // Stocker la couche\r\n            const inferredGeometry = _g.GeoLeaf._GeoJSONLayerConfig.inferGeometryType(def, geojsonData);\r\n\r\n            // Calculer le zIndex si non défini\r\n            let zIndex = def.zIndex;\r\n            if (typeof zIndex !== 'number') {\r\n                // Calculer automatiquement basé sur l'ordre d'apparition\r\n                const allLayerIds = Array.from(state.layers.keys());\r\n                zIndex = Math.max(PaneConfig.MIN_LAYER_ZINDEX, PaneConfig.MAX_LAYER_ZINDEX - allLayerIds.length);\r\n                Log.debug(`[GeoLeaf.GeoJSON] zIndex auto-assigné pour ${layerId}: ${zIndex}`);\r\n            } else {\r\n                // Validation et clamping 0-99\r\n                const validatedZIndex = PaneHelpers.validateZIndex(zIndex);\r\n                if (validatedZIndex !== def.zIndex) {\r\n                    Log.warn(`[GeoLeaf.GeoJSON] zIndex ${def.zIndex} clamped to ${validatedZIndex} pour ${layerId}`);\r\n                }\r\n                zIndex = validatedZIndex;\r\n            }\r\n            def.zIndex = zIndex;\r\n\r\n            const Config = _g.GeoLeaf && _g.GeoLeaf.Config;\r\n            const dataCfg = Config && Config.get ? Config.get('data') : null;\r\n            const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || \"profiles\";\r\n            const layerBasePath = `${profilesBasePath}/${def._profileId}/${def._layerDirectory}`;\r\n\r\n            const layerData = {\r\n                id: layerId,\r\n                label: layerLabel,\r\n                layer: leafletLayer,\r\n                visible: true,\r\n                config: def,\r\n                clusterGroup: clusterGroup,\r\n                legendsConfig: def.legends,\r\n                basePath: layerBasePath,\r\n                useSharedCluster: useSharedCluster,\r\n                // geojson raw data removed (Sprint 1) — saves ~243 MB on large profiles\r\n                features: features,\r\n                geometryType: def.geometryType || inferredGeometry\r\n            };\r\n\r\n            // Initialiser les métadonnées de visibilité AVANT d'ajouter à la map\r\n            layerData._visibility = {\r\n                current: false,\r\n                logicalState: false,\r\n                source: 'system',\r\n                userOverride: false,\r\n                themeOverride: false,\r\n                themeDesired: null,\r\n                zoomConstrained: false\r\n            };\r\n\r\n            state.layers.set(layerId, layerData);\r\n\r\n            // featureCache removed (Sprint 1) — UI reads features directly from state.layers\r\n\r\n            // Mettre en cache les données GeoJSON pour les chargements suivants\r\n            if (_g.GeoLeaf && _g.GeoLeaf.ThemeCache && typeof _g.GeoLeaf.ThemeCache.store === 'function') {\r\n                const profileId = def._profileId || (_g.GeoLeaf.Config && _g.GeoLeaf.Config.getActiveProfileId ? _g.GeoLeaf.Config.getActiveProfileId() : null);\r\n                _g.GeoLeaf.ThemeCache.store(layerId, profileId, geojsonData, { contentLength: def.contentLength });\r\n            }\r\n\r\n            // Appliquer immédiatement les seuils de zoom pour cette couche\r\n            if (_g.GeoLeaf && _g.GeoLeaf._GeoJSONLayerManager) {\r\n                _g.GeoLeaf._GeoJSONLayerManager.updateLayerVisibilityByZoom();\r\n            }\r\n\r\n            // NE PAS ajouter automatiquement à la carte au chargement\r\n            // Les thèmes contrôleront la visibilité des couches\r\n            layerData.visible = false;\r\n\r\n            // FitBounds UNIQUEMENT si pas de système de thèmes\r\n            const shouldFitBounds = def.fitBoundsOnLoad && !(_g.GeoLeaf && _g.GeoLeaf.ThemeSelector);\r\n            if (shouldFitBounds && leafletLayer.getBounds().isValid()) {\r\n                const fitOptions = {};\r\n                if (typeof def.maxZoomOnFit === \"number\") {\r\n                    fitOptions.maxZoom = def.maxZoomOnFit;\r\n                }\r\n                state.map.fitBounds(leafletLayer.getBounds(), fitOptions);\r\n            }\r\n\r\n            // ── Post-processing: appliquer setLayerStyle uniquement si hatch/casing ──\r\n            if (preloadedStyleData) {\r\n                // Stocker currentStyle dans layerData pour les labels\r\n                const layerDataForStyle = state.layers.get(layerId);\r\n                if (layerDataForStyle) {\r\n                    layerDataForStyle.currentStyle = preloadedStyleData;\r\n                }\r\n\r\n                const needsPostProcess = _styleNeedsPostProcess(preloadedStyleData);\r\n                if (needsPostProcess && _g.GeoLeaf && _g.GeoLeaf._GeoJSONLayerManager) {\r\n                    Log.debug(\"[GeoLeaf.GeoJSON] Post-process setLayerStyle (hatch/casing) pour:\", layerId);\r\n                    _g.GeoLeaf._GeoJSONLayerManager.setLayerStyle(layerId, preloadedStyleData);\r\n                } else {\r\n                    Log.debug(\"[GeoLeaf.GeoJSON] Style simple pré-injecté, setLayerStyle ignoré pour:\", layerId);\r\n                }\r\n\r\n                // Initialiser les labels selon le style\r\n                if (_g.GeoLeaf && _g.GeoLeaf.Labels && typeof _g.GeoLeaf.Labels.initializeLayerLabels === 'function') {\r\n                    _g.GeoLeaf.Labels.initializeLayerLabels(layerId);\r\n                }\r\n\r\n                // Synchroniser le bouton de label\r\n                if (_g.GeoLeaf && _g.GeoLeaf._LabelButtonManager) {\r\n                    _g.GeoLeaf._LabelButtonManager.syncImmediate(layerId);\r\n                }\r\n            } else {\r\n                // Pas de style par défaut: initialiser les labels depuis la config legacy si présents\r\n                if (def.labels && def.labels.enabled && _g.GeoLeaf && _g.GeoLeaf.Labels && typeof _g.GeoLeaf.Labels.initializeLayerLabels === 'function') {\r\n                    _g.GeoLeaf.Labels.initializeLayerLabels(layerId);\r\n                }\r\n\r\n                // Synchroniser le bouton de label\r\n                if (_g.GeoLeaf && _g.GeoLeaf._LabelButtonManager) {\r\n                    _g.GeoLeaf._LabelButtonManager.syncImmediate(layerId);\r\n                }\r\n            }\r\n            Log.debug(\"[GeoLeaf.GeoJSON] Couche chargée avec succès :\", layerId, \"(\" + features.length + \" features)\");\r\n\r\n            return {\r\n                id: layerId,\r\n                label: layerLabel,\r\n                featureCount: features.length\r\n            };\r\n        });\r\n};\r\n\r\nexport { Loader as LoaderSingleLayer };\r\n","/**\r\n * GeoLeaf GeoJSON Module - Aggregator\r\n * Module principal qui délègue aux sous-modules spécialisés\r\n *\r\n * Architecture Phase 3.5:\r\n * - geojson/shared.js        : État partagé, constantes, STYLE_OPERATORS\r\n * - geojson/style-resolver.js: Évaluation styleRules, buildLeafletOptions\r\n * - geojson/layer-manager.js : Gestion couches (show/hide/toggle/remove)\r\n * - geojson/loader.js        : Chargement (loadUrl, loadFromActiveProfile)\r\n * - geojson/popup-tooltip.js : Popups et tooltips unifiés\r\n * - geojson/clustering.js    : Stratégies de clustering\r\n *\r\n * @module geoleaf.geojson\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { GeoJSONShared as SharedModule } from './shared.js';\r\nimport { GeoJSONStyleResolver } from './style-resolver.js';\r\nimport { PopupTooltip } from './popup-tooltip.js';\r\nimport { GeoJSONClustering } from './clustering.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\n\r\n\r\n// ========================================\r\n//   GETTERS LAZY POUR SOUS-MODULES\r\n// ========================================\r\n\r\n\r\nconst getState = () => SharedModule.state;\r\n\r\nconst getLayerManager = () => _g.GeoLeaf && _g.GeoLeaf._GeoJSONLayerManager;\r\nconst getLoader = () => _g.GeoLeaf && _g.GeoLeaf._GeoJSONLoader;\r\n\r\n\r\n\r\n// ========================================\r\n//   MODULE GEOJSON (AGRÉGATEUR)\r\n// ========================================\r\n\r\n\r\nconst GeoJSONModule = {\r\n    /**\r\n     * Getters pour accès direct à l'état (compatibilité)\r\n     */\r\n    get _map() { return getState() ? getState().map : null; },\r\n    get _layerGroup() { return getState() ? getState().layerGroup : null; },\r\n    get _geoJsonLayer() { return getState() ? getState().geoJsonLayer : null; },\r\n    get _layers() { return getState() ? getState().layers : new Map(); },\r\n    get _options() { return getState() ? getState().options : {}; },\r\n\r\n    /**\r\n     * Valide les options passées à init()\r\n     * @param {Object} options\r\n     * @private\r\n     */\r\n    _validateOptions(options) {\r\n        if (options.map && typeof options.map.addLayer !== 'function') {\r\n            Log.warn(\"[GeoLeaf.GeoJSON] options.map ne semble pas être une carte Leaflet valide.\");\r\n        }\r\n\r\n        if (options.defaultStyle && typeof options.defaultStyle !== 'object') {\r\n            Log.warn(\"[GeoLeaf.GeoJSON] options.defaultStyle doit être un objet.\");\r\n            delete options.defaultStyle;\r\n        }\r\n\r\n        if (options.onEachFeature && typeof options.onEachFeature !== 'function') {\r\n            Log.warn(\"[GeoLeaf.GeoJSON] options.onEachFeature doit être une fonction.\");\r\n            delete options.onEachFeature;\r\n        }\r\n\r\n        if (options.pointToLayer && typeof options.pointToLayer !== 'function') {\r\n            Log.warn(\"[GeoLeaf.GeoJSON] options.pointToLayer doit être une fonction.\");\r\n            delete options.pointToLayer;\r\n        }\r\n\r\n        if (options.maxZoomOnFit !== undefined &&\r\n            (typeof options.maxZoomOnFit !== 'number' || options.maxZoomOnFit < 1 || options.maxZoomOnFit > 20)) {\r\n            Log.warn(\"[GeoLeaf.GeoJSON] options.maxZoomOnFit doit être un nombre entre 1 et 20.\");\r\n            options.maxZoomOnFit = _g.GeoLeaf && _g.GeoLeaf.CONSTANTS ? _g.GeoLeaf.CONSTANTS.GEOJSON_MAX_ZOOM_ON_FIT : 18;\r\n        }\r\n\r\n        return options;\r\n    },\r\n\r\n    /**\r\n     * Initialise le module GeoJSON.\r\n     *\r\n     * @param {Object} options\r\n     * @param {L.Map} [options.map] - Carte Leaflet. Si absent, tentative via GeoLeaf.Core.getMap().\r\n     * @param {Object} [options.defaultStyle]\r\n     * @param {Object} [options.defaultPointStyle]\r\n     * @param {Function} [options.onEachFeature]\r\n     * @param {Function} [options.pointToLayer]\r\n     * @param {boolean} [options.fitBoundsOnLoad]\r\n     * @param {number} [options.maxZoomOnFit]\r\n     * @returns {L.GeoJSON|null} - La couche GeoJSON ou null si échec.\r\n     */\r\n    init(options = {}) {\r\n        const state = getState();\r\n        if (!state) {\r\n            Log.error(\"[GeoLeaf.GeoJSON] Module shared.js non chargé.\");\r\n            return null;\r\n        }\r\n\r\n        // Validation\r\n        options = this._validateOptions(options);\r\n\r\n        if (typeof _g.L === \"undefined\" || !_g.L || typeof _g.L.geoJSON !== \"function\") {\r\n            Log.error(\"[GeoLeaf.GeoJSON] Leaflet (L) est requis mais introuvable.\");\r\n            return null;\r\n        }\r\n\r\n        // Utiliser l'helper partagé\r\n        const map = _g.GeoLeaf && _g.GeoLeaf.Utils ? _g.GeoLeaf.Utils.ensureMap(options.map) : (options.map || null);\r\n\r\n        if (!map) {\r\n            Log.error(\r\n                \"[GeoLeaf.GeoJSON] Aucune carte Leaflet disponible. Passe une instance de carte dans init({ map }).\"\r\n            );\r\n            return null;\r\n        }\r\n\r\n        state.map = map;\r\n\r\n        // Fusionner les options\r\n        state.options = _g.GeoLeaf && _g.GeoLeaf.Utils && _g.GeoLeaf.Utils.mergeOptions\r\n            ? _g.GeoLeaf.Utils.mergeOptions(state.options, options)\r\n            : Object.assign({}, state.options, options);\r\n\r\n        // Créer les panes pour contrôler le z-index des couches\r\n        const PaneConfig = SharedModule.PANE_CONFIG;\r\n        const PaneHelpers = SharedModule.PaneHelpers;\r\n\r\n        // Basemap: z-index 200 (toujours en dessous)\r\n        const basemapPane = state.map.createPane(PaneConfig.BASEMAP_NAME);\r\n        basemapPane.style.zIndex = PaneConfig.BASEMAP_ZINDEX;\r\n\r\n        // Lazy pane factory — panes are created on demand instead of 100 upfront\r\n        const _createdPanes = new Set();\r\n        const _origGetPaneName = PaneHelpers.getPaneName.bind(PaneHelpers);\r\n        /**\r\n         * Returns a Leaflet pane name for the given zIndex,\r\n         * creating the DOM pane lazily on first use.\r\n         */\r\n        PaneHelpers.getOrCreatePane = function (zIndex, map) {\r\n            const paneName = _origGetPaneName(zIndex);\r\n            if (!_createdPanes.has(paneName)) {\r\n                const pane = map.createPane(paneName);\r\n                pane.style.zIndex = PaneConfig.LAYER_BASE_ZINDEX + zIndex;\r\n                // TOUS les panes restent à pointer-events: none DÉFINITIVEMENT.\r\n                // NE JAMAIS passer un pane à pointer-events: auto car le <div>\r\n                // couvre tout le viewport et bloquerait les clics des panes en-\r\n                // dessous (plusieurs panes interactifs se superposent).\r\n                //\r\n                // L'interactivité fonctionne via les éléments enfants qui\r\n                // surchargent pointer-events individuellement (CSS spec : un\r\n                // enfant avec pointer-events: auto REÇOIT les événements même\r\n                // si son parent a pointer-events: none) :\r\n                //\r\n                //  - SVG <path class=\"leaflet-interactive\"> :\r\n                //    Leaflet CSS `.leaflet-pane > svg path.leaflet-interactive`\r\n                //    → pointer-events: auto (polygones/polylines interactifs)\r\n                //  - Marker <div class=\"leaflet-marker-icon leaflet-interactive\"> :\r\n                //    Leaflet CSS `.leaflet-marker-icon.leaflet-interactive`\r\n                //    → pointer-events: auto (marqueurs de points)\r\n                //  - Canvas <canvas> : hérite none → ne capte rien (voulu pour\r\n                //    les couches non-interactives : températures, pluvio, etc.)\r\n                pane.style.pointerEvents = 'none';\r\n                _createdPanes.add(paneName);\r\n            }\r\n            return paneName;\r\n        };\r\n\r\n        /**\r\n         * Active la capture des événements pointeur sur un pane existant.\r\n         * Appelé lorsqu'on y ajoute une couche interactive (interactiveShape: true).\r\n         */\r\n        PaneHelpers.enablePaneInteraction = function (zIndex, map) {\r\n            const paneName = _origGetPaneName(zIndex);\r\n            const pane = map.getPane(paneName);\r\n            if (pane) {\r\n                pane.style.pointerEvents = 'auto';\r\n            }\r\n        };\r\n\r\n        Log.info(`[GeoLeaf.GeoJSON] Pane basemap créé : ${PaneConfig.BASEMAP_NAME} (z:${PaneConfig.BASEMAP_ZINDEX}). Couches GeoJSON: panes créés à la demande.`);\r\n\r\n        // Créer un groupe pour encapsuler TOUTES les couches GeoJSON\r\n        state.layerGroup = _g.L.featureGroup().addTo(state.map);\r\n\r\n        // Initialiser la Map des couches\r\n        state.layers = new Map();\r\n\r\n        // Ajouter un écouteur pour gérer les seuils de zoom\r\n        const LayerManager = getLayerManager();\r\n        if (LayerManager) {\r\n            state.map.on('zoomend', () => {\r\n                LayerManager.updateLayerVisibilityByZoom();\r\n            });\r\n        }\r\n\r\n        // LEGACY: Créer la couche GeoJSON vide (pour compatibilité)\r\n        const StyleResolver = GeoJSONStyleResolver;\r\n        const leafletOptions = StyleResolver\r\n            ? StyleResolver.buildLeafletOptions(state.options)\r\n            : {};\r\n\r\n        state.geoJsonLayer = _g.L.geoJSON(null, leafletOptions);\r\n        state.geoJsonLayer.addTo(state.layerGroup);\r\n\r\n        Log.info(\"[GeoLeaf.GeoJSON] Module initialisé en mode multi-couches\");\r\n\r\n        return state.geoJsonLayer;\r\n    },\r\n\r\n    /**\r\n     * Retourne la couche GeoJSON principale (LEGACY).\r\n     * @returns {L.GeoJSON|null}\r\n     */\r\n    getLayer() {\r\n        const state = getState();\r\n        return state ? state.geoJsonLayer : null;\r\n    },\r\n\r\n    // ========================================\r\n    //   DÉLÉGATION VERS LAYER MANAGER\r\n    // ========================================\r\n\r\n    getLayerById(layerId) {\r\n        const LayerManager = getLayerManager();\r\n        return LayerManager ? LayerManager.getLayerById(layerId) : null;\r\n    },\r\n\r\n    getLayerData(layerId) {\r\n        const LayerManager = getLayerManager();\r\n        return LayerManager ? LayerManager.getLayerData(layerId) : null;\r\n    },\r\n\r\n    getAllLayers() {\r\n        const LayerManager = getLayerManager();\r\n        return LayerManager ? LayerManager.getAllLayers() : [];\r\n    },\r\n\r\n    showLayer(layerId) {\r\n        const LayerManager = getLayerManager();\r\n        if (LayerManager) LayerManager.showLayer(layerId);\r\n    },\r\n\r\n    hideLayer(layerId) {\r\n        const LayerManager = getLayerManager();\r\n        if (LayerManager) LayerManager.hideLayer(layerId);\r\n    },\r\n\r\n    toggleLayer(layerId) {\r\n        const LayerManager = getLayerManager();\r\n        if (LayerManager) LayerManager.toggleLayer(layerId);\r\n    },\r\n\r\n    removeLayer(layerId) {\r\n        const LayerManager = getLayerManager();\r\n        if (LayerManager) LayerManager.removeLayer(layerId);\r\n    },\r\n\r\n    updateLayerZIndex(layerId, newZIndex) {\r\n        const LayerManager = getLayerManager();\r\n        return LayerManager ? LayerManager.updateLayerZIndex(layerId, newZIndex) : false;\r\n    },\r\n\r\n    setLayerStyle(layerId, styleConfig) {\r\n        const LayerManager = getLayerManager();\r\n        return LayerManager ? LayerManager.setLayerStyle(layerId, styleConfig) : false;\r\n    },\r\n\r\n    // ========================================\r\n    //   DÉLÉGATION VERS LOADER\r\n    // ========================================\r\n\r\n    loadUrl(url, options = {}) {\r\n        const Loader = getLoader();\r\n        return Loader ? Loader.loadUrl(url, options) : Promise.resolve(null);\r\n    },\r\n\r\n    addData(geojsonData, options = {}) {\r\n        const Loader = getLoader();\r\n        if (Loader) Loader.addData(geojsonData, options);\r\n    },\r\n\r\n    loadFromActiveProfile(options = {}) {\r\n        const Loader = getLoader();\r\n        return Loader ? Loader.loadFromActiveProfile(options) : Promise.resolve([]);\r\n    },\r\n\r\n    // ========================================\r\n    //   FILTRAGE DES FEATURES\r\n    // ========================================\r\n\r\n    /**\r\n     * Filtre les features de toutes les couches GeoJSON.\r\n     * Montre uniquement les features qui passent le prédicat.\r\n     *\r\n     * @param {Function} filterFn - Fonction (feature, layerId) => boolean\r\n     * @param {Object} [options] - Options supplémentaires\r\n     * @returns {Object} - { filtered: number, total: number, visible: number }\r\n     */\r\n    filterFeatures(filterFn, options = {}) {\r\n        const state = getState();\r\n        if (typeof filterFn !== 'function') {\r\n            Log.warn(\"[GeoLeaf.GeoJSON] filterFeatures: filterFn doit être une fonction\");\r\n            return { filtered: 0, total: 0, visible: 0 };\r\n        }\r\n\r\n        const stats = { filtered: 0, total: 0, visible: 0 };\r\n\r\n        // Déterminer les couches à filtrer\r\n        let layerIds = [];\r\n        if (options.layerIds) {\r\n            layerIds = Array.isArray(options.layerIds) ? options.layerIds : [options.layerIds];\r\n        } else {\r\n            layerIds = Array.from(state.layers.keys());\r\n        }\r\n\r\n        // Filtrer par type de géométrie si spécifié (avec aliases)\r\n        if (options.geometryType) {\r\n            const geoType = options.geometryType.toLowerCase();\r\n            const typeAliases = {\r\n                'poi': 'point',\r\n                'route': 'line',\r\n                'linestring': 'line',\r\n                'area': 'polygon'\r\n            };\r\n            const normalizedType = typeAliases[geoType] || geoType;\r\n\r\n            layerIds = layerIds.filter(id => {\r\n                const data = state.layers.get(id);\r\n                if (!data) return false;\r\n                const layerGeoType = (data.geometryType || '').toLowerCase();\r\n                const normalizedLayerType = typeAliases[layerGeoType] || layerGeoType;\r\n                return normalizedLayerType === normalizedType;\r\n            });\r\n        }\r\n\r\n        layerIds.forEach(layerId => {\r\n            const layerData = state.layers.get(layerId);\r\n            if (!layerData || !layerData.layer) return;\r\n\r\n            // Si search.enabled === false, la couche n'est pas concernée par le filtrage\r\n            const bypassFilter = layerData.config?.search?.enabled === false;\r\n\r\n            // Initialiser le Set des layers filtrées si pas encore fait\r\n            if (!layerData._filteredOutLayers) {\r\n                layerData._filteredOutLayers = new Set();\r\n            }\r\n\r\n            const toShow = [];\r\n            const toHide = [];\r\n\r\n            // Itérer sur chaque feature\r\n            layerData.layer.eachLayer(leafletLayer => {\r\n                if (!leafletLayer.feature) return;\r\n\r\n                stats.total++;\r\n\r\n                const shouldShow = bypassFilter || filterFn(leafletLayer.feature, layerId);\r\n\r\n                if (shouldShow) {\r\n                    toShow.push(leafletLayer);\r\n                    stats.visible++;\r\n                } else {\r\n                    toHide.push(leafletLayer);\r\n                    stats.filtered++;\r\n                }\r\n            });\r\n\r\n            // Appliquer les changements de visibilité\r\n            const clusterGroup = layerData.clusterGroup;\r\n\r\n            toHide.forEach(leafletLayer => {\r\n                leafletLayer._geoleafFiltered = true;\r\n\r\n                if (clusterGroup) {\r\n                    if (!layerData._filteredOutLayers.has(leafletLayer)) {\r\n                        clusterGroup.removeLayer(leafletLayer);\r\n                        layerData._filteredOutLayers.add(leafletLayer);\r\n                    }\r\n                } else {\r\n                    if (leafletLayer.getElement) {\r\n                        const layerElement = leafletLayer.getElement();\r\n                        if (layerElement) layerElement.style.display = 'none';\r\n                    } else if (leafletLayer.setStyle) {\r\n                        if (leafletLayer.options._originalOpacity === undefined) {\r\n                            leafletLayer.options._originalOpacity = leafletLayer.options.opacity;\r\n                            leafletLayer.options._originalFillOpacity = leafletLayer.options.fillOpacity;\r\n                        }\r\n                        leafletLayer.setStyle({ opacity: 0, fillOpacity: 0 });\r\n                    }\r\n                }\r\n            });\r\n\r\n            toShow.forEach(leafletLayer => {\r\n                leafletLayer._geoleafFiltered = false;\r\n\r\n                if (clusterGroup) {\r\n                    if (layerData._filteredOutLayers.has(leafletLayer)) {\r\n                        clusterGroup.addLayer(leafletLayer);\r\n                        layerData._filteredOutLayers.delete(leafletLayer);\r\n                    }\r\n                } else {\r\n                    if (leafletLayer.getElement) {\r\n                        const layerElement = leafletLayer.getElement();\r\n                        if (layerElement) layerElement.style.display = '';\r\n                    } else if (leafletLayer.setStyle) {\r\n                        leafletLayer.setStyle({\r\n                            opacity: leafletLayer.options._originalOpacity !== undefined\r\n                                ? leafletLayer.options._originalOpacity : 1,\r\n                            fillOpacity: leafletLayer.options._originalFillOpacity !== undefined\r\n                                ? leafletLayer.options._originalFillOpacity : 0.4\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        Log.debug(`[GeoLeaf.GeoJSON] filterFeatures: ${stats.visible}/${stats.total} features visibles`);\r\n        return stats;\r\n    },\r\n\r\n    /**\r\n     * Réinitialise le filtre sur les features (montre tout).\r\n     *\r\n     * @param {Object} [options] - Mêmes options que filterFeatures\r\n     */\r\n    clearFeatureFilter(options = {}) {\r\n        return this.filterFeatures(() => true, options);\r\n    },\r\n\r\n    /**\r\n     * Retourne toutes les features chargées.\r\n     * Reads directly from state.layers (featureCache removed in Sprint 1).\r\n     * @param {Object} [options]\r\n     * @returns {Array<Object>} features GeoJSON enrichies de { _layerId }\r\n     */\r\n    getFeatures(options = {}) {\r\n        const state = getState();\r\n        if (!state) return [];\r\n\r\n        const geometrySet = Array.isArray(options.geometryTypes)\r\n            ? new Set(options.geometryTypes.map(t => t.toLowerCase()))\r\n            : null;\r\n        const layerSet = Array.isArray(options.layerIds) ? new Set(options.layerIds) : null;\r\n\r\n        const result = [];\r\n        state.layers.forEach((layerData, layerId) => {\r\n            if (layerSet && !layerSet.has(layerId)) return;\r\n            const geoType = (layerData.geometryType || \"\").toLowerCase();\r\n            if (geometrySet && !geometrySet.has(geoType)) return;\r\n\r\n            (layerData.features || []).forEach((f) => {\r\n                if (f && typeof f === \"object\") {\r\n                    // Shallow tag with _layerId instead of full Object.assign clone\r\n                    f._layerId = layerId;\r\n                    result.push(f);\r\n                }\r\n            });\r\n        });\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * Supprime toutes les entités GeoJSON de la couche legacy.\r\n     */\r\n    clear() {\r\n        const state = getState();\r\n        if (state && state.geoJsonLayer) {\r\n            state.geoJsonLayer.clearLayers();\r\n        }\r\n    },\r\n\r\n    // ========================================\r\n    //   MÉTHODES INTERNES EXPOSÉES\r\n    // ========================================\r\n\r\n    _updateLayerVisibilityByZoom() {\r\n        const LayerManager = getLayerManager();\r\n        if (LayerManager) LayerManager.updateLayerVisibilityByZoom();\r\n    },\r\n\r\n    _registerWithLayerManager() {\r\n        const LayerManager = getLayerManager();\r\n        if (LayerManager) LayerManager.registerWithLayerManager();\r\n    },\r\n\r\n    _convertFeatureToPOI(feature, def) {\r\n        const pt = _g.GeoLeaf && _g.GeoLeaf._GeoJSONPopupTooltip;\r\n        return pt ? pt.convertFeatureToPOI(feature, def) : null;\r\n    },\r\n\r\n    _getClusteringStrategy(def, geojsonData) {\r\n        const Clustering = GeoJSONClustering;\r\n        return Clustering\r\n            ? Clustering.getClusteringStrategy(def, geojsonData)\r\n            : { shouldCluster: false, useSharedCluster: false };\r\n    },\r\n\r\n    _getSharedPOICluster() {\r\n        const Clustering = GeoJSONClustering;\r\n        return Clustering ? Clustering.getSharedPOICluster() : null;\r\n    },\r\n\r\n    _getPoiConfig() {\r\n        const Clustering = GeoJSONClustering;\r\n        return Clustering ? Clustering.getPoiConfig() : {};\r\n    },\r\n\r\n    _detectLayerType(layer) {\r\n        const LayerManager = getLayerManager();\r\n        return LayerManager ? LayerManager.detectLayerType(layer) : \"mixed\";\r\n    },\r\n\r\n    _buildLeafletOptions(options) {\r\n        const StyleResolver = GeoJSONStyleResolver;\r\n        return StyleResolver ? StyleResolver.buildLeafletOptions(options) : {};\r\n    }\r\n};\r\n\r\n// Exposer _StyleRules pour compatibilité avec le module Themes\r\n// (déjà fait dans style-resolver.js, mais on s'assure que c'est accessible)\r\nif (_g.GeoLeaf && !_g.GeoLeaf._StyleRules && GeoJSONStyleResolver) {\r\n    _g.GeoLeaf._StyleRules = {\r\n        evaluate: GeoJSONStyleResolver.evaluateStyleRules,\r\n        operators: SharedModule ? SharedModule.STYLE_OPERATORS : {},\r\n        getNestedValue: GeoJSONStyleResolver.getNestedValue\r\n    };\r\n}\r\n\r\nconst GeoJSONCore = GeoJSONModule;\r\nexport { GeoJSONCore };\r\n","/**\r\n * GeoLeaf Route Layer Manager Module\r\n * Gestion des layers Leaflet pour les itinéraires\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\r\n\r\n\r\nconst RouteLayerManager = {};\r\n\r\n/**\r\n * Appliquer un itinéraire complet (remplacement)\r\n * @param {Object} context - Context object with map, layerGroup, routeLayer, options\r\n * @param {number[][]} coords - Coordinates array\r\n * @param {Function} clearCallback - Callback to clear existing routes\r\n * @param {Function} fireEventsCallback - Callback to fire route loaded events\r\n */\r\nRouteLayerManager.applyRoute = function (context, coords, clearCallback, fireEventsCallback) {\r\n    if (!Array.isArray(coords)) {\r\n        coords = [];\r\n    }\r\n\r\n    if (typeof clearCallback === \"function\") {\r\n        clearCallback();\r\n    }\r\n\r\n    if (!context.routeLayer && context.layerGroup && context.map) {\r\n        // Applique le paramètre interactiveShapes de la config\r\n        const interactiveShapes = _g.GeoLeaf.Config.get('ui.interactiveShapes', false);\r\n        const lineStyle = Object.assign({}, context.options.lineStyle, { interactive: interactiveShapes });\r\n        context.routeLayer = _g.L.polyline([], lineStyle).addTo(\r\n            context.layerGroup\r\n        );\r\n    }\r\n\r\n\r\n    if (context.routeLayer) {\r\n        context.routeLayer.setLatLngs(coords);\r\n    }\r\n\r\n    if (context.options.fitBoundsOnLoad && coords.length > 1 && context.map) {\r\n        const bounds = context.routeLayer.getBounds();\r\n        const fitOpt = {};\r\n        if (context.options.maxZoomOnFit) {\r\n            fitOpt.maxZoom = context.options.maxZoomOnFit;\r\n        }\r\n        context.map.fitBounds(bounds, fitOpt);\r\n    }\r\n\r\n    if (typeof fireEventsCallback === \"function\") {\r\n        fireEventsCallback(coords);\r\n    }\r\n};\r\n\r\n/**\r\n * Ajouter un waypoint manuel\r\n * @param {L.LayerGroup} layerGroup - Layer group\r\n * @param {number[]} latlng - Coordinates [lat, lng]\r\n * @param {Object} waypointStyle - Waypoint style\r\n */\r\nRouteLayerManager.addWaypoint = function (layerGroup, latlng, waypointStyle) {\r\n    if (!layerGroup) return;\r\n    const interactiveShapes = _g.GeoLeaf.Config.get('ui.interactiveShapes', false);\r\n    const style = Object.assign({}, waypointStyle, { interactive: interactiveShapes });\r\n    _g.L.circleMarker(latlng, style).addTo(layerGroup);\r\n};\r\n\r\n/**\r\n * Ajouter un segment manuel\r\n * @param {L.Polyline} routeLayer - Route polyline\r\n * @param {number[][]} coords - Coordinates to add\r\n */\r\nRouteLayerManager.addSegment = function (routeLayer, coords) {\r\n    if (!routeLayer) return;\r\n    const current = routeLayer.getLatLngs();\r\n    routeLayer.setLatLngs([...current, ...coords]);\r\n};\r\n\r\n/**\r\n * Émet les événements \"geoleaf:route:loaded\" (Leaflet + DOM)\r\n * @param {L.Map} map - Leaflet map\r\n * @param {L.Polyline} routeLayer - Route polyline\r\n * @param {number[][]} coords - Coordinates\r\n */\r\nRouteLayerManager.fireRouteLoadedEvents = function (map, routeLayer, coords) {\r\n    // Événement Leaflet sur la carte\r\n    try {\r\n        if (map && typeof map.fire === \"function\") {\r\n            map.fire(\"geoleaf:route:loaded\", {\r\n                coords,\r\n                layer: routeLayer,\r\n                source: \"geoleaf.route\"\r\n            });\r\n        }\r\n    } catch (e) {\r\n        Log.warn(\r\n            \"[GeoLeaf.Route] Impossible d'émettre l'événement Leaflet geoleaf:route:loaded.\",\r\n            e\r\n        );\r\n    }\r\n\r\n    // CustomEvent DOM\r\n    if (typeof document !== \"undefined\" && typeof document.dispatchEvent === \"function\") {\r\n        const detail = {\r\n            coords: Array.isArray(coords) ? coords.slice() : [],\r\n            map: map,\r\n            layer: routeLayer,\r\n            source: \"geoleaf.route\"\r\n        };\r\n\r\n        try {\r\n            if (typeof CustomEvent === \"function\") {\r\n                const event = new CustomEvent(\"geoleaf:route:loaded\", { detail });\r\n                document.dispatchEvent(event);\r\n            } else {\r\n                const legacyEvent = document.createEvent(\"CustomEvent\");\r\n                legacyEvent.initCustomEvent(\r\n                    \"geoleaf:route:loaded\",\r\n                    true,\r\n                    true,\r\n                    detail\r\n                );\r\n                document.dispatchEvent(legacyEvent);\r\n            }\r\n        } catch (err) {\r\n            Log.warn(\r\n                \"[GeoLeaf.Route] Impossible d'émettre le CustomEvent geoleaf:route:loaded.\",\r\n                err\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\nexport { RouteLayerManager };\r\n","/**\r\n * GeoLeaf Route Loaders Module\r\n * Chargement d'itinéraires depuis différentes sources (GPX, GeoJSON, Config)\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n\r\nconst RouteLoaders = {};\r\n\r\n/**\r\n * Charger un itinéraire GeoJSON (LineString)\r\n * @param {Object} geojson - Objet GeoJSON\r\n * @param {Function} applyRouteCallback - Callback pour appliquer les coordonnées\r\n */\r\nRouteLoaders.loadGeoJSON = function (geojson, applyRouteCallback) {\r\n    if (!geojson || !geojson.type) {\r\n        Log.error(\"[GeoLeaf.Route] GeoJSON invalide.\");\r\n        return;\r\n    }\r\n\r\n    let coords = [];\r\n\r\n    if (geojson.type === \"Feature\" && geojson.geometry.type === \"LineString\") {\r\n        coords = geojson.geometry.coordinates.map((c) => [c[1], c[0]]);\r\n    } else if (geojson.type === \"LineString\") {\r\n        coords = geojson.coordinates.map((c) => [c[1], c[0]]);\r\n    } else {\r\n        Log.warn(\"[GeoLeaf.Route] Format GeoJSON non géré.\");\r\n    }\r\n\r\n    if (typeof applyRouteCallback === \"function\") {\r\n        applyRouteCallback(coords);\r\n    }\r\n};\r\n\r\n/**\r\n * Extraire un tableau de [lat, lng] à partir d'un item de cfg.routes.\r\n * @param {Object} route - Route data\r\n * @returns {number[][]} Coordinates array\r\n */\r\nRouteLoaders.extractCoordsFromRouteItem = function (route) {\r\n    // Cas 1 : tableau direct de [lat, lng]\r\n    if (Array.isArray(route.geometry) && route.geometry.length > 0) {\r\n        if (\r\n            Array.isArray(route.geometry[0]) &&\r\n            typeof route.geometry[0][0] === \"number\" &&\r\n            typeof route.geometry[0][1] === \"number\"\r\n        ) {\r\n            return route.geometry.map((pair) => [pair[0], pair[1]]);\r\n        }\r\n\r\n        // Cas 2 : GeoJSON-like dans un tableau\r\n        if (\r\n            route.geometry[0] &&\r\n            typeof route.geometry[0] === \"object\" &&\r\n            route.geometry[0].type === \"LineString\" &&\r\n            Array.isArray(route.geometry[0].coordinates)\r\n        ) {\r\n            return route.geometry[0].coordinates.map((c) => [c[1], c[0]]);\r\n        }\r\n    }\r\n\r\n    // Cas 3 : objet GeoJSON LineString\r\n    if (\r\n        route.geometry &&\r\n        typeof route.geometry === \"object\" &&\r\n        route.geometry.type === \"LineString\" &&\r\n        Array.isArray(route.geometry.coordinates) &&\r\n        route.geometry.coordinates.length > 0\r\n    ) {\r\n        return route.geometry.coordinates.map((c) => [c[1], c[0]]);\r\n    }\r\n\r\n    // Cas 4 : objet GeoJSON MultiLineString - fusionner tous les segments\r\n    if (\r\n        route.geometry &&\r\n        typeof route.geometry === \"object\" &&\r\n        route.geometry.type === \"MultiLineString\" &&\r\n        Array.isArray(route.geometry.coordinates) &&\r\n        route.geometry.coordinates.length > 0\r\n    ) {\r\n        // Prendre le premier segment (linéaire le plus long) ou fusionner tous\r\n        const allCoords = route.geometry.coordinates.reduce((acc, segment) => {\r\n            if (Array.isArray(segment) && segment.length > 0) {\r\n                return acc.concat(segment.map((c) => [c[1], c[0]]));\r\n            }\r\n            return acc;\r\n        }, []);\r\n\r\n        if (allCoords.length > 0) {\r\n            return allCoords;\r\n        }\r\n    }\r\n\r\n    // Aucune géométrie valide trouvée - DEBUG au lieu de WARN\r\n    // car il peut y avoir des features sans coordonnées valides\r\n    return [];\r\n};\r\n\r\nexport { RouteLoaders };\r\n","/**\n * GeoLeaf Route Popup Builder Module\n * Construction des popups/tooltips et panneau latéral pour les itinéraires.\n * Délègue le rendu au module _ContentBuilder centralisé.\n *\n * @module route/popup-builder\n * @version 2.0.0\n */\n\"use strict\";\n\nimport { Log } from \"../log/index.js\";\nimport { escapeHtml } from \"../security/index.js\";\n\nconst _g =\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\n\nconst RoutePopupBuilder = {};\n\n// Perf 6.1.6: Module-level cache for taxonomy lookups (invalidated on profile change)\nconst _taxonomyCache = { profileId: null, categories: null, icons: null };\n\n/**\n * Retourne le cache taxonomy, rafraîchi si le profil a changé\n * @returns {{ categories: Object, icons: Object }}\n * @private\n */\nfunction _getTaxonomyCache() {\n    const Config = _g.GeoLeaf.Config;\n    if (!Config || typeof Config.getActiveProfile !== \"function\") {\n        return { categories: {}, icons: {} };\n    }\n    const profile = Config.getActiveProfile() || {};\n    const profileId = profile.id || null;\n    if (_taxonomyCache.profileId !== profileId) {\n        _taxonomyCache.profileId = profileId;\n        _taxonomyCache.categories = profile?.taxonomy?.categories || {};\n        _taxonomyCache.icons = profile?.icons || {};\n    }\n    return _taxonomyCache;\n}\n\n// ========================================\n//   UTILITAIRES\n// ========================================\n\n/**\n * Récupère le ContentBuilder (Assemblers).\n * Les fonctions buildPopupHTML / buildTooltipHTML sont sur le sous-module Assemblers.\n * @returns {Object|null}\n */\nfunction getContentBuilder() {\n    return _g.GeoLeaf._ContentBuilder?.Assemblers || null;\n}\n\n/**\n * Récupère le Normalizer\n * @returns {Object|null}\n */\nfunction getNormalizer() {\n    return _g.GeoLeaf._Normalizer || null;\n}\n\n// escapeHtml imported directly from security/index.js (A3 — DEAD-01)\n\n/**\n * Convertit une route en POI normalisé\n * @param {Object} route - Données de la route\n * @returns {Object} POI normalisé\n */\nfunction convertRouteToPOI(route) {\n    const Normalizer = getNormalizer();\n    if (Normalizer && typeof Normalizer.normalizeFromRoute === \"function\") {\n        return Normalizer.normalizeFromRoute(route);\n    }\n\n    // Fallback: conversion manuelle\n    const attrs = route.attributes || {};\n    return {\n        id: route.id,\n        sourceType: \"route\",\n        geometryType: \"LineString\",\n        title: route.label || route.name || \"Itinéraire\",\n        description: attrs.description || route.description || \"\",\n        lat: null,\n        lng: null,\n        categoryId: attrs.categoryId || null,\n        subCategoryId: attrs.subCategoryId || null,\n        attributes: {\n            ...attrs,\n            label: route.label || route.name,\n            photo: attrs.photo,\n            distance_km: attrs.distance_km,\n            duration_min: attrs.duration_min,\n            difficulty: attrs.difficulty,\n            tags: attrs.tags,\n        },\n        rawData: route,\n    };\n}\n\n// ========================================\n//   CONFIGURATION\n// ========================================\n\n/**\n * Récupère la configuration de popup pour les routes\n * @returns {Array|null}\n */\nfunction getRoutePopupConfig() {\n    const Config = _g.GeoLeaf.Config;\n    if (Config && typeof Config.getActiveProfile === \"function\") {\n        const profile = Config.getActiveProfile();\n        if (profile?.panels?.route?.popup?.detailPopup) {\n            return profile.panels.route.popup.detailPopup;\n        }\n    }\n    return null;\n}\n\n/**\n * Récupère la configuration du layout pour le side panel des routes\n * @returns {Array|null}\n */\nfunction getRouteLayoutConfig() {\n    const Config = _g.GeoLeaf.Config;\n    if (Config && typeof Config.getActiveProfile === \"function\") {\n        const profile = Config.getActiveProfile();\n        if (profile?.panels?.route?.layout) {\n            return profile.panels.route.layout;\n        }\n    }\n    return null;\n}\n\n// ========================================\n//   TOOLTIP\n// ========================================\n\n/**\n * Ajoute un tooltip à une polyline d'itinéraire\n * @param {L.Polyline} polyline - Polyline Leaflet\n * @param {Object} route - Données de l'itinéraire\n */\nRoutePopupBuilder.addRouteTooltip = function (polyline, route) {\n    const label = route.label || route.name || \"Itinéraire\";\n\n    polyline.bindTooltip(escapeHtml(label), {\n        sticky: true,\n        className: \"gl-route-tooltip\",\n    });\n};\n\n// ========================================\n//   POPUP\n// ========================================\n\n/**\n * Ajoute un popup à une polyline d'itinéraire\n * @param {L.Polyline} polyline - Polyline Leaflet\n * @param {Object} route - Données de l'itinéraire\n * @param {Object} _routeModule - Référence au module GeoLeaf.Route (réservé pour usage futur)\n */\nRoutePopupBuilder.addRoutePopup = function (polyline, route, _routeModule) {\n    const popupContent = RoutePopupBuilder.buildRoutePopupContent(route);\n    polyline.bindPopup(popupContent, { maxWidth: 300 });\n\n    // Attacher le handler pour le bouton \"Voir plus\"\n    polyline.on(\"popupopen\", () => {\n        Log.info && Log.info(\"[Route Popup] Popup opened for route:\", route.id);\n        setTimeout(() => {\n            const selector = '.gl-poi-popup__link[data-route-id=\"' + route.id + '\"]';\n            const linkEl = document.querySelector(selector);\n            if (linkEl && !linkEl._geoleafClickBound) {\n                linkEl._geoleafClickBound = true;\n                linkEl.addEventListener(\"click\", (e) => {\n                    e.preventDefault();\n                    RoutePopupBuilder.openRouteSidePanel(route);\n                });\n            }\n        }, 50);\n    });\n};\n\n/**\n * Construit le contenu HTML d'un popup pour une route\n * @param {Object} route - Données de l'itinéraire\n * @returns {string} Contenu HTML\n */\nRoutePopupBuilder.buildRoutePopupContent = function (route) {\n    const ContentBuilder = getContentBuilder();\n    const config = getRoutePopupConfig();\n    const routeAsPoi = convertRouteToPOI(route);\n\n    // Utiliser ContentBuilder si disponible et configuré\n    if (ContentBuilder && typeof ContentBuilder.buildPopupHTML === \"function\" && config) {\n        return ContentBuilder.buildPopupHTML(routeAsPoi, config, {\n            resolveCategoryDisplay: null,\n        });\n    }\n\n    // Fallback: construction manuelle du popup\n    return buildFallbackRoutePopup(route);\n};\n\n/**\n * Construit un popup de route par défaut (fallback)\n * @param {Object} route - Données de l'itinéraire\n * @returns {string} HTML du popup\n */\nfunction buildFallbackRoutePopup(route) {\n    const attrs = route.attributes || {};\n    const label = escapeHtml(route.label || route.name || \"Itinéraire\");\n    const description = escapeHtml(attrs.description || route.description || \"\");\n    const photo = attrs.photo || route.photo || null;\n    const routeId = escapeHtml(String(route.id || \"\"));\n\n    // Résolution des icônes depuis la taxonomie (Perf 6.1.6: cache module-level)\n    const categoryId = attrs.categoryId || null;\n    const subCategoryId = attrs.subCategoryId || null;\n\n    const taxCache = _getTaxonomyCache();\n    const categories = taxCache.categories;\n    const iconsConfig = taxCache.icons;\n    const catData = categoryId ? categories[categoryId] : null;\n    const subCatData = catData && subCategoryId ? catData.subcategories?.[subCategoryId] : null;\n\n    const iconId =\n        subCatData?.icon || catData?.icon || iconsConfig.defaultIcon || \"activity-generic\";\n    const colorFill = subCatData?.colorFill || catData?.colorFill || \"#666666\";\n    const colorStroke = subCatData?.colorStroke || catData?.colorStroke || \"#222222\";\n\n    // Construction de l'icône\n    let iconHtml = \"\";\n    if (iconId) {\n        const iconPrefix = iconsConfig.symbolPrefix || \"gl-poi-cat-\";\n        const iconIdNormalized = String(iconId).trim().toLowerCase().replace(/\\s+/g, \"-\");\n        const symbolId = iconPrefix + iconIdNormalized;\n\n        iconHtml =\n            '<svg class=\"gl-poi-popup__icon\" aria-hidden=\"true\" focusable=\"false\" viewBox=\"0 0 24 24\">' +\n            '<circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"' +\n            colorFill +\n            '\" stroke=\"' +\n            colorStroke +\n            '\" stroke-width=\"1.5\"/>' +\n            '<svg x=\"4\" y=\"4\" width=\"16\" height=\"16\"><use href=\"#' +\n            symbolId +\n            '\" style=\"color: #ffffff\"/></svg>' +\n            \"</svg>\";\n    }\n\n    // Métadonnées (distance, durée, difficulté)\n    let metaText = \"\";\n    const metaItems = [];\n    if (attrs.distance_km) {\n        metaItems.push(\"📏 \" + attrs.distance_km + \" km\");\n    }\n    if (attrs.duration_min) {\n        metaItems.push(\"⏱️ \" + attrs.duration_min + \" min\");\n    }\n    if (attrs.difficulty) {\n        const diffLabels = { easy: \"Facile\", medium: \"Moyen\", hard: \"Difficile\" };\n        metaItems.push(\"⚡ \" + (diffLabels[attrs.difficulty] || attrs.difficulty));\n    }\n    if (metaItems.length > 0) {\n        metaText = '<p class=\"gl-poi-popup__meta-text\">' + metaItems.join(\" • \") + \"</p>\";\n    }\n\n    // Tags\n    const tagBadges = [];\n    if (Array.isArray(attrs.tags)) {\n        attrs.tags.forEach((tag) => {\n            if (tag && typeof tag === \"string\") {\n                tagBadges.push(\n                    '<span class=\"gl-poi-badge gl-poi-badge--tag\">' + escapeHtml(tag) + \"</span>\"\n                );\n            }\n        });\n    }\n\n    // Construction du popup\n    return (\n        '<div class=\"gl-poi-popup\">' +\n        (photo\n            ? '<div class=\"gl-poi-popup__photo\"><img src=\"' +\n              photo +\n              '\" alt=\"' +\n              label +\n              '\" /></div>'\n            : \"\") +\n        '<div class=\"gl-poi-popup__body\">' +\n        '<div class=\"gl-poi-popup__title-wrapper\">' +\n        '<h3 class=\"gl-poi-popup__title\">' +\n        iconHtml +\n        '<span class=\"gl-poi-popup__title-text\">' +\n        label +\n        \"</span></h3>\" +\n        \"</div>\" +\n        (description ? '<p class=\"gl-poi-popup__desc\">' + description + \"</p>\" : \"\") +\n        metaText +\n        (tagBadges.length\n            ? '<div class=\"gl-poi-popup__badges\">' + tagBadges.join(\"\") + \"</div>\"\n            : \"\") +\n        '<a class=\"gl-poi-popup__link\" href=\"#\" data-route-id=\"' +\n        routeId +\n        '\">Voir plus >>></a>' +\n        \"</div>\" +\n        \"</div>\"\n    );\n}\n\n// ========================================\n//   SIDE PANEL\n// ========================================\n\n/**\n * Ouvre le panneau latéral avec les détails d'un itinéraire\n * @param {Object} route - Données de l'itinéraire\n */\nRoutePopupBuilder.openRouteSidePanel = function (route) {\n    // Vérifier que le module POI est disponible\n    if (!_g.GeoLeaf.POI || typeof _g.GeoLeaf.POI.openSidePanelWithLayout !== \"function\") {\n        Log.warn &&\n            Log.warn(\n                \"[Route Popup] Cannot open side panel: POI.openSidePanelWithLayout not available\"\n            );\n        return;\n    }\n\n    const attrs = route.attributes || {};\n    const layout = getRouteLayoutConfig();\n\n    // Construire les métadonnées\n    const metadata = [];\n    if (attrs.distance_km) {\n        metadata.push(\"📏 Distance : \" + attrs.distance_km + \" km\");\n    }\n    if (attrs.duration_min) {\n        metadata.push(\"⏱️ Durée : \" + attrs.duration_min + \" minutes\");\n    }\n    if (attrs.difficulty) {\n        const diffLabels = { easy: \"Facile\", medium: \"Moyen\", hard: \"Difficile\" };\n        metadata.push(\"⚡ Difficulté : \" + (diffLabels[attrs.difficulty] || attrs.difficulty));\n    }\n\n    // Transformer la route en structure POI pour le rendu\n    const routeAsPoi = {\n        id: route.id,\n        label: route.label || route.name,\n        title: route.label || route.name,\n        name: route.label || route.name,\n        description: attrs.description || route.description,\n        attributes: {\n            ...attrs,\n            metadata: metadata.length > 0 ? metadata : null,\n            photo: attrs.photo,\n            mainImage: attrs.photo,\n            description: attrs.description,\n            shortDescription: attrs.description,\n            description_long: attrs.description_long,\n            longDescription: attrs.description_long,\n            categoryId: attrs.categoryId,\n            subCategoryId: attrs.subCategoryId,\n            difficulty: attrs.difficulty,\n            distance_km: attrs.distance_km,\n            duration_min: attrs.duration_min,\n            tags: attrs.tags,\n            link: attrs.link,\n        },\n    };\n\n    // Ouvrir le panneau latéral\n    _g.GeoLeaf.POI.openSidePanelWithLayout(routeAsPoi, layout);\n};\n\nexport { RoutePopupBuilder };\n","/**\r\n * GeoLeaf Route Style Resolver Module\r\n * Résolution des styles d'itinéraires (couleurs, endpoints)\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n\r\nconst RouteStyleResolver = {};\r\n\r\n/**\r\n * Détermine la couleur d'un itinéraire selon la priorité :\r\n *  1. colorRoute de la sous-catégorie (si définie)\r\n *  2. colorRoute de la catégorie (si définie)\r\n *  3. couleur par défaut de routeConfig.default.color\r\n *\r\n * @param {Object} route - L'itinéraire\r\n * @param {Object} profile - Le profil actif\r\n * @param {Object} routeConfigDefault - La config par défaut (defaultSettings.routeConfig.default)\r\n * @returns {string|null} La couleur à utiliser ou null\r\n */\r\nRouteStyleResolver.getRouteColor = function (route, profile, routeConfigDefault) {\r\n    if (!route || !route.attributes) {\r\n        return routeConfigDefault?.color || null;\r\n    }\r\n\r\n    const attrs = route.attributes;\r\n    const categoryId = attrs.categoryId;\r\n    const subCategoryId = attrs.subCategoryId;\r\n\r\n    // Récupérer la taxonomie du profil\r\n    const taxonomy = profile?.taxonomy?.categories || {};\r\n\r\n\r\n    // 1. Vérifier colorRoute de la sous-catégorie\r\n    if (categoryId && subCategoryId) {\r\n        const category = taxonomy[categoryId];\r\n        if (category && category.subcategories) {\r\n            const subCategory = category.subcategories[subCategoryId];\r\n            if (subCategory && subCategory.colorRoute) {\r\n                return subCategory.colorRoute;\r\n            }\r\n        }\r\n    }\r\n\r\n    // 2. Vérifier colorRoute de la catégorie\r\n    if (categoryId) {\r\n        const category = taxonomy[categoryId];\r\n        if (category && category.colorRoute) {\r\n            return category.colorRoute;\r\n        }\r\n    }\r\n\r\n    // 3. Couleur par défaut\r\n    return routeConfigDefault?.color || null;\r\n};\r\n\r\n/**\r\n * Calcule le style final d'un itinéraire en combinant :\r\n *  - le style par défaut du module,\r\n *  - la config par défaut du profil (defaultSettings.routeConfig.default),\r\n *  - la couleur basée sur la taxonomie (colorRoute),\r\n *  - les surcharges au niveau de l'itinéraire (properties.*).\r\n *\r\n * @param {Object} route - L'itinéraire\r\n * @param {Object} activeProfile - Le profil actif\r\n * @param {Object} routeConfigDefault - Config par défaut du profil\r\n * @param {Object} defaultStyle - Style par défaut du module\r\n * @returns {Object} Style final résolu\r\n */\r\nRouteStyleResolver.resolveRouteStyle = function (route, activeProfile, routeConfigDefault, defaultStyle) {\r\n    const finalStyle = Object.assign({}, defaultStyle || {});\r\n\r\n    // 1) Appliquer le style par défaut du profil (routeConfig.default)\r\n    if (routeConfigDefault && typeof routeConfigDefault === \"object\") {\r\n        Object.assign(finalStyle, routeConfigDefault);\r\n    }\r\n\r\n    // 2) Couleur basée sur la taxonomie (subcategory > category > default)\r\n    const taxonomyColor = RouteStyleResolver.getRouteColor(route, activeProfile, routeConfigDefault);\r\n    if (taxonomyColor) {\r\n        finalStyle.color = taxonomyColor;\r\n    }\r\n\r\n    // 3) Surcharges au niveau de la route (properties.*)\r\n    if (route.properties && typeof route.properties === \"object\") {\r\n        const p = route.properties;\r\n\r\n        if (typeof p.color === \"string\" && p.color.trim() !== \"\") {\r\n            finalStyle.color = p.color.trim();\r\n        }\r\n        if (typeof p.weight === \"number\") {\r\n            finalStyle.weight = p.weight;\r\n        }\r\n        if (typeof p.opacity === \"number\") {\r\n            finalStyle.opacity = p.opacity;\r\n        }\r\n        if (typeof p.dashArray === \"string\" && p.dashArray.trim() !== \"\") {\r\n            finalStyle.dashArray = p.dashArray.trim();\r\n        }\r\n    }\r\n\r\n    return finalStyle;\r\n};\r\n\r\n/**\r\n * Calcule la configuration d'affichage des points départ / arrivée\r\n * en combinant :\r\n *  - les options par défaut du module (_options),\r\n *  - les endpoints définis dans le profil actif (defaultSettings.routeConfig.endpoints),\r\n *  - les surcharges éventuelles au niveau de l'itinéraire\r\n *    (properties.showStart, properties.showEnd, startStyle, endStyle).\r\n *\r\n * @param {Object} route - L'itinéraire\r\n * @param {Object} profileEndpoints - Config endpoints du profil\r\n * @param {Object} moduleOptions - Options du module Route\r\n * @returns {Object} Configuration des endpoints {showStart, showEnd, startStyle, endStyle}\r\n */\r\nRouteStyleResolver.resolveEndpointConfig = function (route, profileEndpoints, moduleOptions) {\r\n    const opt = moduleOptions || {};\r\n\r\n    const baseStartStyle =\r\n        opt.startWaypointStyle || opt.waypointStyle || {\r\n            radius: 6,\r\n            color: \"#ffffff\",\r\n            fillColor: \"#2b7cff\",\r\n            fillOpacity: 1,\r\n            weight: 2\r\n        };\r\n\r\n    const baseEndStyle =\r\n        opt.endWaypointStyle || opt.waypointStyle || {\r\n            radius: 6,\r\n            color: \"#ffffff\",\r\n            fillColor: \"#ff7b32\",\r\n            fillOpacity: 1,\r\n            weight: 2\r\n        };\r\n\r\n    const cfg = {\r\n        showStart: typeof opt.showStart === \"boolean\" ? opt.showStart : true,\r\n        showEnd: typeof opt.showEnd === \"boolean\" ? opt.showEnd : true,\r\n        startStyle: Object.assign({}, baseStartStyle),\r\n        endStyle: Object.assign({}, baseEndStyle)\r\n    };\r\n\r\n    // 1) Profil actif (defaultSettings.routeConfig.endpoints)\r\n    if (profileEndpoints && typeof profileEndpoints === \"object\") {\r\n        if (typeof profileEndpoints.showStart === \"boolean\") {\r\n            cfg.showStart = profileEndpoints.showStart;\r\n        }\r\n        if (typeof profileEndpoints.showEnd === \"boolean\") {\r\n            cfg.showEnd = profileEndpoints.showEnd;\r\n        }\r\n        if (\r\n            profileEndpoints.start &&\r\n            typeof profileEndpoints.start === \"object\"\r\n        ) {\r\n            Object.assign(cfg.startStyle, profileEndpoints.start);\r\n        }\r\n        if (profileEndpoints.end && typeof profileEndpoints.end === \"object\") {\r\n            Object.assign(cfg.endStyle, profileEndpoints.end);\r\n        }\r\n    }\r\n\r\n    // 2) Surcharges au niveau de l'itinéraire\r\n    if (route && route.properties && typeof route.properties === \"object\") {\r\n        const p = route.properties;\r\n\r\n        if (typeof p.showStart === \"boolean\") {\r\n            cfg.showStart = p.showStart;\r\n        }\r\n        if (typeof p.showEnd === \"boolean\") {\r\n            cfg.showEnd = p.showEnd;\r\n        }\r\n        if (p.startStyle && typeof p.startStyle === \"object\") {\r\n            Object.assign(cfg.startStyle, p.startStyle);\r\n        }\r\n        if (p.endStyle && typeof p.endStyle === \"object\") {\r\n            Object.assign(cfg.endStyle, p.endStyle);\r\n        }\r\n    }\r\n\r\n    return cfg;\r\n};\r\n\r\nexport { RouteStyleResolver };\r\n","/**\r\n * globals.geojson.js — Bridge UMD/ESM : B5 — geojson, route\r\n *\r\n * @see globals.js (orchestrateur)\r\n */\r\n\r\n// B5 : geojson, route\r\nimport { GeoJSONShared } from './geojson/shared.js';\r\nimport { GeoJSONClustering } from './geojson/clustering.js';\r\nimport { FeatureValidator } from './geojson/feature-validator.js';\r\nimport { normalizeStyleToLeaflet } from './geojson/style-utils.js';\r\nimport { GeoJSONStyleResolver } from './geojson/style-resolver.js';\r\nimport { VectorTiles } from './geojson/vector-tiles.js';\r\nimport { VisibilityManager as LayerVisibilityManager } from './geojson/visibility-manager.js';\r\nimport { WorkerManager } from './geojson/worker-manager.js';\r\nimport { LayerConfigManager } from './geojson/layer-config-manager.js';\r\nimport { PopupTooltip } from './geojson/popup-tooltip.js';\r\nimport { LayerManagerStore } from './geojson/layer-manager/store.js';\r\nimport { LayerManagerVisibility } from './geojson/layer-manager/visibility.js';\r\nimport { LayerManagerStyle } from './geojson/layer-manager/style.js';\r\nimport { LayerManagerIntegration } from './geojson/layer-manager/integration.js';\r\nimport { LoaderConfigHelpers } from './geojson/loader/config-helpers.js';\r\nimport { LoaderData } from './geojson/loader/data.js';\r\nimport { LoaderProfile } from './geojson/loader/profile.js';\r\nimport { LoaderSingleLayer } from './geojson/loader/single-layer.js';\r\nimport { GeoJSONCore } from './geojson/core.js';\r\nimport { RouteLayerManager } from './route/layer-manager.js';\r\nimport { RouteLoaders } from './route/loaders.js';\r\nimport { RoutePopupBuilder } from './route/popup-builder.js';\r\nimport { RouteStyleResolver } from './route/style-resolver.js';\r\n\r\nconst _g = typeof globalThis !== 'undefined'\r\n    ? globalThis\r\n    : typeof window !== 'undefined' ? window : {};\r\n\r\n_g.GeoLeaf = _g.GeoLeaf || {};\r\n\r\n// ── B5 assignations ──────────────────────────────────────────────────────────\r\nconst _GeoJSONLayerManager = Object.assign({}, LayerManagerStore, LayerManagerVisibility, LayerManagerStyle, LayerManagerIntegration);\r\nconst _GeoJSONLoader = Object.assign({}, LoaderConfigHelpers, LoaderData, LoaderProfile, LoaderSingleLayer);\r\n// Délégation manquante : _resolveDataFilePath n'est défini dans aucun sous-module du Loader.\r\n// LayerConfigManager.resolveDataFilePath résout le chemin d'un fichier de données GeoJSON.\r\n_GeoJSONLoader._resolveDataFilePath = LayerConfigManager.resolveDataFilePath.bind(LayerConfigManager);\r\n_g.GeoLeaf._GeoJSONShared = GeoJSONShared;\r\n_g.GeoLeaf._GeoJSONClustering = GeoJSONClustering;\r\n_g.GeoLeaf._GeoJSONFeatureValidator = FeatureValidator;\r\n_g.GeoLeaf._StyleUtils = { normalizeStyleToLeaflet };\r\n_g.GeoLeaf._GeoJSONStyleResolver = GeoJSONStyleResolver;\r\n_g.GeoLeaf._StyleRules = {\r\n    evaluate: GeoJSONStyleResolver.evaluateStyleRules,\r\n    operators: GeoJSONShared.STYLE_OPERATORS,\r\n    getNestedValue: GeoJSONStyleResolver.getNestedValue\r\n};\r\n_g.GeoLeaf._VectorTiles = VectorTiles;\r\n_g.GeoLeaf._LayerVisibilityManager = LayerVisibilityManager;\r\n_g.GeoLeaf._WorkerManager = WorkerManager;\r\n_g.GeoLeaf._GeoJSONLayerConfig = LayerConfigManager;\r\n_g.GeoLeaf._GeoJSONPopupTooltip = PopupTooltip;\r\n_g.GeoLeaf._GeoJSONLayerManager = _GeoJSONLayerManager;\r\n_g.GeoLeaf._GeoJSONLoader = _GeoJSONLoader;\r\n_g.GeoLeaf.GeoJSON = GeoJSONCore;\r\n_g.GeoLeaf._RouteLayerManager = RouteLayerManager;\r\n_g.GeoLeaf._RouteLoaders = RouteLoaders;\r\n_g.GeoLeaf._RoutePopupBuilder = RoutePopupBuilder;\r\n_g.GeoLeaf._RouteStyleResolver = RouteStyleResolver;\r\n","/**\r\n * GeoLeaf UI Components - Module commun partagé\r\n * Composants d'interface réutilisables pour Legend et LayerManager\r\n *\r\n * Extrait le code commun entre:\r\n * - legend-renderer.js\r\n * - layer-manager/renderer.js\r\n *\r\n * DÉPENDANCES:\r\n * - Leaflet (L.DomUtil, L.DomEvent)\r\n * - Log (import ESM)\r\n *\r\n * EXPOSE:\r\n * - _UIComponents\r\n *\r\n * @module ui/components\r\n */\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n    /**\r\n     * Module UI Components\r\n     * @namespace _UIComponents\r\n     * @private\r\n     */\r\n    const _UIComponents = {\r\n        /**\r\n         * Crée un accordéon\r\n         * @param {HTMLElement} container - Conteneur parent\r\n         * @param {Object} config - Configuration de l'accordéon\r\n         * @param {string} config.layerId - ID de la couche\r\n         * @param {string} config.label - Titre de l'accordéon\r\n         * @param {boolean} config.collapsed - État initial\r\n         * @param {boolean} config.visible - Couche visible ou non (pour grisage)\r\n         * @param {Function} [config.onToggle] - Callback lors du toggle\r\n         * @returns {Object} - { accordionEl, headerEl, bodyEl }\r\n         */\r\n        createAccordion(container, config) {\r\n            const accordionEl = globalThis.L.DomUtil.create(\"div\", \"gl-legend__accordion\", container);\r\n            accordionEl.setAttribute(\"data-layer-id\", config.layerId);\r\n\r\n            if (config.collapsed) {\r\n                accordionEl.classList.add(\"gl-legend__accordion--collapsed\");\r\n            }\r\n\r\n            // Ajouter classe inactive si la couche n'est pas visible\r\n            if (config.visible === false) {\r\n                accordionEl.classList.add(\"gl-legend__accordion--inactive\");\r\n            }\r\n\r\n            // Header de l'accordéon\r\n            const headerEl = globalThis.L.DomUtil.create(\"div\", \"gl-legend__accordion-header\", accordionEl);\r\n            headerEl.setAttribute(\"role\", \"button\");\r\n            headerEl.setAttribute(\"tabindex\", \"0\");\r\n            headerEl.setAttribute(\"aria-expanded\", !config.collapsed);\r\n\r\n            const titleEl = globalThis.L.DomUtil.create(\"span\", \"gl-legend__accordion-title\", headerEl);\r\n            titleEl.textContent = config.label;\r\n\r\n            const toggleEl = globalThis.L.DomUtil.create(\"button\", \"gl-legend__accordion-toggle\", headerEl);\r\n            toggleEl.type = \"button\";\r\n            toggleEl.setAttribute(\"aria-label\", \"Basculer l'accordéon\");\r\n            toggleEl.textContent = config.collapsed ? \"▶\" : \"▼\";\r\n\r\n            // Body de l'accordéon\r\n            const bodyEl = globalThis.L.DomUtil.create(\"div\", \"gl-legend__accordion-body\", accordionEl);\r\n\r\n            // Gestionnaire de clic sur le header\r\n            const onToggle = (ev) => {\r\n                // Ne rien faire si la couche est inactive\r\n                if (config.visible === false) {\r\n                    if (globalThis.L && globalThis.L.DomEvent) {\r\n                        globalThis.L.DomEvent.stopPropagation(ev);\r\n                    }\r\n                    ev.preventDefault();\r\n                    return;\r\n                }\r\n\r\n                if (globalThis.L && globalThis.L.DomEvent) {\r\n                    globalThis.L.DomEvent.stopPropagation(ev);\r\n                }\r\n                ev.preventDefault();\r\n\r\n                const isCollapsed = accordionEl.classList.toggle(\"gl-legend__accordion--collapsed\");\r\n                toggleEl.textContent = isCollapsed ? \"▶\" : \"▼\";\r\n                headerEl.setAttribute(\"aria-expanded\", !isCollapsed);\r\n\r\n                // Callback optionnel\r\n                if (typeof config.onToggle === \"function\") {\r\n                    config.onToggle(config.layerId, !isCollapsed);\r\n                }\r\n            };\r\n\r\n            this.attachEventHandler(headerEl, \"click\", onToggle);\r\n\r\n            return { accordionEl, headerEl, bodyEl, toggleEl };\r\n        },\r\n\r\n        /**\r\n         * Rend un symbole cercle (POI/Marker)\r\n         * @param {HTMLElement} container - Conteneur du symbole\r\n         * @param {Object} config - Configuration du symbole\r\n         * @returns {HTMLElement} - Élément créé\r\n         */\r\n        renderCircleSymbol(container, config) {\r\n            const circleEl = globalThis.L.DomUtil.create(\"div\", \"gl-legend__circle\", container);\r\n\r\n            // Utiliser le radius transmis, sinon 24px par défaut (plus grand pour les légendes avec icônes)\r\n            const radius = config.radius !== undefined ? config.radius : 24;\r\n            const size = radius * 2;\r\n            const fillColor = config.fillColor || config.color || \"#3388ff\";\r\n            const strokeColor = config.color || config.borderColor || \"rgba(0,0,0,0.2)\";\r\n            const strokeWidth = config.weight || 1;\r\n\r\n            circleEl.style.width = size + \"px\";\r\n            circleEl.style.height = size + \"px\";\r\n            circleEl.style.backgroundColor = fillColor;\r\n            circleEl.style.borderRadius = \"50%\";\r\n            circleEl.style.border = strokeWidth + \"px solid \" + strokeColor;\r\n            circleEl.style.position = \"relative\";\r\n            circleEl.style.display = \"flex\";\r\n            circleEl.style.alignItems = \"center\";\r\n            circleEl.style.justifyContent = \"center\";\r\n\r\n            if (config.fillOpacity !== undefined) {\r\n                circleEl.style.opacity = config.fillOpacity;\r\n            }\r\n\r\n            // Afficher l'icône sprite SVG si présente\r\n            if (config.icon) {\r\n                // Validation de sécurité: L'ID d'icône doit être alphanumérique avec tirets/underscores seulement\r\n                const iconId = config.icon.startsWith('#') ? config.icon.substring(1) : config.icon;\r\n                if (!/^[a-zA-Z0-9_-]+$/.test(iconId)) {\r\n                    if (Log) Log.error('[UIComponents] ID d\\'icône invalide (caractères non autorisés):', config.icon);\r\n                    return circleEl;\r\n                }\r\n\r\n                const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n                svg.setAttribute(\"viewBox\", \"0 0 24 24\");\r\n                // Rendre l'icône à 85% du cercle pour qu'elle soit bien visible\r\n                svg.style.width = (size * 0.85) + \"px\";\r\n                svg.style.height = (size * 0.85) + \"px\";\r\n                svg.style.fill = config.iconColor || \"currentColor\";\r\n                svg.style.stroke = config.iconColor || \"currentColor\";\r\n                svg.style.color = \"#ffffff\"; // Définir la couleur de base pour currentColor\r\n                svg.style.pointerEvents = \"none\";\r\n                svg.style.position = \"absolute\";\r\n\r\n                const use = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\r\n                // ID validé, construire le href sécurisé\r\n                const iconHref = '#' + iconId;\r\n                // Utiliser la syntaxe moderne href au lieu de xlink:href\r\n                use.setAttribute(\"href\", iconHref);\r\n                svg.appendChild(use);\r\n                circleEl.appendChild(svg);\r\n\r\n                // Vérification d'erreur seulement si Log est disponible\r\n                if (Log) {\r\n                    const spriteExists = document.querySelector('svg[data-geoleaf-sprite=\"profile\"]');\r\n                    if (!spriteExists) {\r\n                        svg.setAttribute('data-sprite-missing', 'true');\r\n                        Log.warn('[UIComponents] Icône', config.icon, 'référencée mais sprite non trouvé dans le DOM');\r\n                    } else {\r\n                        const symbolId = config.icon.startsWith('#') ? config.icon.substring(1) : config.icon;\r\n                        const symbol = spriteExists.querySelector('#' + symbolId);\r\n                        if (!symbol) {\r\n                            svg.setAttribute('data-symbol-missing', config.icon);\r\n                            Log.warn('[UIComponents] Symbole', config.icon, 'non trouvé dans le sprite SVG');\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return circleEl;\r\n        },\r\n\r\n        /**\r\n         * Rend un symbole ligne\r\n         * @param {HTMLElement} container - Conteneur du symbole\r\n         * @param {Object} config - Configuration du symbole\r\n         * @returns {HTMLElement} - Élément créé\r\n         */\r\n        renderLineSymbol(container, config) {\r\n            const width = config.width || 3;\r\n            const color = config.color || \"#3388ff\";\r\n            let style = config.style || \"solid\";\r\n            const dashArray = config.dashArray || null;\r\n            const outlineColor = config.outlineColor || null;\r\n            const outlineWidth = config.outlineWidth || null;\r\n\r\n            // Créer un SVG pour les lignes complexes (dashArray custom, tirets épais, ou avec outline)\r\n            if (dashArray || width > 5 || (outlineColor && outlineWidth)) {\r\n                const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n                svg.setAttribute(\"viewBox\", \"0 0 40 8\");\r\n                svg.style.width = \"40px\";\r\n                const totalHeight = Math.max(width, 3) + (outlineWidth || 0) + 4;\r\n                svg.style.height = totalHeight + \"px\";\r\n\r\n                // Si outline existe, dessiner d'abord la ligne de contour\r\n                if (outlineColor && outlineWidth) {\r\n                    const outlineLine = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\r\n                    outlineLine.setAttribute(\"x1\", \"0\");\r\n                    outlineLine.setAttribute(\"y1\", \"4\");\r\n                    outlineLine.setAttribute(\"x2\", \"40\");\r\n                    outlineLine.setAttribute(\"y2\", \"4\");\r\n                    outlineLine.setAttribute(\"stroke\", outlineColor);\r\n                    outlineLine.setAttribute(\"stroke-width\", width + (outlineWidth * 2));\r\n                    outlineLine.setAttribute(\"stroke-linecap\", \"round\");\r\n\r\n                    if (config.outlineOpacity !== undefined) {\r\n                        outlineLine.setAttribute(\"stroke-opacity\", config.outlineOpacity);\r\n                    }\r\n\r\n                    svg.appendChild(outlineLine);\r\n                }\r\n\r\n                // Dessiner ensuite la ligne principale\r\n                const line = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\r\n                line.setAttribute(\"x1\", \"0\");\r\n                line.setAttribute(\"y1\", \"4\");\r\n                line.setAttribute(\"x2\", \"40\");\r\n                line.setAttribute(\"y2\", \"4\");\r\n                line.setAttribute(\"stroke\", color);\r\n                line.setAttribute(\"stroke-width\", width);\r\n                line.setAttribute(\"stroke-linecap\", \"round\");\r\n\r\n                if (dashArray) {\r\n                    line.setAttribute(\"stroke-dasharray\", dashArray);\r\n                } else if (style === \"dashed\") {\r\n                    line.setAttribute(\"stroke-dasharray\", \"8,4\");\r\n                } else if (style === \"dotted\") {\r\n                    line.setAttribute(\"stroke-dasharray\", \"2,3\");\r\n                }\r\n\r\n                if (config.opacity !== undefined) {\r\n                    line.setAttribute(\"stroke-opacity\", config.opacity);\r\n                }\r\n\r\n                svg.appendChild(line);\r\n                container.appendChild(svg);\r\n                return svg;\r\n            }\r\n\r\n            // Fallback : DIV simple pour lignes basiques\r\n            const lineEl = globalThis.L.DomUtil.create(\"div\", \"gl-legend__line\", container);\r\n            lineEl.style.width = \"30px\";\r\n            lineEl.style.height = width + \"px\";\r\n            lineEl.style.backgroundColor = color;\r\n\r\n            if (style === \"dashed\") {\r\n                lineEl.style.backgroundImage = `linear-gradient(to right, ${color} 50%, transparent 50%)`;\r\n                lineEl.style.backgroundSize = \"8px 100%\";\r\n            } else if (style === \"dotted\") {\r\n                lineEl.style.backgroundImage = `linear-gradient(to right, ${color} 30%, transparent 30%)`;\r\n                lineEl.style.backgroundSize = \"4px 100%\";\r\n            }\r\n\r\n            if (config.opacity !== undefined) {\r\n                lineEl.style.opacity = config.opacity;\r\n            }\r\n\r\n            return lineEl;\r\n        },\r\n\r\n        /**\r\n         * Rend un symbole polygone/remplissage\r\n         * @param {HTMLElement} container - Conteneur du symbole\r\n         * @param {Object} config - Configuration du symbole\r\n         * @returns {HTMLElement} - Élément créé\r\n         */\r\n        renderPolygonSymbol(container, config) {\r\n            const color = config.fillColor || config.color || \"#3388ff\";\r\n            const borderColor = config.borderColor || config.color || \"#333\";\r\n            const borderWidth = config.weight || 1;\r\n            const hasHatch = config.hatch && config.hatch.enabled;\r\n            // Vérifier fillOpacity OU opacity (le generator peut utiliser l'un ou l'autre)\r\n            let fillOpacity = config.fillOpacity !== undefined ? config.fillOpacity :\r\n                               (config.opacity !== undefined ? config.opacity : 1);\r\n\r\n            // FIX: Si hatch avec renderMode=\"pattern_only\", forcer fillOpacity=1.0\r\n            // (même logique que layer-manager.js ligne 823-828 - doit rester synchronisé)\r\n            if (hasHatch && config.hatch.renderMode === 'pattern_only') {\r\n                fillOpacity = 1.0;\r\n            }\r\n\r\n            // Utiliser SVG si hachures présentes OU si fillOpacity = 0 (contour seul)\r\n            if (hasHatch || fillOpacity === 0) {\r\n                const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n                svg.setAttribute(\"viewBox\", \"0 0 32 24\");\r\n                svg.style.width = \"32px\";\r\n                svg.style.height = \"24px\";\r\n\r\n                // Créer le pattern de hachure SVG si nécessaire\r\n                if (hasHatch) {\r\n                    const hatchCfg = config.hatch;\r\n                    const type = hatchCfg.type || \"diagonal\";\r\n                    const spacing = hatchCfg.spacingPx || 10;\r\n                    const hatchColor = (hatchCfg.stroke && hatchCfg.stroke.color) || \"#000000\";\r\n                    const hatchOpacity = (hatchCfg.stroke && hatchCfg.stroke.opacity) !== undefined ? hatchCfg.stroke.opacity : 1;\r\n                    const hatchWidth = (hatchCfg.stroke && hatchCfg.stroke.widthPx) || 1;\r\n\r\n                    const patternId = \"hatch-legend-\" + Date.now() + \"-\" + Math.random().toString(36).substr(2, 9);\r\n                    const defs = document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\r\n                    const pattern = document.createElementNS(\"http://www.w3.org/2000/svg\", \"pattern\");\r\n\r\n                    pattern.setAttribute(\"id\", patternId);\r\n                    pattern.setAttribute(\"patternUnits\", \"userSpaceOnUse\");\r\n                    pattern.setAttribute(\"width\", spacing);\r\n                    pattern.setAttribute(\"height\", spacing);\r\n\r\n                    // Créer le contenu selon le type\r\n                    if (type === \"diagonal\") {\r\n                        const line = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\r\n                        line.setAttribute(\"x1\", \"0\");\r\n                        line.setAttribute(\"y1\", \"0\");\r\n                        line.setAttribute(\"x2\", spacing);\r\n                        line.setAttribute(\"y2\", spacing);\r\n                        line.setAttribute(\"stroke\", hatchColor);\r\n                        line.setAttribute(\"stroke-width\", hatchWidth);\r\n                        line.setAttribute(\"stroke-opacity\", hatchOpacity);\r\n                        pattern.appendChild(line);\r\n                    } else if (type === \"dot\") {\r\n                        const circle = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\r\n                        circle.setAttribute(\"cx\", spacing / 2);\r\n                        circle.setAttribute(\"cy\", spacing / 2);\r\n                        circle.setAttribute(\"r\", Math.max(0.3, spacing * 0.07));\r\n                        circle.setAttribute(\"fill\", hatchColor);\r\n                        circle.setAttribute(\"fill-opacity\", hatchOpacity);\r\n                        pattern.appendChild(circle);\r\n                    } else if (type === \"cross\") {\r\n                        const hLine = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\r\n                        hLine.setAttribute(\"x1\", \"0\");\r\n                        hLine.setAttribute(\"y1\", spacing / 2);\r\n                        hLine.setAttribute(\"x2\", spacing);\r\n                        hLine.setAttribute(\"y2\", spacing / 2);\r\n                        hLine.setAttribute(\"stroke\", hatchColor);\r\n                        hLine.setAttribute(\"stroke-width\", hatchWidth);\r\n                        hLine.setAttribute(\"stroke-opacity\", hatchOpacity);\r\n                        pattern.appendChild(hLine);\r\n\r\n                        const vLine = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\r\n                        vLine.setAttribute(\"x1\", spacing / 2);\r\n                        vLine.setAttribute(\"y1\", \"0\");\r\n                        vLine.setAttribute(\"x2\", spacing / 2);\r\n                        vLine.setAttribute(\"y2\", spacing);\r\n                        vLine.setAttribute(\"stroke\", hatchColor);\r\n                        vLine.setAttribute(\"stroke-width\", hatchWidth);\r\n                        vLine.setAttribute(\"stroke-opacity\", hatchOpacity);\r\n                        pattern.appendChild(vLine);\r\n                    } else if (type === \"x\") {\r\n                        const line1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\r\n                        line1.setAttribute(\"x1\", \"0\");\r\n                        line1.setAttribute(\"y1\", \"0\");\r\n                        line1.setAttribute(\"x2\", spacing);\r\n                        line1.setAttribute(\"y2\", spacing);\r\n                        line1.setAttribute(\"stroke\", hatchColor);\r\n                        line1.setAttribute(\"stroke-width\", hatchWidth);\r\n                        line1.setAttribute(\"stroke-opacity\", hatchOpacity);\r\n                        pattern.appendChild(line1);\r\n\r\n                        const line2 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\r\n                        line2.setAttribute(\"x1\", spacing);\r\n                        line2.setAttribute(\"y1\", \"0\");\r\n                        line2.setAttribute(\"x2\", \"0\");\r\n                        line2.setAttribute(\"y2\", spacing);\r\n                        line2.setAttribute(\"stroke\", hatchColor);\r\n                        line2.setAttribute(\"stroke-width\", hatchWidth);\r\n                        line2.setAttribute(\"stroke-opacity\", hatchOpacity);\r\n                        pattern.appendChild(line2);\r\n                    }\r\n\r\n                    defs.appendChild(pattern);\r\n                    svg.appendChild(defs);\r\n\r\n                    // Rectangle avec hachure\r\n                    const rect = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\r\n                    rect.setAttribute(\"x\", \"1\");\r\n                    rect.setAttribute(\"y\", \"1\");\r\n                    rect.setAttribute(\"width\", \"30\");\r\n                    rect.setAttribute(\"height\", \"22\");\r\n                    rect.setAttribute(\"fill\", `url(#${patternId})`);\r\n                    rect.setAttribute(\"stroke\", borderColor);\r\n                    rect.setAttribute(\"stroke-width\", borderWidth);\r\n                    if (fillOpacity !== 1) {\r\n                        rect.setAttribute(\"fill-opacity\", fillOpacity);\r\n                    }\r\n\r\n                    svg.appendChild(rect);\r\n                } else {\r\n                    // fillOpacity = 0 : rectangle transparent avec contour seulement\r\n                    const rect = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\r\n                    rect.setAttribute(\"x\", \"1\");\r\n                    rect.setAttribute(\"y\", \"1\");\r\n                    rect.setAttribute(\"width\", \"30\");\r\n                    rect.setAttribute(\"height\", \"22\");\r\n                    rect.setAttribute(\"fill\", \"none\");\r\n                    rect.setAttribute(\"stroke\", borderColor);\r\n                    rect.setAttribute(\"stroke-width\", borderWidth);\r\n\r\n                    // Appliquer le dashArray si présent\r\n                    if (config.dashArray) {\r\n                        rect.setAttribute(\"stroke-dasharray\", config.dashArray);\r\n                    }\r\n\r\n                    svg.appendChild(rect);\r\n                }\r\n\r\n                container.appendChild(svg);\r\n                return svg;\r\n            }\r\n\r\n            // Fallback : DIV simple avec remplissage\r\n            const polygonEl = globalThis.L.DomUtil.create(\"div\", \"gl-legend__polygon\", container);\r\n            polygonEl.style.width = \"24px\";\r\n            polygonEl.style.height = \"16px\";\r\n            polygonEl.style.backgroundColor = color;\r\n            polygonEl.style.border = borderWidth + \"px solid \" + borderColor;\r\n\r\n            if (fillOpacity !== 1) {\r\n                polygonEl.style.opacity = fillOpacity;\r\n            }\r\n\r\n            return polygonEl;\r\n        },\r\n\r\n        /**\r\n         * Rend un symbole étoile (rating)\r\n         * @param {HTMLElement} container - Conteneur du symbole\r\n         * @param {Object} config - Configuration du symbole\r\n         * @returns {HTMLElement} - Élément créé\r\n         */\r\n        renderStarSymbol(container, config) {\r\n            const starContainer = globalThis.L.DomUtil.create(\"div\", \"gl-legend__stars\", container);\r\n\r\n            const count = config.count || 5;\r\n            const color = config.color || \"#f1c40f\";\r\n            const size = config.size || 12;\r\n\r\n            for (let i = 0; i < count; i++) {\r\n                    const starEl = globalThis.L.DomUtil.create(\"span\", \"gl-legend__star\", starContainer);\r\n                starEl.textContent = \"★\";\r\n                starEl.style.color = color;\r\n                starEl.style.fontSize = size + \"px\";\r\n            }\r\n\r\n            return starContainer;\r\n        },\r\n\r\n        /**\r\n         * Rend un symbole selon son type\r\n         * @param {HTMLElement} container - Conteneur du symbole\r\n         * @param {Object} config - Configuration du symbole\r\n         * @returns {HTMLElement} - Élément créé\r\n         */\r\n        renderSymbol(container, config) {\r\n            // Support de la structure avec config.symbol ou directement config\r\n            const symbolConfig = config.symbol || config;\r\n            const symbolType = symbolConfig.type || config.type || \"circle\";\r\n\r\n            switch (symbolType) {\r\n                case \"marker\":\r\n                case \"circle\":\r\n                    return this.renderCircleSymbol(container, symbolConfig);\r\n\r\n                case \"line\":\r\n                    return this.renderLineSymbol(container, symbolConfig);\r\n\r\n                case \"polygon\":\r\n                case \"fill\":\r\n                    return this.renderPolygonSymbol(container, symbolConfig);\r\n\r\n                case \"star\":\r\n                    return this.renderStarSymbol(container, symbolConfig);\r\n\r\n                case \"icon\":\r\n                    // Icon avec URL d'image\r\n                    if (symbolConfig.iconUrl) {\r\n                        const imgEl = globalThis.L.DomUtil.create(\"img\", \"gl-legend__icon-img\", container);\r\n                        imgEl.src = symbolConfig.iconUrl;\r\n                        if (symbolConfig.size) {\r\n                            imgEl.style.width = symbolConfig.size + \"px\";\r\n                            imgEl.style.height = symbolConfig.size + \"px\";\r\n                        }\r\n                        return imgEl;\r\n                    }\r\n                    // Icon avec sprite SVG - utiliser renderCircleSymbol qui gère déjà les sprites\r\n                    if (symbolConfig.icon) {\r\n                        return this.renderCircleSymbol(container, symbolConfig);\r\n                    }\r\n                    // Fallback vers circle\r\n                    return this.renderCircleSymbol(container, symbolConfig);\r\n\r\n                default:\r\n                    return this.renderCircleSymbol(container, symbolConfig);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Crée un bouton toggle (checkbox/switch)\r\n         * @param {HTMLElement} container - Conteneur parent\r\n         * @param {Object} config - Configuration du toggle\r\n         * @param {string} [config.id] - ID du toggle\r\n         * @param {boolean} config.isActive - État initial (alias: active)\r\n         * @param {string} [config.className] - Classe CSS personnalisée\r\n         * @param {string} [config.label] - Label du toggle\r\n         * @param {string} [config.title] - Tooltip\r\n         * @param {Function} [config.onToggle] - Callback lors du toggle\r\n         * @returns {HTMLElement} - Élément bouton créé\r\n         */\r\n        createToggleButton(container, config) {\r\n            // Support isActive ou active\r\n            const isActive = config.isActive !== undefined ? config.isActive : config.active;\r\n            const className = config.className || \"gl-toggle-btn\";\r\n\r\n            const toggleBtn = globalThis.L.DomUtil.create(\r\n                \"button\",\r\n                className,\r\n                container\r\n            );\r\n            toggleBtn.type = \"button\";\r\n\r\n            if (config.id) {\r\n                toggleBtn.setAttribute(\"data-toggle-id\", config.id);\r\n            }\r\n\r\n            toggleBtn.setAttribute(\"aria-pressed\", isActive ? \"true\" : \"false\");\r\n\r\n            if (config.title) {\r\n                toggleBtn.title = config.title;\r\n            }\r\n\r\n            if (isActive) {\r\n                toggleBtn.classList.add(className + \"--on\");\r\n            }\r\n\r\n            if (config.label) {\r\n                toggleBtn.textContent = config.label;\r\n            }\r\n\r\n            // Attacher le gestionnaire\r\n            if (typeof config.onToggle === \"function\") {\r\n                const className = config.className || \"gl-toggle-btn\";\r\n                const onToggle = (ev) => {\r\n                    if (globalThis.L && globalThis.L.DomEvent) {\r\n                        globalThis.L.DomEvent.stopPropagation(ev);\r\n                    }\r\n                    ev.preventDefault();\r\n\r\n                    const isActive = toggleBtn.classList.toggle(className + \"--on\");\r\n                    toggleBtn.setAttribute(\"aria-pressed\", isActive ? \"true\" : \"false\");\r\n\r\n                    config.onToggle(config.id, isActive, ev);\r\n                };\r\n\r\n                this.attachEventHandler(toggleBtn, \"click\", onToggle);\r\n            }\r\n\r\n            return toggleBtn;\r\n        },\r\n\r\n        /**\r\n         * Attache un gestionnaire d'événements compatible Leaflet\r\n         * @param {HTMLElement} element - Élément cible\r\n         * @param {string} eventName - Nom de l'événement\r\n         * @param {Function} handler - Gestionnaire\r\n         */\r\n        attachEventHandler(element, eventName, handler) {\r\n            if (globalThis.L && globalThis.L.DomEvent) {\r\n                globalThis.L.DomEvent.on(element, eventName, handler);\r\n                if (eventName === \"click\") {\r\n                    globalThis.L.DomEvent.disableClickPropagation(element);\r\n                }\r\n            } else {\r\n                element.addEventListener(eventName, handler);\r\n            }\r\n        }\r\n    };\r\n\r\n// ── ESM Export ──\r\nexport { _UIComponents };\r\n","/**\r\n * Module Label Renderer pour GeoLeaf\r\n * Crée et gère les tooltips permanents Leaflet pour les étiquettes\r\n *\r\n * DÉPENDANCES:\r\n * - Leaflet (L.Tooltip, L.LatLng)\r\n * - GeoLeaf.Log (optionnel)\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf._LabelRenderer\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { Core } from '../geoleaf.core.js';\r\n\r\n\r\n\r\n/**\r\n * Module Label Renderer\r\n * @namespace _LabelRenderer\r\n * @private\r\n */\r\nconst _LabelRenderer = {\r\n    /**\r\n     * Crée les tooltips permanents pour toutes les features d'une couche\r\n     * @param {string} layerId - ID de la couche\r\n     * @param {L.LayerGroup} leafletLayer - Couche Leaflet (LayerGroup ou FeatureGroup)\r\n     * @param {Object} labelConfig - Configuration des labels\r\n     * @param {Object} style - Style des labels (extrait de currentStyle.label)\r\n     * @param {Map} tooltipsMap - Map pour stocker les tooltips créés\r\n     */\r\n    createTooltipsForLayer(layerId, leafletLayer, labelConfig, style, tooltipsMap) {\r\n        if (!leafletLayer || !labelConfig || !labelConfig.labelId) {\r\n            if (Log) Log.warn(\"[LabelRenderer] Paramètres invalides pour createTooltipsForLayer\", {\r\n                layerId,\r\n                hasLeafletLayer: !!leafletLayer,\r\n                hasLabelConfig: !!labelConfig,\r\n                labelId: labelConfig?.labelId,\r\n                labelConfigKeys: labelConfig ? Object.keys(labelConfig) : null\r\n            });\r\n            return;\r\n        }\r\n\r\n        const labelField = labelConfig.labelId;\r\n\r\n        if (Log) Log.debug(`[LabelRenderer] Création tooltips pour ${layerId}, champ: ${labelField}`);\r\n\r\n        // Parcourir toutes les features de la couche\r\n        let featureCount = 0;\r\n\r\n        leafletLayer.eachLayer((featureLayer) => {\r\n            featureCount++;\r\n            try {\r\n                this._createTooltipForFeature(\r\n                    featureLayer,\r\n                    labelField,\r\n                    style,\r\n                    tooltipsMap\r\n                );\r\n            } catch (err) {\r\n                if (Log) Log.warn(\"[LabelRenderer] Erreur création tooltip:\", err);\r\n            }\r\n        });\r\n\r\n        if (Log) Log.debug(`[LabelRenderer] ${tooltipsMap.size} tooltips créés pour ${layerId} (${featureCount} features parcourues)`);\r\n    },\r\n\r\n    /**\r\n     * Crée un marker texte (label) pour une feature\r\n     * @private\r\n     * @param {L.Layer} featureLayer - Layer Leaflet de la feature\r\n     * @param {string} labelField - Nom du champ à afficher\r\n     * @param {Object} style - Style du label\r\n     * @param {Map} tooltipsMap - Map pour stocker le marker\r\n     */\r\n    _createTooltipForFeature(featureLayer, labelField, style, tooltipsMap) {\r\n        // Récupérer les données GeoJSON de la feature\r\n        const feature = featureLayer.feature;\r\n        if (!feature || !feature.properties) {\r\n            if (Log) Log.debug(\"[LabelRenderer] Feature ou properties manquant\");\r\n            return;\r\n        }\r\n\r\n        // Extraire la valeur du champ label\r\n        const labelValue = this._extractFieldValue(feature.properties, labelField);\r\n        if (!labelValue) {\r\n            return;\r\n        }\r\n\r\n        // Récupérer la position (centre de la géométrie)\r\n        let position = null;\r\n\r\n        if (typeof featureLayer.getLatLng === \"function\") {\r\n            // Pour les points\r\n            position = featureLayer.getLatLng();\r\n        } else if (typeof featureLayer.getBounds === \"function\") {\r\n            // Pour les polygones (Polygon, MultiPolygon) - centre du bounding box\r\n            // IMPORTANT: Vérifier getBounds AVANT getLatLngs car les polygones ont les deux!\r\n            const bounds = featureLayer.getBounds();\r\n            if (bounds && typeof bounds.getCenter === \"function\") {\r\n                position = bounds.getCenter();\r\n                if (Log) Log.info(\"[LabelRenderer] Position polygone calculée:\", {\r\n                    labelValue,\r\n                    position: position,\r\n                    positionType: typeof position,\r\n                    hasLat: 'lat' in position,\r\n                    hasLng: 'lng' in position,\r\n                    latType: typeof position.lat,\r\n                    lngType: typeof position.lng,\r\n                    positionKeys: Object.keys(position)\r\n                });\r\n            } else {\r\n                if (Log) Log.warn(\"[LabelRenderer] getBounds ne retourne pas getCenter pour:\", labelValue);\r\n            }\r\n        } else if (typeof featureLayer.getLatLngs === \"function\") {\r\n            // Pour les lignes - prendre le point du milieu de la ligne\r\n            const latlngs = featureLayer.getLatLngs();\r\n            if (latlngs && latlngs.length > 0) {\r\n                // Si c'est un MultiLineString ou une ligne complexe\r\n                const flatLatlngs = Array.isArray(latlngs[0]) ? latlngs[0] : latlngs;\r\n                if (flatLatlngs && flatLatlngs.length > 0) {\r\n                    const middleIndex = Math.floor(flatLatlngs.length / 2);\r\n                    position = flatLatlngs[middleIndex];\r\n                }\r\n            }\r\n        }\r\n\r\n        // Vérifier que position est valide\r\n        // Note: Leaflet LatLng peut avoir lat/lng comme propriétés OU comme méthodes\r\n        if (!position) {\r\n            if (Log) Log.debug(\"[LabelRenderer] Position null pour feature, skipping label. Label:\", labelValue);\r\n            return;\r\n        }\r\n\r\n        const lat = typeof position.lat === 'function' ? position.lat() : position.lat;\r\n        const lng = typeof position.lng === 'function' ? position.lng() : position.lng;\r\n\r\n        if (!lat || !lng || isNaN(lat) || isNaN(lng)) {\r\n            return;\r\n        }\r\n\r\n        // Créer un divIcon avec le texte du label\r\n        const htmlContent = this._formatLabelContent(labelValue, style);\r\n\r\n        const labelIcon = globalThis.L.divIcon({\r\n            html: htmlContent,\r\n            className: this._buildClassName(style),\r\n            iconSize: null, // Auto-size\r\n            iconAnchor: [0, 0] // Position relative au point\r\n        });\r\n\r\n        // Créer un marker avec cet icône texte\r\n        const labelMarker = globalThis.L.marker([lat, lng], {\r\n            icon: labelIcon,\r\n            interactive: false, // Ne pas intercepter les clics\r\n            keyboard: false\r\n        });\r\n\r\n        // Ajouter au map\r\n        const map = Core && Core.getMap ? Core.getMap() : null;\r\n        if (map) {\r\n            labelMarker.addTo(map);\r\n\r\n            // Stocker dans la map\r\n            const featureId = feature.id || feature.properties.id || `feature_${Date.now()}_${Math.random()}`;\r\n            tooltipsMap.set(featureId, labelMarker);\r\n        } else {\r\n            if (Log) Log.warn(\"[LabelRenderer] Carte non disponible pour\", labelValue);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Extrait la valeur d'un champ depuis les propriétés\r\n     * Supporte la notation pointée (ex: \"attributes.name\")\r\n     * @private\r\n     */\r\n    _extractFieldValue(properties, fieldPath) {\r\n        if (!properties || !fieldPath) return null;\r\n\r\n        // Si pas de point, accès direct\r\n        if (!fieldPath.includes(\".\")) {\r\n            return properties[fieldPath];\r\n        }\r\n\r\n        // Notation pointée\r\n        const parts = fieldPath.split(\".\");\r\n        let value = properties;\r\n\r\n        for (const part of parts) {\r\n            if (value && typeof value === \"object\" && part in value) {\r\n                value = value[part];\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        return value;\r\n    },\r\n\r\n    /**\r\n     * Parse l'offset depuis le style\r\n     * @private\r\n     */\r\n    _parseOffset(offset) {\r\n        if (!offset) return [0, 0];\r\n\r\n        if (Array.isArray(offset) && offset.length === 2) {\r\n            return [\r\n                typeof offset[0] === \"number\" ? offset[0] : 0,\r\n                typeof offset[1] === \"number\" ? offset[1] : 0\r\n            ];\r\n        }\r\n\r\n        return [0, 0];\r\n    },\r\n\r\n    /**\r\n     * Construit le nom de classe CSS pour le tooltip\r\n     * @private\r\n     */\r\n    _buildClassName(style) {\r\n        const classes = [\"gl-label\"];\r\n\r\n        if (style) {\r\n            if (style.className) {\r\n                classes.push(style.className);\r\n            }\r\n\r\n            // Ajouter des classes basées sur les propriétés de style\r\n            if (style.variant) {\r\n                classes.push(`gl-label--${style.variant}`);\r\n            }\r\n        }\r\n\r\n        return classes.join(\" \");\r\n    },\r\n\r\n    /**\r\n     * Formate le contenu du label\r\n     * @private\r\n     */\r\n    _formatLabelContent(value, style) {\r\n        if (!value) return \"\";\r\n\r\n        let content = String(value);\r\n\r\n        // Appliquer un préfixe/suffixe si défini\r\n        if (style) {\r\n            if (style.prefix) {\r\n                content = style.prefix + content;\r\n            }\r\n            if (style.suffix) {\r\n                content = content + style.suffix;\r\n            }\r\n        }\r\n\r\n        // Créer le HTML du label\r\n        const div = globalThis.document.createElement(\"div\");\r\n        div.className = \"gl-label__content\";\r\n        div.textContent = content;\r\n\r\n        // Appliquer les styles inline si définis\r\n        if (style) {\r\n            this._applyInlineStyles(div, style);\r\n        }\r\n\r\n        // Retourner le HTML string, pas l'élément DOM\r\n        return div.outerHTML;\r\n    },\r\n\r\n    /**\r\n     * Applique les styles inline au contenu du label\r\n     * @private\r\n     */\r\n    _applyInlineStyles(element, style) {\r\n        if (!element || !style) return;\r\n\r\n        // Appliquer les styles de police et couleur avec setProperty + important pour forcer la priorité sur le CSS\r\n        if (style.font) {\r\n            if (style.font.family) {\r\n                // Ajouter un fallback pour assurer la lisibilité si la police demandée n'est pas disponible\r\n                const fontFamily = `\"${style.font.family}\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Arial, sans-serif`;\r\n                element.style.setProperty('font-family', fontFamily, 'important');\r\n            }\r\n            if (style.font.sizePt) {\r\n                element.style.setProperty('font-size', `${style.font.sizePt}pt`, 'important');\r\n            }\r\n            if (style.font.bold) {\r\n                element.style.setProperty('font-weight', 'bold', 'important');\r\n            } else if (style.font.weight) {\r\n                // Pour améliorer la lisibilité, forcer un poids minimum de 500 si < 400\r\n                const weight = style.font.weight < 400 ? 500 : style.font.weight;\r\n                element.style.setProperty('font-weight', weight, 'important');\r\n            }\r\n            if (style.font.italic) {\r\n                element.style.setProperty('font-style', 'italic', 'important');\r\n            }\r\n        }\r\n\r\n        // Appliquer la couleur du texte avec !important\r\n        if (style.color) {\r\n            element.style.setProperty('color', style.color, 'important');\r\n        }\r\n\r\n        // Appliquer l'opacité du texte\r\n        if (style.opacity !== undefined) {\r\n            element.style.setProperty('opacity', style.opacity, 'important');\r\n        }\r\n\r\n        // Appliquer le buffer (text-shadow pour contour) avec !important\r\n        if (style.buffer && style.buffer.enabled) {\r\n            const bufferColor = style.buffer.color || '#ffffff';\r\n            const bufferOpacity = style.buffer.opacity !== undefined ? style.buffer.opacity : 1;\r\n            const bufferSize = style.buffer.sizePx || 2;\r\n\r\n            // Convertir la couleur hex + opacité en rgba\r\n            const rgba = this._hexToRgba(bufferColor, bufferOpacity);\r\n\r\n            // Créer un text-shadow multi-couches pour un contour plus net et visible\r\n            const shadowParts = [];\r\n\r\n            // Couche 1: Contour net avec de nombreux angles pour une couverture complète\r\n            for (let angle = 0; angle < 360; angle += 30) {\r\n                const rad = angle * Math.PI / 180;\r\n                const x = Math.cos(rad) * bufferSize;\r\n                const y = Math.sin(rad) * bufferSize;\r\n                shadowParts.push(`${x.toFixed(2)}px ${y.toFixed(2)}px 0 ${rgba}`);\r\n            }\r\n\r\n            // Couche 2: Contour intermédiaire pour plus de densité (meilleure couverture)\r\n            for (let angle = 15; angle < 360; angle += 30) {\r\n                const rad = angle * Math.PI / 180;\r\n                const x = Math.cos(rad) * bufferSize * 0.7;\r\n                const y = Math.sin(rad) * bufferSize * 0.7;\r\n                shadowParts.push(`${x.toFixed(2)}px ${y.toFixed(2)}px 0 ${rgba}`);\r\n            }\r\n\r\n            // Couche 3: Effet glow plus prononcé pour renforcer le contraste\r\n            shadowParts.push(`0 0 ${bufferSize * 0.8}px ${rgba}`);\r\n            shadowParts.push(`0 0 ${bufferSize * 1.5}px ${rgba}`);\r\n\r\n            element.style.setProperty('text-shadow', shadowParts.join(', '), 'important');\r\n        }\r\n\r\n        // Appliquer textTransform\r\n        if (style.textTransform) {\r\n            element.style.setProperty('text-transform', style.textTransform, 'important');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Convertit une couleur hex en rgba\r\n     * @private\r\n     */\r\n    _hexToRgba(hex, opacity) {\r\n        if (!hex) return `rgba(0, 0, 0, ${opacity})`;\r\n\r\n        // Enlever le # si présent\r\n        hex = hex.replace('#', '');\r\n\r\n        // Gérer les formats courts (#RGB) et longs (#RRGGBB)\r\n        if (hex.length === 3) {\r\n            hex = hex.split('').map(c => c + c).join('');\r\n        }\r\n\r\n        const r = parseInt(hex.substring(0, 2), 16);\r\n        const g = parseInt(hex.substring(2, 4), 16);\r\n        const b = parseInt(hex.substring(4, 6), 16);\r\n\r\n        return `rgba(${r}, ${g}, ${b}, ${opacity})`;\r\n    }\r\n};\r\n\r\nexport { _LabelRenderer as LabelRenderer };\r\n","/**\r\n * Module Labels pour GeoLeaf\r\n * Gestion des étiquettes flottantes sur les entités\r\n *\r\n * DÉPENDANCES:\r\n * - Leaflet (L.Tooltip, L.DomUtil)\r\n * - GeoLeaf.Log (optionnel)\r\n * - GeoLeaf.GeoJSON (pour accéder aux layers)\r\n * - labels/label-renderer.js (pour le rendu des tooltips)\r\n * - loaders/style-loader.js (pour extraire les labels depuis les styles)\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf.Labels\r\n *\r\n * MIGRATION V3:\r\n * - Les labels sont maintenant intégrés dans les fichiers style.json\r\n * - Plus de fichiers styleLabel.json séparés\r\n * - Les labels sont extraits depuis layerData.currentStyle.label\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { Config } from '../config/config-primitives.js';\r\nimport { LabelRenderer } from './label-renderer.js';\r\nimport { isScaleInRange as _isScaleInRange, calculateMapScale as _calculateMapScale } from '../utils/scale-utils.js';\r\nimport { Core } from '../geoleaf.core.js';\r\nimport { GeoJSONCore } from '../geojson/core.js';\r\n\r\nconst ScaleUtils = { isScaleInRange: _isScaleInRange, calculateMapScale: _calculateMapScale };\r\n\r\n/**\r\n * État interne du module Labels\r\n * @private\r\n */\r\nconst _state = {\r\n    // Map: layerId -> { enabled, config, tooltips }\r\n    layers: new Map(),\r\n    // Flag pour savoir si l'écouteur de zoom est attaché\r\n    zoomListenerAttached: false\r\n};\r\n\r\n/**\r\n * Module Labels\r\n * @namespace Labels\r\n */\r\nconst Labels = {\r\n    /**\r\n     * Initialise le système de labels\r\n     * @param {Object} options - Options d'initialisation\r\n     */\r\n    init(options = {}) {\r\n        if (Log) Log.debug(\"[Labels] Initialisation du module Labels\");\r\n\r\n        // Écouter les événements de chargement de couches\r\n        this._attachLayerEvents();\r\n\r\n        if (Log) Log.debug(\"[Labels] Module Labels initialisé\");\r\n    },\r\n\r\n    /**\r\n     * Initialise les labels pour une couche au chargement\r\n     * Charge les labels UNIQUEMENT si:\r\n     * - Le style contient label.enabled === true\r\n     * - label.visibleByDefault === true\r\n     * - La couche est visible\r\n     *\r\n     * POINT D'ENTRÉE UNIQUE pour l'initialisation au chargement\r\n     * @param {string} layerId - ID de la couche\r\n     */\r\n    initializeLayerLabels(layerId) {\r\n        if (!layerId) return;\r\n\r\n        const layerData = this._getLayerData(layerId);\r\n        if (!layerData) return;\r\n\r\n        // D'ABORD masquer les labels existants pour réinitialiser lors du changement de style\r\n        this._hideLabelsForLayer(layerId);\r\n\r\n        // Réinitialiser l'état interne des labels pour cette couche\r\n        _state.layers.delete(layerId);\r\n\r\n        // Vérifier si le style a des labels activés\r\n        if (layerData.currentStyle?.label?.enabled !== true) {\r\n            if (Log) Log.debug(\"[Labels.initialize] Style sans labels ou labels désactivés pour\", layerId);\r\n            return;\r\n        }\r\n\r\n        // Vérifier visibleByDefault\r\n        const visibleByDefault = layerData.currentStyle.label.visibleByDefault === true;\r\n\r\n        if (!visibleByDefault) {\r\n            if (Log) Log.debug(\"[Labels.initialize] Labels désactivés par défaut pour\", layerId);\r\n            // Toujours initialiser la config, mais sans les afficher\r\n            return this.enableLabels(layerId, {}, false);\r\n        }\r\n\r\n        // Afficher les labels uniquement si couche visible ET visibleByDefault = true\r\n        const isLayerVisible = layerData._visibility?.current === true;\r\n        if (!isLayerVisible) {\r\n            if (Log) Log.debug(\"[Labels.initialize] Labels configurés mais couche invisible pour\", layerId);\r\n            // Initialiser la config sans afficher\r\n            return this.enableLabels(layerId, {}, false);\r\n        }\r\n\r\n        if (Log) Log.debug(\"[Labels.initialize] Initialisation labels visibles pour\", layerId);\r\n        return this.enableLabels(layerId, {}, true);\r\n    },\r\n\r\n    /**\r\n     * Active les labels pour une couche\r\n     * Les labels sont extraits depuis le style actuel de la couche (layerData.currentStyle.label)\r\n     * @param {string} layerId - ID de la couche\r\n     * @param {Object} labelConfig - Configuration des labels depuis layer.json (legacy, peut être vide)\r\n     * @param {boolean} showImmediately - Si true, affiche les labels immédiatement (visibleByDefault)\r\n     * @returns {Promise<void>}\r\n     */\r\n    async enableLabels(layerId, labelConfig = {}, showImmediately = true) {\r\n        if (!layerId) {\r\n            if (Log) Log.warn(\"[Labels] enableLabels: layerId manquant\");\r\n            return;\r\n        }\r\n\r\n        // VÉRIFICATION: Détecter les références obsolètes à styleFile\r\n        if (labelConfig && labelConfig.styleFile) {\r\n            const errorMessage =\r\n                `❌ CONFIGURATION OBSOLÈTE DÉTECTÉE\\n` +\r\n                `═══════════════════════════════════════════════════════\\n` +\r\n                `La couche \"${layerId}\" utilise une référence obsolète à un fichier\\n` +\r\n                `de labels séparé via \"labelConfig.styleFile\".\\n\\n` +\r\n                `GeoLeaf ne supporte plus les fichiers de labels séparés (styleLabel.json).\\n` +\r\n                `Les labels doivent être intégrés dans les fichiers de style.\\n\\n` +\r\n                `Valeur détectée: ${labelConfig.styleFile}\\n` +\r\n                `Couche: ${layerId}\\n\\n` +\r\n                `Action requise:\\n` +\r\n                `1. Supprimez la propriété \"labels.styleFile\" de la configuration\\n` +\r\n                `2. Les labels sont maintenant extraits depuis layerData.currentStyle.label\\n` +\r\n                `3. Consultez docs/STYLE_FORMAT_SPEC.md pour la syntaxe\\n` +\r\n                `═══════════════════════════════════════════════════════`;\r\n\r\n            console.error(errorMessage);\r\n            throw new Error(`Configuration obsolète: labels.styleFile détecté dans la couche ${layerId}`);\r\n        }\r\n\r\n        if (Log) Log.debug(\"[Labels] Préparation labels pour\", layerId, \"showImmediately:\", showImmediately);\r\n\r\n        try {\r\n            // Récupérer le style actuel de la couche pour extraire les labels intégrés\r\n            const layerData = this._getLayerData(layerId);\r\n            let labelStyleConfig = null;\r\n\r\n            if (layerData && layerData.currentStyle && layerData.currentStyle.label) {\r\n                // Labels intégrés dans le style\r\n                const integratedLabel = layerData.currentStyle.label;\r\n\r\n                if (integratedLabel.enabled === true) {\r\n                    labelStyleConfig = integratedLabel;\r\n\r\n                    // IMPORTANT: Copier aussi labelScale depuis le style\r\n                    if (layerData.currentStyle.labelScale) {\r\n                        labelStyleConfig.labelScale = layerData.currentStyle.labelScale;\r\n                    }\r\n\r\n                    if (Log) {\r\n                        Log.debug(\"[Labels] Labels intégrés détectés pour\", layerId);\r\n                        Log.debug(\"[Labels] labelScale:\", labelStyleConfig.labelScale);\r\n                    }\r\n                } else {\r\n                    if (Log) Log.debug(\"[Labels] Labels intégrés désactivés (enabled=false) pour\", layerId);\r\n                    return;\r\n                }\r\n            } else {\r\n                // Pas de labels intégrés dans le style - vérifier config legacy\r\n                if (labelConfig && labelConfig.enabled && labelConfig.labelId) {\r\n                    // Utiliser la config legacy du fichier de config de la couche\r\n                    labelStyleConfig = {\r\n                        enabled: true,\r\n                        field: labelConfig.labelId,\r\n                        font: labelConfig.font || {\r\n                            family: \"Arial\",\r\n                            sizePt: 10,\r\n                            weight: 50,\r\n                            bold: false,\r\n                            italic: false\r\n                        },\r\n                        color: labelConfig.color || \"#000000\",\r\n                        opacity: labelConfig.opacity || 1.0,\r\n                        buffer: labelConfig.buffer || { enabled: false },\r\n                        background: labelConfig.background || { enabled: false },\r\n                        offset: labelConfig.offset || { distancePx: 0 }\r\n                    };\r\n                    if (Log) Log.debug(\"[Labels] Utilisation config legacy pour\", layerId);\r\n                } else {\r\n                    // Pas de labels du tout\r\n                    if (Log) Log.debug(\"[Labels] Aucun label configuré pour\", layerId);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            // Stocker la configuration (enabled détermine si on affiche)\r\n            // showImmediately est déterminé par visibleByDefault du style en priorité\r\n            const effectiveShowImmediately = labelStyleConfig.visibleByDefault !== undefined\r\n                ? labelStyleConfig.visibleByDefault\r\n                : showImmediately;\r\n\r\n            _state.layers.set(layerId, {\r\n                enabled: effectiveShowImmediately, // true si visibleByDefault, false sinon\r\n                config: labelConfig, // Configuration legacy (minZoom, maxZoom, etc.)\r\n                labelStyle: labelStyleConfig, // Configuration de style extraite du style\r\n                tooltips: new Map() // Map: featureId -> L.Marker\r\n            });\r\n\r\n            // Vérifier si la couche est visible avant de créer les labels\r\n            let shouldShowLabels = effectiveShowImmediately;\r\n\r\n            // Vérifier l'état de visibilité de la couche dans GeoJSON\r\n            if (layerData) {\r\n                // Utiliser _visibility.current pour vérifier l'état réel\r\n                const isLayerVisible = layerData._visibility && layerData._visibility.current === true;\r\n                shouldShowLabels = effectiveShowImmediately && isLayerVisible;\r\n\r\n                if (effectiveShowImmediately && !isLayerVisible) {\r\n                    if (Log) Log.debug(\"[Labels] Labels configurés pour affichage mais couche invisible:\", layerId);\r\n                }\r\n            }\r\n\r\n            // Créer les markers seulement si la couche est visible ET showImmediately\r\n            if (shouldShowLabels) {\r\n                await this._createLabelsForLayer(layerId);\r\n            }\r\n\r\n            // Attacher l'écouteur de zoom si ce n'est pas déjà fait\r\n            this._ensureZoomListener();\r\n\r\n            if (Log) Log.debug(\"[Labels] Config labels préparée pour\", layerId, \"visible:\", showImmediately);\r\n        } catch (err) {\r\n            if (Log) Log.error(\"[Labels] Erreur préparation labels:\", err);\r\n            console.error(\"[Labels] Stack trace:\", err.stack);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Désactive les labels pour une couche\r\n     * @param {string} layerId - ID de la couche\r\n     */\r\n    disableLabels(layerId) {\r\n        if (!layerId) return;\r\n\r\n        const layerState = _state.layers.get(layerId);\r\n        if (!layerState) return;\r\n\r\n        if (Log) Log.debug(\"[Labels] Désactivation des labels pour\", layerId);\r\n\r\n        // Supprimer tous les tooltips\r\n        if (layerState.tooltips) {\r\n            layerState.tooltips.forEach(tooltip => {\r\n                try {\r\n                    if (tooltip && tooltip.remove) {\r\n                        tooltip.remove();\r\n                    }\r\n                } catch (e) {\r\n                    // Ignore\r\n                }\r\n            });\r\n            layerState.tooltips.clear();\r\n        }\r\n\r\n        // Marquer comme désactivé\r\n        layerState.enabled = false;\r\n\r\n        if (Log) Log.debug(\"[Labels] Labels désactivés pour\", layerId);\r\n    },\r\n\r\n    /**\r\n     * Cache temporairement les labels d'une couche sans changer l'état enabled\r\n     * Utilisé quand la couche est désactivée mais qu'on veut garder la config\r\n     * @param {string} layerId - ID de la couche\r\n     * @private\r\n     */\r\n    _hideLabelsForLayer(layerId) {\r\n        if (!layerId) return;\r\n\r\n        const layerState = _state.layers.get(layerId);\r\n        if (!layerState) return;\r\n\r\n        if (Log) Log.debug(\"[Labels] Masquage temporaire des labels pour\", layerId);\r\n\r\n        // Supprimer tous les markers de la map\r\n        if (layerState.tooltips) {\r\n            layerState.tooltips.forEach(tooltip => {\r\n                try {\r\n                    if (tooltip && tooltip.remove) {\r\n                        tooltip.remove();\r\n                    }\r\n                } catch (e) {\r\n                    // Ignore\r\n                }\r\n            });\r\n            layerState.tooltips.clear();\r\n        }\r\n\r\n        // NE PAS changer layerState.enabled - on garde la config\r\n        if (Log) Log.debug(\"[Labels] Labels masqués (enabled reste:\", layerState.enabled, \")\");\r\n    },\r\n\r\n    /**\r\n     * Bascule l'affichage des labels pour une couche\r\n     * @param {string} layerId - ID de la couche\r\n     * @returns {boolean} Nouvel état (true = activé)\r\n     */\r\n    toggleLabels(layerId) {\r\n        if (!layerId) return false;\r\n\r\n        const layerState = _state.layers.get(layerId);\r\n        if (!layerState) return false;\r\n\r\n        // VÉRIFICATION CRITIQUE: Le style actuel doit autoriser les labels\r\n        const layerData = this._getLayerData(layerId);\r\n        const currentLabelEnabled = layerData?.currentStyle?.label?.enabled === true;\r\n\r\n        if (!currentLabelEnabled) {\r\n            return false;\r\n        }\r\n\r\n        if (layerState.enabled) {\r\n            // Désactiver : masquer sans perdre la config\r\n            this._hideLabelsForLayer(layerId);\r\n            layerState.enabled = false;\r\n            return false;\r\n        } else {\r\n            // Activer : changer l'état et rafraîchir (refreshLabels vérifiera la visibilité)\r\n            layerState.enabled = true;\r\n            this.refreshLabels(layerId);\r\n            return true;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Vérifie si la config labels existe pour une couche\r\n     * @param {string} layerId - ID de la couche\r\n     * @returns {boolean}\r\n     */\r\n    hasLabelConfig(layerId) {\r\n        return _state.layers.has(layerId);\r\n    },\r\n\r\n    /**\r\n     * Vérifie si les labels sont actifs pour une couche\r\n     * @param {string} layerId - ID de la couche\r\n     * @returns {boolean}\r\n     */\r\n    areLabelsEnabled(layerId) {\r\n        const layerState = _state.layers.get(layerId);\r\n        return layerState ? layerState.enabled : false;\r\n    },\r\n\r\n    /**\r\n     * Rafraîchit les labels d'une couche (après zoom, filtre, etc.)\r\n     * @param {string} layerId - ID de la couche\r\n     */\r\n    refreshLabels(layerId) {\r\n        if (!layerId) return;\r\n\r\n        const layerState = _state.layers.get(layerId);\r\n        if (!layerState || !layerState.enabled) return;\r\n\r\n        // Vérifier si la couche est visible avant de créer les labels\r\n        // Priorité: visibilité de couche prime sur les paramètres d'échelle\r\n        const layerData = this._getLayerData(layerId);\r\n        if (!layerData || !layerData._visibility || !layerData._visibility.current) {\r\n            if (Log) Log.debug(\"[Labels] Couche invisible, skip refresh pour\", layerId);\r\n            return;\r\n        }\r\n\r\n        if (Log) Log.debug(\"[Labels] Rafraîchissement des labels pour\", layerId);\r\n\r\n        // Supprimer les anciens tooltips\r\n        if (layerState.tooltips) {\r\n            layerState.tooltips.forEach(tooltip => {\r\n                try {\r\n                    if (tooltip && tooltip.remove) tooltip.remove();\r\n                } catch (e) {\r\n                    // Ignore\r\n                }\r\n            });\r\n            layerState.tooltips.clear();\r\n        }\r\n\r\n        // Recréer les tooltips\r\n        this._createLabelsForLayer(layerId);\r\n    },\r\n\r\n    /**\r\n     * Crée les tooltips permanents pour toutes les features d'une couche\r\n     * @private\r\n     * @param {string} layerId - ID de la couche\r\n     * @returns {Promise<void>}\r\n     */\r\n    async _createLabelsForLayer(layerId) {\r\n        const layerState = _state.layers.get(layerId);\r\n        if (!layerState || !layerState.enabled) {\r\n            if (Log) Log.debug(\"[Labels] _createLabelsForLayer: layerState non trouvé ou désactivé pour\", layerId);\r\n            return;\r\n        }\r\n\r\n        // PRIORITÉ: Vérifier la visibilité de la couche AVANT les calculs d'échelle\r\n        const layerData = this._getLayerData(layerId);\r\n        if (!layerData || !layerData._visibility || !layerData._visibility.current) {\r\n            if (Log) Log.debug(\"[Labels] Couche invisible, abandon création labels pour\", layerId);\r\n            return;\r\n        }\r\n\r\n        if (!layerData.layer) {\r\n            if (Log) Log.warn(\"[Labels] Couche GeoJSON non trouvée:\", layerId);\r\n            return;\r\n        }\r\n\r\n        const { config, labelStyle } = layerState;\r\n\r\n        if (Log) Log.debug(\"[Labels] Création labels pour\", layerId, \"labelStyle:\", labelStyle);\r\n\r\n        // Vérifier l'échelle actuelle si labelScale est défini\r\n        const map = Core && Core.getMap ? Core.getMap() : null;\r\n\r\n        if (map && labelStyle.labelScale) {\r\n            const { minScale, maxScale } = labelStyle.labelScale;\r\n\r\n            if (minScale !== null || maxScale !== null) {\r\n                // Calculer l'échelle actuelle de la carte\r\n                const currentScale = this._calculateMapScale(map);\r\n\r\n                if (Log) Log.debug(\"[Labels] Vérification échelle:\", {\r\n                    currentScale,\r\n                    minScale,\r\n                    maxScale,\r\n                    visible: this._isScaleInRange(currentScale, minScale, maxScale)\r\n                });\r\n\r\n                if (!this._isScaleInRange(currentScale, minScale, maxScale)) {\r\n                    if (Log) Log.debug(\"[Labels] Échelle hors limites pour\", layerId, `(échelle: 1:${currentScale})`);\r\n                    return;\r\n                }\r\n            }\r\n        } else if (map && config.minZoom !== undefined && config.maxZoom !== undefined) {\r\n            // Fallback sur minZoom/maxZoom legacy\r\n            const currentZoom = map.getZoom();\r\n            if (currentZoom < config.minZoom || currentZoom > config.maxZoom) {\r\n                if (Log) Log.debug(\"[Labels] Zoom hors limites pour\", layerId);\r\n                return;\r\n            }\r\n        }\r\n\r\n        // Créer les tooltips via le renderer\r\n        if (LabelRenderer) {\r\n            // Adapter le format nouveau (field) vers ancien (labelId) pour le renderer\r\n            const rendererConfig = {\r\n                labelId: labelStyle.field || config.labelId,\r\n                minZoom: config.minZoom,\r\n                maxZoom: config.maxZoom\r\n            };\r\n\r\n            if (Log) Log.debug(\"[Labels] Appel renderer avec:\", {\r\n                layerId,\r\n                labelId: rendererConfig.labelId,\r\n                hasLayer: !!layerData.layer,\r\n                hasStyle: !!labelStyle\r\n            });\r\n\r\n            LabelRenderer.createTooltipsForLayer(\r\n                layerId,\r\n                layerData.layer,\r\n                rendererConfig,\r\n                labelStyle, // Passe le style de label extrait du style actuel\r\n                layerState.tooltips\r\n            );\r\n\r\n            if (Log) Log.debug(\"[Labels] Renderer terminé, tooltips créés:\", layerState.tooltips.size);\r\n        } else {\r\n            if (Log) Log.error(\"[Labels] GeoLeaf._LabelRenderer non disponible!\");\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Récupère les données de la couche depuis GeoLeaf.GeoJSON\r\n     * @private\r\n     * @param {string} layerId - ID de la couche\r\n     * @returns {Object|null} Layer data ou null si non trouvé\r\n     */\r\n    _getLayerData(layerId) {\r\n        if (!GeoJSONCore || typeof GeoJSONCore.getLayerById !== \"function\") {\r\n            if (Log) Log.warn(\"[Labels] GeoLeaf.GeoJSON non disponible\");\r\n            return null;\r\n        }\r\n\r\n        return GeoJSONCore.getLayerById(layerId);\r\n    },\r\n\r\n    /**\r\n     * S'assure que l'écouteur de zoom est attaché\r\n     * @private\r\n     */\r\n    _ensureZoomListener() {\r\n        if (_state.zoomListenerAttached) return;\r\n\r\n        const map = Core && Core.getMap ? Core.getMap() : null;\r\n        if (map) {\r\n            map.on('zoomend', () => {\r\n                const zoom = map.getZoom();\r\n                if (Log) Log.debug(\"[Labels] Zoom changé:\", zoom);\r\n                this._handleZoomChange({ zoom: zoom });\r\n            });\r\n            _state.zoomListenerAttached = true;\r\n            if (Log) Log.debug(\"[Labels] Écouteur zoom attaché à la carte\");\r\n        } else {\r\n            if (Log) Log.warn(\"[Labels] Carte non disponible pour attacher l'écouteur de zoom\");\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Attache les écouteurs d'événements pour les couches\r\n     * @private\r\n     */\r\n    _attachLayerEvents() {\r\n        // Les écouteurs de zoom sont maintenant attachés dans _ensureZoomListener()\r\n\r\n        // Écouter les événements personnalisés (si disponibles)\r\n        if (typeof globalThis.addEventListener === \"function\") {\r\n            // Écouter les événements de chargement de couches\r\n            globalThis.addEventListener(\"geoleaf:layer-loaded\", (evt) => {\r\n                if (evt.detail && evt.detail.layerId) {\r\n                    this._handleLayerLoaded(evt.detail.layerId);\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Gère le changement de zoom/échelle\r\n     * @private\r\n     */\r\n    _handleZoomChange(detail) {\r\n        if (!detail) return;\r\n\r\n        const map = Core && Core.getMap ? Core.getMap() : null;\r\n        if (!map) return;\r\n\r\n        // Calculer l'échelle actuelle\r\n        const currentScale = this._calculateMapScale(map);\r\n\r\n        // Parcourir toutes les couches avec labels\r\n        _state.layers.forEach((layerState, layerId) => {\r\n            if (!layerState.enabled) return;\r\n\r\n            // PRIORITÉ: Vérifier visibilité couche AVANT calculs d'échelle (performance)\r\n            const layerData = this._getLayerData(layerId);\r\n            if (!layerData || !layerData._visibility || !layerData._visibility.current) {\r\n                // Couche invisible - masquer labels immédiatement, ignorer échelle\r\n                const isShowing = layerState.tooltips && layerState.tooltips.size > 0;\r\n                if (isShowing) {\r\n                    layerState.tooltips.forEach(tooltip => {\r\n                        if (tooltip && tooltip.remove) tooltip.remove();\r\n                    });\r\n                    layerState.tooltips.clear();\r\n                }\r\n                return;\r\n            }\r\n\r\n            // Couche visible: vérifier les contraintes d'échelle\r\n            const { labelStyle, config } = layerState;\r\n            let shouldShow = true;\r\n\r\n            // Vérifier avec labelScale si disponible\r\n            if (labelStyle && labelStyle.labelScale) {\r\n                const { minScale, maxScale } = labelStyle.labelScale;\r\n                shouldShow = this._isScaleInRange(currentScale, minScale, maxScale);\r\n            } else if (config.minZoom !== undefined && config.maxZoom !== undefined) {\r\n                // Fallback sur minZoom/maxZoom legacy\r\n                const zoom = detail.zoom !== undefined ? detail.zoom : map.getZoom();\r\n                const minZoom = config.minZoom;\r\n                const maxZoom = config.maxZoom;\r\n                shouldShow = zoom >= minZoom && zoom <= maxZoom;\r\n            }\r\n\r\n            const isShowing = layerState.tooltips && layerState.tooltips.size > 0;\r\n\r\n            if (shouldShow && !isShowing) {\r\n                // Afficher les labels\r\n                this._createLabelsForLayer(layerId);\r\n            } else if (!shouldShow && isShowing) {\r\n                // Masquer les labels\r\n                layerState.tooltips.forEach(tooltip => {\r\n                    if (tooltip && tooltip.remove) tooltip.remove();\r\n                });\r\n                layerState.tooltips.clear();\r\n            }\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Gère le chargement d'une couche\r\n     * @private\r\n     */\r\n    async _handleLayerLoaded(layerId) {\r\n        const layerState = _state.layers.get(layerId);\r\n        if (layerState && layerState.enabled) {\r\n            await this._createLabelsForLayer(layerId);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Récupère l'ID du profil actif\r\n     * @private\r\n     */\r\n    _getProfileId() {\r\n        return Config.get('id') || 'default';\r\n    },\r\n\r\n    /**\r\n     * Calcule l'échelle actuelle de la carte (1:X format)\r\n     * @private\r\n     * @param {L.Map} map - Instance de la carte Leaflet\r\n     * @returns {number} Échelle (ex: 5000000 pour 1:5M)\r\n     */\r\n    // Phase 4 dedup: removed inline fallback — ScaleUtils is canonical (loaded T2)\r\n    _calculateMapScale(map) {\r\n        if (ScaleUtils && typeof ScaleUtils.calculateMapScale === \"function\") {\r\n            return ScaleUtils.calculateMapScale(map, { logger: Log });\r\n        }\r\n        if (Log) Log.warn('[Labels] ScaleUtils.calculateMapScale unavailable');\r\n        return 0;\r\n    },\r\n\r\n    /**\r\n     * Vérifie si une échelle est dans la plage min/max\r\n     * @private\r\n     * @param {number} currentScale - Échelle actuelle (ex: 5000000)\r\n     * @param {number|null} minScale - Échelle minimale (plus grand nombre = plus dézoomé)\r\n     * @param {number|null} maxScale - Échelle maximale (plus petit nombre = plus zoomé)\r\n     * @returns {boolean} True si l'échelle est dans la plage\r\n     *\r\n     * Logique:\r\n     * - minScale est l'échelle la plus \"large\" (ex: 15000000 = 1:15M, vue d'ensemble)\r\n     * - maxScale est l'échelle la plus \"détaillée\" (ex: 1000 = 1:1k, vue rapprochée)\r\n     * - Labels visibles si: maxScale <= currentScale <= minScale\r\n     */\r\n    // Phase 4 dedup: removed inline fallback — ScaleUtils is canonical (loaded T2)\r\n    _isScaleInRange(currentScale, minScale, maxScale) {\r\n        if (ScaleUtils && typeof ScaleUtils.isScaleInRange === \"function\") {\r\n            return ScaleUtils.isScaleInRange(currentScale, minScale, maxScale, Log);\r\n        }\r\n        if (Log) Log.warn('[Labels] ScaleUtils.isScaleInRange unavailable');\r\n        return true; // Default: visible if ScaleUtils missing\r\n    },\r\n\r\n    /**\r\n     * Nettoie toutes les ressources du module\r\n     */\r\n    destroy() {\r\n        if (Log) Log.debug(\"[Labels] Destruction du module Labels\");\r\n\r\n        _state.layers.forEach((layerState, layerId) => {\r\n            this.disableLabels(layerId);\r\n        });\r\n\r\n        _state.layers.clear();\r\n    }\r\n};\r\n\r\nexport { Labels };\r\n","/**\r\n * Gestionnaire centralisé pour le bouton de label dans le Layer Manager\r\n *\r\n * RESPONSABILITÉS:\r\n * - Créer le bouton de label lors du premier render d'une couche\r\n * - Synchroniser l'état du bouton (activé/désactivé, actif/inactif)\r\n * - Source unique de vérité pour la logique de décision\r\n *\r\n * LOGIQUE SIMPLIFIÉE:\r\n * - Le bouton est TOUJOURS visible pour toutes les couches\r\n * - Si couche visible ET label.enabled: true → bouton cliquable\r\n * - Sinon → bouton désactivé (grisé)\r\n * - État actif/inactif selon si les labels sont actuellement affichés\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { _UIComponents } from '../ui/components.js';\r\nimport { GeoJSONCore } from '../geojson/core.js';\r\nimport { Labels } from './labels.js';\r\n\r\n// Direct ESM bindings\r\n\r\n\r\n/**\r\n * Gestionnaire de boutons de label\r\n */\r\nconst LabelButtonManager = {\r\n    /**\r\n     * Crée le bouton de label pour une couche\r\n     * Appelé uniquement lors du premier render du layer manager\r\n     * @param {string} layerId - ID de la couche\r\n     * @param {HTMLElement} controlsContainer - Conteneur des contrôles\r\n     * @returns {HTMLElement|null} Le bouton créé ou null si échec\r\n     */\r\n    createButton(layerId, controlsContainer) {\r\n        if (!layerId || !controlsContainer) {\r\n            if (Log) Log.warn(\"[LabelButtonManager] createButton: paramètres manquants\", {layerId, hasContainer: !!controlsContainer});\r\n            return null;\r\n        }\r\n\r\n        // Vérifier si le bouton existe déjà\r\n        const existingButton = controlsContainer.querySelector('.gl-layer-manager__label-toggle');\r\n        if (existingButton) {\r\n            if (Log) Log.debug(\"[LabelButtonManager] Bouton déjà existant pour:\", layerId);\r\n            return existingButton;\r\n        }\r\n\r\n        if (Log) Log.debug(\"[LabelButtonManager] Création du bouton pour:\", layerId);\r\n\r\n        // Créer le bouton (toujours visible, sera activé/désactivé selon label.enabled)\r\n        const labelToggle = globalThis.L.DomUtil.create(\"button\", \"gl-layer-manager__label-toggle\");\r\n        labelToggle.type = \"button\";\r\n        labelToggle.setAttribute(\"aria-label\", \"Afficher/masquer les étiquettes\");\r\n        // Désactivé par défaut jusqu'à la synchronisation\r\n        labelToggle.disabled = true;\r\n        labelToggle.classList.add(\"gl-layer-manager__label-toggle--disabled\");\r\n\r\n        const iconSpan = document.createElement(\"span\");\r\n        iconSpan.className = \"gl-layer-manager__label-toggle-icon\";\r\n        iconSpan.textContent = \"🏷️\";\r\n        labelToggle.appendChild(iconSpan);\r\n        labelToggle.title = \"Afficher/masquer les étiquettes\";\r\n\r\n        // Gestionnaire de clic\r\n        const onLabelToggle = function (ev) {\r\n            if (globalThis.L && globalThis.L.DomEvent) globalThis.L.DomEvent.stopPropagation(ev);\r\n            ev.preventDefault();\r\n\r\n            if (labelToggle.disabled) return;\r\n\r\n            try {\r\n                // Vérifier que le style actuel autorise les labels\r\n                const layerData = GeoJSONCore?.getLayerById?.(layerId);\r\n                const labelEnabled = layerData?.currentStyle?.label?.enabled === true;\r\n\r\n                if (!labelEnabled) {\r\n                    if (Log) Log.warn(\"[LabelButtonManager] Impossible d'afficher les labels: le style actuel a label.enabled=false\");\r\n                    return;\r\n                }\r\n\r\n                // Toggle les labels\r\n                if (Labels?.toggleLabels) {\r\n                    const newState = Labels.toggleLabels(layerId);\r\n\r\n                    // Mettre à jour l'état visuel du bouton IMMÉDIATEMENT\r\n                    if (newState) {\r\n                        labelToggle.classList.add(\"gl-layer-manager__label-toggle--on\");\r\n                        labelToggle.setAttribute(\"aria-pressed\", \"true\");\r\n                    } else {\r\n                        labelToggle.classList.remove(\"gl-layer-manager__label-toggle--on\");\r\n                        labelToggle.setAttribute(\"aria-pressed\", \"false\");\r\n                    }\r\n                }\r\n            } catch (err) {\r\n                if (Log) Log.warn(\"[LabelButtonManager] Erreur lors du toggle des labels:\", err);\r\n            }\r\n        };\r\n\r\n        // Attacher le gestionnaire\r\n        _UIComponents.attachEventHandler(labelToggle, \"click\", onLabelToggle);\r\n\r\n        // Insérer le bouton avant le toggle de visibilité\r\n        const visibilityToggle = controlsContainer.querySelector('.gl-layer-manager__item-toggle');\r\n        if (visibilityToggle) {\r\n            controlsContainer.insertBefore(labelToggle, visibilityToggle);\r\n        } else {\r\n            controlsContainer.appendChild(labelToggle);\r\n        }\r\n\r\n        if (Log) Log.debug(\"[LabelButtonManager] Bouton créé avec succès:\", layerId);\r\n\r\n        return labelToggle;\r\n    },\r\n\r\n    /**\r\n     * Synchronise l'état du bouton de label\r\n     * UNIQUE POINT D'ENTRÉE pour mettre à jour le bouton\r\n     * @param {string} layerId - ID de la couche\r\n     */\r\n    sync(layerId) {\r\n        if (!layerId) return;\r\n\r\n        // Débounce pour éviter les mises à jour trop fréquentes\r\n        if (this._syncTimeouts && this._syncTimeouts.has(layerId)) {\r\n            clearTimeout(this._syncTimeouts.get(layerId));\r\n        }\r\n\r\n        if (!this._syncTimeouts) {\r\n            this._syncTimeouts = new Map();\r\n        }\r\n\r\n        const timeout = setTimeout(() => {\r\n            this._syncTimeouts.delete(layerId);\r\n            this._doSync(layerId);\r\n        }, 300);\r\n\r\n        this._syncTimeouts.set(layerId, timeout);\r\n    },\r\n\r\n    /**\r\n     * Exécute la synchronisation immédiate (méthode interne)\r\n     * @private\r\n     */\r\n    _doSync(layerId) {\r\n        if (!layerId) return;\r\n\r\n        // Trouver le bouton - chercher directement dans tout le document\r\n        // car le Layer Manager peut recréer des éléments\r\n        let button = document.querySelector(`[data-layer-id=\"${layerId}\"] .gl-layer-manager__label-toggle`);\r\n\r\n        if (!button) {\r\n            // Fallback: chercher le layerItem et créer le bouton si nécessaire\r\n            const layerItem = document.querySelector(`[data-layer-id=\"${layerId}\"]`);\r\n            if (!layerItem) {\r\n                if (Log) Log.debug(\"[LabelButtonManager] LayerItem non trouvé (pas encore rendu):\", layerId);\r\n                return;\r\n            }\r\n\r\n            const controlsContainer = layerItem.querySelector('.gl-layer-manager__item-controls');\r\n            if (controlsContainer) {\r\n                // Vérifier si le bouton existe déjà dans controls\r\n                button = controlsContainer.querySelector('.gl-layer-manager__label-toggle');\r\n                if (!button) {\r\n                    if (Log) Log.debug(\"[LabelButtonManager] Bouton manquant dans controls, création à la volée pour:\", layerId);\r\n                    button = this.createButton(layerId, controlsContainer);\r\n                }\r\n            } else {\r\n                if (Log) Log.debug(\"[LabelButtonManager] Bouton et controlsContainer non trouvés pour:\", layerId);\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (!button) {\r\n            if (Log) Log.debug(\"[LabelButtonManager] Bouton non trouvé après toutes tentatives:\", layerId);\r\n            return;\r\n        }\r\n\r\n        // Collecter l'état actuel\r\n        const state = this._getState(layerId);\r\n\r\n        // Appliquer la logique de décision\r\n        this._applyState(button, state);\r\n    },\r\n\r\n    /**\r\n     * Collecte l'état actuel de tous les composants\r\n     * @private\r\n     */\r\n    _getState(layerId) {\r\n        const layerData = GeoJSONCore?.getLayerById?.(layerId);\r\n\r\n        const state = {\r\n            layerId: layerId,\r\n            layerExists: !!layerData,\r\n            layerVisible: layerData?._visibility?.current === true,\r\n            labelEnabled: layerData?.currentStyle?.label?.enabled === true,\r\n            areLabelsActive: Labels?.areLabelsEnabled?.(layerId) || false\r\n        };\r\n\r\n        return state;\r\n    },\r\n\r\n    /**\r\n     * Applique l'état au bouton selon la logique simplifiée\r\n     * RÈGLES:\r\n     * - Bouton TOUJOURS visible\r\n     * - Si label.enabled: true ET couche visible → bouton activé\r\n     * - Sinon → bouton désactivé (grisé)\r\n     * - État actif/inactif selon si les labels sont affichés\r\n     * @private\r\n     */\r\n    _applyState(button, state) {\r\n        // Bouton cliquable uniquement si la couche est visible et que le style autorise les labels\r\n        const canUseLabels = state.labelEnabled && state.layerVisible;\r\n\r\n        if (canUseLabels) {\r\n            // Activer le bouton\r\n            button.disabled = false;\r\n            button.classList.remove(\"gl-layer-manager__label-toggle--disabled\");\r\n\r\n            // Appliquer l'état actif/inactif\r\n            const shouldAppearOn = state.areLabelsActive && state.layerVisible;\r\n\r\n            if (shouldAppearOn) {\r\n                button.classList.add(\"gl-layer-manager__label-toggle--on\");\r\n                button.setAttribute(\"aria-pressed\", \"true\");\r\n            } else {\r\n                button.classList.remove(\"gl-layer-manager__label-toggle--on\");\r\n                button.setAttribute(\"aria-pressed\", \"false\");\r\n            }\r\n        } else {\r\n            // Désactiver le bouton\r\n            button.disabled = true;\r\n            button.classList.add(\"gl-layer-manager__label-toggle--disabled\");\r\n            button.classList.remove(\"gl-layer-manager__label-toggle--on\");\r\n            button.setAttribute(\"aria-pressed\", \"false\");\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Synchronise immédiatement sans debouncing\r\n     * Utilisé pour les cas où une réponse immédiate est nécessaire\r\n     * @param {string} layerId - ID de la couche\r\n     */\r\n    syncImmediate(layerId) {\r\n        if (!layerId) return;\r\n\r\n        // Annuler tout debounce en cours\r\n        if (this._syncTimeouts && this._syncTimeouts.has(layerId)) {\r\n            clearTimeout(this._syncTimeouts.get(layerId));\r\n            this._syncTimeouts.delete(layerId);\r\n        }\r\n\r\n        // Exécuter immédiatement\r\n        this._doSync(layerId);\r\n    }\r\n};\r\n\r\nexport { LabelButtonManager };\r\n","/*!\n * GeoLeaf Core\n * © 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf POI Module - État Partagé\n * Variables et constantes partagées entre tous les sous-modules POI\n */\nimport { CONSTANTS } from '../constants/index.js';\n\n// ========================================\n//   CONSTANTES\n// ========================================\n\nconst POI_MARKER_SIZE = CONSTANTS.POI_MARKER_SIZE || 16;\nconst POI_MAX_ZOOM = CONSTANTS.POI_MAX_ZOOM || 18;\n\n// Icône par défaut (cercle bleu SVG en base64)\nconst defaultIconUrl = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI4IiBmaWxsPSIjNGE5MGU1IiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==\";\n\n// ========================================\n//   ÉTAT PARTAGÉ\n// ========================================\n\n/**\n * État mutable partagé entre tous les sous-modules POI\n */\nconst state = {\n    // LayerGroup Leaflet contenant tous les marqueurs POI\n    poiLayerGroup: null,\n\n\n    // Cluster group (si activé)\n    poiClusterGroup: null,\n\n    // Tableau des données POI chargées\n    allPois: [],\n\n    // Map pour stocker les marqueurs Leaflet par ID de POI\n    poiMarkers: new Map(),\n\n    // Configuration du module POI\n    poiConfig: {},\n\n    // Référence vers la carte Leaflet\n    mapInstance: null,\n\n    // Indicateur de chargement en cours\n    isLoading: false,\n\n    // Élément DOM pour le panneau latéral POI\n    sidePanelElement: null,\n\n    // POI actuellement affiché dans le panneau\n    currentPoiInPanel: null,\n\n    // Overlay de fond sombre pour le side panel\n    sidePanelOverlay: null,\n\n    // Index de l'image courante dans la galerie\n    currentGalleryIndex: 0\n};\n\n// ========================================\n//   UTILITAIRES PARTAGÉS\n// ========================================\n\n/**\n * Helper interne : garantit qu'un maxZoom numérique est défini sur la carte.\n * Utilisé pour éviter les erreurs du plugin de clustering (\"Map has no maxZoom specified\").\n *\n * @param {L.Map} map - Instance de la carte Leaflet\n * @param {number} [fallback=18] - Valeur par défaut si map.options.maxZoom n'existe pas\n */\nfunction ensureMapMaxZoom(map, fallback = 18) {\n    if (!map || !map.options) return;\n    if (typeof map.options.maxZoom !== 'number' || isNaN(map.options.maxZoom)) {\n        map.options.maxZoom = fallback;\n    }\n}\n\n// ========================================\n//   EXPORT\n// ========================================\n\nconst POIShared = {\n    // Constantes (lecture seule)\n    constants: Object.freeze({\n        POI_MARKER_SIZE,\n        POI_MAX_ZOOM,\n        defaultIconUrl\n    }),\n\n    // État mutable (accessible en lecture/écriture par sous-modules)\n    state,\n\n    // Utilitaires\n    ensureMapMaxZoom,\n\n    // ── Getters publics (8.3.1) ────────────────────────────────────────────\n    /** @public Retourne le tableau de tous les POI chargés */\n    getAllPois() { return state.allPois; },\n\n    /** @public Retourne la couche Leaflet active pour les marqueurs POI */\n    getMarkerLayer() { return state.markerLayer || state.poiClusterGroup || state.poiLayerGroup; },\n\n    /** @public Retourne l'instance de la carte Leaflet */\n    getMapInstance() { return state.mapInstance; },\n\n    /** @public Retourne la Map des marqueurs par ID */\n    getPoiMarkers() { return state.poiMarkers; }\n};\n\n// ── ESM Export ──\nexport { POIShared };\n","/*!\n * GeoLeaf Core\n * © 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf POI Module - Normalizers\n * Fonctions de normalisation et extraction de données POI\n */\nimport { Log } from '../log/index.js';\nimport { Security } from '../security/index.js';\nimport { resolveField } from '../utils/index.js';\n\n// ========================================\n//   NORMALISATION POI\n// ========================================\n\n/**\n * Normalise un POI vers la structure standard { id, latlng, title, attributes: {...} }.\n * Transforme l'ancien format vers le nouveau format attendu par le profile.json.\n *\n * @param {object} poi - POI au format brut (ancien ou nouveau).\n * @returns {object} POI normalisé.\n */\nfunction normalizePoi(poi) {\n    if (!poi) return null;\n\n\n    const p = poi;\n    // Préférer les champs \"attributes\" du nouveau schéma\n    const attr = (p && typeof p.attributes === 'object' && p.attributes) ? p.attributes : {};\n    const props = p.properties || {};\n\n    // Helper to sanitize URLs\n    const sanitizeUrl = (url) => {\n        if (!url || typeof url !== 'string') return null;\n        const trimmed = url.trim();\n        if (trimmed.match(/^(https?:\\/\\/|data:image\\/)/i)) {\n            return trimmed;\n        }\n        return null;\n    };\n\n    // Helper to escape HTML - utilise Security.escapeHtml\n    const escapeHtml = Security.escapeHtml || ((str) => {\n        if (!str) return '';\n        const div = document.createElement('div');\n        div.textContent = str;\n        return div.innerHTML;\n    });\n\n    // Utilise resolveField : importé depuis utils/index.js\n\n    // Construire la structure normalisée\n    const normalized = {\n        id: p.id || null,\n        latlng: p.latlng || null,\n        // Le titre provient du champ label (nouvelle structure) ou des anciens champs\n        title: escapeHtml(resolveField(p, 'title', 'label', 'name', 'attributes.title', 'properties.label', 'properties.name') || 'Sans nom'),\n        // Préserver aussi label et name au niveau racine\n        label: escapeHtml(resolveField(p, 'label', 'name', 'title')),\n        name: escapeHtml(resolveField(p, 'name', 'label', 'title')),\n        description: escapeHtml(resolveField(p, 'description', 'attributes.description')),\n        // ✅ IMPORTANT: Préserver les properties originales pour la résolution de champs comme \"properties.Name\"\n        properties: p.properties || {},\n        attributes: {\n            // D'abord, copier TOUS les attributs originaux pour préserver les champs spécifiques\n            ...attr,\n            // Puis ajouter/surcharger avec les mappings normalisés\n            // Description courte : premier niveau du POI\n            shortDescription: escapeHtml(resolveField(p, 'description', 'attributes.shortDescription', 'properties.description')),\n            // Description longue : champ attributes.description_long ou anciens champs\n            longDescription: escapeHtml(resolveField(p, 'attributes.description_long', 'description_long', 'properties.description_long', 'attributes.longDescription')),\n            // Catégories : préférer attributes.categoryId puis fallback anciens champs\n            categoryId: attr.categoryId || p.categoryId || p.category || props.category || null,\n            subCategoryId: attr.subCategoryId || p.subCategoryId || p.sub_category || props.sub_category || null,\n            // Image principale : attributes.photo ou attributes.mainImage, sinon première image de la galerie\n            mainImage: sanitizeUrl(attr.photo || attr.mainImage || props.photo || (attr.gallery && attr.gallery[0]) || (p.gallery && p.gallery[0]) || null),\n            // Galerie d'images : provenant de attributes.gallery ou anciens champs\n            gallery: ((attr.gallery || p.gallery || props.gallery || p.images || props.images) || [])\n                .map(img => {\n                    if (typeof img === 'string') return sanitizeUrl(img);\n                    if (img && img.url) return sanitizeUrl(img.url);\n                    return null;\n                })\n                .filter(Boolean),\n            price: attr.price || p.price || props.price || null,\n            // Horaires d'ouverture : attributes.opening_hours (snake_case) ou openingHours camelCase\n            openingHours: attr.opening_hours || attr.openingHours || p.opening_hours || props.opening_hours || p.openingHours || props.openingHours || null,\n            openingHoursTable: null, // Sera construit à partir de openingHours si nécessaire\n            reviews: attr.reviews ||\n                     (attr.attributes && attr.attributes.reviews) ||\n                     p.reviews ||\n                     props.reviews ||\n                     (props.attributes && props.attributes.reviews) ||\n                     null,\n            // Tags : préférer attributes.tags\n            tags: (attr.tags || p.tags || props.tags || [])\n                .map(t => escapeHtml(String(t))),\n            // Lien / site web : attributes.link (nouveau) ou anciens champs\n            website: sanitizeUrl(attr.link || attr.website || p.link || props.link || p.website || props.website || null),\n            address: escapeHtml(resolveField(p, 'attributes.address', 'address', 'properties.address')),\n            phone: escapeHtml(resolveField(p, 'attributes.phone', 'phone', 'properties.phone')),\n            email: escapeHtml(resolveField(p, 'attributes.email', 'email', 'properties.email')),\n            services: (attr.services || p.services || props.services || [])\n                .map(s => escapeHtml(String(s)))\n        }\n    };\n\n    // Construire openingHoursTable si openingHours existe\n    if (normalized.attributes.openingHours && Array.isArray(normalized.attributes.openingHours)) {\n        normalized.attributes.openingHoursTable = normalized.attributes.openingHours.map(raw => {\n            if (raw == null) return null;\n            const text = String(raw).trim();\n            if (!text) return null;\n\n            const parts = text.split(':');\n            if (parts.length > 1) {\n                const day = parts.shift().trim();\n                const rest = parts.join(':').trim();\n\n                let open = '';\n                let close = '';\n                const hoursParts = rest.split(/[–-]/);\n                if (hoursParts.length > 1) {\n                    open = hoursParts[0].trim();\n                    close = hoursParts.slice(1).join('–').trim();\n                } else {\n                    open = rest;\n                }\n\n                return { day, open, close };\n            }\n\n            return { day: text, open: '', close: '' };\n        }).filter(Boolean);\n    }\n\n    // ✅ IMPORTANT: Préserver les métadonnées de configuration de couche\n    // Ces champs sont ajoutés par GeoJSON._convertFeatureToPOI\n    if (poi._sidepanelConfig) {\n        normalized._sidepanelConfig = poi._sidepanelConfig;\n    }\n    if (poi._layerConfig) {\n        normalized._layerConfig = poi._layerConfig;\n    }\n\n    return normalized;\n}\n\n/**\n * Extrait la valeur d'un champ depuis un POI normalisé en utilisant la notation pointée.\n *\n * @param {object} normalizedPoi - POI normalisé.\n * @param {string} fieldPath - Chemin du champ (ex: \"title\", \"attributes.gallery\", \"attributes.reviews.rating\").\n * @returns {*} Valeur du champ ou null si introuvable.\n */\nfunction getFieldValue(normalizedPoi, fieldPath) {\n    if (!normalizedPoi || !fieldPath) return null;\n\n    if (Log && typeof Log.debug === 'function') {\n        Log.debug(\"[POI.getFieldValue] Recherche fieldPath:\", fieldPath, \"| POI:\", normalizedPoi.id);\n    }\n\n    const parts = fieldPath.split('.');\n    let value = normalizedPoi;\n\n    for (const part of parts) {\n        if (value == null || typeof value !== 'object') {\n            if (Log && typeof Log.debug === 'function') {\n                Log.debug(\"[POI.getFieldValue] Chemin interrompu à la partie:\", part, \"| value actuelle:\", value);\n            }\n            return null;\n        }\n        value = value[part];\n    }\n\n    if (Log && typeof Log.debug === 'function') {\n        Log.debug(\"[POI.getFieldValue] Valeur trouvée pour\", fieldPath, \":\", value);\n    }\n\n    // Retourner null pour les valeurs vides\n    if (value === undefined || value === '' || (Array.isArray(value) && value.length === 0)) {\n        if (Log && typeof Log.debug === 'function') {\n            Log.debug(\"[POI.getFieldValue] Valeur vide ou tableau vide, retourne null\");\n        }\n        return null;\n    }\n\n    return value;\n}\n\n/**\n * Extrait les coordonnées d'un POI et les normalise en [lat, lng].\n *\n * @param {object} poi - POI brut.\n * @returns {Array<number>|null} Coordonnées [lat, lng] ou null si invalides.\n */\nfunction extractCoordinates(poi) {\n    if (!poi) return null;\n\n    let lat, lng;\n\n    // Format 1: poi.latlng = [lat, lng]\n    if (Array.isArray(poi.latlng) && poi.latlng.length >= 2) {\n        lat = poi.latlng[0];\n        lng = poi.latlng[1];\n    }\n    // Format 2: poi.latlng = {lat, lng}\n    else if (poi.latlng && typeof poi.latlng === 'object') {\n        lat = poi.latlng.lat;\n        lng = poi.latlng.lng || poi.latlng.lon;\n    }\n    // Format 3: poi.lat, poi.lng\n    else if (typeof poi.lat === 'number' && typeof poi.lng === 'number') {\n        lat = poi.lat;\n        lng = poi.lng;\n    }\n    // Format 4: poi.latitude, poi.longitude\n    else if (typeof poi.latitude === 'number' && typeof poi.longitude === 'number') {\n        lat = poi.latitude;\n        lng = poi.longitude;\n    }\n    // Format 5: poi.geometry.coordinates (GeoJSON)\n    else if (poi.geometry && Array.isArray(poi.geometry.coordinates)) {\n        // GeoJSON: [lng, lat] (inversé!)\n        lng = poi.geometry.coordinates[0];\n        lat = poi.geometry.coordinates[1];\n    }\n\n    // Validation\n    if (typeof lat !== 'number' || typeof lng !== 'number' || isNaN(lat) || isNaN(lng)) {\n        return null;\n    }\n\n    // Validation bounds\n    if (lat < -90 || lat > 90 || lng < -180 || lng > 180) {\n        return null;\n    }\n\n    return [lat, lng];\n}\n\n/**\n * Génère un ID unique pour un POI sans ID.\n *\n * @param {object} poi - POI.\n * @returns {string} ID généré.\n */\nfunction generatePoiId(poi) {\n    const timestamp = Date.now();\n    const random = Math.floor(Math.random() * 10000);\n    const label = (poi.title || poi.label || poi.name || 'poi').toLowerCase().replace(/[^a-z0-9]/g, '-').substring(0, 20);\n    return `poi-${label}-${timestamp}-${random}`;\n}\n\n// ========================================\n//   EXPORT\n// ========================================\n\nconst POINormalizers = {\n    normalizePoi,\n    getFieldValue,\n    extractCoordinates,\n    generatePoiId\n};\n\n// ── ESM Export ──\nexport { POINormalizers };\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf UI Content Builder - Helpers\r\n * Fonctions utilitaires partagées pour tous les renderers/assemblers\r\n *\r\n * @module ui/content-builder/helpers\r\n * @version 3.0.0\r\n * @phase Phase 3 - Code Quality\r\n */\r\n\r\nimport { escapeHtml } from '../../security/index.js';\r\nimport { resolveField, compareByOrder, getLog, getActiveProfile } from '../../utils/general-utils.js';\r\n\r\n    // ========================================\r\n    //   DEPENDENCY RESOLUTION (Phase 4 dedup — direct imports)\r\n    // ========================================\r\n\r\n    function getResolveField() {\r\n        return resolveField;\r\n    }\r\n\r\n    function getEscapeHtml() {\r\n        return escapeHtml;\r\n    }\r\n\r\n    // getActiveProfile and getLog imported from general-utils.js (Phase 4 dedup)\r\n\r\n    // ========================================\r\n    //   CONFIG SORTING\r\n    // ========================================\r\n\r\n    /**\r\n     * Sort config array by order property (Phase 4 dedup: delegates to compareByOrder)\r\n     * @param {Array<Object>} config - Config array with optional order property\r\n     * @returns {Array<Object>} Sorted config array\r\n     */\r\n    function sortConfigByOrder(config) {\r\n        if (!Array.isArray(config)) return [];\r\n        return [...config].sort(compareByOrder);\r\n    }\r\n\r\n    // ========================================\r\n    //   BADGE TAXONOMY RESOLUTION\r\n    // ========================================\r\n\r\n    /**\r\n     * Resolve string|number} value - Raw field value\r\n     * @returns {string} Resolved label or original value\r\n     *\r\n     * @typedef {Object} POI\r\n     * @property {string} id - POI identifier\r\n     * @property {string} title - POI title\r\n     * @property {Object} [attributes] - POI attributes\r\n     * @property {string} [attributes.categoryId] - Category identifier\r\n     * @property {string} [attributes.subCategoryId] - Subcategory identifier (duplicated 3 times)\r\n     *\r\n     * @param {Object} poi - POI data\r\n     * @param {string} field - Field path (e.g., 'attributes.categoryId')\r\n     * @param {any} value - Raw field value\r\n     * @returns {string} Resolved label or original value\r\n     *\r\n     * @example\r\n     * const label = resolveBadgeLabel(\r\n     *   { attributes: { categoryId: 'restaurant' } },\r\n     *   'attributes.categoryId',\r\n     *   'restaurant'\r\n     * );\r\n     * // Returns: \"Restaurants\" (from taxonomy)\r\n     */\r\n    function resolveBadgeLabel(poi, field, value) {\r\n        const profile = getActiveProfile();\r\n        const taxonomy = profile?.taxonomy;\r\n        if (!taxonomy) return value;\r\n\r\n        const attrs = poi.attributes || {};\r\n\r\n        // Subcategory resolution\r\n        if (field.includes('subCategoryId')) {\r\n            const catId = attrs.categoryId || attrs.category;\r\n            const catData = taxonomy.categories?.[catId];\r\n            const subCatData = catData?.subcategories?.[value];\r\n            return subCatData?.label || value;\r\n        }\r\n\r\n        // Category resolution\r\n        if (field.includes('categoryId')) {\r\n            const catData = taxonomy.categories?.[value];\r\n            return catData?.label || value;\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    // ========================================\r\n    //   DEFAULT TITLE EXTRACTION\r\n    // ========================================\r\n\r\n    /**\r\n     * Extract default title from POI (various field names)\r\n     * Extracted from popup/tooltip/panel renderers (duplicated 3 times)\r\n     *\r\n     * @param {Object} poi - POI data\r\n     * @returns {string} POI title or 'Sans titre'\r\n     *\r\n     * @example\r\n     * getDefaultTitle({ title: 'Restaurant ABC' }); // 'Restaurant ABC'\r\n     * getDefaultTitle({ label: 'Musée' }); // 'Musée'\r\n     * getDefaultTitle({}); // 'Sans titre'\r\n     */\r\n    function getDefaultTitle(poi) {\r\n        if (!poi) return 'Sans titre';\r\n\r\n        const resolveField = getResolveField();\r\n\r\n        return poi.title ||\r\n               poi.label ||\r\n               poi.name ||\r\n               resolveField(poi, 'attributes.name', 'attributes.nom', 'properties.name', 'properties.nom') ||\r\n               'Sans titre';\r\n    }\r\n\r\n    // ========================================\r\n    //   DEBUG LOGGING\r\n    // ========================================\r\n\r\n    // For testing purposes only\r\n    let _testWindow = null;\r\n\r\n    /**\r\n     * Check if debug mode is enabled for content builder\r\n     * Extracted from assemblers.js (repeated pattern)\r\n     *\r\n     * @param {string} [context='popup'] - Context identifier (popup/tooltip/panel)\r\n     * @returns {boolean}\r\n     */\r\n    function isDebugEnabled(context = 'popup') {\r\n        const win = _testWindow || (typeof window !== 'undefined' ? window : null);\r\n        if (!win) return false;\r\n\r\n        const debugFlags = {\r\n            popup: win.__GEOLEAF_DEBUG_POPUP__,\r\n            tooltip: win.__GEOLEAF_DEBUG_TOOLTIP__,\r\n            panel: win.__GEOLEAF_DEBUG_PANEL__\r\n        };\r\n\r\n        return !!debugFlags[context];\r\n    }\r\n\r\n    /**\r\n     * Log debug message if debug enabled\r\n     * @param {string} context - Context identifier\r\n     * @param {string} message - Message to log\r\n     * @param {*} [data] - Optional data to log\r\n     */\r\n    function debugLog(context, message, data) {\r\n        if (!isDebugEnabled(context)) return;\r\n\r\n        const log = getLog();\r\n        if (data !== undefined) {\r\n            log.warn(`[ContentBuilder.${context}] ${message}`, data);\r\n        } else {\r\n            log.warn(`[ContentBuilder.${context}] ${message}`);\r\n        }\r\n    }\r\n\r\n    // ========================================\r\n    //   FIELD VALUE VALIDATION\r\n    // ========================================\r\n\r\n    /**\r\n     * Check if field value is empty/invalid\r\n     * @param {*} value - Value to check\r\n     * @param {Object} [options] - Validation options\r\n     * @param {boolean} [options.allowZero=true] - Allow 0 as valid value\r\n     * @param {boolean} [options.allowEmptyArray=false] - Allow [] as valid value\r\n     * @param {boolean} [options.allowEmptyString=false] - Allow '' as valid value\r\n     * @returns {boolean} True if value is empty/invalid\r\n     */\r\n    function isEmptyValue(value, options = {}) {\r\n        const {\r\n            allowZero = true,\r\n            allowEmptyArray = false,\r\n            allowEmptyString = false\r\n        } = options;\r\n\r\n        // Null/undefined\r\n        if (value === null || value === undefined) return true;\r\n\r\n        // Zero\r\n        if (value === 0) return !allowZero;\r\n\r\n        // Empty string\r\n        if (value === '') return !allowEmptyString;\r\n\r\n        // Empty array\r\n        if (Array.isArray(value) && value.length === 0) return !allowEmptyArray;\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Get field value from POI and validate\r\n     * @param {Object} poi - POI data\r\n     * @param {string} field - Field path\r\n     * @param {Object} [options] - Validation options\r\n     * @returns {*|null} Field value or null if invalid\r\n     */\r\n    function getValidFieldValue(poi, field, options = {}) {\r\n        const resolveField = getResolveField();\r\n        const value = resolveField(poi, field);\r\n\r\n        return isEmptyValue(value, options) ? null : value;\r\n    }\r\n\r\n    // ========================================\r\n    //   HTML BUILDER UTILITIES\r\n    // ========================================\r\n\r\n    /**\r\n     * Wrap content in div with className\r\n     * @param {string} content - HTML content\r\n     * @param {string} className - CSS class name\r\n     * @returns {string} Wrapped HTML\r\n     */\r\n    function wrapInDiv(content, className) {\r\n        return `<div class=\"${className}\">${content}</div>`;\r\n    }\r\n\r\n    /**\r\n     * Create badge HTML element\r\n     * @param {string} text - Badge text\r\n     * @param {string} [style=''] - Inline style attribute\r\n     * @returns {string} Badge HTML\r\n     */\r\n    function createBadge(text, style = '') {\r\n        const escapeHtml = getEscapeHtml();\r\n        const escapedText = escapeHtml(text);\r\n        const styleAttr = style ? ` style=\"${style}\"` : '';\r\n        return `<span class=\"gl-poi-badge\"${styleAttr}>${escapedText}</span>`;\r\n    }\r\n\r\n    /**\r\n     * Create image HTML element\r\n     * @param {string} src - Image source URL\r\n     * @param {string} alt - Alt text\r\n     * @param {string} [className='gl-poi-popup__photo'] - CSS class name\r\n     * @returns {string} Image HTML\r\n     */\r\n    function createImage(src, alt, className = 'gl-poi-popup__photo') {\r\n        const escapeHtml = getEscapeHtml();\r\n        const escapedSrc = escapeHtml(src);\r\n        const escapedAlt = escapeHtml(alt);\r\n        return `<div class=\"${className}\"><img src=\"${escapedSrc}\" alt=\"${escapedAlt}\" loading=\"lazy\" /></div>`;\r\n    }\r\n\r\n    /**\r\n     * Create link HTML element\r\n     * @param {string} href - Link URL\r\n     * @param {string} text - Link text\r\n     * @param {Object} [options] - Link options\r\n     * @param {boolean} [options.external=false] - Open in new tab\r\n     * @param {string} [options.className='gl-poi-link'] - CSS class name\r\n     * @returns {string} Link HTML\r\n     */\r\n    function createLink(href, text, options = {}) {\r\n        const escapeHtml = getEscapeHtml();\r\n        const {\r\n            external = false,\r\n            className = 'gl-poi-link'\r\n        } = options;\r\n\r\n        const escapedHref = escapeHtml(href);\r\n        const escapedText = escapeHtml(text);\r\n        const targetAttr = external ? ' target=\"_blank\" rel=\"noopener noreferrer\"' : '';\r\n\r\n        return `<a href=\"${escapedHref}\" class=\"${className}\"${targetAttr}>${escapedText}</a>`;\r\n    }\r\n\r\n    // ========================================\r\n    //   EXPORTS\r\n    // ========================================\r\n\r\n    const Helpers = {\r\n        // Dependency resolution\r\n        getResolveField,\r\n        getEscapeHtml,\r\n        getActiveProfile,\r\n        getLog,\r\n\r\n        // Config sorting\r\n        sortConfigByOrder,\r\n\r\n        // Badge resolution\r\n        resolveBadgeLabel,\r\n\r\n        // Title extraction\r\n        getDefaultTitle,\r\n\r\n        // Debug logging\r\n        isDebugEnabled,\r\n        debugLog,\r\n\r\n        // Field validation\r\n        isEmptyValue,\r\n        getValidFieldValue,\r\n\r\n        // HTML builders\r\n        wrapInDiv,\r\n        createBadge,\r\n        createImage,\r\n        createLink,\r\n\r\n        // Test utilities (only in test environments)\r\n        __setDebugWindow: (win) => { _testWindow = win; }\r\n    };\r\n\r\n// ── ESM Export ──\r\nexport { Helpers };\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\"use strict\";\r\n\r\n/**\r\n * GeoLeaf Content Builder - Core Module\r\n *\r\n * Centralise les fonctions utilitaires, validateurs et résolution de badges\r\n * pour tous les renderers du Content Builder.\r\n *\r\n * @module ui/content-builder/core\r\n * @author GeoLeaf Team\r\n * @version 1.0.0\r\n * @since Sprint 4.5 (Janvier 2026)\r\n *\r\n * @example\r\n * // Accès au module Core\r\n * const Core = GeoLeaf._ContentBuilder.Core;\r\n *\r\n * // Validation image URL\r\n * const imageUrl = Core.validateImageUrl('https://example.com/photo.jpg');\r\n *\r\n * // Résolution badge taxonomie\r\n * const badge = Core.resolveBadge(poi, 'attributes.categoryId', 'default');\r\n *\r\n * // Formatage coordonnées\r\n * const coords = Core.formatCoordinates(45.7578, 4.8320);\r\n * // Retourne: \"45.757800, 4.832000\"\r\n */\r\nimport { escapeHtml, validateUrl } from '../../security/index.js';\r\nimport { resolveField, getLog, getActiveProfile } from '../../utils/general-utils.js';\r\nimport { getColorsFromLayerStyle } from '../../helpers/style-resolver.js';\r\n\r\n// ========================================\r\n//   DÉPENDANCES & HELPERS\r\n// ========================================\r\n\r\n/**\r\n * Phase 4 dedup: resolveField direct import wrapper\r\n * @returns {Function}\r\n */\r\nfunction getResolveField() {\r\n    return resolveField;\r\n}\r\n\r\n/**\r\n * Phase 4 dedup: escapeHtml direct import wrapper\r\n * @returns {Function}\r\n */\r\nfunction getEscapeHtml() {\r\n    return escapeHtml;\r\n}\r\n\r\n// getActiveProfile and getLog imported from general-utils.js (Phase 4 dedup)\r\n\r\n// ========================================\r\n//   VALIDATORS\r\n// ========================================\r\n\r\n/**\r\n * Valide une URL d'image en vérifiant les protocoles autorisés et la structure.\r\n *\r\n * Utilise GeoLeaf.Security.validateUrl si disponible, sinon applique une validation\r\n * basique avec whitelist de protocoles (https://, http://, data:image//, /, ./).\r\n *\r\n * @function validateImageUrl\r\n * @param {string} url - URL à valider\r\n * @returns {string|null} URL valide (trimmed) ou null si invalide\r\n *\r\n * @example\r\n * // URL HTTPS valide\r\n * const url1 = validateImageUrl('https://example.com/photo.jpg');\r\n * // Retourne: 'https://example.com/photo.jpg'\r\n *\r\n * @example\r\n * // Data URL valide\r\n * const url2 = validateImageUrl('data:image/png;base64,iVBORw0KG...');\r\n * // Retourne: 'data:image/png;base64,iVBORw0KG...'\r\n *\r\n * @example\r\n * // Chemin relatif valide\r\n * const url3 = validateImageUrl('/images/photo.jpg');\r\n * // Retourne: '/images/photo.jpg'\r\n *\r\n * @example\r\n * // URL invalide (protocole interdit)\r\n * const url4 = validateImageUrl('javascript:alert(1)');\r\n * // Retourne: null\r\n */\r\nfunction validateImageUrl(url) {\r\n    if (!url || typeof url !== 'string') return null;\r\n\r\n    // Utiliser le validator de GeoLeaf.Security si disponible\r\n    try {\r\n        return validateUrl(url);\r\n    } catch (e) {\r\n        getLog().warn('[ContentBuilder.Core] URL image invalide:', e.message);\r\n        return null;\r\n    }\r\n\r\n    // Fallback : validation basique\r\n    const trimmed = url.trim();\r\n    if (/^https?:\\/\\//i.test(trimmed) ||\r\n        /^data:image\\//i.test(trimmed) ||\r\n        trimmed.startsWith('/') ||\r\n        trimmed.startsWith('./') ||\r\n        trimmed.startsWith('../')) {\r\n        return trimmed;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n/**\r\n * Valide des coordonnées géographiques (latitude, longitude) avec support\r\n * de plusieurs formats d'entrée.\r\n *\r\n * Supporte:\r\n * - Format array: [lat, lng]\r\n * - Format objet: {lat: number, lng: number}\r\n * - Validation limites: lat ∈ [-90, 90], lng ∈ [-180, 180]\r\n *\r\n * @function validateCoordinates\r\n * @param {Array<number>|Object|*} value - Coordonnées à valider\r\n * @returns {{lat: number, lng: number}|null} Coordonnées valides ou null\r\n *\r\n * @example\r\n * // Format array\r\n * const coords1 = validateCoordinates([45.7578, 4.8320]);\r\n * // Retourne: { lat: 45.7578, lng: 4.8320 }\r\n *\r\n * @example\r\n * // Format objet\r\n * const coords2 = validateCoordinates({ lat: 45.7578, lng: 4.8320 });\r\n * // Retourne: { lat: 45.7578, lng: 4.8320 }\r\n *\r\n * @example\r\n * // Coordonnées invalides (hors limites)\r\n * const coords3 = validateCoordinates([95, 200]);\r\n * // Retourne: null (lat > 90, lng > 180)\r\n *\r\n * @example\r\n * // Format invalide\r\n * const coords4 = validateCoordinates('45.7578, 4.8320');\r\n * // Retourne: null (string non supporté)\r\n */\r\nfunction validateCoordinates(value) {\r\n    if (value == null) return null;\r\n\r\n    let lat, lng;\r\n\r\n    // Format array [lat, lng]\r\n    if (Array.isArray(value) && value.length >= 2) {\r\n        lat = parseFloat(value[0]);\r\n        lng = parseFloat(value[1]);\r\n    }\r\n    // Format objet {lat, lng}\r\n    else if (typeof value === 'object' && value.lat !== undefined && value.lng !== undefined) {\r\n        lat = parseFloat(value.lat);\r\n        lng = parseFloat(value.lng);\r\n    }\r\n    // Format invalide\r\n    else {\r\n        return null;\r\n    }\r\n\r\n    // Validation des valeurs\r\n    if (isNaN(lat) || isNaN(lng)) return null;\r\n    if (lat < -90 || lat > 90) return null;\r\n    if (lng < -180 || lng > 180) return null;\r\n\r\n    return { lat, lng };\r\n}\r\n\r\n/**\r\n * Valide une valeur numérique en la convertissant si nécessaire.\r\n *\r\n * Accepte number, string convertible en number.\r\n * Rejette NaN, null, undefined, chaînes vides.\r\n *\r\n * @function validateNumber\r\n * @param {number|string|*} value - Valeur à valider\r\n * @returns {number|null} Nombre valide ou null si invalide\r\n *\r\n * @example\r\n * // Number direct\r\n * const num1 = validateNumber(42.5);\r\n * // Retourne: 42.5\r\n *\r\n * @example\r\n * // String convertible\r\n * const num2 = validateNumber('42.5');\r\n * // Retourne: 42.5\r\n *\r\n * @example\r\n * // Valeurs invalides\r\n * validateNumber(null);      // null\r\n * validateNumber('');        // null\r\n * validateNumber('abc');     // null\r\n * validateNumber(NaN);       // null\r\n * validateNumber(undefined); // null\r\n */\r\nfunction validateNumber(value) {\r\n    if (value == null || value === '') return null;\r\n    const num = typeof value === 'number' ? value : parseFloat(value);\r\n    return isNaN(num) ? null : num;\r\n}\r\n\r\n/**\r\n * Valide un rating (note) dans l'échelle 0-5.\r\n *\r\n * Utilise validateNumber puis vérifie que la valeur est dans [0, 5].\r\n * Utile pour les systèmes de notation 5 étoiles.\r\n *\r\n * @function validateRating\r\n * @param {number|string|*} value - Rating à valider\r\n * @returns {number|null} Rating valide ∈ [0, 5] ou null si invalide\r\n *\r\n * @example\r\n * // Rating valide\r\n * const rating1 = validateRating(4.5);\r\n * // Retourne: 4.5\r\n *\r\n * @example\r\n * // Rating valide (limites)\r\n * const rating2 = validateRating(0);   // 0 (valide)\r\n * const rating3 = validateRating(5);   // 5 (valide)\r\n *\r\n * @example\r\n * // Rating invalide (hors limites)\r\n * const rating4 = validateRating(-1);  // null (< 0)\r\n * const rating5 = validateRating(6);   // null (> 5)\r\n * const rating6 = validateRating('excellent'); // null (non numérique)\r\n */\r\nfunction validateRating(value) {\r\n    const num = validateNumber(value);\r\n    if (num === null) return null;\r\n    if (num < 0 || num > 5) return null;\r\n    return num;\r\n}\r\n\r\n// ========================================\r\n//   BADGE RESOLVER (Taxonomie + Styles)\r\n// ========================================\r\n\r\n/**\r\n * Résout un badge en appliquant la taxonomie et les styleRules de la couche.\r\n *\r\n * Processus:\r\n * 1. Récupère la valeur via resolveField (ex: categoryId)\r\n * 2. Cherche le label dans taxonomy.categories ou subcategories\r\n * 3. Applique les couleurs depuis GeoLeaf.Helpers.StyleResolver\r\n * 4. Retourne { displayValue, style } pour affichage HTML\r\n *\r\n * Gère 2 types de champs:\r\n * - categoryId: résolution catégorie principale\r\n * - subCategoryId: résolution sous-catégorie (avec parent categoryId)\r\n *\r\n * @function resolveBadge\r\n * @param {Object} poi - POI avec attributs et _layerConfig\r\n * @param {Object} poi.attributes - Attributs du POI (categoryId, subCategoryId, etc.)\r\n * @param {Object} poi._layerConfig - Configuration de la couche (styleRules)\r\n * @param {string} field - Chemin du champ (ex: 'attributes.categoryId')\r\n * @param {string} [variant] - Variante du badge (non utilisé actuellement)\r\n * @returns {{displayValue: string, style: string}} Badge résolu\r\n * @returns {string} returns.displayValue - Label du badge (taxonomie ou valeur brute)\r\n * @returns {string} returns.style - CSS inline (background-color, border-color)\r\n *\r\n * @example\r\n * // Résolution catégorie principale\r\n * const badge1 = resolveBadge(\r\n *   { attributes: { categoryId: 'restaurant' }, _layerConfig: { id: 'pois' } },\r\n *   'attributes.categoryId'\r\n * );\r\n * // Retourne: {\r\n * //   displayValue: 'Restaurant',\r\n * //   style: 'background-color: #e74c3c; border-color: #c0392b;'\r\n * // }\r\n *\r\n * @example\r\n * // Résolution sous-catégorie\r\n * const badge2 = resolveBadge(\r\n *   { attributes: { categoryId: 'restaurant', subCategoryId: 'gastronomique' } },\r\n *   'attributes.subCategoryId'\r\n * );\r\n * // Retourne: { displayValue: 'Gastronomique', style: '...' }\r\n *\r\n * @example\r\n * // Valeur non mappée dans taxonomie\r\n * const badge3 = resolveBadge(\r\n *   { attributes: { categoryId: 'unknown' } },\r\n *   'attributes.categoryId'\r\n * );\r\n * // Retourne: { displayValue: 'unknown', style: '' }\r\n */\r\nfunction resolveBadge(poi, field, variant) {\r\n    const resolveField = getResolveField();\r\n    const value = resolveField(poi, field);\r\n\r\n    if (value == null || value === '') {\r\n        return { displayValue: '', style: '' };\r\n    }\r\n\r\n    const profile = getActiveProfile();\r\n    const taxonomy = profile?.taxonomy;\r\n    let displayValue = String(value);\r\n    let style = '';\r\n\r\n    // Pas de taxonomie : retour simple\r\n    if (!taxonomy || !field) {\r\n        return { displayValue, style };\r\n    }\r\n\r\n    const attrs = poi.attributes || {};\r\n\r\n    // Phase 4 dedup: factored taxonomy label resolution\r\n    if (field.includes('subCategoryId')) {\r\n        const catId = attrs.categoryId || attrs.category;\r\n        const catData = taxonomy.categories?.[catId];\r\n        const subCatData = catData?.subcategories?.[value];\r\n        if (subCatData?.label) displayValue = subCatData.label;\r\n    } else if (field.includes('categoryId')) {\r\n        const catData = taxonomy.categories?.[value];\r\n        if (catData?.label) displayValue = catData.label;\r\n    }\r\n\r\n    // Phase 4 dedup: single color resolution block (was duplicated for cat + subcat)\r\n    if (getColorsFromLayerStyle && poi._layerConfig) {\r\n        const styleColors = getColorsFromLayerStyle(poi, poi._layerConfig.id);\r\n        if (styleColors) {\r\n            if (styleColors.fillColor) style += 'background-color: ' + styleColors.fillColor + ';';\r\n            if (styleColors.color) style += 'border-color: ' + styleColors.color + ';';\r\n        }\r\n    }\r\n\r\n    return { displayValue, style };\r\n}\r\n\r\n/**\r\n * Résout un badge pour tooltip (texte uniquement, sans styles).\r\n *\r\n * Version simplifiée de resolveBadge:\r\n * - Retourne uniquement le texte (displayValue)\r\n * - Pas de styles CSS\r\n * - Optimisé pour tooltips HTML limités\r\n *\r\n * Supporte également categoryId et subCategoryId avec résolution taxonomie.\r\n *\r\n * @function resolveBadgeTooltip\r\n * @param {Object} poi - POI avec attributs\r\n * @param {Object} poi.attributes - Attributs du POI\r\n * @param {string} field - Chemin du champ (ex: 'attributes.categoryId')\r\n * @returns {string} Label du badge (ou valeur brute si pas de taxonomie)\r\n *\r\n * @example\r\n * // Résolution catégorie avec taxonomie\r\n * const text1 = resolveBadgeTooltip(\r\n *   { attributes: { categoryId: 'restaurant' } },\r\n *   'attributes.categoryId'\r\n * );\r\n * // Retourne: 'Restaurant' (label taxonomie)\r\n *\r\n * @example\r\n * // Résolution sous-catégorie\r\n * const text2 = resolveBadgeTooltip(\r\n *   { attributes: { categoryId: 'restaurant', subCategoryId: 'gastronomique' } },\r\n *   'attributes.subCategoryId'\r\n * );\r\n * // Retourne: 'Gastronomique'\r\n *\r\n * @example\r\n * // Valeur vide\r\n * const text3 = resolveBadgeTooltip(\r\n *   { attributes: {} },\r\n *   'attributes.unknownField'\r\n * );\r\n * // Retourne: ''\r\n */\r\n/**\r\n * Phase 4 dedup: resolveBadgeTooltip delegates to resolveBadge (text only)\r\n */\r\nfunction resolveBadgeTooltip(poi, field) {\r\n    const result = resolveBadge(poi, field);\r\n    return result.displayValue;\r\n}\r\n\r\n// ========================================\r\n//   UTILITAIRES DE FORMATAGE\r\n// ========================================\r\n\r\n/**\r\n * Formate un nombre avec la locale française (séparateurs FR).\r\n *\r\n * Utilise toLocaleString('fr-FR'):\r\n * - Séparateur de milliers: espace (\\u202f)\r\n * - Séparateur de décimales: virgule\r\n *\r\n * @function formatNumber\r\n * @param {number} num - Nombre à formater\r\n * @returns {string} Nombre formaté avec conventions françaises\r\n *\r\n * @example\r\n * // Entier\r\n * const str1 = formatNumber(1234567);\r\n * // Retourne: '1\\u202f234\\u202f567'\r\n *\r\n * @example\r\n * // Décimal\r\n * const str2 = formatNumber(1234.56);\r\n * // Retourne: '1\\u202f234,56'\r\n *\r\n * @example\r\n * // Petit nombre\r\n * const str3 = formatNumber(42);\r\n * // Retourne: '42'\r\n */\r\nfunction formatNumber(num) {\r\n    return num.toLocaleString('fr-FR');\r\n}\r\n\r\n/**\r\n * Formate des coordonnées géographiques en chaîne \"lat, lng\".\r\n *\r\n * Utilise toFixed pour contrôler la précision décimale.\r\n * Précision recommandée: 6 décimales (~10cm de précision).\r\n *\r\n * @function formatCoordinates\r\n * @param {number} lat - Latitude (∈ [-90, 90])\r\n * @param {number} lng - Longitude (∈ [-180, 180])\r\n * @param {number} [precision=6] - Nombre de décimales (1-15)\r\n * @returns {string} Coordonnées formatées \"lat, lng\"\r\n *\r\n * @example\r\n * // Précision par défaut (6 décimales)\r\n * const str1 = formatCoordinates(45.7578137, 4.8320114);\r\n * // Retourne: '45.757814, 4.832011'\r\n *\r\n * @example\r\n * // Haute précision (8 décimales)\r\n * const str2 = formatCoordinates(45.7578137, 4.8320114, 8);\r\n * // Retourne: '45.75781370, 4.83201140'\r\n *\r\n * @example\r\n * // Faible précision (2 décimales)\r\n * const str3 = formatCoordinates(45.7578137, 4.8320114, 2);\r\n * // Retourne: '45.76, 4.83'\r\n */\r\nfunction formatCoordinates(lat, lng, precision = 6) {\r\n    return lat.toFixed(precision) + ', ' + lng.toFixed(precision);\r\n}\r\n\r\n/**\r\n * Formate un rating (note) au format \"X.X/5\".\r\n *\r\n * Utilise toFixed pour afficher le nombre de décimales souhaité.\r\n * Compatible avec les systèmes de notation 5 étoiles.\r\n *\r\n * @function formatRating\r\n * @param {number} rating - Note à formater (∈ [0, 5])\r\n * @param {number} [precision=1] - Nombre de décimales (0-2)\r\n * @returns {string} Rating formaté (ex: \"4.5/5\", \"3/5\")\r\n *\r\n * @example\r\n * // Précision par défaut (1 décimale)\r\n * const str1 = formatRating(4.567);\r\n * // Retourne: '4.6/5'\r\n *\r\n * @example\r\n * // Sans décimale\r\n * const str2 = formatRating(4.567, 0);\r\n * // Retourne: '5/5'\r\n *\r\n * @example\r\n * // 2 décimales\r\n * const str3 = formatRating(4.567, 2);\r\n * // Retourne: '4.57/5'\r\n *\r\n * @example\r\n * // Note parfaite\r\n * const str4 = formatRating(5);\r\n * // Retourne: '5.0/5'\r\n */\r\nfunction formatRating(rating, precision = 1) {\r\n    return rating.toFixed(precision) + '/5';\r\n}\r\n\r\n// ========================================\r\n//   EXPORT\r\n// ========================================\r\n\r\nconst ContentBuilderCore = {\r\n    // Helpers dépendances\r\n    getResolveField,\r\n    getEscapeHtml,\r\n    getActiveProfile,\r\n    getLog,\r\n\r\n    // Validators\r\n    validateImageUrl,\r\n    validateCoordinates,\r\n    validateNumber,\r\n    validateRating,\r\n\r\n    // Badge resolver\r\n    resolveBadge,\r\n    resolveBadgeTooltip,\r\n\r\n    // Formatters\r\n    formatNumber,\r\n    formatCoordinates,\r\n    formatRating\r\n};\r\n\r\ngetLog().info('[GeoLeaf._ContentBuilder.Core] Module Core chargé - Helpers + Validators + Badge resolver');\r\n\r\nexport { ContentBuilderCore };\r\n","\"use strict\";\r\n\r\n/**\r\n * GeoLeaf UI Content Builder - Shared Renderers\r\n * Fonctions de rendu individuelles réutilisables par tous les contextes.\r\n *\r\n * @module ui/content-builder/renderers-shared\r\n * @version 2.0.0\r\n * @phase Phase 3 - UI Refactoring\r\n */\r\nimport { escapeHtml, validateUrl } from '../../security/index.js';\r\nimport { Config } from '../../config/config-primitives.js';\r\nimport { resolveField, getLog, getActiveProfile } from '../../utils/general-utils.js';\r\nimport { formatNumber } from '../../utils/formatters.js';\r\nimport { getColorsFromLayerStyle } from '../../helpers/style-resolver.js';\r\n\r\n// ========================================\r\n//   UTILITAIRES DE DÉPENDANCES\r\n// ========================================\r\n\r\n/**\r\n * Phase 4 dedup: resolveField direct import wrapper\r\n * @returns {Function}\r\n */\r\nfunction getResolveField() {\r\n    return resolveField;\r\n}\r\n\r\n/**\r\n * Phase 4 dedup: escapeHtml direct import wrapper\r\n * @returns {Function}\r\n */\r\nfunction getEscapeHtml() {\r\n    return escapeHtml;\r\n}\r\n\r\n// getActiveProfile and getLog imported from general-utils.js (Phase 4 dedup)\r\n\r\n// ========================================\r\n//   RENDERERS PAR TYPE\r\n// ========================================\r\n\r\n/**\r\n * Construit un élément de type \"text\"\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {Object} options - Options de rendu (context: 'popup'|'tooltip'|'panel')\r\n * @returns {string} HTML\r\n */\r\nfunction renderText(poi, config, options = {}) {\r\n    const resolveField = getResolveField();\r\n    const escapeHtml = getEscapeHtml();\r\n\r\n    const value = resolveField(poi, config.field);\r\n    if (value == null || value === '') return '';\r\n\r\n    const escaped = escapeHtml(String(value));\r\n    const variant = config.variant || 'default';\r\n    const context = options.context || 'popup';\r\n\r\n    if (variant === 'title') {\r\n        // Titre avec éventuelle icône\r\n        let iconHtml = '';\r\n        if (options.includeIcon && options.resolveCategoryDisplay) {\r\n            const displayConfig = options.resolveCategoryDisplay(poi);\r\n            if (displayConfig && displayConfig.iconId) {\r\n                const iconsConfig = (Config && typeof Config.getIconsConfig === \"function\")\r\n                    ? Config.getIconsConfig()\r\n                    : null;\r\n                const iconPrefix = (iconsConfig && iconsConfig.symbolPrefix) || 'gl-poi-cat-';\r\n                const iconIdNormalized = String(displayConfig.iconId).trim().toLowerCase().replace(/\\s+/g, '-');\r\n                const symbolId = iconPrefix + iconIdNormalized;\r\n                iconHtml = '<svg class=\"gl-poi-popup__icon\" aria-hidden=\"true\" focusable=\"false\" viewBox=\"0 0 24 24\">' +\r\n                    '<circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"' + (displayConfig.colorFill || '#666') + '\" stroke=\"' + (displayConfig.colorStroke || '#222') + '\" stroke-width=\"1.5\"/>' +\r\n                    '<svg x=\"4\" y=\"4\" width=\"16\" height=\"16\" viewBox=\"0 0 32 32\"><use href=\"#' + symbolId + '\" style=\"color: #ffffff\"/></svg>' +\r\n                    '</svg>';\r\n            }\r\n        }\r\n        return '<h3 class=\"gl-poi-popup__title\">' + iconHtml + '<span class=\"gl-poi-popup__title-text\">' + escaped + '</span></h3>';\r\n    }\r\n\r\n    if (variant === 'short') {\r\n        return '<p class=\"gl-poi-popup__desc\">' + escaped + '</p>';\r\n    }\r\n\r\n    if (variant === 'long' || variant === 'paragraph') {\r\n        return '<p class=\"gl-poi-popup__desc gl-poi-popup__desc--long\">' + escaped + '</p>';\r\n    }\r\n\r\n    return '<p class=\"gl-poi-popup__desc\">' + escaped + '</p>';\r\n}\r\n\r\n/**\r\n * Construit un élément de type \"longtext\"\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {Object} options - Options de rendu\r\n * @returns {string} HTML\r\n */\r\nfunction renderLongtext(poi, config, options = {}) {\r\n    const resolveField = getResolveField();\r\n    const escapeHtml = getEscapeHtml();\r\n\r\n    const value = resolveField(poi, config.field);\r\n    if (value == null || value === '') return '';\r\n\r\n    const escaped = escapeHtml(String(value));\r\n    return '<div class=\"gl-content__longtext\"><p>' + escaped.replace(/\\n/g, '</p><p>') + '</p></div>';\r\n}\r\n\r\n/**\r\n * Construit un élément de type \"number\"\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {Object} options - Options de rendu\r\n * @returns {string} HTML\r\n */\r\nfunction renderNumber(poi, config, options = {}) {\r\n    const resolveField = getResolveField();\r\n    const escapeHtml = getEscapeHtml();\r\n\r\n    const value = resolveField(poi, config.field);\r\n    if (value == null || value === '') return '';\r\n\r\n    const numValue = typeof value === 'number' ? value : parseFloat(value);\r\n    if (isNaN(numValue)) return '';\r\n\r\n    // Formater le nombre\r\n    if (formatNumber) {\r\n        return formatNumber(numValue);\r\n    }\r\n    const formatted = numValue.toLocaleString('fr-FR');\r\n    const label = config.label ? escapeHtml(config.label) : '';\r\n    const variant = config.variant || 'default';\r\n\r\n    if (variant === 'stat') {\r\n        return '<div class=\"gl-content__stat\">' +\r\n            (label ? '<span class=\"gl-content__stat-label\">' + label + '</span>' : '') +\r\n            '<span class=\"gl-content__stat-value\">' + formatted + '</span>' +\r\n            '</div>';\r\n    }\r\n\r\n    return '<p class=\"gl-content__number\">' +\r\n        (label ? '<strong>' + label + ':</strong> ' : '') +\r\n        formatted + '</p>';\r\n}\r\n\r\n/**\r\n * Construit un élément de type \"metric\" (KPI, statistiques avec suffixe/préfixe)\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {string} [config.field] - Chemin du champ\r\n * @param {string} [config.label] - Label optionnel\r\n * @param {string} [config.prefix] - Préfixe (ex: \"+\", \"-\")\r\n * @param {string} [config.suffix] - Suffixe (ex: \"%\", \"€\", \" km²\")\r\n * @param {Object} options - Options de rendu\r\n * @returns {string} HTML\r\n */\r\nfunction renderMetric(poi, config, options = {}) {\r\n    const resolveField = getResolveField();\r\n    const escapeHtml = getEscapeHtml();\r\n\r\n    const value = resolveField(poi, config.field);\r\n    if (value == null || value === '') return '';\r\n\r\n    const numValue = typeof value === 'number' ? value : parseFloat(value);\r\n    if (isNaN(numValue)) return '';\r\n\r\n    const formatted = numValue.toLocaleString('fr-FR');\r\n    const label = config.label ? escapeHtml(config.label) : '';\r\n    const suffix = config.suffix ? escapeHtml(config.suffix) : '';\r\n    const prefix = config.prefix ? escapeHtml(config.prefix) : '';\r\n\r\n    return '<p class=\"gl-content__metric\">' +\r\n        (label ? '<strong>' + label + ':</strong> ' : '') +\r\n        prefix + formatted + suffix + '</p>';\r\n}\r\n\r\n/**\r\n * Construit un élément de type \"rating\" (note avec étoiles)\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {Object} options - Options de rendu\r\n * @returns {string} HTML\r\n */\r\nfunction renderRating(poi, config, options = {}) {\r\n    const resolveField = getResolveField();\r\n    const escapeHtml = getEscapeHtml();\r\n\r\n    const value = resolveField(poi, config.field);\r\n    if (value == null || value === '') return '';\r\n\r\n    const rating = typeof value === 'number' ? value : parseFloat(value);\r\n    if (isNaN(rating)) return '';\r\n\r\n    const label = config.label ? escapeHtml(config.label) : '';\r\n    const variant = config.variant || 'default';\r\n    const context = options.context || 'popup';\r\n\r\n    // Affichage des étoiles (sur 5)\r\n    let starsHtml = '<span class=\"gl-rating__stars\">';\r\n    for (let i = 1; i <= 5; i++) {\r\n        const isFilled = i <= Math.round(rating);\r\n        starsHtml += '<span class=\"gl-rating__star' + (isFilled ? ' gl-rating__star--filled' : '') + '\">★</span>';\r\n    }\r\n    starsHtml += '</span>';\r\n\r\n    // Affichage de la note numérique\r\n    const numericValue = rating.toFixed(1);\r\n\r\n    if (variant === 'stat') {\r\n        return '<div class=\"gl-rating gl-rating--stat\">' +\r\n            (label ? '<span class=\"gl-rating__label\">' + label + '</span>' : '') +\r\n            '<div class=\"gl-rating__content\">' +\r\n            starsHtml +\r\n            '<span class=\"gl-rating__value\">' + numericValue + '/5</span>' +\r\n            '</div>' +\r\n            '</div>';\r\n    }\r\n\r\n    // Variant par défaut (compact)\r\n    return '<div class=\"gl-rating\">' +\r\n        (label ? '<span class=\"gl-rating__label\">' + label + ': </span>' : '') +\r\n        starsHtml +\r\n        '<span class=\"gl-rating__value\">' + numericValue + '/5</span>' +\r\n        '</div>';\r\n}\r\n\r\n/**\r\n * Construit un élément de type \"badge\"\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {Object} options - Options de rendu\r\n * @returns {string} HTML\r\n */\r\nfunction renderBadge(poi, config, options = {}) {\r\n    const resolveField = getResolveField();\r\n    const escapeHtml = getEscapeHtml();\r\n\r\n    const value = resolveField(poi, config.field);\r\n    if (value == null || value === '') return '';\r\n\r\n    const profile = getActiveProfile();\r\n    const taxonomy = profile?.taxonomy;\r\n    const variant = config.variant || 'default';\r\n\r\n    let displayValue = value;\r\n    let style = '';\r\n\r\n    // Résolution du label (taxonomy) et des couleurs (depuis styleRules de la couche)\r\n    if (taxonomy && config.field) {\r\n        const attrs = poi.attributes || {};\r\n\r\n        if (config.field.includes('categoryId') && !config.field.includes('subCategoryId')) {\r\n            // Catégorie principale\r\n            const catData = taxonomy.categories?.[value];\r\n            if (catData?.label) displayValue = catData.label;\r\n\r\n            // Couleurs depuis les styleRules de la couche\r\n            if (getColorsFromLayerStyle && poi._layerConfig) {\r\n                const styleColors = getColorsFromLayerStyle(poi, poi._layerConfig.id);\r\n                if (styleColors && styleColors.fillColor) {\r\n                    style += 'background-color: ' + styleColors.fillColor + ';';\r\n                }\r\n                if (styleColors && styleColors.color) {\r\n                    style += 'border-color: ' + styleColors.color + ';';\r\n                }\r\n            }\r\n        } else if (config.field.includes('subCategoryId')) {\r\n            // Sous-catégorie\r\n            const catId = attrs.categoryId || attrs.category;\r\n            const catData = taxonomy.categories?.[catId];\r\n            const subCatData = catData?.subcategories?.[value];\r\n\r\n            if (subCatData?.label) displayValue = subCatData.label;\r\n\r\n            // Couleurs depuis les styleRules de la couche\r\n            if (getColorsFromLayerStyle && poi._layerConfig) {\r\n                const styleColors = getColorsFromLayerStyle(poi, poi._layerConfig.id);\r\n                if (styleColors && styleColors.fillColor) {\r\n                    style += 'background-color: ' + styleColors.fillColor + ';';\r\n                }\r\n                if (styleColors && styleColors.color) {\r\n                    style += 'border-color: ' + styleColors.color + ';';\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const escaped = escapeHtml(String(displayValue));\r\n    const badgeClass = 'gl-poi-badge gl-poi-badge--' + variant;\r\n\r\n    return '<span class=\"' + badgeClass + '\"' + (style ? ' style=\"' + style + '\"' : '') + '>' + escaped + '</span>';\r\n}\r\n\r\n/**\r\n * Construit un élément de type \"image\"\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {Object} options - Options de rendu\r\n * @returns {string} HTML\r\n */\r\nfunction renderImage(poi, config, options = {}) {\r\n    const resolveField = getResolveField();\r\n    const escapeHtml = getEscapeHtml();\r\n\r\n    const value = resolveField(poi, config.field);\r\n    if (value == null || value === '') return '';\r\n\r\n    // Validation basique de l'URL\r\n    let photoUrl = null;\r\n    try {\r\n        photoUrl = validateUrl(value);\r\n    } catch (e) {\r\n        getLog().warn('[ContentBuilder.Shared] URL image invalide:', e.message);\r\n        return '';\r\n    }\r\n\r\n    if (!photoUrl) return '';\r\n\r\n    const alt = escapeHtml(config.label || 'Image');\r\n    const variant = config.variant || 'default';\r\n\r\n    if (variant === 'hero') {\r\n        return '<div class=\"gl-poi-popup__photo\"><img src=\"' + photoUrl + '\" alt=\"' + alt + '\" loading=\"lazy\" /></div>';\r\n    }\r\n\r\n    return '<div class=\"gl-poi-popup__photo\"><img src=\"' + photoUrl + '\" alt=\"' + alt + '\" loading=\"lazy\" /></div>';\r\n}\r\n\r\n/**\r\n * Construit un élément de type \"link\"\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {Object} options - Options de rendu\r\n * @returns {string} HTML\r\n */\r\nfunction renderLink(poi, config, options = {}) {\r\n    const resolveField = getResolveField();\r\n    const escapeHtml = getEscapeHtml();\r\n\r\n    const value = resolveField(poi, config.field);\r\n    if (value == null || value === '') return '';\r\n\r\n    const label = escapeHtml(config.label || value);\r\n    const variant = config.variant || 'default';\r\n\r\n    if (variant === 'button') {\r\n        return '<a href=\"' + escapeHtml(value) + '\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"gl-content__link gl-content__link--button\">' + label + '</a>';\r\n    }\r\n\r\n    return '<a href=\"' + escapeHtml(value) + '\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"gl-content__link\">' + label + '</a>';\r\n}\r\n\r\n/**\r\n * Construit un élément de type \"list\"\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {Object} options - Options de rendu\r\n * @returns {string} HTML\r\n */\r\nfunction renderList(poi, config, options = {}) {\r\n    const resolveField = getResolveField();\r\n    const escapeHtml = getEscapeHtml();\r\n\r\n    const value = resolveField(poi, config.field);\r\n    if (value == null) return '';\r\n\r\n    const variant = config.variant || 'disc';\r\n    let items = [];\r\n\r\n    if (Array.isArray(value)) {\r\n        items = value;\r\n    } else if (typeof value === 'object') {\r\n        // Objet clé-valeur (ex: price)\r\n        items = Object.entries(value).map(([k, v]) => k + ': ' + v);\r\n    } else {\r\n        return '';\r\n    }\r\n\r\n    if (items.length === 0) return '';\r\n\r\n    const listClass = 'gl-content__list gl-content__list--' + variant;\r\n    let html = '<ul class=\"' + listClass + '\">';\r\n    items.forEach(item => {\r\n        html += '<li>' + escapeHtml(String(item)) + '</li>';\r\n    });\r\n    html += '</ul>';\r\n\r\n    return html;\r\n}\r\n\r\n/**\r\n * Construit un élément de type \"table\"\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {Object} options - Options de rendu\r\n * @returns {string} HTML\r\n */\r\nfunction renderTable(poi, config, options = {}) {\r\n    const resolveField = getResolveField();\r\n    const escapeHtml = getEscapeHtml();\r\n\r\n    const value = resolveField(poi, config.field);\r\n    if (value == null || !Array.isArray(value) || value.length === 0) return '';\r\n\r\n    const columns = config.columns || [];\r\n    if (columns.length === 0) return '';\r\n\r\n    const borders = config.borders || {};\r\n    let tableStyle = '';\r\n    if (borders.color) {\r\n        tableStyle += '--gl-table-border-color: ' + borders.color + ';';\r\n    }\r\n\r\n    let tableClass = 'gl-content__table';\r\n    if (borders.outer) tableClass += ' gl-content__table--border-outer';\r\n    if (borders.row) tableClass += ' gl-content__table--border-row';\r\n    if (borders.column) tableClass += ' gl-content__table--border-column';\r\n\r\n    let html = '<table class=\"' + tableClass + '\"' + (tableStyle ? ' style=\"' + tableStyle + '\"' : '') + '>';\r\n\r\n    // Header\r\n    html += '<thead><tr>';\r\n    columns.forEach(col => {\r\n        html += '<th>' + escapeHtml(col.label || col.key) + '</th>';\r\n    });\r\n    html += '</tr></thead>';\r\n\r\n    // Body\r\n    html += '<tbody>';\r\n    value.forEach(row => {\r\n        html += '<tr>';\r\n        columns.forEach(col => {\r\n            const cellValue = typeof row === 'object' ? (row[col.key] || '') : row;\r\n            html += '<td>' + escapeHtml(String(cellValue)) + '</td>';\r\n        });\r\n        html += '</tr>';\r\n    });\r\n    html += '</tbody></table>';\r\n\r\n    return html;\r\n}\r\n\r\n/**\r\n * Construit un élément de type \"tags\"\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {Object} options - Options de rendu\r\n * @returns {string} HTML\r\n */\r\nfunction renderTags(poi, config, options = {}) {\r\n    const resolveField = getResolveField();\r\n    const escapeHtml = getEscapeHtml();\r\n\r\n    const value = resolveField(poi, config.field);\r\n    if (value == null || !Array.isArray(value) || value.length === 0) return '';\r\n\r\n    let html = '<div class=\"gl-content__tags\">';\r\n    value.forEach(tag => {\r\n        if (tag && typeof tag === 'string') {\r\n            html += '<span class=\"gl-content__tag\">' + escapeHtml(tag) + '</span>';\r\n        }\r\n    });\r\n    html += '</div>';\r\n\r\n    return html;\r\n}\r\n\r\n/**\r\n * Construit un élément de type \"coordinates\"\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {Object} options - Options de rendu\r\n * @returns {string} HTML\r\n */\r\nfunction renderCoordinates(poi, config, options = {}) {\r\n    const resolveField = getResolveField();\r\n    const escapeHtml = getEscapeHtml();\r\n\r\n    const value = resolveField(poi, config.field);\r\n    if (value == null) return '';\r\n\r\n    let lat, lng;\r\n\r\n    if (Array.isArray(value) && value.length >= 2) {\r\n        [lat, lng] = value;\r\n    } else if (typeof value === 'object' && value.lat !== undefined && value.lng !== undefined) {\r\n        lat = value.lat;\r\n        lng = value.lng;\r\n    } else {\r\n        return '';\r\n    }\r\n\r\n    const label = config.label ? escapeHtml(config.label) : 'Coordonnées';\r\n    const formatted = lat.toFixed(6) + ', ' + lng.toFixed(6);\r\n\r\n    return '<div class=\"gl-content__coordinates\">' +\r\n        '<span class=\"gl-content__coordinates-label\">' + label + ':</span> ' +\r\n        '<span class=\"gl-content__coordinates-value\">' + formatted + '</span>' +\r\n        '</div>';\r\n}\r\n\r\n/**\r\n * Construit un élément de type \"gallery\"\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {Object} options - Options de rendu\r\n * @returns {string} HTML\r\n */\r\nfunction renderGallery(poi, config, options = {}) {\r\n    const resolveField = getResolveField();\r\n    const escapeHtml = getEscapeHtml();\r\n\r\n    const value = resolveField(poi, config.field);\r\n    if (value == null || !Array.isArray(value) || value.length === 0) return '';\r\n\r\n    let html = '<div class=\"gl-content__gallery\">';\r\n    value.forEach((imgUrl, index) => {\r\n        if (imgUrl && typeof imgUrl === 'string') {\r\n            html += '<div class=\"gl-content__gallery-item\" data-index=\"' + index + '\">' +\r\n                '<img src=\"' + escapeHtml(imgUrl) + '\" alt=\"Image ' + (index + 1) + '\" loading=\"lazy\" />' +\r\n                '</div>';\r\n        }\r\n    });\r\n    html += '</div>';\r\n\r\n    return html;\r\n}\r\n\r\n/**\r\n * Construit un élément de type \"reviews\"\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {Object} options - Options de rendu\r\n * @returns {string} HTML\r\n */\r\nfunction renderReviews(poi, config, options = {}) {\r\n    const resolveField = getResolveField();\r\n    const escapeHtml = getEscapeHtml();\r\n\r\n    const value = resolveField(poi, config.field);\r\n    if (value == null || !Array.isArray(value) || value.length === 0) return '';\r\n\r\n    let html = '<div class=\"gl-content__reviews\">';\r\n    value.forEach(review => {\r\n        if (!review) return;\r\n\r\n        html += '<div class=\"gl-content__review\">';\r\n\r\n        // Rating (étoiles)\r\n        if (review.rating !== undefined) {\r\n            const rating = parseFloat(review.rating) || 0;\r\n            html += '<div class=\"gl-content__review-rating\">';\r\n            for (let i = 1; i <= 5; i++) {\r\n                html += '<span class=\"gl-content__review-star' + (i <= rating ? ' gl-content__review-star--filled' : '') + '\">★</span>';\r\n            }\r\n            html += '</div>';\r\n        }\r\n\r\n        // Texte\r\n        if (review.text || review.comment) {\r\n            html += '<p class=\"gl-content__review-text\">' + escapeHtml(review.text || review.comment) + '</p>';\r\n        }\r\n\r\n        // Auteur et date (support des deux conventions de nommage)\r\n        const reviewAuthor = review.author || review.authorName;\r\n        const reviewDate   = review.date   || review.createdAt;\r\n        if (reviewAuthor || reviewDate) {\r\n            html += '<div class=\"gl-content__review-meta\">';\r\n            if (reviewAuthor) {\r\n                const verifiedMark = review.verified ? ' <span class=\"gl-content__review-verified\">✓</span>' : '';\r\n                html += '<span class=\"gl-content__review-author\">' + escapeHtml(reviewAuthor) + verifiedMark + '</span>';\r\n            }\r\n            if (reviewDate) {\r\n                html += '<span class=\"gl-content__review-date\">' + escapeHtml(reviewDate) + '</span>';\r\n            }\r\n            html += '</div>';\r\n        }\r\n\r\n        html += '</div>';\r\n    });\r\n    html += '</div>';\r\n\r\n    return html;\r\n}\r\n\r\n// ========================================\r\n//   REGISTRE DES RENDERERS\r\n// ========================================\r\n\r\nconst RENDERERS = {\r\n    text: renderText,\r\n    longtext: renderLongtext,\r\n    number: renderNumber,\r\n    metric: renderMetric,\r\n    rating: renderRating,\r\n    badge: renderBadge,\r\n    image: renderImage,\r\n    link: renderLink,\r\n    list: renderList,\r\n    table: renderTable,\r\n    tags: renderTags,\r\n    coordinates: renderCoordinates,\r\n    gallery: renderGallery,\r\n    reviews: renderReviews\r\n};\r\n\r\n/**\r\n * Rend un élément selon son type\r\n * @param {Object} poi - Données du POI\r\n * @param {Object} config - Configuration de l'élément\r\n * @param {Object} options - Options de rendu\r\n * @returns {string} HTML\r\n */\r\nfunction renderItem(poi, config, options = {}) {\r\n    if (!config || !config.type) return '';\r\n\r\n    const renderer = RENDERERS[config.type];\r\n    if (!renderer) {\r\n        getLog().warn('[ContentBuilder.Shared] Type de rendu non supporté:', config.type);\r\n        return '';\r\n    }\r\n\r\n    return renderer(poi, config, options);\r\n}\r\n\r\n// ========================================\r\n//   EXPORT\r\n// ========================================\r\n\r\nconst ContentBuilderShared = {\r\n    // Renderers individuels\r\n    renderText,\r\n    renderLongtext,\r\n    renderNumber,\r\n    renderMetric,\r\n    renderRating,\r\n    renderBadge,\r\n    renderImage,\r\n    renderLink,\r\n    renderList,\r\n    renderTable,\r\n    renderTags,\r\n    renderCoordinates,\r\n    renderGallery,\r\n    renderReviews,\r\n    renderItem,\r\n\r\n    // Utilitaires\r\n    getResolveField,\r\n    getEscapeHtml,\r\n    getActiveProfile,\r\n    getLog\r\n};\r\n\r\nif (getLog().debug) {\r\n    getLog().debug('[ContentBuilder.Shared] Renderers partagés chargés');\r\n}\r\n\r\nexport { ContentBuilderShared };\r\n","/*!\n * GeoLeaf Core\n * © 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\"use strict\";\n\n/**\n * GeoLeaf Content Builder - Assemblers Module\n *\n * Gère l'assemblage des éléments de contenu en structures complètes\n * pour les popups (detailPopup), tooltips (contentUnion) et panneaux latéraux (items).\n *\n * Organisation:\n * - Helpers: getCore, getRenderers, getResolveField, getEscapeHtml, etc.\n * - Assembleurs: buildPopupHTML, buildTooltipHTML, buildPanelItems\n *\n * @module ui/content-builder/assemblers\n * @author Assistant\n * @version 1.0.0\n * @since 2026-01-18 (Sprint 4.5 - Modularisation)\n *\n * @example\n * // Import des assembleurs\n * const Assemblers = GeoLeaf._ContentBuilder.Assemblers;\n *\n * @example\n * // Construction d'un popup complet\n * const popupHtml = Assemblers.buildPopupHTML(poi, config, options);\n *\n * @example\n * // Construction d'un tooltip\n * const tooltipHtml = Assemblers.buildTooltipHTML(poi, contentUnion);\n */\n\nimport { escapeHtml } from '../../security/index.js';\nimport { resolveField, compareByOrder, getLog, getActiveProfile } from '../../utils/general-utils.js';\nimport { Helpers } from './helpers.js';\nimport { ContentBuilderCore } from './core.js';\nimport { ContentBuilderShared } from './renderers-shared.js';\n\n// ========================================\n//   ACCÈS AUX MODULES\n// ========================================\n\n/**\n * Get Helpers module (centralized utilities)\n * @returns {Object}\n */\nfunction getHelpers() {\n    return Helpers || {};\n}\n\nfunction getCore() {\n    return ContentBuilderCore || null;\n}\n\nfunction getRenderers() {\n    return ContentBuilderShared || {};\n}\n\n// Phase 4 dedup: direct imports for resolveField, escapeHtml\nfunction getResolveField() {\n    return resolveField;\n}\n\nfunction getEscapeHtml() {\n    return escapeHtml;\n}\n\n// getActiveProfile and getLog imported from general-utils.js (Phase 4 dedup)\n\nfunction renderItem(poi, config, options = {}) {\n    const renderers = getRenderers();\n    if (renderers && renderers.renderItem) {\n        return renderers.renderItem(poi, config, options);\n    }\n    return '';\n}\n\n// ========================================\n//   ASSEMBLEURS\n// ========================================\n\n// ========================================\n//   BUILD POPUP HTML\n// ========================================\n\n/**\n * Group popup sections by type (hero images, badges, other)\n * Extracted from buildPopupHTML to reduce complexity\n *\n * @private\n * @param {Array<Object>} sortedConfig - Sorted config array\n * @param {Object} poi - POI data\n * @param {Object} renderOptions - Render options\n * @returns {Array<{type: string, html?: string, items?: Array<string>}>} Grouped sections\n *\n * @typedef {Object} PopupSection\n * @property {'hero'|'badges'|'content'} type - Section type\n * @property {string} [html] - HTML content for hero/content sections\n * @property {Array<string>} [items] - Badge HTML items for badges section\n */\nfunction groupPopupSections(sortedConfig, poi, renderOptions) {\n    const sections = [];\n    let badgeGroup = [];\n    // ...logs [POPUP] supprimés...\n    sortedConfig.forEach((item, index) => {\n        const isHeroImage = item.type === 'image' && item.variant === 'hero';\n        const isBadge = item.type === 'badge';\n        const nextItem = sortedConfig[index + 1];\n        const nextIsBadge = nextItem && nextItem.type === 'badge';\n        const itemHtml = renderItem(poi, item, renderOptions);\n        if (isHeroImage) {\n            sections.push({ type: 'hero', html: itemHtml });\n        } else if (isBadge) {\n            badgeGroup.push(itemHtml);\n            if (!nextIsBadge) {\n                sections.push({ type: 'badges', items: [...badgeGroup] });\n                badgeGroup = [];\n            }\n        } else {\n            sections.push({ type: 'content', html: itemHtml });\n        }\n    });\n\n    return sections;\n}\n\n/**\n * Assemble popup HTML from grouped sections\n * Extracted from buildPopupHTML to reduce complexity\n *\n * @private\n * @param {Object} poi - POI data with id property\n * @param {Array<PopupSection>} sections - Grouped popup sections\n * @returns {string} Complete popup HTML\n */\nfunction assemblePopupHTML(poi, sections) {\n    let html = '<div class=\"gl-poi-popup\">';\n    let inBody = false;\n\n    sections.forEach(section => {\n        if (section.type === 'hero') {\n            if (inBody) {\n                html += '</div>';\n                inBody = false;\n            }\n            html += section.html;\n        } else {\n            if (!inBody) {\n                html += '<div class=\"gl-poi-popup__body\">';\n                inBody = true;\n            }\n\n            if (section.type === 'badges') {\n                html += '<div class=\"gl-poi-popup__badges\">';\n                section.items.forEach(badgeHtml => {\n                    html += badgeHtml;\n                });\n                html += '</div>';\n            } else {\n                html += section.html;\n            }\n        }\n    });\n\n    // Lien \"Voir plus\"\n    if (!inBody) {\n        html += '<div class=\"gl-poi-popup__body\">';\n        inBody = true;\n    }\n    html += '<a href=\"#\" class=\"gl-poi-popup__link\" data-poi-id=\"' + (poi.id || '') + '\">Voir plus >>></a>';\n\n    if (inBody) {\n        html += '</div>';\n    }\n    html += '</div>';\n\n    return html;\n}\n\n/**\n * Construit le HTML complet d'un popup avec structure et groupement de badges.\n *\n * Gère la structure HTML du popup:\n * 1. Images hero (en dehors du body)\n * 2. Body avec badges groupés + autres éléments\n * 3. Lien \"Voir plus >>>\" automatique\n *\n * Tri automatique par config.order, badges groupés si consécutifs.\n *\n * @function buildPopupHTML\n * @param {Object} poi - Données du POI normalisé\n * @param {Object} poi.id - ID du POI\n * @param {Object} poi.attributes - Attributs du POI\n * @param {Array<Object>} config - Configuration detailPopup (array de renderers)\n * @param {Object} config[].type - Type de renderer ('text', 'badge', 'image', etc.)\n * @param {number} config[].order - Ordre d'affichage (tri croissant)\n * @param {string} [config[].variant] - Variante (ex: 'hero' pour images)\n * @param {Object} [options={}] - Options de rendu\n * @param {Function} [options.resolveCategoryDisplay] - Résolution taxonomie personnalisée\n * @returns {string} HTML complet du popup\n *\n * @example\n * // Popup avec image hero + badges + texte\n * const html = buildPopupHTML(\n *   poi,\n *   [\n *     { type: 'image', field: 'attributes.photo', variant: 'hero', order: 1 },\n *     { type: 'badge', field: 'attributes.categoryId', order: 2 },\n *     { type: 'badge', field: 'attributes.status', order: 3 },\n *     { type: 'text', field: 'attributes.description', order: 4 }\n *   ],\n *   {}\n * );\n * // Retourne:\n * // <div class=\"gl-poi-popup\">\n * //   <img src=\"...\" class=\"gl-poi-popup__hero\"> (hero en dehors du body)\n * //   <div class=\"gl-poi-popup__body\">\n * //     <div class=\"gl-poi-popup__badges\">\n * //       <span class=\"gl-poi-badge\">Restaurant</span>\n * //       <span class=\"gl-poi-badge\">Ouvert</span>\n * //     </div>\n * //     <p>Description...</p>\n * //     <a href=\"#\" class=\"gl-poi-popup__link\" data-poi-id=\"123\">Voir plus >>></a>\n * //   </div>\n * // </div>\n */\nfunction buildPopupHTML(poi, config, options = {}) {\n    // Get helpers and utilities FIRST\n    const helpers = getHelpers();\n    const escapeHtml = getEscapeHtml();\n\n    if (!poi) {\n        getLog().warn('[Assemblers] POI invalide pour buildPopupHTML');\n        return '';\n    }\n\n    if (!config || !Array.isArray(config) || config.length === 0) {\n        const title = helpers.getDefaultTitle ? helpers.getDefaultTitle(poi) : (poi.title || poi.label || poi.name || 'Sans titre');\n        helpers.debugLog?.('popup', 'No config provided, using default popup');\n\n        return '<div class=\"gl-poi-popup\">' +\n            '<div class=\"gl-poi-popup__body\">' +\n            '<h3 class=\"gl-poi-popup__title\"><span class=\"gl-poi-popup__title-text\">' + escapeHtml(title) + '</span></h3>' +\n            '<a href=\"#\" class=\"gl-poi-popup__link\" data-poi-id=\"' + (poi.id || '') + '\">Voir plus >>></a>' +\n            '</div></div>';\n    }\n\n    // ...log supprimé ([POPUP] buildPopupHTML - config items)...\n\n    // Use helpers for config sorting (Phase 4 dedup)\n    const sortedConfig = helpers.sortConfigByOrder ? helpers.sortConfigByOrder(config) :\n        [...config].sort(compareByOrder);\n\n    const renderOptions = {\n        context: 'popup',\n        includeIcon: true,\n        resolveCategoryDisplay: options.resolveCategoryDisplay\n    };\n\n    // ...log supprimé ([POPUP] buildPopupHTML - sorted config)...\n\n    // Group sections and assemble HTML\n    try {\n        const sections = groupPopupSections(sortedConfig, poi, renderOptions);\n        // ...log supprimé ([POPUP] buildPopupHTML - sections grouped)...\n\n        const html = assemblePopupHTML(poi, sections);\n        // ...log supprimé ([POPUP] buildPopupHTML - HTML length)...\n\n        return html;\n    } catch(err) {\n        // ...log supprimé ([POPUP] ERROR in buildPopupHTML)...\n        return '<div class=\"gl-poi-popup\"><div class=\"gl-poi-popup__body\">Erreur: ' + escapeHtml(err.message) + '</div></div>';\n    }\n}\n\n/**\n * Construit le HTML d'un tooltip (texte uniquement, limité).\n *\n * Génère un tooltip simple avec valeurs textuelles séparées par \" | \".\n * Pas de HTML complexe, optimisé pour tooltips Leaflet.\n *\n * Processus:\n * 1. Si pas de config => utilise title/label/name par défaut\n * 2. Sinon extrait les valeurs textuelles de chaque renderer\n * 3. Gère badge resolution via resolveBadgeTooltip\n * 4. Joint les parties avec \" | \"\n *\n * @function buildTooltipHTML\n * @param {Object} poi - Données du POI normalisé\n * @param {Object} poi.title - Titre par défaut\n * @param {Object} poi.attributes - Attributs du POI\n * @param {Array<Object>} config - Configuration detailTooltip (array de renderers)\n * @param {string} config[].type - Type de renderer ('text', 'badge', 'number', etc.)\n * @param {string} config[].field - Chemin du champ (ex: 'attributes.name')\n * @param {number} [config[].order] - Ordre d'affichage (tri croissant)\n * @param {Object} [options={}] - Options de rendu\n * @returns {string} Texte du tooltip (pas de HTML, texte plat)\n *\n * @example\n * // Tooltip simple sans config\n * const text1 = buildTooltipHTML({ title: 'Restaurant Le Gourmet' }, []);\n * // Retourne: 'Restaurant Le Gourmet'\n *\n * @example\n * // Tooltip avec config (name + category + rating)\n * const text2 = buildTooltipHTML(\n *   poi,\n *   [\n *     { type: 'text', field: 'attributes.name', order: 1 },\n *     { type: 'badge', field: 'attributes.categoryId', order: 2 },\n *     { type: 'number', field: 'attributes.rating', order: 3 }\n *   ]\n * );\n * // Retourne: 'Le Gourmet | Restaurant | 4.5'\n *\n * @example\n * // Tooltip avec valeurs manquantes (skipés)\n * const text3 = buildTooltipHTML(\n *   poi,\n *   [\n *     { type: 'text', field: 'attributes.name', order: 1 },\n *     { type: 'text', field: 'attributes.missingField', order: 2 }\n *   ]\n * );\n * // Retourne: 'Le Gourmet' (missingField skippé)\n */\nfunction buildTooltipHTML(poi, config, options = {}) {\n    if (!poi) {\n        getLog().warn('[Assemblers] POI invalide pour buildTooltipHTML');\n        return '';\n    }\n\n    const helpers = getHelpers();\n    const escapeHtml = getEscapeHtml();\n    const resolveField = getResolveField();\n\n    // Si pas de config, tooltip par défaut - use helpers\n    if (!config || !Array.isArray(config) || config.length === 0) {\n        const title = helpers.getDefaultTitle ? helpers.getDefaultTitle(poi) :\n            (poi.title || poi.label || poi.name ||\n             resolveField(poi, 'attributes.name', 'attributes.nom', 'properties.name', 'properties.nom') ||\n             'Sans titre');\n        return escapeHtml(String(title));\n    }\n\n    // Use helpers for config sorting (Phase 4 dedup)\n    const sortedConfig = helpers.sortConfigByOrder ? helpers.sortConfigByOrder(config) :\n        [...config].sort(compareByOrder);\n\n    const renderOptions = { context: 'tooltip' };\n    const parts = [];\n\n    sortedConfig.forEach((item, index) => {\n        if (!item || !item.type || !item.field) return;\n\n        const value = resolveField(poi, item.field);\n        if (value == null || value === '') return;\n\n        // Pour les tooltips, on extrait juste la valeur textuelle\n        if (item.type === 'text' || item.type === 'badge') {\n            let displayValue = value;\n\n            // Use helpers for badge resolution\n            if (item.type === 'badge' && helpers.resolveBadgeLabel) {\n                displayValue = helpers.resolveBadgeLabel(poi, item.field, value);\n            } else if (item.type === 'badge') {\n                // Fallback to inline resolution\n                const profile = getActiveProfile();\n                const taxonomy = profile?.taxonomy;\n                if (taxonomy) {\n                    const attrs = poi.attributes || {};\n                    if (item.field.includes('subCategoryId')) {\n                        const catId = attrs.categoryId || attrs.category;\n                        const catData = taxonomy.categories?.[catId];\n                        const subCatData = catData?.subcategories?.[value];\n                        if (subCatData?.label) displayValue = subCatData.label;\n                    } else if (item.field.includes('categoryId')) {\n                        const catData = taxonomy.categories?.[value];\n                        if (catData?.label) displayValue = catData.label;\n                    }\n                }\n            }\n\n            parts.push(escapeHtml(String(displayValue)));\n        }\n        else if (item.type === 'number') {\n            const numValue = typeof value === 'number' ? value : parseFloat(value);\n            if (!isNaN(numValue)) {\n                parts.push(numValue.toLocaleString('fr-FR'));\n            }\n        }\n        else if (item.type === 'image') {\n            // Image en tooltip : afficher en ligne\n            parts.push('<img src=\"' + escapeHtml(value) + '\" alt=\"\" style=\"max-width:150px;max-height:100px;display:block;margin:4px 0;\" />');\n        }\n        else if (item.type === 'link') {\n            const label = item.label || value;\n            parts.push('<a href=\"' + escapeHtml(value) + '\" target=\"_blank\">' + escapeHtml(label) + '</a>');\n        }\n    });\n\n    if (parts.length === 0) {\n        const title = poi.title || poi.label || 'Sans titre';\n        return escapeHtml(String(title));\n    }\n\n    // Joindre avec contentUnion ou espace\n    let result = '';\n    parts.forEach((part, index) => {\n        result += part;\n        if (index < parts.length - 1) {\n            const item = sortedConfig[index];\n            if (item && item.contentUnion) {\n                result += ' ' + escapeHtml(item.contentUnion) + ' ';\n            } else {\n                result += ' ';\n            }\n        }\n    });\n\n    return result;\n}\n\n/**\n * Construit les éléments DOM pour un panneau latéral (side panel / accordion).\n *\n * Génère un tableau d'objets pour chaque élément du panneau:\n * - html: HTML rendu de l'élément\n * - config: Configuration renderer originale\n * - label: Label de l'élément (pour accordéon)\n * - accordion: Si true, élément dans un accordéon\n * - defaultOpen: Si true, accordéon ouvert par défaut\n *\n * Tri automatique par config.order, éléments sans valeur skipés.\n *\n * @function buildPanelItems\n * @param {Object} poi - Données du POI normalisé\n * @param {Object} poi.attributes - Attributs du POI\n * @param {Array<Object>} config - Configuration detailLayout (array de renderers)\n * @param {string} config[].type - Type de renderer ('text', 'list', 'image', etc.)\n * @param {string} config[].field - Chemin du champ (ex: 'attributes.description')\n * @param {number} [config[].order] - Ordre d'affichage (tri croissant)\n * @param {string} [config[].label] - Label de l'élément (pour accordéon)\n * @param {boolean} [config[].accordion] - Si true, élément dans un accordéon\n * @param {boolean} [config[].defaultOpen=true] - Si false, accordéon fermé par défaut\n * @param {Object} [options={}] - Options de rendu\n * @returns {Array<Object>} Tableau d'objets {html, config, label, accordion, defaultOpen}\n * @returns {string} returns[].html - HTML rendu de l'élément\n * @returns {Object} returns[].config - Configuration renderer originale\n * @returns {string} returns[].label - Label de l'élément\n * @returns {boolean} returns[].accordion - Si true, élément dans un accordéon\n * @returns {boolean} returns[].defaultOpen - Si true, accordéon ouvert par défaut\n *\n * @example\n * // Panel simple sans accordéon\n * const items1 = buildPanelItems(\n *   poi,\n *   [\n *     { type: 'text', field: 'attributes.name', label: 'Nom', order: 1 },\n *     { type: 'longtext', field: 'attributes.description', label: 'Description', order: 2 }\n *   ]\n * );\n * // Retourne: [\n * //   { html: '<p>...</p>', config: {...}, label: 'Nom', accordion: false, defaultOpen: true },\n * //   { html: '<div>...</div>', config: {...}, label: 'Description', accordion: false, defaultOpen: true }\n * // ]\n *\n * @example\n * // Panel avec accordéons\n * const items2 = buildPanelItems(\n *   poi,\n *   [\n *     { type: 'text', field: 'attributes.name', label: 'Nom', order: 1 },\n *     { type: 'list', field: 'attributes.tags', label: 'Tags', accordion: true, defaultOpen: true, order: 2 },\n *     { type: 'gallery', field: 'attributes.photos', label: 'Photos', accordion: true, defaultOpen: false, order: 3 }\n *   ]\n * );\n * // Retourne: [\n * //   { html: '<p>...</p>', label: 'Nom', accordion: false, defaultOpen: true },\n * //   { html: '<ul>...</ul>', label: 'Tags', accordion: true, defaultOpen: true },\n * //   { html: '<div>...</div>', label: 'Photos', accordion: true, defaultOpen: false }\n * // ]\n */\nfunction buildPanelItems(poi, config, options = {}) {\n    if (!poi || !config || !Array.isArray(config)) {\n        return [];\n    }\n\n    const resolveField = getResolveField();\n    const renderOptions = { context: 'panel', ...options };\n\n    // Trier par order (Phase 4 dedup)\n    const sortedConfig = [...config].sort(compareByOrder);\n\n    const items = [];\n\n    sortedConfig.forEach(itemConfig => {\n        if (!itemConfig || !itemConfig.type) return;\n\n        // Vérifier si la valeur existe\n        const value = resolveField(poi, itemConfig.field);\n        const hasValue = value !== null && value !== undefined && value !== '' &&\n                         !(Array.isArray(value) && value.length === 0);\n\n        if (!hasValue && itemConfig.type !== 'coordinates') return;\n\n        const html = renderItem(poi, itemConfig, renderOptions);\n        if (html) {\n            items.push({\n                html: html,\n                config: itemConfig,\n                label: itemConfig.label || '',\n                accordion: itemConfig.accordion === true,\n                defaultOpen: itemConfig.defaultOpen !== false\n            });\n        }\n    });\n\n    return items;\n}\n\n// ========================================\n//   EXPORT\n// ========================================\n\nconst Assemblers = {\n    buildPopupHTML,\n    buildTooltipHTML,\n    buildPanelItems\n};\n\ngetLog().info('[GeoLeaf._ContentBuilder.Assemblers] Module Assemblers chargé');\n\nexport { Assemblers };\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf POI Module - Popup & Tooltips\r\n * Gestion des popups rapides et tooltips sur les marqueurs.\r\n * Délègue le rendu au module _ContentBuilder centralisé.\r\n *\r\n * @module poi/popup\r\n * @version 2.0.0\r\n */\r\nimport { Log } from \"../log/index.js\";\r\nimport { Config } from \"../config/config-primitives.js\";\r\nimport { escapeHtml } from \"../security/index.js\";\r\nimport { resolveField as _resolveField } from \"../utils/general-utils.js\";\r\nimport { Assemblers } from \"../ui/content-builder/assemblers.js\";\r\n\r\n// ========================================\r\n//   UTILITAIRES LOCAUX\r\n// ========================================\r\n\r\n/**\r\n * Récupère le ContentBuilder (Assemblers).\r\n * Les fonctions buildPopupHTML / buildTooltipHTML sont sur le sous-module Assemblers.\r\n * @returns {Object|null}\r\n */\r\nfunction getContentBuilder() {\r\n    return Assemblers || null;\r\n}\r\n\r\n/**\r\n * Résout la valeur d'un champ à partir d'un objet POI.\r\n * Délègue à Utils.resolveField si disponible.\r\n *\r\n * @param {object} poi - Objet POI source.\r\n * @param {string} field - Chemin du champ (ex: \"attributes.photo\").\r\n * @returns {*} Valeur du champ ou null.\r\n */\r\nfunction resolveField(poi, field) {\r\n    if (!poi || !field) return null;\r\n\r\n    if (_resolveField) {\r\n        return _resolveField(poi, field);\r\n    }\r\n\r\n    // Fallback minimal\r\n    const parts = field.split(\".\");\r\n    let current = poi;\r\n    for (const part of parts) {\r\n        if (current && typeof current === \"object\" && part in current) {\r\n            current = current[part];\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    return current;\r\n}\r\n\r\n// escapeHtml imported directly from security/index.js (A3 — DEAD-01)\r\n\r\n// ========================================\r\n//   CONFIGURATION\r\n// ========================================\r\n\r\n/**\r\n * Récupère la configuration de popup pour une couche/POI.\r\n *\r\n * @param {object} poi - Données du POI.\r\n * @returns {Array|null} Configuration detailPopup ou null.\r\n */\r\nfunction getPopupConfig(poi) {\r\n    // 1. Config attachée depuis la couche du POI\r\n    if (poi._layerConfig?.popup?.detailPopup) {\r\n        Log.info && Log.info(\"[POI Popup] Config popup depuis layerConfig\");\r\n        return poi._layerConfig.popup.detailPopup;\r\n    }\r\n\r\n    // 2. Fallback: profil actif\r\n    if (Config && typeof Config.getActiveProfile === \"function\") {\r\n        const profile = Config.getActiveProfile();\r\n\r\n        // Chercher la config dans les emplacements standards\r\n        if (profile?.popup?.detailPopup) {\r\n            Log.info &&\r\n                Log.info(\r\n                    \"[POI Popup] Config popup depuis profil actif (profile.popup.detailPopup)\"\r\n                );\r\n            return profile.popup.detailPopup;\r\n        }\r\n\r\n        // ALTERNATIVE: Vérifier aussi dans panels.poi (ancienne structure)\r\n        if (profile?.panels?.poi?.popup?.detailPopup) {\r\n            Log.info &&\r\n                Log.info(\r\n                    \"[POI Popup] Config popup depuis profil actif (profile.panels.poi.popup.detailPopup - ancienne structure)\"\r\n                );\r\n            return profile.panels.poi.popup.detailPopup;\r\n        }\r\n    }\r\n\r\n    Log.warn &&\r\n        Log.warn(\r\n            \"[POI Popup] Aucune configuration detailPopup trouvée pour POI:\",\r\n            poi.id || \"unknown\"\r\n        );\r\n    return null;\r\n}\r\n\r\n/**\r\n * Récupère la configuration de tooltip pour une couche/POI.\r\n *\r\n * @param {object} poi - Données du POI.\r\n * @returns {Array|null} Configuration detailTooltip ou null.\r\n */\r\nfunction getTooltipConfig(poi) {\r\n    // 1. Config depuis popup.detailTooltip (structure standard)\r\n    if (poi._layerConfig?.popup?.detailTooltip) {\r\n        return poi._layerConfig.popup.detailTooltip;\r\n    }\r\n\r\n    // 2. Config depuis tooltip.detailTooltip\r\n    if (poi._layerConfig?.tooltip?.detailTooltip) {\r\n        return poi._layerConfig.tooltip.detailTooltip;\r\n    }\r\n\r\n    // 3. Config directe detailTooltip\r\n    if (poi._layerConfig?.detailTooltip) {\r\n        return poi._layerConfig.detailTooltip;\r\n    }\r\n\r\n    // 4. Fallback: profil actif\r\n    if (Config && typeof Config.getActiveProfile === \"function\") {\r\n        const profile = Config.getActiveProfile();\r\n        if (profile?.popup?.detailTooltip) {\r\n            return profile.popup.detailTooltip;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n// ========================================\r\n//   CONSTRUCTION DU CONTENU\r\n// ========================================\r\n\r\n/**\r\n * Construit le contenu HTML d'un popup rapide pour un POI.\r\n * Utilise ContentBuilder si disponible, sinon logique interne.\r\n *\r\n * @param {object} poi - Données du POI.\r\n * @param {Function} resolveCategoryDisplay - Fonction pour résoudre l'affichage de catégorie.\r\n * @returns {string} HTML du popup.\r\n */\r\nfunction buildQuickPopupContent(poi, resolveCategoryDisplay) {\r\n    if (!poi) {\r\n        Log.warn && Log.warn(\"[POI Popup] POI invalide\");\r\n        return \"\";\r\n    }\r\n\r\n    const config = getPopupConfig(poi);\r\n    const ContentBuilder = getContentBuilder();\r\n\r\n    // Si ContentBuilder disponible, déléguer\r\n    if (ContentBuilder && typeof ContentBuilder.buildPopupHTML === \"function\") {\r\n        return ContentBuilder.buildPopupHTML(poi, config, {\r\n            resolveCategoryDisplay: resolveCategoryDisplay,\r\n        });\r\n    }\r\n\r\n    // Fallback si ContentBuilder non chargé\r\n    Log.warn && Log.warn(\"[POI Popup] ContentBuilder non disponible, fallback basique\");\r\n    return buildFallbackPopup(poi, config, resolveCategoryDisplay);\r\n}\r\n\r\n/**\r\n * Construit le contenu d'un tooltip pour un POI.\r\n * Utilise ContentBuilder si disponible.\r\n *\r\n * @param {object} poi - Données du POI.\r\n * @param {Function} resolveCategoryDisplay - Fonction pour résoudre l'affichage de catégorie.\r\n * @returns {string} HTML du tooltip.\r\n */\r\nfunction buildTooltipContent(poi, resolveCategoryDisplay) {\r\n    if (!poi) {\r\n        Log.warn && Log.warn(\"[POI Tooltip] POI invalide\");\r\n        return \"\";\r\n    }\r\n\r\n    const config = getTooltipConfig(poi);\r\n    const ContentBuilder = getContentBuilder();\r\n\r\n    // Si ContentBuilder disponible, déléguer\r\n    if (ContentBuilder && typeof ContentBuilder.buildTooltipHTML === \"function\") {\r\n        return ContentBuilder.buildTooltipHTML(poi, config, {\r\n            resolveCategoryDisplay: resolveCategoryDisplay,\r\n        });\r\n    }\r\n\r\n    // Fallback si ContentBuilder non chargé\r\n    return escapeHtml(\r\n        resolveField(poi, \"title\") ||\r\n            resolveField(poi, \"label\") ||\r\n            resolveField(poi, \"name\") ||\r\n            \"POI\"\r\n    );\r\n}\r\n\r\n/**\r\n * Fallback pour construire un popup basique sans ContentBuilder.\r\n *\r\n * @param {object} poi - Données du POI.\r\n * @param {Array} _config - Configuration detailPopup (réservé pour usage futur).\r\n * @param {Function} _resolveCategoryDisplay - Fonction pour résoudre l'affichage de catégorie (réservé).\r\n * @returns {string} HTML du popup.\r\n */\r\nfunction buildFallbackPopup(poi, _config, _resolveCategoryDisplay) {\r\n    const title = escapeHtml(\r\n        resolveField(poi, \"title\") ||\r\n            resolveField(poi, \"label\") ||\r\n            resolveField(poi, \"name\") ||\r\n            \"POI\"\r\n    );\r\n\r\n    const description =\r\n        resolveField(poi, \"attributes.description\") || resolveField(poi, \"description\") || \"\";\r\n\r\n    let html = '<div class=\"gl-poi-popup\">';\r\n    html += '<div class=\"gl-poi-popup__body\">';\r\n    html +=\r\n        '<h3 class=\"gl-poi-popup__title\"><span class=\"gl-poi-popup__title-text\">' +\r\n        title +\r\n        \"</span></h3>\";\r\n    if (description) {\r\n        html += '<p class=\"gl-poi-popup__desc\">' + escapeHtml(description) + \"</p>\";\r\n    }\r\n    html +=\r\n        '<a href=\"#\" class=\"gl-poi-popup__link\" data-poi-id=\"' +\r\n        (poi.id || \"\") +\r\n        '\">Voir plus >>></a>';\r\n    html += \"</div></div>\";\r\n\r\n    return html;\r\n}\r\n\r\n// ========================================\r\n//   ATTACHMENT LEAFLET\r\n// ========================================\r\n\r\n/**\r\n * Attache un tooltip à un marqueur Leaflet.\r\n *\r\n * @param {L.Marker} marker - Marqueur Leaflet.\r\n * @param {string} content - Contenu du tooltip (texte).\r\n * @param {object} options - Options du tooltip.\r\n */\r\nfunction attachTooltip(marker, content, options) {\r\n    if (!marker || typeof marker.bindTooltip !== \"function\") {\r\n        Log.warn && Log.warn(\"[POI Popup] Marker invalide pour attachTooltip\");\r\n        return;\r\n    }\r\n\r\n    const defaultOptions = {\r\n        direction: \"top\",\r\n        offset: [0, -10],\r\n        opacity: 0.9,\r\n        className: \"gl-poi-tooltip\",\r\n    };\r\n\r\n    const finalOptions = Object.assign({}, defaultOptions, options || {});\r\n    marker.bindTooltip(content, finalOptions);\r\n}\r\n\r\n/**\r\n * Gère le tooltip d'un marqueur selon la configuration.\r\n *\r\n * @param {L.Marker} marker - Marqueur Leaflet.\r\n * @param {object} poi - Données du POI.\r\n * @param {object} config - Configuration POI globale.\r\n * @param {Function} resolveCategoryDisplay - Fonction pour résoudre l'affichage de catégorie.\r\n */\r\nfunction manageTooltip(marker, poi, config, resolveCategoryDisplay) {\r\n    if (!marker || !poi) return;\r\n\r\n    const tooltipMode = config?.tooltipMode || \"hover\"; // \"hover\", \"permanent\", \"none\"\r\n\r\n    if (tooltipMode === \"none\") {\r\n        return;\r\n    }\r\n\r\n    // Construire le contenu du tooltip\r\n    const tooltipText = buildTooltipContent(poi, resolveCategoryDisplay);\r\n\r\n    if (tooltipMode === \"permanent\") {\r\n        attachTooltip(marker, tooltipText, { permanent: true });\r\n    } else {\r\n        attachTooltip(marker, tooltipText);\r\n    }\r\n}\r\n\r\n/**\r\n * Attache un popup à un marqueur Leaflet.\r\n *\r\n * @param {L.Marker} marker - Marqueur Leaflet.\r\n * @param {string} content - Contenu HTML du popup.\r\n * @param {object} options - Options du popup.\r\n */\r\nfunction attachPopup(marker, content, options) {\r\n    if (!marker || typeof marker.bindPopup !== \"function\") {\r\n        Log.error && Log.error(\"[POI Popup] Marker invalide ou pas de bindPopup\");\r\n        return;\r\n    }\r\n\r\n    const defaultOptions = {\r\n        maxWidth: 300,\r\n        minWidth: 200,\r\n        className: \"gl-poi-popup-leaflet\",\r\n        closeButton: true,\r\n        autoPan: true,\r\n    };\r\n\r\n    const finalOptions = Object.assign({}, defaultOptions, options || {});\r\n    marker.bindPopup(content, finalOptions);\r\n}\r\n\r\n// ========================================\r\n//   EXPORT\r\n// ========================================\r\n\r\nconst POIPopup = {\r\n    // Construction de contenu\r\n    buildQuickPopupContent,\r\n    buildTooltipContent,\r\n\r\n    // Gestion Leaflet\r\n    attachTooltip,\r\n    manageTooltip,\r\n    attachPopup,\r\n\r\n    // Configuration\r\n    getPopupConfig,\r\n    getTooltipConfig,\r\n};\r\n\r\n// ── ESM Export ──\r\nexport { POIPopup };\r\n","/**\n * @module shared/storage-contract\n * @description Interface optionnelle pour accéder au module Storage depuis\n * les modules non-Storage (POI, LayerManager…) sans importer directement\n * le plugin Storage (qui est optionnel).\n *\n * Phase 10-C — Pattern E : remplace le couplage runtime par\n * le contrat d'interface ESM pur `StorageContract.*`.\n *\n * CYCLE ROMPU :\n *   POI → StorageContract (no-dep ESM singleton)\n *   StorageContract.init() ← appelé par geoleaf.storage.js au chargement du plugin\n *\n * USAGE dans les modules consommateurs :\n *   import { StorageContract } from '../shared/storage-contract.js';\n *\n *   if (StorageContract.isAvailable()) {\n *       const items = await StorageContract.DB.getAllFromSyncQueue();\n *   }\n *\n *   // Image upload (POI) :\n *   if (StorageContract.isAvailable() && StorageContract.DB?.storeImageLocally) {\n *       await StorageContract.DB.storeImageLocally(imageData);\n *   }\n *\n * INITIALISATION :\n *   // Dans geoleaf.storage.js (ou le plugin Storage), après assemblage :\n *   StorageContract.init(Storage);\n */\n\"use strict\";\n\n/** @type {Object|null} Référence à la facade Storage (geoleaf.storage.js) */\nlet _storageRef = null;\n\n/**\n * Contrat d'interface optionnel pour le module Storage.\n *\n * Expose read-only les sous-modules DB et CacheManager via des getters paresseux.\n * `init(storage)` est la seule méthode d'écriture — appelée une seule fois\n * au boot du plugin Storage.\n *\n * @namespace StorageContract\n */\nconst StorageContract = {\n    /**\n     * Initialise le contrat avec la facade Storage.\n     * Appelé par `geoleaf.storage.js` lorsque le plugin Storage est chargé.\n     *\n     * @param {Object} storageModule - La facade Storage (export de geoleaf.storage.js)\n     */\n    init(storageModule) {\n        _storageRef = storageModule;\n    },\n\n    /**\n     * Retourne true si le plugin Storage est chargé ET que IndexedDB est ouvert.\n     * @returns {boolean}\n     */\n    isAvailable() {\n        if (!_storageRef) return false;\n        return typeof _storageRef.isAvailable === \"function\"\n            ? _storageRef.isAvailable()\n            : !!_storageRef.DB;\n    },\n\n    /**\n     * Accès au module IndexedDB (Storage.DB).\n     * @returns {Object|null}\n     */\n    get DB() {\n        return _storageRef?.DB ?? null;\n    },\n\n    /**\n     * Accès au module CacheManager (Storage.CacheManager).\n     * @returns {Object|null}\n     */\n    get CacheManager() {\n        return _storageRef?.CacheManager ?? null;\n    },\n\n    /**\n     * Accès au namespace Cache (Storage.Cache).\n     * Contient CacheStorage, LayerSelector, etc.\n     * @returns {Object|null}\n     */\n    get Cache() {\n        return _storageRef?.Cache ?? null;\n    },\n\n    /**\n     * Vérifie si un plugin Storage est enregistré (même non initialisé/DB fermée).\n     * Différent de isAvailable() qui vérifie aussi que DB est ouverte.\n     * @returns {boolean}\n     */\n    isPluginLoaded() {\n        return _storageRef !== null;\n    },\n\n    /**\n     * Télécharge un profil pour disponibilité offline.\n     * @param {string} profileId - Identifiant du profil\n     * @returns {Promise<Object>}\n     */\n    downloadProfileForOffline(profileId) {\n        if (!_storageRef) {\n            return Promise.reject(new Error(\"[StorageContract] Storage plugin not loaded\"));\n        }\n        return _storageRef.downloadProfileForOffline(profileId);\n    },\n};\n\nexport { StorageContract };\n","/**\n * GeoLeaf POI Module - Component Renderers\n * Rendu des composants UI (badges, liens, listes, tableaux, tags)\n * Phase 6.2 - Extraction depuis core.js\n */\nimport { Log } from '../../log/index.js';\nimport { POIMarkers } from '../markers.js';\n\n\n/**\n * Renderers pour les composants UI du side panel\n */\nclass ComponentRenderers {\n    constructor() {\n        // Référence aux modules POI\n        this.getMarkers = () => POIMarkers;\n    }\n\n    /**\n     * Rend un badge avec style de catégorie\n     * @param {object} section - Configuration de section\n     * @param {string} value - Valeur du badge\n     * @param {object} poi - POI complet\n     * @returns {HTMLElement|null}\n     */\n    renderBadge(section, value, poi) {\n        if (!value) return null;\n\n        const container = document.createElement('div');\n        container.className = 'gl-poi-badge-container';\n\n        const badge = document.createElement('span');\n        badge.className = 'gl-poi-badge';\n        badge.textContent = value;\n\n        // Récupérer les couleurs depuis la taxonomie si disponible\n        const markers = this.getMarkers();\n        if (markers && markers.resolveCategoryDisplay) {\n            const displayInfo = markers.resolveCategoryDisplay(poi);\n            if (displayInfo.colorFill) {\n                badge.style.background = displayInfo.colorFill;\n                badge.style.color = '#fff';\n            }\n        }\n\n        container.appendChild(badge);\n        return container;\n    }\n\n    /**\n     * Rend un lien externe\n     * @param {object} section - Configuration de section\n     * @param {string} url - URL du lien\n     * @returns {HTMLElement|null}\n     */\n    renderLink(section, url) {\n        if (!url) return null;\n\n        const container = document.createElement('div');\n        container.className = 'gl-poi-link-container';\n\n        const link = document.createElement('a');\n        link.className = 'gl-poi-website-link';\n        link.href = url;\n        link.target = '_blank';\n        link.rel = 'noopener noreferrer';\n        link.textContent = section.label || 'Visiter le site web →';\n\n        container.appendChild(link);\n        return container;\n    }\n\n    /**\n     * Rend une liste (tableau de prix, etc.)\n     * @param {object} section - Configuration de section\n     * @param {Array|object} data - Données à afficher\n     * @returns {HTMLElement|null}\n     */\n    renderList(section, data) {\n        if (!data) {\n            if (Log) Log.warn('[POI] renderList: data is null/undefined');\n            return null;\n        }\n\n        const div = document.createElement('div');\n        div.className = 'gl-poi-section';\n\n        // Cas spécial pour price (objet)\n        if (typeof data === 'object' && !Array.isArray(data)) {\n            if (Log) Log.info('[POI] renderList: price object:', data);\n\n            if (data.from || data.to) {\n                const p = document.createElement('p');\n                const strong = document.createElement('strong');\n\n                const safeFrom = Number.isFinite(Number(data.from)) ? Number(data.from) : null;\n                const safeTo = Number.isFinite(Number(data.to)) ? Number(data.to) : null;\n                const safeCurrency = data.currency || 'USD';\n\n                if (safeFrom !== null && safeTo !== null) {\n                    strong.textContent = `De ${safeFrom} à ${safeTo} ${safeCurrency}`;\n                } else if (safeFrom !== null) {\n                    strong.textContent = `À partir de ${safeFrom} ${safeCurrency}`;\n                } else if (safeTo !== null) {\n                    strong.textContent = `Jusqu'à ${safeTo} ${safeCurrency}`;\n                }\n\n                if (strong.textContent) {\n                    p.appendChild(strong);\n                    div.appendChild(p);\n                }\n            }\n            if (data.description) {\n                const desc = document.createElement('p');\n                desc.textContent = data.description;\n                desc.style.fontSize = '0.85rem';\n                desc.style.color = 'var(--gl-color-text-muted)';\n                div.appendChild(desc);\n            }\n\n            if (div.children.length === 0) {\n                if (Log) Log.warn('[POI] renderList: price object has no displayable content');\n                return null;\n            }\n            return div;\n        }\n\n        // Liste normale (array)\n        if (Array.isArray(data)) {\n            const variant = section.variant || 'disc';\n\n            const ul = document.createElement('ul');\n            ul.className = 'gl-poi-list-unordered';\n\n            // Appliquer le style de puce selon le variant\n            if (variant === 'disc' || variant === 'circle' || variant === 'square') {\n                ul.style.listStyleType = variant;\n            } else {\n                ul.style.listStyleType = 'disc'; // Par défaut\n            }\n\n            data.forEach(item => {\n                const li = document.createElement('li');\n                li.textContent = item;\n                ul.appendChild(li);\n            });\n\n            div.appendChild(ul);\n        }\n\n        return div;\n    }\n\n    /**\n     * Rend un tableau avec en-têtes et bordures\n     * @param {object} section - Configuration de section\n     * @param {Array} data - Données du tableau\n     * @returns {HTMLElement|null}\n     */\n    renderTable(section, data) {\n        if (!data || !Array.isArray(data)) {\n            if (Log) Log.warn('[POI] renderTable: data is', data ? 'not an array' : 'null/undefined', '- type:', typeof data);\n            return null;\n        }\n\n        if (Log) Log.info('[POI] renderTable: rendering', data.length, 'rows');\n\n        // Transformer les chaînes en objets si nécessaire\n        let tableData = data;\n        if (data.length > 0 && typeof data[0] === 'string' && section.columns && section.columns.length === 2) {\n            // Détecter le format \"Clé : Valeur\" ou \"Clé – Valeur\"\n            tableData = data.map(str => {\n                const separators = [' : ', ': ', ' – ', '–', ' - ', '-'];\n                for (const sep of separators) {\n                    const parts = str.split(sep);\n                    if (parts.length >= 2) {\n                        return {\n                            [section.columns[0].key]: parts[0].trim(),\n                            [section.columns[1].key]: parts.slice(1).join(sep).trim()\n                        };\n                    }\n                }\n                // Si aucun séparateur trouvé, tout dans la première colonne\n                return {\n                    [section.columns[0].key]: str,\n                    [section.columns[1].key]: ''\n                };\n            });\n            if (Log) Log.info('[POI] renderTable: transformed string array to object array');\n        }\n\n        const table = document.createElement('table');\n        table.className = 'gl-poi-table';\n\n        // Gestion des bordures selon la configuration\n        const borders = section.borders || {};\n        if (borders.outer !== false) {\n            table.style.border = `1px solid ${borders.color || 'var(--gl-color-border-soft)'}`;\n        }\n\n        // En-têtes\n        if (section.columns) {\n            const thead = document.createElement('thead');\n            const tr = document.createElement('tr');\n            section.columns.forEach((col, index) => {\n                const th = document.createElement('th');\n                th.textContent = col.label;\n                th.style.padding = '8px';\n                th.style.textAlign = 'left';\n                th.style.fontWeight = '600';\n                th.style.backgroundColor = 'var(--gl-color-bg-subtle)';\n\n                if (borders.row !== false) {\n                    th.style.borderBottom = `1px solid ${borders.color || 'var(--gl-color-border-soft)'}`;\n                }\n                if (borders.column && index > 0) {\n                    th.style.borderLeft = `1px solid ${borders.color || 'var(--gl-color-border-soft)'}`;\n                }\n\n                tr.appendChild(th);\n            });\n            thead.appendChild(tr);\n            table.appendChild(thead);\n        }\n\n        // Lignes de données\n        const tbody = document.createElement('tbody');\n        tableData.forEach((row, rowIndex) => {\n            const tr = document.createElement('tr');\n            if (section.columns) {\n                section.columns.forEach((col, colIndex) => {\n                    const td = document.createElement('td');\n                    td.textContent = row[col.key] || '';\n                    td.style.padding = '8px';\n\n                    if (borders.row !== false && rowIndex < tableData.length - 1) {\n                        td.style.borderBottom = `1px solid ${borders.color || 'var(--gl-color-border-soft)'}`;\n                    }\n                    if (borders.column && colIndex > 0) {\n                        td.style.borderLeft = `1px solid ${borders.color || 'var(--gl-color-border-soft)'}`;\n                    }\n\n                    tr.appendChild(td);\n                });\n            }\n            tbody.appendChild(tr);\n        });\n        table.appendChild(tbody);\n\n        return table;\n    }\n\n    /**\n     * Rend des tags\n     * @param {object} section - Configuration de section\n     * @param {Array<string>} tags - Liste de tags\n     * @returns {HTMLElement|null}\n     */\n    renderTags(section, tags) {\n        if (!tags || !Array.isArray(tags)) {\n            if (Log) Log.warn('[POI] renderTags: tags is', tags ? 'not an array' : 'null/undefined', '- type:', typeof tags, '- value:', tags);\n            return null;\n        }\n\n        if (tags.length === 0) {\n            if (Log) Log.warn('[POI] renderTags: tags array is empty');\n            return null;\n        }\n\n        if (Log) Log.info('[POI] renderTags: rendering', tags.length, 'tags');\n\n        const div = document.createElement('div');\n        div.className = 'gl-poi-sidepanel__tags';\n        div.style.display = 'flex';\n        div.style.flexWrap = 'wrap';\n        div.style.gap = '6px';\n\n        tags.forEach(tag => {\n            const tagSpan = document.createElement('span');\n            tagSpan.className = 'gl-poi-tag';\n            tagSpan.textContent = tag;\n            div.appendChild(tagSpan);\n        });\n\n        return div;\n    }\n\n    /**\n     * Rend une note globale (étoiles)\n     * @param {object} section - Configuration de section\n     * @param {number} rating - Note numérique (0-5)\n     * @returns {HTMLElement|null}\n     */\n    renderRating(section, rating) {\n        const numRating = parseFloat(rating);\n        if (!Number.isFinite(numRating)) {\n            if (Log) Log.warn('[POI] renderRating: valeur non numérique:', rating);\n            return null;\n        }\n\n        const container = document.createElement('div');\n        container.className = 'gl-rating gl-rating--stat';\n\n        if (section.label) {\n            const label = document.createElement('span');\n            label.className = 'gl-rating__label';\n            label.textContent = section.label;\n            container.appendChild(label);\n        }\n\n        const starsWrap = document.createElement('span');\n        starsWrap.className = 'gl-rating__stars';\n        for (let i = 1; i <= 5; i++) {\n            const star = document.createElement('span');\n            star.className = 'gl-rating__star' + (i <= Math.round(numRating) ? ' gl-rating__star--filled' : '');\n            star.textContent = '\\u2605';\n            starsWrap.appendChild(star);\n        }\n        container.appendChild(starsWrap);\n\n        const value = document.createElement('span');\n        value.className = 'gl-rating__value';\n        value.textContent = numRating.toFixed(1) + '/5';\n        container.appendChild(value);\n\n        return container;\n    }\n\n    /**\n     * Rend les avis (reviews)\n     * @param {object} section - Configuration de section\n     * @param {Array} reviews - Liste d'avis\n     * @returns {HTMLElement|null}\n     */\n    renderReviews(section, reviews) {\n        if (!reviews || !Array.isArray(reviews)) {\n            if (Log) Log.warn('[POI] renderReviews: reviews is', reviews ? 'not an array' : 'null/undefined', '- type:', typeof reviews);\n            return null;\n        }\n\n        if (Log) Log.info('[POI] renderReviews: rendering', reviews.length, 'reviews');\n\n        const div = document.createElement('div');\n        div.className = 'gl-poi-reviews';\n\n        const maxCount = section.maxCount || 5;\n        reviews.slice(0, maxCount).forEach(review => {\n            const reviewDiv = document.createElement('div');\n            reviewDiv.className = 'gl-poi-review';\n            reviewDiv.style.borderLeft = '3px solid var(--gl-color-accent-soft)';\n            reviewDiv.style.paddingLeft = '12px';\n            reviewDiv.style.marginBottom = '12px';\n\n            const header = document.createElement('p');\n            header.style.fontSize = '0.875rem';\n            header.style.fontWeight = '600';\n            header.style.marginBottom = '4px';\n\n            const safeAuthor = review.authorName || 'Anonyme';\n            const safeRating = Number.isFinite(review.rating) ? review.rating : 0;\n            const verifiedMark = review.verified ? ' ✓' : '';\n            header.textContent = `${safeAuthor} - ⭐${safeRating}/5${verifiedMark}`;\n            reviewDiv.appendChild(header);\n\n            if (review.comment) {\n                const comment = document.createElement('p');\n                comment.textContent = review.comment;\n                comment.style.fontSize = '0.85rem';\n                comment.style.marginBottom = '4px';\n                reviewDiv.appendChild(comment);\n            }\n\n            if (review.createdAt) {\n                const date = document.createElement('p');\n                date.style.fontSize = '0.75rem';\n                date.style.color = 'var(--gl-color-text-muted)';\n                date.textContent = review.createdAt;\n                reviewDiv.appendChild(date);\n            }\n\n            div.appendChild(reviewDiv);\n        });\n\n        return div;\n    }\n}\n\n// ── ESM Export ──\nexport { ComponentRenderers };\n","/**\n * POI Renderers - Field Renderers Module (Migrated to AbstractRenderer)\n * Rendu des champs simples: texte, badges, liens, tags\n *\n * @module poi/renderers/field-renderers\n * @requires renderers/abstract-renderer\n * @version 2.0.0 - Migrated to AbstractRenderer base class\n */\nimport { AbstractRenderer } from '../../renderers/abstract-renderer.js';\nimport { Config } from '../../config/config-primitives.js';\nimport { POIMarkers } from '../markers.js';\n\n/**\n * @class FieldRenderers\n * @extends AbstractRenderer\n * @description Renders simple POI fields: text, badges, links, tags\n */\nclass FieldRenderers extends AbstractRenderer {\n    constructor(options = {}) {\n        super({\n            name: 'FieldRenderers',\n            debug: options.debug || false,\n            config: options.config || {}\n        });\n        this.init();\n    }\n\n    /**\n     * Render method (required by AbstractRenderer)\n     * Delegates to specific render methods\n     * @param {Object} data - Render data {section, poi, value, type}\n     * @returns {HTMLElement|null} Rendered element\n     */\n    render(data) {\n        const { section, poi, value, type } = data;\n\n        switch (type) {\n            case 'text':\n                return this.renderText(section, poi, value);\n            case 'badge':\n                return this.renderBadge(section, value, poi);\n            case 'link':\n                return this.renderLink(section, value);\n            case 'tags':\n                return this.renderTags(section, value);\n            default:\n                this.warn('Unknown render type:', type);\n                return null;\n        }\n    }\n\n    /**\n     * Rend un champ texte (title, description, etc.)\n     * @param {Object} section - Section config\n     * @param {Object} poi - POI data\n     * @param {string} value - Text value\n     * @returns {HTMLElement|null}\n     */\n    async renderText(section, poi, value) {\n\n        // Cas spécial pour le titre avec icône\n        if (section.style === 'title' || section.variant === 'title') {\n            return await this._renderTitleWithIcon(poi, value);\n        }\n\n        // Texte normal ou multiline\n        if (!value) {\n            this.warn('renderText: no value provided');\n            return null;\n        }\n\n        const element = this.createElement(\n            section.variant === 'multiline' ? 'div' : 'p',\n            'gl-poi-sidepanel__desc'\n        );\n\n        if (section.variant === 'multiline') {\n            element.style.whiteSpace = 'pre-wrap';\n            element.style.lineHeight = '1.6';\n        }\n\n        element.textContent = value;\n        this.info('renderText: element created, variant:', section.variant || 'normal');\n\n        return element;\n    }\n\n    /**\n     * Rend un titre avec icône SVG\n     * @private\n     * @param {Object} poi - POI data\n     * @param {string} value - Title text\n     * @returns {HTMLElement}\n     */\n    async _renderTitleWithIcon(poi, value) {\n        const titleH2 = this.createElement('h2', 'gl-poi-sidepanel__title');\n\n        // Ajouter l'icône SVG au titre\n        const markers = this._getMarkers();\n        if (markers && markers.resolveCategoryDisplay && markers.ensureProfileSpriteInjectedSync) {\n            const displayInfo = markers.resolveCategoryDisplay(poi);\n            this.debug('_renderTitleWithIcon: displayInfo =', displayInfo);\n\n            if (displayInfo.iconId) {\n                await markers.ensureProfileSpriteInjectedSync();\n\n                const svgIcon = this._createCategoryIcon(displayInfo);\n                if (svgIcon) {\n                    this.debug('_renderTitleWithIcon: SVG icon created successfully');\n                    titleH2.appendChild(svgIcon);\n                } else {\n                    this.warn('_renderTitleWithIcon: SVG icon creation failed');\n                }\n            } else {\n                this.debug('_renderTitleWithIcon: No iconId in displayInfo');\n            }\n        } else {\n            this.warn('_renderTitleWithIcon: Markers or required methods not available');\n        }\n\n        // Ajouter le texte du titre\n        const titleSpan = this.createTextElement('span',\n            value || poi.title || poi.label || poi.name || 'POI',\n            'gl-poi-sidepanel__title-text'\n        );\n        titleH2.appendChild(titleSpan);\n\n        this.info('renderText: title element created with icon');\n        return titleH2;\n    }\n\n    /**\n     * Crée une icône SVG de catégorie\n     * @private\n     * @param {Object} displayInfo - Display information {iconId, colorFill, colorStroke}\n     * @returns {SVGElement|null}\n     */\n    _createCategoryIcon(displayInfo) {\n        // Récupérer la config d'icônes depuis globalThis.GeoLeaf.Config\n        const iconsConfig = (Config && typeof Config.getIconsConfig === 'function')\n            ? Config.getIconsConfig()\n            : null;\n\n        const iconPrefix = (iconsConfig && iconsConfig.symbolPrefix) || \"gl-poi-cat-\";\n        const iconIdNormalized = String(displayInfo.iconId).trim().toLowerCase().replace(/\\s+/g, '-');\n        const symbolId = iconPrefix + iconIdNormalized;\n\n        this.debug('_createCategoryIcon: symbolId =', symbolId, ', colors =', displayInfo.colorFill, displayInfo.colorStroke);\n        this.debug('_createCategoryIcon: iconPrefix from config =', iconPrefix);\n\n        // Vérifier si le sprite existe dans le DOM\n        const sprite = document.querySelector('svg[data-geoleaf-sprite=\"profile\"]');\n        if (!sprite) {\n            this.warn('_createCategoryIcon: Sprite SVG non trouvé dans le DOM! Le sprite doit être chargé avant.');\n        } else {\n            this.debug('_createCategoryIcon: Sprite trouvé, nombre de symboles:', sprite.querySelectorAll('symbol').length);\n        }\n\n        // Vérifier si le symbole existe dans le sprite\n        const spriteSymbol = sprite ? sprite.querySelector(`#${symbolId}`) : null;\n        if (!spriteSymbol) {\n            this.warn('_createCategoryIcon: Symbole non trouvé dans le sprite:', symbolId);\n            if (sprite) {\n                // Lister les symboles disponibles pour debug\n                const availableSymbols = Array.from(sprite.querySelectorAll('symbol')).map(s => s.id).slice(0, 5);\n                this.debug('_createCategoryIcon: Premiers symboles disponibles:', availableSymbols);\n            }\n        }\n\n        const svgIcon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svgIcon.setAttribute('width', '32');\n        svgIcon.setAttribute('height', '32');\n        svgIcon.setAttribute('viewBox', '0 0 24 24');\n        svgIcon.setAttribute('class', 'gl-poi-sidepanel__icon');\n        svgIcon.style.marginRight = '10px';\n        svgIcon.style.flexShrink = '0';\n\n        const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        circle.setAttribute('cx', '12');\n        circle.setAttribute('cy', '12');\n        circle.setAttribute('r', '10');\n        circle.setAttribute('fill', displayInfo.colorFill || '#3388ff');\n        circle.setAttribute('stroke', displayInfo.colorStroke || '#fff');\n        circle.setAttribute('stroke-width', '1.5');\n\n        svgIcon.appendChild(circle);\n\n        // Ajouter le symbole uniquement s'il existe\n        if (spriteSymbol) {\n            // SVG imbriqué pour le symbole (comme dans le popup)\n            const innerSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n            innerSvg.setAttribute('x', '4');\n            innerSvg.setAttribute('y', '4');\n            innerSvg.setAttribute('width', '16');\n            innerSvg.setAttribute('height', '16');\n            innerSvg.setAttribute('viewBox', '0 0 32 32');\n\n            const use = document.createElementNS('http://www.w3.org/2000/svg', 'use');\n            use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', '#' + symbolId);\n            use.setAttribute('href', '#' + symbolId);\n            use.style.color = '#ffffff';\n\n            innerSvg.appendChild(use);\n            svgIcon.appendChild(innerSvg);\n        }\n\n        this.debug('_createCategoryIcon: SVG structure created');\n        return svgIcon;\n    }\n\n    /**\n     * Rend un badge (catégorie, sous-catégorie)\n     * @param {Object} section - Section config\n     * @param {string} value - Badge text\n     * @param {Object} poi - POI data\n     * @returns {HTMLElement|null}\n     */\n    renderBadge(section, value, poi) {\n        if (!value) return null;\n\n        const container = this.createElement('div', 'gl-poi-badge-container');\n        const badge = this.createTextElement('span', value, 'gl-poi-badge');\n\n        // Récupérer les couleurs depuis la taxonomie\n        const markers = this._getMarkers();\n        if (markers && markers.resolveCategoryDisplay) {\n            const displayInfo = markers.resolveCategoryDisplay(poi);\n            if (displayInfo.colorFill) {\n                badge.style.background = displayInfo.colorFill;\n                badge.style.color = '#fff';\n            }\n        }\n\n        container.appendChild(badge);\n        return container;\n    }\n\n    /**\n     * Rend un lien (website, etc.)\n     * @param {Object} section - Section config\n     * @param {string} url - URL\n     * @returns {HTMLElement|null}\n     */\n    renderLink(section, url) {\n        if (!url) return null;\n\n        const linkP = this.createElement('p', 'gl-poi-sidepanel__link');\n        const anchor = this.createElement('a', null, {\n            href: url,\n            target: '_blank',\n            rel: 'noopener noreferrer'\n        });\n\n        anchor.textContent = section.linkText || url;\n        linkP.appendChild(anchor);\n\n        return linkP;\n    }\n\n    /**\n     * Rend une liste de tags\n     * @param {Object} section - Section config\n     * @param {Array<string>} tags - Tags array\n     * @returns {HTMLElement|null}\n     */\n    renderTags(section, tags) {\n        if (!tags || !Array.isArray(tags) || tags.length === 0) return null;\n\n        const tagsDiv = this.createElement('div', 'gl-poi-sidepanel__tags');\n\n        tags.forEach(tag => {\n            if (tag) {\n                const tagSpan = this.createTextElement('span', tag, 'gl-poi-tag');\n                tagsDiv.appendChild(tagSpan);\n            }\n        });\n\n        return tagsDiv;\n    }\n\n    /**\n     * Get POI Markers module\n     * @private\n     * @returns {Object|null}\n     */\n    _getMarkers() {\n        return POIMarkers || null;\n    }\n}\n\n// ── ESM Export ──\nexport { FieldRenderers };\n","/**\r\n * POI Renderers - Media Renderers Module (Migrated to AbstractRenderer)\r\n * Rendu des médias: images, galeries, lightbox\r\n *\r\n * @module poi/renderers/media-renderers\r\n * @requires renderers/abstract-renderer\r\n * @version 2.0.0 - Migrated to AbstractRenderer base class\r\n */\r\nimport { AbstractRenderer } from '../../renderers/abstract-renderer.js';\r\n\r\n/**\r\n * @class MediaRenderers\r\n * @extends AbstractRenderer\r\n * @description Renders media elements: images, galleries, lightbox\r\n */\r\nclass MediaRenderers extends AbstractRenderer {\r\n    constructor(options = {}) {\r\n        super({\r\n            name: 'MediaRenderers',\r\n            debug: options.debug || false,\r\n            config: options.config || {}\r\n        });\r\n        this.init();\r\n    }\r\n\r\n    /**\r\n     * Render method (required by AbstractRenderer)\r\n     * @param {Object} data - Render data {section, value, type}\r\n     * @returns {HTMLElement|null} Rendered element\r\n     */\r\n    render(data) {\r\n        const { section, value, type } = data;\r\n\r\n        switch (type) {\r\n            case 'image':\r\n                return this.renderImage(section, value);\r\n            case 'gallery':\r\n                return this.renderGallery(section, value);\r\n            default:\r\n                this.warn('Unknown media render type:', type);\r\n                return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Rend une image (hero ou normale)\r\n     * @param {Object} section - Section config\r\n     * @param {string} imageUrl - Image URL\r\n     * @returns {HTMLElement|null}\r\n     */\r\n    renderImage(section, imageUrl) {\r\n        if (!imageUrl) return null;\r\n\r\n        const className = section.variant === 'hero'\r\n            ? 'gl-poi-sidepanel__photo gl-poi-sidepanel__photo--hero'\r\n            : 'gl-poi-sidepanel__photo';\r\n\r\n        const photoDiv = this.createElement('div', className);\r\n        const img = this.createElement('img', null, {\r\n            src: imageUrl,\r\n            alt: section.label || 'Photo',\r\n            loading: 'lazy'\r\n        });\r\n\r\n        photoDiv.appendChild(img);\r\n        return photoDiv;\r\n    }\r\n\r\n    /**\r\n     * Rend une galerie d'images avec miniatures\r\n     * @param {Object} section - Section config\r\n     * @param {Array<string>} gallery - Array of image URLs\r\n     * @returns {HTMLElement|null}\r\n     */\r\n    renderGallery(section, gallery) {\r\n        if (!gallery || !Array.isArray(gallery) || gallery.length === 0) {\r\n            this.warn('renderGallery: invalid gallery data', gallery);\r\n            return null;\r\n        }\r\n\r\n        this.info('renderGallery: rendering', gallery.length, 'images');\r\n\r\n        const galleryDiv = this.createElement('div', 'gl-poi-gallery');\r\n\r\n        // Image principale\r\n        const mainDiv = this._createMainImage(gallery[0]);\r\n        galleryDiv.appendChild(mainDiv);\r\n\r\n        // Miniatures si plusieurs images\r\n        if (gallery.length > 1) {\r\n            const thumbsDiv = this._createThumbnails(gallery, mainDiv);\r\n            galleryDiv.appendChild(thumbsDiv);\r\n        }\r\n\r\n        return galleryDiv;\r\n    }\r\n\r\n    /**\r\n     * Crée l'image principale de la galerie\r\n     * @private\r\n     * @param {string} imageUrl - Image URL\r\n     * @returns {HTMLElement}\r\n     */\r\n    _createMainImage(imageUrl) {\r\n        const mainDiv = this.createElement('div', 'gl-poi-gallery__main', {\r\n            'data-gallery-index': '0'\r\n        });\r\n\r\n        const mainImg = this.createElement('img', null, {\r\n            src: imageUrl,\r\n            alt: 'Image 1',\r\n            loading: 'lazy'\r\n        });\r\n\r\n        mainDiv.appendChild(mainImg);\r\n        return mainDiv;\r\n    }\r\n\r\n    /**\r\n     * Crée les miniatures de la galerie\r\n     * @private\r\n     * @param {Array<string>} gallery - Array of image URLs\r\n     * @param {HTMLElement} mainDiv - Main image container\r\n     * @returns {HTMLElement}\r\n     */\r\n    _createThumbnails(gallery, mainDiv) {\r\n        const thumbsDiv = this.createElement('div', 'gl-poi-gallery__thumbnails');\r\n        const mainImg = mainDiv.querySelector('img');\r\n\r\n        gallery.forEach((imgUrl, index) => {\r\n            const thumbDiv = this._createThumbnail(imgUrl, index, mainImg, mainDiv, thumbsDiv);\r\n            thumbsDiv.appendChild(thumbDiv);\r\n        });\r\n\r\n        return thumbsDiv;\r\n    }\r\n\r\n    /**\r\n     * Crée une miniature individuelle\r\n     * @private\r\n     * @param {string} imgUrl - Image URL\r\n     * @param {number} index - Image index\r\n     * @param {HTMLElement} mainImg - Main image element\r\n     * @param {HTMLElement} mainDiv - Main image container\r\n     * @param {HTMLElement} thumbsDiv - Thumbnails container\r\n     * @returns {HTMLElement}\r\n     */\r\n    _createThumbnail(imgUrl, index, mainImg, mainDiv, thumbsDiv) {\r\n        const thumbDiv = this.createElement('div',\r\n            index === 0 ? 'gl-poi-gallery__thumb active' : 'gl-poi-gallery__thumb',\r\n            { 'data-index': index.toString() }\r\n        );\r\n\r\n        const imgThumb = this.createElement('img', null, {\r\n            src: imgUrl,\r\n            alt: `Image ${index + 1}`,\r\n            loading: 'lazy'\r\n        });\r\n\r\n        thumbDiv.appendChild(imgThumb);\r\n\r\n        // Event listener pour changer l'image principale\r\n        this.addEventListener(thumbDiv, 'click', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            // Retirer la classe active de toutes les miniatures\r\n            const allThumbs = thumbsDiv.querySelectorAll('.gl-poi-gallery__thumb');\r\n            allThumbs.forEach(t => t.classList.remove('active'));\r\n\r\n            // Ajouter la classe active à la miniature cliquée\r\n            thumbDiv.classList.add('active');\r\n\r\n            // Changer l'image principale\r\n            mainImg.src = imgUrl;\r\n            mainImg.alt = `Image ${index + 1}`;\r\n            mainDiv.setAttribute('data-gallery-index', index.toString());\r\n\r\n            this.info('Gallery: Switched to image', index + 1);\r\n        }, true);\r\n\r\n        return thumbDiv;\r\n    }\r\n\r\n    /**\r\n     * Cleanup when gallery is destroyed\r\n     * @override\r\n     */\r\n    destroy() {\r\n        this.debug('Destroying MediaRenderers');\r\n        super.destroy();\r\n    }\r\n}\r\n\r\n// ── ESM Export ──\r\nexport { MediaRenderers };\r\n","/**\r\n * GeoLeaf POI Module - Section Orchestrator\r\n * Orchestration du rendu des sections (dispatcher, extraction valeurs, accordéons)\r\n * Phase 6.2 - Extraction depuis core.js\r\n */\r\nimport { Log } from \"../../log/index.js\";\r\nimport { ComponentRenderers } from \"./component-renderers.js\";\r\nimport { FieldRenderers } from \"./field-renderers.js\";\r\nimport { MediaRenderers } from \"./media-renderers.js\";\r\nimport { resolveField } from \"../../utils/general-utils.js\";\r\n\r\n/**\r\n * Orchestrateur de sections pour le side panel POI\r\n */\r\nclass SectionOrchestrator {\r\n    constructor() {\r\n        // Initialiser les renderers\r\n        this.componentRenderers = null;\r\n        this.fieldRenderers = null;\r\n        this.mediaRenderers = null;\r\n    }\r\n\r\n    /**\r\n     * Initialise les renderers (lazy loading)\r\n     * @private\r\n     */\r\n    _initRenderers() {\r\n        if (!this.componentRenderers) {\r\n            this.componentRenderers = new ComponentRenderers();\r\n        }\r\n        if (!this.fieldRenderers) {\r\n            this.fieldRenderers = new FieldRenderers({ debug: true });\r\n        }\r\n        if (!this.mediaRenderers) {\r\n            this.mediaRenderers = new MediaRenderers({ debug: true });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Récupère la valeur d'un champ avec support du dot notation\r\n     * @param {object} poi - POI complet\r\n     * @param {string} fieldPath - Chemin du champ (ex: \"attributes.address.city\")\r\n     * @returns {*}\r\n     */\r\n    getFieldValue(poi, fieldPath) {\r\n        if (!fieldPath) return null;\r\n\r\n        const resolve_fn =\r\n            resolveField ||\r\n            function (obj, path) {\r\n                const parts = path.split(\".\");\r\n                let current = obj;\r\n                for (const part of parts) {\r\n                    if (current && typeof current === \"object\" && part in current) {\r\n                        current = current[part];\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                }\r\n                return current;\r\n            };\r\n\r\n        const value = resolve_fn(poi, fieldPath);\r\n\r\n        if (Log && Log.info) {\r\n            Log.info(\r\n                \"[POI] getFieldValue:\",\r\n                fieldPath,\r\n                \"→\",\r\n                value === undefined\r\n                    ? \"undefined\"\r\n                    : value === null\r\n                      ? \"null\"\r\n                      : value === \"\"\r\n                        ? '\"\"(empty string)'\r\n                        : Array.isArray(value)\r\n                          ? `Array(${value.length})`\r\n                          : value && typeof value === \"object\"\r\n                            ? `Object(${Object.keys(value).length} keys)`\r\n                            : value\r\n            );\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Wrappe un contenu dans un accordéon <details>\r\n     * @param {object} section - Configuration de section\r\n     * @param {HTMLElement} content - Contenu à wrapper\r\n     * @param {boolean} isOpen - Ouvrir par défaut\r\n     * @returns {HTMLElement}\r\n     */\r\n    wrapInAccordion(section, content, isOpen = false) {\r\n        const details = document.createElement(\"details\");\r\n        details.className = \"gl-accordion\";\r\n        if (isOpen) details.setAttribute(\"open\", \"\");\r\n\r\n        const summary = document.createElement(\"summary\");\r\n        summary.className = \"gl-accordion__header\";\r\n        summary.textContent = section.label || \"Section\";\r\n\r\n        const arrow = document.createElement(\"span\");\r\n        arrow.className = \"gl-accordion__arrow\";\r\n        arrow.textContent = \"▼\";\r\n        summary.appendChild(arrow);\r\n\r\n        const panel = document.createElement(\"div\");\r\n        panel.className = \"gl-accordion__panel\";\r\n\r\n        const panelContent = document.createElement(\"div\");\r\n        panelContent.className = \"gl-accordion__panel-content\";\r\n        panelContent.appendChild(content);\r\n\r\n        panel.appendChild(panelContent);\r\n\r\n        details.appendChild(summary);\r\n        details.appendChild(panel);\r\n\r\n        return details;\r\n    }\r\n\r\n    /**\r\n     * Rend une section complète selon son type\r\n     * @param {object} section - Configuration de section\r\n     * @param {object} poi - POI complet\r\n     * @param {object} state - État partagé POI\r\n     * @returns {Promise<HTMLElement|null>}\r\n     */\r\n    async renderSection(section, poi, _state) {\r\n        if (!section || !section.type) return null;\r\n\r\n        // Initialiser les renderers si nécessaire\r\n        this._initRenderers();\r\n\r\n        // Résoudre la valeur du champ\r\n        const fieldValue = this.getFieldValue(poi, section.field);\r\n\r\n        if (Log) {\r\n            const valueType = Array.isArray(fieldValue)\r\n                ? `Array(${fieldValue.length})`\r\n                : fieldValue && typeof fieldValue === \"object\"\r\n                  ? `Object(${Object.keys(fieldValue).length} keys)`\r\n                  : typeof fieldValue;\r\n            Log.debug(\r\n                \"[POI] Section:\",\r\n                section.label || section.type,\r\n                \"- Field:\",\r\n                section.field,\r\n                \"- ValueType:\",\r\n                valueType,\r\n                \"- Value:\",\r\n                fieldValue\r\n            );\r\n        }\r\n\r\n        // Ne pas afficher si la valeur est vide, SAUF pour:\r\n        // - text avec style='title' (le titre est obligatoire)\r\n        // - badge (peut avoir un comportement par défaut)\r\n        const isRequiredField =\r\n            (section.type === \"text\" && section.style === \"title\") || section.type === \"badge\";\r\n\r\n        // Vérifier si la valeur est vraiment vide (null, undefined, '', [], {})\r\n        // ATTENTION: 0 est une valeur valide (pour les prix, métriques, etc.)\r\n        const isEmpty =\r\n            fieldValue === null ||\r\n            fieldValue === undefined ||\r\n            fieldValue === \"\" ||\r\n            (Array.isArray(fieldValue) && fieldValue.length === 0) ||\r\n            (typeof fieldValue === \"object\" &&\r\n                !Array.isArray(fieldValue) &&\r\n                Object.keys(fieldValue).length === 0);\r\n\r\n        if (Log) {\r\n            Log.info(\r\n                \"[POI] Check isEmpty for:\",\r\n                section.label,\r\n                \"- fieldValue:\",\r\n                fieldValue,\r\n                \"- isArray:\",\r\n                Array.isArray(fieldValue),\r\n                \"- arrayLength:\",\r\n                Array.isArray(fieldValue) ? fieldValue.length : \"N/A\",\r\n                \"- isEmpty:\",\r\n                isEmpty\r\n            );\r\n        }\r\n\r\n        if (isEmpty && !isRequiredField) {\r\n            if (Log)\r\n                Log.warn(\"[POI] Section ignorée (valeur vide):\", section.label || section.type);\r\n            return null;\r\n        }\r\n\r\n        if (Log)\r\n            Log.info(\r\n                \"[POI] → Appel render pour:\",\r\n                section.label,\r\n                \"- Type:\",\r\n                section.type,\r\n                \"- Value:\",\r\n                Array.isArray(fieldValue)\r\n                    ? `Array(${fieldValue.length})`\r\n                    : fieldValue && typeof fieldValue === \"object\"\r\n                      ? \"Object\"\r\n                      : fieldValue\r\n            );\r\n\r\n        // Créer l'élément selon le type\r\n        let content = null;\r\n\r\n        switch (section.type) {\r\n            case \"text\":\r\n            case \"longtext\": // Alias pour text avec plus de contenu\r\n                if (this.fieldRenderers) {\r\n                    content = await this.fieldRenderers.renderText(section, poi, fieldValue);\r\n                }\r\n                break;\r\n            case \"number\": // Afficher un nombre simple comme du texte\r\n                if (this.fieldRenderers) {\r\n                    content = await this.fieldRenderers.renderText(\r\n                        section,\r\n                        poi,\r\n                        String(fieldValue)\r\n                    );\r\n                }\r\n                break;\r\n            case \"metric\": {\r\n                // Nombre avec suffixe/préfixe\r\n                const suffix = section.suffix || \"\";\r\n                const prefix = section.prefix || \"\";\r\n                if (this.fieldRenderers) {\r\n                    content = await this.fieldRenderers.renderText(\r\n                        section,\r\n                        poi,\r\n                        prefix + String(fieldValue) + suffix\r\n                    );\r\n                }\r\n                break;\r\n            }\r\n            case \"image\":\r\n                if (this.mediaRenderers) {\r\n                    content = this.mediaRenderers.renderImage(section, fieldValue);\r\n                }\r\n                break;\r\n            case \"gallery\":\r\n                if (this.mediaRenderers) {\r\n                    content = this.mediaRenderers.renderGallery(section, fieldValue);\r\n                }\r\n                break;\r\n            case \"badge\":\r\n                content = this.componentRenderers.renderBadge(section, fieldValue, poi);\r\n                break;\r\n            case \"link\":\r\n                content = this.componentRenderers.renderLink(section, fieldValue);\r\n                break;\r\n            case \"list\":\r\n                content = this.componentRenderers.renderList(section, fieldValue);\r\n                break;\r\n            case \"table\":\r\n                content = this.componentRenderers.renderTable(section, fieldValue);\r\n                break;\r\n            case \"tags\":\r\n                content = this.componentRenderers.renderTags(section, fieldValue);\r\n                break;\r\n            case \"rating\":\r\n                content = this.componentRenderers.renderRating(section, fieldValue);\r\n                break;\r\n            case \"reviews\":\r\n                content = this.componentRenderers.renderReviews(section, fieldValue);\r\n                break;\r\n            default:\r\n                if (Log) Log.warn(\"[POI] Type de section inconnu:\", section.type);\r\n                return null;\r\n        }\r\n\r\n        if (!content) {\r\n            if (Log) Log.debug(\"[POI] Aucun contenu généré pour:\", section.label || section.type);\r\n            return null;\r\n        }\r\n\r\n        if (Log)\r\n            Log.debug(\r\n                \"[POI] Contenu généré pour:\",\r\n                section.label || section.type,\r\n                \"- Accordion:\",\r\n                section.accordion\r\n            );\r\n\r\n        // Wraper dans un accordéon si nécessaire\r\n        if (section.accordion) {\r\n            return this.wrapInAccordion(section, content, section.defaultOpen);\r\n        }\r\n\r\n        return content;\r\n    }\r\n}\r\n\r\n// ── ESM Export ──\r\nexport { SectionOrchestrator };\r\n","/**\r\n * GeoLeaf POI Module - Lightbox Manager\r\n * Gestion de l'affichage lightbox pour les images avec navigation galerie\r\n * Phase 6.2 - Extraction depuis core.js\r\n */\r\n\r\n/**\r\n * Gestionnaire de lightbox pour affichage d'images en plein écran\r\n * Supporte la navigation dans une galerie d'images (flèches gauche/droite)\r\n */\r\nclass LightboxManager {\r\n    constructor() {\r\n        this.currentLightbox = null;\r\n        this.keyHandler = null;\r\n        /** @type {string[]} Liste des URLs d'images de la galerie */\r\n        this.galleryImages = [];\r\n        /** @type {number} Index courant dans la galerie */\r\n        this.currentIndex = 0;\r\n        /** @type {HTMLImageElement|null} Référence vers l'élément image affichée */\r\n        this._imgElement = null;\r\n        /** @type {HTMLElement|null} Référence vers le compteur */\r\n        this._counterElement = null;\r\n        /** @type {HTMLElement|null} Référence vers le bouton précédent */\r\n        this._prevButton = null;\r\n        /** @type {HTMLElement|null} Référence vers le bouton suivant */\r\n        this._nextButton = null;\r\n        /** @type {Function|null} Callback appelé quand l'index change */\r\n        this.onIndexChange = null;\r\n    }\r\n\r\n    /**\r\n     * Ouvre une lightbox pour afficher une image en plein écran.\r\n     * Si un tableau d'images est fourni, active la navigation par flèches.\r\n     * @param {string} imageSrc - URL de l'image à afficher\r\n     * @param {string[]} [galleryImages] - Tableau d'URLs pour navigation galerie\r\n     * @param {number} [startIndex] - Index de départ dans la galerie\r\n     */\r\n    open(imageSrc, galleryImages, startIndex) {\r\n        // Fermer lightbox précédente si existe\r\n        this.close();\r\n\r\n        // Configurer la galerie\r\n        if (Array.isArray(galleryImages) && galleryImages.length > 1) {\r\n            this.galleryImages = galleryImages;\r\n            this.currentIndex = typeof startIndex === 'number' ? startIndex : galleryImages.indexOf(imageSrc);\r\n            if (this.currentIndex < 0) this.currentIndex = 0;\r\n        } else {\r\n            this.galleryImages = [imageSrc];\r\n            this.currentIndex = 0;\r\n        }\r\n\r\n        // Créer le conteneur principal (utilise les classes CSS existantes)\r\n        const lightbox = document.createElement('div');\r\n        lightbox.className = 'gl-poi-lightbox-global';\r\n        lightbox.style.display = 'flex';\r\n\r\n        // Overlay (clic pour fermer)\r\n        const overlay = document.createElement('div');\r\n        overlay.className = 'gl-poi-lightbox__overlay';\r\n        overlay.addEventListener('click', () => this.close());\r\n        lightbox.appendChild(overlay);\r\n\r\n        // Conteneur de contenu\r\n        const content = document.createElement('div');\r\n        content.className = 'gl-poi-lightbox__content';\r\n        lightbox.appendChild(content);\r\n\r\n        // Image\r\n        const img = document.createElement('img');\r\n        img.className = 'gl-poi-lightbox__image';\r\n        img.src = imageSrc;\r\n        img.alt = '';\r\n        content.appendChild(img);\r\n        this._imgElement = img;\r\n\r\n        // Bouton fermer\r\n        const closeBtn = document.createElement('button');\r\n        closeBtn.className = 'gl-poi-lightbox__close';\r\n        closeBtn.setAttribute('aria-label', 'Fermer');\r\n        closeBtn.textContent = '\\u00D7';\r\n        closeBtn.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n            this.close();\r\n        });\r\n        lightbox.appendChild(closeBtn);\r\n\r\n        // Navigation galerie (flèches + compteur) si plusieurs images\r\n        if (this.galleryImages.length > 1) {\r\n            this._createNavigation(lightbox);\r\n        }\r\n\r\n        document.body.appendChild(lightbox);\r\n        this.currentLightbox = lightbox;\r\n\r\n        // Gestion clavier : Escape, flèches gauche/droite\r\n        this.keyHandler = (e) => {\r\n            if (e.key === 'Escape') {\r\n                this.close();\r\n            } else if (e.key === 'ArrowLeft') {\r\n                e.preventDefault();\r\n                this.prev();\r\n            } else if (e.key === 'ArrowRight') {\r\n                e.preventDefault();\r\n                this.next();\r\n            }\r\n        };\r\n        document.addEventListener('keydown', this.keyHandler);\r\n    }\r\n\r\n    /**\r\n     * Crée les boutons de navigation et le compteur\r\n     * @private\r\n     * @param {HTMLElement} lightbox - Conteneur lightbox\r\n     */\r\n    _createNavigation(lightbox) {\r\n        // Bouton précédent\r\n        const prevBtn = document.createElement('button');\r\n        prevBtn.className = 'gl-poi-lightbox__prev';\r\n        prevBtn.setAttribute('aria-label', 'Image précédente');\r\n        prevBtn.textContent = '\\u2039';\r\n        prevBtn.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n            this.prev();\r\n        });\r\n        lightbox.appendChild(prevBtn);\r\n        this._prevButton = prevBtn;\r\n\r\n        // Bouton suivant\r\n        const nextBtn = document.createElement('button');\r\n        nextBtn.className = 'gl-poi-lightbox__next';\r\n        nextBtn.setAttribute('aria-label', 'Image suivante');\r\n        nextBtn.textContent = '\\u203A';\r\n        nextBtn.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n            this.next();\r\n        });\r\n        lightbox.appendChild(nextBtn);\r\n        this._nextButton = nextBtn;\r\n\r\n        // Compteur (ex: \"2 / 5\")\r\n        const counter = document.createElement('div');\r\n        counter.className = 'gl-poi-lightbox__counter';\r\n        lightbox.appendChild(counter);\r\n        this._counterElement = counter;\r\n\r\n        this._updateNavState();\r\n    }\r\n\r\n    /**\r\n     * Navigue vers l'image précédente\r\n     */\r\n    prev() {\r\n        if (this.galleryImages.length <= 1) return;\r\n        this.currentIndex = (this.currentIndex - 1 + this.galleryImages.length) % this.galleryImages.length;\r\n        this._updateImage();\r\n    }\r\n\r\n    /**\r\n     * Navigue vers l'image suivante\r\n     */\r\n    next() {\r\n        if (this.galleryImages.length <= 1) return;\r\n        this.currentIndex = (this.currentIndex + 1) % this.galleryImages.length;\r\n        this._updateImage();\r\n    }\r\n\r\n    /**\r\n     * Met à jour l'image affichée et l'état de navigation\r\n     * @private\r\n     */\r\n    _updateImage() {\r\n        if (!this._imgElement) return;\r\n        this._imgElement.src = this.galleryImages[this.currentIndex];\r\n        this._updateNavState();\r\n\r\n        // Notifier le changement d'index (pour synchroniser les miniatures)\r\n        if (typeof this.onIndexChange === 'function') {\r\n            this.onIndexChange(this.currentIndex);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Met à jour le compteur et la visibilité des flèches\r\n     * @private\r\n     */\r\n    _updateNavState() {\r\n        if (this._counterElement) {\r\n            this._counterElement.textContent = `${this.currentIndex + 1} / ${this.galleryImages.length}`;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Ferme la lightbox active\r\n     */\r\n    close() {\r\n        if (this.currentLightbox && document.body.contains(this.currentLightbox)) {\r\n            document.body.removeChild(this.currentLightbox);\r\n        }\r\n\r\n        if (this.keyHandler) {\r\n            document.removeEventListener('keydown', this.keyHandler);\r\n            this.keyHandler = null;\r\n        }\r\n\r\n        this.currentLightbox = null;\r\n        this._imgElement = null;\r\n        this._counterElement = null;\r\n        this._prevButton = null;\r\n        this._nextButton = null;\r\n        this.galleryImages = [];\r\n        this.currentIndex = 0;\r\n        this.onIndexChange = null;\r\n    }\r\n\r\n    /**\r\n     * Vérifie si une lightbox est actuellement ouverte\r\n     * @returns {boolean}\r\n     */\r\n    isOpen() {\r\n        return this.currentLightbox !== null && document.body.contains(this.currentLightbox);\r\n    }\r\n}\r\n\r\n// ── ESM Export ──\r\nexport { LightboxManager };\r\n","/**\r\n * GeoLeaf POI Module - UI Behaviors\r\n * Comportements interactifs pour le side panel (accordéons, galeries)\r\n * Phase 6.2 - Extraction depuis core.js\r\n */\r\nimport { Log } from '../../log/index.js';\r\n\r\n\r\n/**\r\n * Comportements UI pour le side panel POI\r\n */\r\nconst UIBehaviors = {\r\n    /**\r\n     * Attache le comportement d'accordéon exclusif (un seul ouvert à la fois)\r\n     * @param {HTMLElement} container - Conteneur parent des accordéons\r\n     */\r\n    attachSingleAccordionBehavior(container) {\r\n        const accordions = container.querySelectorAll('details.gl-accordion');\r\n        if (accordions.length === 0) return;\r\n\r\n        accordions.forEach(accordion => {\r\n            accordion.addEventListener('toggle', (event) => {\r\n                // Si cet accordéon vient d'être ouvert\r\n                if (event.target.open) {\r\n                    // Fermer tous les autres accordéons\r\n                    accordions.forEach(otherAccordion => {\r\n                        if (otherAccordion !== event.target && otherAccordion.open) {\r\n                            otherAccordion.removeAttribute('open');\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        });\r\n\r\n        if (Log) Log.info('[POI] Comportement singleAccordion activé:', accordions.length, 'accordéons');\r\n    },\r\n\r\n    /**\r\n     * Attache les événements de navigation pour une galerie d'images\r\n     * @param {HTMLElement} sidePanelElement - Élément du side panel\r\n     * @param {LightboxManager} lightboxManager - Instance du gestionnaire de lightbox\r\n     */\r\n    attachGalleryEvents(sidePanelElement, lightboxManager) {\r\n        if (!sidePanelElement) return;\r\n        if (sidePanelElement._galleryEventsAttached) return;\r\n        sidePanelElement._galleryEventsAttached = true;\r\n\r\n        // Navigation par miniatures\r\n        const thumbs = sidePanelElement.querySelectorAll('.gl-poi-gallery__thumb');\r\n        const mainImg = sidePanelElement.querySelector('.gl-poi-gallery__main img');\r\n\r\n        if (!mainImg || thumbs.length === 0) return;\r\n\r\n        // Collecter toutes les URLs d'images de la galerie\r\n        const galleryImages = Array.from(thumbs).map(\r\n            thumb => thumb.querySelector('img').src\r\n        );\r\n\r\n        thumbs.forEach((thumb) => {\r\n            thumb.addEventListener('click', () => {\r\n                const index = parseInt(thumb.getAttribute('data-index'), 10);\r\n                const imgSrc = thumb.querySelector('img').src;\r\n\r\n                // Mettre à jour l'image principale\r\n                mainImg.src = imgSrc;\r\n                mainImg.alt = `Image ${index + 1}`;\r\n\r\n                // Mettre à jour l'état actif des miniatures\r\n                thumbs.forEach(t => t.classList.remove('active'));\r\n                thumb.classList.add('active');\r\n            });\r\n        });\r\n\r\n        // Clic sur l'image principale pour lightbox avec navigation galerie\r\n        mainImg.addEventListener('click', () => {\r\n            if (lightboxManager) {\r\n                // Déterminer l'index courant depuis la miniature active\r\n                const activeThumb = sidePanelElement.querySelector('.gl-poi-gallery__thumb.active');\r\n                const currentIndex = activeThumb\r\n                    ? parseInt(activeThumb.getAttribute('data-index'), 10)\r\n                    : 0;\r\n\r\n                // Ouvrir la lightbox avec toute la galerie\r\n                lightboxManager.open(mainImg.src, galleryImages, currentIndex);\r\n\r\n                // Synchroniser les miniatures quand on navigue dans la lightbox\r\n                lightboxManager.onIndexChange = (newIndex) => {\r\n                    thumbs.forEach(t => t.classList.remove('active'));\r\n                    const targetThumb = sidePanelElement.querySelector(\r\n                        `.gl-poi-gallery__thumb[data-index=\"${newIndex}\"]`\r\n                    );\r\n                    if (targetThumb) {\r\n                        targetThumb.classList.add('active');\r\n                        // Mettre à jour l'image principale du panneau aussi\r\n                        const imgSrc = targetThumb.querySelector('img').src;\r\n                        mainImg.src = imgSrc;\r\n                        mainImg.alt = `Image ${newIndex + 1}`;\r\n                    }\r\n                };\r\n            }\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Configure tous les comportements UI pour le side panel\r\n     * @param {HTMLElement} container - Conteneur du side panel\r\n     * @param {LightboxManager} lightboxManager - Instance du gestionnaire de lightbox\r\n     */\r\n    setupAll(container, lightboxManager) {\r\n        this.attachSingleAccordionBehavior(container);\r\n        this.attachGalleryEvents(container, lightboxManager);\r\n    }\r\n};\r\n\r\n// ── ESM Export ──\r\nexport { UIBehaviors };\r\n","/**\r\n * GeoLeaf POI Module - Renderers Core\r\n * Orchestrateur principal pour le rendu du side panel POI\r\n * Phase 6.2 - Version refactorisÃƒÂ©e (837 LOC Ã¢â€ â€™ ~140 LOC)\r\n *\r\n * Architecture modulaire:\r\n * - lightbox-manager.js: Gestion lightbox\r\n * - ui-behaviors.js: Comportements UI (accordÃƒÂ©ons, galerie)\r\n * - component-renderers.js: Renderers composants (badges, links, lists, tables, tags)\r\n * - section-orchestrator.js: Dispatcher de sections + extraction valeurs\r\n * - field-renderers-v2.js: Renderers texte\r\n * - media-renderers-v2.js: Renderers media\r\n */\r\nimport { Log } from '../../log/index.js';\r\nimport { Config } from '../../config/config-primitives.js';\r\nimport { POIShared } from '../shared.js';\r\nimport { POINormalizers } from '../normalizers.js';\r\nimport { compareByOrder } from '../../utils/general-utils.js';\r\nimport { SectionOrchestrator } from './section-orchestrator.js';\r\nimport { LightboxManager } from './lightbox-manager.js';\r\nimport { UIBehaviors } from './ui-behaviors.js';\r\nimport { DOMSecurity } from '../../utils/dom-security.js';\r\n\r\n// Initialiser les nouveaux modules\r\nlet sectionOrchestrator = null;\r\nlet lightboxManager = null;\r\nlet uiBehaviors = null;\r\n\r\n/**\r\n * Initialise les modules (lazy loading)\r\n * @private\r\n */\r\nfunction _initModules() {\r\n    if (!sectionOrchestrator) {\r\n        sectionOrchestrator = new SectionOrchestrator();\r\n    }\r\n    if (!lightboxManager) {\r\n        lightboxManager = new LightboxManager();\r\n    }\r\n    if (!uiBehaviors) {\r\n        uiBehaviors = UIBehaviors;\r\n    }\r\n}\r\n\r\n/**\r\n * Peuple le side panel avec les donnÃƒÂ©es du POI en utilisant le layout JSON.\r\n *\r\n * @param {object} poi - POI normalisÃƒÂ©.\r\n * @param {object} customLayout - Layout personnalisÃƒÂ© (optionnel).\r\n * @returns {Promise<void>}\r\n */\r\nasync function populateSidePanel(poi, customLayout) {\r\n    // Initialiser les modules\r\n    _initModules();\r\n\r\n    const shared = POIShared;\r\n    if (!shared) {\r\n        if (Log) Log.error('[POI] populateSidePanel : shared is null');\r\n        return;\r\n    }\r\n    const state = shared.state;\r\n\r\n    if (!state.sidePanelElement) {\r\n        if (Log) Log.error('[POI] populateSidePanel : sidePanelElement not found');\r\n        return;\r\n    }\r\n\r\n    const contentDiv = state.sidePanelElement.querySelector('.gl-poi-sidepanel__content');\r\n    if (!contentDiv) return;\r\n\r\n    // Clear contenu précédent + réinitialiser le flag de galerie pour que les\r\n    // événements soient bien rattachés aux nouveaux éléments DOM\r\n    DOMSecurity.clearElementFast(contentDiv);\r\n    delete state.sidePanelElement._galleryEventsAttached;\r\n\r\n    // Normaliser le POI\r\n    const normalizers = POINormalizers;\r\n    const normalized = normalizers ? normalizers.normalizePoi(poi) : poi;\r\n\r\n    if (Log) {\r\n        Log.debug('[POI] POI normalisÃƒÂ©:', normalized.title || normalized.label);\r\n        Log.debug('[POI] Champs attributes disponibles:', Object.keys(normalized.attributes || {}));\r\n    }\r\n\r\n    // RÃƒÂ©cupÃƒÂ©rer le layout depuis la config du profile\r\n    let layout = customLayout;\r\n\r\n    // Ã¢Å“â€¦ PRIORITÃƒâ€° 1: VÃƒÂ©rifier si le POI a une configuration sidepanel attachÃƒÂ©e (depuis sa couche)\r\n    if (!layout && normalized._sidepanelConfig && normalized._sidepanelConfig.detailLayout) {\r\n        layout = normalized._sidepanelConfig.detailLayout;\r\n        if (Log) Log.info('[POI] Layout rÃƒÂ©cupÃƒÂ©rÃƒÂ© depuis la configuration de couche attachÃƒÂ©e au POI');\r\n    }\r\n\r\n    // Ã¢Å“â€¦ PRIORITÃƒâ€° 2: Essayer de rÃƒÂ©cupÃƒÂ©rer depuis le profil actif\r\n    if (!layout) {\r\n        if (Config && typeof Config.getActiveProfile === 'function') {\r\n            const activeProfile = Config.getActiveProfile();\r\n            if (activeProfile && activeProfile.panels && activeProfile.panels.detail) {\r\n                layout = activeProfile.panels.detail.layout;\r\n                if (Log) Log.info('[POI] Layout rÃƒÂ©cupÃƒÂ©rÃƒÂ© depuis le profil actif:', activeProfile.id || 'unknown');\r\n            }\r\n        }\r\n    }\r\n\r\n    // Fallback sur poiConfig si disponible\r\n    if (!layout && state.poiConfig?.panels?.detail?.layout) {\r\n        layout = state.poiConfig.panels.detail.layout;\r\n    }\r\n\r\n    // Si toujours pas de layout, utiliser le layout par dÃƒÂ©faut\r\n    if (!layout || layout.length === 0) {\r\n        if (Log) Log.warn('[POI] Aucun layout trouvÃƒÂ©, utilisation du layout par dÃƒÂ©faut');\r\n        layout = _getDefaultLayout();\r\n    }\r\n\r\n    // Ã¢Å“â€¦ IMPORTANT: Trier les sections par 'order' (Phase 4 dedup)\r\n    const sortedLayout = [...layout].sort(compareByOrder);\r\n\r\n    if (Log) Log.info('[POI] GÃƒÂ©nÃƒÂ©ration du side panel avec', sortedLayout.length, 'sections');\r\n\r\n    // Body du panneau\r\n    const body = document.createElement('div');\r\n    body.className = 'gl-poi-sidepanel__body';\r\n\r\n    // GÃƒÂ©nÃƒÂ©rer chaque section selon le layout triÃƒÂ© (dÃƒÂ©lÃƒÂ©guer ÃƒÂ  SectionOrchestrator)\r\n    for (const section of sortedLayout) {\r\n        try {\r\n            const element = sectionOrchestrator\r\n                ? await sectionOrchestrator.renderSection(section, normalized, state)\r\n                : null;\r\n\r\n            if (element) {\r\n                body.appendChild(element);\r\n                if (Log) Log.info('[POI] Ã¢Å“â€œ Section ajoutÃƒÂ©e:', section.label || section.type);\r\n            } else {\r\n                if (Log) Log.warn('[POI] Ã¢Å“â€” Section ignorÃƒÂ©e (element null):', section.label || section.type, '- field:', section.field);\r\n            }\r\n        } catch (error) {\r\n            console.error('[SIDEPANEL] ERROR rendering section:', section.label, error);\r\n            if (Log) Log.error('[POI] Erreur lors du rendu de la section:', section.label, error);\r\n        }\r\n    }\r\n\r\n    contentDiv.appendChild(body);\r\n\r\n    // GÃƒÂ©rer le comportement singleAccordion si configurÃƒÂ©\r\n    const singleAccordion = normalized._sidepanelConfig?.singleAccordion;\r\n    if (singleAccordion === true && uiBehaviors) {\r\n        uiBehaviors.attachSingleAccordionBehavior(body);\r\n    }\r\n\r\n    // Attacher les ÃƒÂ©vÃƒÂ©nements aprÃƒÂ¨s le rendu\r\n    if (uiBehaviors) {\r\n        uiBehaviors.attachGalleryEvents(state.sidePanelElement, lightboxManager);\r\n    }\r\n}\r\n\r\n/**\r\n * Retourne un layout par dÃƒÂ©faut si aucun n'est configurÃƒÂ©.\r\n * @private\r\n */\r\nfunction _getDefaultLayout() {\r\n    return [\r\n        { type: 'text', field: 'title', style: 'title', accordion: false },\r\n        { type: 'image', field: 'attributes.mainImage', variant: 'hero', accordion: false },\r\n        { type: 'text', field: 'attributes.shortDescription', variant: 'short', accordion: false },\r\n        { type: 'text', label: 'Informations', field: 'attributes.longDescription', variant: 'multiline', accordion: true, defaultOpen: true },\r\n        { type: 'text', label: 'Description', field: 'attributes.description_long', variant: 'multiline', accordion: true, defaultOpen: true },\r\n        { type: 'gallery', label: 'Galerie photos', field: 'attributes.gallery', accordion: true, defaultOpen: true },\r\n        { type: 'list', label: 'Prix', field: 'attributes.price', accordion: true, defaultOpen: false },\r\n        { type: 'reviews', label: 'Avis rÃƒÂ©cents', field: 'attributes.reviews.recent', maxCount: 5, accordion: true, defaultOpen: false },\r\n        { type: 'tags', label: 'Tags', field: 'attributes.tags', accordion: false },\r\n        { type: 'link', label: 'Visiter le site web Ã¢â€ â€™', field: 'attributes.website', accordion: false }\r\n    ];\r\n}\r\n\r\nconst RendererCore = {\r\n    populateSidePanel\r\n};\r\n\r\n// Ã¢â€â‚¬Ã¢â€â‚¬ ESM Export Ã¢â€â‚¬Ã¢â€â‚¬\r\nexport { RendererCore };\r\n","/**\r\n * Module Renderers/Links pour POI\r\n * Rendu des liens\r\n */\r\nimport { Log } from '../../log/index.js';\r\n\r\n\r\n/**\r\n * Module Links Renderer\r\n * @namespace _POIRendererLinks\r\n * @private\r\n */\r\nconst _POIRendererLinks = {\r\n    /**\r\n     * Rend un lien (website, etc.)\r\n     * @param {Object} section - Configuration de la section\r\n     * @param {string} url - URL du lien\r\n     * @returns {HTMLElement|null}\r\n     */\r\n    renderLink(section, url) {\r\n        if (!url) return null;\r\n\r\n        const container = document.createElement('div');\r\n        container.className = 'gl-poi-link-container';\r\n\r\n        const link = document.createElement('a');\r\n        link.className = 'gl-poi-website-link';\r\n        link.href = url;\r\n        link.target = '_blank';\r\n        link.rel = 'noopener noreferrer';\r\n        link.textContent = section.label || url;\r\n\r\n        container.appendChild(link);\r\n        return container;\r\n    }\r\n};\r\n\r\n\r\n// ── ESM Export ──\r\nconst RendererLinks = _POIRendererLinks;\r\nexport { RendererLinks };\r\n","/**\r\n * GeoLeaf Contract — POI Renderers (lazy-chunk boundary)\r\n *\r\n * Interface ESM pure pour accéder aux sous-modules de rendu POI\r\n * (RendererCore, FieldRenderers, MediaRenderers, RendererLinks)\r\n * depuis la façade poi/renderers.js sans couplage runtime.\r\n *\r\n * Phase 10-D — Pattern C : contrat de chunk POI Renderers.\r\n *\r\n * USAGE :\r\n *   import { POIRenderersContract } from '../../contracts/poi-renderers.contract.js';\r\n *\r\n *   const fragment = POIRenderersContract.renderContent(poi, state);\r\n *   await POIRenderersContract.populateSidePanel(poi, layout);\r\n */\r\n\"use strict\";\r\n\r\nimport { RendererCore } from \"../modules/poi/renderers/core.js\";\r\nimport { RendererLinks } from \"../modules/poi/renderers/links.js\";\r\nimport { FieldRenderers } from \"../modules/poi/renderers/field-renderers.js\";\r\nimport { MediaRenderers } from \"../modules/poi/renderers/media-renderers.js\";\r\n\r\n/** @type {FieldRenderers|null} Instance singleton paresseuse */\r\nlet _fieldRenderers = null;\r\n\r\n/** @type {MediaRenderers|null} Instance singleton paresseuse */\r\nlet _mediaRenderers = null;\r\n\r\n/**\r\n * Retourne l'instance singleton de FieldRenderers (lazy-init).\r\n * @returns {FieldRenderers}\r\n * @private\r\n */\r\nfunction _getFieldRenderers() {\r\n    if (!_fieldRenderers) {\r\n        _fieldRenderers = new FieldRenderers({ debug: false });\r\n    }\r\n    return _fieldRenderers;\r\n}\r\n\r\n/**\r\n * Retourne l'instance singleton de MediaRenderers (lazy-init).\r\n * @returns {MediaRenderers}\r\n * @private\r\n */\r\nfunction _getMediaRenderers() {\r\n    if (!_mediaRenderers) {\r\n        _mediaRenderers = new MediaRenderers({ debug: false });\r\n    }\r\n    return _mediaRenderers;\r\n}\r\n\r\n/**\r\n * Contrat d'interface pour les sous-modules POI Renderers.\r\n * @namespace POIRenderersContract\r\n */\r\nconst POIRenderersContract = {\r\n    /**\r\n     * Peuple le side panel avec les données d'un POI.\r\n     * @param {Object} poi - POI normalisé\r\n     * @param {Object} customLayout - Layout personnalisé (optionnel)\r\n     * @returns {Promise<void>}\r\n     */\r\n    async populateSidePanel(poi, customLayout) {\r\n        if (RendererCore && typeof RendererCore.populateSidePanel === \"function\") {\r\n            return RendererCore.populateSidePanel(poi, customLayout);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Rend le contenu complet d'un POI (side panel).\r\n     * @param {Object} poi - Données du POI\r\n     * @param {Object} state - État\r\n     * @returns {DocumentFragment}\r\n     */\r\n    renderContent(poi, state) {\r\n        if (RendererCore && typeof RendererCore.renderContent === \"function\") {\r\n            return RendererCore.renderContent(poi, state);\r\n        }\r\n        return document.createDocumentFragment();\r\n    },\r\n\r\n    /**\r\n     * Rend un champ texte.\r\n     * @param {Object} section\r\n     * @param {Object} poi\r\n     * @param {string} value\r\n     * @returns {Promise<HTMLElement|null>}\r\n     */\r\n    async renderText(section, poi, value) {\r\n        return _getFieldRenderers().renderText(section, poi, value);\r\n    },\r\n\r\n    /**\r\n     * Rend un badge.\r\n     * @param {Object} section\r\n     * @param {*} value\r\n     * @param {Object} poi\r\n     * @returns {HTMLElement|null}\r\n     */\r\n    renderBadge(section, value, poi) {\r\n        return _getFieldRenderers().renderBadge(section, value, poi);\r\n    },\r\n\r\n    /**\r\n     * Rend une image.\r\n     * @param {Object} section\r\n     * @param {string} imageUrl\r\n     * @returns {HTMLElement|null}\r\n     */\r\n    renderImage(section, imageUrl) {\r\n        return _getMediaRenderers().renderImage(section, imageUrl);\r\n    },\r\n\r\n    /**\r\n     * Rend une galerie.\r\n     * @param {Object} section\r\n     * @param {Array<string>} gallery\r\n     * @returns {HTMLElement|null}\r\n     */\r\n    renderGallery(section, gallery) {\r\n        return _getMediaRenderers().renderGallery(section, gallery);\r\n    },\r\n\r\n    /**\r\n     * Rend un lien.\r\n     * @param {Object} section\r\n     * @param {string} url\r\n     * @returns {HTMLElement|null}\r\n     */\r\n    renderLink(section, url) {\r\n        return RendererLinks.renderLink(section, url);\r\n    },\r\n};\r\n\r\nexport { POIRenderersContract };\r\n","/*!\r\n * GeoLeaf Core\r\n *  2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * Module POI Renderers (Agrégateur)\r\n * Facade publique pour tous les renderers POI - Phase 10-D Pattern C\r\n */\r\n\r\nimport { POIRenderersContract } from \"../../contracts/poi-renderers.contract.js\";\r\n\r\nconst _POIRenderers = {\r\n    /**\r\n     * Rend le contenu complet d'un POI\r\n     * @param {Object} poi - Données du POI\r\n     * @param {Object} state - État\r\n     * @returns {DocumentFragment}\r\n     */\r\n    renderContent(poi, state) {\r\n        return POIRenderersContract.renderContent(poi, state);\r\n    },\r\n\r\n    /**\r\n     * Rend un champ texte\r\n     */\r\n    renderText(section, poi, value) {\r\n        return POIRenderersContract.renderText(section, poi, value);\r\n    },\r\n\r\n    /**\r\n     * Rend un badge\r\n     */\r\n    renderBadge(section, value, poi) {\r\n        return POIRenderersContract.renderBadge(section, value, poi);\r\n    },\r\n\r\n    /**\r\n     * Rend une image\r\n     */\r\n    renderImage(section, imageUrl) {\r\n        return POIRenderersContract.renderImage(section, imageUrl);\r\n    },\r\n\r\n    /**\r\n     * Rend une galerie\r\n     */\r\n    renderGallery(section, gallery) {\r\n        return POIRenderersContract.renderGallery(section, gallery);\r\n    },\r\n\r\n    /**\r\n     * Rend un lien\r\n     */\r\n    renderLink(section, url) {\r\n        return POIRenderersContract.renderLink(section, url);\r\n    },\r\n\r\n    /**\r\n     * Peuple le side panel avec les données du POI\r\n     * @returns {Promise<void>}\r\n     */\r\n    async populateSidePanel(poi, customLayout) {\r\n        return POIRenderersContract.populateSidePanel(poi, customLayout);\r\n    },\r\n};\r\n\r\n//  ESM Export\r\nconst POIRenderers = _POIRenderers;\r\nexport { POIRenderers };\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf POI Module - Side Panel\r\n * Gestion du panneau latéral d'affichage détaillé des POI\r\n * TODO Phase 4: Découper fonctions complexes en sous-fonctions <80 lignes\r\n */\r\nimport { Log } from '../log/index.js';\r\nimport { POIShared } from './shared.js';\r\nimport { POIRenderers } from './renderers.js';\r\nimport { createElement } from '../utils/dom-helpers.js';\r\n\r\n\r\n\r\n\r\n/**\r\n * Shorthand for createElement\r\n */\r\nconst $create = (tag, props, ...children) => {\r\n    return createElement(tag, props, ...children);\r\n};\r\n\r\n// Référence au module shared\r\n\r\n\r\n\r\n\r\n/**\r\n * Crée l'élément DOM du panneau latéral si non existant.\r\n */\r\nfunction createSidePanel() {\r\n    const shared = POIShared;\r\n    if (!shared) return;\r\n    const state = shared.state;\r\n\r\n    if (state.sidePanelElement) return; // Déjà créé\r\n\r\n    // Créer l'overlay\r\n    const overlay = $create('div', {\r\n        className: 'gl-poi-sidepanel-overlay',\r\n        attributes: { 'aria-hidden': 'true' }\r\n    });\r\n    // Ajouter à .gl-main pour support du mode plein écran\r\n    const glMain = document.querySelector('.gl-main');\r\n    if (glMain) {\r\n        glMain.appendChild(overlay);\r\n    } else {\r\n        document.body.appendChild(overlay);\r\n    }\r\n    state.sidePanelOverlay = overlay;\r\n\r\n    // Créer le panneau\r\n    const panel = $create('aside', {\r\n        className: 'gl-poi-sidepanel',\r\n        attributes: {\r\n            'aria-hidden': 'true',\r\n            'role': 'complementary'\r\n        }\r\n    });\r\n\r\n    // Créer le header avec bouton fermer\r\n    const header = $create('div', { className: 'gl-poi-sidepanel__header' });\r\n    const closeBtn = $create('button', {\r\n        className: 'gl-poi-sidepanel__close',\r\n        attributes: { 'aria-label': 'Fermer' },\r\n        textContent: '×',\r\n        onClick: closeSidePanel\r\n    });\r\n    header.appendChild(closeBtn);\r\n\r\n    // Créer le content\r\n    const content = $create('div', { className: 'gl-poi-sidepanel__content' });\r\n\r\n    panel.appendChild(header);\r\n    panel.appendChild(content);\r\n    // Ajouter à .gl-main pour support du mode plein écran\r\n    if (glMain) {\r\n        glMain.appendChild(panel);\r\n    } else {\r\n        document.body.appendChild(panel);\r\n    }\r\n    state.sidePanelElement = panel;\r\n    state.sidePanelContent = content;\r\n\r\n    // Event listeners\r\n    overlay.addEventListener('click', closeSidePanel);\r\n\r\n    if (Log) Log.info('[POI] Side panel créé.');\r\n}\r\n\r\n/**\r\n * Ouvre le panneau latéral avec les infos complètes du POI.\r\n *\r\n * @param {object} poi - Données complètes du POI.\r\n * @param {object} customLayout - Layout personnalisé (optionnel).\r\n * @returns {Promise<void>}\r\n */\r\nasync function openSidePanel(poi, customLayout) {\r\n    if (!poi) {\r\n        if (Log) Log.warn('[POI] openSidePanel() : POI invalide.');\r\n        return;\r\n    }\r\n\r\n    if (Log) {\r\n        Log.debug('[POI] openSidePanel:', poi.id || poi.name);\r\n    }\r\n\r\n    const shared = POIShared;\r\n    if (!shared) {\r\n        if (Log) Log.error('[POI] openSidePanel() : POIShared is null');\r\n        return;\r\n    }\r\n    const state = shared.state;\r\n\r\n    // S'assurer que le panneau existe\r\n    if (!state.sidePanelElement) {\r\n        createSidePanel();\r\n    }\r\n\r\n    if (!state.sidePanelElement) {\r\n        if (Log) Log.error('[POI] openSidePanel() : Impossible de créer le panneau latéral.');\r\n        return;\r\n    }\r\n\r\n    state.currentPoiInPanel = poi;\r\n    state.currentGalleryIndex = 0;\r\n\r\n    // Peupler le panneau (la lightbox sera créée par renderers.js si nécessaire)\r\n    const renderers = POIRenderers;\r\n    if (renderers && typeof renderers.populateSidePanel === 'function') {\r\n        try {\r\n            await renderers.populateSidePanel(poi, customLayout);\r\n        } catch (err) {\r\n            // Une erreur de rendu ne doit pas bloquer l'ouverture du panneau\r\n            if (Log) Log.error('[POI] Erreur lors du peuplement du side panel :', err);\r\n        }\r\n    } else {\r\n        if (Log) Log.warn('[POI] openSidePanel() : renderers.populateSidePanel non disponible');\r\n    }\r\n\r\n    // Afficher l'overlay et le panneau avec animation\r\n    if (state.sidePanelOverlay) {\r\n        state.sidePanelOverlay.classList.add('open');\r\n    }\r\n    state.sidePanelElement.classList.add('open');\r\n    state.sidePanelElement.setAttribute('aria-hidden', 'false');\r\n\r\n    // Ajouter classe au body pour décaler la carte\r\n    document.body.classList.add('gl-poi-sidepanel-open');\r\n\r\n    if (Log) Log.info('[POI] Panneau latéral ouvert pour :', poi.title || poi.name || poi.label);\r\n}\r\n\r\n/**\r\n * Ferme le panneau latéral.\r\n */\r\nfunction closeSidePanel() {\r\n    const shared = POIShared;\r\n    if (!shared) return;\r\n    const state = shared.state;\r\n\r\n    if (!state.sidePanelElement) return;\r\n\r\n    state.sidePanelElement.classList.remove('open');\r\n    state.sidePanelElement.setAttribute('aria-hidden', 'true');\r\n\r\n    if (state.sidePanelOverlay) {\r\n        state.sidePanelOverlay.classList.remove('open');\r\n    }\r\n\r\n    // Retirer classe du body\r\n    document.body.classList.remove('gl-poi-sidepanel-open');\r\n\r\n    // Nettoyer la lightbox globale\r\n    const lightbox = document.querySelector('.gl-poi-lightbox-global');\r\n    if (lightbox) {\r\n        lightbox.remove();\r\n    }\r\n\r\n    state.currentPoiInPanel = null;\r\n\r\n    if (Log) Log.info('[POI] Panneau latéral fermé.');\r\n}\r\n\r\n/**\r\n * Alias pour fermer le panneau (API publique).\r\n */\r\nfunction hideSidePanel() {\r\n    closeSidePanel();\r\n}\r\n\r\n// ========================================\r\n//   EXPORT\r\n// ========================================\r\n\r\nconst POISidepanel = {\r\n    createSidePanel,\r\n    openSidePanel,\r\n    closeSidePanel,\r\n    hideSidePanel\r\n};\r\n\r\n// ── ESM Export ──\r\nexport { POISidepanel };\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf POI Module - Core\r\n * Fonctions principales d'initialisation, chargement et gestion des POI\r\n */\r\nimport { Log } from '../log/index.js';\r\nimport { Config } from '../config/config-primitives.js';\r\nimport { StorageContract } from '../shared/storage-contract.js';\r\nimport { POIShared } from './shared.js';\r\nimport { POIMarkers } from './markers.js';\r\nimport { POISidepanel } from './sidepanel.js';\r\nimport { POINormalizers } from './normalizers.js';\r\n\r\n\r\n\r\n// Références aux modules POI\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Fonction principale d'initialisation du module POI.\r\n *\r\n * @param {L.Map|object} mapOrOptions - Instance de la carte Leaflet ou objet {map, config}.\r\n * @param {object} config - Configuration POI depuis globalThis.GeoLeaf.config.json (optionnel si premier param est objet).\r\n */\r\nasync function init(mapOrOptions, config) {\r\n    // Support pour les deux signatures: init(map, config) et init({map, config})\r\n    let map, opts;\r\n\r\n\r\n    if (mapOrOptions && typeof mapOrOptions === 'object' && mapOrOptions.map) {\r\n        map = mapOrOptions.map;\r\n        opts = mapOrOptions.config || mapOrOptions;\r\n    } else {\r\n        map = mapOrOptions;\r\n        opts = config;\r\n    }\r\n\r\n    if (!map || typeof map.addLayer !== 'function') {\r\n        if (Log) Log.error('[POI] Aucune carte Leaflet valide fournie. Impossible d\\'initialiser le module POI.');\r\n        return;\r\n    }\r\n\r\n    const shared = POIShared;\r\n    if (!shared) {\r\n        if (Log) Log.error('[POI] Module shared non chargé.');\r\n        return;\r\n    }\r\n\r\n    const state = shared.state;\r\n    const constants = shared.constants;\r\n\r\n    state.mapInstance = map;\r\n    state.poiConfig = opts || {};\r\n\r\n    if (Log) Log.info('[POI] Initialisation du module POI...');\r\n\r\n    // Forcer un maxZoom valide sur la carte\r\n    if (shared.ensureMapMaxZoom) {\r\n        shared.ensureMapMaxZoom(map, constants.POI_MAX_ZOOM);\r\n    }\r\n\r\n    // Créer le layer group principal\r\n    state.poiLayerGroup = L.layerGroup().addTo(map);\r\n\r\n    // Créer le cluster group si clustering activé\r\n    const clustering = state.poiConfig.clustering !== false;\r\n    if (clustering && typeof L !== 'undefined' && typeof L.markerClusterGroup === 'function') {\r\n        state.poiClusterGroup = L.markerClusterGroup({\r\n            maxClusterRadius: state.poiConfig.clusterRadius || 80,\r\n            disableClusteringAtZoom: state.poiConfig.disableClusteringAtZoom || constants.POI_MAX_ZOOM,\r\n            animate: false,\r\n            showCoverageOnHover: false\r\n        });\r\n        state.mapInstance.addLayer(state.poiClusterGroup);\r\n        if (Log) Log.info('[POI] Clustering activé (MarkerClusterGroup créé).');\r\n    }\r\n\r\n    // Créer le panneau latéral (caché par défaut)\r\n    const sidePanel = POISidepanel;\r\n    if (sidePanel && typeof sidePanel.createSidePanel === 'function') {\r\n        sidePanel.createSidePanel();\r\n    }\r\n\r\n    // Charger le sprite SVG AVANT de charger les POIs\r\n    const markers = POIMarkers;\r\n    if (markers && typeof markers.ensureProfileSpriteInjectedSync === 'function') {\r\n        await markers.ensureProfileSpriteInjectedSync();\r\n    }\r\n\r\n    // Charger et afficher les POIs — event-driven (perf: suppression setTimeout 1000ms)\r\n    if (state.poiConfig.enabled !== false) {\r\n        // Si Storage déjà prêt, charger immédiatement ; sinon attendre l'événement\r\n        const storageReady = StorageContract.isAvailable();\r\n        if (storageReady) {\r\n            loadAndDisplay();\r\n        } else {\r\n            // Écouter l'événement une seule fois, avec fallback DOMContentLoaded\r\n            const onStorageReady = () => {\r\n                document.removeEventListener('geoleaf:storage:ready', onStorageReady);\r\n                loadAndDisplay();\r\n            };\r\n            document.addEventListener('geoleaf:storage:ready', onStorageReady, { once: true });\r\n            // Fallback : si l'événement n'arrive pas (Storage absent), charger quand même après DOMContentLoaded\r\n            if (document.readyState === 'loading') {\r\n                document.addEventListener('DOMContentLoaded', () => {\r\n                    document.removeEventListener('geoleaf:storage:ready', onStorageReady);\r\n                    loadAndDisplay();\r\n                }, { once: true });\r\n            } else {\r\n                // DOM déjà prêt : planifier au prochain tick pour laisser Storage finir son init synchrone\r\n                Promise.resolve().then(() => {\r\n                    document.removeEventListener('geoleaf:storage:ready', onStorageReady);\r\n                    loadAndDisplay();\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * ✅ NOUVELLE FONCTION: Charge et fusionne les POI stockés localement avec les POI existants\r\n */\r\nfunction loadAndMergeStoredPois(existingPois, callback) {\r\n    if (typeof callback !== 'function') {\r\n        if (Log) Log.error('[POI] loadAndMergeStoredPois: callback requis');\r\n        return;\r\n    }\r\n\r\n    // Phase 10-C: Vérification disponibilité Storage via StorageContract\r\n    const checkStorageAvailable = () => {\r\n        return StorageContract.isAvailable() && typeof StorageContract.DB?.getAllFromSyncQueue === 'function';\r\n    };\r\n\r\n    if (!checkStorageAvailable()) {\r\n        // perf: remplacer setTimeout(1000) par écoute événement geoleaf:storage:ready\r\n        if (Log) Log.warn('[POI] Module Storage pas encore prêt, attente événement geoleaf:storage:ready...');\r\n        const onReady = () => {\r\n            if (checkStorageAvailable()) {\r\n                loadAndMergeStoredPois(existingPois, callback);\r\n            } else {\r\n                if (Log) Log.error('[POI] Module Storage toujours non disponible, abandon.');\r\n                callback(existingPois);\r\n            }\r\n        };\r\n        document.addEventListener('geoleaf:storage:ready', onReady, { once: true });\r\n        // Fallback si l'événement n'arrive jamais (Storage absent du build)\r\n        Promise.resolve().then(() => {\r\n            if (!checkStorageAvailable()) {\r\n                document.removeEventListener('geoleaf:storage:ready', onReady);\r\n                callback(existingPois);\r\n            }\r\n        });\r\n        return;\r\n    }\r\n\r\n    if (Log) Log.info('[POI] Module Storage disponible, récupération des POI...');\r\n\r\n    // Utiliser le module de synchronisation pour récupérer les POI du cache\r\n    StorageContract.DB.getAllFromSyncQueue()\r\n        .then(queueItems => {\r\n            if (Log) Log.info(`[POI] Récupération cache: ${queueItems.length} items trouvés`);\r\n\r\n            if (!Array.isArray(queueItems) || queueItems.length === 0) {\r\n                if (Log) Log.info('[POI] Aucun POI trouvé dans la file de synchronisation.');\r\n                callback(existingPois);\r\n                return;\r\n            }\r\n\r\n            // Débugger les types d'items trouvés\r\n            if (Log) {\r\n                const itemTypes = queueItems.map(item => `${item.action}:${item.data?.type || 'no-type'}`);\r\n                Log.info(`[POI] Types d'items dans le cache: [${itemTypes.join(', ')}]`);\r\n\r\n                // DEBUG: Structure complète des premiers items\r\n                queueItems.slice(0, 2).forEach((item, i) => {\r\n                    Log.info(`[POI] DEBUG Item ${i}:`, {\r\n                        action: item.action,\r\n                        type: item.type,\r\n                        data_type: item.data?.type,\r\n                        keys: Object.keys(item),\r\n                        data_keys: item.data ? Object.keys(item.data) : 'no data'\r\n                    });\r\n                });\r\n            }\r\n\r\n            // Filtrer les éléments POI (action 'add' ou 'update') et extraire les données\r\n            const cachedPois = [];\r\n            const normalizers = POINormalizers;\r\n\r\n            if (!normalizers) {\r\n                if (Log) Log.error('[POI] Module Normalizers non disponible pour les POI du cache.');\r\n                callback(existingPois);\r\n                return;\r\n            }\r\n\r\n            queueItems.forEach(item => {\r\n                // Essayer différents formats de structure pour les POI\r\n                let isPoi = false;\r\n                let poiData = null;\r\n                let itemAction = null;\r\n\r\n                // Format 1: item.data.type === 'poi' && item.action contient 'add'\r\n                if (item.data && item.data.type === 'poi' && item.action &&\r\n                    (item.action.includes('add') || item.action.includes('update'))) {\r\n                    isPoi = true;\r\n                    poiData = item.data;\r\n                    itemAction = item.action;\r\n                }\r\n                // Format 2: item.type === 'poi' directement\r\n                else if (item.type === 'poi') {\r\n                    isPoi = true;\r\n                    poiData = item;\r\n                    itemAction = item.action || 'add';\r\n                }\r\n                // Format 3: Contient un id POI et des coordonnées (detection heuristique)\r\n                else if (item.data && (item.data.id || item.data.latlng || item.data.latitude)) {\r\n                    isPoi = true;\r\n                    poiData = item.data;\r\n                    itemAction = item.action || 'add';\r\n                    if (Log) Log.info(`[POI] Détection heuristique POI: ${item.data.id || 'no-id'}`);\r\n                }\r\n                // Format 4: L'item lui-même est un POI (pas d'enveloppe data)\r\n                else if (item.id && (item.latlng || item.latitude)) {\r\n                    isPoi = true;\r\n                    poiData = item;\r\n                    itemAction = 'add';\r\n                    if (Log) Log.info(`[POI] Détection POI direct: ${item.id}`);\r\n                }\r\n\r\n                if (isPoi && poiData) {\r\n                    // Normaliser le POI stocké comme les autres\r\n                    const normalizedPoi = normalizers.normalizePoi(poiData);\r\n                    if (normalizedPoi) {\r\n                        cachedPois.push(normalizedPoi);\r\n                        if (Log) Log.info(`[POI] POI du cache normalisé: ${normalizedPoi.id || 'Sans ID'} (action: ${itemAction})`);\r\n                    } else {\r\n                        if (Log) Log.warn('[POI] Échec normalisation POI du cache:', poiData);\r\n                    }\r\n                } else {\r\n                    if (Log) Log.debug(`[POI] Item ignoré - action: ${item.action}, type: ${item.type || item.data?.type}, keys: ${Object.keys(item).join(',')}`);\r\n                }\r\n            });\r\n\r\n            if (cachedPois.length > 0) {\r\n                if (Log) Log.info(`[POI] ${cachedPois.length} POI(s) récupéré(s) du cache local.`);\r\n\r\n                // Fusionner avec les POI existants (éviter les doublons par ID)\r\n                const mergedPois = [...existingPois];\r\n                cachedPois.forEach(cachedPoi => {\r\n                    if (!mergedPois.find(p => p.id === cachedPoi.id)) {\r\n                        mergedPois.push(cachedPoi);\r\n                    }\r\n                });\r\n\r\n                callback(mergedPois);\r\n            } else {\r\n                callback(existingPois);\r\n            }\r\n        })\r\n        .catch(err => {\r\n            if (Log) Log.error('[POI] Erreur lors de la récupération des POI du cache :', err);\r\n            callback(existingPois);\r\n        });\r\n}\r\n\r\n/**\r\n * Charge les POIs et les affiche sur la carte.\r\n */\r\nfunction loadAndDisplay() {\r\n    const shared = POIShared;\r\n    if (!shared) return;\r\n    const state = shared.state;\r\n\r\n    if (state.isLoading) {\r\n        if (Log) Log.warn('[POI] Chargement déjà en cours...');\r\n        return;\r\n    }\r\n\r\n    // 1) Essayer d'utiliser les POI normalisés du profil actif\r\n    try {\r\n        if (Config && typeof Config.getActiveProfilePoi === 'function') {\r\n            const profilePois = Config.getActiveProfilePoi();\r\n            if (Array.isArray(profilePois) && profilePois.length > 0) {\r\n                state.allPois = profilePois;\r\n                if (Log) Log.info(`[POI] ${state.allPois.length} POI(s) provenant du profil actif.`);\r\n\r\n                // ✅ CORRECTION: Charger aussi les POI du cache après les POI du profil\r\n                loadAndMergeStoredPois(state.allPois, function(mergedPois) {\r\n                    state.allPois = mergedPois;\r\n                    displayPois(state.allPois);\r\n                });\r\n                return;\r\n            }\r\n        }\r\n    } catch (err) {\r\n        if (Log) Log.error('[POI] Erreur lors de la récupération des POI du profil actif :', err);\r\n    }\r\n\r\n    // ✅ CORRECTION: Essayer de charger les POI stockés en cache AVANT le fallback dataUrl\r\n    loadAndMergeStoredPois([], function(cachedPois) {\r\n        if (cachedPois.length > 0) {\r\n            state.allPois = cachedPois;\r\n            if (Log) Log.info(`[POI] ${cachedPois.length} POI(s) chargé(s) depuis le cache local.`);\r\n            displayPois(cachedPois);\r\n            return;\r\n        }\r\n\r\n        // 2) Fallback : charger un fichier JSON depuis dataUrl (mode historique)\r\n        const dataUrl = state.poiConfig.dataUrl;\r\n        if (!dataUrl) {\r\n            if (Log) Log.info('[POI] Aucune dataUrl spécifiée et aucun POI en cache. Mode ajout manuel.');\r\n            return;\r\n        }\r\n\r\n        state.isLoading = true;\r\n        if (Log) Log.info('[POI] Chargement des données POI depuis :', dataUrl);\r\n\r\n        fetch(dataUrl)\r\n            .then(response => {\r\n                if (!response.ok) {\r\n                    throw new Error(`Erreur HTTP ${response.status} lors du chargement de ${dataUrl}`);\r\n                }\r\n                return response.json();\r\n            })\r\n            .then(data => {\r\n                if (Array.isArray(data)) {\r\n                    state.allPois = data;\r\n                } else if (data && Array.isArray(data.pois)) {\r\n                    state.allPois = data.pois;\r\n                } else {\r\n                    state.allPois = [];\r\n                }\r\n                if (Log) Log.info(`[POI] ${state.allPois.length} POI(s) chargé(s) depuis dataUrl.`);\r\n                displayPois(state.allPois);\r\n            })\r\n            .catch(err => {\r\n                if (Log) Log.error('[POI] Erreur lors du chargement des POIs :', err);\r\n            })\r\n            .finally(() => {\r\n                state.isLoading = false;\r\n            });\r\n    });\r\n}\r\n\r\n/**\r\n * Affiche tous les POIs passés en paramètre sur la carte.\r\n *\r\n * @param {array} pois - Tableau d'objets POI.\r\n */\r\nfunction displayPois(pois) {\r\n    if (!pois || !Array.isArray(pois)) {\r\n        if (Log) Log.warn('[POI] displayPois() : Aucune donnée POI valide à afficher.');\r\n        return;\r\n    }\r\n\r\n    const shared = POIShared;\r\n    if (!shared) return;\r\n    const state = shared.state;\r\n\r\n    // Nettoyer les layers existants\r\n    if (state.poiLayerGroup) {\r\n        state.poiLayerGroup.clearLayers();\r\n    }\r\n    if (state.poiClusterGroup) {\r\n        state.poiClusterGroup.clearLayers();\r\n    }\r\n\r\n    const clustering = state.poiConfig.clustering !== false;\r\n    const markers = POIMarkers;\r\n\r\n    if (!markers || typeof markers.createMarker !== 'function') {\r\n        if (Log) Log.error('[POI] Module Markers non chargé.');\r\n        return;\r\n    }\r\n\r\n    if (clustering && state.poiClusterGroup) {\r\n        // Mode clustering\r\n        pois.forEach(poi => {\r\n            const marker = markers.createMarker(poi);\r\n            if (marker) {\r\n                state.poiClusterGroup.addLayer(marker);\r\n                state.poiMarkers.set(poi.id || poi.title || poi.label, marker);\r\n            }\r\n        });\r\n\r\n        if (!state.mapInstance.hasLayer(state.poiClusterGroup)) {\r\n            state.mapInstance.addLayer(state.poiClusterGroup);\r\n        }\r\n\r\n        if (Log) Log.info('[POI] Affichage avec clustering.');\r\n    } else {\r\n        // Mode sans clustering\r\n        pois.forEach(poi => {\r\n            const marker = markers.createMarker(poi);\r\n            if (marker) {\r\n                state.poiLayerGroup.addLayer(marker);\r\n                state.poiMarkers.set(poi.id || poi.title || poi.label, marker);\r\n            }\r\n        });\r\n\r\n        if (!state.mapInstance.hasLayer(state.poiLayerGroup)) {\r\n            state.mapInstance.addLayer(state.poiLayerGroup);\r\n        }\r\n\r\n        if (Log) Log.info('[POI] Affichage sans clustering.');\r\n    }\r\n}\r\n\r\n/**\r\n * Ajoute un POI manuellement sur la carte.\r\n * CORRIGÉ V3: Normalisation systématique des nouveaux POI\r\n *\r\n * @param {object} poi - Données du POI.\r\n * @returns {L.Marker|null} Marqueur créé ou null.\r\n */\r\nfunction addPoi(poi) {\r\n    if (!poi) {\r\n        if (Log) Log.warn('[POI] addPoi() : POI invalide.');\r\n        return null;\r\n    }\r\n\r\n    const shared = POIShared;\r\n    if (!shared) return null;\r\n    const state = shared.state;\r\n\r\n    const normalizers = POINormalizers;\r\n    const markers = POIMarkers;\r\n\r\n    if (!normalizers || !markers) {\r\n        if (Log) Log.error('[POI] Modules Normalizers ou Markers non chargés.');\r\n        return null;\r\n    }\r\n\r\n    // ✅ CORRECTION V3: NORMALISER le POI avant traitement\r\n    // Ceci garantit une structure cohérente avec les POI existants\r\n    const normalizedPoi = normalizers.normalizePoi(poi);\r\n    if (!normalizedPoi) {\r\n        if (Log) Log.warn('[POI] addPoi() : Échec de la normalisation du POI.', poi);\r\n        return null;\r\n    }\r\n\r\n    // Générer un ID si manquant après normalisation\r\n    if (!normalizedPoi.id) {\r\n        normalizedPoi.id = normalizers.generatePoiId(normalizedPoi);\r\n    }\r\n\r\n    if (Log) {\r\n        Log.info('[POI] Adding normalized POI:', normalizedPoi.id);\r\n        Log.info('[POI] - Has _layerConfig:', !!normalizedPoi._layerConfig);\r\n        Log.info('[POI] - Has _sidepanelConfig:', !!normalizedPoi._sidepanelConfig);\r\n        Log.info('[POI] - Has _popupConfig:', !!normalizedPoi._popupConfig);\r\n        Log.info('[POI] - Attributes keys:', Object.keys(normalizedPoi.attributes || {}));\r\n    }\r\n\r\n    // Créer le marqueur avec le POI normalisé\r\n    const marker = markers.createMarker(normalizedPoi);\r\n    if (!marker) {\r\n        if (Log) Log.warn('[POI] addPoi() : Impossible de créer le marqueur pour ce POI normalisé.', normalizedPoi);\r\n        return null;\r\n    }\r\n\r\n    // Ajouter au bon layer group\r\n    const clustering = state.poiConfig.clustering !== false;\r\n    if (clustering && state.poiClusterGroup) {\r\n        state.poiClusterGroup.addLayer(marker);\r\n    } else {\r\n        state.poiLayerGroup.addLayer(marker);\r\n    }\r\n\r\n    // Stocker le POI NORMALISÉ dans la liste (important pour la cohérence)\r\n    state.allPois.push(normalizedPoi);\r\n    state.poiMarkers.set(normalizedPoi.id, marker);\r\n\r\n    // Note: La sauvegarde en cache est gérée par le submit-handler via SyncHandler\r\n    // pour éviter la duplication et assurer la cohérence\r\n\r\n    if (Log) Log.info('[POI] ✅ POI normalisé ajouté avec succès :', normalizedPoi.id);\r\n\r\n    return marker;\r\n}\r\n\r\n/**\r\n * Récupère tous les POI chargés.\r\n *\r\n * @returns {array} Tableau des POI.\r\n */\r\nfunction getAllPois() {\r\n    const shared = POIShared;\r\n    return shared ? shared.state.allPois : [];\r\n}\r\n\r\n/**\r\n * Récupère un POI par son ID.\r\n *\r\n * @param {string} id - ID du POI.\r\n * @returns {object|null} POI trouvé ou null.\r\n */\r\nfunction getPoiById(id) {\r\n    const shared = POIShared;\r\n    if (!shared) return null;\r\n    const state = shared.state;\r\n\r\n    return state.allPois.find(p => p.id === id) || null;\r\n}\r\n\r\n/**\r\n * Recharge les POI (efface et réaffiche).\r\n *\r\n * @param {array} pois - Nouveau tableau de POI (optionnel).\r\n */\r\nfunction reload(pois) {\r\n    const shared = POIShared;\r\n    if (!shared) return;\r\n    const state = shared.state;\r\n\r\n    if (pois && Array.isArray(pois)) {\r\n        state.allPois = pois;\r\n    }\r\n\r\n    displayPois(state.allPois);\r\n\r\n    if (Log) Log.info('[POI] POI rechargés.');\r\n}\r\n\r\n// ========================================\r\n//   EXPORT\r\n// ========================================\r\n\r\nconst POICore = {\r\n    init,\r\n    loadAndDisplay,\r\n    displayPois,\r\n    addPoi,\r\n    getAllPois,\r\n    getPoiById,\r\n    reload,\r\n    getDisplayedPoisCount: function() {\r\n        const shared = POIShared;\r\n        return shared && shared.state ? (shared.state.allPois || []).length : 0;\r\n    }\r\n};\r\n\r\n// ── ESM Export ──\r\nexport { POICore };\r\n","/**\r\n * GeoLeaf Contract — POI Core operations\r\n *\r\n * Interface ESM pour que les modules POI (add-form, sync…) puissent appeler\r\n * les opérations CRUD du module POI (addPoi, updatePoi, removePoi, notify)\r\n * sans couplage runtime vers le namespace global.\r\n *\r\n * Phase 10-E — Pattern G.\r\n *\r\n * REGISTRATION (dans globals.poi.js ou geoleaf.core.js) :\r\n *   import { POICoreContract } from '../../contracts/poi-core.contract.js';\r\n *   POICoreContract.register({ addPoi, updatePoi, removePoi }, notifyInstance);\r\n */\r\n\"use strict\";\r\n\r\nimport { POICore } from '../modules/poi/core.js';\r\n\r\n/** @type {{updatePoi?: Function, removePoi?: Function}|null} */\r\nlet _extra = null;\r\n/** @type {{success: Function, error: Function}|null} */\r\nlet _notify = null;\r\n\r\n/**\r\n * @namespace POICoreContract\r\n */\r\nconst POICoreContract = {\r\n    /**\r\n     * Enregistre les fonctions POI non-exportées et le système de notification.\r\n     * Appelé par globals.poi.js ou le plugin addpoi au chargement.\r\n     * @param {{updatePoi?: Function, removePoi?: Function}} extras\r\n     * @param {{success: Function, error: Function}} [notifyInstance]\r\n     */\r\n    register(extras, notifyInstance) {\r\n        _extra = extras || {};\r\n        if (notifyInstance) _notify = notifyInstance;\r\n    },\r\n\r\n    /**\r\n     * @returns {boolean}\r\n     */\r\n    canShowDetails() {\r\n        return !!(_extra && typeof _extra.showPoiDetails === 'function');\r\n    },\r\n\r\n    /**\r\n     * Show POI details panel.\r\n     * @param {Object} poi\r\n     */\r\n    showPoiDetails(poi) {\r\n        if (_extra && typeof _extra.showPoiDetails === 'function') {\r\n            _extra.showPoiDetails(poi);\r\n        }\r\n    },\r\n    /**\r\n     * Enregistre l'instance UI.notify.\r\n     * @param {{success: Function, error: Function}} notifyInstance\r\n     */\r\n    registerNotify(notifyInstance) {\r\n        _notify = notifyInstance;\r\n    },\r\n\r\n    // ── POI CRUD ──\r\n\r\n    /**\r\n     * @param {Object} poi\r\n     * @returns {L.Marker|null}\r\n     */\r\n    addPoi(poi) {\r\n        return POICore.addPoi(poi);\r\n    },\r\n\r\n    /**\r\n     * @param {Object} poiData\r\n     */\r\n    updatePoi(poiData) {\r\n        if (_extra && typeof _extra.updatePoi === 'function') {\r\n            _extra.updatePoi(poiData);\r\n        }\r\n        // else: graceful no-op — updatePoi not yet registered\r\n    },\r\n\r\n    /**\r\n     * @param {string} poiId\r\n     */\r\n    removePoi(poiId) {\r\n        if (_extra && typeof _extra.removePoi === 'function') {\r\n            _extra.removePoi(poiId);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @returns {boolean}\r\n     */\r\n    canUpdate() {\r\n        return !!(_extra && typeof _extra.updatePoi === 'function');\r\n    },\r\n\r\n    /**\r\n     * @returns {boolean}\r\n     */\r\n    canRemove() {\r\n        return !!(_extra && typeof _extra.removePoi === 'function');\r\n    },\r\n\r\n    // ── Notifications ──\r\n\r\n    /**\r\n     * @param {string} message\r\n     */\r\n    notifySuccess(message) {\r\n        if (_notify && typeof _notify.success === 'function') {\r\n            _notify.success(message);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @param {string} message\r\n     */\r\n    notifyError(message) {\r\n        if (_notify && typeof _notify.error === 'function') {\r\n            _notify.error(message);\r\n        }\r\n    },\r\n};\r\n\r\nexport { POICoreContract };\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf POI Module - Markers\r\n * Création et gestion des marqueurs Leaflet pour les POI\r\n */\r\nimport { Log } from '../log/index.js';\r\nimport { Config } from '../config/config-primitives.js';\r\nimport { POIShared } from './shared.js';\r\nimport { POINormalizers } from './normalizers.js';\r\nimport { POIPopup } from './popup.js';\r\nimport { StyleResolver } from '../helpers/style-resolver.js';\r\nimport { POICoreContract } from '../../contracts/poi-core.contract.js';\r\n\r\n\r\n\r\n\r\n// Références aux modules POI\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Obtient la configuration de base des POI depuis le profil actif.\r\n *\r\n * @returns {object} Configuration de base { radius, weight, colorFill, colorStroke, fillOpacity, opacity, showIconsOnMap }.\r\n */\r\nfunction getPoiBaseConfig() {\r\n    const base = {\r\n        radius: 6,\r\n        weight: 1.5,\r\n        colorFill: \"#4a90e5\",\r\n        colorStroke: \"#ffffff\",\r\n        fillOpacity: 0.8,\r\n        opacity: 0.9,\r\n        showIconsOnMap: true\r\n    };\r\n\r\n    try {\r\n        if (Config && typeof Config.getActiveProfile === \"function\") {\r\n            const activeProfile = Config.getActiveProfile();\r\n            const poiCfg =\r\n                activeProfile &&\r\n                activeProfile.appearance &&\r\n                activeProfile.appearance.poi;\r\n\r\n            if (poiCfg) {\r\n                if (typeof poiCfg.radius === \"number\") base.radius = poiCfg.radius;\r\n                if (typeof poiCfg.weight === \"number\") base.weight = poiCfg.weight;\r\n                if (typeof poiCfg.fillOpacity === \"number\") base.fillOpacity = poiCfg.fillOpacity;\r\n                if (typeof poiCfg.opacity === \"number\") base.opacity = poiCfg.opacity;\r\n                if (typeof poiCfg.showIconsOnMap === \"boolean\") base.showIconsOnMap = poiCfg.showIconsOnMap;\r\n\r\n                if (typeof poiCfg.colorFill === \"string\") {\r\n                    base.colorFill = poiCfg.colorFill;\r\n                }\r\n                if (typeof poiCfg.colorStroke === \"string\") {\r\n                    base.colorStroke = poiCfg.colorStroke;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Fallback sur variables CSS\r\n        if (typeof document !== \"undefined\" && typeof window !== \"undefined\" && window.getComputedStyle) {\r\n            const root = getComputedStyle(document.documentElement);\r\n            const fillCss = root.getPropertyValue(\"--gl-color-poi-fill-default\").trim();\r\n            const strokeCss = root.getPropertyValue(\"--gl-color-poi-stroke-default\").trim();\r\n            if (fillCss && !base.colorFill) base.colorFill = fillCss;\r\n            if (strokeCss && !base.colorStroke) base.colorStroke = strokeCss;\r\n        }\r\n    } catch (err) {\r\n        if (Log) Log.warn(\"[POI] getPoiBaseConfig() : Erreur lecture config :\", err);\r\n    }\r\n\r\n    return base;\r\n}\r\n\r\n/**\r\n * Résout les couleurs d'un POI depuis category.style.json du profil actif.\r\n * Ordre de priorité des couleurs :\r\n * 1. Style de la couche (poi._layerConfig.style)\r\n * 2. Style de catégorie (category.style.json)\r\n * 3. Style par défaut (baseConfig)\r\n *\r\n * @param {object} poi - Données du POI.\r\n * @param {object} baseConfig - Configuration de base avec couleurs par défaut\r\n * @returns {object} { colorFill, colorStroke, colorRoute, weight, radius, fillOpacity, opacity }\r\n */\r\nfunction resolveCategoryColors(poi, baseConfig) {\r\n    const colors = {\r\n        colorFill: baseConfig.colorFill,\r\n        colorStroke: baseConfig.colorStroke,\r\n        colorRoute: null,\r\n        weight: baseConfig.weight,\r\n        radius: baseConfig.radius,\r\n        fillOpacity: baseConfig.fillOpacity !== undefined ? baseConfig.fillOpacity : null,\r\n        opacity: baseConfig.opacity !== undefined ? baseConfig.opacity : null\r\n    };\r\n\r\n    // 1. Appliquer d'abord le style de la couche si disponible\r\n    if (poi._layerConfig && poi._layerConfig.style) {\r\n        const layerStyle = poi._layerConfig.style;\r\n        if (layerStyle.fillColor) colors.colorFill = layerStyle.fillColor;\r\n        if (layerStyle.color) colors.colorStroke = layerStyle.color;\r\n        if (typeof layerStyle.weight === 'number') colors.weight = layerStyle.weight;\r\n        if (typeof layerStyle.radius === 'number') colors.radius = layerStyle.radius;\r\n        if (typeof layerStyle.fillOpacity === 'number') colors.fillOpacity = layerStyle.fillOpacity;\r\n        if (typeof layerStyle.opacity === 'number') colors.opacity = layerStyle.opacity;\r\n    }\r\n\r\n    // 2. Appliquer ensuite les couleurs depuis les styleRules de la couche\r\n    if (StyleResolver) {\r\n        const styleColors = StyleResolver.resolvePoiColors(poi);\r\n        if (styleColors.colorFill) colors.colorFill = styleColors.colorFill;\r\n        if (styleColors.colorStroke) colors.colorStroke = styleColors.colorStroke;\r\n        if (styleColors.colorRoute) colors.colorRoute = styleColors.colorRoute;\r\n    }\r\n\r\n    return colors;\r\n}\r\n\r\n/**\r\n * Résout l'affichage d'un POI (icône + couleurs) depuis la taxonomie et category.style.json du profil actif.\r\n * Ordre de priorité des styles :\r\n * 1. Style de la couche (poi._layerConfig.style) pour les couleurs\r\n * 2. Style de catégorie (category.style.json) pour les couleurs\r\n * 3. Taxonomie pour les icônes\r\n * 4. Style par défaut (baseConfig)\r\n *\r\n * @param {object} poi - Données du POI.\r\n * @returns {object} Configuration d'affichage { useIcon, iconId, colorFill, colorStroke, weight, radius, fillOpacity, opacity }.\r\n */\r\nfunction resolveCategoryDisplay(poi) {\r\n    const categoriesConfig = Config.getCategories?.()\r\n        ?? {};\r\n\r\n    const shared = POIShared;\r\n    const poiConfig = shared ? shared.state.poiConfig : {};\r\n    const showIconsOnMap = (poiConfig.showIconsOnMap !== false);\r\n\r\n    const baseConfig = getPoiBaseConfig();\r\n\r\n    // Résoudre les couleurs via resolveCategoryColors\r\n    const colors = resolveCategoryColors(poi, baseConfig);\r\n\r\n    const result = {\r\n        useIcon: false,\r\n        iconId: null,\r\n        colorFill: colors.colorFill,\r\n        colorStroke: colors.colorStroke,\r\n        colorRoute: colors.colorRoute,\r\n        weight: colors.weight,\r\n        radius: colors.radius,\r\n        fillOpacity: colors.fillOpacity,\r\n        opacity: colors.opacity\r\n    };\r\n\r\n    // Déterminer si on utilise les icônes\r\n    if (showIconsOnMap) {\r\n        try {\r\n            const iconsConfig = Config.getIconsConfig?.()\r\n                ?? null;\r\n\r\n            if (iconsConfig && iconsConfig.showOnMap !== false) {\r\n                result.useIcon = true;\r\n            }\r\n        } catch (e) {\r\n            // Fallback showIconsOnMap reste true par défaut\r\n        }\r\n    }\r\n\r\n    const categoryId = poi.categoryId || poi.category ||\r\n        (poi.attributes && poi.attributes.categoryId) ||\r\n        (poi.properties && poi.properties.categoryId) ||\r\n        (poi.properties && poi.properties.category);\r\n\r\n    const subCategoryId = poi.subCategoryId || poi.subCategory || poi.sub_category ||\r\n        (poi.attributes && poi.attributes.subCategoryId) ||\r\n        (poi.properties && poi.properties.subCategoryId) ||\r\n        (poi.properties && poi.properties.sub_category);\r\n\r\n    // Résolution de l'icône depuis la taxonomie (pas les couleurs)\r\n    // Lookup case-insensitive : on cherche d'abord la clé exacte, puis en majuscules/minuscules\r\n    const resolveCatKey = (id) => {\r\n        if (!id || !categoriesConfig) return null;\r\n        if (categoriesConfig[id]) return id;\r\n        const upper = String(id).toUpperCase();\r\n        if (categoriesConfig[upper]) return upper;\r\n        const lower = String(id).toLowerCase();\r\n        if (categoriesConfig[lower]) return lower;\r\n        // Parcours linéaire comme filet de sécurité\r\n        return Object.keys(categoriesConfig).find(k => k.toLowerCase() === lower) || null;\r\n    };\r\n\r\n    const resolvedCatKey = resolveCatKey(categoryId);\r\n\r\n    if (subCategoryId && resolvedCatKey && categoriesConfig[resolvedCatKey]?.subcategories) {\r\n        const subCat = categoriesConfig[resolvedCatKey].subcategories[subCategoryId] ||\r\n                       categoriesConfig[resolvedCatKey].subcategories[String(subCategoryId).toUpperCase()] ||\r\n                       categoriesConfig[resolvedCatKey].subcategories[String(subCategoryId).toLowerCase()];\r\n        const cat = categoriesConfig[resolvedCatKey];\r\n\r\n        if (subCat) {\r\n            result.iconId = subCat.icon || subCat.iconId || cat.icon || cat.iconId || null;\r\n        } else {\r\n            result.iconId = cat.icon || cat.iconId || null;\r\n        }\r\n    } else if (resolvedCatKey) {\r\n        const cat = categoriesConfig[resolvedCatKey];\r\n        result.iconId = cat.icon || cat.iconId || null;\r\n    } else {\r\n        // Ne logger que si une catégorie est réellement définie (éviter les warnings pour undefined/null)\r\n        if (categoryId && categoryId !== 'undefined' && categoryId !== 'null' && Log) {\r\n            Log.warn(`[POI] resolveCategoryDisplay() : Catégorie '${categoryId}' non trouvée dans la taxonomie.`);\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * Injecte le sprite SVG du profil actif dans le DOM (asynchrone).\r\n * Lit la configuration des icônes depuis taxonomy.icons.\r\n * Évite les duplications en vérifiant l'existence.\r\n * Note: La fonction reste nommée \"Sync\" pour la compatibilité, mais utilise fetch (async) en interne.\r\n */\r\nasync function ensureProfileSpriteInjectedSync() {\r\n    try {\r\n        if (typeof Config === \"undefined\" || typeof Config.getIconsConfig !== \"function\") {\r\n            if (Log) Log.warn(\"[POI] Config.getIconsConfig non disponible\");\r\n            return;\r\n        }\r\n\r\n        const iconsCfg = Config.getIconsConfig();\r\n        // Log seulement la première fois ou si la config change\r\n        if (!ensureProfileSpriteInjectedSync._lastConfig || JSON.stringify(iconsCfg) !== JSON.stringify(ensureProfileSpriteInjectedSync._lastConfig)) {\r\n            if (Log) Log.debug(\"[POI] IconsConfig récupéré:\", iconsCfg);\r\n            ensureProfileSpriteInjectedSync._lastConfig = iconsCfg;\r\n        }\r\n        if (!iconsCfg) {\r\n            if (Log) Log.warn(\"[POI] Aucune configuration d'icônes trouvée\");\r\n            return;\r\n        }\r\n\r\n        const spriteUrl = iconsCfg.spriteUrl;\r\n\r\n        if (!spriteUrl || typeof spriteUrl !== \"string\") {\r\n            if (Log) Log.warn(\"[POI] spriteUrl manquant ou invalide:\", spriteUrl);\r\n            return;\r\n        }\r\n\r\n        // Vérifier si le sprite est déjà injecté\r\n        const existing = document.querySelector('svg[data-geoleaf-sprite=\"profile\"]');\r\n        if (existing) {\r\n            if (Log) Log.debug(\"[POI] Sprite SVG déjà injecté\");\r\n            return;\r\n        }\r\n\r\n        if (Log) Log.info(\"[POI] Chargement sprite depuis:\", spriteUrl);\r\n\r\n        // ✅ NOUVEAU: Utiliser fetch asynchrone pour éviter l'avertissement de dépréciation\r\n        // et améliorer les performances en évitant de bloquer le thread principal\r\n        try {\r\n            const response = await fetch(spriteUrl);\r\n\r\n            if (response.ok) {\r\n                const svgText = await response.text();\r\n\r\n                // SAFE: Utilisation de DOMParser au lieu de innerHTML pour éviter l'exécution de scripts\r\n                const parser = new DOMParser();\r\n                const doc = parser.parseFromString(svgText, \"image/svg+xml\");\r\n\r\n                // Vérifier les erreurs de parsing\r\n                const parserError = doc.querySelector(\"parsererror\");\r\n                if (parserError) {\r\n                    if (Log) Log.warn(\"[POI] Erreur parsing SVG sprite :\", parserError.textContent);\r\n                    return;\r\n                }\r\n\r\n                const svgEl = doc.documentElement;\r\n                if (svgEl && svgEl.tagName.toLowerCase() === \"svg\") {\r\n                    svgEl.setAttribute(\"data-geoleaf-sprite\", \"profile\");\r\n                    svgEl.style.position = \"absolute\";\r\n                    svgEl.style.width = \"0\";\r\n                    svgEl.style.height = \"0\";\r\n                    svgEl.style.overflow = \"hidden\";\r\n                    svgEl.setAttribute(\"aria-hidden\", \"true\");\r\n\r\n                    if (document.body.firstChild) {\r\n                        document.body.insertBefore(svgEl, document.body.firstChild);\r\n                    } else {\r\n                        document.body.appendChild(svgEl);\r\n                    }\r\n\r\n                    const symbolCount = svgEl.querySelectorAll('symbol').length;\r\n                    if (Log) Log.info(\"[POI] Sprite SVG profil injecté dans le DOM (async).\", symbolCount, \"symboles chargés.\");\r\n                }\r\n            } else {\r\n                if (Log) Log.warn(\"[POI] Erreur chargement sprite profil: HTTP\", response.status);\r\n            }\r\n        } catch (err) {\r\n            if (Log) Log.warn(\"[POI] Erreur chargement sprite profil (async):\", err);\r\n        }\r\n    } catch (err) {\r\n        if (Log) Log.warn(\"[POI] Erreur chargement sprite profil :\", err);\r\n    }\r\n}\r\n\r\n/**\r\n * Extrait les coordonnées d'un POI pour la création de marqueur.\r\n *\r\n * @param {object} poi - Données du POI.\r\n * @returns {[number, number]|null} [latitude, longitude] ou null si invalides.\r\n */\r\nfunction extractMarkerCoordinates(poi) {\r\n    if (!poi) {\r\n        if (Log) Log.warn(\"[POI] extractMarkerCoordinates() : POI invalide.\", poi);\r\n        return null;\r\n    }\r\n\r\n    const normalizers = POINormalizers;\r\n    if (!normalizers) {\r\n        if (Log) Log.error(\"[POI] extractMarkerCoordinates() : Module Normalizers non chargé.\");\r\n        return null;\r\n    }\r\n\r\n    const coords = normalizers.extractCoordinates(poi);\r\n    if (!coords) {\r\n        if (Log) Log.warn(\"[POI] extractMarkerCoordinates() : POI sans coordonnées valides.\", poi);\r\n        return null;\r\n    }\r\n\r\n    return coords;\r\n}\r\n\r\n/**\r\n * Construit l'icône Leaflet (DivIcon) pour un marqueur POI.\r\n * Mode icône : utilise le sprite SVG profil avec cercle de fond.\r\n * Mode simple : cercle simple sans icône.\r\n *\r\n * @param {object} displayConfig - Configuration d'affichage { useIcon, iconId, colorFill, colorStroke, radius, weight, fillOpacity, opacity }.\r\n * @returns {L.DivIcon} Icône Leaflet configurée.\r\n */\r\nfunction buildMarkerIcon(displayConfig) {\r\n    const baseConfig = getPoiBaseConfig();\r\n    const radius = displayConfig.radius !== undefined ? displayConfig.radius : baseConfig.radius;\r\n    const weight = displayConfig.weight !== undefined ? displayConfig.weight : baseConfig.weight;\r\n    const fillOpacity = displayConfig.fillOpacity;\r\n    const strokeOpacity = displayConfig.opacity;\r\n\r\n    const iconSizeCircle = Math.max(Math.round((radius * 2) + (weight * 2)), 8);\r\n    const iconSizeIcon = Math.max(Math.round((radius * 2) + (weight * 2)), 16);\r\n\r\n    // Appliquer fillOpacity à colorFill si défini\r\n    let colorFill = displayConfig.colorFill;\r\n    if (fillOpacity !== null && typeof fillOpacity === 'number') {\r\n        // Convertir la couleur hex en rgba avec fillOpacity\r\n        if (colorFill && colorFill.startsWith('#')) {\r\n            const r = parseInt(colorFill.slice(1, 3), 16);\r\n            const g = parseInt(colorFill.slice(3, 5), 16);\r\n            const b = parseInt(colorFill.slice(5, 7), 16);\r\n            colorFill = 'rgba(' + r + ', ' + g + ', ' + b + ', ' + fillOpacity + ')';\r\n        }\r\n    }\r\n\r\n    // Appliquer opacity au stroke (colorStroke) si défini\r\n    let colorStroke = displayConfig.colorStroke;\r\n    if (strokeOpacity !== null && typeof strokeOpacity === 'number') {\r\n        // Convertir la couleur hex en rgba avec opacity\r\n        if (colorStroke && colorStroke.startsWith('#')) {\r\n            const r = parseInt(colorStroke.slice(1, 3), 16);\r\n            const g = parseInt(colorStroke.slice(3, 5), 16);\r\n            const b = parseInt(colorStroke.slice(5, 7), 16);\r\n            colorStroke = 'rgba(' + r + ', ' + g + ', ' + b + ', ' + strokeOpacity + ')';\r\n        }\r\n    }\r\n\r\n    if (displayConfig.useIcon && displayConfig.iconId) {\r\n        // Mode icône : DivIcon avec sprite métier\r\n        const iconsConfig = Config.getIconsConfig?.()\r\n            ?? null;\r\n        const iconPrefix = (iconsConfig && iconsConfig.symbolPrefix) || \"gl-poi-cat-\";\r\n\r\n        const iconIdNormalized = String(displayConfig.iconId)\r\n            .trim()\r\n            .toLowerCase()\r\n            .replace(/\\s+/g, \"-\");\r\n\r\n        const symbolId = iconPrefix + iconIdNormalized;\r\n\r\n        const htmlIcon = [\r\n            '<div class=\"gl-poi-marker\" style=\"',\r\n            \"--gl-poi-fill:\", colorFill, \";\",\r\n            \"--gl-poi-stroke:\", colorStroke, \";\",\r\n            \"width:\", iconSizeIcon, \"px;\",\r\n            \"height:\", iconSizeIcon, \"px;\",\r\n            '\">',\r\n            '<svg class=\"gl-poi-marker__icon\" aria-hidden=\"true\" focusable=\"false\" viewBox=\"0 0 24 24\" style=\"overflow: visible;\">',\r\n            '<circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"', colorFill, '\" stroke=\"', colorStroke, '\" stroke-width=\"', weight, '\"/>',\r\n            '<svg x=\"2\" y=\"2\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" preserveAspectRatio=\"xMidYMid meet\" overflow=\"visible\">',\r\n            '<use href=\"#', symbolId, '\" style=\"color: #ffffff\"/>',\r\n            '</svg>',\r\n            \"</svg>\",\r\n            \"</div>\"\r\n        ].join(\"\");\r\n\r\n        return L.divIcon({\r\n            html: htmlIcon,\r\n            className: \"gl-poi-divicon\",\r\n            iconSize: [iconSizeIcon, iconSizeIcon],\r\n            iconAnchor: [iconSizeIcon / 2, iconSizeIcon / 2],\r\n            popupAnchor: [0, -(iconSizeIcon / 2)]\r\n        });\r\n    } else {\r\n        // Mode point simple (sans icône)\r\n        const htmlCircle = [\r\n            '<div class=\"gl-poi-marker\" style=\"',\r\n            \"--gl-poi-fill:\", colorFill, \";\",\r\n            \"--gl-poi-stroke:\", colorStroke, \";\",\r\n            \"width:\", iconSizeCircle, \"px;\",\r\n            \"height:\", iconSizeCircle, \"px;\",\r\n            '\">',\r\n            '<svg class=\"gl-poi-marker__circle\" aria-hidden=\"true\" focusable=\"false\">',\r\n            '<circle cx=\"50%\" cy=\"50%\" r=\"', radius, '\"',\r\n            ' fill=\"', colorFill, '\"',\r\n            ' stroke=\"', colorStroke, '\"',\r\n            ' stroke-width=\"', weight, '\" />',\r\n            \"</svg>\",\r\n            \"</div>\"\r\n        ].join(\"\");\r\n\r\n        return L.divIcon({\r\n            html: htmlCircle,\r\n            className: \"gl-poi-divicon\",\r\n            iconSize: [iconSizeCircle, iconSizeCircle],\r\n            iconAnchor: [iconSizeCircle / 2, iconSizeCircle / 2],\r\n            popupAnchor: [0, -(iconSizeCircle / 2)]\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Attache les événements et comportements à un marqueur POI (tooltip, popup, side panel).\r\n *\r\n * @param {L.Marker} marker - Marqueur Leaflet à configurer.\r\n * @param {object} poi - Données du POI.\r\n */\r\nfunction attachMarkerEvents(marker, poi) {\r\n    // Attacher métadonnées POI\r\n    marker._geoleafPoiData = poi;\r\n\r\n    const shared = POIShared;\r\n    const poiConfig = shared ? shared.state.poiConfig : {};\r\n    const popupModule = POIPopup;\r\n\r\n    // Gestion tooltip\r\n    if (popupModule && typeof popupModule.manageTooltip === 'function') {\r\n        popupModule.manageTooltip(marker, poi, poiConfig, resolveCategoryDisplay);\r\n    }\r\n\r\n    // Vérifier si les popups sont activés (par défaut: true)\r\n    const showPopup = (poiConfig.showPopup !== false);\r\n\r\n    if (showPopup) {\r\n        // Mode popup: afficher le popup avec lien \"Voir plus\"\r\n        if (popupModule && typeof popupModule.buildQuickPopupContent === 'function') {\r\n            const popupContent = popupModule.buildQuickPopupContent(poi, resolveCategoryDisplay);\r\n            if (popupContent) {\r\n                if (popupModule.attachPopup) {\r\n                    popupModule.attachPopup(marker, popupContent);\r\n                } else {\r\n                    marker.bindPopup(popupContent);\r\n                }\r\n            } else {\r\n                Log.error('[markers] Popup content vide pour POI:', poi.id);\r\n            }\r\n\r\n            // Initialiser le flag de popup actif\r\n            marker._geoleafPopupActive = false;\r\n\r\n            // Bloquer l'ouverture du tooltip pendant que le popup est actif\r\n            marker.on('tooltipopen', function() {\r\n                if (marker._geoleafPopupActive) {\r\n                    marker.closeTooltip();\r\n                }\r\n            });\r\n\r\n            // Attacher événement pour le lien \"Voir plus\" du popup\r\n            marker.on('popupopen', function() {\r\n                // Marquer le popup comme actif et fermer le tooltip\r\n                marker._geoleafPopupActive = true;\r\n                marker.closeTooltip();\r\n\r\n                setTimeout(function() {\r\n                    const link = document.querySelector('.gl-poi-popup__link[data-poi-id=\"' + poi.id + '\"]');\r\n                    if (link) {\r\n                        if (Log) Log.info('[POI] Lien \"Voir plus\" trouvé pour POI:', poi.id);\r\n\r\n                        // Retirer les anciens listeners pour éviter les doublons\r\n                        const newLink = link.cloneNode(true);\r\n                        link.parentNode.replaceChild(newLink, link);\r\n\r\n                        newLink.addEventListener('click', function(e) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n\r\n                            if (Log) Log.info('[POI] Clic sur \"Voir plus\" pour POI:', poi.id);\r\n\r\n                            // Fermer le popup\r\n                            if (marker && marker.closePopup) {\r\n                                marker.closePopup();\r\n                            }\r\n\r\n                            // Ouvrir le side panel avec un petit délai\r\n                            setTimeout(function() {\r\n                                if (Log) Log.info('[POI] Appel de showPoiDetails pour:', poi.id);\r\n                                const _gPOI = typeof globalThis !== 'undefined' ? globalThis : window;\r\n                                if (_gPOI.GeoLeaf?.POI?.showPoiDetails) {\r\n                                    _gPOI.GeoLeaf.POI.showPoiDetails(poi);\r\n                                } else {\r\n                                    POICoreContract.showPoiDetails?.(poi);\r\n                                }\r\n                            }, 100);\r\n                        });\r\n                    } else {\r\n                        if (Log) Log.warn('[POI] Lien \"Voir plus\" non trouvé pour POI:', poi.id);\r\n                    }\r\n                }, 50);\r\n            });\r\n\r\n            // Réactiver le tooltip quand le popup se ferme\r\n            marker.on('popupclose', function() {\r\n                marker._geoleafPopupActive = false;\r\n\r\n                // Réouvrir le tooltip s'il est permanent (mode \"always\")\r\n                if (marker.getTooltip() && marker.getTooltip().options.permanent) {\r\n                    setTimeout(function() {\r\n                        if (marker.openTooltip && !marker._geoleafPopupActive) {\r\n                            marker.openTooltip();\r\n                        }\r\n                    }, 50);\r\n                }\r\n            });\r\n        }\r\n    } else {\r\n        // Mode direct: ouvrir le side panel directement au clic sur le marker (sans popup)\r\n        marker.on('click', function(e) {\r\n            e.originalEvent.stopPropagation();\r\n\r\n            if (Log) Log.info('[POI] Clic direct sur marker (sans popup) pour POI:', poi.id);\r\n\r\n            const _gPOI = typeof globalThis !== 'undefined' ? globalThis : window;\r\n            if (_gPOI.GeoLeaf?.POI?.showPoiDetails) {\r\n                _gPOI.GeoLeaf.POI.showPoiDetails(poi);\r\n            } else {\r\n                POICoreContract.showPoiDetails?.(poi);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Crée un marqueur Leaflet pour un POI.\r\n * Orchestrateur principal : coordonnées → affichage → icône → événements.\r\n *\r\n * @param {object} poi - Données du POI.\r\n * @returns {L.Marker|null} Marqueur Leaflet ou null si invalide.\r\n */\r\n/**\r\n * Crée un marqueur Leaflet pour un POI.\r\n * Orchestrateur principal : coordonnées → affichage → icône → événements.\r\n *\r\n * @param {object} poi - Données du POI.\r\n * @param {object} [options] - Options de création.\r\n * @param {boolean} [options.attachEvents=true] - Si false, ne pas attacher les événements (popup, tooltip).\r\n * @param {string} [options.pane] - Nom du pane Leaflet à utiliser pour le z-index.\r\n * @returns {L.Marker|null} Marqueur Leaflet ou null si invalide.\r\n */\r\nfunction createMarker(poi, options = {}) {\r\n    if (!poi) {\r\n        if (Log) Log.warn(\"[POI] createMarker() : POI invalide.\", poi);\r\n        return null;\r\n    }\r\n\r\n    const { attachEvents = true, pane } = options;\r\n\r\n    // Extraction coordonnées\r\n    const coords = extractMarkerCoordinates(poi);\r\n    if (!coords) {\r\n        return null;\r\n    }\r\n\r\n    const [lat, lon] = coords;\r\n\r\n    // Résolution de l'affichage (icône et couleurs)\r\n    const displayConfig = resolveCategoryDisplay(poi);\r\n\r\n    // Construction de l'icône Leaflet\r\n    const customIcon = buildMarkerIcon(displayConfig);\r\n\r\n    // Options du marker avec pane si fourni\r\n    const markerOptions = { icon: customIcon };\r\n    if (pane) {\r\n        markerOptions.pane = pane;\r\n    }\r\n\r\n    // Création du marqueur Leaflet avec le pane\r\n    const marker = L.marker([lat, lon], markerOptions);\r\n\r\n    // Attacher événements et comportements (sauf si désactivé)\r\n    if (attachEvents) {\r\n        attachMarkerEvents(marker, poi);\r\n    }\r\n\r\n    return marker;\r\n}\r\n\r\n// ========================================\r\n//   EXPORT\r\n// ========================================\r\n\r\nconst POIMarkers = {\r\n    getPoiBaseConfig,\r\n    resolveCategoryDisplay,\r\n    ensureProfileSpriteInjectedSync,\r\n    extractMarkerCoordinates,\r\n    buildMarkerIcon,\r\n    attachMarkerEvents,\r\n    createMarker\r\n};\r\n\r\n// ── ESM Export ──\r\nexport { POIMarkers };\r\n","/**\r\n * Module Legend Renderer\r\n * Rendu des symboles de légende cartographique\r\n *\r\n * DÉPENDANCES:\r\n * - Leaflet (L.DomUtil)\r\n * - GeoLeaf.Log (optionnel)\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf._LegendRenderer\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { _UIComponents } from '../ui/components.js';\r\n\r\n\r\n\r\n/**\r\n * Rendu d'une section de légende\r\n * @param {HTMLElement} container - Conteneur parent\r\n * @param {Object} section - Section de légende\r\n */\r\nfunction renderSection(container, section) {\r\n    const sectionEl = globalThis.L.DomUtil.create(\"div\", \"gl-legend__section\", container);\r\n\r\n    // Titre de section\r\n    if (section.title) {\r\n        const titleEl = globalThis.L.DomUtil.create(\"h3\", \"gl-legend__section-title\", sectionEl);\r\n        titleEl.textContent = section.title;\r\n    }\r\n\r\n    // Items\r\n    const itemsContainer = globalThis.L.DomUtil.create(\"div\", \"gl-legend__items\", sectionEl);\r\n    if (Array.isArray(section.items)) {\r\n        section.items.forEach(item => renderItem(itemsContainer, item));\r\n    }\r\n\r\n    return sectionEl;\r\n}\r\n\r\n\r\n/**\r\n * Rendu d'un item de légende\r\n * @param {HTMLElement} container - Conteneur parent\r\n * @param {Object} item - Item de légende\r\n */\r\nfunction renderItem(container, item) {\r\n    const itemEl = globalThis.L.DomUtil.create(\"div\", \"gl-legend__item\", container);\r\n\r\n    // Symbole\r\n    const symbolEl = globalThis.L.DomUtil.create(\"div\", \"gl-legend__symbol\", itemEl);\r\n    renderSymbol(symbolEl, item);\r\n\r\n    // Texte\r\n    const textContainer = globalThis.L.DomUtil.create(\"div\", \"gl-legend__text\", itemEl);\r\n\r\n    const labelEl = globalThis.L.DomUtil.create(\"span\", \"gl-legend__label\", textContainer);\r\n    labelEl.textContent = item.label || \"\";\r\n\r\n    if (item.description) {\r\n        const descEl = globalThis.L.DomUtil.create(\"span\", \"gl-legend__description\", textContainer);\r\n        descEl.textContent = item.description;\r\n    }\r\n\r\n    return itemEl;\r\n}\r\n\r\n/**\r\n * Rendu d'un symbole selon son type\r\n * @param {HTMLElement} container - Conteneur du symbole\r\n * @param {Object} item - Configuration du symbole\r\n */\r\nfunction renderSymbol(container, item) {\r\n    // Déléguer au module commun\r\n    if (_UIComponents && typeof _UIComponents.renderSymbol === 'function') {\r\n        _UIComponents.renderSymbol(container, item);\r\n    } else {\r\n        // Fallback si module non chargé\r\n        if (Log) Log.error(\"[LegendRenderer] Module _UIComponents non disponible\");\r\n    }\r\n}\r\n\r\n/**\r\n * Rendu du footer\r\n * @param {HTMLElement} container - Conteneur parent\r\n * @param {Object} footer - Configuration du footer\r\n */\r\nfunction renderFooter(container, footer) {\r\n    if (!footer || !footer.text) return;\r\n\r\n    const footerEl = globalThis.L.DomUtil.create(\"div\", \"gl-legend__footer\", container);\r\n    footerEl.textContent = footer.text;\r\n\r\n    if (footer.style === \"italic\") {\r\n        footerEl.style.fontStyle = \"italic\";\r\n    }\r\n}\r\n\r\n/**\r\n * Rendu d'un accordéon pour une couche\r\n * @param {HTMLElement} container - Conteneur parent\r\n * @param {Object} accordionData - Configuration de l'accordéon\r\n * @param {string} accordionData.layerId - ID de la couche\r\n * @param {string} accordionData.label - Titre de l'accordéon\r\n * @param {boolean} accordionData.collapsed - État initial\r\n * @param {boolean} accordionData.visible - Couche visible ou non (pour grisage)\r\n * @param {Array} accordionData.sections - Sections de légende\r\n */\r\nfunction renderAccordion(container, accordionData) {\r\n    // Utiliser le module commun pour créer l'accordéon\r\n    const _UIComponents = (typeof globalThis !== 'undefined' ? globalThis : window)?.GeoLeaf?._UIComponents;\r\n    if (!_UIComponents) {\r\n        if (Log) Log.error(\"[LegendRenderer] Module _UIComponents non disponible\");\r\n        return;\r\n    }\r\n\r\n    const { bodyEl } = _UIComponents.createAccordion(container, {\r\n        layerId: accordionData.layerId,\r\n        label: accordionData.label,\r\n        collapsed: accordionData.collapsed !== false,\r\n        visible: accordionData.visible,\r\n        onToggle: (layerId, expanded) => {\r\n            // Notifier le module Legend du changement\r\n            const _gl = (typeof globalThis !== 'undefined' ? globalThis : window);\r\n            if (_gl.GeoLeaf && _gl.GeoLeaf.Legend && typeof _gl.GeoLeaf.Legend.toggleAccordion === \"function\") {\r\n                _gl.GeoLeaf.Legend.toggleAccordion(layerId);\r\n            }\r\n        }\r\n    });\r\n\r\n    // Rendre les sections à l'intérieur du body\r\n    if (Array.isArray(accordionData.sections)) {\r\n        accordionData.sections.forEach(section => {\r\n            renderSection(bodyEl, section);\r\n        });\r\n    }\r\n}\r\n\r\nconst LegendRenderer = {\r\n    renderSection: renderSection,\r\n    renderItem: renderItem,\r\n    renderSymbol: renderSymbol,\r\n    renderFooter: renderFooter,\r\n    renderAccordion: renderAccordion\r\n};\r\nexport { LegendRenderer };\r\n","/**\r\n * Module Legend Control\r\n * Contrôle Leaflet pour afficher une légende cartographique\r\n *\r\n * DÉPENDANCES:\r\n * - Leaflet (L.Control, L.DomUtil, L.DomEvent)\r\n * - GeoLeaf.Log (optionnel)\r\n * - GeoLeaf._LegendRenderer\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf._LegendControl\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from \"../log/index.js\";\r\nimport { DOMSecurity } from \"../utils/dom-security.js\";\r\nimport { POIMarkers } from \"../poi/markers.js\";\r\nimport { LegendRenderer } from \"./legend-renderer.js\";\r\n\r\n// Direct ESM bindings (P3-DEAD-01 complete)\r\n// Leaflet (L) and optional GeoLeaf runtime modules accessed via globalThis\r\n\r\n/**\r\n * S'assure que le sprite SVG des icônes est chargé avec vérification robuste\r\n * @private\r\n * @param {Function} [callback] - Fonction à appeler une fois le sprite chargé\r\n */\r\nasync function ensureSpriteLoaded(callback) {\r\n    if (POIMarkers && typeof POIMarkers.ensureProfileSpriteInjectedSync === \"function\") {\r\n        // Éviter les logs répétitifs - log seulement la première fois\r\n        if (!ensureSpriteLoaded._alreadyLogged) {\r\n            if (Log) Log.debug(\"[Legend] Chargement du sprite SVG pour les icônes...\");\r\n            ensureSpriteLoaded._alreadyLogged = true;\r\n        }\r\n\r\n        // Attendre que le sprite soit chargé de manière asynchrone\r\n        await POIMarkers.ensureProfileSpriteInjectedSync();\r\n\r\n        // Perf 6.3.4: MutationObserver au lieu du polling setTimeout × 20\r\n        const spriteEl = document.querySelector('svg[data-geoleaf-sprite=\"profile\"]');\r\n        if (spriteEl) {\r\n            if (!ensureSpriteLoaded._spriteDetected) {\r\n                if (Log) Log.info(\"[Legend] Sprite SVG détecté et prêt pour utilisation\");\r\n                ensureSpriteLoaded._spriteDetected = true;\r\n            }\r\n            if (typeof callback === \"function\") callback(true);\r\n            return;\r\n        }\r\n\r\n        // Sprite pas encore dans le DOM : observer jusqu'à son apparition (max 2s)\r\n        new Promise((resolve) => {\r\n            const observer = new MutationObserver((_mutations, obs) => {\r\n                const el = document.querySelector('svg[data-geoleaf-sprite=\"profile\"]');\r\n                if (el) {\r\n                    obs.disconnect();\r\n                    clearTimeout(timerId);\r\n                    if (!ensureSpriteLoaded._spriteDetected) {\r\n                        if (Log) Log.info(\"[Legend] Sprite SVG détecté via MutationObserver\");\r\n                        ensureSpriteLoaded._spriteDetected = true;\r\n                    }\r\n                    resolve(true);\r\n                }\r\n            });\r\n            observer.observe(document.documentElement || document.body, {\r\n                childList: true,\r\n                subtree: true,\r\n            });\r\n\r\n            const timerId = setTimeout(() => {\r\n                observer.disconnect();\r\n                if (Log) Log.warn(\"[Legend] Sprite SVG non trouvé après 2s\");\r\n                resolve(false);\r\n            }, 2000);\r\n        }).then((found) => {\r\n            if (typeof callback === \"function\") callback(found);\r\n        });\r\n    } else {\r\n        if (Log)\r\n            Log.debug(\r\n                \"[Legend] GeoLeaf._POIMarkers.ensureProfileSpriteInjectedSync non disponible\"\r\n            );\r\n        if (typeof callback === \"function\") {\r\n            callback(false);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Crée un contrôle Leaflet pour la légende cartographique\r\n * @param {Object} options - Options du contrôle\r\n * @returns {L.Control} - Instance du contrôle Leaflet\r\n */\r\nfunction createLegendControl(options) {\r\n    if (!globalThis.L || !globalThis.L.Control) {\r\n        if (Log) Log.error(\"[Legend] Leaflet L.Control non disponible\");\r\n        return null;\r\n    }\r\n\r\n    const LegendControl = globalThis.L.Control.extend({\r\n        options: {\r\n            position: options.position || \"bottomleft\",\r\n        },\r\n\r\n        initialize: function (controlOptions) {\r\n            globalThis.L.setOptions(this, controlOptions || {});\r\n            this._glOptions = controlOptions._glOptions;\r\n        },\r\n\r\n        onAdd: function (mapInstance) {\r\n            this._map = mapInstance;\r\n            this._container = globalThis.L.DomUtil.create(\"div\", \"gl-map-legend\");\r\n\r\n            // Empêcher les interactions carte\r\n            if (globalThis.L.DomEvent) {\r\n                globalThis.L.DomEvent.disableClickPropagation(this._container);\r\n                globalThis.L.DomEvent.disableScrollPropagation(this._container);\r\n            }\r\n\r\n            this._buildStructure();\r\n            return this._container;\r\n        },\r\n\r\n        onRemove: function () {\r\n            this._map = null;\r\n            this._container = null;\r\n        },\r\n\r\n        /**\r\n         * Construit la structure DOM de la légende\r\n         * @private\r\n         */\r\n        _buildStructure: function () {\r\n            const opts = this._glOptions;\r\n\r\n            // Wrapper principal\r\n            const wrapper = globalThis.L.DomUtil.create(\r\n                \"div\",\r\n                \"gl-map-legend__wrapper\",\r\n                this._container\r\n            );\r\n\r\n            // En-tête : titre + bouton collapse\r\n            if (opts.title) {\r\n                const header = globalThis.L.DomUtil.create(\"div\", \"gl-map-legend__header\", wrapper);\r\n\r\n                const titleEl = globalThis.L.DomUtil.create(\"h2\", \"gl-map-legend__title\", header);\r\n                titleEl.textContent = opts.title;\r\n\r\n                if (opts.collapsible) {\r\n                    const toggleEl = globalThis.L.DomUtil.create(\r\n                        \"button\",\r\n                        \"gl-map-legend__toggle\",\r\n                        header\r\n                    );\r\n                    toggleEl.type = \"button\";\r\n                    toggleEl.setAttribute(\"aria-label\", \"Basculer la légende\");\r\n                    toggleEl.textContent = \"⟱\";\r\n\r\n                    const self = this;\r\n                    globalThis.L.DomEvent.on(toggleEl, \"click\", function (ev) {\r\n                        globalThis.L.DomEvent.stopPropagation(ev);\r\n                        self._toggleCollapsed();\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Corps de la légende\r\n            this._bodyEl = globalThis.L.DomUtil.create(\"div\", \"gl-map-legend__body\", wrapper);\r\n\r\n            // Appliquer l'état collapsed initial\r\n            if (opts.collapsed) {\r\n                this._container.classList.add(\"gl-map-legend--collapsed\");\r\n            }\r\n\r\n            // Rendu des sections via le renderer\r\n            this._renderContent();\r\n        },\r\n\r\n        /**\r\n         * Rend le contenu de la légende\r\n         * @private\r\n         */\r\n        _renderContent: function () {\r\n            if (!this._bodyEl) return;\r\n            const opts = this._glOptions;\r\n\r\n            // Vider le contenu existant\r\n            DOMSecurity.clearElementFast(this._bodyEl);\r\n            const renderer = LegendRenderer;\r\n\r\n            if (!renderer) {\r\n                if (Log) Log.error(\"[Legend] LegendRenderer non disponible\");\r\n                return;\r\n            }\r\n\r\n            // S'assurer que le sprite SVG est chargé pour les icônes\r\n            ensureSpriteLoaded();\r\n\r\n            // Rendu des sections (ancien mode pour compatibilité)\r\n            if (Array.isArray(opts.sections)) {\r\n                opts.sections.forEach((section) => {\r\n                    renderer.renderSection(this._bodyEl, section);\r\n                });\r\n            }\r\n\r\n            // Rendu du footer\r\n            if (opts.footer) {\r\n                renderer.renderFooter(this._bodyEl, opts.footer);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Mise à jour du contenu multi-couches avec accordéons\r\n         * @param {Array} legendsArray - Tableau d'accordéons à afficher\r\n         */\r\n        updateMultiLayerContent: function (legendsArray) {\r\n            if (!this._bodyEl) return;\r\n\r\n            // Vider le contenu existant\r\n            DOMSecurity.clearElementFast(this._bodyEl);\r\n\r\n            const renderer = LegendRenderer;\r\n\r\n            if (!renderer || typeof renderer.renderAccordion !== \"function\") {\r\n                if (Log) Log.error(\"[Legend] Renderer.renderAccordion non disponible\");\r\n                return;\r\n            }\r\n\r\n            // S'assurer que le sprite SVG est chargé avant le rendu\r\n            const self = this;\r\n            ensureSpriteLoaded(function (spriteLoaded) {\r\n                if (Log)\r\n                    Log.debug(\"[Legend] Sprite chargé:\", spriteLoaded, \"- Rendu des accordéons\");\r\n\r\n                // Rendre chaque accordéon (même si le sprite n'est pas chargé pour éviter une interface vide)\r\n                if (Array.isArray(legendsArray)) {\r\n                    legendsArray.forEach((accordionData) => {\r\n                        renderer.renderAccordion(self._bodyEl, accordionData);\r\n                    });\r\n                }\r\n\r\n                // Si le sprite n'était pas chargé, réessayer dans 1 seconde\r\n                if (!spriteLoaded) {\r\n                    setTimeout(function () {\r\n                        const spriteEl = document.querySelector(\r\n                            'svg[data-geoleaf-sprite=\"profile\"]'\r\n                        );\r\n                        if (spriteEl && Log) {\r\n                            Log.info(\r\n                                \"[Legend] Sprite chargé tardivement - Re-rendu des accordéons\"\r\n                            );\r\n                            self.updateMultiLayerContent(legendsArray);\r\n                        }\r\n                    }, 1000);\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Mise à jour du contenu de la légende (ancien mode)\r\n         * @param {Object} legendData - Nouvelles données de légende\r\n         */\r\n        updateContent: function (legendData) {\r\n            if (legendData.title) this._glOptions.title = legendData.title;\r\n            if (legendData.sections) this._glOptions.sections = legendData.sections;\r\n            if (legendData.footer) this._glOptions.footer = legendData.footer;\r\n\r\n            this._renderContent();\r\n        },\r\n\r\n        /**\r\n         * Bascule l'état collapsed\r\n         * @private\r\n         */\r\n        _toggleCollapsed: function () {\r\n            const isCollapsed = this._container.classList.toggle(\"gl-map-legend--collapsed\");\r\n            this._glOptions.collapsed = isCollapsed;\r\n        },\r\n\r\n        /**\r\n         * Montre la légende\r\n         * @public\r\n         */\r\n        show: function () {\r\n            if (this._container) {\r\n                this._container.style.display = \"block\";\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Cache la légende\r\n         * @public\r\n         */\r\n        hide: function () {\r\n            if (this._container) {\r\n                this._container.style.display = \"none\";\r\n            }\r\n        },\r\n    });\r\n\r\n    return new LegendControl({\r\n        position: options.position,\r\n        _glOptions: options,\r\n    });\r\n}\r\n\r\nconst LegendControl = {\r\n    create: createLegendControl,\r\n};\r\nexport { LegendControl };\r\n","/**\r\n * Module Legend Generator\r\n * Génère automatiquement les légendes depuis les fichiers de style\r\n *\r\n * DÉPENDANCES:\r\n * - GeoLeaf.Log (optionnel)\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf._LegendGenerator\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from \"../log/index.js\";\r\nimport { Config } from \"../config/config-primitives.js\";\r\nimport { compareByOrder } from \"../utils/general-utils.js\";\r\nimport { POIShared } from \"../shared/poi-state.js\";\r\n\r\n/**\r\n * Récupère l'icône depuis taxonomy pour une règle donnée\r\n * @param {Object} rule - Règle de style avec condition when\r\n * @param {Object} taxonomyData - Données de taxonomy\r\n * @param {string} symbolPrefix - Préfixe des symboles (ex: \"tourism-poi-cat-\")\r\n * @returns {string|null} - ID de l'icône sprite ou null\r\n * @private\r\n */\r\nfunction getIconFromTaxonomy(rule, taxonomyData, symbolPrefix) {\r\n    if (!rule.when || !taxonomyData || !taxonomyData.categories) {\r\n        if (Log)\r\n            Log.debug(\"[LegendGenerator] Données insuffisantes pour récupérer icône:\", {\r\n                hasRule: !!rule.when,\r\n                hasTaxonomy: !!taxonomyData,\r\n                hasCategories: !!(taxonomyData && taxonomyData.categories),\r\n            });\r\n        return null;\r\n    }\r\n\r\n    const field = rule.when.field;\r\n    const value = rule.when.value;\r\n    const categories = taxonomyData.categories;\r\n\r\n    if (Log) Log.debug(`[LegendGenerator] Recherche icône pour ${field}=${value}`);\r\n\r\n    // Déterminer le type de recherche\r\n    const isSubCategory =\r\n        field === \"properties.subCategoryId\" || field === \"attributes.subCategoryId\";\r\n    const isCategoryId = field === \"properties.categoryId\" || field === \"attributes.categoryId\";\r\n\r\n    // Recherche dans subCategoryId\r\n    if (isSubCategory) {\r\n        for (const categoryKey in categories) {\r\n            const subcategories = categories[categoryKey].subcategories;\r\n            if (subcategories && subcategories[value] && subcategories[value].icon) {\r\n                const iconId = symbolPrefix + subcategories[value].icon;\r\n                if (Log) Log.debug(`[LegendGenerator] Icône trouvée (subcat): ${iconId}`);\r\n                return iconId;\r\n            }\r\n        }\r\n    }\r\n\r\n    // Recherche dans categoryId\r\n    if (isCategoryId && categories[value] && categories[value].icon) {\r\n        const iconId = symbolPrefix + categories[value].icon;\r\n        if (Log) Log.debug(`[LegendGenerator] Icône trouvée (cat): ${iconId}`);\r\n        return iconId;\r\n    }\r\n\r\n    if (Log) Log.warn(`[LegendGenerator] Aucune icône trouvée pour ${field}=${value}`);\r\n    return null;\r\n}\r\n\r\n// Fonction utilitaire pour déterminer si les icônes doivent être affichées\r\n// Copie exactement la logique de markers.js resolveCategoryDisplay()\r\nfunction shouldUseIcons() {\r\n    try {\r\n        // Récupérer l'état partagé (comme dans markers.js)\r\n        const shared = POIShared ?? null;\r\n        const poiConfig = shared ? shared.state.poiConfig : {};\r\n        const showIconsOnMap = poiConfig.showIconsOnMap !== false;\r\n\r\n        if (showIconsOnMap) {\r\n            // Vérifier la config d'icônes (comme dans markers.js)\r\n            const iconsConfig = Config.getIconsConfig?.() ?? null;\r\n\r\n            if (iconsConfig && iconsConfig.showOnMap !== false) {\r\n                return true;\r\n            }\r\n        }\r\n    } catch (e) {\r\n        // Ignorer les erreurs silencieusement\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n/**\r\n * Génère les données de légende depuis un fichier de style\r\n * @param {Object} styleData - Données du style (JSON parsé)\r\n * @param {string} geometryType - Type de géométrie (point, line, polygon)\r\n * @param {Object} taxonomyData - Données de taxonomy (pour les icônes POI)\r\n * @returns {Object} - Données de légende formatées\r\n */\r\nfunction generateLegendFromStyle(styleData, geometryType, taxonomyData) {\r\n    if (!styleData) {\r\n        if (Log) Log.warn(\"[LegendGenerator] Style data manquant\");\r\n        return null;\r\n    }\r\n\r\n    const legendData = {\r\n        version: \"3.0\",\r\n        id: styleData.id,\r\n        title: styleData.label || \"Sans titre\",\r\n        description: styleData.description || \"\",\r\n        sections: [],\r\n    };\r\n\r\n    const items = [];\r\n    const symbolPrefix = taxonomyData?.icons?.symbolPrefix || \"tourism-poi-cat-\";\r\n\r\n    // Cas 1 : Style avec styleRules\r\n    if (Array.isArray(styleData.styleRules) && styleData.styleRules.length > 0) {\r\n        styleData.styleRules.forEach((rule) => {\r\n            if (!rule.legend) {\r\n                if (Log) Log.warn(\"[LegendGenerator] Règle sans propriété legend:\", rule);\r\n                return;\r\n            }\r\n\r\n            const item = generateLegendItem(\r\n                rule.style,\r\n                rule.legend,\r\n                geometryType,\r\n                styleData.style, // style de base\r\n                rule,\r\n                taxonomyData,\r\n                symbolPrefix\r\n            );\r\n\r\n            if (item) {\r\n                items.push(item);\r\n            }\r\n        });\r\n\r\n        // Trier par order (Phase 4 dedup)\r\n        items.sort(compareByOrder);\r\n\r\n        // Cas 2 : Style simple sans règles ou avec styleRules vide\r\n    }\r\n\r\n    // Si pas d'items générés à partir des styleRules (ou pas de styleRules)\r\n    // essayer d'utiliser la légende au niveau racine\r\n    if (items.length === 0 && styleData.style && styleData.legend) {\r\n        const item = generateLegendItem(\r\n            styleData.style,\r\n            styleData.legend,\r\n            geometryType,\r\n            null,\r\n            null,\r\n            taxonomyData,\r\n            symbolPrefix\r\n        );\r\n\r\n        if (item) {\r\n            items.push(item);\r\n        }\r\n    }\r\n\r\n    // Créer une section par défaut avec tous les items\r\n    if (items.length > 0) {\r\n        legendData.sections.push({\r\n            title: \"\",\r\n            items: items,\r\n        });\r\n    }\r\n\r\n    return legendData;\r\n}\r\n\r\n/**\r\n * Génère un item de légende selon le type de géométrie\r\n * @param {Object} style - Style de l'entité\r\n * @param {Object} legend - Propriétés legend (label, order, description)\r\n * @param {string} geometryType - Type de géométrie\r\n * @param {Object} baseStyle - Style de base (pour héritage)\r\n * @param {Object} rule - Règle complète (pour extraction icône)\r\n * @param {Object} taxonomyData - Données taxonomy\r\n * @param {string} symbolPrefix - Préfixe symboles\r\n * @param {boolean} showIconsOnMap - Si true, génère les icônes\r\n * @returns {Object|null} - Item de légende\r\n * @private\r\n */\r\nfunction generateLegendItem(\r\n    style,\r\n    legend,\r\n    geometryType,\r\n    baseStyle,\r\n    rule,\r\n    taxonomyData,\r\n    symbolPrefix\r\n) {\r\n    if (!style || !legend) {\r\n        return null;\r\n    }\r\n\r\n    // Fusionner avec le style de base si présent\r\n    const mergedStyle = baseStyle ? Object.assign({}, baseStyle, style) : style;\r\n\r\n    const item = {\r\n        label: legend.label || \"Sans label\",\r\n        order: legend.order || 999,\r\n    };\r\n\r\n    if (legend.description) {\r\n        item.description = legend.description;\r\n    }\r\n\r\n    // Génération du symbole selon le type de géométrie\r\n    switch (geometryType) {\r\n        case \"point\":\r\n            item.symbol = generatePointSymbol(mergedStyle, rule, taxonomyData, symbolPrefix);\r\n            break;\r\n\r\n        case \"line\":\r\n            item.symbol = generateLineSymbol(mergedStyle);\r\n            break;\r\n\r\n        case \"polygon\":\r\n            item.symbol = generatePolygonSymbol(mergedStyle);\r\n            break;\r\n\r\n        default:\r\n            if (Log) Log.warn(\"[LegendGenerator] Type de géométrie non reconnu:\", geometryType);\r\n            item.symbol = generatePointSymbol(mergedStyle, rule, taxonomyData, symbolPrefix);\r\n    }\r\n\r\n    return item;\r\n}\r\n\r\n/**\r\n * Ajoute les propriétés communes d'opacité à un symbole\r\n * @param {Object} symbol - Objet symbole\r\n * @param {Object} style - Style source\r\n * @param {Array<string>} opacityProps - Propriétés d'opacité à copier\r\n * @private\r\n */\r\nfunction applyOpacityProperties(symbol, style, opacityProps) {\r\n    opacityProps.forEach((prop) => {\r\n        if (style[prop] !== undefined) {\r\n            symbol[prop] = style[prop];\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Résout les icônes d'une règle selon la configuration showIconsOnMap\r\n * @param {Object} rule - Règle de style\r\n * @returns {Object} - {useIcon: boolean, iconId: string|null}\r\n * @private\r\n */\r\nfunction resolveRuleIcons(rule) {\r\n    // Utiliser la même logique que markers.js\r\n    if (!shouldUseIcons()) {\r\n        return { useIcon: false, iconId: null };\r\n    }\r\n    // Récupérer la configuration des catégories\r\n    const categoriesConfig = Config.getCategories?.() ?? {};\r\n\r\n    if (!categoriesConfig || Object.keys(categoriesConfig).length === 0) {\r\n        return { useIcon: false, iconId: null };\r\n    }\r\n\r\n    // Mappage de fclass vers categoryId/subCategoryId pour les icônes\r\n    // Permet de résoudre les icônes pour les règles qui utilisent fclass au lieu de categoryId\r\n    const fclassMappings = {\r\n        // Cultures\r\n        archaeological: { categoryId: \"CULTURES\", subCategoryId: \"SITE ARCHEOLOGIQUE\" },\r\n        museum: { categoryId: \"CULTURES\", subCategoryId: \"MUSEE\" },\r\n        // Hébergements\r\n        camp_site: { categoryId: \"HEBERGEMENT\", subCategoryId: \"CAMPING\" },\r\n        hotel: { categoryId: \"HEBERGEMENT\", subCategoryId: \"HOTEL\" },\r\n    };\r\n\r\n    // Extraire categoryId et subCategoryId depuis la règle\r\n    let categoryId = null;\r\n    let subCategoryId = null;\r\n\r\n    // Format v3 : rule.when avec field/value\r\n    if (rule.when && rule.when.field && rule.when.value !== undefined) {\r\n        // NOUVEAU: Cas spécial pour fclass (résoudre via mapping)\r\n        if (rule.when.field === \"properties.fclass\" || rule.when.field === \"fclass\") {\r\n            const mapping = fclassMappings[rule.when.value];\r\n            if (mapping) {\r\n                categoryId = mapping.categoryId;\r\n                subCategoryId = mapping.subCategoryId;\r\n            }\r\n        } else if (\r\n            rule.when.field === \"properties.categoryId\" ||\r\n            rule.when.field === \"categoryId\"\r\n        ) {\r\n            categoryId = rule.when.value;\r\n        } else if (\r\n            rule.when.field === \"properties.subCategoryId\" ||\r\n            rule.when.field === \"subCategoryId\"\r\n        ) {\r\n            subCategoryId = rule.when.value;\r\n        } else if (rule.when.field === \"properties.category\" || rule.when.field === \"category\") {\r\n            categoryId = rule.when.value;\r\n        } else if (\r\n            rule.when.field === \"properties.subCategory\" ||\r\n            rule.when.field === \"subCategory\"\r\n        ) {\r\n            subCategoryId = rule.when.value;\r\n        }\r\n    }\r\n    // Format legacy : rule.condition\r\n    else if (rule.condition) {\r\n        if (typeof rule.condition.categoryId !== \"undefined\") {\r\n            categoryId = rule.condition.categoryId;\r\n        }\r\n        if (typeof rule.condition.subCategoryId !== \"undefined\") {\r\n            subCategoryId = rule.condition.subCategoryId;\r\n        }\r\n        if (typeof rule.condition.category !== \"undefined\") {\r\n            categoryId = rule.condition.category;\r\n        }\r\n        if (typeof rule.condition.subCategory !== \"undefined\") {\r\n            subCategoryId = rule.condition.subCategory;\r\n        }\r\n    }\r\n\r\n    // Pour les subCategoryId, il faut deviner la categoryId depuis la taxonomie\r\n    if (subCategoryId && !categoryId) {\r\n        // Chercher dans quelle catégorie se trouve cette sous-catégorie\r\n        Object.keys(categoriesConfig).forEach((catKey) => {\r\n            const cat = categoriesConfig[catKey];\r\n            if (cat.subcategories && cat.subcategories[subCategoryId]) {\r\n                categoryId = catKey;\r\n            }\r\n        });\r\n    }\r\n\r\n    if (!categoryId && !subCategoryId) {\r\n        return { useIcon: false, iconId: null };\r\n    }\r\n\r\n    // Résolution de l'icône depuis la taxonomie\r\n    let iconId = null;\r\n    if (subCategoryId && categoriesConfig[categoryId]?.subcategories) {\r\n        const subCat = categoriesConfig[categoryId].subcategories[subCategoryId];\r\n        const cat = categoriesConfig[categoryId];\r\n\r\n        if (subCat) {\r\n            iconId = subCat.icon || subCat.iconId || cat.icon || cat.iconId || null;\r\n        } else {\r\n            iconId = cat.icon || cat.iconId || null;\r\n        }\r\n    } else if (categoriesConfig[categoryId]) {\r\n        const cat = categoriesConfig[categoryId];\r\n        iconId = cat.icon || cat.iconId || null;\r\n    }\r\n\r\n    return {\r\n        useIcon: iconId !== null,\r\n        iconId: iconId,\r\n    };\r\n}\r\n\r\n/**\r\n * Génère un symbole pour les points (POI)\r\n * @param {Object} style - Style du point\r\n * @param {Object} rule - Règle complète (pour extraction icône)\r\n * @param {Object} taxonomyData - Données taxonomy\r\n * @param {string} symbolPrefix - Préfixe symboles\r\n * @param {boolean} showIconsOnMap - Si true, génère les icônes\r\n * @returns {Object} - Configuration du symbole\r\n * @private\r\n */\r\nfunction generatePointSymbol(style, rule, taxonomyData, symbolPrefix) {\r\n    const fill = style.fill || {};\r\n    const stroke = style.stroke || {};\r\n\r\n    const resolvedRadius =\r\n        style.radius || style.size || (style.sizePx ? style.sizePx / 2 : undefined);\r\n\r\n    // Taille par défaut plus grande pour que les icônes soient visibles dans la légende\r\n    // Utiliser 24px pour les icônes, 16px pour les cercles simples\r\n    const defaultRadius = 24;\r\n\r\n    const symbol = {\r\n        type: \"circle\",\r\n        radius: resolvedRadius || defaultRadius,\r\n        fillColor: style.fillColor || style.color || fill.color || \"#3388ff\",\r\n        fillOpacity:\r\n            style.fillOpacity !== undefined\r\n                ? style.fillOpacity\r\n                : fill.opacity !== undefined\r\n                  ? fill.opacity\r\n                  : 1,\r\n        color: style.color || stroke.color || \"#ffffff\",\r\n        weight: style.weight || stroke.widthPx || 2,\r\n        opacity:\r\n            style.opacity !== undefined\r\n                ? style.opacity\r\n                : stroke.opacity !== undefined\r\n                  ? stroke.opacity\r\n                  : 1,\r\n    };\r\n\r\n    // Priorité 1 : Vérifier si l'icône est directement dans le style (showIconsOnMap)\r\n    if (style.useIcon && style.iconId) {\r\n        symbol.icon = style.iconId;\r\n        symbol.iconColor = \"#ffffff\"; // Couleur par défaut pour icônes\r\n        if (Log) Log.debug(`[LegendGenerator] Icône trouvée dans le style: ${style.iconId}`);\r\n    }\r\n    // Priorité 2 : Résoudre l'icône depuis la configuration showIconsOnMap\r\n    else if (rule && shouldUseIcons()) {\r\n        const iconResolution = resolveRuleIcons(rule);\r\n\r\n        if (iconResolution.useIcon && iconResolution.iconId) {\r\n            // Ajouter le préfixe sprite si nécessaire\r\n            const fullIconId = iconResolution.iconId.startsWith(\"#\")\r\n                ? iconResolution.iconId\r\n                : symbolPrefix\r\n                  ? symbolPrefix + iconResolution.iconId\r\n                  : \"#sprite-\" + iconResolution.iconId;\r\n\r\n            symbol.icon = fullIconId;\r\n            symbol.iconColor = \"#ffffff\";\r\n            if (Log) Log.debug(`[LegendGenerator] Icône résolue depuis la config: ${fullIconId}`);\r\n        }\r\n    }\r\n    // Priorité 3 : Tenter de récupérer l'icône depuis taxonomy (méthode legacy)\r\n    if (!symbol.icon && rule && taxonomyData && shouldUseIcons()) {\r\n        const icon = getIconFromTaxonomy(rule, taxonomyData, symbolPrefix);\r\n        if (icon) {\r\n            symbol.icon = icon;\r\n            symbol.iconColor = \"#ffffff\"; // Couleur par défaut pour icônes\r\n            if (Log) Log.debug(\"[LegendGenerator] Icône taxonomy ajoutée:\", icon);\r\n        }\r\n    }\r\n\r\n    return symbol;\r\n}\r\n\r\n/**\r\n * Génère un symbole pour les lignes\r\n * @param {Object} style - Style de la ligne\r\n * @returns {Object} - Configuration du symbole\r\n * @private\r\n */\r\nfunction generateLineSymbol(style) {\r\n    const stroke = style.stroke || {};\r\n    const casing = style.casing || {};\r\n\r\n    // Stratégie : afficher le casing comme contour/bordure du stroke\r\n    // Si casing existe, utiliser la couleur du casing comme contour\r\n    // et le stroke comme couleur principale\r\n    const symbol = {\r\n        type: \"line\",\r\n        color: stroke.color || style.color || \"#3388ff\",\r\n        width: stroke.widthPx || style.weight || 3,\r\n        style: \"solid\", // Par défaut\r\n    };\r\n\r\n    // Si casing est activé, ajouter une bordure/outline fine\r\n    // Limiter l'épaisseur pour la légende (réduit d'un facteur)\r\n    if (casing.enabled && casing.color) {\r\n        symbol.outlineColor = casing.color;\r\n        // Utiliser une fraction de la largeur du casing pour la légende\r\n        symbol.outlineWidth = Math.max(0.5, (casing.widthPx || 1) * 0.4);\r\n        symbol.outlineOpacity = casing.opacity || 1;\r\n    }\r\n\r\n    // Appliquer l'opacité\r\n    if (stroke.opacity !== undefined) {\r\n        symbol.opacity = stroke.opacity;\r\n    }\r\n\r\n    // Support pour dashArray - passer la valeur complète\r\n    const dashArray = style.dashArray || stroke.dashArray;\r\n    if (dashArray) {\r\n        symbol.dashArray = dashArray;\r\n        // Garder le style pour la rétrocompatibilité\r\n        if (dashArray === \"5, 5\" || dashArray === \"10, 10\") {\r\n            symbol.style = \"dashed\";\r\n        } else if (dashArray === \"1, 3\" || dashArray === \"2, 4\") {\r\n            symbol.style = \"dotted\";\r\n        }\r\n    }\r\n\r\n    return symbol;\r\n}\r\n\r\n/**\r\n * Génère un symbole pour les polygones\r\n * @param {Object} style - Style du polygone\r\n * @returns {Object} - Configuration du symbole\r\n * @private\r\n */\r\nfunction generatePolygonSymbol(style) {\r\n    const fill = style.fill || {};\r\n    const stroke = style.stroke || {};\r\n\r\n    const symbol = {\r\n        type: \"polygon\",\r\n        fillColor: style.fillColor || style.color || fill.color || \"#3388ff\",\r\n        color: style.color || stroke.color || \"#333\",\r\n        weight: style.weight || stroke.widthPx || 1,\r\n    };\r\n\r\n    // Appliquer l'opacité du fill (pas du stroke qui écrase)\r\n    applyOpacityProperties(symbol, style, [\"fillOpacity\"]);\r\n    // Si pas de fillOpacity, prendre l'opacity directement du fill\r\n    if (fill.opacity !== undefined) {\r\n        symbol.opacity = fill.opacity;\r\n    }\r\n    // Puis vérifier style.opacity en dernier (peut être au niveau racine)\r\n    if (style.opacity !== undefined) {\r\n        symbol.opacity = style.opacity;\r\n    }\r\n\r\n    // Support pour dashArray sur le contour\r\n    const dashArray = style.dashArray || stroke.dashArray;\r\n    if (dashArray) {\r\n        symbol.dashArray = dashArray;\r\n    }\r\n\r\n    // Support pour patterns de hachures\r\n    if (style.fillPattern) {\r\n        symbol.fillPattern = style.fillPattern;\r\n    }\r\n\r\n    // Support pour les hachures (format moderne)\r\n    if (style.hatch) {\r\n        symbol.hatch = style.hatch;\r\n    }\r\n\r\n    return symbol;\r\n}\r\n\r\nconst LegendGenerator = {\r\n    generateLegendFromStyle: generateLegendFromStyle,\r\n    generateLegendItem: generateLegendItem,\r\n};\r\nexport { LegendGenerator };\r\n","/*!\r\n * GeoLeaf Core – Baselayers / Providers\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n */\r\n\r\n/**\r\n * Définitions des couches tuiles par défaut (100 % utilisables sans clé API).\r\n * @type {Object.<string, {label: string, url: string, options: object}>}\r\n */\r\nexport const DEFAULT_BASELAYERS = {\r\n    street: {\r\n        label: \"Street\",\r\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\r\n        options: {\r\n            maxZoom: 19,\r\n            attribution: \"&copy; OpenStreetMap contributors\",\r\n        },\r\n    },\r\n    topo: {\r\n        label: \"Topo\",\r\n        url: \"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png\",\r\n        options: {\r\n            maxZoom: 17,\r\n            attribution:\r\n                \"Map data: &copy; OpenStreetMap contributors, SRTM | Map style: &copy; OpenTopoMap\",\r\n        },\r\n    },\r\n    satellite: {\r\n        label: \"Satellite\",\r\n        url: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\r\n        options: {\r\n            maxZoom: 19,\r\n            attribution:\r\n                \"Tiles &copy; Esri — Source: Esri, Earthstar Geographics, and the GIS user community\",\r\n        },\r\n    },\r\n};\r\n\r\n/**\r\n * Normalise les options Leaflet pour une définition de couche.\r\n * @param {object} definition\r\n * @returns {object} Options normalisées\r\n */\r\nexport function normalizeOptions(definition) {\r\n    const opts = Object.assign({}, definition.options || {});\r\n    if (typeof opts.minZoom !== \"number\" && typeof definition.minZoom === \"number\") {\r\n        opts.minZoom = definition.minZoom;\r\n    }\r\n    if (typeof opts.maxZoom !== \"number\") {\r\n        opts.maxZoom = typeof definition.maxZoom === \"number\" ? definition.maxZoom : 19;\r\n    }\r\n    if (!opts.attribution && definition.attribution) {\r\n        opts.attribution = definition.attribution;\r\n    }\r\n    return opts;\r\n}\r\n\r\n/**\r\n * Silence MapLibre GL v5 \"Expected value to be of type number, but found null\"\r\n * warnings emitted by the Liberty (OpenFreeMap) basemap style.\r\n * Applique des filtres corrigés via setFilter() — aucun rechargement de tuiles.\r\n * @param {object} glMap - Instance live MapLibre Map\r\n */\r\nexport function applyLibertyFilters(glMap) {\r\n    const PATCHES = {\r\n        boundary_3: { admin_level: -1, maritime: 0, disputed: 0 },\r\n        road_motorway_link: { ramp: 0 },\r\n        road_motorway_link_casing: { ramp: 0 },\r\n        road_link: { ramp: 0 },\r\n        road_link_casing: { ramp: 0 },\r\n        bridge_motorway_link: { ramp: 0 },\r\n        bridge_motorway_link_casing: { ramp: 0 },\r\n        tunnel_motorway_link: { ramp: 0 },\r\n        tunnel_motorway_link_casing: { ramp: 0 },\r\n        tunnel_link: { ramp: 0 },\r\n        tunnel_link_casing: { ramp: 0 },\r\n        road_one_way_arrow: { oneway: 0 },\r\n        road_one_way_arrow_opposite: { oneway: 0 },\r\n        label_city: { capital: 0 },\r\n        label_city_capital: { capital: 0 },\r\n        poi_r1: { rank: 0 },\r\n        poi_r7: { rank: 0 },\r\n        poi_r20: { rank: 0 },\r\n        label_country_1: { rank: 0 },\r\n        label_country_2: { rank: 0 },\r\n        label_country_3: { rank: 0 },\r\n    };\r\n\r\n    function _patchExpr(expr, propMap) {\r\n        if (!Array.isArray(expr)) return expr;\r\n        if (expr[0] === \"get\" && expr.length === 2 && typeof expr[1] === \"string\") {\r\n            if (Object.prototype.hasOwnProperty.call(propMap, expr[1])) {\r\n                return [\"coalesce\", expr, propMap[expr[1]]];\r\n            }\r\n        }\r\n        return expr.map((item) => (Array.isArray(item) ? _patchExpr(item, propMap) : item));\r\n    }\r\n\r\n    for (const [layerId, propMap] of Object.entries(PATCHES)) {\r\n        try {\r\n            if (!glMap.getLayer(layerId)) continue;\r\n            const currentFilter = glMap.getFilter(layerId);\r\n            if (!currentFilter) continue;\r\n            glMap.setFilter(layerId, _patchExpr(currentFilter, propMap));\r\n        } catch (_e) {\r\n            // layer absent from this style — skip silently\r\n        }\r\n    }\r\n}\r\n","/*!\r\n * GeoLeaf Core – Baselayers / Registry\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n */\r\n\r\nimport { Log } from \"../log/index.js\";\r\nimport { DEFAULT_BASELAYERS, normalizeOptions, applyLibertyFilters } from \"./providers.js\";\r\n\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n\r\n// ---------------------------------------------------------\r\n// État interne partagé\r\n// ---------------------------------------------------------\r\nlet _map = null;\r\nlet _activeKey = null;\r\nexport const _baseLayers = Object.create(null);\r\n\r\n// ---------------------------------------------------------\r\n// Résolution de la carte\r\n// ---------------------------------------------------------\r\nexport function ensureMap(explicitMap) {\r\n    if (explicitMap && typeof explicitMap.setView === \"function\") {\r\n        _map = explicitMap;\r\n        Log.info(\"[GeoLeaf.Baselayers] ensureMap: using explicit map passed to init().\");\r\n        return;\r\n    }\r\n    if (_map && typeof _map.setView === \"function\") return;\r\n\r\n    const mh = _g.GeoLeaf?.Utils?.MapHelpers;\r\n    const resolved = mh && typeof mh.ensureMap === \"function\" ? mh.ensureMap() : null;\r\n    if (resolved) {\r\n        _map = resolved;\r\n        Log.info(\"[GeoLeaf.Baselayers] ensureMap: acquired via MapHelpers.ensureMap().\");\r\n    }\r\n}\r\n\r\nexport function setMap(mapInstance) {\r\n    _map = mapInstance;\r\n}\r\n\r\nexport function getInternalMap() {\r\n    return _map;\r\n}\r\n\r\n// ---------------------------------------------------------\r\n// Enregistrement des couches\r\n// ---------------------------------------------------------\r\nexport function registerDefaultBaseLayers() {\r\n    const L = _g.L;\r\n    if (!L) return;\r\n    Object.keys(DEFAULT_BASELAYERS).forEach((key) => {\r\n        if (!_baseLayers[key]) registerBaseLayer(key, DEFAULT_BASELAYERS[key]);\r\n    });\r\n}\r\n\r\nexport function registerBaseLayer(key, definition) {\r\n    const L = _g.L;\r\n    if (!key) {\r\n        Log.warn(\"[GeoLeaf.Baselayers] registerBaseLayer appelé sans clé.\");\r\n        return;\r\n    }\r\n    if (!definition) {\r\n        Log.warn(\"[GeoLeaf.Baselayers] Définition manquante pour la couche :\", key);\r\n        return;\r\n    }\r\n\r\n    const actualKey = definition.id || key;\r\n    let layerInstance = null;\r\n    const label = definition.label || actualKey;\r\n\r\n    if (definition instanceof L.TileLayer) {\r\n        layerInstance = definition;\r\n    } else if (definition.layer && definition.layer instanceof L.TileLayer) {\r\n        layerInstance = definition.layer;\r\n    } else if (definition.type === \"maplibre\" || definition.style) {\r\n        if (typeof L.maplibreGL === \"function\") {\r\n            const mlOptions = {\r\n                style: definition.style,\r\n                attribution: definition.attribution || \"\",\r\n                interactive: false,\r\n                padding: 0.25,\r\n                maplibreOptions: {\r\n                    preserveDrawingBuffer: true,\r\n                    trackResize: true,\r\n                    fadeDuration: 0,\r\n                },\r\n            };\r\n            layerInstance = L.maplibreGL(mlOptions);\r\n            layerInstance.once(\"add\", function () {\r\n                const glMap = layerInstance.getMaplibreMap && layerInstance.getMaplibreMap();\r\n                if (glMap) {\r\n                    glMap.once(\"styledata\", function () {\r\n                        applyLibertyFilters(glMap);\r\n                    });\r\n                }\r\n            });\r\n            Log.info(\"[GeoLeaf.Baselayers] Basemap vectorielle MapLibre créée :\", actualKey);\r\n        } else {\r\n            Log.warn(\r\n                \"[GeoLeaf.Baselayers] MapLibre GL plugin non chargé. Fallback raster pour :\",\r\n                actualKey\r\n            );\r\n            const fallbackUrl = definition.url || definition.fallbackUrl;\r\n            layerInstance = fallbackUrl\r\n                ? L.tileLayer(fallbackUrl, normalizeOptions(definition))\r\n                : L.tileLayer(DEFAULT_BASELAYERS.street.url, DEFAULT_BASELAYERS.street.options);\r\n        }\r\n    } else if (definition.url) {\r\n        layerInstance = L.tileLayer(definition.url, normalizeOptions(definition));\r\n    } else {\r\n        Log.warn(\r\n            \"[GeoLeaf.Baselayers] Définition invalide pour la couche :\",\r\n            actualKey,\r\n            \"(aucune url / aucun layer fourni)\"\r\n        );\r\n        return;\r\n    }\r\n\r\n    _baseLayers[actualKey] = { key: actualKey, label, layer: layerInstance };\r\n}\r\n\r\nexport function registerBaseLayers(definitions) {\r\n    if (!definitions || typeof definitions !== \"object\") {\r\n        Log.warn(\"[GeoLeaf.Baselayers] registerBaseLayers attend un objet de définitions.\");\r\n        return;\r\n    }\r\n    Object.keys(definitions).forEach((key) => registerBaseLayer(key, definitions[key]));\r\n}\r\n\r\n// ---------------------------------------------------------\r\n// Activation de couche\r\n// ---------------------------------------------------------\r\nexport function setBaseLayer(key, options) {\r\n    options = options || {};\r\n    if (!key) {\r\n        Log.warn(\"[GeoLeaf.Baselayers] setBaseLayer appelé sans clé.\");\r\n        return;\r\n    }\r\n\r\n    const previousKey = _activeKey;\r\n    ensureMap();\r\n\r\n    Log.info(\"[GeoLeaf.Baselayers] setBaseLayer:\", key, \"_map=\", !!_map);\r\n\r\n    if (!_map) {\r\n        Log.warn(\"[GeoLeaf.Baselayers] Aucun L.Map disponible.\");\r\n        return;\r\n    }\r\n\r\n    if (!_baseLayers[key]) {\r\n        Log.warn(\"[GeoLeaf.Baselayers] Couche inconnue :\", key);\r\n        const keys = Object.keys(_baseLayers);\r\n        if (!previousKey && keys.length > 0) {\r\n            setBaseLayer(keys[0], { silent: true });\r\n        }\r\n        return;\r\n    }\r\n\r\n    if (_activeKey === key) {\r\n        // Signal UI refresh — ui.js écoute via l'export refreshUI\r\n        return;\r\n    }\r\n\r\n    if (previousKey && _baseLayers[previousKey]) {\r\n        const prev = _baseLayers[previousKey].layer;\r\n        try {\r\n            if (prev && _map && typeof _map.hasLayer === \"function\" && _map.hasLayer(prev)) {\r\n                _map.removeLayer(prev);\r\n            }\r\n        } catch (e) {\r\n            Log.warn(\"[GeoLeaf.Baselayers] Impossible de retirer la couche précédente:\", e);\r\n        }\r\n    }\r\n\r\n    const nextLayer = _baseLayers[key].layer;\r\n    if (!nextLayer || typeof nextLayer.addTo !== \"function\") {\r\n        Log.error(\"[GeoLeaf.Baselayers] Couche invalide pour la clé:\", key);\r\n        return;\r\n    }\r\n\r\n    try {\r\n        nextLayer.addTo(_map);\r\n    } catch (e) {\r\n        Log.error(\"[GeoLeaf.Baselayers] Impossible d'ajouter la couche:\", e);\r\n        return;\r\n    }\r\n\r\n    _activeKey = key;\r\n    Log.info(\"[GeoLeaf.Baselayers] Couche active :\", key);\r\n\r\n    if (!options.silent) {\r\n        _dispatchBasemapChange(key, previousKey, nextLayer);\r\n    }\r\n}\r\n\r\nfunction _dispatchBasemapChange(key, previousKey, layer) {\r\n    if (typeof document === \"undefined\" || typeof document.dispatchEvent !== \"function\") return;\r\n    const detail = { key, previousKey, map: _map, layer, source: \"geoleaf.baselayers\" };\r\n    try {\r\n        document.dispatchEvent(new CustomEvent(\"geoleaf:basemap:change\", { detail }));\r\n    } catch (err) {\r\n        Log.warn(\"[GeoLeaf.Baselayers] Impossible d'émettre geoleaf:basemap:change.\", err);\r\n    }\r\n}\r\n\r\n// ---------------------------------------------------------\r\n// Accesseurs\r\n// ---------------------------------------------------------\r\nexport function getBaseLayers() {\r\n    return Object.assign({}, _baseLayers);\r\n}\r\n\r\nexport function getActiveKey() {\r\n    return _activeKey;\r\n}\r\n\r\nexport function getActiveLayer() {\r\n    return _activeKey && _baseLayers[_activeKey] ? _baseLayers[_activeKey].layer : null;\r\n}\r\n","/*!\r\n * GeoLeaf Core – Baselayers / UI\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n */\r\n\r\nimport { Log } from \"../log/index.js\";\r\nimport { _baseLayers, setBaseLayer, getActiveKey } from \"./registry.js\";\r\n\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n\r\nlet _uiBound = false;\r\nlet _resizeHandler = null;\r\n\r\n// ---------------------------------------------------------\r\n// Indicateur actif\r\n// ---------------------------------------------------------\r\nfunction _updateActiveIndicator(panel, activeButton) {\r\n    if (!panel || !activeButton) return;\r\n    const panelRect = panel.getBoundingClientRect();\r\n    const buttonRect = activeButton.getBoundingClientRect();\r\n    panel.style.setProperty(\"--indicator-left\", buttonRect.left - panelRect.left + \"px\");\r\n    panel.style.setProperty(\"--indicator-width\", buttonRect.width + \"px\");\r\n}\r\n\r\n// ---------------------------------------------------------\r\n// Rafraîchissement de l'UI\r\n// ---------------------------------------------------------\r\nexport function refreshUI() {\r\n    if (!_g.document) return;\r\n\r\n    const elements = _g.document.querySelectorAll(\"[data-gl-baselayer]\");\r\n    const leftPanel = _g.document.getElementById(\"gl-left-panel\");\r\n    const activeKey = getActiveKey();\r\n    let activeElement = null;\r\n\r\n    elements.forEach((el) => {\r\n        const key = el.getAttribute(\"data-gl-baselayer\");\r\n        if (!key) return;\r\n        const isActive = key === activeKey;\r\n        el.classList.toggle(\"gl-baselayer-active\", isActive);\r\n        el.classList.toggle(\"is-active\", isActive);\r\n        el.setAttribute(\"aria-pressed\", String(isActive));\r\n        if (isActive) activeElement = el;\r\n    });\r\n\r\n    if (leftPanel && activeElement) {\r\n        _updateActiveIndicator(leftPanel, activeElement);\r\n    }\r\n}\r\n\r\n// ---------------------------------------------------------\r\n// Création des contrôles UI\r\n// ---------------------------------------------------------\r\nexport function createBaseLayerControlsUI(config) {\r\n    if (!_g.document) return;\r\n\r\n    if (!config && _g.GeoLeaf?.Config?.get) {\r\n        config = {\r\n            ui: _g.GeoLeaf.Config.get(\"ui\"),\r\n            basemaps: _g.GeoLeaf.Config.get(\"basemaps\") || {},\r\n        };\r\n    }\r\n\r\n    const uiCfg = config && config.ui;\r\n    const showControls = uiCfg && uiCfg.showBaseLayerControls === false ? false : !!uiCfg;\r\n\r\n    Log.info(\r\n        \"[GeoLeaf.Baselayers] showBaseLayerControls =\",\r\n        showControls,\r\n        \"(config.ui.showBaseLayerControls =\",\r\n        uiCfg ? uiCfg.showBaseLayerControls : \"N/A\",\r\n        \")\"\r\n    );\r\n\r\n    let leftPanel = _g.document.getElementById(\"gl-left-panel\");\r\n\r\n    if (showControls) {\r\n        if (!leftPanel) {\r\n            leftPanel = _g.document.createElement(\"div\");\r\n            leftPanel.id = \"gl-left-panel\";\r\n            leftPanel.className = \"gl-left-panel\";\r\n            const mapContainer =\r\n                _g.document.getElementById(\"geoleaf-map\") || _g.document.querySelector(\".gl-map\");\r\n            (mapContainer || _g.document.body).appendChild(leftPanel);\r\n        }\r\n\r\n        if (_g.GeoLeaf?.DOMSecurity?.clearElementFast) {\r\n            _g.GeoLeaf.DOMSecurity.clearElementFast(leftPanel);\r\n        } else {\r\n            leftPanel.innerHTML = \"\";\r\n        }\r\n\r\n        Object.keys(_baseLayers).forEach((key) => {\r\n            const def = _baseLayers[key];\r\n            const button = _g.document.createElement(\"button\");\r\n            button.className = \"gl-baselayer-btn\";\r\n            button.setAttribute(\"data-gl-baselayer\", key);\r\n            button.setAttribute(\"aria-label\", def.label || key);\r\n            button.textContent = def.label || key;\r\n            leftPanel.appendChild(button);\r\n        });\r\n\r\n        leftPanel.style.display = \"flex\";\r\n        Log.info(\r\n            \"[GeoLeaf.Baselayers] Contrôles créés avec\",\r\n            Object.keys(_baseLayers).length,\r\n            \"boutons\"\r\n        );\r\n\r\n        setTimeout(refreshUI, 50);\r\n    } else {\r\n        if (leftPanel && leftPanel.parentNode) {\r\n            leftPanel.parentNode.removeChild(leftPanel);\r\n        }\r\n    }\r\n}\r\n\r\n// ---------------------------------------------------------\r\n// Binding DOM (une seule fois)\r\n// ---------------------------------------------------------\r\nexport function bindUIOnce() {\r\n    if (_uiBound || !_g.document) return;\r\n    _uiBound = true;\r\n\r\n    _g.document.addEventListener(\"click\", (evt) => {\r\n        const target = evt.target.closest(\"[data-gl-baselayer]\");\r\n        if (!target) return;\r\n        const key = target.getAttribute(\"data-gl-baselayer\");\r\n        if (!key) return;\r\n        evt.preventDefault();\r\n        setBaseLayer(key);\r\n        refreshUI();\r\n    });\r\n\r\n    let resizeTimeout;\r\n    _resizeHandler = () => {\r\n        clearTimeout(resizeTimeout);\r\n        resizeTimeout = setTimeout(refreshUI, 100);\r\n    };\r\n    _g.addEventListener(\"resize\", _resizeHandler);\r\n}\r\n\r\n// ---------------------------------------------------------\r\n// Nettoyage\r\n// ---------------------------------------------------------\r\nexport function destroyUI() {\r\n    if (_resizeHandler) {\r\n        _g.removeEventListener(\"resize\", _resizeHandler);\r\n        _resizeHandler = null;\r\n    }\r\n    _uiBound = false;\r\n}\r\n","/*!\r\n * GeoLeaf Core – Baselayers / Index (barrel)\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n */\r\n\r\nimport {\r\n    ensureMap,\r\n    setMap,\r\n    registerDefaultBaseLayers,\r\n    registerBaseLayer,\r\n    registerBaseLayers,\r\n    setBaseLayer,\r\n    getBaseLayers,\r\n    getActiveKey,\r\n    getActiveLayer,\r\n} from \"./registry.js\";\r\nimport { createBaseLayerControlsUI, bindUIOnce, refreshUI, destroyUI } from \"./ui.js\";\r\n\r\nfunction init(options) {\r\n    options = options || {};\r\n\r\n    if (options.map) {\r\n        setMap(options.map);\r\n    } else {\r\n        ensureMap();\r\n    }\r\n\r\n    registerDefaultBaseLayers();\r\n\r\n    if (options.baselayers && typeof options.baselayers === \"object\") {\r\n        registerBaseLayers(options.baselayers);\r\n    }\r\n\r\n    if (options.activeKey) {\r\n        setBaseLayer(options.activeKey, { silent: true });\r\n    }\r\n\r\n    if (!getActiveKey()) {\r\n        const keys = Object.keys(getBaseLayers());\r\n        if (keys.length > 0) {\r\n            setBaseLayer(keys[0], { silent: true });\r\n        }\r\n    }\r\n\r\n    createBaseLayerControlsUI(options);\r\n    bindUIOnce();\r\n    refreshUI();\r\n\r\n    return {\r\n        activeKey: getActiveKey(),\r\n        layers: getBaseLayers(),\r\n    };\r\n}\r\n\r\nexport const Baselayers = {\r\n    init,\r\n    registerBaseLayer,\r\n    registerBaseLayers,\r\n    setBaseLayer,\r\n    setActive: setBaseLayer, // alias compat\r\n    getBaseLayers,\r\n    getActiveKey,\r\n    getActiveId: getActiveKey, // alias compat\r\n    getActiveLayer,\r\n    destroy: destroyUI,\r\n};\r\n","/**\r\n * Module Basemap Selector pour LayerManager\r\n * Gestion du sélecteur de fonds de carte\r\n *\r\n * DÉPENDANCES:\r\n * - Leaflet (L.DomUtil, L.DomEvent)\r\n * - GeoLeaf.Log (optionnel)\r\n * - GeoLeaf.Baselayers (optionnel, pour getActiveId et setBaseLayer)\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf._LayerManagerBasemapSelector\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { Baselayers } from '../geoleaf.baselayers.js';\r\n\r\n\r\n\r\n/**\r\n * Module Basemap Selector\r\n * @namespace _LayerManagerBasemapSelector\r\n * @private\r\n */\r\nconst _LayerManagerBasemapSelector = {\r\n    /**\r\n     * Rend le sélecteur de basemap\r\n     * @param {Object} section - Section basemap avec items\r\n     * @param {HTMLElement} sectionEl - Élément DOM de la section\r\n     */\r\n    render(section, sectionEl) {\r\n        // Validation des paramètres\r\n        if (!section || !sectionEl) {\r\n            return;\r\n        }\r\n\r\n        const container = globalThis.L.DomUtil.create(\r\n            \"div\",\r\n            \"gl-layer-manager__items gl-layer-manager__basemap-select\",\r\n            sectionEl\r\n        );\r\n\r\n        const select = globalThis.L.DomUtil.create(\"select\", \"gl-layer-manager__basemap-select__select\", container);\r\n\r\n        // Remplir les options\r\n        if (Array.isArray(section.items)) {\r\n            section.items.forEach(function (item) {\r\n                if (!item || !item.id) return;\r\n                const opt = document.createElement(\"option\");\r\n                opt.value = item.id;\r\n                opt.textContent = item.label || item.id;\r\n                select.appendChild(opt);\r\n            });\r\n        }\r\n\r\n        // Valeur initiale -> clé active des basemaps\r\n        try {\r\n            const activeKey = Baselayers && typeof Baselayers.getActiveKey === \"function\"\r\n                ? Baselayers.getActiveKey()\r\n                : null;\r\n            if (activeKey) {\r\n                select.value = activeKey;\r\n            }\r\n        } catch (e) {\r\n            // ignore\r\n        }\r\n\r\n        // Changement par l'utilisateur\r\n        this._attachChangeHandler(select);\r\n\r\n        // Écouter les changements externes\r\n        this._attachExternalListener(select);\r\n    },\r\n\r\n    /**\r\n     * Attache le gestionnaire de changement au select\r\n     * @private\r\n     */\r\n    _attachChangeHandler(select) {\r\n        const handler = function (ev) {\r\n            if (globalThis.L && globalThis.L.DomEvent) {\r\n                globalThis.L.DomEvent.stopPropagation(ev);\r\n            }\r\n            try {\r\n                const val = select.value;\r\n                if (Baselayers && typeof Baselayers.setBaseLayer === \"function\") {\r\n                    Baselayers.setBaseLayer(val);\r\n                }\r\n            } catch (err) {\r\n                if (Log) Log.warn(\"Erreur lors du changement de basemap depuis la légende:\", err);\r\n            }\r\n        };\r\n\r\n        if (globalThis.L && globalThis.L.DomEvent) {\r\n            globalThis.L.DomEvent.on(select, \"change\", handler);\r\n        } else {\r\n            select.addEventListener(\"change\", handler);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Écoute les événements de changement de basemap externe\r\n     * @private\r\n     */\r\n    _attachExternalListener(select) {\r\n        if (typeof document !== \"undefined\") {\r\n            this._externalHandler = function (e) {\r\n                try {\r\n                    if (e && e.detail && e.detail.key) {\r\n                        select.value = e.detail.key;\r\n                    }\r\n                } catch (err) {\r\n                    // ignore\r\n                }\r\n            };\r\n            document.addEventListener(\"geoleaf:basemap:change\", this._externalHandler);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Nettoie les listeners pour éviter les fuites mémoire\r\n     */\r\n    destroy() {\r\n        if (this._externalHandler) {\r\n            document.removeEventListener(\"geoleaf:basemap:change\", this._externalHandler);\r\n            this._externalHandler = null;\r\n        }\r\n    }\r\n};\r\n\r\nconst BasemapSelector = _LayerManagerBasemapSelector;\r\nexport { BasemapSelector };\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf Notification System\r\n * Gestion des notifications toast et overlays\r\n * @module ui/notifications\r\n * @version 4.4.1\r\n * @updated 2026-01-23 - Standardisation API, queue prioritaire, intégration Telemetry\r\n */\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { $create } from '../utils/dom-helpers.js';\r\nimport { events } from '../utils/event-listener-manager.js';\r\nimport { TimerManager } from '../utils/timer-manager.js';\r\n\r\n    // Constantes pour les priorités de la queue\r\n    const PRIORITY = {\r\n        ERROR: 3,\r\n        WARNING: 2,\r\n        SUCCESS: 1,\r\n        INFO: 1\r\n    };\r\n\r\nclass NotificationSystem {\r\n    constructor() {\r\n        this.container = null;\r\n        this.maxVisible = 3;              // Max toasts temporaires visibles\r\n        this.maxPersistent = 2;           // Max toasts persistants visibles\r\n        this.durations = {\r\n            success: 3000,\r\n            error: 5000,\r\n            warning: 4000,\r\n            info: 3000\r\n        };\r\n        this.config = {\r\n            enabled: true,\r\n            position: 'bottom-center',\r\n            animations: true\r\n        };\r\n\r\n        // Managers pour cleanup\r\n        this._eventManager = null;\r\n        this._timerManager = null;\r\n        this._activeToasts = new Map();\r\n\r\n        // Queue avec priorités (limite: 15 max en attente)\r\n        this._queue = [];\r\n        this._maxQueueSize = 15;\r\n    }\r\n\r\n    /**\r\n     * Initialise le système de notifications\r\n     * @param {Object} config - Configuration\r\n     * @param {string} config.container - Sélecteur du container\r\n     * @param {number} config.maxVisible - Nombre max de toasts visibles\r\n     * @param {Object} config.durations - Durées par type\r\n     * @param {string} config.position - Position ('bottom-center', 'top-right', etc.)\r\n     * @param {boolean} config.animations - Activer les animations\r\n     */\r\n    init(config = {}) {\r\n        // Fusionner la config\r\n        this.config = { ...this.config, ...config };\r\n        this.maxVisible = config.maxVisible || 3;\r\n        this.durations = { ...this.durations, ...config.durations };\r\n\r\n        // Récupérer le container\r\n        this.container = document.querySelector(config.container || '#gl-notifications');\r\n\r\n        if (!this.container) {\r\n            if (Log) Log.warn('[GeoLeaf Notifications] Container introuvable:', config.container);\r\n            return false;\r\n        }\r\n\r\n        // Appliquer la classe de position\r\n        if (config.position) {\r\n            this.container.className = `gl-notifications gl-notifications--${config.position}`;\r\n        }\r\n\r\n        if (Log) Log.debug('[GeoLeaf Notifications] Système initialisé');\r\n\r\n        // Initialiser les managers pour le cleanup\r\n        this._eventManager = events ? events.createManager('notifications') : null;\r\n        this._timerManager = new TimerManager('notifications');\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Affiche une notification générique (méthode publique standardisée)\r\n     * Support double signature:\r\n     * - show(message, type, duration) : Appel positionnel classique\r\n     * - show(message, options) : Appel avec objet options\r\n     *\r\n     * @param {string} message - Message à afficher\r\n     * @param {string|Object} typeOrOptions - Type ('success', 'error', 'warning', 'info') OU objet options\r\n     * @param {number} [duration] - Durée personnalisée (ms) - ignoré si typeOrOptions est un objet\r\n     *\r\n     * @example\r\n     * // Appel positionnel\r\n     * show(\"Message\", \"success\", 3000);\r\n     *\r\n     * @example\r\n     * // Appel avec options\r\n     * show(\"Message\", {\r\n     *   type: \"success\",\r\n     *   duration: 3000,\r\n     *   persistent: false,      // Toast persistant (ne s'auto-dismiss pas)\r\n     *   dismissible: true,      // Bouton de fermeture\r\n     *   icon: \"✓\",             // Icône personnalisée (futur)\r\n     *   action: {               // Action button (futur)\r\n     *     label: \"Annuler\",\r\n     *     callback: () => {}\r\n     *   }\r\n     * });\r\n     */\r\n    show(message, typeOrOptions = 'info', duration) {\r\n        // Parser les arguments selon la signature\r\n        let options = {};\r\n\r\n        if (typeof typeOrOptions === 'string') {\r\n            // Signature positionnelle: show(message, type, duration)\r\n            options = {\r\n                type: typeOrOptions,\r\n                duration: duration\r\n            };\r\n        } else if (typeof typeOrOptions === 'object' && typeOrOptions !== null) {\r\n            // Signature objet: show(message, options)\r\n            options = typeOrOptions;\r\n        } else {\r\n            // Fallback par défaut\r\n            options = { type: 'info' };\r\n        }\r\n\r\n        // Ajouter à la queue avec priorité\r\n        return this._enqueue(message, options);\r\n    }\r\n\r\n    /**\r\n     * Affiche une notification de succès\r\n     * Support double signature:\r\n     * - success(message, duration)\r\n     * - success(message, options)\r\n     *\r\n     * @param {string} message - Message à afficher\r\n     * @param {number|Object} [durationOrOptions] - Durée (ms) OU objet options\r\n     *\r\n     * @example\r\n     * success(\"Sauvegarde réussie\", 3000);\r\n     * success(\"Sauvegarde réussie\", { duration: 3000, persistent: false });\r\n     */\r\n    success(message, durationOrOptions) {\r\n        if (typeof durationOrOptions === 'number') {\r\n            return this.show(message, 'success', durationOrOptions);\r\n        } else if (typeof durationOrOptions === 'object') {\r\n            return this.show(message, { ...durationOrOptions, type: 'success' });\r\n        } else {\r\n            return this.show(message, 'success');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Affiche une notification d'erreur\r\n     * Support double signature:\r\n     * - error(message, duration)\r\n     * - error(message, options)\r\n     *\r\n     * @param {string} message - Message à afficher\r\n     * @param {number|Object} [durationOrOptions] - Durée (ms) OU objet options\r\n     *\r\n     * @example\r\n     * error(\"Erreur réseau\", 5000);\r\n     * error(\"Erreur réseau\", { duration: 5000, persistent: true });\r\n     */\r\n    error(message, durationOrOptions) {\r\n        if (typeof durationOrOptions === 'number') {\r\n            return this.show(message, 'error', durationOrOptions);\r\n        } else if (typeof durationOrOptions === 'object') {\r\n            return this.show(message, { ...durationOrOptions, type: 'error' });\r\n        } else {\r\n            return this.show(message, 'error');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Affiche une notification d'avertissement\r\n     * Support double signature:\r\n     * - warning(message, duration)\r\n     * - warning(message, options)\r\n     *\r\n     * @param {string} message - Message à afficher\r\n     * @param {number|Object} [durationOrOptions] - Durée (ms) OU objet options\r\n     *\r\n     * @example\r\n     * warning(\"Connexion instable\", 4000);\r\n     * warning(\"Connexion instable\", { duration: 4000 });\r\n     */\r\n    warning(message, durationOrOptions) {\r\n        if (typeof durationOrOptions === 'number') {\r\n            return this.show(message, 'warning', durationOrOptions);\r\n        } else if (typeof durationOrOptions === 'object') {\r\n            return this.show(message, { ...durationOrOptions, type: 'warning' });\r\n        } else {\r\n            return this.show(message, 'warning');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Affiche une notification d'information\r\n     * Support double signature:\r\n     * - info(message, duration)\r\n     * - info(message, options)\r\n     *\r\n     * @param {string} message - Message à afficher\r\n     * @param {number|Object} [durationOrOptions] - Durée (ms) OU objet options\r\n     *\r\n     * @example\r\n     * info(\"Synchronisation en cours\", 3000);\r\n     * info(\"Synchronisation en cours\", { persistent: true, dismissible: false });\r\n     */\r\n    info(message, durationOrOptions) {\r\n        if (typeof durationOrOptions === 'number') {\r\n            return this.show(message, 'info', durationOrOptions);\r\n        } else if (typeof durationOrOptions === 'object') {\r\n            return this.show(message, { ...durationOrOptions, type: 'info' });\r\n        } else {\r\n            return this.show(message, 'info');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Ajoute une notification à la queue avec priorité\r\n     * @private\r\n     * @param {string} message - Message\r\n     * @param {Object} options - Options de la notification\r\n     */\r\n    _enqueue(message, options) {\r\n        const type = options.type || 'info';\r\n        const priority = PRIORITY[type.toUpperCase()] || PRIORITY.INFO;\r\n\r\n        const item = {\r\n            message,\r\n            options: {\r\n                type,\r\n                duration: options.duration,\r\n                persistent: options.persistent || false,\r\n                dismissible: options.dismissible !== false, // true par défaut\r\n                icon: options.icon,\r\n                action: options.action\r\n            },\r\n            priority,\r\n            timestamp: Date.now()\r\n        };\r\n\r\n        // Vérifier la limite de la queue\r\n        if (this._queue.length >= this._maxQueueSize) {\r\n            // Trouver l'élément de plus faible priorité (et plus ancien si égalité)\r\n            const lowestPriorityIndex = this._queue.reduce((minIdx, item, idx, arr) => {\r\n                const minItem = arr[minIdx];\r\n                if (item.priority < minItem.priority ||\r\n                    (item.priority === minItem.priority && item.timestamp < minItem.timestamp)) {\r\n                    return idx;\r\n                }\r\n                return minIdx;\r\n            }, 0);\r\n\r\n            // Si le nouvel item est plus prioritaire que le moins prioritaire dans la queue\r\n            if (item.priority > this._queue[lowestPriorityIndex].priority) {\r\n                // Supprimer le moins prioritaire\r\n                this._queue.splice(lowestPriorityIndex, 1);\r\n\r\n                if (Log) Log.warn('[GeoLeaf Notifications] Queue pleine, notification droppée');\r\n            } else {\r\n                // Dropper le nouveau item\r\n                if (Log) Log.warn('[GeoLeaf Notifications] Queue pleine, notification rejetée');\r\n                return;\r\n            }\r\n        }\r\n\r\n        // Ajouter à la queue\r\n        this._queue.push(item);\r\n\r\n        // Trier la queue par priorité (desc) puis timestamp (asc)\r\n        this._queue.sort((a, b) => {\r\n            if (b.priority !== a.priority) {\r\n                return b.priority - a.priority; // Priorité décroissante\r\n            }\r\n            return a.timestamp - b.timestamp; // Timestamp croissant (FIFO pour même priorité)\r\n        });\r\n\r\n        // Traiter la queue\r\n        return this._processQueue();\r\n    }\r\n\r\n    /**\r\n     * Traite la queue et affiche les notifications selon disponibilité\r\n     * @private\r\n     */\r\n    _processQueue() {\r\n        if (!this.container || !this.config.enabled || this._queue.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        // Compter les toasts actuellement visibles\r\n        const visibleToasts = this.container.querySelectorAll('.gl-toast:not(.gl-toast--removing)');\r\n        const temporaryToasts = Array.from(visibleToasts).filter(t => !t.dataset.persistent);\r\n        const persistentToasts = Array.from(visibleToasts).filter(t => t.dataset.persistent);\r\n\r\n        // Tant qu'il y a de la place et des items dans la queue\r\n        let lastToast = null;\r\n        while (this._queue.length > 0) {\r\n            const nextItem = this._queue[0];\r\n            const isPersistent = nextItem.options.persistent;\r\n\r\n            // Vérifier si on peut afficher ce toast\r\n            const canShow = isPersistent\r\n                ? persistentToasts.length < this.maxPersistent\r\n                : temporaryToasts.length < this.maxVisible;\r\n\r\n            if (!canShow) {\r\n                // Si c'est un toast prioritaire (error), retirer un toast existant moins prioritaire\r\n                if (nextItem.priority === PRIORITY.ERROR && temporaryToasts.length > 0) {\r\n                    // Trouver un toast info ou success à retirer\r\n                    const toastToRemove = temporaryToasts.find(t =>\r\n                        t.classList.contains('gl-toast--info') ||\r\n                        t.classList.contains('gl-toast--success')\r\n                    ) || temporaryToasts[0];\r\n\r\n                    this._remove(toastToRemove, true); // true = reorganization\r\n                    // Continuer pour afficher le toast prioritaire\r\n                } else {\r\n                    // Pas de place, arrêter le traitement\r\n                    break;\r\n                }\r\n            }\r\n\r\n            // Retirer de la queue et afficher\r\n            const item = this._queue.shift();\r\n            lastToast = this._showImmediate(item.message, item.options);\r\n\r\n            // Mettre à jour les compteurs\r\n            if (isPersistent) {\r\n                persistentToasts.push(null); // Placeholder\r\n            } else {\r\n                temporaryToasts.push(null); // Placeholder\r\n            }\r\n        }\r\n\r\n        return lastToast;\r\n    }\r\n\r\n    /**\r\n     * Affiche une notification immédiatement (utilisée par la queue)\r\n     * @private\r\n     * @param {string} message - Message à afficher\r\n     * @param {Object} options - Options de la notification\r\n     */\r\n    _showImmediate(message, options) {\r\n        const type = options.type || 'info';\r\n        const duration = options.duration || this.durations[type];\r\n        const persistent = options.persistent || false;\r\n        const dismissible = options.dismissible !== false;\r\n\r\n        // Créer le toast\r\n        const toast = $create('div', {\r\n            className: `gl-toast gl-toast--${type}`,\r\n            attributes: {\r\n                'role': 'alert',\r\n                // Utiliser assertive pour errors et toasts prioritaires\r\n                'aria-live': (type === 'error' || options.priority === PRIORITY.ERROR) ? 'assertive' : 'polite'\r\n            }\r\n        });\r\n\r\n        // Marquer si persistant\r\n        if (persistent) {\r\n            toast.dataset.persistent = 'true';\r\n        }\r\n\r\n        // Créer le message (textContent = sécurisé)\r\n        const messageSpan = $create('span', {\r\n            className: 'gl-toast__message',\r\n            textContent: message\r\n        });\r\n        toast.appendChild(messageSpan);\r\n\r\n        // Créer le bouton de fermeture (si dismissible)\r\n        if (dismissible) {\r\n            const closeBtn = $create('button', {\r\n                className: 'gl-toast__close',\r\n                attributes: {\r\n                    'aria-label': 'Fermer la notification',\r\n                    'title': 'Fermer'\r\n                },\r\n                textContent: '×',\r\n                onClick: () => {\r\n                    this._remove(toast, false);\r\n                }\r\n            });\r\n            toast.appendChild(closeBtn);\r\n        }\r\n\r\n        // Ajouter au DOM\r\n        this.container.appendChild(toast);\r\n\r\n        // Animation d'entrée\r\n        if (this.config.animations) {\r\n            requestAnimationFrame(() => {\r\n                requestAnimationFrame(() => {\r\n                    toast.classList.add('gl-toast--visible');\r\n                });\r\n            });\r\n        } else {\r\n            toast.classList.add('gl-toast--visible');\r\n        }\r\n\r\n        // Planifier l'auto-suppression (seulement si non persistant)\r\n        // Perf 6.2.6: Un seul timer — timerManager si disponible, sinon setTimeout nu\r\n        if (!persistent) {\r\n            if (this._timerManager) {\r\n                toast.dataset.timerId = this._timerManager.setTimeout(() => {\r\n                    this._remove(toast, false);\r\n                }, duration);\r\n            } else {\r\n                const autoRemove = setTimeout(() => {\r\n                    this._remove(toast, false);\r\n                }, duration);\r\n                toast.dataset.timeoutId = autoRemove;\r\n            }\r\n        }\r\n\r\n        return toast;\r\n    }\r\n\r\n    /**\r\n     * Retire une notification\r\n     * @private\r\n     * @param {HTMLElement} toast - Élément toast à retirer\r\n     * @param {boolean} isReorganization - Si true, c'est une réorganisation (animation différente)\r\n     */\r\n    _remove(toast, isReorganization = false) {\r\n        if (!toast || toast.classList.contains('gl-toast--removing')) {\r\n            return;\r\n        }\r\n\r\n        // Annuler le timeout auto si fermeture manuelle\r\n        if (toast.dataset.timeoutId) {\r\n            clearTimeout(parseInt(toast.dataset.timeoutId));\r\n            delete toast.dataset.timeoutId;\r\n        }\r\n        if (toast.dataset.timerId && this._timerManager) {\r\n            this._timerManager.clearTimeout(toast.dataset.timerId);\r\n            delete toast.dataset.timerId;\r\n        }\r\n\r\n        // Animation de sortie\r\n        toast.classList.add('gl-toast--removing');\r\n        toast.classList.remove('gl-toast--visible');\r\n\r\n        // Appliquer animation spécifique pour réorganisation\r\n        if (isReorganization && this.config.animations) {\r\n            toast.classList.add('gl-toast--sliding-up');\r\n        }\r\n\r\n        const removeDelay = this.config.animations ? 200 : 0;\r\n        // Perf 6.2.6: Un seul timer — timerManager si disponible, sinon setTimeout nu\r\n        const _doRemove = () => {\r\n            if (toast.parentNode) {\r\n                toast.remove();\r\n            }\r\n            this._processQueue();\r\n        };\r\n        if (this._timerManager) {\r\n            this._timerManager.setTimeout(_doRemove, removeDelay);\r\n        } else {\r\n            setTimeout(_doRemove, removeDelay);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Efface toutes les notifications\r\n     */\r\n    clearAll() {\r\n        if (!this.container) return;\r\n\r\n        const toasts = this.container.querySelectorAll('.gl-toast');\r\n        toasts.forEach(toast => this._remove(toast, false));\r\n\r\n        // Vider aussi la queue\r\n        this._queue = [];\r\n    }\r\n\r\n    /**\r\n     * Ferme une notification spécifique par sa référence DOM\r\n     * @param {HTMLElement} toastEl - Élément toast retourné par show/info/success/etc.\r\n     */\r\n    dismiss(toastEl) {\r\n        if (!toastEl) return;\r\n        this._remove(toastEl, false);\r\n    }\r\n\r\n    /**\r\n     * Désactive temporairement les notifications\r\n     */\r\n    disable() {\r\n        this.config.enabled = false;\r\n        if (Log) Log.debug('[GeoLeaf Notifications] Système désactivé');\r\n    }\r\n\r\n    /**\r\n     * Réactive les notifications\r\n     */\r\n    enable() {\r\n        this.config.enabled = true;\r\n        if (Log) Log.debug('[GeoLeaf Notifications] Système activé');\r\n        // Traiter la queue au cas où des items sont en attente\r\n        this._processQueue();\r\n    }\r\n\r\n    /**\r\n     * Détruit le système de notifications et nettoie toutes les ressources\r\n     * Retire tous les event listeners et timers actifs\r\n     */\r\n    destroy() {\r\n\r\n        // Clear tous les timers actifs\r\n        if (this._timerManager) {\r\n            this._timerManager.destroy();\r\n            this._timerManager = null;\r\n        }\r\n\r\n        // Retire tous les event listeners\r\n        if (this._eventManager) {\r\n            this._eventManager.destroy();\r\n            this._eventManager = null;\r\n        }\r\n\r\n        // Retire tous les toasts actifs\r\n        if (this.container) {\r\n            const toasts = this.container.querySelectorAll('.gl-toast');\r\n            toasts.forEach(toast => toast.remove());\r\n        }\r\n\r\n        // Clear la queue\r\n        this._queue = [];\r\n\r\n        // Clear la map\r\n        this._activeToasts.clear();\r\n\r\n        // Reset les propriétés\r\n        this.container = null;\r\n        this.config.enabled = false;\r\n\r\n        if (Log) Log.info('[GeoLeaf Notifications] Système détruit et nettoyé');\r\n    }\r\n\r\n    /**\r\n     * Get current status of notification system\r\n     * @returns {Object} Status information\r\n     */\r\n    getStatus() {\r\n        const visibleToasts = this.container ? this.container.querySelectorAll('.gl-toast:not(.gl-toast--removing)') : [];\r\n        const temporaryToasts = Array.from(visibleToasts).filter(t => !t.dataset.persistent);\r\n        const persistentToasts = Array.from(visibleToasts).filter(t => t.dataset.persistent);\r\n\r\n        return {\r\n            enabled: this.config.enabled,\r\n            initialized: !!this.container,\r\n            activeToasts: visibleToasts.length,\r\n            temporaryToasts: temporaryToasts.length,\r\n            persistentToasts: persistentToasts.length,\r\n            queued: this._queue.length,\r\n            maxVisible: this.maxVisible,\r\n            maxPersistent: this.maxPersistent,\r\n            position: this.config.position\r\n        };\r\n    }\r\n}\r\n\r\n// Créer une instance singleton et l'exposer\r\nconst _UINotifications = new NotificationSystem();\r\n\r\n// ── ESM Export ──\r\nexport { NotificationSystem, _UINotifications };\r\n","/**\r\n * Module LayerManager - Cache Section\r\n *\r\n * Ajoute une section de gestion du cache offline dans le gestionnaire de couches.\r\n * Permet de télécharger/effacer le cache du profil actif.\r\n *\r\n * @module GeoLeaf.LayerManager.CacheSection\r\n * @version 3.0.0\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nimport { Config } from '../config/config-primitives.js';\r\nimport { StorageContract } from '../shared/storage-contract.js';\r\nimport { _UINotifications } from '../ui/notifications.js';\r\n\r\n\r\n/**\r\n * Module de section cache pour la légende\r\n */\r\nconst CacheSection = {\r\n    /**\r\n     * Génère la section HTML du cache\r\n     *\r\n     * @returns {Object} Section configuration\r\n     */\r\n    generateSection() {\r\n        return {\r\n            id: \"offline-cache\",\r\n            label: \"📥 Cache Hors Ligne\",\r\n            order: 98,\r\n            collapsedByDefault: false,\r\n            customContent: this._generateContent(),\r\n            init: () => this._attachEventListeners()\r\n        };\r\n    },\r\n\r\n    /**\r\n     * Génère le contenu HTML\r\n     * @private\r\n     */\r\n    _generateContent() {\r\n        return `\r\n            <div class=\"gl-cache-section\">\r\n                <div class=\"gl-cache-status\">\r\n                    <div class=\"gl-cache-status__header\">\r\n                        <span class=\"gl-cache-status__icon\">💾</span>\r\n                        <span class=\"gl-cache-status__label\">Statut</span>\r\n                    </div>\r\n                    <div class=\"gl-cache-status__info\">\r\n                        <div class=\"gl-cache-status__row\">\r\n                            <span class=\"gl-cache-status__key\">Profil:</span>\r\n                            <span class=\"gl-cache-status__value\" id=\"gl-cache-profile\">-</span>\r\n                        </div>\r\n                        <div class=\"gl-cache-status__row\">\r\n                            <span class=\"gl-cache-status__key\">État:</span>\r\n                            <span class=\"gl-cache-status__value\" id=\"gl-cache-state\">Non téléchargé</span>\r\n                        </div>\r\n                        <div class=\"gl-cache-status__row\">\r\n                            <span class=\"gl-cache-status__key\">Taille:</span>\r\n                            <span class=\"gl-cache-status__value\" id=\"gl-cache-size\">0 MB</span>\r\n                        </div>\r\n                        <div class=\"gl-cache-status__row\">\r\n                            <span class=\"gl-cache-status__key\">Quota:</span>\r\n                            <span class=\"gl-cache-status__value\" id=\"gl-cache-quota\">0 MB disponible</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"gl-cache-actions\">\r\n                    <button\r\n                        id=\"gl-cache-download\"\r\n                        class=\"gl-btn gl-btn--primary gl-cache-btn\"\r\n                        title=\"Télécharger le profil pour usage offline\">\r\n                        <span class=\"gl-btn__icon\">⬇️</span>\r\n                        <span class=\"gl-btn__text\">Télécharger profil</span>\r\n                    </button>\r\n\r\n                    <button\r\n                        id=\"gl-cache-clear\"\r\n                        class=\"gl-btn gl-btn--secondary gl-cache-btn\"\r\n                        title=\"Effacer le cache du profil\"\r\n                        disabled>\r\n                        <span class=\"gl-btn__icon\">🗑️</span>\r\n                        <span class=\"gl-btn__text\">Vider cache</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <div class=\"gl-cache-progress\" id=\"gl-cache-progress\" style=\"display: none;\">\r\n                    <div class=\"gl-cache-progress__bar\">\r\n                        <div class=\"gl-cache-progress__fill\" id=\"gl-cache-progress-fill\"></div>\r\n                    </div>\r\n                    <div class=\"gl-cache-progress__text\" id=\"gl-cache-progress-text\">\r\n                        Téléchargement en cours...\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `;\r\n    },\r\n\r\n    /**\r\n     * Attache les event listeners\r\n     * @private\r\n     */\r\n    _attachEventListeners() {\r\n        const downloadBtn = document.getElementById(\"gl-cache-download\");\r\n        const clearBtn = document.getElementById(\"gl-cache-clear\");\r\n\r\n        if (downloadBtn) {\r\n            downloadBtn.addEventListener(\"click\", () => this._handleDownload());\r\n        }\r\n\r\n        if (clearBtn) {\r\n            clearBtn.addEventListener(\"click\", () => this._handleClear());\r\n        }\r\n\r\n        // Mettre à jour le statut initial\r\n        this._updateStatus();\r\n\r\n        // Écouter les événements de cache\r\n        document.addEventListener(\"geoleaf:cache:completed\", () => this._updateStatus());\r\n        document.addEventListener(\"geoleaf:cache:cleared\", () => this._updateStatus());\r\n        document.addEventListener(\"geoleaf:profile:loaded\", () => this._updateStatus());\r\n    },\r\n\r\n    /**\r\n     * Met à jour l'affichage du statut\r\n     * @private\r\n     */\r\n    async _updateStatus() {\r\n        if (!StorageContract.isAvailable()) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const profileId = Config.get(\"data.activeProfile\", \"\");\r\n            const status = await StorageContract.CacheManager.getCacheStatus(profileId);\r\n            const quota = await StorageContract.CacheManager.getStorageQuota();\r\n\r\n            // Mettre à jour les éléments DOM\r\n            const profileEl = document.getElementById(\"gl-cache-profile\");\r\n            const stateEl = document.getElementById(\"gl-cache-state\");\r\n            const sizeEl = document.getElementById(\"gl-cache-size\");\r\n            const quotaEl = document.getElementById(\"gl-cache-quota\");\r\n            const clearBtn = document.getElementById(\"gl-cache-clear\");\r\n\r\n            if (profileEl) profileEl.textContent = profileId || \"-\";\r\n\r\n            if (status && status.resourcesCount > 0) {\r\n                if (stateEl) {\r\n                    stateEl.textContent = \"✅ Téléchargé\";\r\n                    stateEl.style.color = \"#22c55e\";\r\n                }\r\n                if (sizeEl) {\r\n                    sizeEl.textContent = `${(status.totalSize / 1024 / 1024).toFixed(2)} MB`;\r\n                }\r\n                if (clearBtn) clearBtn.disabled = false;\r\n            } else {\r\n                if (stateEl) {\r\n                    stateEl.textContent = \"❌ Non téléchargé\";\r\n                    stateEl.style.color = \"#ef4444\";\r\n                }\r\n                if (sizeEl) sizeEl.textContent = \"0 MB\";\r\n                if (clearBtn) clearBtn.disabled = true;\r\n            }\r\n\r\n            if (quotaEl) {\r\n                quotaEl.textContent = `${(quota.available / 1024 / 1024).toFixed(2)} MB disponible`;\r\n            }\r\n\r\n        } catch (error) {\r\n            Log.error(`[CacheSection] Failed to update status: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Gère le téléchargement du profil\r\n     * @private\r\n     */\r\n    async _handleDownload() {\r\n        if (!StorageContract.isAvailable()) {\r\n            _UINotifications.error(\"Stockage offline non disponible\", 5000);\r\n            return;\r\n        }\r\n\r\n        const profileId = Config.get(\"data.activeProfile\", \"\");\r\n        if (!profileId) {\r\n            _UINotifications.error(\"Aucun profil actif\", 3000);\r\n            return;\r\n        }\r\n\r\n        const downloadBtn = document.getElementById(\"gl-cache-download\");\r\n        const progressEl = document.getElementById(\"gl-cache-progress\");\r\n        const progressText = document.getElementById(\"gl-cache-progress-text\");\r\n\r\n        try {\r\n            // Désactiver le bouton\r\n            if (downloadBtn) {\r\n                downloadBtn.disabled = true;\r\n                downloadBtn.querySelector(\".gl-btn__text\").textContent = \"Téléchargement...\";\r\n            }\r\n\r\n            // Afficher la barre de progression\r\n            if (progressEl) progressEl.style.display = \"block\";\r\n            if (progressText) progressText.textContent = \"Préparation...\";\r\n\r\n            Log.info(`[CacheSection] Starting download for profile: ${profileId}`);\r\n\r\n            // Télécharger le profil\r\n            const result = await StorageContract.downloadProfileForOffline(profileId);\r\n\r\n            if (progressText) {\r\n                progressText.textContent = `✅ ${result.resourcesCount} ressources téléchargées`;\r\n            }\r\n\r\n            // Notification de succès\r\n            _UINotifications.success(`Profil téléchargé : ${(result.totalSize / 1024 / 1024).toFixed(2)} MB`, 4000);\r\n\r\n            // Masquer la progression après 2s\r\n            setTimeout(() => {\r\n                if (progressEl) progressEl.style.display = \"none\";\r\n            }, 2000);\r\n\r\n            await this._updateStatus();\r\n\r\n        } catch (error) {\r\n            Log.error(`[CacheSection] Download failed: ${error.message}`);\r\n\r\n            if (progressText) progressText.textContent = `❌ Erreur: ${error.message}`;\r\n\r\n            _UINotifications.error(`Erreur téléchargement: ${error.message}`, 5000);\r\n\r\n            setTimeout(() => {\r\n                if (progressEl) progressEl.style.display = \"none\";\r\n            }, 3000);\r\n\r\n        } finally {\r\n            // Réactiver le bouton\r\n            if (downloadBtn) {\r\n                downloadBtn.disabled = false;\r\n                downloadBtn.querySelector(\".gl-btn__text\").textContent = \"Télécharger profil\";\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Gère l'effacement du cache\r\n     * @private\r\n     */\r\n    async _handleClear() {\r\n        if (!StorageContract.isAvailable()) {\r\n            return;\r\n        }\r\n\r\n        const profileId = Config.get(\"data.activeProfile\", \"\");\r\n        if (!profileId) {\r\n            return;\r\n        }\r\n\r\n        // Confirmation\r\n        if (!confirm(`Voulez-vous vraiment effacer le cache du profil \"${profileId}\" ?`)) {\r\n            return;\r\n        }\r\n\r\n        const clearBtn = document.getElementById(\"gl-cache-clear\");\r\n\r\n        try {\r\n            if (clearBtn) {\r\n                clearBtn.disabled = true;\r\n                clearBtn.querySelector(\".gl-btn__text\").textContent = \"Effacement...\";\r\n            }\r\n\r\n            Log.info(`[CacheSection] Clearing cache for profile: ${profileId}`);\r\n\r\n            const deleted = await StorageContract.CacheManager.clearCache(profileId);\r\n\r\n            _UINotifications.success(`Cache effacé : ${deleted} ressources supprimées`, 3000);\r\n\r\n            await this._updateStatus();\r\n\r\n        } catch (error) {\r\n            Log.error(`[CacheSection] Clear failed: ${error.message}`);\r\n\r\n            _UINotifications.error(`Erreur effacement: ${error.message}`, 5000);\r\n        } finally {\r\n            if (clearBtn) {\r\n                clearBtn.querySelector(\".gl-btn__text\").textContent = \"Vider cache\";\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport { CacheSection };\r\n","/**\r\n * GeoLeaf Legend API (assemblage namespace Legend)\r\n * @module legend/legend-api\r\n */\r\n/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * Module principal GeoLeaf.Legend\r\n * Gestionnaire de légende cartographique multi-couches avec accordéons\r\n * Génère automatiquement les légendes depuis les styles\r\n *\r\n * DÉPENDANCES:\r\n * - Leaflet (map instance)\r\n * - GeoLeaf.Log (optionnel)\r\n * - GeoLeaf._LegendControl\r\n * - GeoLeaf._LegendRenderer\r\n * - GeoLeaf._LegendGenerator (nouveau)\r\n * - GeoLeaf.Config (pour chargement configuration)\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf.Legend\r\n */\r\n\r\n\"use strict\";\r\n\r\nimport { Log } from \"../log/index.js\";\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n_g.GeoLeaf = _g.GeoLeaf || {};\r\n\r\nlet _map = null;\r\nlet _control = null;\r\nlet _options = {};\r\nlet _profileConfig = null;\r\nlet _taxonomyData = null;\r\n\r\n// Timers and UI helpers\r\nlet _rebuildTimer = null;\r\nconst REBUILD_DEBOUNCE_MS = 150;\r\nlet _loadingOverlayEl = null;\r\nlet _loadingOverlayTimer = null;\r\nconst LOADING_OVERLAY_TIMEOUT_MS = 12000;\r\n\r\n// Map<layerId, {label, styleId, legendData, visible, order, geometryType}>\r\nconst _allLayers = new Map();\r\n\r\nfunction _normalizeGeometryType(rawGeometry) {\r\n    const value = (rawGeometry || \"\").toLowerCase();\r\n    if (value === \"polyline\" || value === \"line\") return \"line\";\r\n    if (value === \"polygon\") return \"polygon\";\r\n    return \"point\";\r\n}\r\n\r\nfunction _scheduleRebuild() {\r\n    if (_rebuildTimer) {\r\n        clearTimeout(_rebuildTimer);\r\n    }\r\n    _rebuildTimer = setTimeout(() => {\r\n        _rebuildTimer = null;\r\n        LegendModule._rebuildDisplay();\r\n    }, REBUILD_DEBOUNCE_MS);\r\n}\r\n\r\nfunction _ensureSpinnerStyles() {\r\n    if (document.getElementById(\"gl-legend-spinner-style\")) return;\r\n    const styleEl = document.createElement(\"style\");\r\n    styleEl.id = \"gl-legend-spinner-style\";\r\n    styleEl.textContent =\r\n        \"@keyframes gl-legend-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\";\r\n    document.head.appendChild(styleEl);\r\n}\r\n\r\nfunction _clearOverlayTimeout() {\r\n    if (_loadingOverlayTimer) {\r\n        clearTimeout(_loadingOverlayTimer);\r\n        _loadingOverlayTimer = null;\r\n    }\r\n}\r\n\r\nfunction _showLoadingOverlay() {\r\n    if (!_control || !_control._container) return;\r\n\r\n    _ensureSpinnerStyles();\r\n    _clearOverlayTimeout();\r\n\r\n    const container = _control._container;\r\n    if (!container.style.position) {\r\n        container.style.position = \"relative\";\r\n    }\r\n\r\n    if (!_loadingOverlayEl) {\r\n        const overlay = document.createElement(\"div\");\r\n        overlay.className = \"gl-map-legend__loading-overlay\";\r\n        overlay.style.position = \"absolute\";\r\n        overlay.style.inset = \"0\";\r\n        overlay.style.background = \"rgba(255,255,255,0.6)\";\r\n        overlay.style.display = \"flex\";\r\n        overlay.style.alignItems = \"center\";\r\n        overlay.style.justifyContent = \"center\";\r\n        overlay.style.pointerEvents = \"auto\";\r\n        overlay.style.zIndex = \"2\";\r\n        overlay.setAttribute(\"aria-hidden\", \"false\");\r\n\r\n        const spinner = document.createElement(\"div\");\r\n        spinner.className = \"gl-map-legend__spinner\";\r\n        spinner.style.width = \"34px\";\r\n        spinner.style.height = \"34px\";\r\n        spinner.style.border = \"3px solid rgba(0,0,0,0.12)\";\r\n        spinner.style.borderTop = \"3px solid rgba(0,0,0,0.55)\";\r\n        spinner.style.borderRadius = \"50%\";\r\n        spinner.style.animation = \"gl-legend-spin 1s linear infinite\";\r\n\r\n        overlay.appendChild(spinner);\r\n        _loadingOverlayEl = overlay;\r\n    }\r\n\r\n    if (!_loadingOverlayEl.parentElement) {\r\n        container.appendChild(_loadingOverlayEl);\r\n    }\r\n\r\n    container.setAttribute(\"aria-busy\", \"true\");\r\n    container.setAttribute(\"aria-live\", \"polite\");\r\n\r\n    _loadingOverlayTimer = setTimeout(() => {\r\n        _loadingOverlayTimer = null;\r\n        _hideLoadingOverlay();\r\n    }, LOADING_OVERLAY_TIMEOUT_MS);\r\n}\r\n\r\nfunction _hideLoadingOverlay() {\r\n    _clearOverlayTimeout();\r\n    if (_loadingOverlayEl && _loadingOverlayEl.parentElement) {\r\n        _loadingOverlayEl.parentElement.removeChild(_loadingOverlayEl);\r\n    }\r\n    if (_control && _control._container) {\r\n        _control._container.removeAttribute(\"aria-busy\");\r\n        _control._container.removeAttribute(\"aria-live\");\r\n    }\r\n}\r\n\r\nconst LegendModule = {\r\n    /**\r\n     * Initialise le module Legend\r\n     * @param {L.Map} mapInstance - Instance de la carte Leaflet\r\n     * @param {Object} options - Options du module\r\n     * @param {string} [options.position=\"bottomleft\"] - Position du contrôle\r\n     * @param {boolean} [options.collapsible=true] - Légende repliable\r\n     * @param {boolean} [options.collapsed=false] - État replié initial\r\n     */\r\n    init: function (mapInstance, options) {\r\n        if (!mapInstance) {\r\n            if (Log) Log.error(\"[Legend] Carte Leaflet requise pour initialiser Legend\");\r\n            return false;\r\n        }\r\n\r\n        _map = mapInstance;\r\n\r\n        // Charger la configuration depuis le profil\r\n        if (_g.GeoLeaf.Config && typeof _g.GeoLeaf.Config.get === \"function\") {\r\n            const legendConfig = _g.GeoLeaf.Config.get(\"legendConfig\");\r\n\r\n            _options = Object.assign(\r\n                {\r\n                    position: (legendConfig && legendConfig.position) || \"bottomleft\",\r\n                    collapsible: true,\r\n                    collapsed: (legendConfig && legendConfig.collapsedByDefault) || false,\r\n                    title: (legendConfig && legendConfig.title) || \"Légende\",\r\n                },\r\n                options || {}\r\n            );\r\n\r\n            // Récupérer le profil actif complet\r\n            if (typeof _g.GeoLeaf.Config.getActiveProfile === \"function\") {\r\n                _profileConfig = _g.GeoLeaf.Config.getActiveProfile();\r\n            } else {\r\n                // Fallback : essayer de récupérer depuis getAll\r\n                const allConfig = _g.GeoLeaf.Config.getAll();\r\n                _profileConfig = {\r\n                    id: allConfig.id || _g.GeoLeaf.Config.get(\"id\"),\r\n                    layers: allConfig.layers || _g.GeoLeaf.Config.get(\"layers\") || [],\r\n                };\r\n            }\r\n        } else {\r\n            _options = Object.assign(\r\n                {\r\n                    position: \"bottomleft\",\r\n                    collapsible: true,\r\n                    collapsed: false,\r\n                    title: \"Légende\",\r\n                },\r\n                options || {}\r\n            );\r\n        }\r\n\r\n        // Charger la taxonomy pour les icônes\r\n        this._loadTaxonomy();\r\n\r\n        // Initialiser toutes les couches du profil\r\n        this._initializeAllLayers();\r\n\r\n        if (Log)\r\n            Log.info(\"[Legend] Module Legend initialisé avec génération automatique depuis styles\");\r\n        return true;\r\n    },\r\n\r\n    /**\r\n     * Charge la taxonomy pour la correspondance catégories → icônes\r\n     * @private\r\n     */\r\n    _loadTaxonomy: function () {\r\n        if (!_profileConfig) return;\r\n\r\n        const Config = _g.GeoLeaf.Config;\r\n        const dataCfg = Config && Config.get ? Config.get(\"data\") : null;\r\n        const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || \"profiles\";\r\n        const profileId = _profileConfig.id;\r\n\r\n        if (!profileId) {\r\n            if (Log) Log.warn(\"[Legend] Impossible de charger taxonomy sans profileId\");\r\n            return;\r\n        }\r\n\r\n        const taxonomyPath = `${profilesBasePath}/${profileId}/taxonomy.json`;\r\n\r\n        fetch(taxonomyPath)\r\n            .then((response) => {\r\n                if (!response.ok) throw new Error(`HTTP ${response.status}`);\r\n                return response.json();\r\n            })\r\n            .then((data) => {\r\n                _taxonomyData = data;\r\n                if (Log) Log.debug(\"[Legend] Taxonomy chargée\");\r\n            })\r\n            .catch((err) => {\r\n                if (Log) Log.warn(`[Legend] Erreur chargement taxonomy: ${err.message}`);\r\n            });\r\n    },\r\n\r\n    /**\r\n     * Initialise toutes les couches définies dans le profil\r\n     * @private\r\n     */\r\n    _initializeAllLayers: function () {\r\n        if (!_profileConfig || !Array.isArray(_profileConfig.layers)) {\r\n            if (Log) Log.warn(\"[Legend] Aucune couche définie dans le profil\");\r\n            return;\r\n        }\r\n\r\n        _profileConfig.layers.forEach((layerDef, index) => {\r\n            _allLayers.set(layerDef.id, {\r\n                label: layerDef.id, // Sera mis à jour lors du chargement du config\r\n                styleId: null,\r\n                legendData: null,\r\n                visible: false,\r\n                order: index + 1,\r\n                geometryType: null,\r\n                configFile: layerDef.configFile,\r\n            });\r\n        });\r\n\r\n        if (Log) Log.debug(`[Legend] ${_allLayers.size} couche(s) initialisée(s)`);\r\n    },\r\n\r\n    /**\r\n     * Charge et génère la légende pour une couche\r\n     * @param {string} layerId - ID de la couche\r\n     * @param {string} styleId - ID du style à appliquer\r\n     * @param {Object} layerConfig - Configuration de la couche\r\n     */\r\n    loadLayerLegend: function (layerId, styleId, layerConfig) {\r\n        if (!_map) {\r\n            if (Log) Log.warn(\"[Legend] Module non initialisé\");\r\n            return;\r\n        }\r\n\r\n        const layerInfo = _allLayers.get(layerId);\r\n        if (!layerInfo) {\r\n            if (Log) Log.warn(`[Legend] Couche ${layerId} non trouvée dans le profil`);\r\n            return;\r\n        }\r\n\r\n        // S'assurer que le sprite SVG est disponible dès le début\r\n        if (\r\n            _g.GeoLeaf._POIMarkers &&\r\n            typeof _g.GeoLeaf._POIMarkers.ensureProfileSpriteInjectedSync === \"function\"\r\n        ) {\r\n            _g.GeoLeaf._POIMarkers.ensureProfileSpriteInjectedSync();\r\n            if (Log) Log.debug(`[Legend] Sprite SVG demandé pour couche ${layerId}`);\r\n        }\r\n\r\n        // Mettre à jour les informations de la couche\r\n        layerInfo.label = layerConfig.label || layerId;\r\n        layerInfo.geometryType = _normalizeGeometryType(\r\n            layerConfig.geometryType || layerConfig.geometry || layerInfo.geometryType || \"point\"\r\n        );\r\n        layerInfo.styleId = styleId;\r\n\r\n        // Charger le fichier de style\r\n        const Config = _g.GeoLeaf.Config;\r\n        const dataCfg = Config && Config.get ? Config.get(\"data\") : null;\r\n        const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || \"profiles\";\r\n        const profileId = layerConfig._profileId || _profileConfig.id;\r\n        const layerDir = layerConfig._layerDirectory;\r\n\r\n        if (!layerConfig.styles || !layerConfig.styles.directory) {\r\n            if (Log) Log.warn(`[Legend] Configuration styles manquante pour ${layerId}`);\r\n            return;\r\n        }\r\n\r\n        const stylesDir = layerConfig.styles.directory;\r\n        const styleFile =\r\n            layerConfig.styles.available?.find((s) => s.id === styleId)?.file ||\r\n            layerConfig.styles.default;\r\n\r\n        const stylePath = `${profilesBasePath}/${profileId}/${layerDir}/${stylesDir}/${styleFile}`;\r\n\r\n        if (Log) Log.debug(`[Legend] Chargement style: ${stylePath}`);\r\n\r\n        fetch(stylePath)\r\n            .then((response) => {\r\n                if (!response.ok) throw new Error(`HTTP ${response.status}`);\r\n                return response.json();\r\n            })\r\n            .then((styleData) => {\r\n                // Générer la légende depuis le style\r\n                if (!_g.GeoLeaf._LegendGenerator) {\r\n                    if (Log) Log.error(\"[Legend] LegendGenerator non disponible\");\r\n                    return;\r\n                }\r\n\r\n                // Temporairement stocker la config de couche pour le générateur (comme dans markers.js)\r\n                const originalPOIShared = _g.GeoLeaf._POIShared;\r\n                if (layerConfig.showIconsOnMap !== undefined) {\r\n                    // Créer un état temporaire pour cette couche\r\n                    _g.GeoLeaf._POIShared = {\r\n                        state: {\r\n                            poiConfig: {\r\n                                showIconsOnMap: layerConfig.showIconsOnMap,\r\n                            },\r\n                        },\r\n                    };\r\n                }\r\n\r\n                const legendData = _g.GeoLeaf._LegendGenerator.generateLegendFromStyle(\r\n                    styleData,\r\n                    layerInfo.geometryType,\r\n                    _taxonomyData\r\n                );\r\n\r\n                // Restaurer l'état POI original\r\n                if (layerConfig.showIconsOnMap !== undefined) {\r\n                    _g.GeoLeaf._POIShared = originalPOIShared;\r\n                }\r\n\r\n                if (legendData) {\r\n                    layerInfo.legendData = legendData;\r\n                    _allLayers.set(layerId, layerInfo);\r\n                    if (Log) Log.debug(`[Legend] Légende générée pour ${layerId}`);\r\n\r\n                    // Reconstruire l'affichage\r\n                    _scheduleRebuild();\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                if (Log) Log.warn(`[Legend] Erreur chargement style: ${err.message}`);\r\n            });\r\n    },\r\n\r\n    /**\r\n     * Met à jour la visibilité d'une couche dans la légende\r\n     * @param {string} layerId - ID de la couche\r\n     * @param {boolean} visible - Visible ou non\r\n     */\r\n    setLayerVisibility: function (layerId, visible) {\r\n        const layerInfo = _allLayers.get(layerId);\r\n        if (layerInfo) {\r\n            layerInfo.visible = visible;\r\n            _allLayers.set(layerId, layerInfo);\r\n            _scheduleRebuild();\r\n            if (Log) Log.debug(`[Legend] Visibilité de ${layerId}: ${visible}`);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Reconstruit l'affichage de toutes les légendes\r\n     * @private\r\n     */\r\n    _rebuildDisplay: function () {\r\n        if (!_map) return;\r\n\r\n        // Si aucune couche, supprimer le contrôle\r\n        if (_allLayers.size === 0) {\r\n            if (_control && _map) {\r\n                _map.removeControl(_control);\r\n                _control = null;\r\n            }\r\n            return;\r\n        }\r\n\r\n        // Créer le contrôle si nécessaire\r\n        if (!_control) {\r\n            _control = _g.GeoLeaf._LegendControl.create(_options);\r\n            if (_control) {\r\n                _map.addControl(_control);\r\n            }\r\n        }\r\n\r\n        // Préparer les données pour le rendu (afficher toutes les couches)\r\n        if (_control && typeof _control.updateMultiLayerContent === \"function\") {\r\n            const visibilityManager = _g.GeoLeaf._LayerVisibilityManager;\r\n            const legendsArray = [];\r\n\r\n            _allLayers.forEach((data, layerId) => {\r\n                if (!data.legendData) return;\r\n\r\n                const visState =\r\n                    visibilityManager && typeof visibilityManager.getVisibilityState === \"function\"\r\n                        ? visibilityManager.getVisibilityState(layerId)\r\n                        : null;\r\n\r\n                const isVisible = visState ? visState.current : data.visible;\r\n                if (!isVisible) return;\r\n\r\n                legendsArray.push({\r\n                    layerId: layerId,\r\n                    label: data.label,\r\n                    collapsed: true,\r\n                    order: data.order,\r\n                    visible: true,\r\n                    sections: data.legendData.sections || [],\r\n                });\r\n            });\r\n\r\n            // Trier par ordre\r\n            legendsArray.sort((a, b) => a.order - b.order);\r\n\r\n            _control.updateMultiLayerContent(legendsArray);\r\n\r\n            // Si nous avons des icônes mais pas de sprite, programmer un retry\r\n            const hasIcons = legendsArray.some((legend) =>\r\n                legend.sections.some(\r\n                    (section) => section.items && section.items.some((item) => item.icon)\r\n                )\r\n            );\r\n\r\n            if (hasIcons) {\r\n                const sprite = document.querySelector('svg[data-geoleaf-sprite=\"profile\"]');\r\n                if (!sprite) {\r\n                    if (Log)\r\n                        Log.info(\r\n                            \"[Legend] Icônes détectées mais sprite manquant - programmation retry\"\r\n                        );\r\n                    // Programmer un nouveau rendu dans 2 secondes\r\n                    setTimeout(() => {\r\n                        const spriteCheck = document.querySelector(\r\n                            'svg[data-geoleaf-sprite=\"profile\"]'\r\n                        );\r\n                        if (spriteCheck && Log) {\r\n                            Log.info(\"[Legend] Sprite disponible - nouveau rendu de la légende\");\r\n                            this._rebuildDisplay();\r\n                        }\r\n                    }, 2000);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Bascule l'état d'un accordéon\r\n     * @param {string} layerId - ID de la couche\r\n     */\r\n    toggleAccordion: function (_layerId) {\r\n        // Géré visuellement par le renderer\r\n    },\r\n\r\n    /**\r\n     * Récupère toutes les couches\r\n     * @returns {Map}\r\n     */\r\n    getAllLayers: function () {\r\n        return _allLayers;\r\n    },\r\n\r\n    /**\r\n     * Cache la légende\r\n     */\r\n    hideLegend: function () {\r\n        if (_control) {\r\n            _control.hide();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Supprime toutes les légendes\r\n     */\r\n    removeLegend: function () {\r\n        _allLayers.forEach((layerInfo, _layerId) => {\r\n            layerInfo.legendData = null;\r\n            layerInfo.visible = false;\r\n        });\r\n\r\n        if (_control && _map) {\r\n            _map.removeControl(_control);\r\n            _control = null;\r\n            if (Log) Log.debug(\"[Legend] Toutes les légendes supprimées\");\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Vérifie si des légendes sont affichées\r\n     * @returns {boolean}\r\n     */\r\n    isLegendVisible: function () {\r\n        return _control !== null && _allLayers.size > 0;\r\n    },\r\n\r\n    showLoadingOverlay: function () {\r\n        _showLoadingOverlay();\r\n    },\r\n\r\n    hideLoadingOverlay: function () {\r\n        _hideLoadingOverlay();\r\n    },\r\n};\r\n\r\nconst Legend = LegendModule;\r\n\r\nexport { Legend };\r\n","/**\r\n * GeoLeaf Contract — Legend (lazy-chunk boundary)\r\n *\r\n * Interface ESM pure pour accéder au module Legend depuis les modules core\r\n * sans couplage runtime — interface ESM pure.\r\n *\r\n * Phase 10-D — Pattern C : contrat de chunk Legend.\r\n *\r\n * USAGE :\r\n *   import { LegendContract } from '../../../contracts/legend.contract.js';\r\n *\r\n *   if (LegendContract.isAvailable()) {\r\n *       LegendContract.loadLayerLegend(layerId, styleId, layerConfig);\r\n *   }\r\n *\r\n * POURQUOI un contrat ?\r\n * Legend (geoleaf.legend.js) est une façade qui dépend de l'init runtime\r\n * (map + profil). Le contrat encapsule la garde d'initialisation et fournit\r\n * un point d'entrée typé, sans exposer le namespace global.\r\n */\r\n\"use strict\";\r\n\r\nimport { Legend } from \"../modules/geoleaf.legend.js\";\r\n\r\n/**\r\n * Contrat d'interface pour le module Legend.\r\n * @namespace LegendContract\r\n */\r\nconst LegendContract = {\r\n    /**\r\n     * Retourne true si Legend est initialisé (carte chargée).\r\n     * @returns {boolean}\r\n     */\r\n    isAvailable() {\r\n        return !!Legend && typeof Legend.loadLayerLegend === \"function\";\r\n    },\r\n\r\n    /**\r\n     * Charge et affiche la légende pour une couche et un style donnés.\r\n     * @param {string} layerId\r\n     * @param {string} styleId\r\n     * @param {Object} layerConfig\r\n     */\r\n    loadLayerLegend(layerId, styleId, layerConfig) {\r\n        if (typeof Legend.loadLayerLegend === \"function\") {\r\n            Legend.loadLayerLegend(layerId, styleId, layerConfig);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Met à jour la visibilité d'une couche dans la légende.\r\n     * @param {string} layerId\r\n     * @param {boolean} visible\r\n     */\r\n    setLayerVisibility(layerId, visible) {\r\n        if (typeof Legend.setLayerVisibility === \"function\") {\r\n            Legend.setLayerVisibility(layerId, visible);\r\n        }\r\n    },\r\n};\r\n\r\nexport { LegendContract };\r\n","/**\r\n * @module _LayerManagerStyleSelector\r\n * @description Sélecteur de styles pour le gestionnaire de couches.\r\n * Permet de changer dynamiquement le style appliqué à une couche.\r\n * Utilise le nouveau style-loader pour charger et valider les styles.\r\n * @version 3.1.0\r\n */\r\n\"use strict\";\r\n\r\nimport { Config } from \"../config/config-primitives.js\";\r\nimport { GeoJSONCore } from \"../geojson/core.js\";\r\nimport { StyleLoader } from \"../loaders/style-loader.js\";\r\nimport { Labels } from \"../labels/labels.js\";\r\nimport { LabelButtonManager } from \"../labels/label-button-manager.js\";\r\nimport { LegendContract } from \"../../contracts/legend.contract.js\";\r\n\r\n/**\r\n * État interne du sélecteur de styles\r\n * @private\r\n */\r\nconst state = {\r\n    currentStyles: new Map(), // layerId -> styleId\r\n};\r\n\r\n/**\r\n * Module sélecteur de styles pour le gestionnaire de couches\r\n * @namespace\r\n */\r\nconst _LayerManagerStyleSelector = {\r\n    /**\r\n     * Récupère le style actuel d'une couche\r\n     * @param {string} layerId - Identifiant de la couche\r\n     * @returns {string|null} Identifiant du style actuel\r\n     */\r\n    getCurrentStyle: function (layerId) {\r\n        return state.currentStyles.get(layerId) || null;\r\n    },\r\n\r\n    /**\r\n     * Définit le style actuel d'une couche\r\n     * @param {string} layerId - Identifiant de la couche\r\n     * @param {string} styleId - Identifiant du style\r\n     */\r\n    setCurrentStyle: function (layerId, styleId) {\r\n        state.currentStyles.set(layerId, styleId);\r\n    },\r\n\r\n    /**\r\n     * Génère l'élément DOM du sélecteur de styles\r\n     * @param {Object} item - Configuration de l'item de couche\r\n     * @param {string} item.id - Identifiant de la couche\r\n     * @param {Object} item.styles - Configuration des styles disponibles\r\n     * @param {Array} item.styles.available - Tableau des styles disponibles\r\n     * @param {string} item.styles.default - Style par défaut\r\n     * @returns {HTMLElement|null} Élément DOM du sélecteur ou null\r\n     */\r\n    renderDOM: function (item) {\r\n        // ...log supprimé ([StyleSelector] renderDOM)...\r\n\r\n        if (\r\n            !item.styles ||\r\n            !Array.isArray(item.styles.available) ||\r\n            item.styles.available.length <= 1\r\n        ) {\r\n            // ...log supprimé ([StyleSelector] Pas de sélecteur nécessaire)...\r\n            return null;\r\n        }\r\n\r\n        const currentStyle =\r\n            this.getCurrentStyle(item.id) || item.styles.default || item.styles.available[0].id;\r\n        const selectId = \"style-selector-\" + item.id;\r\n\r\n        // Créer le conteneur\r\n        const container = document.createElement(\"div\");\r\n        container.className = \"gl-layer-manager__style-selector\";\r\n\r\n        // Créer le select\r\n        const select = document.createElement(\"select\");\r\n        select.id = selectId;\r\n        select.className = \"gl-layer-manager__style-select\";\r\n        select.setAttribute(\"data-layer-id\", item.id);\r\n\r\n        // Ajouter les options\r\n        item.styles.available.forEach(function (style) {\r\n            const option = document.createElement(\"option\");\r\n            option.value = style.id;\r\n            option.textContent = style.label;\r\n            if (style.id === currentStyle) {\r\n                option.selected = true;\r\n            }\r\n            select.appendChild(option);\r\n        });\r\n\r\n        container.appendChild(select);\r\n        return container;\r\n    },\r\n\r\n    /**\r\n     * Initialise les événements du sélecteur de styles\r\n     * @param {HTMLElement} container - Conteneur des contrôles\r\n     * @param {Object} item - Configuration de l'item de couche\r\n     */\r\n    bindEvents: function (container, item) {\r\n        if (\r\n            !item.styles ||\r\n            !Array.isArray(item.styles.available) ||\r\n            item.styles.available.length <= 1\r\n        ) {\r\n            return;\r\n        }\r\n\r\n        const selectId = \"style-selector-\" + item.id;\r\n        const select = container.querySelector(\"#\" + selectId);\r\n\r\n        if (!select) {\r\n            return;\r\n        }\r\n\r\n        const self = this;\r\n\r\n        select.addEventListener(\"change\", function () {\r\n            const styleId = this.value;\r\n            const layerId = this.getAttribute(\"data-layer-id\");\r\n\r\n            // Enregistrer le style actuel\r\n            self.setCurrentStyle(layerId, styleId);\r\n\r\n            // Appliquer le style à la couche\r\n            self.applyStyle(layerId, styleId);\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Applique un style à une couche\r\n     * Utilise le style-loader pour charger, valider et appliquer le style\r\n     * @param {string} layerId - Identifiant de la couche\r\n     * @param {string} styleId - Identifiant du style\r\n     */\r\n    applyStyle: async function (layerId, styleId) {\r\n        if (!GeoJSONCore) {\r\n            // ...log supprimé ([StyleSelector] Module GeoJSON non disponible)...\r\n            return;\r\n        }\r\n\r\n        // Récupérer les données de la couche\r\n        const layerData = GeoJSONCore.getLayerData(layerId);\r\n\r\n        if (!layerData) {\r\n            // ...log supprimé ([StyleSelector] Couche non trouvée)...\r\n            return;\r\n        }\r\n\r\n        if (!layerData.config.styles || !Array.isArray(layerData.config.styles.available)) {\r\n            // ...log supprimé ([StyleSelector] Aucun style disponible pour la couche)...\r\n            return;\r\n        }\r\n\r\n        // Trouver la configuration du style\r\n        const styleConfig = layerData.config.styles.available.find(function (s) {\r\n            return s.id === styleId;\r\n        });\r\n\r\n        if (!styleConfig) {\r\n            // ...log supprimé ([StyleSelector] Style non trouvé)...\r\n            return;\r\n        }\r\n\r\n        // ...log supprimé ([StyleSelector] Application du style)...\r\n\r\n        try {\r\n            // Vérifier que le style-loader est disponible\r\n            if (!StyleLoader) {\r\n                // ...log supprimé ([StyleSelector] GeoLeaf._StyleLoader non disponible)...\r\n                // Fallback vers ancien système si nécessaire\r\n                this._applyStyleLegacy(layerId, styleId, layerData, styleConfig);\r\n                return;\r\n            }\r\n\r\n            // Récupérer les métadonnées nécessaires\r\n            const profileId = layerData.config._profileId;\r\n            const layerDirectory = layerData.config._layerDirectory;\r\n\r\n            if (!profileId || !layerDirectory) {\r\n                // ...log supprimé ([StyleSelector] Métadonnées manquantes)...\r\n                return;\r\n            }\r\n\r\n            // Charger et valider le style avec le style-loader\r\n            // ...log supprimé ([StyleSelector] Chargement du style via style-loader)...\r\n\r\n            const result = await StyleLoader.loadAndValidateStyle(\r\n                profileId,\r\n                layerId,\r\n                styleId,\r\n                styleConfig.file,\r\n                layerDirectory\r\n            );\r\n\r\n            // ...log supprimé ([StyleSelector] Style chargé et validé)...\r\n\r\n            // Stocker le style actuel dans layerData pour que les labels puissent y accéder\r\n            layerData.currentStyle = result.styleData;\r\n            layerData.currentStyleMetadata = result.metadata;\r\n\r\n            // Appliquer le style via GeoJSONCore\r\n            if (typeof GeoJSONCore.setLayerStyle === \"function\") {\r\n                GeoJSONCore.setLayerStyle(layerId, result.styleData);\r\n                // ...log supprimé ([StyleSelector] Style appliqué avec succès)...\r\n            } else {\r\n                // ...log supprimé ([StyleSelector] Fonction setLayerStyle non disponible)...\r\n            }\r\n\r\n            // Réinitialiser les labels selon le nouveau style et visibleByDefault\r\n            if (Labels && typeof Labels.initializeLayerLabels === \"function\") {\r\n                Labels.initializeLayerLabels(layerId);\r\n            }\r\n\r\n            // Mettre à jour l'état du bouton des labels selon le nouveau style\r\n            // Utiliser syncImmediate car currentStyle vient d'être mis à jour\r\n            if (LabelButtonManager) {\r\n                // ...log supprimé ([StyleSelector] Synchronisation du bouton label)...\r\n                LabelButtonManager.syncImmediate(layerId);\r\n            }\r\n\r\n            // Charger la légende correspondante\r\n            if (LegendContract.isAvailable()) {\r\n                LegendContract.loadLayerLegend(layerData.config.id, styleId, layerData.config);\r\n            }\r\n        } catch (error) {\r\n            // ...log supprimé ([StyleSelector] Erreur lors du chargement/application du style)...\r\n            // ...log supprimé ([StyleSelector] Stack trace)...\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Méthode legacy de chargement de style — fallback quand _StyleLoader est absent.\r\n     * Utilisée uniquement par applyStyle() quand GeoLeaf._StyleLoader n'est pas disponible.\r\n     * @private\r\n     * @see applyStyle\r\n     * TODO(C13): Retirer quand _StyleLoader sera toujours disponible (après lazy-load garanti)\r\n     */\r\n    _applyStyleLegacy: function (layerId, styleId, layerData, styleConfig) {\r\n        // ...log supprimé ([StyleSelector] Utilisation de la méthode legacy)...\r\n\r\n        const profileId = layerData.config._profileId;\r\n        const layerDirectory = layerData.config._layerDirectory;\r\n\r\n        if (!profileId || !layerDirectory) {\r\n            // ...log supprimé ([StyleSelector] Métadonnées manquantes)...\r\n            return;\r\n        }\r\n\r\n        const dataCfg = Config.get ? Config.get(\"data\") : null;\r\n        const profilesBasePath = (dataCfg && dataCfg.profilesBasePath) || \"profiles\";\r\n\r\n        const styleDirectory = layerData.config.styles.directory || \"styles\";\r\n        const stylePath =\r\n            profilesBasePath +\r\n            \"/\" +\r\n            profileId +\r\n            \"/\" +\r\n            layerDirectory +\r\n            \"/\" +\r\n            styleDirectory +\r\n            \"/\" +\r\n            styleConfig.file;\r\n\r\n        // ...log supprimé ([StyleSelector] Chargement du fichier de style (legacy))...\r\n\r\n        fetch(stylePath)\r\n            .then(function (response) {\r\n                if (!response.ok) {\r\n                    throw new Error(\"Erreur HTTP \" + response.status);\r\n                }\r\n                return response.json();\r\n            })\r\n            .then(function (styleData) {\r\n                if (typeof GeoJSONCore.setLayerStyle === \"function\") {\r\n                    GeoJSONCore.setLayerStyle(layerId, styleData);\r\n                    // ...log supprimé ([StyleSelector] Style appliqué avec succès (legacy))...\r\n                }\r\n\r\n                if (LegendContract.isAvailable()) {\r\n                    LegendContract.loadLayerLegend(layerData.config.id, styleId, layerData.config);\r\n                }\r\n            })\r\n            .catch(function (_error) {\r\n                // ...log supprimé ([StyleSelector] Erreur lors du chargement du style (legacy))...\r\n            });\r\n    },\r\n};\r\n\r\nconst StyleSelector = _LayerManagerStyleSelector;\r\nexport { StyleSelector };\r\n","/**\r\n * GeoLeaf LayerManager API (assemblage namespace LayerManager)\r\n * @module layer-manager/layer-manager-api\r\n */\r\n/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n\"use strict\";\r\n\r\nimport { Log } from \"../log/index.js\";\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n_g.GeoLeaf = _g.GeoLeaf || {};\r\n\r\n/**\r\n * Namespace global GeoLeaf\r\n */\r\n\r\n/**\r\n * Logger unifié\r\n */\r\n\r\n/**\r\n * Module GeoLeaf.LayerManager (REFACTORISÉ v3.0)\r\n *\r\n * ARCHITECTURE MODULAIRE :\r\n * - layer-manager/shared.js : État partagé\r\n * - layer-manager/control.js : Contrôle Leaflet (L.Control)\r\n * - layer-manager/renderer.js : Rendu des sections et items\r\n * - layer-manager/basemap-selector.js : Sélecteur de fonds de carte\r\n * - layer-manager/theme-selector.js : Sélecteur de thèmes\r\n * - geoleaf.layer-manager.js (ce fichier) : Agrégateur/façade publique\r\n *\r\n * DÉPENDANCES REQUISES (chargées avant ce module) :\r\n * - layer-manager/shared.js → GeoLeaf._LayerManagerShared\r\n * - layer-manager/renderer.js → GeoLeaf._LayerManagerRenderer\r\n * - layer-manager/basemap-selector.js → GeoLeaf._LayerManagerBasemapSelector\r\n * - layer-manager/theme-selector.js → GeoLeaf._LayerManagerThemeSelector\r\n * - layer-manager/control.js → GeoLeaf._LayerManagerControl\r\n *\r\n * Rôle :\r\n * - Créer un contrôle Leaflet de gestionnaire de couches pour GeoLeaf\r\n * - Afficher des sections structurées (basemaps, couches, catégories)\r\n * - Gérer un mode repliable (collapsible)\r\n * - Préparation pour l'intégration avec le module Legend (Phase 6)\r\n */\r\nconst LayerManagerModule = {\r\n    /**\r\n     * Référence à la carte Leaflet\r\n     * @type {L.Map|null}\r\n     * @private\r\n     */\r\n    _map: null,\r\n\r\n    /**\r\n     * Référence au contrôle Leaflet de légende\r\n     * @type {L.Control|null}\r\n     * @private\r\n     */\r\n    _control: null,\r\n\r\n    /**\r\n     * Timeout pour le debounce du refresh\r\n     * @type {number|null}\r\n     * @private\r\n     */\r\n    _refreshTimeout: null,\r\n\r\n    /**\r\n     * Options internes du module\r\n     * @type {Object}\r\n     * @private\r\n     */\r\n    _options: {\r\n        position: \"bottomright\",\r\n        title: \"Gestionnaire de couches\",\r\n        collapsible: true,\r\n        collapsed: false,\r\n        sections: [],\r\n    },\r\n\r\n    /**\r\n     * Initialisation du module LayerManager\r\n     *\r\n     * @param {Object} options\r\n     * @param {L.Map} [options.map] - Carte Leaflet (si absent, tentative via GeoLeaf.Core.getMap())\r\n     * @param {string} [options.position]\r\n     * @param {string} [options.title]\r\n     * @param {boolean} [options.collapsible]\r\n     * @param {boolean} [options.collapsed]\r\n     * @param {Array} [options.sections]\r\n     * @returns {L.Control|null} - Le contrôle LayerManager ou null\r\n     */\r\n    init(options = {}) {\r\n        if (typeof _g.L === \"undefined\" || !_g.L || !_g.L.Control) {\r\n            if (Log)\r\n                Log.error(\r\n                    \"[GeoLeaf.LayerManager] Leaflet (L.Control) est requis mais introuvable.\"\r\n                );\r\n            return null;\r\n        }\r\n\r\n        let map = options.map || null;\r\n\r\n        // Tentative de récupération via GeoLeaf.Core\r\n        if (!map && _g.GeoLeaf.Core && typeof _g.GeoLeaf.Core.getMap === \"function\") {\r\n            map = _g.GeoLeaf.Core.getMap();\r\n        }\r\n\r\n        if (!map) {\r\n            if (Log)\r\n                Log.error(\r\n                    \"[GeoLeaf.LayerManager] Aucune carte Leaflet disponible. Passe une instance dans init({ map }).\"\r\n                );\r\n            return null;\r\n        }\r\n\r\n        this._map = map;\r\n        if (Log) Log.info(\"[GeoLeaf.LayerManager] init: map assigned\");\r\n\r\n        this._options = this._mergeOptions(this._options, options);\r\n\r\n        // Charger les sections depuis layerManagerConfig si disponibles\r\n        this._loadConfigSections();\r\n\r\n        // Remplir automatiquement la section basemap\r\n        this._autoPopulateBasemap();\r\n\r\n        // Autoremplissage minimal si aucune section\r\n        this._autoPopulateSections();\r\n\r\n        // Créer le contrôle Leaflet via le sous-module\r\n        if (!_g.GeoLeaf._LayerManagerControl) {\r\n            if (Log) Log.error(\"[GeoLeaf.LayerManager] Module _LayerManagerControl non chargé\");\r\n            return null;\r\n        }\r\n\r\n        this._control = _g.GeoLeaf._LayerManagerControl.create(this._options);\r\n\r\n        if (!this._control) {\r\n            if (Log) Log.error(\"[GeoLeaf.LayerManager] Échec création contrôle\");\r\n            return null;\r\n        }\r\n\r\n        this._control.addTo(this._map);\r\n\r\n        if (Log) Log.info(\"[GeoLeaf.LayerManager] Contrôle créé et ajouté à la carte\");\r\n        return this._control;\r\n    },\r\n\r\n    /**\r\n     * Charge les sections depuis la configuration\r\n     * @private\r\n     */\r\n    _loadConfigSections() {\r\n        if (_g.GeoLeaf.Config && typeof _g.GeoLeaf.Config.get === \"function\") {\r\n            const layerManagerConfig = _g.GeoLeaf.Config.get(\"layerManagerConfig\");\r\n            if (_g.GeoLeaf.Log)\r\n                _g.GeoLeaf.Log.debug(\"[LayerManager] Configuration chargée:\", {\r\n                    title: layerManagerConfig?.title,\r\n                    collapsed: layerManagerConfig?.collapsedByDefault,\r\n                    sectionsCount: layerManagerConfig?.sections?.length || 0,\r\n                });\r\n            if (layerManagerConfig) {\r\n                if (layerManagerConfig.title) {\r\n                    this._options.title = layerManagerConfig.title;\r\n                }\r\n\r\n                // Paramètre global collapsed/collapsedByDefault\r\n                if (typeof layerManagerConfig.collapsedByDefault === \"boolean\") {\r\n                    this._options.collapsed = layerManagerConfig.collapsedByDefault;\r\n                }\r\n\r\n                if (\r\n                    Array.isArray(layerManagerConfig.sections) &&\r\n                    layerManagerConfig.sections.length > 0\r\n                ) {\r\n                    const configSections = layerManagerConfig.sections\r\n                        .slice()\r\n                        .sort((a, b) => (a.order || 0) - (b.order || 0))\r\n                        .map((s) => ({\r\n                            id: s.id,\r\n                            label: s.label,\r\n                            order: s.order,\r\n                            collapsedByDefault: s.collapsedByDefault,\r\n                            items: [],\r\n                        }));\r\n\r\n                    if (!Array.isArray(this._options.sections)) {\r\n                        this._options.sections = [];\r\n                    }\r\n\r\n                    configSections.forEach((configSection) => {\r\n                        const existingSection = this._options.sections.find(\r\n                            (s) => s.id === configSection.id\r\n                        );\r\n                        if (!existingSection) {\r\n                            this._options.sections.push(configSection);\r\n                        } else if (configSection.label && !existingSection.label) {\r\n                            existingSection.label = configSection.label;\r\n                        }\r\n                    });\r\n\r\n                    this._options.sections.sort((a, b) => (a.order || 0) - (b.order || 0));\r\n\r\n                    if (Log)\r\n                        Log.info(\r\n                            \"[GeoLeaf.LayerManager] Sections fusionnées avec layerManagerConfig\"\r\n                        );\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Remplit automatiquement la section basemap\r\n     * @private\r\n     */\r\n    _autoPopulateBasemap() {\r\n        if (!Array.isArray(this._options.sections)) return;\r\n\r\n        const basemapSection = this._options.sections.find((s) => s.id === \"basemap\");\r\n        if (basemapSection && (!basemapSection.items || basemapSection.items.length === 0)) {\r\n            try {\r\n                let basemapDefs = null;\r\n                if (\r\n                    _g.GeoLeaf &&\r\n                    _g.GeoLeaf.Baselayers &&\r\n                    typeof _g.GeoLeaf.Baselayers.getBaseLayers === \"function\"\r\n                ) {\r\n                    basemapDefs = _g.GeoLeaf.Baselayers.getBaseLayers() || {};\r\n                } else if (_g.GeoLeaf.Config && typeof _g.GeoLeaf.Config.get === \"function\") {\r\n                    basemapDefs = _g.GeoLeaf.Config.get(\"basemaps\") || {};\r\n                }\r\n\r\n                if (basemapDefs && Object.keys(basemapDefs).length > 0) {\r\n                    basemapSection.items = Object.keys(basemapDefs).map((k) => {\r\n                        const d = basemapDefs[k] || {};\r\n                        return { id: d.id || k, label: d.label || k };\r\n                    });\r\n                    if (Log)\r\n                        Log.info(\"[GeoLeaf.LayerManager] Section basemap remplie automatiquement\");\r\n                }\r\n            } catch (e) {\r\n                if (Log)\r\n                    Log.warn(\r\n                        \"[GeoLeaf.LayerManager] Erreur lors du remplissage automatique des basemaps:\",\r\n                        e\r\n                    );\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Autoremplissage minimal des sections\r\n     * @private\r\n     */\r\n    _autoPopulateSections() {\r\n        if (Array.isArray(this._options.sections) && this._options.sections.length > 0) return;\r\n\r\n        const autoSections = [];\r\n        try {\r\n            if (\r\n                _g.GeoLeaf &&\r\n                _g.GeoLeaf.Baselayers &&\r\n                typeof _g.GeoLeaf.Baselayers.getBaseLayers === \"function\"\r\n            ) {\r\n                const defs = _g.GeoLeaf.Baselayers.getBaseLayers() || {};\r\n                const baseItems = Object.keys(defs).map((k) => {\r\n                    const d = defs[k] || {};\r\n                    return { id: k, label: d.label || k };\r\n                });\r\n                if (baseItems.length) {\r\n                    autoSections.push({ id: \"basemap\", label: \"Fond de carte\", items: baseItems });\r\n                }\r\n            }\r\n        } catch (e) {\r\n            // ignore\r\n        }\r\n\r\n        if (autoSections.length) {\r\n            this._options.sections = autoSections;\r\n            if (Log) Log.info(\"[GeoLeaf.LayerManager] auto-populated sections from Baselayers\");\r\n        } else {\r\n            if (Log)\r\n                Log.warn(\r\n                    \"[GeoLeaf.LayerManager] Aucune section fournie et autoremplissage impossible.\"\r\n                );\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Enregistre une couche GeoJSON dans la légende\r\n     * @param {string} layerId - ID de la couche\r\n     * @param {Object} options - Options de la couche\r\n     */\r\n    _registerGeoJsonLayer(layerId, options = {}) {\r\n        // ...log supprimé ([LayerManager] _registerGeoJsonLayer appelé pour)...\r\n\r\n        if (!this._options.sections) {\r\n            this._options.sections = [];\r\n        }\r\n\r\n        // Utiliser layerManagerId ou legendSection (rétrocompatibilité)\r\n        const sectionId = options.layerManagerId || options.legendSection || \"geojson-default\";\r\n        let section = this._options.sections.find((s) => s.id === sectionId);\r\n\r\n        if (!section) {\r\n            section = {\r\n                id: sectionId,\r\n                label: options.legendSectionLabel || \"Couches GeoJSON\",\r\n                order: 10,\r\n                items: [],\r\n            };\r\n            this._options.sections.push(section);\r\n            this._options.sections.sort((a, b) => (a.order || 0) - (b.order || 0));\r\n        }\r\n\r\n        const existingItem = section.items.find((item) => item.id === layerId);\r\n        if (!existingItem) {\r\n            section.items.push({\r\n                id: layerId,\r\n                label: options.label || layerId,\r\n                toggleable: true,\r\n                themes: options.themes || null,\r\n                styles: options.styles || null,\r\n                labels: options.labels || null,\r\n            });\r\n\r\n            this._updateContent();\r\n            if (Log)\r\n                Log.debug(\r\n                    `[LayerManager] Couche \"${layerId}\" enregistrée dans section \"${sectionId}\"`\r\n                );\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Désenregistre une couche GeoJSON de la légende\r\n     * @param {string} layerId - ID de la couche\r\n     */\r\n    _unregisterGeoJsonLayer(layerId) {\r\n        if (!Array.isArray(this._options.sections)) return;\r\n\r\n        this._options.sections.forEach((section) => {\r\n            if (Array.isArray(section.items)) {\r\n                section.items = section.items.filter((item) => item.id !== layerId);\r\n            }\r\n        });\r\n\r\n        this._options.sections = this._options.sections.filter(\r\n            (section) =>\r\n                section.id === \"basemap\" ||\r\n                (Array.isArray(section.items) && section.items.length > 0)\r\n        );\r\n\r\n        this._updateContent();\r\n        if (Log) Log.debug(`[LayerManager] Couche \"${layerId}\" désenregistrée`);\r\n    },\r\n\r\n    /**\r\n     * Met à jour les sections de la légende\r\n     * @param {Array} sections - Nouvelles sections\r\n     */\r\n    updateSections(sections) {\r\n        if (!Array.isArray(sections)) {\r\n            if (Log)\r\n                Log.warn(\"[GeoLeaf.LayerManager] updateSections: sections doit être un tableau\");\r\n            return;\r\n        }\r\n        this._options.sections = sections;\r\n        this._updateContent();\r\n    },\r\n\r\n    /**\r\n     * Ajoute ou met à jour une section dans la légende\r\n     * @param {Object} section - Section à ajouter {id, label, order, items}\r\n     */\r\n    addSection(section) {\r\n        if (!section || !section.id) {\r\n            if (Log) Log.warn(\"[GeoLeaf.LayerManager] addSection: section invalide (id manquant)\");\r\n            return;\r\n        }\r\n\r\n        if (!Array.isArray(this._options.sections)) {\r\n            this._options.sections = [];\r\n        }\r\n\r\n        // Chercher une section existante avec le même id\r\n        const existingIndex = this._options.sections.findIndex((s) => s.id === section.id);\r\n\r\n        if (existingIndex !== -1) {\r\n            // Fusionner avec la section existante\r\n            const existing = this._options.sections[existingIndex];\r\n\r\n            // Fusionner les items\r\n            if (Array.isArray(section.items)) {\r\n                if (!Array.isArray(existing.items)) {\r\n                    existing.items = [];\r\n                }\r\n\r\n                section.items.forEach((newItem) => {\r\n                    const existingItemIndex = existing.items.findIndex((i) => i.id === newItem.id);\r\n                    if (existingItemIndex !== -1) {\r\n                        // Mettre à jour l'item existant\r\n                        existing.items[existingItemIndex] = Object.assign(\r\n                            {},\r\n                            existing.items[existingItemIndex],\r\n                            newItem\r\n                        );\r\n                    } else {\r\n                        // Ajouter le nouvel item\r\n                        existing.items.push(newItem);\r\n                    }\r\n                });\r\n\r\n                // Trier les items par order\r\n                existing.items.sort((a, b) => (a.order || 0) - (b.order || 0));\r\n            }\r\n\r\n            // Mettre à jour les autres propriétés si fournies\r\n            if (section.label) existing.label = section.label;\r\n            if (section.order !== undefined) existing.order = section.order;\r\n            if (section.collapsedByDefault !== undefined)\r\n                existing.collapsedByDefault = section.collapsedByDefault;\r\n        } else {\r\n            // Ajouter la nouvelle section\r\n            this._options.sections.push({\r\n                id: section.id,\r\n                label: section.label || section.id,\r\n                order: section.order || 99,\r\n                collapsedByDefault: section.collapsedByDefault || false,\r\n                items: section.items || [],\r\n            });\r\n\r\n            // Trier les sections par order\r\n            this._options.sections.sort((a, b) => (a.order || 0) - (b.order || 0));\r\n        }\r\n\r\n        this._updateContent();\r\n        if (Log) Log.debug(`[LayerManager] Section \"${section.id}\" ajoutée/mise à jour`);\r\n    },\r\n\r\n    /**\r\n     * Bascule l'état replié/déplié de la légende\r\n     */\r\n    toggleCollapse() {\r\n        this._options.collapsed = !this._options.collapsed;\r\n        if (!this._control) return;\r\n        if (this._options.collapsed) {\r\n            this._control._container.classList.add(\"gl-layer-manager--collapsed\");\r\n        } else {\r\n            this._control._container.classList.remove(\"gl-layer-manager--collapsed\");\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Indique si la légende est repliée\r\n     * @returns {boolean}\r\n     */\r\n    isCollapsed() {\r\n        return !!this._options.collapsed;\r\n    },\r\n\r\n    /**\r\n     * Force le re-rendu du contenu\r\n     * @private\r\n     */\r\n    _updateContent() {\r\n        if (!this._control || typeof this._control.updateSections !== \"function\") {\r\n            return;\r\n        }\r\n        this._control.updateSections(this._options.sections || []);\r\n    },\r\n\r\n    /**\r\n     * Rafraîchit l'affichage du LayerManager\r\n     * Utilisé notamment après l'application d'un thème pour mettre à jour l'état des boutons toggle\r\n     * Version debounced pour grouper les appels multiples (ex: plusieurs couches changent de visibilité au zoom)\r\n     * @public\r\n     * @param {boolean} [immediate=false] - Si true, force le refresh immédiat sans debounce\r\n     */\r\n    refresh(immediate = false) {\r\n        if (!this._control || typeof this._control.refresh !== \"function\") {\r\n            if (Log)\r\n                Log.warn(\r\n                    \"[LayerManager] refresh(): contrôle non disponible ou méthode refresh manquante\"\r\n                );\r\n            return;\r\n        }\r\n\r\n        // Si refresh immédiat demandé, annuler le debounce et exécuter\r\n        if (immediate) {\r\n            if (this._refreshTimeout) {\r\n                clearTimeout(this._refreshTimeout);\r\n                this._refreshTimeout = null;\r\n            }\r\n            this._control.refresh();\r\n            if (Log) Log.debug(\"[LayerManager] Affichage rafraîchi (immédiat)\");\r\n            return;\r\n        }\r\n\r\n        // Debounce: annuler le timeout précédent et programmer un nouveau refresh\r\n        if (this._refreshTimeout) {\r\n            clearTimeout(this._refreshTimeout);\r\n        }\r\n\r\n        this._refreshTimeout = setTimeout(() => {\r\n            this._refreshTimeout = null;\r\n            this._control.refresh();\r\n            if (Log) Log.debug(\"[LayerManager] Affichage rafraîchi (debounced)\");\r\n        }, 250);\r\n    },\r\n\r\n    /**\r\n     * Fusion d'options (shallow + fusion légère pour sous-objets)\r\n     * @param {Object} base\r\n     * @param {Object} override\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _mergeOptions(base, override) {\r\n        const result = Object.assign({}, base || {});\r\n        if (!override) return result;\r\n\r\n        Object.keys(override).forEach((key) => {\r\n            const value = override[key];\r\n\r\n            if (\r\n                value &&\r\n                typeof value === \"object\" &&\r\n                !Array.isArray(value) &&\r\n                base &&\r\n                typeof base[key] === \"object\" &&\r\n                !Array.isArray(base[key])\r\n            ) {\r\n                result[key] = Object.assign({}, base[key], value);\r\n            } else {\r\n                result[key] = value;\r\n            }\r\n        });\r\n\r\n        return result;\r\n    },\r\n};\r\n\r\nconst LayerManager = LayerManagerModule;\r\n\r\nexport { LayerManager };\r\n","/**\r\n * GeoLeaf Theme Applier - Core\r\n * Module state, init/cleanup, applyTheme orchestration, getCurrentThemeId\r\n *\r\n * @module themes/theme-applier/core\r\n */\r\n\"use strict\";\r\n\r\nimport { Config } from '../../config/config-primitives.js';\r\nimport { Legend } from '../../geoleaf.legend.js';\r\nimport { LayerManager } from '../../geoleaf.layer-manager.js';\r\nimport { GeoJSONCore } from '../../geojson/core.js';\r\n\r\n/**\r\n * Module Theme Applier\r\n * @namespace _ThemeApplier\r\n * @private\r\n */\r\nconst _ThemeApplier = {\r\n    /** @type {string|null} Thème actuellement actif */\r\n    _currentThemeId: null,\r\n\r\n    /** @type {boolean} Flag pour savoir si c'est le premier chargement */\r\n    _isFirstLoad: true,\r\n\r\n    /**\r\n     * Initialise le ThemeApplier\r\n     * @private\r\n     */\r\n    _init() {\r\n        this._pendingLayerConfigs = new Map();\r\n        this._pendingCheckTimer = null;\r\n    },\r\n\r\n    /**\r\n     * Nettoie les ressources\r\n     * @private\r\n     */\r\n    _cleanup() {\r\n        if (this._pendingCheckTimer) {\r\n            clearTimeout(this._pendingCheckTimer);\r\n            this._pendingCheckTimer = null;\r\n        }\r\n        if (this._pendingLayerConfigs) {\r\n            this._pendingLayerConfigs.clear();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Applique un thème\r\n     * @param {Object} theme - Configuration du thème\r\n     * @param {Object} [options] - Options d'application\r\n     * @param {boolean} [options.fitBounds] - Force le fitBounds\r\n     * @returns {Promise<void>}\r\n     */\r\n    applyTheme(theme, options = {}) {\r\n        // Initialiser si nécessaire\r\n        if (!this._pendingLayerConfigs) {\r\n            this._init();\r\n        }\r\n\r\n        if (Legend && typeof Legend.showLoadingOverlay === \"function\") {\r\n            Legend.showLoadingOverlay();\r\n        }\r\n\r\n        if (!theme || !theme.id) {\r\n            return Promise.reject(new Error(\"Thème invalide\"));\r\n        }\r\n\r\n        // Vérifier les dépendances\r\n        if (!GeoJSONCore || !LayerManager) {\r\n            return Promise.reject(new Error(\"Modules GeoJSON ou LayerManager non disponibles\"));\r\n        }\r\n\r\n        // Notifier le début du chargement du thème\r\n        try {\r\n            document.dispatchEvent(new CustomEvent('geoleaf:theme:applying', {\r\n                detail: {\r\n                    themeId: theme.id,\r\n                    themeName: theme.name || theme.label || theme.id\r\n                }\r\n            }));\r\n        } catch (e) { /* silencieux */ }\r\n\r\n        // Désactiver toutes les couches d'abord\r\n        this._hideAllLayers();\r\n\r\n        // Appliquer les couches du thème avec chargement optimisé par lots\r\n        const layerConfigs = theme.layers || [];\r\n\r\n        // Récupérer la configuration de performance depuis le profil\r\n        const profileConfig = Config?.Profile?.getActiveProfileConfig();\r\n        const perfConfig = profileConfig?.performance || {};\r\n        // fitBounds désactivé : le positionnement se fait via map.bounds du profil\r\n        const enableFitBounds = false;\r\n\r\n        // Séparer les couches visibles et invisibles\r\n        const visibleLayers = layerConfigs.filter(config => config.visible !== false);\r\n\r\n        // Charger d'abord les couches visibles par lots\r\n        const BATCH_SIZE = perfConfig.themeBatchSize || 3;\r\n\r\n        // Helper progression pour l'écran de chargement (97→99)\r\n        const updateProgress = (p) => {\r\n            try {\r\n                if (typeof window !== 'undefined' && window._glLoadingScreen && typeof window._glLoadingScreen.updateProgress === 'function') {\r\n                    window._glLoadingScreen.updateProgress(p);\r\n                }\r\n            } catch (e) { /* ignore */ }\r\n        };\r\n\r\n        const loadInBatches = async (layers) => {\r\n            for (let i = 0; i < layers.length; i += BATCH_SIZE) {\r\n                const batch = layers.slice(i, i + BATCH_SIZE);\r\n                await Promise.all(batch.map(layerConfig => this._applyLayerConfig(layerConfig)));\r\n\r\n                if (i === 0) {\r\n                    updateProgress(98);\r\n                }\r\n            }\r\n        };\r\n\r\n        const self = this;\r\n\r\n        return loadInBatches(visibleLayers)\r\n            .then(() => {\r\n                updateProgress(98);\r\n                return Promise.resolve();\r\n            })\r\n            .then(() => {\r\n                updateProgress(99);\r\n                self._currentThemeId = theme.id;\r\n\r\n                // Rafraîchir le LayerManager\r\n                if (LayerManager && LayerManager.refresh) {\r\n                    LayerManager.refresh();\r\n                }\r\n\r\n                // Synchroniser l'état de visibilité dans la légende\r\n                self._syncLegendVisibility();\r\n\r\n                // Événement de thème appliqué\r\n                try {\r\n                    const themeNotificationEvent = new CustomEvent('geoleaf:theme:applied', {\r\n                        detail: {\r\n                            themeId: theme.id,\r\n                            themeName: theme.name || theme.label || theme.id,\r\n                            layerCount: visibleLayers.length,\r\n                            totalLayersInTheme: layerConfigs.length,\r\n                            timestamp: new Date().toISOString()\r\n                        }\r\n                    });\r\n                    document.dispatchEvent(themeNotificationEvent);\r\n                } catch (e) {\r\n                    // Silencieux\r\n                }\r\n\r\n                // FitBounds selon la configuration\r\n                const shouldFitBounds = options.fitBounds === true ||\r\n                                       (self._isFirstLoad && enableFitBounds);\r\n                if (shouldFitBounds) {\r\n                    setTimeout(() => {\r\n                        self._fitBoundsOnAllLayers();\r\n                    }, 1000);\r\n                    self._isFirstLoad = false;\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                throw err;\r\n            })\r\n            .finally(() => {\r\n                if (Legend && typeof Legend.hideLoadingOverlay === \"function\") {\r\n                    Legend.hideLoadingOverlay();\r\n                }\r\n            });\r\n    },\r\n\r\n    /**\r\n     * Récupère l'ID du thème actuellement actif\r\n     * @returns {string|null}\r\n     */\r\n    getCurrentThemeId() {\r\n        return this._currentThemeId;\r\n    }\r\n};\r\n\r\nexport { _ThemeApplier as ThemeApplierCore };\r\n","/**\r\n * Module Renderer pour LayerManager\r\n * Logique de rendu des sections et items de la légende\r\n *\r\n * DÉPENDANCES:\r\n * - Leaflet (L.DomUtil, L.DomEvent)\r\n * - GeoLeaf.Log (optionnel)\r\n * - GeoLeaf._LayerManagerBasemapSelector (pour section basemap)\r\n * - GeoLeaf._LayerManagerThemeSelector (pour thèmes)\r\n * - GeoLeaf.Themes (pour getAvailableThemes)\r\n * - GeoLeaf.GeoJSON (pour setTheme)\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf._LayerManagerRenderer\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from \"../log/index.js\";\r\nimport { StyleSelector } from \"./style-selector.js\";\r\nimport { _UIComponents } from \"../ui/components.js\";\r\nimport { GeoJSONShared } from \"../shared/geojson-state.js\";\r\nimport { DOMSecurity } from \"../utils/dom-security.js\";\r\nimport { BasemapSelector } from \"./basemap-selector.js\";\r\nimport { LabelButtonManager } from \"../labels/label-button-manager.js\";\r\nimport { GeoJSONCore } from \"../geojson/core.js\";\r\nimport { ThemeApplierCore } from \"../themes/theme-applier/core.js\";\r\n\r\n/**\r\n * Module Renderer pour LayerManager\r\n * @namespace _LayerManagerRenderer\r\n * @private\r\n */\r\nconst _LayerManagerRenderer = {\r\n    /**\r\n     * Rend les sections de la légende\r\n     * @param {HTMLElement} bodyEl - Élément body de la légende\r\n     * @param {Array} sections - Liste des sections à rendre\r\n     */\r\n    renderSections(bodyEl, sections) {\r\n        if (!bodyEl) {\r\n            return;\r\n        }\r\n\r\n        // Clear content sans innerHTML\r\n        DOMSecurity.clearElementFast(bodyEl);\r\n\r\n        if (!Array.isArray(sections) || sections.length === 0) {\r\n            const emptyEl = globalThis.L.DomUtil.create(\"div\", \"gl-layer-manager__empty\", bodyEl);\r\n            emptyEl.textContent = \"Aucune couche \\u00e0 afficher.\";\r\n            return;\r\n        }\r\n\r\n        // Filtrer les sections legacy \"poi\" et \"route\" (obsolètes)\r\n        const filteredSections = sections.filter((s) => s.id !== \"poi\" && s.id !== \"route\");\r\n\r\n        filteredSections.forEach((section) => {\r\n            const isCollapsible = typeof section.collapsedByDefault === \"boolean\";\r\n            const isCollapsed = section.collapsedByDefault === true;\r\n\r\n            const sectionEl = globalThis.L.DomUtil.create(\r\n                \"div\",\r\n                isCollapsible\r\n                    ? \"gl-layer-manager__section gl-layer-manager__section--accordion\"\r\n                    : \"gl-layer-manager__section\",\r\n                bodyEl\r\n            );\r\n\r\n            if (isCollapsed) {\r\n                sectionEl.classList.add(\"gl-layer-manager__section--collapsed\");\r\n            }\r\n\r\n            if (section.label) {\r\n                if (isCollapsible) {\r\n                    // En-tête cliquable pour accordéon\r\n                    const accordionHeader = globalThis.L.DomUtil.create(\r\n                        \"div\",\r\n                        \"gl-layer-manager__accordion-header\",\r\n                        sectionEl\r\n                    );\r\n\r\n                    const sectionTitle = globalThis.L.DomUtil.create(\r\n                        \"div\",\r\n                        \"gl-layer-manager__section-title\",\r\n                        accordionHeader\r\n                    );\r\n                    sectionTitle.textContent = section.label;\r\n\r\n                    const accordionArrow = globalThis.L.DomUtil.create(\r\n                        \"span\",\r\n                        \"gl-layer-manager__accordion-arrow\",\r\n                        accordionHeader\r\n                    );\r\n                    accordionArrow.textContent = \"▶\";\r\n\r\n                    // Gestionnaire de clic pour l'accordéon\r\n                    globalThis.L.DomEvent.on(accordionHeader, \"click\", function (ev) {\r\n                        globalThis.L.DomEvent.stopPropagation(ev);\r\n                        globalThis.L.DomEvent.preventDefault(ev);\r\n\r\n                        const wasCollapsed = sectionEl.classList.contains(\r\n                            \"gl-layer-manager__section--collapsed\"\r\n                        );\r\n                        sectionEl.classList.toggle(\"gl-layer-manager__section--collapsed\");\r\n\r\n                        // Mettre à jour la flèche avec animation\r\n                        accordionArrow.textContent = wasCollapsed ? \"▼\" : \"▶\";\r\n\r\n                        // Mettre à jour l'état dans la section\r\n                        section._isExpanded = wasCollapsed;\r\n\r\n                        if (Log)\r\n                            Log.debug(\r\n                                \"[LayerManager] Accordéon\",\r\n                                section.id,\r\n                                wasCollapsed ? \"ouvert\" : \"fermé\"\r\n                            );\r\n                    });\r\n                } else {\r\n                    // Titre simple pour section non-accordéon\r\n                    const sectionTitle = globalThis.L.DomUtil.create(\r\n                        \"div\",\r\n                        \"gl-layer-manager__section-title\",\r\n                        sectionEl\r\n                    );\r\n                    sectionTitle.textContent = section.label;\r\n                }\r\n            }\r\n\r\n            // Si pas d'items, garder la section visible avec son titre seulement\r\n            if (!Array.isArray(section.items) || section.items.length === 0) {\r\n                return;\r\n            }\r\n\r\n            // Créer le corps de la section (accordéon ou simple)\r\n            const sectionBody = isCollapsible\r\n                ? globalThis.L.DomUtil.create(\"div\", \"gl-layer-manager__accordion-body\", sectionEl)\r\n                : sectionEl;\r\n\r\n            // Section basemap : déléguer au BasemapSelector\r\n            if (section.id === \"basemap\") {\r\n                if (BasemapSelector) {\r\n                    BasemapSelector.render(section, sectionBody);\r\n                }\r\n            } else {\r\n                // Autres sections : rendre les items\r\n                this._renderItems(section, sectionBody);\r\n            }\r\n        });\r\n\r\n        // Synchroniser immédiatement les boutons de labels après re-render\r\n        if (LabelButtonManager && GeoJSONCore) {\r\n            const allLayers = GeoJSONCore._layers || new Map();\r\n            allLayers.forEach((layerData, layerId) => {\r\n                if (layerData.currentStyle) {\r\n                    LabelButtonManager.syncImmediate(layerId);\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Synchronise l'état des toggles existants sans re-générer le DOM\r\n     * Utilisé après l'application d'un thème pour mettre à jour les toggles\r\n     * @public\r\n     */\r\n    syncToggles() {\r\n        // Trouver tous les items de couche dans le DOM\r\n        const layerItems = document.querySelectorAll(\"[data-layer-id]\");\r\n\r\n        if (Log)\r\n            Log.debug(`[LayerManager Renderer] Synchronisation de ${layerItems.length} toggles`);\r\n\r\n        layerItems.forEach((itemEl) => {\r\n            const layerId = itemEl.getAttribute(\"data-layer-id\");\r\n            if (!layerId) return;\r\n\r\n            // Récupérer les infos de visibilité pour le log\r\n            const layerData = GeoJSONCore?.getLayerById(layerId);\r\n            const isVisible = this._checkLayerVisibility(layerId);\r\n\r\n            if (Log)\r\n                Log.debug(`[LayerManager Renderer] Couche ${layerId}:`, {\r\n                    isVisible,\r\n                    hasLayerData: !!layerData,\r\n                    hasVisibility: !!(layerData && layerData._visibility),\r\n                    currentValue: layerData?._visibility?.current,\r\n                    onMap: layerData?.layer\r\n                        ? GeoJSONShared.state.map?.hasLayer(layerData.layer)\r\n                        : false,\r\n                });\r\n\r\n            // Mettre à jour la classe gl-layer--hidden\r\n            if (isVisible) {\r\n                itemEl.classList.remove(\"gl-layer--hidden\");\r\n            } else {\r\n                itemEl.classList.add(\"gl-layer--hidden\");\r\n            }\r\n\r\n            // Trouver et mettre à jour le toggle button\r\n            const toggleBtn = itemEl.querySelector(\".gl-layer-manager__item-toggle\");\r\n            if (toggleBtn) {\r\n                toggleBtn.setAttribute(\"aria-pressed\", isVisible ? \"true\" : \"false\");\r\n\r\n                // Harmoniser avec createToggleButton: suffixe \"--on\"\r\n                const onClass = \"gl-layer-manager__item-toggle--on\";\r\n                if (isVisible) {\r\n                    toggleBtn.classList.add(onClass);\r\n                } else {\r\n                    toggleBtn.classList.remove(onClass);\r\n                }\r\n            }\r\n        });\r\n\r\n        if (Log) Log.debug(\"[LayerManager Renderer] États des toggles synchronisés\");\r\n    },\r\n\r\n    /**\r\n     * Rend les items d'une section\r\n     * @private\r\n     */\r\n    _renderItems(section, sectionEl) {\r\n        const listEl = globalThis.L.DomUtil.create(\"div\", \"gl-layer-manager__items\", sectionEl);\r\n\r\n        section.items.forEach((item) => {\r\n            const itemEl = globalThis.L.DomUtil.create(\"div\", \"gl-layer-manager__item\", listEl);\r\n\r\n            // Ajouter l'attribut data-layer-id pour faciliter la recherche DOM\r\n            if (item.id) {\r\n                itemEl.setAttribute(\"data-layer-id\", item.id);\r\n\r\n                // Ajouter la classe gl-layer--hidden si la couche n'est pas visible au chargement\r\n                const isVisible = this._checkLayerVisibility(item.id);\r\n                if (!isVisible) {\r\n                    itemEl.classList.add(\"gl-layer--hidden\");\r\n                }\r\n            }\r\n\r\n            // Conteneur de la ligne principale (toujours créé pour le layout en colonne)\r\n            const mainRow = globalThis.L.DomUtil.create(\r\n                \"div\",\r\n                \"gl-layer-manager__item-row\",\r\n                itemEl\r\n            );\r\n\r\n            // Libellé\r\n            const labelEl = globalThis.L.DomUtil.create(\"span\", \"gl-layer-manager__label\", mainRow);\r\n            labelEl.textContent = item.label || \"\";\r\n\r\n            // Toggle d'affichage pour les couches toggleable\r\n            if (item.toggleable && item.id) {\r\n                this._renderToggleControls(item, mainRow, itemEl);\r\n            } else if (item.id) {\r\n                // Même pour les couches non-toggleable, créer le bouton label\r\n                const controlsContainer = globalThis.L.DomUtil.create(\r\n                    \"div\",\r\n                    \"gl-layer-manager__item-controls\",\r\n                    mainRow\r\n                );\r\n\r\n                // Créer le bouton de label\r\n                if (LabelButtonManager) {\r\n                    LabelButtonManager.createButton(item.id, controlsContainer);\r\n                    LabelButtonManager.syncImmediate(item.id);\r\n                }\r\n            } else {\r\n                // Valeur/info complémentaire pour items sans ID\r\n                if (typeof item.value !== \"undefined\") {\r\n                    const valueEl = globalThis.L.DomUtil.create(\r\n                        \"span\",\r\n                        \"gl-layer-manager__value\",\r\n                        itemEl\r\n                    );\r\n                    valueEl.textContent = String(item.value);\r\n                }\r\n            }\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Rend les contrôles toggle pour un item\r\n     * @private\r\n     */\r\n    _renderToggleControls(item, mainRow, itemEl) {\r\n        // Conteneur des contrôles (toggle + flèche thème)\r\n        const controlsContainer = globalThis.L.DomUtil.create(\r\n            \"div\",\r\n            \"gl-layer-manager__item-controls\",\r\n            mainRow\r\n        );\r\n\r\n        // Créer le bouton de label via le gestionnaire centralisé\r\n        if (LabelButtonManager) {\r\n            LabelButtonManager.createButton(item.id, controlsContainer);\r\n            LabelButtonManager.syncImmediate(item.id);\r\n        }\r\n\r\n        // Vérifier l'état initial\r\n        const isActive = this._checkLayerVisibility(item.id);\r\n\r\n        const toggleBtn = _UIComponents.createToggleButton(controlsContainer, {\r\n            isActive: isActive,\r\n            className: \"gl-layer-manager__item-toggle\",\r\n            title: \"Afficher / masquer la couche\",\r\n        });\r\n\r\n        // Attacher le gestionnaire de toggle\r\n        this._attachToggleHandler(toggleBtn, item.id);\r\n\r\n        // Sélecteur de styles si disponible\r\n        if (item.styles && StyleSelector) {\r\n            const styleElement = StyleSelector.renderDOM(item);\r\n            if (styleElement) {\r\n                itemEl.appendChild(styleElement);\r\n                StyleSelector.bindEvents(styleElement, item);\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Vérifie si une couche est visible\r\n     * @private\r\n     */\r\n    _checkLayerVisibility(layerId) {\r\n        try {\r\n            if (layerId && GeoJSONCore) {\r\n                const layerData = GeoJSONCore.getLayerById(layerId);\r\n\r\n                // IMPORTANT: Utiliser logicalState (état du bouton ON/OFF) au lieu de current (état physique sur carte)\r\n                // Le bouton doit refléter l'intention de l'utilisateur/thème, pas les contraintes de zoom\r\n                const logicalState =\r\n                    layerData &&\r\n                    layerData._visibility &&\r\n                    typeof layerData._visibility.logicalState === \"boolean\"\r\n                        ? layerData._visibility.logicalState\r\n                        : layerData && layerData.visible === true;\r\n\r\n                const result = logicalState;\r\n\r\n                if (Log) {\r\n                    Log.debug(\r\n                        `[LayerManager Renderer] _checkLayerVisibility(${layerId}): logicalState=${logicalState}`\r\n                    );\r\n                }\r\n\r\n                return result;\r\n            }\r\n        } catch (e) {\r\n            if (Log) Log.error(\"[LayerManager Renderer] Erreur dans _checkLayerVisibility:\", e);\r\n        }\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * Attache le gestionnaire de toggle pour une couche\r\n     * @private\r\n     */\r\n    _attachToggleHandler(toggleBtn, itemId) {\r\n        // GUARD: Vérifier si un gestionnaire est déjà attaché\r\n        if (toggleBtn._toggleHandlerAttached) {\r\n            return;\r\n        }\r\n\r\n        // Marquer comme attaché AVANT de créer le gestionnaire\r\n        toggleBtn._toggleHandlerAttached = true;\r\n\r\n        const self = this;\r\n\r\n        const onToggle = function (ev) {\r\n            // EMPÊCHER LES MULTIPLES CLICS EN PREMIER\r\n            if (toggleBtn._isToggling) {\r\n                if (Log) Log.warn(\"[LayerManager] ⏸️ Toggle DÉJÀ en cours, BLOQUÉ:\", itemId);\r\n                if (globalThis.L && globalThis.L.DomEvent) {\r\n                    globalThis.L.DomEvent.stopPropagation(ev);\r\n                    globalThis.L.DomEvent.preventDefault(ev);\r\n                }\r\n                return; // SORTIR IMMÉDIATEMENT\r\n            }\r\n\r\n            // Marquer comme en cours IMMÉDIATEMENT\r\n            toggleBtn._isToggling = true;\r\n\r\n            // Arrêter la propagation\r\n            if (globalThis.L && globalThis.L.DomEvent) {\r\n                globalThis.L.DomEvent.stopPropagation(ev);\r\n                globalThis.L.DomEvent.preventDefault(ev);\r\n            }\r\n\r\n            // Réinitialiser après 100ms (juste pour empêcher les double-clics rapides)\r\n            setTimeout(() => {\r\n                toggleBtn._isToggling = false;\r\n            }, 100);\r\n\r\n            try {\r\n                if (itemId && GeoJSONCore) {\r\n                    const layerData = GeoJSONCore.getLayerById(itemId);\r\n\r\n                    // Si la couche n'est pas encore chargée, la charger à la demande\r\n                    if (!layerData) {\r\n                        if (Log)\r\n                            Log.info(\r\n                                \"[LayerManager] ⏳ Couche non chargée, chargement à la demande:\",\r\n                                itemId\r\n                            );\r\n\r\n                        // Indicateur visuel de chargement\r\n                        toggleBtn.classList.add(\"gl-layer-manager__item-toggle--loading\");\r\n                        toggleBtn.disabled = true;\r\n\r\n                        if (\r\n                            ThemeApplierCore &&\r\n                            typeof ThemeApplierCore._loadLayerFromProfile === \"function\"\r\n                        ) {\r\n                            ThemeApplierCore._loadLayerFromProfile(itemId)\r\n                                .then(function (loadedLayer) {\r\n                                    // Retirer l'indicateur de chargement\r\n                                    toggleBtn.classList.remove(\r\n                                        \"gl-layer-manager__item-toggle--loading\"\r\n                                    );\r\n                                    toggleBtn.disabled = false;\r\n\r\n                                    if (loadedLayer) {\r\n                                        if (Log)\r\n                                            Log.info(\r\n                                                \"[LayerManager] ✅ Couche chargée avec succès:\",\r\n                                                itemId\r\n                                            );\r\n\r\n                                        // Afficher la couche via le gestionnaire standard\r\n                                        GeoJSONCore.showLayer(itemId);\r\n\r\n                                        // Mettre à jour l'UI du toggle\r\n                                        toggleBtn.setAttribute(\"aria-pressed\", \"true\");\r\n                                        toggleBtn.classList.add(\r\n                                            \"gl-layer-manager__item-toggle--on\"\r\n                                        );\r\n\r\n                                        const layerItem = document.querySelector(\r\n                                            '[data-layer-id=\"' + itemId + '\"]'\r\n                                        );\r\n                                        if (layerItem) {\r\n                                            layerItem.classList.remove(\"gl-layer--hidden\");\r\n                                        }\r\n\r\n                                        // Réactiver le bouton label si applicable\r\n                                        let labelBtn = null;\r\n                                        if (layerItem) {\r\n                                            labelBtn = layerItem.querySelector(\r\n                                                \".gl-layer-manager__label-toggle\"\r\n                                            );\r\n                                        }\r\n                                        if (!labelBtn && toggleBtn.parentElement) {\r\n                                            labelBtn = toggleBtn.parentElement.querySelector(\r\n                                                \".gl-layer-manager__label-toggle\"\r\n                                            );\r\n                                        }\r\n                                        if (labelBtn) {\r\n                                            const ld = GeoJSONCore?.getLayerById?.(itemId);\r\n                                            const labelEnabled =\r\n                                                ld?.currentStyle?.label?.enabled === true;\r\n                                            if (labelEnabled) {\r\n                                                labelBtn.disabled = false;\r\n                                                labelBtn.classList.remove(\r\n                                                    \"gl-layer-manager__label-toggle--disabled\"\r\n                                                );\r\n                                            }\r\n                                        }\r\n                                    } else {\r\n                                        if (Log)\r\n                                            Log.warn(\r\n                                                \"[LayerManager] ❌ Échec du chargement de la couche:\",\r\n                                                itemId\r\n                                            );\r\n                                    }\r\n                                })\r\n                                .catch(function (err) {\r\n                                    toggleBtn.classList.remove(\r\n                                        \"gl-layer-manager__item-toggle--loading\"\r\n                                    );\r\n                                    toggleBtn.disabled = false;\r\n                                    if (Log)\r\n                                        Log.error(\r\n                                            \"[LayerManager] Erreur lors du chargement de la couche:\",\r\n                                            itemId,\r\n                                            err\r\n                                        );\r\n                                });\r\n                        } else {\r\n                            toggleBtn.classList.remove(\"gl-layer-manager__item-toggle--loading\");\r\n                            toggleBtn.disabled = false;\r\n                            if (Log)\r\n                                Log.warn(\r\n                                    \"[LayerManager] ThemeApplierCore non disponible pour charger:\",\r\n                                    itemId\r\n                                );\r\n                        }\r\n                        return;\r\n                    }\r\n\r\n                    const isCurrentlyVisible = self._checkLayerVisibility(itemId);\r\n\r\n                    // Trouver le layerItem pour ajouter/retirer la classe CSS\r\n                    const layerItem = document.querySelector(`[data-layer-id=\"${itemId}\"]`);\r\n\r\n                    if (isCurrentlyVisible) {\r\n                        // Masquer la couche\r\n                        GeoJSONCore.hideLayer(itemId);\r\n                        toggleBtn.setAttribute(\"aria-pressed\", \"false\");\r\n                        toggleBtn.classList.remove(\"gl-layer-manager__item-toggle--on\");\r\n\r\n                        // Ajouter la classe gl-layer--hidden\r\n                        if (layerItem) {\r\n                            layerItem.classList.add(\"gl-layer--hidden\");\r\n                        }\r\n\r\n                        // Désactiver immédiatement le bouton label (couche cachée)\r\n                        // Chercher dans tout le layerItem, pas juste les enfants directs\r\n                        let labelBtn = null;\r\n                        if (layerItem) {\r\n                            labelBtn = layerItem.querySelector(\".gl-layer-manager__label-toggle\");\r\n                        }\r\n                        // Fallback: chercher via le sibling du toggle button (même container)\r\n                        if (!labelBtn && toggleBtn.parentElement) {\r\n                            labelBtn = toggleBtn.parentElement.querySelector(\r\n                                \".gl-layer-manager__label-toggle\"\r\n                            );\r\n                        }\r\n                        if (labelBtn) {\r\n                            labelBtn.disabled = true;\r\n                            labelBtn.classList.add(\"gl-layer-manager__label-toggle--disabled\");\r\n                            labelBtn.classList.remove(\"gl-layer-manager__label-toggle--on\");\r\n                            labelBtn.setAttribute(\"aria-pressed\", \"false\");\r\n                        } else {\r\n                            if (Log)\r\n                                Log.warn(\r\n                                    \"[LayerManager] Bouton label NON TROUVÉ pour désactivation:\",\r\n                                    itemId\r\n                                );\r\n                        }\r\n                    } else {\r\n                        // Afficher la couche\r\n                        GeoJSONCore.showLayer(itemId);\r\n                        toggleBtn.setAttribute(\"aria-pressed\", \"true\");\r\n                        toggleBtn.classList.add(\"gl-layer-manager__item-toggle--on\");\r\n\r\n                        // Retirer la classe gl-layer--hidden\r\n                        if (layerItem) {\r\n                            layerItem.classList.remove(\"gl-layer--hidden\");\r\n                        }\r\n\r\n                        // Réactiver le bouton label\r\n                        let labelBtn = null;\r\n                        if (layerItem) {\r\n                            labelBtn = layerItem.querySelector(\".gl-layer-manager__label-toggle\");\r\n                        }\r\n                        if (!labelBtn && toggleBtn.parentElement) {\r\n                            labelBtn = toggleBtn.parentElement.querySelector(\r\n                                \".gl-layer-manager__label-toggle\"\r\n                            );\r\n                        }\r\n                        if (labelBtn) {\r\n                            // Vérifier si label.enabled dans le style avant de réactiver\r\n                            const ld = GeoJSONCore?.getLayerById?.(itemId);\r\n                            const labelEnabled = ld?.currentStyle?.label?.enabled === true;\r\n                            if (labelEnabled) {\r\n                                labelBtn.disabled = false;\r\n                                labelBtn.classList.remove(\r\n                                    \"gl-layer-manager__label-toggle--disabled\"\r\n                                );\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } catch (err) {\r\n                if (Log) Log.warn(\"Erreur toggle légende :\", err);\r\n            }\r\n        };\r\n\r\n        // TEMPORAIREMENT: utiliser uniquement L.DomEvent pour déboguer\r\n        if (globalThis.L && globalThis.L.DomEvent) {\r\n            globalThis.L.DomEvent.on(toggleBtn, \"click\", onToggle);\r\n            globalThis.L.DomEvent.disableClickPropagation(toggleBtn);\r\n        } else {\r\n            toggleBtn.addEventListener(\"click\", onToggle);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Fallback pour créer un toggle button si _UIComponents non disponible\r\n     * @private\r\n     */\r\n    _createToggleFallback(container, isActive) {\r\n        const toggleBtn = globalThis.L.DomUtil.create(\r\n            \"button\",\r\n            \"gl-layer-manager__item-toggle\",\r\n            container\r\n        );\r\n        toggleBtn.type = \"button\";\r\n        toggleBtn.setAttribute(\"aria-pressed\", isActive ? \"true\" : \"false\");\r\n        toggleBtn.title = \"Afficher / masquer la couche\";\r\n        if (isActive) {\r\n            toggleBtn.classList.add(\"gl-layer-manager__item-toggle--on\");\r\n        }\r\n        return toggleBtn;\r\n    },\r\n\r\n    /**\r\n     * Crée le bouton de labels pour une couche (appelé lors de l'application d'un style)\r\n     * @param {string} layerId - ID de la couche\r\n     */\r\n};\r\n\r\nconst LMRenderer = _LayerManagerRenderer;\r\nexport { LMRenderer };\r\n","/**\r\n * Module Control pour LayerManager\r\n * Définition du contrôle Leaflet personnalisé\r\n *\r\n * DÉPENDANCES:\r\n * - Leaflet (L.Control, L.DomUtil, L.DomEvent, L.setOptions)\r\n * - GeoLeaf.Log (optionnel)\r\n * - GeoLeaf._LayerManagerRenderer (pour renderSections)\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf._LayerManagerControl\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\nimport { LMRenderer } from './renderer.js';\n\r\n\r\n/**\r\n * Crée un contrôle Leaflet pour le gestionnaire de couches\r\n * @param {Object} options - Options du contrôle\r\n * @returns {L.Control} - Instance du contrôle Leaflet\r\n */\r\nfunction createLayerManagerControl(options) {\r\n    if (!globalThis.L || !globalThis.L.Control) {\r\n        if (Log) Log.error(\"[LayerManager] Leaflet L.Control non disponible\");\r\n        return null;\r\n    }\r\n\r\n    const LayerManagerControl = globalThis.L.Control.extend({\r\n        options: {\r\n            position: options.position || \"bottomright\"\r\n        },\r\n\r\n        initialize: function (controlOptions) {\r\n            globalThis.L.setOptions(this, controlOptions || {});\r\n            this._glOptions = controlOptions._glOptions;\r\n        },\r\n\r\n\r\n        onAdd: function (mapInstance) {\r\n            this._map = mapInstance;\r\n            this._container = globalThis.L.DomUtil.create(\"div\", \"gl-layer-manager\");\r\n\r\n            // Empêcher les interactions carte\r\n            if (globalThis.L.DomEvent) {\r\n                globalThis.L.DomEvent.disableClickPropagation(this._container);\r\n                globalThis.L.DomEvent.disableScrollPropagation(this._container);\r\n            }\r\n\r\n            this._buildStructure();\r\n            return this._container;\r\n        },\r\n\r\n        onRemove: function () {\r\n            this._map = null;\r\n            this._container = null;\r\n        },\r\n\r\n        /**\r\n         * Construit la structure DOM de la légende\r\n         * @private\r\n         */\r\n        _buildStructure: function () {\r\n            const opts = this._glOptions;\r\n\r\n            // Conteneur principal (flex container)\r\n            const mainWrapper = globalThis.L.DomUtil.create(\"div\", \"gl-layer-manager__main-wrapper\", this._container);\r\n\r\n            // Wrapper du header (reste fixe)\r\n            const headerWrapper = globalThis.L.DomUtil.create(\"div\", \"gl-layer-manager__header-wrapper\", mainWrapper);\r\n\r\n            // En-tête : titre + bouton collapse\r\n            const header = globalThis.L.DomUtil.create(\"div\", \"gl-layer-manager__header\", headerWrapper);\r\n\r\n            const titleEl = globalThis.L.DomUtil.create(\r\n                \"div\",\r\n                \"gl-layer-manager__title\",\r\n                header\r\n            );\r\n            titleEl.textContent = opts.title || \"Légende\";\r\n\r\n            let toggleEl = null;\r\n            if (opts.collapsible) {\r\n                toggleEl = globalThis.L.DomUtil.create(\r\n                    \"button\",\r\n                    \"gl-layer-manager__toggle\",\r\n                    header\r\n                );\r\n                toggleEl.type = \"button\";\r\n                toggleEl.setAttribute(\"aria-label\", \"Basculer la légende\");\r\n                toggleEl.textContent = \"⟱\";\r\n\r\n                const self = this;\r\n                globalThis.L.DomEvent.on(toggleEl, \"click\", function (ev) {\r\n                    globalThis.L.DomEvent.stopPropagation(ev);\r\n                    self._toggleCollapsed();\r\n                });\r\n            }\r\n\r\n            // Wrapper du body avec scrollbar\r\n            const bodyWrapper = globalThis.L.DomUtil.create(\"div\", \"gl-layer-manager__body-wrapper\", mainWrapper);\r\n\r\n            // Corps de la légende\r\n            this._bodyEl = globalThis.L.DomUtil.create(\r\n                \"div\",\r\n                \"gl-layer-manager__body\",\r\n                bodyWrapper\r\n            );\r\n\r\n            // Appliquer l'état collapsed initial (depuis options ou collapsedByDefault)\r\n            const initialCollapsed = opts.collapsed || opts.collapsedByDefault || false;\r\n            if (initialCollapsed) {\r\n                this._container.classList.add(\"gl-layer-manager--collapsed\");\r\n                opts.collapsed = true; // Synchroniser l'état\r\n            }\r\n\r\n            // Rendu des sections via le renderer\r\n            this._renderSections(opts.sections || []);\r\n        },\r\n\r\n        /**\r\n         * Rend les sections (délègue au renderer)\r\n         * @private\r\n         */\r\n        _renderSections: function (sections) {\r\n            if (LMRenderer) {\r\n                LMRenderer.renderSections(this._bodyEl, sections);\r\n            } else {\r\n                if (Log) Log.error(\"[LayerManager] _LayerManagerRenderer non disponible\");\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Mise à jour des sections\r\n         * @param {Array} sections - Nouvelles sections\r\n         */\r\n        updateSections: function (sections) {\r\n            this._glOptions.sections = Array.isArray(sections) ? sections : [];\r\n            this._renderSections(this._glOptions.sections);\r\n        },\r\n\r\n        /**\r\n         * Rafraîchit l'affichage pour mettre à jour l'état des boutons toggle\r\n         * Utilisé notamment après l'application d'un thème\r\n         * @public\r\n         */\r\n        refresh: function () {\r\n            // Synchroniser uniquement les toggles au lieu de re-générer tout le DOM\r\n            if (LMRenderer && typeof LMRenderer.syncToggles === 'function') {\r\n                LMRenderer.syncToggles();\r\n            } else if (this._glOptions && this._glOptions.sections) {\r\n                // Fallback: re-générer les sections si syncToggles n'est pas disponible\r\n                this._renderSections(this._glOptions.sections);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Bascule l'état collapsed\r\n         * @private\r\n         */\r\n        _toggleCollapsed: function () {\r\n            const isCollapsed = this._container.classList.toggle(\"gl-layer-manager--collapsed\");\r\n            this._glOptions.collapsed = isCollapsed;\r\n        }\r\n    });\r\n\r\n    return new LayerManagerControl({\r\n        position: options.position,\r\n        _glOptions: options\r\n    });\r\n}\r\n\r\nconst LMControl = {\r\n    create: createLayerManagerControl\r\n};\r\nexport { LMControl };\r\n","/**\r\n * Module partagé pour LayerManager\r\n * État et utilitaires communs entre les sous-modules\r\n *\r\n * DÉPENDANCES:\r\n * - GeoLeaf.Log (optionnel)\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf._LayerManagerShared\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n\r\n\r\n/**\r\n * État partagé pour LayerManager (privé interne)\r\n * @private\r\n */\r\nconst _LayerManagerShared = {\r\n    /**\r\n     * Référence à la carte Leaflet\r\n     * @type {L.Map|null}\r\n     */\r\n    map: null,\r\n\r\n    /**\r\n     * Référence au contrôle Leaflet\r\n     * @type {L.Control|null}\r\n     */\r\n    control: null,\r\n\r\n    /**\r\n     * Options internes du module\r\n     * @type {Object}\r\n     */\r\n    options: {\r\n        position: \"bottomright\",\r\n        title: \"Légende\",\r\n        collapsible: true,\r\n        collapsed: false,\r\n        sections: []\r\n    }\r\n};\r\n\r\nconst LMShared = _LayerManagerShared;\r\nexport { LMShared };\r\n","/**\r\n * GeoLeaf Theme Cache\r\n * Cache léger pour les couches GeoJSON utilisées par les thèmes.\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from \"../log/index.js\";\r\n\r\n/**\r\n * Phase 7 — Premium Separation: IndexedDB lives in GeoLeaf-Plugins/plugin-storage.\r\n * Access it only via GeoLeaf.Storage.DB at runtime (after the plugin is loaded).\r\n */\r\nfunction _getIndexedDB() {\r\n    const g = typeof globalThis !== \"undefined\" ? globalThis : window;\r\n    return g?.GeoLeaf?.Storage?.DB ?? null;\r\n}\r\n\r\nconst MAX_AGE_MS = 7 * 24 * 60 * 60 * 1000; // 7 jours\r\n\r\nconst ThemeCache = {\r\n    _config: {\r\n        enabled: true,\r\n        maxAge: MAX_AGE_MS,\r\n    },\r\n\r\n    /**\r\n     * Récupère une couche depuis le cache si elle est encore valide.\r\n     * @param {string} layerId\r\n     * @param {string} [profileId]\r\n     * @returns {Promise<Object|null>}\r\n     */\r\n    async get(layerId, profileId) {\r\n        if (!this._config.enabled) {\r\n            return null;\r\n        }\r\n\r\n        const StorageDB = _getIndexedDB();\r\n        if (!StorageDB) {\r\n            return null;\r\n        }\r\n\r\n        try {\r\n            const cached = await StorageDB.getLayer(layerId);\r\n            if (!cached) {\r\n                return null;\r\n            }\r\n\r\n            if (profileId && cached.profileId && cached.profileId !== profileId) {\r\n                if (Log) Log.debug(`[ThemeCache] Cache mismatch profil pour ${layerId}`);\r\n                return null;\r\n            }\r\n\r\n            const age = Date.now() - cached.timestamp;\r\n            if (age > this._config.maxAge) {\r\n                if (Log) Log.debug(`[ThemeCache] Cache expiré pour ${layerId}`);\r\n                return null;\r\n            }\r\n\r\n            if (Log) Log.info(`[ThemeCache] Cache hit pour ${layerId}`);\r\n            return cached.data;\r\n        } catch (err) {\r\n            if (Log)\r\n                Log.warn(`[ThemeCache] Lecture cache impossible pour ${layerId}: ${err.message}`);\r\n            return null;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Stocke une couche dans le cache.\r\n     * @param {string} layerId\r\n     * @param {string} [profileId]\r\n     * @param {Object} data\r\n     * @param {Object} [metadata]\r\n     * @returns {Promise<void>}\r\n     */\r\n    async store(layerId, profileId, data, metadata = {}) {\r\n        if (!this._config.enabled) {\r\n            return;\r\n        }\r\n\r\n        const StorageDB = _getIndexedDB();\r\n        if (!StorageDB) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await StorageDB.cacheLayer(layerId, data, profileId || null, metadata);\r\n            if (Log) Log.debug(`[ThemeCache] Couche mise en cache: ${layerId}`);\r\n        } catch (err) {\r\n            if (Log) Log.warn(`[ThemeCache] Échec mise en cache ${layerId}: ${err.message}`);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Invalide une couche en cache.\r\n     * @param {string} layerId\r\n     * @returns {Promise<void>}\r\n     */\r\n    async invalidate(layerId) {\r\n        const StorageDB = _getIndexedDB();\r\n        if (!StorageDB) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await StorageDB.removeLayer(layerId);\r\n            if (Log) Log.info(`[ThemeCache] Cache invalidé pour ${layerId}`);\r\n        } catch (err) {\r\n            if (Log) Log.warn(`[ThemeCache] Impossible d'invalider ${layerId}: ${err.message}`);\r\n        }\r\n    },\r\n};\r\n\r\nexport { ThemeCache };\r\n","/**\n * Module Theme Loader\n * Charge et met en cache le fichier themes.json\n *\n * DÉPENDANCES:\n * - GeoLeaf.Log (optionnel)\n * - GeoLeaf.Core.getActiveProfile()\n *\n * EXPOSE:\n * - GeoLeaf._ThemeLoader\n *\n * @module _ThemeLoader\n * @private\n */\n\"use strict\";\n\nimport { Log } from '../log/index.js';\nimport { FetchHelper } from '../utils/fetch-helper.js';\n\n\n/**\n * Cache pour les configurations de thèmes\n * @type {Map<string, Object>}\n */\nconst _cache = new Map();\n\n/**\n * Promises en cours de chargement\n * @type {Map<string, Promise>}\n */\nconst _loadingPromises = new Map();\n\n/**\n * Module Theme Loader\n * @namespace _ThemeLoader\n * @private\n */\nconst _ThemeLoader = {\n    /**\n     * Charge le fichier themes.json pour un profil\n     * @param {string} profileId - ID du profil\n     * @returns {Promise<Object>} Configuration des thèmes\n     */\n    loadThemesConfig(profileId) {\n        if (Log) Log.debug(\"[ThemeLoader] loadThemesConfig appelé pour:\", profileId);\n\n        // Vérifier le cache\n        if (_cache.has(profileId)) {\n            if (Log) Log.debug(\"[ThemeLoader] Config en cache pour:\", profileId);\n            return Promise.resolve(_cache.get(profileId));\n        }\n\n        // Vérifier si déjà en cours de chargement\n        if (_loadingPromises.has(profileId)) {\n            if (Log) Log.debug(\"[ThemeLoader] Chargement déjà en cours pour:\", profileId);\n            return _loadingPromises.get(profileId);\n        }\n\n        // Construire le chemin du fichier\n        // Utiliser un chemin relatif depuis la racine du projet\n        // Si on est dans /demo/, on remonte avec ../\n        const isInDemo = window.location.pathname.includes('/demo/');\n        const basePath = isInDemo ? '../' : '';\n        const themesPath = `${basePath}profiles/${profileId}/themes.json`;\n\n        // Sprint 3.3: Unified fetch using FetchHelper with timeout and retry\n        // FetchHelper: imported from utils/fetch-helper.js\n        let loadPromise;\n\n        if (FetchHelper) {\n            // Use enhanced FetchHelper with timeout and retry\n            loadPromise = FetchHelper.get(themesPath, {\n                timeout: 8000,\n                retries: 1,\n                parseResponse: true\n            })\n            .then((data) => {\n                if (Log) Log.debug(\"[ThemeLoader] Fichier chargé:\", themesPath);\n\n                // Valider la structure\n                const validated = this._validateConfig(data);\n\n                // Mettre en cache\n                _cache.set(profileId, validated);\n                _loadingPromises.delete(profileId);\n\n                return validated;\n            })\n            .catch((err) => {\n                if (Log) Log.warn(\"[ThemeLoader] Erreur chargement themes.json:\", err.message);\n                _loadingPromises.delete(profileId);\n                throw err;\n            });\n        } else {\n            // Fallback to raw fetch if FetchHelper not available\n            loadPromise = fetch(themesPath)\n                .then((response) => {\n                    if (!response.ok) {\n                        throw new Error(`Erreur HTTP ${response.status} lors du chargement de ${themesPath}`);\n                    }\n                    return response.json();\n                })\n                .then((data) => {\n                    if (Log) Log.debug(\"[ThemeLoader] Fichier chargé:\", themesPath);\n\n                    // Valider la structure\n                    const validated = this._validateConfig(data);\n\n                    // Mettre en cache\n                    _cache.set(profileId, validated);\n                    _loadingPromises.delete(profileId);\n\n                    return validated;\n                })\n                .catch((err) => {\n                    if (Log) Log.warn(\"[ThemeLoader] Erreur chargement themes.json:\", err.message);\n                    _loadingPromises.delete(profileId);\n                    throw err;\n                });\n        }\n\n        // Stocker la promesse en cours\n        _loadingPromises.set(profileId, loadPromise);\n\n        return loadPromise;\n    },\n\n    /**\n     * Valide et normalise la configuration des thèmes\n     * @param {Object} config - Configuration brute\n     * @returns {Object} Configuration validée\n     * @private\n     */\n    _validateConfig(config) {\n        if (!config || typeof config !== 'object') {\n            throw new Error(\"Configuration de thèmes invalide\");\n        }\n\n        // Valeurs par défaut pour config\n        const validatedConfig = {\n            config: {\n                primaryThemes: {\n                    enabled: true,\n                    position: \"top-map\",\n                    ...(config.config?.primaryThemes || {})\n                },\n                secondaryThemes: {\n                    enabled: true,\n                    placeholder: \"Sélectionner un thème...\",\n                    showNavigationButtons: true,\n                    position: \"top-layermanager\",\n                    ...(config.config?.secondaryThemes || {})\n                }\n            },\n            themes: [],\n            defaultTheme: config.defaultTheme || null\n        };\n\n        // Valider les thèmes\n        if (!Array.isArray(config.themes)) {\n            if (Log) Log.warn(\"[ThemeLoader] Aucun thème défini dans la configuration\");\n            return validatedConfig;\n        }\n\n        // Normaliser chaque thème\n        validatedConfig.themes = config.themes.map((theme) => {\n            if (!theme.id) {\n                if (Log) Log.warn(\"[ThemeLoader] Thème sans ID ignoré\");\n                return null;\n            }\n\n            return {\n                id: theme.id,\n                label: theme.label || theme.id,\n                type: theme.type || \"secondary\", // Par défaut: secondary\n                description: theme.description || \"\",\n                icon: theme.icon || \"\",\n                layers: Array.isArray(theme.layers) ? theme.layers : []\n            };\n        }).filter(Boolean); // Supprimer les thèmes invalides\n\n        // Vérifier qu'il y a au moins un thème\n        if (validatedConfig.themes.length === 0) {\n            throw new Error(\"Aucun thème valide trouvé dans la configuration\");\n        }\n\n        // Vérifier que le defaultTheme existe\n        if (validatedConfig.defaultTheme) {\n            const defaultExists = validatedConfig.themes.some(\n                (t) => t.id === validatedConfig.defaultTheme\n            );\n            if (!defaultExists) {\n                if (Log) Log.warn(\"[ThemeLoader] defaultTheme introuvable, utilisation du premier thème\");\n                validatedConfig.defaultTheme = validatedConfig.themes[0].id;\n            }\n        } else {\n            // Pas de defaultTheme défini, utiliser le premier\n            validatedConfig.defaultTheme = validatedConfig.themes[0].id;\n        }\n\n        if (Log) Log.debug(\"[ThemeLoader] Configuration validée:\", validatedConfig.themes.length, \"thèmes\");\n\n        return validatedConfig;\n    },\n\n    /**\n     * Vide le cache (pour tests ou rechargement)\n     * @param {string} [profileId] - ID du profil (optionnel, vide tout si non spécifié)\n     */\n    clearCache(profileId) {\n        if (profileId) {\n            _cache.delete(profileId);\n            _loadingPromises.delete(profileId);\n            if (Log) Log.debug(\"[ThemeLoader] Cache vidé pour:\", profileId);\n        } else {\n            _cache.clear();\n            _loadingPromises.clear();\n            if (Log) Log.debug(\"[ThemeLoader] Cache complet vidé\");\n        }\n    }\n};\n\nexport { _ThemeLoader as ThemeLoader };\n","/**\r\n * Module Theme Selector\r\n * SÃ¯Â¿Â½lecteur de thÃ¯Â¿Â½mes global (principaux + secondaires)\r\n *\r\n * DÃ¯Â¿Â½PENDANCES:\r\n * - Leaflet (L.DomUtil, L.DomEvent)\r\n * - GeoLeaf.Log (optionnel)\r\n * - GeoLeaf._ThemeLoader\r\n * - GeoLeaf._ThemeApplier\r\n * - GeoLeaf.Core.getActiveProfile()\r\n *\r\n * EXPOSE:\r\n * - GeoLeaf.ThemeSelector\r\n *\r\n * @module ThemeSelector\r\n * @public\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from \"../log/index.js\";\r\nimport { Config } from \"../config/config-primitives.js\";\r\nimport { ThemeLoader } from \"./theme-loader.js\";\r\nimport { ThemeApplierCore } from \"./theme-applier/core.js\";\r\nimport { $create } from \"../utils/dom-helpers.js\";\r\nimport { DOMSecurity } from \"../utils/dom-security.js\";\r\nimport { events } from \"../utils/event-listener-manager.js\";\r\n\r\n/**\r\n * Ã¯Â¿Â½tat du module\r\n */\r\nconst _state = {\r\n    initialized: false,\r\n    profileId: null,\r\n    config: null,\r\n    themes: [],\r\n    primaryThemes: [],\r\n    secondaryThemes: [],\r\n    currentTheme: null,\r\n    // RÃ¯Â¿Â½fÃ¯Â¿Â½rences UI\r\n    primaryContainer: null,\r\n    secondaryContainer: null,\r\n    dropdown: null,\r\n    // Event listener cleanup tracking\r\n    _eventCleanups: [],\r\n};\r\n\r\n/**\r\n * Module Theme Selector\r\n * @namespace ThemeSelector\r\n * @public\r\n */\r\nconst ThemeSelector = {\r\n    /**\r\n     * Initialise le sÃ¯Â¿Â½lecteur de thÃ¯Â¿Â½mes\r\n     * @param {Object} options - Options d'initialisation\r\n     * @param {string} options.profileId - ID du profil\r\n     * @param {HTMLElement} [options.primaryContainer] - Conteneur pour boutons principaux\r\n     * @param {HTMLElement} [options.secondaryContainer] - Conteneur pour dropdown secondaire\r\n     * @returns {Promise<void>}\r\n     */\r\n    init(options) {\r\n        if (!options || !options.profileId) {\r\n            return Promise.reject(new Error(\"profileId requis pour ThemeSelector.init\"));\r\n        }\r\n\r\n        if (Log) Log.debug(\"[ThemeSelector] Initialisation pour profil:\", options.profileId);\r\n\r\n        _state.profileId = options.profileId;\r\n        _state.primaryContainer = options.primaryContainer || null;\r\n        _state.secondaryContainer = options.secondaryContainer || null;\r\n\r\n        // Charger la configuration des thÃ¯Â¿Â½mes\r\n        return ThemeLoader.loadThemesConfig(options.profileId)\r\n            .then((themesConfig) => {\r\n                _state.config = themesConfig.config;\r\n                _state.themes = themesConfig.themes;\r\n                _state.primaryThemes = themesConfig.themes.filter((t) => t.type === \"primary\");\r\n                _state.secondaryThemes = themesConfig.themes.filter((t) => t.type === \"secondary\");\r\n                _state.currentTheme = themesConfig.defaultTheme;\r\n\r\n                if (Log)\r\n                    Log.debug(\"[ThemeSelector] Configuration chargÃ¯Â¿Â½e:\", {\r\n                        total: _state.themes.length,\r\n                        primary: _state.primaryThemes.length,\r\n                        secondary: _state.secondaryThemes.length,\r\n                    });\r\n\r\n                // CrÃ¯Â¿Â½er l'UI\r\n                this._createUI();\r\n\r\n                // Marquer comme initialisÃ¯Â¿Â½ AVANT d'appliquer le thÃ¯Â¿Â½me\r\n                _state.initialized = true;\r\n\r\n                // Appliquer le thÃ¯Â¿Â½me par dÃ¯Â¿Â½faut\r\n                return this.setTheme(_state.currentTheme);\r\n            })\r\n            .then(() => {\r\n                if (Log) Log.debug(\"[ThemeSelector] Initialisation terminÃ¯Â¿Â½e\");\r\n                // Ã¯Â¿Â½mettre l'Ã¯Â¿Â½vÃ¯Â¿Â½nement de fin de chargement des thÃ¯Â¿Â½mes\r\n                const event = new CustomEvent(\"geoleaf:themes:ready\", {\r\n                    detail: { time: Date.now() },\r\n                });\r\n                document.dispatchEvent(event);\r\n            })\r\n            .catch((err) => {\r\n                if (Log) Log.warn(\"[ThemeSelector] Erreur initialisation:\", err.message);\r\n                // Ã¯Â¿Â½mettre l'Ã¯Â¿Â½vÃ¯Â¿Â½nement mÃ¯Â¿Â½me en cas d'erreur\r\n                const event = new CustomEvent(\"geoleaf:themes:ready\", {\r\n                    detail: { time: Date.now(), error: err.message },\r\n                });\r\n                document.dispatchEvent(event);\r\n                throw err;\r\n            });\r\n    },\r\n\r\n    /**\r\n     * CrÃ¯Â¿Â½e l'interface utilisateur\r\n     * @private\r\n     */\r\n    _createUI() {\r\n        // VÃ¯Â¿Â½rifier si le sÃ¯Â¿Â½lecteur de thÃ¯Â¿Â½mes est activÃ¯Â¿Â½ globalement\r\n        const uiConfig = Config?.get?.(\"ui\") ?? null;\r\n        const showThemeSelector = uiConfig ? uiConfig.showThemeSelector === true : false;\r\n\r\n        if (!showThemeSelector) {\r\n            if (Log)\r\n                Log.debug(\"[ThemeSelector] showThemeSelector est false, UI non crÃ¯Â¿Â½Ã¯Â¿Â½e\");\r\n            return;\r\n        }\r\n\r\n        // CrÃ¯Â¿Â½er l'UI des thÃ¯Â¿Â½mes principaux\r\n        if (_state.config.primaryThemes.enabled && _state.primaryContainer) {\r\n            this._createPrimaryUI();\r\n        }\r\n\r\n        // CrÃ¯Â¿Â½er l'UI des thÃ¯Â¿Â½mes secondaires\r\n        if (_state.config.secondaryThemes.enabled && _state.secondaryContainer) {\r\n            this._createSecondaryUI();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * CrÃ¯Â¿Â½e l'UI des thÃ¯Â¿Â½mes principaux (boutons)\r\n     * @private\r\n     */\r\n    _createPrimaryUI() {\r\n        if (!_state.primaryContainer) {\r\n            return;\r\n        }\r\n\r\n        // Vider le conteneur\r\n        DOMSecurity.clearElementFast(_state.primaryContainer);\r\n\r\n        // Ajouter la classe CSS\r\n        _state.primaryContainer.classList.add(\"gl-theme-selector-primary\");\r\n\r\n        // CrÃ¯Â¿Â½er un bouton pour chaque thÃ¯Â¿Â½me principal\r\n        _state.primaryThemes.forEach((theme) => {\r\n            const btn = globalThis.L.DomUtil.create(\r\n                \"button\",\r\n                \"gl-theme-btn\",\r\n                _state.primaryContainer\r\n            );\r\n            btn.type = \"button\";\r\n            btn.dataset.themeId = theme.id;\r\n            btn.title = theme.description || theme.label;\r\n\r\n            // Contenu du bouton: icÃ¯Â¿Â½ne + label\r\n            const iconSpan = globalThis.L.DomUtil.create(\"span\", \"gl-theme-btn__icon\", btn);\r\n            iconSpan.textContent = theme.icon || \"??\";\r\n\r\n            const labelSpan = globalThis.L.DomUtil.create(\"span\", \"gl-theme-btn__label\", btn);\r\n            labelSpan.textContent = theme.label;\r\n\r\n            // Marquer le thÃ¯Â¿Â½me actif\r\n            if (theme.id === _state.currentTheme) {\r\n                btn.classList.add(\"gl-theme-btn--active\");\r\n            }\r\n\r\n            // Gestionnaire de clic\r\n            this._attachPrimaryButtonHandler(btn, theme);\r\n        });\r\n\r\n        if (Log)\r\n            Log.debug(\r\n                \"[ThemeSelector] UI primaire crÃ¯Â¿Â½Ã¯Â¿Â½e:\",\r\n                _state.primaryThemes.length,\r\n                \"boutons\"\r\n            );\r\n    },\r\n\r\n    /**\r\n     * Attache le gestionnaire de clic sur un bouton de thÃ¯Â¿Â½me principal\r\n     * @param {HTMLElement} btn - Bouton\r\n     * @param {Object} theme - Configuration du thÃ¯Â¿Â½me\r\n     * @private\r\n     */\r\n    _attachPrimaryButtonHandler(btn, theme) {\r\n        const onClick = (ev) => {\r\n            if (globalThis.L && globalThis.L.DomEvent) {\r\n                globalThis.L.DomEvent.stopPropagation(ev);\r\n            }\r\n            ev.preventDefault();\r\n\r\n            this.setTheme(theme.id);\r\n        };\r\n\r\n        if (globalThis.L && globalThis.L.DomEvent) {\r\n            globalThis.L.DomEvent.on(btn, \"click\", onClick);\r\n            globalThis.L.DomEvent.disableClickPropagation(btn);\r\n            // Store cleanup for L.DomEvent.off\r\n            _state._eventCleanups.push(() => {\r\n                if (globalThis.L && globalThis.L.DomEvent) {\r\n                    globalThis.L.DomEvent.off(btn, \"click\", onClick);\r\n                }\r\n            });\r\n        } else if (events) {\r\n            _state._eventCleanups.push(\r\n                events.on(btn, \"click\", onClick, false, \"ThemeSelector.primaryButton\")\r\n            );\r\n        } else {\r\n            btn.addEventListener(\"click\", onClick);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * CrÃ¯Â¿Â½e l'UI des thÃ¯Â¿Â½mes secondaires (dropdown + boutons prev/next)\r\n     * @private\r\n     */\r\n    _createSecondaryUI() {\r\n        if (!_state.secondaryContainer) {\r\n            if (Log) Log.warn(\"[ThemeSelector] Conteneur secondaire introuvable\");\r\n            return;\r\n        }\r\n\r\n        if (Log)\r\n            Log.debug(\r\n                \"[ThemeSelector] CrÃ¯Â¿Â½ation UI secondaire:\",\r\n                _state.secondaryThemes.length,\r\n                \"thÃ¯Â¿Â½mes\"\r\n            );\r\n        if (Log)\r\n            Log.debug(\r\n                \"[ThemeSelector] IDs des thÃ¯Â¿Â½mes secondaires:\",\r\n                _state.secondaryThemes.map((t) => t.id)\r\n            );\r\n\r\n        // Vider le conteneur\r\n        DOMSecurity.clearElementFast(_state.secondaryContainer);\r\n\r\n        // Ajouter la classe CSS\r\n        _state.secondaryContainer.classList.add(\"gl-theme-selector-secondary\");\r\n\r\n        // CrÃ¯Â¿Â½er le wrapper\r\n        const wrapper = globalThis.L.DomUtil.create(\r\n            \"div\",\r\n            \"gl-theme-selector-secondary__wrapper\",\r\n            _state.secondaryContainer\r\n        );\r\n\r\n        // Bouton prÃ¯Â¿Â½cÃ¯Â¿Â½dent (si activÃ¯Â¿Â½)\r\n        if (_state.config.secondaryThemes.showNavigationButtons) {\r\n            const prevBtn = globalThis.L.DomUtil.create(\r\n                \"button\",\r\n                \"gl-theme-nav gl-theme-nav--prev\",\r\n                wrapper\r\n            );\r\n            prevBtn.type = \"button\";\r\n            prevBtn.textContent = \"\\u276E\";\r\n            prevBtn.title = \"ThÃ¯Â¿Â½me prÃ¯Â¿Â½cÃ¯Â¿Â½dent\";\r\n            this._attachNavButtonHandler(prevBtn, \"prev\");\r\n        }\r\n\r\n        // Dropdown\r\n        const select = globalThis.L.DomUtil.create(\"select\", \"gl-theme-dropdown\", wrapper);\r\n        _state.dropdown = select;\r\n\r\n        // Option placeholder\r\n        const placeholder = $create(\"option\", {\r\n            value: \"\",\r\n            textContent: _state.config.secondaryThemes.placeholder,\r\n            disabled: true,\r\n        });\r\n        select.appendChild(placeholder);\r\n\r\n        // Options pour les thÃ¯Â¿Â½mes secondaires\r\n        _state.secondaryThemes.forEach((theme) => {\r\n            const opt = $create(\"option\", {\r\n                value: theme.id,\r\n                textContent: theme.label,\r\n            });\r\n            select.appendChild(opt);\r\n        });\r\n\r\n        // SÃ¯Â¿Â½lectionner le thÃ¯Â¿Â½me actif si c'est un thÃ¯Â¿Â½me secondaire\r\n        const currentIsSecondary = _state.secondaryThemes.some((t) => t.id === _state.currentTheme);\r\n        if (currentIsSecondary) {\r\n            select.value = _state.currentTheme;\r\n        } else {\r\n            select.value = \"\";\r\n        }\r\n\r\n        // Gestionnaire de changement\r\n        this._attachDropdownHandler(select);\r\n\r\n        // Bouton suivant (si activÃ¯Â¿Â½)\r\n        if (_state.config.secondaryThemes.showNavigationButtons) {\r\n            const nextBtn = globalThis.L.DomUtil.create(\r\n                \"button\",\r\n                \"gl-theme-nav gl-theme-nav--next\",\r\n                wrapper\r\n            );\r\n            nextBtn.type = \"button\";\r\n            nextBtn.textContent = \"\\u276F\";\r\n            nextBtn.title = \"ThÃ¯Â¿Â½me suivant\";\r\n            this._attachNavButtonHandler(nextBtn, \"next\");\r\n        }\r\n\r\n        if (Log)\r\n            Log.debug(\r\n                \"[ThemeSelector] UI secondaire crÃ¯Â¿Â½Ã¯Â¿Â½e:\",\r\n                _state.secondaryThemes.length,\r\n                \"thÃ¯Â¿Â½mes\"\r\n            );\r\n    },\r\n\r\n    /**\r\n     * Attache le gestionnaire de changement sur le dropdown\r\n     * @param {HTMLSelectElement} select - Dropdown\r\n     * @private\r\n     */\r\n    _attachDropdownHandler(select) {\r\n        const onChange = (ev) => {\r\n            if (globalThis.L && globalThis.L.DomEvent) {\r\n                globalThis.L.DomEvent.stopPropagation(ev);\r\n            }\r\n\r\n            const themeId = select.value;\r\n            if (Log) Log.info(`[ThemeSelector] Dropdown changÃ¯Â¿Â½: ${themeId}`);\r\n\r\n            if (themeId) {\r\n                this.setTheme(themeId);\r\n            } else {\r\n                if (Log) Log.warn(\"[ThemeSelector] Dropdown: themeId vide\");\r\n            }\r\n        };\r\n\r\n        if (globalThis.L && globalThis.L.DomEvent) {\r\n            globalThis.L.DomEvent.on(select, \"change\", onChange);\r\n            globalThis.L.DomEvent.disableClickPropagation(select);\r\n            // Store cleanup for L.DomEvent.off\r\n            _state._eventCleanups.push(() => {\r\n                if (globalThis.L && globalThis.L.DomEvent) {\r\n                    globalThis.L.DomEvent.off(select, \"change\", onChange);\r\n                }\r\n            });\r\n        } else if (events) {\r\n            _state._eventCleanups.push(\r\n                events.on(select, \"change\", onChange, false, \"ThemeSelector.dropdown\")\r\n            );\r\n        } else {\r\n            select.addEventListener(\"change\", onChange);\r\n        }\r\n\r\n        if (Log) Log.debug(\"[ThemeSelector] Gestionnaire dropdown attachÃ¯Â¿Â½\");\r\n    },\r\n\r\n    /**\r\n     * Attache le gestionnaire sur un bouton de navigation (prev/next)\r\n     * @param {HTMLElement} btn - Bouton\r\n     * @param {string} direction - \"prev\" | \"next\"\r\n     * @private\r\n     */\r\n    _attachNavButtonHandler(btn, direction) {\r\n        const onClick = (ev) => {\r\n            if (globalThis.L && globalThis.L.DomEvent) {\r\n                globalThis.L.DomEvent.stopPropagation(ev);\r\n            }\r\n            ev.preventDefault();\r\n\r\n            if (direction === \"next\") {\r\n                this.nextTheme();\r\n            } else {\r\n                this.previousTheme();\r\n            }\r\n        };\r\n\r\n        if (globalThis.L && globalThis.L.DomEvent) {\r\n            globalThis.L.DomEvent.on(btn, \"click\", onClick);\r\n            globalThis.L.DomEvent.disableClickPropagation(btn);\r\n            // Store cleanup for L.DomEvent.off\r\n            _state._eventCleanups.push(() => {\r\n                if (globalThis.L && globalThis.L.DomEvent) {\r\n                    globalThis.L.DomEvent.off(btn, \"click\", onClick);\r\n                }\r\n            });\r\n        } else if (events) {\r\n            _state._eventCleanups.push(\r\n                events.on(btn, \"click\", onClick, false, \"ThemeSelector.navButton\")\r\n            );\r\n        } else {\r\n            btn.addEventListener(\"click\", onClick);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Active un thÃ¯Â¿Â½me par son ID\r\n     * @param {string} themeId - ID du thÃ¯Â¿Â½me\r\n     * @returns {Promise<void>}\r\n     */\r\n    setTheme(themeId) {\r\n        if (!_state.initialized) {\r\n            return Promise.reject(new Error(\"ThemeSelector non initialisÃ¯Â¿Â½\"));\r\n        }\r\n\r\n        const theme = _state.themes.find((t) => t.id === themeId);\r\n        if (!theme) {\r\n            return Promise.reject(new Error(`ThÃ¯Â¿Â½me introuvable: ${themeId}`));\r\n        }\r\n\r\n        if (Log) Log.debug(\"[ThemeSelector] setTheme:\", themeId);\r\n\r\n        // Appliquer le thÃ¯Â¿Â½me\r\n        return ThemeApplierCore.applyTheme(theme)\r\n            .then(() => {\r\n                _state.currentTheme = themeId;\r\n\r\n                // Mettre Ã¯Â¿Â½ jour l'UI\r\n                this._updateUIState(themeId);\r\n\r\n                if (Log) Log.debug(\"[ThemeSelector] ThÃ¯Â¿Â½me activÃ¯Â¿Â½:\", themeId);\r\n            })\r\n            .catch((err) => {\r\n                if (Log) Log.warn(\"[ThemeSelector] Erreur activation thÃ¯Â¿Â½me:\", err.message);\r\n                throw err;\r\n            });\r\n    },\r\n\r\n    /**\r\n     * Met Ã¯Â¿Â½ jour l'Ã¯Â¿Â½tat visuel de l'UI aprÃ¯Â¿Â½s un changement de thÃ¯Â¿Â½me\r\n     * @param {string} themeId - ID du thÃ¯Â¿Â½me actif\r\n     * @private\r\n     */\r\n    _updateUIState(themeId) {\r\n        // Mettre Ã¯Â¿Â½ jour les boutons principaux\r\n        if (_state.primaryContainer) {\r\n            const buttons = _state.primaryContainer.querySelectorAll(\".gl-theme-btn\");\r\n            buttons.forEach((btn) => {\r\n                if (btn.dataset.themeId === themeId) {\r\n                    btn.classList.add(\"gl-theme-btn--active\");\r\n                } else {\r\n                    btn.classList.remove(\"gl-theme-btn--active\");\r\n                }\r\n            });\r\n        }\r\n\r\n        // Mettre Ã¯Â¿Â½ jour le dropdown\r\n        if (_state.dropdown) {\r\n            const isSecondary = _state.secondaryThemes.some((t) => t.id === themeId);\r\n            if (isSecondary) {\r\n                _state.dropdown.value = themeId;\r\n            } else {\r\n                _state.dropdown.value = \"\";\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Active le thÃ¯Â¿Â½me secondaire suivant\r\n     */\r\n    nextTheme() {\r\n        if (!_state.initialized || _state.secondaryThemes.length === 0) {\r\n            return;\r\n        }\r\n\r\n        const currentIsSecondary = _state.secondaryThemes.some((t) => t.id === _state.currentTheme);\r\n        let nextIndex = 0;\r\n\r\n        if (currentIsSecondary) {\r\n            const currentIndex = _state.secondaryThemes.findIndex(\r\n                (t) => t.id === _state.currentTheme\r\n            );\r\n            nextIndex = (currentIndex + 1) % _state.secondaryThemes.length;\r\n        }\r\n\r\n        const nextTheme = _state.secondaryThemes[nextIndex];\r\n        if (nextTheme) {\r\n            this.setTheme(nextTheme.id);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Active le thÃ¯Â¿Â½me secondaire prÃ¯Â¿Â½cÃ¯Â¿Â½dent\r\n     */\r\n    previousTheme() {\r\n        if (!_state.initialized || _state.secondaryThemes.length === 0) {\r\n            return;\r\n        }\r\n\r\n        const currentIsSecondary = _state.secondaryThemes.some((t) => t.id === _state.currentTheme);\r\n        let prevIndex = _state.secondaryThemes.length - 1;\r\n\r\n        if (currentIsSecondary) {\r\n            const currentIndex = _state.secondaryThemes.findIndex(\r\n                (t) => t.id === _state.currentTheme\r\n            );\r\n            prevIndex =\r\n                (currentIndex - 1 + _state.secondaryThemes.length) % _state.secondaryThemes.length;\r\n        }\r\n\r\n        const prevTheme = _state.secondaryThemes[prevIndex];\r\n        if (prevTheme) {\r\n            this.setTheme(prevTheme.id);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * RÃ¯Â¿Â½cupÃ¯Â¿Â½re le thÃ¯Â¿Â½me actuellement actif\r\n     * @returns {string|null}\r\n     */\r\n    getCurrentTheme() {\r\n        return _state.currentTheme;\r\n    },\r\n\r\n    /**\r\n     * RÃ¯Â¿Â½cupÃ¯Â¿Â½re tous les thÃ¯Â¿Â½mes\r\n     * @returns {Array}\r\n     */\r\n    getThemes() {\r\n        return _state.themes;\r\n    },\r\n\r\n    /**\r\n     * RÃ¯Â¿Â½cupÃ¯Â¿Â½re les thÃ¯Â¿Â½mes principaux\r\n     * @returns {Array}\r\n     */\r\n    getPrimaryThemes() {\r\n        return _state.primaryThemes;\r\n    },\r\n\r\n    /**\r\n     * RÃ¯Â¿Â½cupÃ¯Â¿Â½re les thÃ¯Â¿Â½mes secondaires\r\n     * @returns {Array}\r\n     */\r\n    getSecondaryThemes() {\r\n        return _state.secondaryThemes;\r\n    },\r\n\r\n    /**\r\n     * VÃ¯Â¿Â½rifie si le module est initialisÃ¯Â¿Â½\r\n     * @returns {boolean}\r\n     */\r\n    isInitialized() {\r\n        return _state.initialized;\r\n    },\r\n\r\n    /**\r\n     * Cleanup method for event listeners\r\n     * Call this when destroying the theme selector\r\n     */\r\n    destroy() {\r\n        if (Log) Log.debug(\"[ThemeSelector] Cleaning up event listeners\");\r\n\r\n        if (_state._eventCleanups) {\r\n            _state._eventCleanups.forEach((cleanup) => {\r\n                if (typeof cleanup === \"function\") {\r\n                    cleanup();\r\n                }\r\n            });\r\n            _state._eventCleanups = [];\r\n        }\r\n\r\n        _state.initialized = false;\r\n    },\r\n};\r\n\r\nexport { ThemeSelector };\r\n","/**\r\n * GeoLeaf Theme Applier - Deferred\r\n * Chargement différé de couches, résolution de profil, gestion du cache\r\n *\r\n * @module themes/theme-applier/deferred\r\n */\r\n\"use strict\";\r\n\r\nimport { ThemeApplierCore as TA } from \"../theme-applier/core.js\";\r\nimport { Config } from \"../../config/config-primitives.js\";\r\nimport { GeoJSONShared } from \"../../shared/geojson-state.js\";\r\nimport { LoaderSingleLayer } from \"../../geojson/loader/single-layer.js\";\r\nimport { ThemeCache } from '../theme-cache.js';\r\nimport { Log } from \"../../log/index.js\";\r\n\r\n/**\r\n * Programme l'application d'une configuration de couche pour plus tard\r\n * @param {string} layerId - ID de la couche\r\n * @param {boolean} visible - Visibilité souhaitée\r\n * @param {string} styleId - ID du style à appliquer\r\n * @returns {Promise<void>}\r\n * @private\r\n */\r\nTA._scheduleLayerConfig = function (layerId, visible, styleId) {\r\n    if (!TA._pendingLayerConfigs) {\r\n        TA._pendingLayerConfigs = new Map();\r\n    }\r\n\r\n    TA._pendingLayerConfigs.set(layerId, { visible, styleId });\r\n\r\n    // Programmer une vérification périodique\r\n    TA._schedulePendingCheck();\r\n\r\n    return Promise.resolve();\r\n};\r\n\r\n/**\r\n * Planifie une vérification des couches en attente\r\n * @private\r\n */\r\nTA._schedulePendingCheck = function () {\r\n    if (TA._pendingCheckTimer) {\r\n        return; // Déjà planifié\r\n    }\r\n\r\n    TA._pendingCheckTimer = setTimeout(() => {\r\n        TA._checkPendingLayerConfigs();\r\n        TA._pendingCheckTimer = null;\r\n    }, 1000);\r\n};\r\n\r\n/**\r\n * Vérifie et applique les configurations de couches en attente\r\n * @private\r\n */\r\nTA._checkPendingLayerConfigs = function () {\r\n    if (!TA._pendingLayerConfigs || TA._pendingLayerConfigs.size === 0) {\r\n        return;\r\n    }\r\n\r\n    const appliedLayers = [];\r\n\r\n    for (const [layerId, config] of TA._pendingLayerConfigs) {\r\n        const layerData = GeoJSONShared.state.layers?.get(layerId);\r\n        if (layerData) {\r\n            TA._setLayerVisibilityAndStyle(layerId, config.visible, config.styleId);\r\n            appliedLayers.push(layerId);\r\n        }\r\n    }\r\n\r\n    // Supprimer les couches traitées\r\n    appliedLayers.forEach((layerId) => {\r\n        TA._pendingLayerConfigs.delete(layerId);\r\n    });\r\n\r\n    // S'il reste des couches en attente, programmer une nouvelle vérification\r\n    if (TA._pendingLayerConfigs.size > 0) {\r\n        TA._schedulePendingCheck();\r\n    }\r\n};\r\n\r\n/**\r\n * Charge une couche depuis le profil actif (avec tolérance aux erreurs)\r\n * @param {string} layerId - ID de la couche à charger\r\n * @returns {Promise<Object|null>} - Couche chargée ou null si erreur\r\n * @private\r\n */\r\nTA._loadLayerFromProfile = async function (layerId) {\r\n    if (!Config || typeof Config.getActiveProfile !== \"function\") {\r\n        return null;\r\n    }\r\n\r\n    try {\r\n        const activeProfile = Config.getActiveProfile();\r\n\r\n        if (!activeProfile || typeof activeProfile !== \"object\") {\r\n            return null;\r\n        }\r\n\r\n        const profileId = activeProfile.id || null;\r\n\r\n        // Get layers config from profile\r\n        let profileLayersConfig = [];\r\n        if (Array.isArray(activeProfile.geojsonLayers)) {\r\n            profileLayersConfig = activeProfile.geojsonLayers;\r\n        } else if (activeProfile.geojson && Array.isArray(activeProfile.geojson.layers)) {\r\n            profileLayersConfig = activeProfile.geojson.layers;\r\n        } else if (Array.isArray(activeProfile.layers)) {\r\n            profileLayersConfig = activeProfile.layers;\r\n        } else if (Array.isArray(activeProfile.Layers)) {\r\n            profileLayersConfig = activeProfile.Layers;\r\n        }\r\n\r\n        if (!Array.isArray(profileLayersConfig) || profileLayersConfig.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        const layerConfig = profileLayersConfig.find((config) => config.id === layerId);\r\n\r\n        if (!layerConfig) {\r\n            return null;\r\n        }\r\n\r\n        const dataUrl = TA._resolveDataFilePath(layerConfig);\r\n\r\n        if (!dataUrl) {\r\n            return null;\r\n        }\r\n\r\n        const layerLabel = layerConfig.label || layerId;\r\n        const baseOptions = {};\r\n\r\n        const loader = LoaderSingleLayer._loadSingleLayer;\r\n\r\n        if (!loader) {\r\n            return null;\r\n        }\r\n\r\n        // Tentative cache avant réseau\r\n        let cachedData = null;\r\n        if (ThemeCache?.get) {\r\n            cachedData = await ThemeCache.get(layerId, profileId);\r\n        }\r\n\r\n        // Transmettre TOUTE la configuration de la couche\r\n        const layerDef = {\r\n            ...layerConfig,\r\n            url: dataUrl,\r\n            type: layerConfig.geometryType || layerConfig.type || \"geojson\",\r\n            _profileId: profileId,\r\n            _layerDirectory: layerConfig._layerDirectory,\r\n        };\r\n\r\n        // Normaliser les champs popup/tooltip/sidepanel\r\n        const normalizedDef = { ...layerDef };\r\n\r\n        if (layerDef.popup && layerDef.popup.fields) {\r\n            normalizedDef.popupFields = layerDef.popup.fields;\r\n        }\r\n\r\n        if (layerDef.tooltip && layerDef.tooltip.fields) {\r\n            normalizedDef.tooltipFields = layerDef.tooltip.fields;\r\n        }\r\n\r\n        if (layerDef.sidepanel && layerDef.sidepanel.detailLayout) {\r\n            normalizedDef.sidepanelFields = layerDef.sidepanel.detailLayout;\r\n        }\r\n\r\n        // Normaliser clustering (objet → booléen + champs top-level)\r\n        // Alignement avec la normalisation faite dans profile.js loadFromActiveProfile\r\n        if (layerDef.clustering && typeof layerDef.clustering === \"object\") {\r\n            normalizedDef.clustering = layerDef.clustering.enabled !== false;\r\n            if (typeof layerDef.clustering.maxClusterRadius === \"number\") {\r\n                normalizedDef.maxClusterRadius = layerDef.clustering.maxClusterRadius;\r\n                normalizedDef.clusterRadius = layerDef.clustering.maxClusterRadius;\r\n            }\r\n            if (typeof layerDef.clustering.disableClusteringAtZoom === \"number\") {\r\n                normalizedDef.disableClusteringAtZoom = layerDef.clustering.disableClusteringAtZoom;\r\n            }\r\n        }\r\n\r\n        if (cachedData) {\r\n            normalizedDef._cachedData = cachedData;\r\n        }\r\n\r\n        try {\r\n            const layer = await loader.call(\r\n                LoaderSingleLayer,\r\n                layerId,\r\n                layerLabel,\r\n                normalizedDef,\r\n                baseOptions\r\n            );\r\n            // Rafraîchir le cache pour prolonger la durée de vie\r\n            if (cachedData && ThemeCache?.store) {\r\n                ThemeCache.store(layerId, profileId, cachedData);\r\n            }\r\n            return layer;\r\n        } catch (err) {\r\n            if (Log) Log.warn(`[ThemeApplier._loadLayerFromProfile] Erreur chargement couche \"${layerId}\":`, err && err.message);\r\n            return null;\r\n        }\r\n    } catch (error) {\r\n        if (Log) Log.warn(`[ThemeApplier._loadLayerFromProfile] Erreur inattendue pour \"${layerId}\":`, error && error.message);\r\n        return null;\r\n    }\r\n};\r\n\r\n/**\r\n * Résout le chemin du fichier de données d'une couche\r\n * @param {Object} layerConfig - Configuration de la couche\r\n * @returns {string|null} - URL complète du fichier de données\r\n * @private\r\n */\r\nTA._resolveDataFilePath = function (layerConfig) {\r\n    if (!layerConfig.dataFile || !layerConfig._layerDirectory) {\r\n        return null;\r\n    }\r\n\r\n    if (!Config || !Config.getActiveProfile) {\r\n        return null;\r\n    }\r\n\r\n    const activeProfile = Config.getActiveProfile();\r\n    if (!activeProfile) {\r\n        return null;\r\n    }\r\n\r\n    const profileId = activeProfile.id;\r\n    const profileBasePath = TA._getProfilesBasePath(activeProfile);\r\n\r\n    return `${profileBasePath}/${profileId}/${layerConfig._layerDirectory}/${layerConfig.dataFile}`;\r\n};\r\n\r\n/**\r\n * Résout le chemin de base des profils\r\n * @private\r\n */\r\nTA._getProfilesBasePath = function (activeProfile) {\r\n    const configured = Config?.get?.(\"data.profilesBasePath\");\r\n\r\n    if (typeof configured === \"string\" && configured.trim().length > 0) {\r\n        return TA._normalizeBasePath(configured);\r\n    }\r\n\r\n    if (activeProfile && typeof activeProfile.profilesBasePath === \"string\") {\r\n        return TA._normalizeBasePath(activeProfile.profilesBasePath);\r\n    }\r\n\r\n    return \"profiles\";\r\n};\r\n\r\n/**\r\n * Normalise un chemin (trim + supprime le / final)\r\n * @private\r\n */\r\nTA._normalizeBasePath = function (path) {\r\n    const trimmed = path.trim();\r\n    return trimmed.endsWith(\"/\") ? trimmed.slice(0, -1) : trimmed;\r\n};\r\n\r\nexport { TA as ThemeApplierDeferred };\r\n","/** GeoLeaf Route API - implementation deplacee depuis geoleaf.route.js */\r\n/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n\"use strict\";\r\n\r\nimport { Log } from \"../log/index.js\";\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n_g.GeoLeaf = _g.GeoLeaf || {};\r\nimport { RouteLoaders } from \"./loaders.js\";\r\nimport { RouteStyleResolver } from \"./style-resolver.js\";\r\nimport { RoutePopupBuilder } from \"./popup-builder.js\";\r\nimport { RouteLayerManager } from \"./layer-manager.js\";\r\n\r\n/**\r\n * Namespace global GeoLeaf\r\n */\r\n\r\n/**\r\n * Logger unifié (défini par geoleaf.log.js / logger-shim)\r\n */\r\n\r\n/**\r\n * Module GeoLeaf.Route\r\n * - Charge et affiche des itinéraires (GPX, GeoJSON, profils GeoLeaf)\r\n * - Gère une couche dédiée (polyline + points éventuels)\r\n * - Offre une API de visibilité pour la Légende (getLayer)\r\n * - Prend en compte les styles et les points départ/arrivée définis\r\n *   dans le profil actif (profile.json).\r\n */\r\nconst RouteModule = {\r\n    _map: null,\r\n    _layerGroup: null,\r\n    _routeLayer: null,\r\n\r\n    _initialized: false,\r\n    _visible: true,\r\n\r\n    /**\r\n     * Options par défaut\r\n     */\r\n    _options: {\r\n        lineStyle: {\r\n            color: \"#1E88E5\",\r\n            weight: 4,\r\n            opacity: 0.9,\r\n            interactive: false,\r\n        },\r\n        waypointStyle: {\r\n            radius: 5,\r\n            color: \"#0D47A1\",\r\n            fillColor: \"#42A5F5\",\r\n            fillOpacity: 0.9,\r\n            weight: 2,\r\n        },\r\n        // Affichage des points de départ / arrivée\r\n        showStart: true,\r\n        showEnd: true,\r\n        startWaypointStyle: null, // si null => waypointStyle\r\n        endWaypointStyle: null, // si null => waypointStyle\r\n\r\n        fitBoundsOnLoad: true,\r\n        maxZoomOnFit: 14,\r\n    },\r\n\r\n    /**\r\n     * Valide les options passées à init()\r\n     * @param {Object} options\r\n     * @private\r\n     */\r\n    _validateOptions(options) {\r\n        if (options.map && typeof options.map.addLayer !== \"function\") {\r\n            Log.warn(\"[GeoLeaf.Route] options.map ne semble pas être une carte Leaflet valide.\");\r\n        }\r\n\r\n        if (options.lineStyle && typeof options.lineStyle !== \"object\") {\r\n            Log.warn(\"[GeoLeaf.Route] options.lineStyle doit être un objet.\");\r\n            delete options.lineStyle;\r\n        }\r\n\r\n        if (options.waypointStyle && typeof options.waypointStyle !== \"object\") {\r\n            Log.warn(\"[GeoLeaf.Route] options.waypointStyle doit être un objet.\");\r\n            delete options.waypointStyle;\r\n        }\r\n\r\n        if (\r\n            options.maxZoomOnFit !== undefined &&\r\n            (typeof options.maxZoomOnFit !== \"number\" ||\r\n                options.maxZoomOnFit < 1 ||\r\n                options.maxZoomOnFit > 20)\r\n        ) {\r\n            Log.warn(\"[GeoLeaf.Route] options.maxZoomOnFit doit être entre 1 et 20.\");\r\n            options.maxZoomOnFit = 14;\r\n        }\r\n\r\n        return options;\r\n    },\r\n\r\n    /**\r\n     * Retourne le layerGroup contenant les itinéraires\r\n     * (utilisé par la Légende pour afficher/masquer la couche)\r\n     * @returns {L.LayerGroup|null}\r\n     */\r\n    getLayer() {\r\n        return this._layerGroup || null;\r\n    },\r\n\r\n    /**\r\n     * Initialisation du module Route\r\n     * @param {Object} options\r\n     * @param {L.Map} [options.map] - Carte Leaflet\r\n     * @returns {L.LayerGroup|null}\r\n     */\r\n    init(options = {}) {\r\n        options = this._validateOptions(options);\r\n\r\n        if (typeof _g.L === \"undefined\") {\r\n            Log.error(\"[GeoLeaf.Route] Leaflet introuvable.\");\r\n            return null;\r\n        }\r\n\r\n        // Utilise un helper commun si disponible\r\n        let map = options.map || null;\r\n        if (!map && _g.GeoLeaf.Core && typeof _g.GeoLeaf.Core.getMap === \"function\") {\r\n            map = _g.GeoLeaf.Core.getMap();\r\n        }\r\n        if (_g.GeoLeaf.Utils && typeof _g.GeoLeaf.Utils.ensureMap === \"function\") {\r\n            map = _g.GeoLeaf.Utils.ensureMap(map);\r\n        }\r\n\r\n        if (!map) {\r\n            Log.error(\"[GeoLeaf.Route] Aucune carte disponible pour init().\");\r\n            return null;\r\n        }\r\n\r\n        this._map = map;\r\n\r\n        // Fusion des options\r\n        if (_g.GeoLeaf.Utils && typeof _g.GeoLeaf.Utils.mergeOptions === \"function\") {\r\n            this._options = _g.GeoLeaf.Utils.mergeOptions(this._options, options);\r\n        } else {\r\n            this._options = Object.assign({}, this._options, options);\r\n        }\r\n\r\n        // Applique le paramètre interactiveShapes de la config\r\n        const interactiveShapes = _g.GeoLeaf.Config.get(\"ui.interactiveShapes\", false);\r\n        if (this._options.lineStyle) {\r\n            this._options.lineStyle.interactive = interactiveShapes;\r\n        }\r\n\r\n        this._layerGroup = _g.L.layerGroup().addTo(this._map);\r\n        this._routeLayer = _g.L.polyline([], this._options.lineStyle).addTo(this._layerGroup);\r\n\r\n        this._initialized = true;\r\n        this._visible = true;\r\n\r\n        return this._layerGroup;\r\n    },\r\n\r\n    /**\r\n     * Indique si le module est initialisé.\r\n     * @returns {boolean}\r\n     */\r\n    isInitialized() {\r\n        return this._initialized === true && !!this._map && !!this._layerGroup;\r\n    },\r\n\r\n    /**\r\n     * Indique si la couche d'itinéraires est actuellement visible.\r\n     * @returns {boolean}\r\n     */\r\n    isVisible() {\r\n        return this._visible === true;\r\n    },\r\n\r\n    /**\r\n     * Affiche la couche d'itinéraires.\r\n     */\r\n    show() {\r\n        if (!this._map || !this._layerGroup) return;\r\n        if (!this._map.hasLayer(this._layerGroup)) {\r\n            this._layerGroup.addTo(this._map);\r\n        }\r\n        this._visible = true;\r\n    },\r\n\r\n    /**\r\n     * Masque la couche d'itinéraires.\r\n     */\r\n    hide() {\r\n        if (!this._map || !this._layerGroup) return;\r\n        if (this._map.hasLayer(this._layerGroup)) {\r\n            this._map.removeLayer(this._layerGroup);\r\n        }\r\n        this._visible = false;\r\n    },\r\n\r\n    /**\r\n     * Bascule la visibilité (utile éventuellement en dehors de la Légende).\r\n     */\r\n    toggleVisibility() {\r\n        if (!this.isInitialized()) {\r\n            Log.warn(\"[GeoLeaf.Route] toggleVisibility() appelé sans init().\");\r\n            return;\r\n        }\r\n        if (this.isVisible()) {\r\n            this.hide();\r\n        } else {\r\n            this.show();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Vider tous les itinéraires de la couche\r\n     */\r\n    clear() {\r\n        if (this._layerGroup) {\r\n            this._layerGroup.clearLayers();\r\n        }\r\n        if (this._map && this._layerGroup) {\r\n            this._routeLayer = _g.L.polyline([], this._options.lineStyle).addTo(this._layerGroup);\r\n        } else {\r\n            this._routeLayer = null;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Charger un fichier GPX (via fetch)\r\n     * @param {string} url\r\n     * @returns {Promise<void>}\r\n     */\r\n    loadGPX(url) {\r\n        if (!url) {\r\n            Log.warn(\"[GeoLeaf.Route] URL GPX manquante.\");\r\n            return Promise.resolve();\r\n        }\r\n\r\n        // Sprint 3.3: Use unified FetchHelper with timeout for GPX loading\r\n        const FetchHelper = _g.GeoLeaf.Utils?.FetchHelper;\r\n\r\n        if (FetchHelper) {\r\n            return FetchHelper.fetch(url, {\r\n                timeout: 15000, // GPX files can be larger, allow more time\r\n                retries: 2,\r\n                parseResponse: false, // We need raw text\r\n            })\r\n                .then((response) => response.text())\r\n                .then((xmlText) => new DOMParser().parseFromString(xmlText, \"application/xml\"))\r\n                .then((gpx) => {\r\n                    const coords = Array.from(gpx.getElementsByTagName(\"trkpt\")).map((pt) => [\r\n                        parseFloat(pt.getAttribute(\"lat\") || \"0\"),\r\n                        parseFloat(pt.getAttribute(\"lon\") || \"0\"),\r\n                    ]);\r\n                    this._applyRoute(coords);\r\n                })\r\n                .catch((err) => Log.error(\"[GeoLeaf.Route] Erreur GPX :\", err));\r\n        }\r\n\r\n        // Fallback to raw fetch\r\n        return fetch(url)\r\n            .then((res) => res.text())\r\n            .then((xmlText) => new DOMParser().parseFromString(xmlText, \"application/xml\"))\r\n            .then((gpx) => {\r\n                const coords = Array.from(gpx.getElementsByTagName(\"trkpt\")).map((pt) => [\r\n                    parseFloat(pt.getAttribute(\"lat\") || \"0\"),\r\n                    parseFloat(pt.getAttribute(\"lon\") || \"0\"),\r\n                ]);\r\n                this._applyRoute(coords);\r\n            })\r\n            .catch((err) => Log.error(\"[GeoLeaf.Route] Erreur GPX :\", err));\r\n    },\r\n\r\n    /**\r\n     * Charger un itinéraire GeoJSON (LineString)\r\n     * @param {Object} geojson\r\n     */\r\n    loadGeoJSON(geojson) {\r\n        RouteLoaders.loadGeoJSON(geojson, this._applyRoute.bind(this));\r\n    },\r\n\r\n    /**\r\n     * Charge un tableau d’itinéraires déjà normalisés depuis cfg.routes\r\n     * (profil GeoLeaf) et les dessine sur la carte.\r\n     *\r\n     * Format attendu pour chaque item :\r\n     * {\r\n     *   id: \"route-id\",\r\n     *   label: \"Nom\",\r\n     *   type: \"walking\" | \"trekking\" | ... (optionnel)\r\n     *   geometry: [ [lat, lng], ... ]  // OU GeoJSON LineString\r\n     *   properties: {\r\n     *     type?: \"walking\" | \"trekking\" | ...,\r\n     *     color?: \"#hex\",\r\n     *     weight?: number,\r\n     *     opacity?: number,\r\n     *     dashArray?: string,\r\n     *     showStart?: boolean,\r\n     *     showEnd?: boolean,\r\n     *     startStyle?: {...},\r\n     *     endStyle?: {...},\r\n     *     ...\r\n     *   }\r\n     * }\r\n     *\r\n     * Les styles et endpoints par défaut peuvent être définis\r\n     * dans le profil actif (profile.json) :\r\n     *\r\n     * \"defaultSettings\": {\r\n     *   \"routeConfig\": {\r\n     *     \"default\": { \"color\": \"#ff6600\", \"weight\": 4, \"opacity\": 0.9 },\r\n     *     \"endpoints\": {\r\n     *       \"showStart\": true,\r\n     *       \"showEnd\": true,\r\n     *       \"start\": { \"radius\": 6, \"color\": \"#ffffff\", \"fillColor\": \"#2b7cff\" },\r\n     *       \"end\":   { \"radius\": 6, \"color\": \"#ffffff\", \"fillColor\": \"#ff7b32\" }\r\n     *     }\r\n     *   }\r\n     * }\r\n     *\r\n     * La couleur des routes est déterminée par priorité :\r\n     * 1. colorRoute de la sous-catégorie (taxonomy.categories[cat].subcategories[subcat].colorRoute)\r\n     * 2. colorRoute de la catégorie (taxonomy.categories[cat].colorRoute)\r\n     * 3. defaultSettings.routeConfig.default.color\r\n     *\r\n     * @param {Array} routes\r\n     */\r\n    loadFromConfig(routes) {\r\n        if (!this.isInitialized()) {\r\n            Log.warn(\r\n                \"[GeoLeaf.Route] loadFromConfig() appelé alors que le module n'est pas initialisé.\"\r\n            );\r\n            return;\r\n        }\r\n\r\n        if (!Array.isArray(routes) || routes.length === 0) {\r\n            this.clear();\r\n            Log.info(\"[GeoLeaf.Route] Aucun itinéraire dans cfg.routes ; couche vidée.\");\r\n            return;\r\n        }\r\n\r\n        this.clear();\r\n\r\n        const allCoords = [];\r\n        const defaultStyle = this._options.lineStyle || {};\r\n\r\n        // Récupérer config + endpoints définis dans le profil actif\r\n        let activeProfile = null;\r\n        let routeConfigDefault = null;\r\n        let profileEndpoints = null;\r\n\r\n        try {\r\n            if (_g.GeoLeaf.Config && typeof _g.GeoLeaf.Config.getActiveProfile === \"function\") {\r\n                activeProfile = _g.GeoLeaf.Config.getActiveProfile();\r\n                if (\r\n                    activeProfile &&\r\n                    activeProfile.defaultSettings &&\r\n                    activeProfile.defaultSettings.routeConfig\r\n                ) {\r\n                    if (\r\n                        activeProfile.defaultSettings.routeConfig.default &&\r\n                        typeof activeProfile.defaultSettings.routeConfig.default === \"object\" &&\r\n                        !Array.isArray(activeProfile.defaultSettings.routeConfig.default)\r\n                    ) {\r\n                        routeConfigDefault = activeProfile.defaultSettings.routeConfig.default;\r\n                    }\r\n                    if (\r\n                        activeProfile.defaultSettings.routeConfig.endpoints &&\r\n                        typeof activeProfile.defaultSettings.routeConfig.endpoints === \"object\" &&\r\n                        !Array.isArray(activeProfile.defaultSettings.routeConfig.endpoints)\r\n                    ) {\r\n                        profileEndpoints = activeProfile.defaultSettings.routeConfig.endpoints;\r\n                    }\r\n                }\r\n            }\r\n        } catch (e) {\r\n            Log.warn(\r\n                \"[GeoLeaf.Route] Impossible de lire la config/endpoints depuis le profil actif.\",\r\n                e\r\n            );\r\n        }\r\n\r\n        routes.forEach((route) => {\r\n            if (!route || typeof route !== \"object\") {\r\n                return;\r\n            }\r\n\r\n            const coords = this._extractCoordsFromRouteItem(route);\r\n            if (!coords || coords.length === 0) {\r\n                return;\r\n            }\r\n\r\n            // Style de la polyline\r\n            const routeStyle = this._resolveRouteStyle(\r\n                route,\r\n                activeProfile,\r\n                routeConfigDefault,\r\n                defaultStyle\r\n            );\r\n\r\n            // Applique le paramètre interactiveShapes\r\n            const interactiveShapes = _g.GeoLeaf.Config.get(\"ui.interactiveShapes\", false);\r\n            routeStyle.interactive = interactiveShapes;\r\n\r\n            const polyline = _g.L.polyline(coords, routeStyle).addTo(this._layerGroup);\r\n\r\n            // Assign routeId for filterVisibility() lookups\r\n            if (!polyline.options) polyline.options = {};\r\n            polyline.options.routeId = route.id;\r\n\r\n            // Attach route data to polyline for popup/tooltip access\r\n            polyline._geoleafRouteData = route;\r\n\r\n            // Add tooltip with route label\r\n            this._addRouteTooltip(polyline, route);\r\n\r\n            // Add popup with route details\r\n            this._addRoutePopup(polyline, route);\r\n\r\n            // Première polyline = \"routeLayer\" principal\r\n            if (!this._routeLayer) {\r\n                this._routeLayer = polyline;\r\n            }\r\n\r\n            allCoords.push(...coords);\r\n\r\n            // Points de départ / arrivée\r\n            const endpointCfg = this._resolveEndpointConfig(route, profileEndpoints, this._options);\r\n\r\n            if (coords.length > 0) {\r\n                const startLatLng = coords[0];\r\n                const endLatLng = coords[coords.length - 1];\r\n\r\n                if (endpointCfg.showStart) {\r\n                    const startStyle = Object.assign({}, endpointCfg.startStyle, {\r\n                        interactive: interactiveShapes,\r\n                        routeId: route.id,\r\n                    });\r\n                    _g.L.circleMarker(startLatLng, startStyle).addTo(this._layerGroup);\r\n                }\r\n\r\n                if (\r\n                    endpointCfg.showEnd &&\r\n                    endLatLng &&\r\n                    (endLatLng[0] !== startLatLng[0] || endLatLng[1] !== startLatLng[1])\r\n                ) {\r\n                    const endStyle = Object.assign({}, endpointCfg.endStyle, {\r\n                        interactive: interactiveShapes,\r\n                        routeId: route.id,\r\n                    });\r\n                    _g.L.circleMarker(endLatLng, endStyle).addTo(this._layerGroup);\r\n                }\r\n            }\r\n        });\r\n\r\n        if (allCoords.length === 0) {\r\n            Log.warn(\r\n                \"[GeoLeaf.Route] loadFromConfig() n'a trouvé aucun itinéraire valide dans cfg.routes.\"\r\n            );\r\n            return;\r\n        }\r\n\r\n        // Ajuster l'emprise globale si option activée\r\n        if (this._options.fitBoundsOnLoad) {\r\n            try {\r\n                const bounds = this._layerGroup.getBounds();\r\n                const fitOpt = {};\r\n                if (this._options.maxZoomOnFit) {\r\n                    fitOpt.maxZoom = this._options.maxZoomOnFit;\r\n                }\r\n                this._map.fitBounds(bounds, fitOpt);\r\n            } catch (e) {\r\n                Log.warn(\"[GeoLeaf.Route] Erreur lors du fitBounds sur les itinéraires :\", e);\r\n            }\r\n        }\r\n\r\n        // Événements \"route loaded\" (Leaflet + DOM)\r\n        this._fireRouteLoadedEvents(allCoords);\r\n    },\r\n\r\n    /**\r\n     * Filtrer la visibilité des routes déjà chargées sans les recharger.\r\n     * Préserve les styles originaux des routes.\r\n     * @param {Array<Object>} filteredRoutes - Liste des routes à afficher (après filtrage)\r\n     * @public\r\n     */\r\n    filterVisibility: function (filteredRoutes) {\r\n        if (!this._initialized) {\r\n            Log.warn(\"[GeoLeaf.Route] Module non initialisé - filterVisibility ignoré.\");\r\n            return;\r\n        }\r\n\r\n        if (!Array.isArray(filteredRoutes)) {\r\n            Log.warn(\"[GeoLeaf.Route] filterVisibility : filteredRoutes doit être un tableau.\");\r\n            return;\r\n        }\r\n\r\n        // Créer un Set des IDs des routes à afficher pour une recherche rapide\r\n        const visibleRouteIds = new Set(filteredRoutes.map((r) => r.id));\r\n\r\n        // Parcourir toutes les couches actuellement affichées\r\n        this._layerGroup.eachLayer(\r\n            function (layer) {\r\n                // Vérifier si cette couche a un ID de route\r\n                const routeId =\r\n                    (layer.options && layer.options.routeId) ||\r\n                    (layer.feature && layer.feature.properties && layer.feature.properties.id);\r\n\r\n                if (routeId !== undefined) {\r\n                    // Afficher ou masquer selon si l'ID est dans la liste filtrée\r\n                    if (visibleRouteIds.has(routeId)) {\r\n                        if (!this._map.hasLayer(layer)) {\r\n                            this._map.addLayer(layer);\r\n                        }\r\n                    } else {\r\n                        if (this._map.hasLayer(layer)) {\r\n                            this._map.removeLayer(layer);\r\n                        }\r\n                    }\r\n                }\r\n            }.bind(this)\r\n        );\r\n\r\n        Log.info(\r\n            \"[GeoLeaf.Route] Visibilité filtrée : \" + filteredRoutes.length + \" routes visibles.\"\r\n        );\r\n    },\r\n\r\n    /**\r\n     * Extraire un tableau de [lat, lng] à partir d'un item de cfg.routes.\r\n     * @param {Object} route\r\n     * @returns {number[][]}\r\n     * @private\r\n     */\r\n    _extractCoordsFromRouteItem(route) {\r\n        return RouteLoaders.extractCoordsFromRouteItem(route);\r\n    },\r\n\r\n    /**\r\n     * Détermine la couleur d'un itinéraire selon la priorité :\r\n     *  1. colorRoute de la sous-catégorie (si définie)\r\n     *  2. colorRoute de la catégorie (si définie)\r\n     *  3. couleur par défaut de routeConfig.default.color\r\n     *\r\n     * @param {Object} route - L'itinéraire\r\n     * @param {Object} profile - Le profil actif\r\n     * @param {Object} routeConfigDefault - La config par défaut (defaultSettings.routeConfig.default)\r\n     * @returns {string|null} La couleur à utiliser ou null\r\n     * @private\r\n     */\r\n    _getRouteColor(route, profile, routeConfigDefault) {\r\n        return RouteStyleResolver.getRouteColor(route, profile, routeConfigDefault);\r\n    },\r\n\r\n    /**\r\n     * Calcule le style final d'un itinéraire en combinant :\r\n     *  - le style par défaut du module,\r\n     *  - la config par défaut du profil (defaultSettings.routeConfig.default),\r\n     *  - la couleur basée sur la taxonomie (colorRoute),\r\n     *  - les surcharges au niveau de l'itinéraire (properties.*).\r\n     *\r\n     * @private\r\n     */\r\n    _resolveRouteStyle(route, activeProfile, routeConfigDefault, defaultStyle) {\r\n        return RouteStyleResolver.resolveRouteStyle(\r\n            route,\r\n            activeProfile,\r\n            routeConfigDefault,\r\n            defaultStyle\r\n        );\r\n    },\r\n\r\n    /**\r\n     * Calcule la configuration d'affichage des points départ / arrivée\r\n     * en combinant :\r\n     *  - les options par défaut du module (_options),\r\n     *  - les endpoints définis dans le profil actif (defaultSettings.routeConfig.endpoints),\r\n     *  - les surcharges éventuelles au niveau de l'itinéraire\r\n     *    (properties.showStart, properties.showEnd, startStyle, endStyle).\r\n     *\r\n     * @private\r\n     */\r\n    _resolveEndpointConfig(route, profileEndpoints, moduleOptions) {\r\n        return RouteStyleResolver.resolveEndpointConfig(route, profileEndpoints, moduleOptions);\r\n    },\r\n\r\n    /**\r\n     * Ajouter un waypoint manuel\r\n     * @param {number[]} latlng\r\n     */\r\n    addWaypoint(latlng) {\r\n        RouteLayerManager.addWaypoint(this._layerGroup, latlng, this._options.waypointStyle);\r\n    },\r\n\r\n    /**\r\n     * Ajouter un segment manuel\r\n     * @param {number[][]} coords\r\n     */\r\n    addSegment(coords) {\r\n        if (!this._routeLayer) return;\r\n        const current = this._routeLayer.getLatLngs();\r\n        this._routeLayer.setLatLngs([...current, ...coords]);\r\n    },\r\n\r\n    /**\r\n     * Appliquer un itinéraire complet (remplacement)\r\n     * @param {number[][]} coords\r\n     * @private\r\n     */\r\n    _applyRoute(coords) {\r\n        const context = {\r\n            map: this._map,\r\n            layerGroup: this._layerGroup,\r\n            routeLayer: this._routeLayer,\r\n            options: this._options,\r\n        };\r\n        RouteLayerManager.applyRoute(\r\n            context,\r\n            coords,\r\n            this.clear.bind(this),\r\n            this._fireRouteLoadedEvents.bind(this)\r\n        );\r\n        this._routeLayer = context.routeLayer;\r\n    },\r\n\r\n    /**\r\n     * Add tooltip to route polyline\r\n     * @param {L.Polyline} polyline\r\n     * @param {Object} route\r\n     * @private\r\n     */\r\n    _addRouteTooltip(polyline, route) {\r\n        RoutePopupBuilder.addRouteTooltip(polyline, route);\r\n    },\r\n\r\n    /**\r\n     * Add popup to route polyline with \"Voir plus\" button\r\n     * @param {L.Polyline} polyline\r\n     * @param {Object} route\r\n     * @private\r\n     */\r\n    _addRoutePopup(polyline, route) {\r\n        RoutePopupBuilder.addRoutePopup(polyline, route, this);\r\n    },\r\n\r\n    /**\r\n     * Build popup content for route (same structure as POI popup)\r\n     * @param {Object} route\r\n     * @returns {string} HTML content\r\n     * @private\r\n     */\r\n    _buildRoutePopupContent(route) {\r\n        return RoutePopupBuilder.buildRoutePopupContent(route);\r\n    } /**\r\n     * Open side panel with route details\r\n     * @param {Object} route\r\n     * @private\r\n     */,\r\n    _openRouteSidePanel(route) {\r\n        RoutePopupBuilder.openRouteSidePanel(route);\r\n    },\r\n\r\n    /**\r\n     * Phase 4 dedup: delegates to _RouteLayerManager.fireRouteLoadedEvents\r\n     * @param {number[][]} coords\r\n     * @private\r\n     */\r\n    _fireRouteLoadedEvents(coords) {\r\n        RouteLayerManager.fireRouteLoadedEvents(this._map, this._routeLayer, coords);\r\n    },\r\n};\r\n\r\nconst Route = RouteModule;\r\nexport { Route };\r\n","/**\r\n * GeoLeaf Contract — Route (lazy-chunk boundary)\r\n *\r\n * Interface ESM pure pour accéder au module Route depuis les modules core.\r\n *\r\n * Phase 10-D — Pattern C : contrat de chunk Route.\r\n *\r\n * USAGE :\r\n *   import { RouteContract } from '../../../contracts/route.contract.js';\r\n *\r\n *   const routeGroup = RouteContract.getLayerGroup();\r\n *   if (routeGroup) tempGroup.addLayer(routeGroup);\r\n */\r\n\"use strict\";\r\n\r\nimport { Route } from \"../modules/geoleaf.route.js\";\r\n\r\n/**\r\n * Contrat d'interface pour le module Route.\r\n * @namespace RouteContract\r\n */\r\nconst RouteContract = {\r\n    /**\r\n     * Retourne true si Route est initialisé.\r\n     * @returns {boolean}\r\n     */\r\n    isAvailable() {\r\n        return !!Route && Route._initialized === true;\r\n    },\r\n\r\n    /**\r\n     * Retourne le LayerGroup contenant les itinéraires.\r\n     * Note : la méthode dans geoleaf.route.js est `getLayer()`.\r\n     * Ce contrat uniformise l'API sous `getLayerGroup()`.\r\n     * @returns {L.LayerGroup|null}\r\n     */\r\n    getLayerGroup() {\r\n        if (typeof Route.getLayer === \"function\") {\r\n            return Route.getLayer();\r\n        }\r\n        return null;\r\n    },\r\n};\r\n\r\nexport { RouteContract };\r\n","/**\n * GeoLeaf Theme Applier - UI Sync\n * Synchronisation de l'UI : sélecteur de style, légende, fitBounds\n *\n * @module themes/theme-applier/ui-sync\n */\n\"use strict\";\n\nimport { ThemeApplierCore as TA } from \"../theme-applier/core.js\";\nimport { GeoJSONShared } from \"../../shared/geojson-state.js\";\nimport { POIShared } from \"../../shared/poi-state.js\";\nimport { LayerVisibilityManager } from \"../../shared/layer-visibility-state.js\";\nimport { LegendContract } from \"../../../contracts/legend.contract.js\";\nimport { RouteContract } from \"../../../contracts/route.contract.js\";\nimport { Core } from \"../../geoleaf.core.js\";\n\n/**\n * Met à jour le sélecteur de style dans l'UI\n * @param {string} layerId - Identifiant de la couche\n * @param {string} styleId - Identifiant du style\n * @private\n */\nTA._updateStyleSelector = function (layerId, styleId) {\n    const selectId = \"style-selector-\" + layerId;\n    const select = document.getElementById(selectId);\n\n    if (select) {\n        select.value = styleId;\n    }\n};\n\n/**\n * Charge la légende correspondant au style appliqué\n * @param {string} layerId - ID de la couche\n * @param {string} styleId - ID du style\n * @private\n */\nTA._loadLegendForStyle = function (layerId, styleId) {\n    if (!LegendContract.isAvailable()) {\n        return;\n    }\n\n    // Récupérer les informations de la couche\n    const layersMap = GeoJSONShared.state.layers;\n    const layerInfo = layersMap instanceof Map ? layersMap.get(layerId) : layersMap?.[layerId];\n\n    if (!layerInfo || !layerInfo.config) {\n        return;\n    }\n\n    // Utiliser la nouvelle API qui génère la légende depuis le style\n    LegendContract.loadLayerLegend(layerId, styleId, layerInfo.config);\n};\n\n/**\n * Zoom sur l'emprise de toutes les couches chargées\n * @private\n */\nTA._fitBoundsOnAllLayers = function () {\n    const map = Core?.getMap();\n    if (!map) {\n        return;\n    }\n\n    // Mettre à jour la progression (99%)\n    if (window._glLoadingScreen && typeof window._glLoadingScreen.updateProgress === \"function\") {\n        window._glLoadingScreen.updateProgress(99);\n    }\n\n    // Créer un groupe temporaire avec toutes les couches pour calculer les bounds\n    const tempGroup = globalThis.L.featureGroup();\n    let layerCount = 0;\n\n    // Ajouter les couches GeoJSON\n    if (GeoJSONShared.getLayers) {\n        GeoJSONShared.getLayers().forEach((layerData, _layerId) => {\n            if (layerData.layer) {\n                try {\n                    tempGroup.addLayer(layerData.layer);\n                    layerCount++;\n                } catch (e) {\n                    // Silencieux\n                }\n            }\n        });\n    }\n\n    // Ajouter les POI s'ils existent\n    if (POIShared?.getMarkerLayer) {\n        const markerLayer = POIShared.getMarkerLayer();\n        if (markerLayer) {\n            try {\n                tempGroup.addLayer(markerLayer);\n                layerCount++;\n            } catch (e) {\n                // Silencieux\n            }\n        }\n    }\n\n    // Ajouter les Routes s'elles existent\n    if (RouteContract.isAvailable()) {\n        try {\n            const routeGroup = RouteContract.getLayerGroup();\n            if (routeGroup) {\n                tempGroup.addLayer(routeGroup);\n                layerCount++;\n            }\n        } catch (e) {\n            // Silencieux\n        }\n    }\n\n    // Zoomer sur l'emprise\n    if (layerCount > 0) {\n        const bounds = tempGroup.getBounds();\n        if (bounds.isValid()) {\n            // Afficher la carte AVANT le fitBounds pour éviter l'écran noir\n            const mapContainer =\n                document.getElementById(\"geoleaf-map\") ||\n                document.querySelector(\".leaflet-container\")?.parentElement;\n            if (mapContainer) {\n                mapContainer.style.opacity = \"1\";\n            }\n\n            map.fitBounds(bounds, { maxZoom: 12, padding: [50, 50], animate: false });\n\n            // Attendre que les tuiles soient chargées avant de fermer le spinner\n            setTimeout(() => {\n                try {\n                    const event = new CustomEvent(\"geoleaf:map:ready\", {\n                        detail: { time: Date.now() },\n                    });\n                    document.dispatchEvent(event);\n                } catch (e) {\n                    // fallback\n                }\n            }, 800);\n        }\n    }\n};\n\n/**\n * Synchronise l'état de visibilité de toutes les couches dans la légende\n * @private\n */\nTA._syncLegendVisibility = function () {\n    if (!LegendContract.isAvailable()) {\n        return;\n    }\n\n    if (!GeoJSONShared.getLayers) {\n        return;\n    }\n\n    const VisibilityManager = LayerVisibilityManager;\n    if (!VisibilityManager) {\n        return;\n    }\n\n    // Parcourir toutes les couches et synchroniser leur état\n    GeoJSONShared.getLayers().forEach((layerData, layerId) => {\n        const visState = VisibilityManager.getVisibilityState(layerId);\n        const isVisible = visState ? visState.current : layerData.visible;\n        LegendContract.setLayerVisibility(layerId, isVisible);\n    });\n};\n\nexport { TA as ThemeApplierUISync };\n","/**\r\n * GeoLeaf Theme Applier - Visibility\r\n * Gestion de la visibilité des couches et application des styles\r\n *\r\n * @module themes/theme-applier/visibility\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from \"../../log/index.js\";\r\nimport { Config } from \"../../config/config-primitives.js\";\r\nimport { ThemeApplierCore as TA } from \"../theme-applier/core.js\";\r\nimport { GeoJSONShared } from \"../../shared/geojson-state.js\";\r\nimport { LayerVisibilityManager } from \"../../shared/layer-visibility-state.js\";\r\nimport { LayerManagerStyle } from \"../../geojson/layer-manager/style.js\";\r\nimport { StyleLoader } from \"../../loaders/style-loader.js\";\r\nimport { Labels } from \"../../labels/labels.js\";\r\nimport { LabelButtonManager } from \"../../labels/label-button-manager.js\";\r\nimport { LayerManager } from \"../../geoleaf.layer-manager.js\";\r\nimport { StyleSelector } from \"../../layer-manager/style-selector.js\";\r\n\r\n/**\r\n * Désactive toutes les couches GeoJSON\r\n * @private\r\n */\r\nTA._hideAllLayers = function () {\r\n    if (!GeoJSONShared.state.layers) {\r\n        return;\r\n    }\r\n\r\n    const VisibilityManager = LayerVisibilityManager;\r\n    if (!VisibilityManager) {\r\n        return;\r\n    }\r\n\r\n    // Réinitialiser tous les overrides utilisateur pour laisser le thème prendre le contrôle\r\n    VisibilityManager.resetAllUserOverrides();\r\n\r\n    // Parcourir toutes les couches enregistrées\r\n    GeoJSONShared.getLayers().forEach((layerData, layerId) => {\r\n        VisibilityManager.setVisibility(layerId, false, VisibilityManager.VisibilitySource.THEME);\r\n    });\r\n};\r\n\r\n/**\r\n * Applique la configuration d'une couche (visible/masquée + style)\r\n * @param {Object} layerConfig - Configuration { id, visible, style }\r\n * @returns {Promise<void>}\r\n * @private\r\n */\r\nTA._applyLayerConfig = function (layerConfig) {\r\n    if (!layerConfig?.id) {\r\n        return Promise.resolve();\r\n    }\r\n\r\n    const layerId = layerConfig.id;\r\n    const visible = layerConfig.visible !== false;\r\n    const styleId = layerConfig.style ? String(layerConfig.style).trim() : undefined;\r\n\r\n    // Récupérer la couche depuis le registre\r\n    const layerData = GeoJSONShared.state.layers?.get(layerId);\r\n\r\n    // Si la couche n'existe pas, essayer de la charger automatiquement\r\n    if (!layerData) {\r\n        return TA._loadLayerFromProfile(layerId).then((loadedLayer) => {\r\n            if (loadedLayer) {\r\n                return TA._setLayerVisibilityAndStyle(layerId, visible, styleId);\r\n            } else {\r\n                return TA._scheduleLayerConfig(layerId, visible, styleId);\r\n            }\r\n        });\r\n    }\r\n\r\n    // La couche existe déjà, appliquer directement la visibilité\r\n    return TA._setLayerVisibilityAndStyle(layerId, visible, styleId);\r\n};\r\n\r\n/**\r\n * Définit la visibilité et le style d'une couche\r\n * @param {string} layerId - ID de la couche\r\n * @param {boolean} visible - Visibilité souhaitée\r\n * @param {string} styleId - ID du style à appliquer\r\n * @returns {Promise<void>}\r\n * @private\r\n */\r\nTA._setLayerVisibilityAndStyle = function (layerId, visible, styleId) {\r\n    const layerData = GeoJSONShared.state.layers?.get(layerId);\r\n    if (!layerData) {\r\n        return Promise.resolve();\r\n    }\r\n\r\n    const VisibilityManager = LayerVisibilityManager;\r\n    if (!VisibilityManager) {\r\n        return Promise.resolve();\r\n    }\r\n\r\n    if (visible) {\r\n        // Utiliser le gestionnaire centralisé avec source THEME\r\n        VisibilityManager.setVisibility(layerId, true, VisibilityManager.VisibilitySource.THEME);\r\n\r\n        // Appliquer le style si spécifié\r\n        if (styleId && LayerManagerStyle?.setLayerStyle) {\r\n            const availableStyles = layerData.config?.styles?.available || [];\r\n            let effectiveStyleId = styleId;\r\n            let styleExists = availableStyles.some((s) => s.id === styleId);\r\n\r\n            // Fallback: si 'default' n'existe pas, essayer 'défaut' (et vice-versa)\r\n            if (!styleExists) {\r\n                const fallbackMap = {\r\n                    default: \"défaut\",\r\n                    défaut: \"default\",\r\n                };\r\n                const fallbackStyleId = fallbackMap[styleId];\r\n                if (fallbackStyleId) {\r\n                    const fallbackExists = availableStyles.some((s) => s.id === fallbackStyleId);\r\n                    if (fallbackExists) {\r\n                        effectiveStyleId = fallbackStyleId;\r\n                        styleExists = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (styleExists) {\r\n                const styleFile = availableStyles.find((s) => s.id === effectiveStyleId)?.file;\r\n                if (styleFile) {\r\n                    let profileId = \"default\";\r\n                    if (Config && typeof Config.getActiveProfile === \"function\") {\r\n                        const activeProfile = Config.getActiveProfile();\r\n                        profileId = activeProfile?.id || \"default\";\r\n                    }\r\n\r\n                    const layerDirectory = layerData._layerDirectory || layerId;\r\n\r\n                    const localStyleLoader = StyleLoader;\r\n                    if (!localStyleLoader) {\r\n                        if (Log) Log.error(`[ThemeApplier] StyleLoader non disponible`);\r\n                        return Promise.resolve();\r\n                    }\r\n\r\n                    return localStyleLoader\r\n                        .loadAndValidateStyle(\r\n                            profileId,\r\n                            layerId,\r\n                            effectiveStyleId,\r\n                            styleFile,\r\n                            `layers/${layerDirectory}`\r\n                        )\r\n                        .then((result) => {\r\n                            const styleConfig = result.styleData;\r\n                            LayerManagerStyle.setLayerStyle(layerId, styleConfig);\r\n\r\n                            // Stocker currentStyle pour les labels\r\n                            const layerDataForStyle = GeoJSONShared.state.layers?.get(layerId);\r\n                            if (layerDataForStyle) {\r\n                                layerDataForStyle.currentStyle = styleConfig;\r\n                            }\r\n\r\n                            // Initialiser les labels si configurés\r\n                            if (Labels && typeof Labels.initializeLayerLabels === \"function\") {\r\n                                Labels.initializeLayerLabels(layerId);\r\n                            }\r\n\r\n                            // Mettre à jour l'état du bouton des labels\r\n                            if (LabelButtonManager) {\r\n                                LabelButtonManager.syncImmediate(layerId);\r\n                            }\r\n\r\n                            // Synchroniser l'UI du Layer Manager\r\n                            if (LayerManager && typeof LayerManager.refresh === \"function\") {\r\n                                LayerManager.refresh();\r\n                            }\r\n\r\n                            // Mettre à jour le style actuel dans le sélecteur\r\n                            if (StyleSelector) {\r\n                                StyleSelector.setCurrentStyle(layerId, styleId);\r\n                            }\r\n\r\n                            // Rafraîchir le sélecteur dans l'UI\r\n                            TA._updateStyleSelector(layerId, styleId);\r\n\r\n                            // Charger la légende correspondante\r\n                            TA._loadLegendForStyle(layerId, styleId);\r\n\r\n                            return result;\r\n                        })\r\n                        .catch((_err) => {\r\n                            // Silencieux — erreur déjà loguée par StyleLoader\r\n                        });\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        // Masquer la couche avec source THEME\r\n        VisibilityManager.setVisibility(layerId, false, VisibilityManager.VisibilitySource.THEME);\r\n\r\n        // Désactiver les labels et mettre à jour le bouton\r\n        if (Labels) {\r\n            Labels.disableLabels(layerId);\r\n        }\r\n        if (LabelButtonManager) {\r\n            LabelButtonManager.syncImmediate(layerId);\r\n        }\r\n    }\r\n\r\n    return Promise.resolve();\r\n};\r\n\r\nexport { TA as ThemeApplierVisibility };\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\nimport { Log } from \"../log/index.js\";\r\nimport { Config } from \"../config/geoleaf-config/config-core.js\";\r\n\r\n/**\r\n * Module GeoLeaf.UI.Branding\r\n *\r\n * Rôle :\r\n * - Afficher un texte de branding personnalisable\r\n * - Positionner le contrôle selon la configuration\r\n * - Permettre l'activation/désactivation via configuration\r\n */\r\nconst Branding = {\r\n    /**\r\n     * Référence à la carte Leaflet.\r\n     * @type {L.Map|null}\r\n     * @private\r\n     */\r\n    _map: null,\r\n\r\n    /**\r\n     * Référence au contrôle Leaflet de branding.\r\n     * @type {L.Control|null}\r\n     * @private\r\n     */\r\n    _control: null,\r\n\r\n    /**\r\n     * Options du module\r\n     * @type {Object}\r\n     * @private\r\n     */\r\n    _options: {\r\n        position: \"bottomleft\",\r\n        text: \"Propulsé par © GeoLeaf with Leaflet\",\r\n    },\r\n\r\n    /**\r\n     * Initialise le module de branding\r\n     * @param {L.Map} map - Instance de la carte Leaflet\r\n     * @param {Object} options - Options de configuration\r\n     */\r\n    init(map, options = {}) {\r\n        const context = \"[GeoLeaf.UI.Branding]\";\r\n\r\n        try {\r\n            if (!map) {\r\n                throw new Error(\"Une instance de carte Leaflet est requise.\");\r\n            }\r\n\r\n            this._map = map;\r\n            this._options = Object.assign({}, this._options, options);\r\n\r\n            // Source unique : geoleaf.config.json → clé \"branding\"\r\n            // Aucun fallback vers profile.json (brandingConfig ignoré)\r\n            const branding = Config?.get(\"branding\");\r\n\r\n            if (branding === undefined || branding === null) {\r\n                // Clé absente → avertissement visible sur la carte\r\n                console.warn(\"[GeoLeaf] branding key missing in geoleaf.config.json\");\r\n                this._options.text = \"⚠ Branding non configuré\";\r\n                this._createControl();\r\n                return;\r\n            }\r\n\r\n            if (branding === false || (branding && branding.enabled === false)) {\r\n                Log.info(`${context} Branding désactivé dans la configuration.`);\r\n                return;\r\n            }\r\n\r\n            // text vide → silencieux\r\n            if (branding.text === \"\") {\r\n                Log.info(`${context} Branding text vide — rien affiché.`);\r\n                return;\r\n            }\r\n\r\n            // Appliquer les options depuis geoleaf.config.json\r\n            if (branding && typeof branding === \"object\") {\r\n                if (branding.text) {\r\n                    this._options.text = branding.text;\r\n                }\r\n                if (branding.position) {\r\n                    this._options.position = branding.position;\r\n                }\r\n            }\r\n\r\n            // Créer le contrôle Leaflet\r\n            this._createControl();\r\n\r\n            Log.info(`${context} Module initialisé avec succès.`);\r\n        } catch (err) {\r\n            Log.error(`${context} Erreur lors de l'initialisation :`, err.message);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Crée le contrôle Leaflet pour l'affichage du branding\r\n     * @private\r\n     */\r\n    _createControl() {\r\n        const context = \"[GeoLeaf.UI.Branding]\";\r\n\r\n        try {\r\n            // Définir le contrôle Leaflet personnalisé\r\n            const BrandingControl = L.Control.extend({\r\n                options: {\r\n                    position: this._options.position,\r\n                },\r\n\r\n                onAdd: () => {\r\n                    // Créer le conteneur principal\r\n                    const container = L.DomUtil.create(\"div\", \"geoleaf-branding\");\r\n\r\n                    // Empêcher les événements de la carte sur ce contrôle\r\n                    L.DomEvent.disableClickPropagation(container);\r\n                    L.DomEvent.disableScrollPropagation(container);\r\n\r\n                    // Créer l'élément d'affichage du texte\r\n                    const brandingElement = L.DomUtil.create(\"div\", \"branding-content\", container);\r\n                    // SAFE: Utilisation de textContent pour éviter XSS\r\n                    brandingElement.textContent = this._options.text;\r\n\r\n                    return container;\r\n                },\r\n\r\n                onRemove: () => {\r\n                    // Rien à nettoyer pour ce contrôle\r\n                },\r\n            });\r\n\r\n            // Créer et ajouter le contrôle à la carte\r\n            this._control = new BrandingControl();\r\n            this._control.addTo(this._map);\r\n\r\n            Log.info(`${context} Contrôle de branding créé et ajouté à la carte.`);\r\n        } catch (err) {\r\n            Log.error(`${context} Erreur lors de la création du contrôle :`, err.message);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Détruit le contrôle et nettoie les ressources\r\n     */\r\n    destroy() {\r\n        const context = \"[GeoLeaf.UI.Branding]\";\r\n\r\n        try {\r\n            if (this._control && this._map) {\r\n                this._map.removeControl(this._control);\r\n                this._control = null;\r\n            }\r\n\r\n            Log.info(`${context} Module détruit avec succès.`);\r\n        } catch (err) {\r\n            Log.error(`${context} Erreur lors de la destruction :`, err.message);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Active l'affichage du branding\r\n     */\r\n    show() {\r\n        if (this._control && !this._map.hasControl(this._control)) {\r\n            this._control.addTo(this._map);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Désactive l'affichage du branding\r\n     */\r\n    hide() {\r\n        if (this._control && this._map) {\r\n            this._map.removeControl(this._control);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Met à jour le texte du branding\r\n     * @param {string} text - Nouveau texte\r\n     */\r\n    setText(text) {\r\n        if (this._control) {\r\n            const container = this._control.getContainer();\r\n            if (container) {\r\n                const brandingElement = container.querySelector(\".branding-content\");\r\n                if (brandingElement) {\r\n                    // SAFE: Utilisation de textContent pour éviter XSS\r\n                    brandingElement.textContent = text;\r\n                }\r\n            }\r\n        }\r\n    },\r\n};\r\n\r\n// ── ESM Export ──\r\nexport { Branding };\r\n","/**\r\n * @module ui/geolocation-state\r\n * @description ESM singleton store for geolocation UI state — Phase 10-B Pattern D\r\n *\r\n * ESM singleton replacing the mutable UI properties _geolocationActive / _geolocationWatchId /\r\n * _userPosition / _userPositionAccuracy.\r\n *\r\n * All reads and writes go through this module: consumers import GeoLocationState\r\n * and access/mutate its properties directly.\r\n *\r\n * The globals bridge (geoleaf.ui.js) keeps the UMD / CDN namespace aliases\r\n * in sync with this ESM singleton.\r\n *\r\n * @example\r\n * import { GeoLocationState } from '../geolocation-state.js';\r\n *\r\n * // Read\r\n * if (GeoLocationState.active) { ... }\r\n *\r\n * // Write\r\n * GeoLocationState.active = true;\r\n * GeoLocationState.watchId = navigator.geolocation.watchPosition(onSuccess, onError);\r\n * GeoLocationState.userPosition = { lat, lng, timestamp: Date.now(), accuracy };\r\n */\r\n\r\n/**\r\n * Mutable singleton holding geolocation tracking state.\r\n * @type {{\r\n *   active: boolean,\r\n *   watchId: number|null,\r\n *   userPosition: {lat: number, lng: number, timestamp: number, accuracy?: number}|null,\r\n *   userPositionAccuracy: number|null\r\n * }}\r\n */\r\nconst GeoLocationState = {\r\n    /** Whether the geolocation watch is currently active */\r\n    active: false,\r\n\r\n    /** ID returned by navigator.geolocation.watchPosition(), or null */\r\n    watchId: null,\r\n\r\n    /**\r\n     * Last known user position, or null if geolocation has never succeeded.\r\n     * @type {{ lat: number, lng: number, timestamp: number, accuracy?: number }|null}\r\n     */\r\n    userPosition: null,\r\n\r\n    /** Last known accuracy in metres, or null */\r\n    userPositionAccuracy: null,\r\n};\r\n\r\nexport { GeoLocationState };\r\n","/**\r\n * GeoLeaf Contract — POI AddForm (lazy-chunk boundary)\r\n *\r\n * Interface ESM pure pour accéder à AddFormOrchestrator et POIPlacementMode\r\n * depuis les modules UI (controls.js, fields-manager.js) sans couplage runtime.\r\n *\r\n * Phase 10-D — Pattern C : contrat de chunk POI AddForm.\r\n *\r\n * USAGE :\r\n *   import { POIAddFormContract } from '../contracts/poi-addform.contract.js';\r\n *\r\n *   if (POIAddFormContract.isAddFormAvailable()) {\r\n *       POIAddFormContract.openAddForm(latlng, null);\r\n *   }\r\n *\r\n *   POIAddFormContract.activatePlacementMode(map, callback);\r\n */\r\n\"use strict\";\r\n\r\n/**\r\n * Phase 7 — Premium Separation:\r\n * AddFormOrchestrator and POIPlacementMode are now in GeoLeaf-Plugins/plugin-addpoi.\r\n * Access them only via globalThis.GeoLeaf at runtime (after the plugin is loaded).\r\n */\r\nfunction _getOrchestrator() {\r\n    return (typeof globalThis !== \"undefined\" ? globalThis : window)?.GeoLeaf?.POI?.AddForm ?? null;\r\n}\r\nfunction _getPlacementMode() {\r\n    return (\r\n        (typeof globalThis !== \"undefined\" ? globalThis : window)?.GeoLeaf?.POI?.PlacementMode ??\r\n        null\r\n    );\r\n}\r\n\r\n/**\r\n * Contrat d'interface pour le module POI AddForm + PlacementMode.\r\n * @namespace POIAddFormContract\r\n */\r\nconst POIAddFormContract = {\r\n    /**\r\n     * Retourne true si AddFormOrchestrator est disponible.\r\n     * @returns {boolean}\r\n     */\r\n    isAddFormAvailable() {\r\n        const orch = _getOrchestrator();\r\n        return !!(orch && typeof orch.openAddForm === \"function\");\r\n    },\r\n\r\n    /**\r\n     * Retourne true si PlacementMode est disponible.\r\n     * @returns {boolean}\r\n     */\r\n    isPlacementModeAvailable() {\r\n        const pm = _getPlacementMode();\r\n        return !!(pm && typeof pm.activate === \"function\");\r\n    },\r\n\r\n    /**\r\n     * Ouvre le formulaire d'ajout de POI.\r\n     * @param {L.LatLng} latlng - Position initiale (optionnelle)\r\n     * @param {Object|null} options - Options supplémentaires\r\n     * @returns {Promise<void>}\r\n     */\r\n    async openAddForm(latlng, options) {\r\n        return _getOrchestrator()?.openAddForm(latlng, options);\r\n    },\r\n\r\n    /**\r\n     * Active le mode placement pour choisir une position sur la carte.\r\n     * @param {L.Map} map - Instance de la carte Leaflet\r\n     * @param {Function} callback - callback(result) avec result.latlng\r\n     */\r\n    activatePlacementMode(map, callback) {\r\n        const pm = _getPlacementMode();\r\n        if (pm && typeof pm.activate === \"function\") {\r\n            pm.activate(map, callback);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Accès direct à AddFormOrchestrator (pour les cas où l'API complète est nécessaire).\r\n     * @type {Object}\r\n     */\r\n    get orchestrator() {\r\n        return _getOrchestrator();\r\n    },\r\n\r\n    /**\r\n     * Accès direct à POIPlacementMode.\r\n     * @type {Object}\r\n     */\r\n    get placementMode() {\r\n        return _getPlacementMode();\r\n    },\r\n};\r\n\r\nexport { POIAddFormContract };\r\n","/*!\n * GeoLeaf Core\n * Ã‚Â© 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf UI Module - Controls\n * ContrÃƒÂ´les Leaflet personnalisÃƒÂ©s (fullscreen, zoom, scale, etc.)\n */\n\nimport { Log } from \"../log/index.js\";\nimport { Config } from \"../config/config-primitives.js\";\nimport { DOMSecurity } from \"../utils/dom-security.js\";\nimport { _UINotifications } from \"./notifications.js\";\nimport { GeoLocationState } from \"./geolocation-state.js\";\nimport { debounce } from \"../utils/general-utils.js\";\nimport { POIAddFormContract } from \"../../contracts/poi-addform.contract.js\";\n\n// ========================================\n//   FULLSCREEN CONTROL\n// ========================================\n\n/**\n * Gestion du plein ÃƒÂ©cran pour la carte\n * @param {L.Map} map - Instance de la carte Leaflet\n * @param {HTMLElement} mapContainer - Le conteneur de la carte ÃƒÂ  mettre en plein ÃƒÂ©cran\n */\nfunction initFullscreenControl(map, mapContainer) {\n    if (!map || !mapContainer) {\n        if (Log) Log.warn(\"[UI.Controls] initFullscreenControl: carte ou conteneur manquant\");\n        return;\n    }\n\n    // VÃƒÂ©rifier que Leaflet est disponible\n    if (typeof L === \"undefined\" || !L.Control) {\n        if (Log) Log.warn(\"[UI.Controls] Leaflet n'est pas disponible\");\n        return;\n    }\n\n    // ContrÃƒÂ´le Leaflet personnalisÃƒÂ©\n    L.Control.Fullscreen = L.Control.extend({\n        options: {\n            position: \"topleft\",\n        },\n\n        onAdd: function (map) {\n            const container = L.DomUtil.create(\n                \"div\",\n                \"leaflet-control-fullscreen leaflet-bar leaflet-control\"\n            );\n            const link = L.DomUtil.create(\"a\", \"\", container);\n\n            link.href = \"#\";\n            link.title = \"Plein ÃƒÂ©cran\";\n            link.setAttribute(\"role\", \"button\");\n            link.setAttribute(\"aria-label\", \"Activer le mode plein ÃƒÂ©cran\");\n\n            // Fullscreen ENTER icon (static SVG)\n            // SAFE: SVG statique hardcodÃƒÂ©\n            const svgEnter = DOMSecurity.createSVGIcon(\n                18,\n                18,\n                \"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3\",\n                {\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    fill: \"none\",\n                }\n            );\n            svgEnter.classList.add(\"fullscreen-enter-icon\");\n\n            // Fullscreen EXIT icon (static SVG)\n            // SAFE: SVG statique hardcodÃƒÂ©\n            const svgExit = DOMSecurity.createSVGIcon(\n                18,\n                18,\n                \"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3\",\n                {\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    fill: \"none\",\n                }\n            );\n            svgExit.classList.add(\"fullscreen-exit-icon\");\n            svgExit.style.display = \"none\"; // CachÃƒÂ© par dÃƒÂ©faut\n\n            link.appendChild(svgEnter);\n            link.appendChild(svgExit);\n\n            // Ãƒâ€°viter la propagation vers la carte\n            L.DomEvent.disableClickPropagation(container);\n            L.DomEvent.disableScrollPropagation(container);\n\n            // Debounce pour invalidateSize\n            const debouncedInvalidateSize = debounce\n                ? debounce(() => map.invalidateSize(), 200)\n                : () => map.invalidateSize();\n\n            // Fonction pour mettre ÃƒÂ  jour l'icÃƒÂ´ne\n            const updateIcon = (isFullscreen) => {\n                if (isFullscreen) {\n                    svgEnter.style.display = \"none\";\n                    svgExit.style.display = \"block\";\n                } else {\n                    svgEnter.style.display = \"block\";\n                    svgExit.style.display = \"none\";\n                }\n            };\n\n            const toggleFullscreen = (e) => {\n                L.DomEvent.preventDefault(e);\n\n                if (!document.fullscreenElement) {\n                    // Entrer en plein ÃƒÂ©cran\n                    mapContainer\n                        .requestFullscreen()\n                        .then(() => {\n                            link.classList.add(\"is-fullscreen\");\n                            link.title = \"Quitter le plein ÃƒÂ©cran\";\n                            link.setAttribute(\"aria-label\", \"Quitter le mode plein ÃƒÂ©cran\");\n                            updateIcon(true);\n                            debouncedInvalidateSize();\n                        })\n                        .catch((err) => {\n                            if (Log) Log.error(\"[UI.Controls] Erreur plein ÃƒÂ©cran:\", err);\n                        });\n                } else {\n                    // Quitter le plein ÃƒÂ©cran\n                    document\n                        .exitFullscreen()\n                        .then(() => {\n                            link.classList.remove(\"is-fullscreen\");\n                            link.title = \"Plein ÃƒÂ©cran\";\n                            link.setAttribute(\"aria-label\", \"Activer le mode plein ÃƒÂ©cran\");\n                            updateIcon(false);\n                            debouncedInvalidateSize();\n                        })\n                        .catch((err) => {\n                            if (Log) Log.error(\"[UI.Controls] Erreur sortie plein ÃƒÂ©cran:\", err);\n                        });\n                }\n            };\n\n            const fullscreenChangeHandler = () => {\n                if (!document.fullscreenElement) {\n                    link.classList.remove(\"is-fullscreen\");\n                    link.title = \"Plein ÃƒÂ©cran\";\n                    link.setAttribute(\"aria-label\", \"Activer le mode plein ÃƒÂ©cran\");\n                    updateIcon(false);\n                    debouncedInvalidateSize();\n                }\n            };\n\n            L.DomEvent.on(link, \"click\", toggleFullscreen);\n            L.DomEvent.on(link, \"keydown\", (e) => {\n                if (e.key === \"Enter\" || e.key === \" \" || e.key === \"Spacebar\") {\n                    toggleFullscreen(e);\n                }\n            });\n\n            document.addEventListener(\"fullscreenchange\", fullscreenChangeHandler);\n\n            this._fullscreenChangeHandler = fullscreenChangeHandler;\n            this._toggleFullscreen = toggleFullscreen;\n            this._link = link;\n            this._mapContainer = mapContainer;\n            this._debouncedInvalidateSize = debouncedInvalidateSize;\n\n            return container;\n        },\n\n        onRemove: function (_map) {\n            // MEMORY LEAK FIX (Phase 2): Clean up circular references in closures\n            if (this._fullscreenChangeHandler) {\n                document.removeEventListener(\"fullscreenchange\", this._fullscreenChangeHandler);\n                this._fullscreenChangeHandler = null;\n            }\n\n            if (this._link) {\n                L.DomEvent.off(this._link, \"click\", this._toggleFullscreen);\n                L.DomEvent.off(this._link, \"keydown\");\n                this._link = null;\n            }\n\n            // Clean up closure references to prevent memory leaks\n            this._toggleFullscreen = null;\n            this._mapContainer = null;\n            this._debouncedInvalidateSize = null;\n        },\n    });\n\n    new L.Control.Fullscreen().addTo(map);\n    if (Log) Log.info(\"[UI.Controls] ContrÃƒÂ´le plein ÃƒÂ©cran ajoutÃƒÂ© ÃƒÂ  la carte\");\n}\n\n// ========================================\n//   GEOLOCATION CONTROL\n// ========================================\n\n/**\n * Gestion de la gÃƒÂ©olocalisation pour centrer la carte sur la position de l'utilisateur\n * @param {L.Map} map - Instance de la carte Leaflet\n * @param {Object} config - Configuration incluant ui.enableGeolocation\n */\nfunction initGeolocationControl(map, config) {\n    if (!map) {\n        if (Log) Log.warn(\"[UI.Controls] initGeolocationControl: carte manquante\");\n        return;\n    }\n\n    // VÃƒÂ©rifier si la gÃƒÂ©olocalisation est activÃƒÂ©e dans la config\n    if (!config?.ui?.enableGeolocation) {\n        if (Log)\n            Log.info(\"[UI.Controls] GÃƒÂ©olocalisation dÃƒÂ©sactivÃƒÂ©e dans la configuration\");\n        return;\n    }\n\n    // VÃƒÂ©rifier que Leaflet est disponible\n    if (typeof L === \"undefined\" || !L.Control) {\n        if (Log) Log.warn(\"[UI.Controls] Leaflet n'est pas disponible\");\n        return;\n    }\n\n    // VÃƒÂ©rifier que l'API de gÃƒÂ©olocalisation est disponible\n    if (!navigator.geolocation) {\n        if (Log)\n            Log.warn(\n                \"[UI.Controls] La gÃƒÂ©olocalisation n'est pas supportÃƒÂ©e par ce navigateur\"\n            );\n        return;\n    }\n\n    // Marqueur de position utilisateur (stockÃƒÂ© pour pouvoir le supprimer/mettre ÃƒÂ  jour)\n    let userMarker = null;\n    let accuracyCircle = null;\n\n    // ContrÃƒÂ´le Leaflet personnalisÃƒÂ©\n    L.Control.Geolocation = L.Control.extend({\n        options: {\n            position: \"topleft\",\n        },\n\n        onAdd: function (map) {\n            const container = L.DomUtil.create(\n                \"div\",\n                \"leaflet-control-geolocation leaflet-bar leaflet-control\"\n            );\n            const link = L.DomUtil.create(\"a\", \"\", container);\n\n            link.href = \"#\";\n            link.title = \"GÃƒÂ©olocalisation ON/OFF\";\n            link.setAttribute(\"role\", \"button\");\n            link.setAttribute(\"aria-label\", \"Activer/DÃƒÂ©sactiver le suivi GPS\");\n\n            // IcÃƒÂ´ne de gÃƒÂ©olocalisation (utilisation d'un SVG ou Unicode)\n            // SAFE: SVG statique hardcodÃƒÂ©, pas de donnÃƒÂ©es utilisateur\n            const geoSvg = DOMSecurity.createSVGIcon(\n                18,\n                18,\n                \"M12 2 C 6.5 2 2 6.5 2 12 C 2 17.5 6.5 22 12 22 C 17.5 22 22 17.5 22 12 C 22 6.5 17.5 2 12 2 M12 9 C 10.3 9 9 10.3 9 12 C 9 13.7 10.3 15 12 15 C 13.7 15 15 13.7 15 12 C 15 10.3 13.7 9 12 9\",\n                {\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    fill: \"none\",\n                }\n            );\n            link.appendChild(geoSvg);\n\n            // Ãƒâ€°viter la propagation vers la carte\n            L.DomEvent.disableClickPropagation(container);\n            L.DomEvent.disableScrollPropagation(container);\n\n            const toggleGeolocation = (e) => {\n                L.DomEvent.preventDefault(e);\n\n                // Si déjà actif, désactiver\n                if (GeoLocationState.active) {\n                    // Désactiver le tracking\n                    if (GeoLocationState.watchId !== null) {\n                        navigator.geolocation.clearWatch(GeoLocationState.watchId);\n                        GeoLocationState.watchId = null;\n                    }\n\n                    // Retirer les marqueurs et cercles\n                    if (userMarker) {\n                        map.removeLayer(userMarker);\n                        userMarker = null;\n                    }\n                    if (accuracyCircle) {\n                        map.removeLayer(accuracyCircle);\n                        accuracyCircle = null;\n                    }\n\n                    // Réinitialiser l'état\n                    GeoLocationState.active = false;\n                    GeoLocationState.userPosition = null;\n\n                    link.classList.remove(\"is-active\");\n                    link.classList.remove(\"is-locating\");\n\n                    if (Log) Log.info(\"[UI.Controls] GÃƒÂ©olocalisation dÃƒÂ©sactivÃƒÂ©e\");\n                    return;\n                }\n\n                // Activer le mode gÃƒÂ©olocalisation\n                link.classList.add(\"is-locating\");\n\n                // Utiliser watchPosition pour un tracking continu\n                GeoLocationState.watchId = navigator.geolocation.watchPosition(\n                    (position) => {\n                        const { latitude, longitude, accuracy } = position.coords;\n\n                        // Première activation : centrer la carte\n                        if (!GeoLocationState.active) {\n                            map.setView([latitude, longitude], 16, {\n                                animate: true,\n                                duration: 0.5,\n                            });\n                        } else {\n                            // Mise ÃƒÂ  jour continue : dÃƒÂ©placer le marqueur sans recentrer\n                            // (sauf si on veut un mode \"suivi\" permanent)\n                        }\n\n                        // Supprimer l'ancien marqueur et cercle s'ils existent\n                        if (userMarker) {\n                            map.removeLayer(userMarker);\n                        }\n                        if (accuracyCircle) {\n                            map.removeLayer(accuracyCircle);\n                        }\n\n                        // CrÃƒÂ©er un nouveau marqueur pour la position de l'utilisateur\n                        userMarker = L.marker([latitude, longitude], {\n                            icon: L.divIcon({\n                                className:\n                                    \"gl-user-location-marker gl-user-location-marker--active\",\n                                html: `<div class=\"gl-user-location-dot gl-user-location-dot--active\"></div>`,\n                                iconSize: [22, 22],\n                                iconAnchor: [11, 11],\n                            }),\n                            zIndexOffset: 1000,\n                        }).addTo(map);\n\n                        // Ajouter un cercle de prÃƒÂ©cision\n                        if (accuracy && accuracy < 1000) {\n                            const interactiveShapes = Config.get(\"ui.interactiveShapes\", false);\n                            accuracyCircle = L.circle([latitude, longitude], {\n                                radius: accuracy,\n                                className: \"gl-user-location-accuracy\",\n                                fillColor: \"#4285F4\",\n                                fillOpacity: 0.1,\n                                stroke: true,\n                                color: \"#4285F4\",\n                                opacity: 0.3,\n                                weight: 1,\n                                interactive: interactiveShapes,\n                            }).addTo(map);\n                        }\n\n                        // Mettre à jour l'état\n                        GeoLocationState.active = true;\n                        link.classList.remove(\"is-locating\");\n                        link.classList.add(\"is-active\");\n\n                        // Stocker la position GPS pour utilisation par d'autres fonctionnalités (ex: recherche par proximité)\n                        GeoLocationState.userPosition = {\n                            lat: latitude,\n                            lng: longitude,\n                            accuracy: accuracy,\n                            timestamp: Date.now(),\n                        };\n\n                        if (Log)\n                            Log.debug(\n                                \"[UI.Controls] Position GPS mise ÃƒÂ  jour:\",\n                                latitude,\n                                longitude\n                            );\n                    },\n                    (error) => {\n                        link.classList.remove(\"is-locating\");\n                        link.classList.remove(\"is-active\");\n                        GeoLocationState.active = false;\n\n                        let errorMessage = \"Impossible d'obtenir votre position\";\n                        switch (error.code) {\n                            case error.PERMISSION_DENIED:\n                                errorMessage = \"Permission de gÃƒÂ©olocalisation refusÃƒÂ©e\";\n                                break;\n                            case error.POSITION_UNAVAILABLE:\n                                errorMessage = \"Position indisponible\";\n                                break;\n                            case error.TIMEOUT:\n                                errorMessage = \"DÃƒÂ©lai de gÃƒÂ©olocalisation dÃƒÂ©passÃƒÂ©\";\n                                break;\n                        }\n\n                        if (Log) Log.error(\"[UI.Controls] Erreur de gÃƒÂ©olocalisation:\", error);\n\n                        // Afficher un message ÃƒÂ  l'utilisateur via le systÃƒÂ¨me de notifications\n                        if (_UINotifications && typeof _UINotifications.error === \"function\") {\n                            _UINotifications.error(errorMessage);\n                        } else {\n                            Log.warn(\"[UI.Controls] \" + errorMessage);\n                        }\n                    },\n                    {\n                        enableHighAccuracy: true,\n                        timeout: 10000,\n                        maximumAge: 0,\n                    }\n                );\n            };\n\n            L.DomEvent.on(link, \"click\", toggleGeolocation);\n            L.DomEvent.on(link, \"keydown\", (e) => {\n                if (e.key === \"Enter\" || e.key === \" \" || e.key === \"Spacebar\") {\n                    toggleGeolocation(e);\n                }\n            });\n\n            this._link = link;\n            this._userMarker = userMarker;\n\n            return container;\n        },\n\n        onRemove: function (map) {\n            if (this._link) {\n                L.DomEvent.off(this._link, \"click\");\n                L.DomEvent.off(this._link, \"keydown\");\n                this._link = null;\n            }\n\n            if (this._userMarker) {\n                map.removeLayer(this._userMarker);\n                this._userMarker = null;\n            }\n        },\n    });\n\n    new L.Control.Geolocation().addTo(map);\n    if (Log) Log.info(\"[UI.Controls] ContrÃƒÂ´le de gÃƒÂ©olocalisation ajoutÃƒÂ© ÃƒÂ  la carte\");\n}\n\n// ========================================\n//   POI ADD CONTROL\n// ========================================\n\n/**\n * Gestion du bouton d'ajout de POI sur la carte\n * Permet aux utilisateurs d'ajouter de nouveaux points d'intÃƒÂ©rÃƒÂªt\n * @param {L.Map} map - Instance de la carte Leaflet\n * @param {Object} config - Configuration incluant ui.showAddPoi et poi.*\n */\nfunction initPoiAddControl(map, config) {\n    if (!map) {\n        if (Log) Log.warn(\"[UI.Controls] initPoiAddControl: carte manquante\");\n        return;\n    }\n\n    // VÃƒÂ©rifier si le bouton POI Add est activÃƒÂ©\n    if (!config?.ui?.showAddPoi) {\n        if (Log) Log.debug(\"[UI.Controls] Bouton POI Add dÃƒÂ©sactivÃƒÂ© dans la configuration\");\n        return;\n    }\n\n    // VÃƒÂ©rifier que Leaflet est disponible\n    if (typeof L === \"undefined\" || !L.Control) {\n        if (Log) Log.warn(\"[UI.Controls] Leaflet n'est pas disponible\");\n        return;\n    }\n\n    // VÃƒÂ©rifier que les modules POI sont chargÃƒÂ©s\n    if (\n        !POIAddFormContract.isAddFormAvailable() ||\n        !POIAddFormContract.isPlacementModeAvailable()\n    ) {\n        if (Log) Log.warn(\"[UI.Controls] Modules POI non chargÃƒÂ©s\");\n        return;\n    }\n\n    // ContrÃƒÂ´le Leaflet personnalisÃƒÂ© pour l'ajout de POI\n    L.Control.PoiAdd = L.Control.extend({\n        options: {\n            position: \"topleft\",\n        },\n\n        onAdd: function (map) {\n            const container = L.DomUtil.create(\n                \"div\",\n                \"leaflet-control-poi-add leaflet-bar leaflet-control\"\n            );\n            const link = L.DomUtil.create(\"a\", \"\", container);\n\n            link.href = \"#\";\n            link.title = \"Ajouter un POI\";\n            link.setAttribute(\"role\", \"button\");\n            link.setAttribute(\"aria-label\", \"Ajouter un nouveau point d'intÃƒÂ©rÃƒÂªt\");\n\n            // IcÃƒÂ´ne d'ajout de POI (SVG statique)\n            // SAFE: SVG statique hardcodÃƒÂ©, pas de donnÃƒÂ©es utilisateur\n            const poiSvg = DOMSecurity.createSVGIcon(\n                18,\n                18,\n                \"M12 2 C 6.5 2 2 6.5 2 12 C 2 17.5 6.5 22 12 22 C 17.5 22 22 17.5 22 12 C 22 6.5 17.5 2 12 2 M12 8 L12 16 M8 12 L16 12\",\n                {\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    fill: \"none\",\n                }\n            );\n            link.appendChild(poiSvg);\n\n            // Ãƒâ€°viter la propagation vers la carte\n            L.DomEvent.disableClickPropagation(container);\n            L.DomEvent.disableScrollPropagation(container);\n\n            const handleAddPoi = (e) => {\n                L.DomEvent.preventDefault(e);\n\n                // DÃƒÂ©sactiver le bouton temporairement\n                link.classList.add(\"disabled\");\n\n                // Fonction pour ouvrir le formulaire\n                const openForm = (latlng) => {\n                    link.classList.remove(\"disabled\");\n\n                    if (!POIAddFormContract.isAddFormAvailable()) {\n                        if (Log) Log.error(\"[UI.Controls] AddForm.openAddForm non disponible\");\n                        return;\n                    }\n\n                    POIAddFormContract.openAddForm(latlng, null);\n                };\n\n                // VÃƒÂ©rifier si la gÃƒÂ©olocalisation est disponible et si elle est le mode par dÃƒÂ©faut\n                const userPosition = GeoLocationState.userPosition;\n                const defaultPosition = config?.poiAddConfig?.defaultPosition || \"placement-mode\";\n\n                if (userPosition && defaultPosition === \"geolocation\") {\n                    // Utiliser la position GPS\n                    if (Log)\n                        Log.debug(\n                            \"[UI.Controls] Utilisation de la position GPS pour l'ajout de POI\"\n                        );\n                    openForm(userPosition);\n                } else {\n                    // Activer le mode placement\n                    if (Log)\n                        Log.debug(\"[UI.Controls] Activation du mode placement pour l'ajout de POI\");\n                    POIAddFormContract.activatePlacementMode(map, (result) => {\n                        if (result?.latlng) {\n                            openForm(result.latlng);\n                        } else {\n                            link.classList.remove(\"disabled\");\n                            if (Log) Log.warn(\"[UI.Controls] Mode placement cancelled\");\n                        }\n                    });\n                }\n            };\n\n            L.DomEvent.on(link, \"click\", handleAddPoi);\n            L.DomEvent.on(link, \"keydown\", (e) => {\n                if (e.key === \"Enter\" || e.key === \" \" || e.key === \"Spacebar\") {\n                    handleAddPoi(e);\n                }\n            });\n\n            this._link = link;\n\n            return container;\n        },\n\n        onRemove: function (_map) {\n            if (this._link) {\n                L.DomEvent.off(this._link, \"click\");\n                L.DomEvent.off(this._link, \"keydown\");\n                this._link = null;\n            }\n        },\n    });\n\n    new L.Control.PoiAdd().addTo(map);\n    if (Log) Log.info(\"[UI.Controls] ContrÃƒÂ´le POI Add ajoutÃƒÂ© ÃƒÂ  la carte\");\n}\n\n// ========================================\n//   EXPORT\n// ========================================\n\nconst _UIControls = {\n    initFullscreenControl,\n    initGeolocationControl,\n    initPoiAddControl,\n};\n\n// Ã¢â€â‚¬Ã¢â€â‚¬ ESM Export Ã¢â€â‚¬Ã¢â€â‚¬\nexport { _UIControls };\n","/*!\n * GeoLeaf Core\n * © 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\nimport { Log } from '../log/index.js';\nimport { Config } from '../config/geoleaf-config/config-core.js';\n\n    /**\n     * Contexte pour les logs\n     * @const\n     */\n    const CONTEXT = \"[GeoLeaf.UI.CoordinatesDisplay]\";\n\n    /**\n     * Texte par défaut des coordonnées\n     * @const\n     */\n    const DEFAULT_COORDS_TEXT = \"Lat: --, Lng: --\";\n\n    /**\n     * Module GeoLeaf.UI.CoordinatesDisplay\n     *\n     * Rôle :\n     * - Afficher les coordonnées du curseur en temps réel\n     * - Positionner le contrôle en bas à droite à côté de la légende\n     * - Permettre l'activation/désactivation via configuration\n     */\n    const CoordinatesDisplay = {\n        /**\n         * Référence à la carte Leaflet.\n         * @type {L.Map|null}\n         * @private\n         */\n        _map: null,\n\n        /**\n         * Référence au contrôle Leaflet des coordonnées.\n         * @type {L.Control|null}\n         * @private\n         */\n        _control: null,\n\n        /**\n         * Element DOM pour l'affichage des coordonnées\n         * @type {HTMLElement|null}\n         * @private\n         */\n        _coordsElement: null,\n\n        /**\n         * Référence bound du listener mousemove (pour pouvoir le retirer)\n         * @type {Function|null}\n         * @private\n         */\n        _boundMouseMoveHandler: null,\n\n        /**\n         * Options du module\n         * @type {Object}\n         * @private\n         */\n        _options: {\n            position: \"bottomleft\",\n            decimals: 6\n        },\n\n        /**\n         * Initialise le module de coordonnées\n         * @param {L.Map} map - Instance de la carte Leaflet\n         * @param {Object} options - Options de configuration\n         */\n        init(map, options = {}) {\n            try {\n                if (!map) {\n                    throw new Error(\"Une instance de carte Leaflet est requise.\");\n                }\n\n                this._map = map;\n                this._options = Object.assign({}, this._options, options);\n\n                // Vérifier si le module est activé dans la config\n                const showCoordinates = Config?.get(\"ui.showCoordinates\");\n\n                if (showCoordinates === false) {\n                    Log.info(`${CONTEXT} Affichage des coordonnées désactivé dans la configuration.`);\n                    return;\n                }\n\n                // Stocker la référence bound du listener\n                this._boundMouseMoveHandler = this._onMouseMove.bind(this);\n\n                // Créer le contrôle Leaflet\n                this._createControl();\n\n                Log.info(`${CONTEXT} Module initialisé avec succès.`);\n\n            } catch (err) {\n                Log.error(`${CONTEXT} Erreur lors de l'initialisation :`, err.message);\n            }\n        },\n\n        /**\n         * Crée le contrôle Leaflet pour l'affichage des coordonnées\n         * @private\n         */\n        _createControl() {\n            try {\n                // Perf 6.2.4: MutationObserver instead of setTimeout(100) for robustness\n                // Wait for .gl-scale-main-wrapper to appear in DOM without a fixed delay\n                const scaleWrapper = document.querySelector('.gl-scale-main-wrapper');\n\n                if (scaleWrapper) {\n                    this._attachToScaleWrapper(scaleWrapper);\n                } else {\n                    // Wrapper not yet in DOM: observe body until it appears\n                    const observer = new MutationObserver((_mutations, obs) => {\n                        const el = document.querySelector('.gl-scale-main-wrapper');\n                        if (el) {\n                            obs.disconnect();\n                            this._attachToScaleWrapper(el);\n                        }\n                    });\n                    observer.observe(document.body || document.documentElement, {\n                        childList: true,\n                        subtree: true\n                    });\n                    // Safety timeout: fallback to standalone after 5s if wrapper never appears\n                    setTimeout(() => {\n                        observer.disconnect();\n                        if (!this._coordsElement) {\n                            Log.warn(`${CONTEXT} Wrapper d'échelle non trouvé après 5s, utilisation du mode classique.`);\n                            this._createStandaloneControl();\n                        }\n                    }, 5000);\n                }\n\n            } catch (err) {\n                Log.error(`${CONTEXT} Erreur lors de la création du contrôle :`, err.message);\n            }\n        },\n\n        /**\n         * Attache les coordonnées au wrapper d'échelle existant\n         * @param {HTMLElement} scaleWrapper - Wrapper d'échelle\n         * @private\n         */\n        _attachToScaleWrapper(scaleWrapper) {\n            // Ajouter un séparateur avant les coordonnées\n            L.DomUtil.create('div', 'gl-scale-separator', scaleWrapper);\n\n            // Créer l'élément d'affichage des coordonnées directement dans le wrapper\n            this._coordsElement = L.DomUtil.create('div', 'gl-scale-coordinates', scaleWrapper);\n            this._coordsElement.textContent = DEFAULT_COORDS_TEXT;\n\n            // Ajouter l'écouteur d'événement mousemove avec référence stockée\n            this._map.on('mousemove', this._boundMouseMoveHandler);\n\n            Log.info(`${CONTEXT} Coordonnées intégrées au wrapper d'échelle.`);\n        },\n\n        /**\n         * Crée un contrôle standalone en fallback\n         * @private\n         */\n        _createStandaloneControl() {\n            const CoordinatesControl = L.Control.extend({\n                options: {\n                    position: this._options.position\n                },\n\n                onAdd: (map) => {\n                    const container = L.DomUtil.create(\"div\", \"geoleaf-coordinates-display\");\n                    L.DomEvent.disableClickPropagation(container);\n                    L.DomEvent.disableScrollPropagation(container);\n                    this._coordsElement = L.DomUtil.create(\"div\", \"coordinates-content\", container);\n                    this._coordsElement.textContent = DEFAULT_COORDS_TEXT;\n                    map.on(\"mousemove\", this._boundMouseMoveHandler);\n                    return container;\n                },\n\n                onRemove: (map) => {\n                    map.off(\"mousemove\", this._boundMouseMoveHandler);\n                }\n            });\n\n            this._control = new CoordinatesControl();\n            this._control.addTo(this._map);\n        },\n\n        /**\n         * Gestionnaire d'événement pour le mouvement de la souris\n         * @param {Object} e - Événement Leaflet\n         * @private\n         */\n        _onMouseMove(e) {\n            if (!this._coordsElement) return;\n\n            const lat = e.latlng.lat.toFixed(this._options.decimals);\n            const lng = e.latlng.lng.toFixed(this._options.decimals);\n\n            this._coordsElement.textContent = `Lat: ${lat}, Lng: ${lng}`;\n        },\n\n        /**\n         * Détruit le contrôle et nettoie les ressources\n         */\n        destroy() {\n            try {\n                // Nettoyer l'écouteur d'événements avec la référence stockée\n                if (this._map && this._boundMouseMoveHandler) {\n                    this._map.off('mousemove', this._boundMouseMoveHandler);\n                    this._boundMouseMoveHandler = null;\n                }\n\n                // Retirer l'élément du DOM s'il existe\n                if (this._coordsElement && this._coordsElement.parentNode) {\n                    this._coordsElement.parentNode.removeChild(this._coordsElement);\n                    this._coordsElement = null;\n                }\n\n                // Retirer le contrôle standalone s'il existe\n                if (this._control && this._map) {\n                    this._map.removeControl(this._control);\n                    this._control = null;\n                }\n\n                Log.info(`${CONTEXT} Module détruit avec succès.`);\n\n            } catch (err) {\n                Log.error(`${CONTEXT} Erreur lors de la destruction :`, err.message);\n            }\n        }\n    };\n\n// ── ESM Export ──\nexport { CoordinatesDisplay };\n","/*!\n * GeoLeaf Core\n * © 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf UI DOM Utilities Module\n * Utilitaires DOM réutilisables pour l'interface utilisateur\n */\n\nimport { Log } from '../log/index.js';\nimport { $create } from '../utils/dom-helpers.js';\nimport { resolveField } from '../utils/general-utils.js';\nimport { Config } from '../config/geoleaf-config/config-core.js';\n\nconst _UIDomUtils = {};\n\n// Delegate resolveField to canonical import (Phase 4 dedup)\n_UIDomUtils.resolveField = resolveField;\n\n/**\n * Attache le comportement d'accordéon (toggle open/close) à un conteneur.\n * Évite les attachements multiples avec un flag.\n * @param {HTMLElement} container - Conteneur parent avec des éléments .gl-accordion\n */\n_UIDomUtils.attachAccordionBehavior = function (container) {\n    if (!container || container._glAccordionBound) return;\n    container._glAccordionBound = true;\n\n    container.addEventListener(\"click\", function (evt) {\n        const header = evt.target.closest(\".gl-accordion__header\");\n        if (!header || !container.contains(header)) {\n            return;\n        }\n        const section = header.closest(\".gl-accordion\");\n        if (!section) return;\n\n        section.classList.toggle(\"is-open\");\n    });\n};\n\n/**\n * Récupère le profil actif depuis GeoLeaf.Config.\n * @returns {Object|null} Objet profil ou null si indisponible\n */\n_UIDomUtils.getActiveProfileConfig = function () {\n    if (\n        !Config ||\n        typeof Config.getActiveProfile !== \"function\"\n    ) {\n        Log.warn(\n            \"[UIDomUtils] GeoLeaf.Config.getActiveProfile() indisponible. Impossible de récupérer le profil actif.\"\n        );\n        return null;\n    }\n    const profile = Config.getActiveProfile();\n    if (!profile) {\n        Log.warn(\n            \"[UIDomUtils] Aucun profil actif retourné par GeoLeaf.Config.getActiveProfile().\"\n        );\n    }\n    return profile || null;\n};\n\n/**\n * Construit les <option> d'un select à partir de la taxonomie et d'un chemin optionsFrom.\n * @param {HTMLSelectElement} selectEl - Élément <select> à peupler\n * @param {Object} profile - Objet profil contenant la taxonomie\n * @param {string} optionsFrom - Chemin vers les options (ex: \"taxonomy.categories\")\n */\n_UIDomUtils.populateSelectOptionsFromTaxonomy = function (\n    selectEl,\n    profile,\n    optionsFrom\n) {\n    if (!selectEl || !profile || !profile.taxonomy) return;\n\n    const taxonomy = profile.taxonomy;\n    const emptyOpt = $create(\"option\", {\n        value: \"\",\n        textContent: \"— Tous —\"\n    });\n    selectEl.appendChild(emptyOpt);\n\n    if (optionsFrom === \"taxonomy.categories\") {\n        const categories = taxonomy.categories || {};\n        Object.keys(categories).forEach(function (catId) {\n            const cat = categories[catId];\n            const opt = $create(\"option\", {\n                value: catId,\n                textContent: cat.label || catId\n            });\n            selectEl.appendChild(opt);\n        });\n        return;\n    }\n\n    if (optionsFrom === \"taxonomy.categories[*].subcategories\") {\n        const categories = taxonomy.categories || {};\n        Object.keys(categories).forEach(function (catId) {\n            const cat = categories[catId];\n            const subs = (cat && cat.subcategories) || {};\n            Object.keys(subs).forEach(function (subId) {\n                const sub = subs[subId];\n                const catLabel = cat.label || catId;\n                const subLabel = sub.label || subId;\n                const opt = $create(\"option\", {\n                    value: subId,\n                    textContent: catLabel + \" – \" + subLabel,\n                    attributes: { \"data-category-id\": catId }\n                });\n                selectEl.appendChild(opt);\n            });\n        });\n    }\n};\n\n// ── ESM Export ──\nexport { _UIDomUtils };\n","/**\r\n * GeoLeaf UI Module - Event Delegation\r\n * Centralisation de la gestion des événements UI avec patterns de délégation efficaces\r\n *\r\n * @module ui/event-delegation\r\n * @author Assistant\r\n * @version 1.0.0\r\n */\r\nimport { Log } from '../log/index.js';\r\n\r\n// ========================================\r\n//   CONSTANTES & ÉTAT\r\n// ========================================\r\n\r\n/**\r\n * Map des listeners actifs pour cleanup\r\n * @type {Map<string, {element: HTMLElement, event: string, handler: Function}>}\r\n */\r\nconst _activeListeners = new Map();\r\n\r\n/**\r\n * Compteur pour identifiants uniques des listeners\r\n * @type {number}\r\n */\r\nlet _listenerIdCounter = 0;\r\n\r\n// ========================================\r\n//   UTILITAIRES DE DÉLÉGATION\r\n// ========================================\r\n\r\n/**\r\n * Attache un event listener avec tracking automatique pour cleanup\r\n * @param {HTMLElement} element - Élément DOM\r\n * @param {string} event - Type d'événement\r\n * @param {Function} handler - Handler de l'événement\r\n * @param {Object} options - Options pour addEventListener\r\n * @returns {string} ID unique du listener pour cleanup\r\n */\r\nfunction attachTrackedListener(element, event, handler, options = {}) {\r\n    if (!element || typeof handler !== 'function') {\r\n        if (Log) Log.warn(\"[UI.EventDelegation] attachTrackedListener: élement ou handler manquant\");\r\n        return null;\r\n    }\r\n\r\n    const listenerId = `listener_${++_listenerIdCounter}`;\r\n\r\n    // Wrapper pour tracking automatique des erreurs\r\n    const wrappedHandler = function(e) {\r\n        try {\r\n            return handler.call(this, e);\r\n        } catch (error) {\r\n            if (Log) Log.error(\"[UI.EventDelegation] Erreur dans handler:\", error);\r\n        }\r\n    };\r\n\r\n    element.addEventListener(event, wrappedHandler, options);\r\n\r\n    _activeListeners.set(listenerId, {\r\n        element,\r\n        event,\r\n        handler: wrappedHandler,\r\n        originalHandler: handler\r\n    });\r\n\r\n    return listenerId;\r\n}\r\n\r\n/**\r\n * Détache un listener trackée\r\n * @param {string} listenerId - ID retourné par attachTrackedListener\r\n * @returns {boolean} True si succès\r\n */\r\nfunction detachTrackedListener(listenerId) {\r\n    if (!listenerId || !_activeListeners.has(listenerId)) {\r\n        return false;\r\n    }\r\n\r\n    const { element, event, handler } = _activeListeners.get(listenerId);\r\n    element.removeEventListener(event, handler);\r\n    _activeListeners.delete(listenerId);\r\n    return true;\r\n}\r\n\r\n/**\r\n * Nettoie tous les listeners trackées\r\n * @returns {number} Nombre de listeners nettoyées\r\n */\r\nfunction cleanupAllListeners() {\r\n    let cleaned = 0;\r\n    for (const [listenerId, { element, event, handler }] of _activeListeners) {\r\n        element.removeEventListener(event, handler);\r\n        cleaned++;\r\n    }\r\n    _activeListeners.clear();\r\n    if (Log && cleaned > 0) {\r\n        Log.info(`[UI.EventDelegation] ${cleaned} listeners nettoyées`);\r\n    }\r\n    return cleaned;\r\n}\r\n\r\n// ========================================\r\n//   DÉLÉGATION PAR TYPES UI SPÉCIFIQUES\r\n// ========================================\r\n\r\n/**\r\n * Gère les événements des inputs de filtre avec debouncing\r\n * @param {HTMLElement} filterContainer - Conteneur des filtres\r\n * @param {Function} onFilterChange - Callback appelé lors des changements\r\n * @param {number} debounceMs - Délai de debounce (défaut: 300ms)\r\n * @returns {string[]} IDs des listeners créés\r\n */\r\nfunction attachFilterInputEvents(filterContainer, onFilterChange, debounceMs = 300) {\r\n    if (!filterContainer || typeof onFilterChange !== 'function') {\r\n        if (Log) Log.warn(\"[UI.EventDelegation] attachFilterInputEvents: paramètres manquants\");\r\n        return [];\r\n    }\r\n\r\n    const listenerIds = [];\r\n    let debounceTimer = null;\r\n\r\n    // Fonction debounce pour les inputs\r\n    const debouncedHandler = function() {\r\n        if (debounceTimer) clearTimeout(debounceTimer);\r\n        debounceTimer = setTimeout(() => {\r\n            onFilterChange();\r\n        }, debounceMs);\r\n    };\r\n\r\n    // Délégation pour tous les inputs de type text/range\r\n    const textInputHandler = function(e) {\r\n        if (e.target.matches('input[type=\"text\"], input[type=\"range\"]')) {\r\n            debouncedHandler();\r\n        }\r\n    };\r\n\r\n    // Délégation pour les checkboxes (pas de debounce)\r\n    const checkboxHandler = function(e) {\r\n        if (e.target.matches('input[type=\"checkbox\"]')) {\r\n            onFilterChange();\r\n        }\r\n    };\r\n\r\n    // Délégation pour les selects\r\n    const selectHandler = function(e) {\r\n        if (e.target.matches('select')) {\r\n            onFilterChange();\r\n        }\r\n    };\r\n\r\n    listenerIds.push(attachTrackedListener(filterContainer, 'input', textInputHandler));\r\n    listenerIds.push(attachTrackedListener(filterContainer, 'change', checkboxHandler));\r\n    listenerIds.push(attachTrackedListener(filterContainer, 'change', selectHandler));\r\n\r\n    return listenerIds.filter(id => id !== null);\r\n}\r\n\r\n/**\r\n * Gère les événements d'accordéon avec délégation\r\n * @param {HTMLElement} container - Conteneur des accordéons\r\n * @returns {string} ID du listener créé\r\n */\r\nfunction attachAccordionEvents(container) {\r\n    if (!container) {\r\n        if (Log) Log.warn(\"[UI.EventDelegation] attachAccordionEvents: conteneur manquant\");\r\n        return null;\r\n    }\r\n\r\n    const accordionHandler = function(e) {\r\n        // Cherche le bouton d'accordéon dans la hiérarchie\r\n        const accordionButton = e.target.closest('.gl-accordion-toggle, .accordion-arrow');\r\n        if (!accordionButton) return;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        // Trouve le panel associé\r\n        const panel = accordionButton.closest('.gl-accordion')?.querySelector('.gl-accordion-content');\r\n        if (!panel) return;\r\n\r\n        // Toggle accordéon\r\n        const isExpanded = panel.style.display !== 'none';\r\n        panel.style.display = isExpanded ? 'none' : 'block';\r\n\r\n        // Met à jour l'aria-expanded\r\n        accordionButton.setAttribute('aria-expanded', !isExpanded);\r\n\r\n        // Met à jour l'icône si présente\r\n        const icon = accordionButton.querySelector('.accordion-icon, .accordion-arrow');\r\n        if (icon) {\r\n            icon.classList.toggle('expanded', !isExpanded);\r\n        }\r\n    };\r\n\r\n    return attachTrackedListener(container, 'click', accordionHandler);\r\n}\r\n\r\n/**\r\n * Gère les événements des contrôles de carte (delegation pour les boutons)\r\n * @param {HTMLElement} mapContainer - Conteneur de la carte\r\n * @param {Object} handlers - Map des handlers { selectorPattern: handlerFunction }\r\n * @returns {string[]} IDs des listeners créés\r\n */\r\nfunction attachMapControlEvents(mapContainer, handlers) {\r\n    if (!mapContainer || !handlers || typeof handlers !== 'object') {\r\n        if (Log) Log.warn(\"[UI.EventDelegation] attachMapControlEvents: paramètres manquants\");\r\n        return [];\r\n    }\r\n\r\n    const listenerIds = [];\r\n\r\n    const controlHandler = function(e) {\r\n        for (const [selector, handler] of Object.entries(handlers)) {\r\n            if (e.target.matches(selector) || e.target.closest(selector)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                if (typeof handler === 'function') {\r\n                    handler.call(this, e);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    };\r\n\r\n    listenerIds.push(attachTrackedListener(mapContainer, 'click', controlHandler));\r\n    return listenerIds.filter(id => id !== null);\r\n}\r\n\r\n// ========================================\r\n//   API PUBLIQUE\r\n// ========================================\r\n\r\n/**\r\n * Obtient le nombre de listeners actifs enregistrés\r\n * Utile pour le debugging et le monitoring des fuites mémoire\r\n * @returns {number} Nombre de listeners actifs\r\n */\r\nfunction getActiveListenersCount() {\r\n    return _activeListeners.size;\r\n}\r\n\r\n/**\r\n * Récupère la liste complète des listeners actifs avec leurs métadonnées\r\n * @returns {string[]} Liste des IDs de listeners actifs\r\n */\r\nfunction getActiveListeners() {\r\n    return Array.from(_activeListeners.keys());\r\n}\r\n\r\nconst _UIEventDelegation = {\r\n    attachTrackedListener,\r\n    detachTrackedListener,\r\n    cleanupAllListeners,\r\n    attachFilterInputEvents,\r\n    attachAccordionEvents,\r\n    attachMapControlEvents,\r\n    getActiveListenersCount,\r\n    getActiveListeners\r\n};\r\n\r\n// ── ESM Export ──\r\nexport { _UIEventDelegation };\r\n","/*!\n * GeoLeaf Core\n * © 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf UI - Filter Control Builder\n * Construit les contrôles de filtres individuels\n *\n * @module ui/filter-control-builder\n */\n\"use strict\";\n\nimport { Log } from '../log/index.js';\nimport { $create } from '../utils/dom-helpers.js';\nimport { Config } from '../config/geoleaf-config/config-core.js';\nimport { Security } from '../security/index.js';\n\n    /**\n     * Construit un contrôle de filtre individuel\n     * @param {Object} filterDef - Définition du filtre\n     * @param {Object} profile - Configuration du profil\n     * @param {boolean} skipLabel - Sauter la création du label (défaut: false)\n     * @returns {HTMLElement|null}\n     */\n    const _buildFilterControl = function(filterDef, profile, skipLabel) {\n        if (!filterDef || !filterDef.id || !filterDef.type) return null;\n\n        const wrapper = $create(\"div\", {\n            className: \"gl-filter-panel__group\",\n            attributes: { \"data-gl-filter-id\": filterDef.id }\n        });\n\n        let labelEl = null;\n        // Ne pas créer de label si skipLabel est true (pour les accordéons qui ont leur propre titre)\n        if (filterDef.label && !skipLabel) {\n            labelEl = $create(\"label\", {\n                className: \"gl-filter-panel__label\",\n                textContent: filterDef.label\n            });\n            wrapper.appendChild(labelEl);\n        }\n\n        let control = null;\n\n        // 1) SELECT / MULTISELECT classiques\n        if (filterDef.type === \"select\" || filterDef.type === \"multiselect\") {\n            const selectEl = $create(\"select\", {\n                className: \"gl-filter-panel__control gl-filter-panel__control--select\",\n                name: filterDef.id,\n                id: \"gl-filter-\" + filterDef.id\n            });\n\n            if (labelEl) {\n                labelEl.setAttribute(\"for\", selectEl.id);\n            }\n\n            if (filterDef.type === \"multiselect\") {\n                selectEl.multiple = true;\n            }\n\n            if (filterDef.optionsFrom) {\n                // TODO P3-DEAD-01: _populateSelectOptionsFromTaxonomy not implemented\n                // Placeholder — taxonomy-based select population is not yet available.\n            }\n\n            control = selectEl;\n        }\n\n        // 2) SLIDER (range)\n        else if (filterDef.type === \"range\") {\n            const container = $create(\"div\", { className: \"gl-filter-panel__range-wrapper\" });\n\n            const input = $create(\"input\", {\n                type: \"range\",\n                className: \"gl-filter-panel__control gl-filter-panel__control--range\",\n                id: \"gl-filter-\" + filterDef.id,\n                name: filterDef.id\n            });\n\n            if (labelEl) {\n                labelEl.setAttribute(\"for\", input.id);\n            }\n\n            if (typeof filterDef.min === \"number\") input.min = String(filterDef.min);\n            if (typeof filterDef.max === \"number\") input.max = String(filterDef.max);\n            if (typeof filterDef.step === \"number\") input.step = String(filterDef.step);\n\n            const valueLabel = $create(\"span\", { className: \"gl-filter-panel__range-value\" });\n\n            let initialValue;\n            if (typeof filterDef.default === \"number\") {\n                initialValue = filterDef.default;\n            } else if (input.min && input.max) {\n                const min = parseFloat(input.min);\n                const max = parseFloat(input.max);\n                initialValue = (min + max) / 2;\n            } else {\n                initialValue = input.min ? parseFloat(input.min) : 0;\n            }\n\n            if (!isNaN(initialValue)) {\n                input.value = String(initialValue);\n                valueLabel.textContent = initialValue.toString().replace(\".\", \",\");\n            }\n\n            input.addEventListener(\"input\", function() {\n                const val = parseFloat(input.value);\n                if (!isNaN(val)) {\n                    valueLabel.textContent = val.toString().replace(\".\", \",\");\n                }\n            });\n\n            container.appendChild(input);\n            container.appendChild(valueLabel);\n            control = container;\n        }\n\n        // 3) TREE-VIEW catégories / sous-catégories\n        else if (filterDef.type === \"tree\" || filterDef.type === \"tree-category\" || filterDef.type === \"categoryTree\") {\n            // LAZY LOADING: Retourner un container vide avec marqueur\n            const treeContainer = $create(\"div\", {\n                className: \"gl-filter-panel__tree gl-filter-panel__tree--lazy\",\n                attributes: {\n                    \"data-lazy-type\": \"categories\",\n                    \"data-filter-id\": filterDef.id\n                }\n            });\n\n            control = treeContainer;\n        }\n\n        // 4) CHECKBOX GROUP\n        else if (filterDef.type === \"checkbox-group\") {\n            const groupContainer = $create(\"div\", { className: \"gl-filter-panel__checkbox-group\" });\n\n            if (Array.isArray(filterDef.options)) {\n                filterDef.options.forEach(function(opt) {\n                    const label = $create(\"label\", { className: \"gl-filter-panel__checkbox-label\" });\n\n                    const checkbox = $create(\"input\", {\n                        type: \"checkbox\",\n                        className: \"gl-filter-panel__checkbox\",\n                        name: filterDef.id,\n                        value: opt.id,\n                        checked: !!opt.checked,\n                        attributes: { \"data-filter-option-id\": opt.id }\n                    });\n\n                    const text = $create(\"span\", {\n                        className: \"gl-filter-panel__checkbox-text\",\n                        textContent: opt.label || opt.id\n                    });\n\n                    label.appendChild(checkbox);\n                    label.appendChild(text);\n                    groupContainer.appendChild(label);\n                });\n            }\n            control = groupContainer;\n        }\n\n        // 5) SEARCH\n        else if (filterDef.type === \"search\") {\n            const searchInput = $create(\"input\", {\n                type: \"text\",\n                className: \"gl-filter-panel__control gl-filter-panel__control--search\",\n                name: filterDef.id,\n                placeholder: filterDef.placeholder || \"Filtrer...\"\n            });\n\n            if (Array.isArray(filterDef.searchFields)) {\n                searchInput.setAttribute(\"data-search-fields\", filterDef.searchFields.join(\",\"));\n            }\n\n            control = searchInput;\n        }\n\n        // 6) PROXIMITY\n        else if (filterDef.type === \"proximity\") {\n            const proximityContainer = $create(\"div\", { className: \"gl-filter-panel__proximity\" });\n\n            if (filterDef.label) {\n                const title = $create(\"h3\", {\n                    className: \"gl-filter-panel__proximity-title\",\n                    textContent: filterDef.label\n                });\n                proximityContainer.appendChild(title);\n            }\n\n            const button = $create(\"button\", {\n                type: \"button\",\n                className: \"gl-btn gl-btn--secondary gl-filter-panel__proximity-btn\",\n                attributes: { \"data-filter-proximity-btn\": \"true\" },\n                textContent: filterDef.buttonLabel || \"Activer\"\n            });\n            proximityContainer.appendChild(button);\n\n            const rangeWrapper = $create(\"div\", {\n                className: \"gl-filter-panel__proximity-range\",\n                style: { display: \"none\" }\n            });\n\n            const rangeLabel = $create(\"label\", {\n                className: \"gl-filter-panel__label\",\n                textContent: \"Rayon (km)\",\n                attributes: { \"for\": \"gl-filter-proximity-radius\" }\n            });\n            rangeWrapper.appendChild(rangeLabel);\n\n            const rangeContainer = $create(\"div\", { className: \"gl-filter-panel__range-wrapper\" });\n\n            let minRadius = 1;\n            let maxRadius = 50;\n            let stepRadius = 1;\n            let defaultRadius = 10;\n            try {\n                const activeProfile = Config?.getActiveProfile?.();\n                if (activeProfile) {\n                    const searchConfig = (activeProfile.panels && activeProfile.panels.search) || activeProfile.search;\n                    if (searchConfig) {\n                        if (typeof searchConfig.radiusMin === \"number\" && searchConfig.radiusMin > 0) {\n                            minRadius = searchConfig.radiusMin;\n                        }\n                        if (typeof searchConfig.radiusMax === \"number\" && searchConfig.radiusMax > 0) {\n                            maxRadius = searchConfig.radiusMax;\n                        }\n                        if (typeof searchConfig.radiusStep === \"number\" && searchConfig.radiusStep > 0) {\n                            stepRadius = searchConfig.radiusStep;\n                        }\n                        if (typeof searchConfig.radiusDefault === \"number\" && searchConfig.radiusDefault > 0) {\n                            defaultRadius = searchConfig.radiusDefault;\n                        }\n                        defaultRadius = Math.max(minRadius, Math.min(defaultRadius, maxRadius));\n                    }\n                }\n            } catch (err) {\n                Log?.warn?.(\"[GeoLeaf.UI] Erreur lecture radius config:\", err);\n            }\n\n            const rangeInput = $create(\"input\", {\n                type: \"range\",\n                className: \"gl-filter-panel__control gl-filter-panel__control--range\",\n                id: \"gl-filter-proximity-radius\",\n                name: filterDef.id + \"_radius\",\n                min: String(minRadius),\n                max: String(maxRadius),\n                step: String(stepRadius),\n                value: String(defaultRadius),\n                attributes: { \"data-filter-proximity-radius\": \"true\" }\n            });\n\n            const rangeValue = $create(\"span\", {\n                className: \"gl-filter-panel__range-value\",\n                textContent: String(defaultRadius)\n            });\n\n            rangeInput.addEventListener(\"input\", function() {\n                rangeValue.textContent = rangeInput.value;\n            });\n\n            rangeContainer.appendChild(rangeInput);\n            rangeContainer.appendChild(rangeValue);\n            rangeWrapper.appendChild(rangeContainer);\n\n            const instruction = $create(\"p\", {\n                className: \"gl-filter-panel__proximity-instruction\",\n                textContent: filterDef.instructionText || \"Cliquez sur la carte\",\n                style: { display: \"none\" }\n            });\n            rangeWrapper.appendChild(instruction);\n\n            proximityContainer.appendChild(rangeWrapper);\n            control = proximityContainer;\n        }\n\n        // 7) TAGS\n        else if (filterDef.type === \"multiselect-tags\" || filterDef.id === \"tags\") {\n            const tagsContainer = $create(\"div\", {\n                className: \"gl-filter-panel__tags-container\",\n                attributes: {\n                    \"data-lazy-type\": \"tags\",\n                    \"data-filter-id\": filterDef.id\n                }\n            });\n            control = tagsContainer;\n        }\n\n        // Aucun type reconnu\n        if (!control) {\n            return null;\n        }\n\n        if (labelEl && control instanceof HTMLElement && !control.id) {\n            const controlId = \"gl-filter-\" + filterDef.id;\n            control.id = controlId;\n            labelEl.setAttribute(\"for\", controlId);\n        }\n\n        wrapper.appendChild(control);\n        return wrapper;\n    };\n\n    export { _buildFilterControl };\n\n/**\n * Fonctions globales pour le chargement lazy des filtres\n * Utilisées par le lazy-loader pour construire le contenu à la demande\n */\n\n/**\n * Construit le contenu HTML de l'arbre de catégories\n * @param {Object} scanResult - Résultat du scan ({usedIds: Set, visibleLayerIds: Array})\n * @returns {string} HTML string\n */\nexport function buildCategoryTreeContent(scanResult) {\n    // Récupérer le profil actif via l'API Config (enrichedProfile contient taxonomy)\n    const profile = (Config && typeof Config.getActiveProfile === \"function\")\n        ? Config.getActiveProfile()\n        : null;\n    if (!profile || !profile.taxonomy || !profile.taxonomy.categories) {\n        return '<div class=\"gl-empty-state\">Aucune catégorie disponible</div>';\n    }\n\n    const categories = profile.taxonomy.categories;\n    const usedCategoryIds = scanResult.usedIds;\n\n    // Sécurité : échapper les valeurs dynamiques injectées dans le HTML\n    const esc = (Security && typeof Security.escapeHtml === 'function')\n        ? function(s) { return Security.escapeHtml(s); }\n        : function(s) { return String(s || '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;'); };\n\n    // Comparaison insensible à la casse : normaliser les IDs scannés\n    const usedLower = new Set();\n    usedCategoryIds.forEach(function(id) { usedLower.add(id.toLowerCase()); });\n\n    // Filtrer les catégories pour afficher celles utilisées (comparaison case-insensitive)\n    const catIds = Object.keys(categories).filter(catId => usedLower.has(catId.toLowerCase()));\n\n    if (catIds.length === 0) {\n        return '<div class=\"gl-empty-state\">ND - Non disponible</div>';\n    }\n\n    let html = '<ul class=\"gl-filter-tree gl-filter-tree--root\">';\n\n    catIds.forEach(function(catId) {\n        const cat = categories[catId] || {};\n\n        // Filtrer aussi les sous-catégories (comparaison case-insensitive)\n        const subs = cat.subcategories || {};\n        const subKeys = Object.keys(subs).filter(subId => usedLower.has(subId.toLowerCase()));\n        const hasSubcategories = subKeys.length > 0;\n\n        html += '<li class=\"gl-filter-tree__item gl-filter-tree__item--category\">';\n        html += '<div class=\"gl-filter-tree__row\">';\n\n        if (hasSubcategories) {\n            html += '<span class=\"gl-filter-tree__arrow\" data-category-id=\"' + esc(catId) + '\">▶</span>';\n        } else {\n            html += '<span class=\"gl-filter-tree__spacer\"></span>';\n        }\n\n        html += '<label class=\"gl-filter-tree__label gl-filter-tree__label--category\">';\n        html += '<input type=\"checkbox\" class=\"gl-filter-tree__checkbox gl-filter-tree__checkbox--category\" ';\n        html += 'name=\"categories_category\" value=\"' + esc(catId) + '\" ';\n        html += 'data-gl-filter-category-id=\"' + esc(catId) + '\">';\n        html += '<span class=\"gl-filter-tree__text\">' + esc(cat.label || catId) + '</span>';\n        html += '</label>';\n        html += '</div>';\n\n        if (hasSubcategories) {\n            html += '<ul class=\"gl-filter-tree gl-filter-tree--subcategories\">';\n\n            subKeys.forEach(function(subId) {\n                const sub = subs[subId] || {};\n                html += '<li class=\"gl-filter-tree__item gl-filter-tree__item--subcategory\">';\n                html += '<label class=\"gl-filter-tree__label gl-filter-tree__label--subcategory\">';\n                html += '<input type=\"checkbox\" class=\"gl-filter-tree__checkbox gl-filter-tree__checkbox--subcategory\" ';\n                html += 'name=\"categories_subcategory\" value=\"' + esc(subId) + '\" ';\n                html += 'data-gl-filter-category-id=\"' + esc(catId) + '\" ';\n                html += 'data-gl-filter-subcategory-id=\"' + esc(subId) + '\">';\n                html += '<span class=\"gl-filter-tree__text\">' + esc(sub.label || subId) + '</span>';\n                html += '</label>';\n                html += '</li>';\n            });\n\n            html += '</ul>';\n        }\n\n        html += '</li>';\n    });\n\n    html += '</ul>';\n    return html;\n}\n\n/**\n * Construit le contenu HTML de la liste de tags\n * @param {Array} tags - Array de tags uniques triés\n * @returns {string} HTML string\n */\nexport function buildTagsListContent(tags) {\n    if (!tags || tags.length === 0) {\n        return '<div class=\"gl-empty-state\">ND - Non disponible</div>';\n    }\n\n    // Sécurité : échapper les valeurs dynamiques\n    const esc = (Security && typeof Security.escapeHtml === 'function')\n        ? function(s) { return Security.escapeHtml(s); }\n        : function(s) { return String(s || '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;'); };\n\n    let html = '';\n    tags.forEach(function(tag) {\n        html += '<span class=\"gl-filter-panel__tag-badge\" data-tag-value=\"' + esc(tag) + '\">' + esc(tag) + '</span>';\n    });\n\n    return html;\n}\n\n/**\n * Attache les event listeners pour l'arbre de catégories après rendering\n * Perf 6.2.2: Délégation d'événements — 3 listeners sur le container au lieu de N listeners individuels\n * @param {HTMLElement} container - Container de l'arbre\n */\nexport function attachCategoryTreeListeners(container) {\n    // Délégation: 1 seul listener 'click' pour toutes les flèches\n    container.addEventListener('click', function(e) {\n        const arrow = e.target.closest('.gl-filter-tree__arrow');\n        if (!arrow) return;\n        e.stopPropagation();\n        const li = arrow.closest('.gl-filter-tree__item--category');\n        if (!li) return;\n        const subList = li.querySelector('.gl-filter-tree--subcategories');\n        if (subList) {\n            const isExpanded = li.classList.contains('is-expanded');\n            if (isExpanded) {\n                li.classList.remove('is-expanded');\n                arrow.textContent = '▶';\n            } else {\n                li.classList.add('is-expanded');\n                arrow.textContent = '▼';\n            }\n        }\n    });\n\n    // Délégation: 1 seul listener 'change' pour toutes les checkboxes (catégories + sous-catégories)\n    container.addEventListener('change', function(e) {\n        const target = e.target;\n        if (!target.matches('.gl-filter-tree__checkbox')) return;\n\n        if (target.classList.contains('gl-filter-tree__checkbox--category')) {\n            // Checkbox catégorie cochée → propager aux sous-catégories\n            const li = target.closest('.gl-filter-tree__item--category');\n            if (!li) return;\n            const subCheckboxes = li.querySelectorAll('.gl-filter-tree__checkbox--subcategory');\n            subCheckboxes.forEach(function(subCb) {\n                subCb.checked = target.checked;\n            });\n            target.indeterminate = false;\n        } else if (target.classList.contains('gl-filter-tree__checkbox--subcategory')) {\n            // Checkbox sous-catégorie cochée → mettre à jour l'état parent\n            const liCat = target.closest('.gl-filter-tree__item--category');\n            if (!liCat) return;\n            const categoryCheckbox = liCat.querySelector('.gl-filter-tree__checkbox--category');\n            const subCheckboxes = liCat.querySelectorAll('.gl-filter-tree__checkbox--subcategory');\n\n            const checkedCount = Array.from(subCheckboxes).filter(cb => cb.checked).length;\n            const totalCount = subCheckboxes.length;\n\n            if (checkedCount === 0) {\n                categoryCheckbox.checked = false;\n                categoryCheckbox.indeterminate = false;\n            } else if (checkedCount === totalCount) {\n                categoryCheckbox.checked = true;\n                categoryCheckbox.indeterminate = false;\n            } else {\n                categoryCheckbox.checked = false;\n                categoryCheckbox.indeterminate = true;\n            }\n        }\n    });\n}\n\n/**\n * Attache les event listeners pour les tags après rendering\n * Perf 6.2.2: Délégation d'événements — 1 listener sur le container au lieu de N badges\n * @param {HTMLElement} container - Container des tags\n */\nexport function attachTagsListeners(container) {\n    container.addEventListener('click', function(e) {\n        const badge = e.target.closest('.gl-filter-panel__tag-badge');\n        if (badge) {\n            badge.classList.toggle('is-selected');\n        }\n    });\n}\n","/**\r\n * GeoLeaf UI Module - Filter State Manager\r\n * Gestion centralisée de l'état des filtres avec patterns observateur\r\n *\r\n * @module ui/filter-state-manager\r\n * @author Assistant\r\n * @version 1.0.0\r\n */\r\nimport { Log } from '../log/index.js';\r\n\r\n// ========================================\r\n//   ÉTAT CENTRALISÉ DES FILTRES\r\n// ========================================\r\n\r\n/**\r\n * État actuel des filtres\r\n * @type {Object}\r\n * @private\r\n */\r\nlet _filterState = {\r\n    // État des filtres par ID\r\n    values: new Map(),\r\n\r\n    // Métadonnées des filtres\r\n    metadata: new Map(),\r\n\r\n    // Profil actuel\r\n    activeProfile: null,\r\n\r\n    // Callbacks observers\r\n    observers: new Set()\r\n};\r\n\r\n/**\r\n * Timestamps pour debouncing\r\n * @type {Map<string, number>}\r\n * @private\r\n */\r\nconst _debounceTimers = new Map();\r\n\r\n// ========================================\r\n//   GESTION DE L'ÉTAT DES FILTRES\r\n// ========================================\r\n\r\n/**\r\n * Initialise l'état des filtres depuis un profil\r\n * @param {Object} profile - Configuration du profil\r\n * @returns {boolean} Succès de l'initialisation\r\n */\r\nfunction initializeFromProfile(profile) {\r\n    if (!profile || !profile.filters) {\r\n        if (Log) Log.warn(\"[UI.FilterStateManager] Profil ou filtres manquants\");\r\n        return false;\r\n    }\r\n\r\n    // Réinitialise l'état\r\n    _filterState.values.clear();\r\n    _filterState.metadata.clear();\r\n    _filterState.activeProfile = profile;\r\n\r\n    // Configure chaque filtre avec ses valeurs par défaut\r\n    profile.filters.forEach(filter => {\r\n        if (!filter.id) return;\r\n\r\n        const metadata = {\r\n            type: filter.type,\r\n            label: filter.label,\r\n            required: !!filter.required,\r\n            min: filter.min,\r\n            max: filter.max,\r\n            options: filter.options || [],\r\n            optionsFrom: filter.optionsFrom\r\n        };\r\n\r\n        _filterState.metadata.set(filter.id, metadata);\r\n\r\n        // Valeur par défaut selon le type\r\n        let defaultValue = null;\r\n        switch (filter.type) {\r\n            case 'select':\r\n            case 'multiselect':\r\n                defaultValue = filter.default || (filter.type === 'multiselect' ? [] : '');\r\n                break;\r\n            case 'range':\r\n                defaultValue = filter.default ?? ((filter.min + filter.max) / 2);\r\n                break;\r\n            case 'tree':\r\n            case 'tree-category':\r\n            case 'categoryTree':\r\n                defaultValue = filter.default || [];\r\n                break;\r\n            default:\r\n                defaultValue = filter.default || '';\r\n        }\r\n\r\n        _filterState.values.set(filter.id, defaultValue);\r\n    });\r\n\r\n    // Notifie les observateurs\r\n    _notifyObservers('init', null, _filterState.values);\r\n\r\n    if (Log) {\r\n        Log.info(`[UI.FilterStateManager] Initialisé avec ${_filterState.values.size} filtres`);\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n/**\r\n * Met à jour la valeur d'un filtre\r\n * @param {string} filterId - ID du filtre\r\n * @param {*} value - Nouvelle valeur\r\n * @param {boolean} skipNotify - Éviter la notification (défaut: false)\r\n * @returns {boolean} Succès de la mise à jour\r\n */\r\nfunction updateFilterValue(filterId, value, skipNotify = false) {\r\n    if (!filterId || !_filterState.metadata.has(filterId)) {\r\n        if (Log) Log.warn(`[UI.FilterStateManager] Filtre inconnu: ${filterId}`);\r\n        return false;\r\n    }\r\n\r\n    const metadata = _filterState.metadata.get(filterId);\r\n    const oldValue = _filterState.values.get(filterId);\r\n\r\n    // Validation selon le type\r\n    const validatedValue = _validateFilterValue(value, metadata);\r\n    if (validatedValue === null && value !== null) {\r\n        if (Log) Log.warn(`[UI.FilterStateManager] Valeur invalide pour ${filterId}:`, value);\r\n        return false;\r\n    }\r\n\r\n    // Mise à jour\r\n    _filterState.values.set(filterId, validatedValue);\r\n\r\n    // Notification avec debouncing pour les ranges\r\n    if (!skipNotify) {\r\n        if (metadata.type === 'range') {\r\n            _notifyWithDebounce(filterId, 'change', oldValue, validatedValue, 200);\r\n        } else {\r\n            _notifyObservers('change', filterId, validatedValue, oldValue);\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n/**\r\n * Récupère la valeur d'un filtre\r\n * @param {string} filterId - ID du filtre\r\n * @returns {*} Valeur du filtre ou null si inexistant\r\n */\r\nfunction getFilterValue(filterId) {\r\n    return _filterState.values.get(filterId) || null;\r\n}\r\n\r\n/**\r\n * Récupère toutes les valeurs de filtres\r\n * @returns {Object} Object avec filterId -> value\r\n */\r\nfunction getAllFilterValues() {\r\n    return Object.fromEntries(_filterState.values);\r\n}\r\n\r\n/**\r\n * Récupère les métadonnées d'un filtre\r\n * @param {string} filterId - ID du filtre\r\n * @returns {Object|null} Métadonnées ou null\r\n */\r\nfunction getFilterMetadata(filterId) {\r\n    return _filterState.metadata.get(filterId) || null;\r\n}\r\n\r\n/**\r\n * Remet à zéro tous les filtres\r\n * @param {boolean} skipNotify - Éviter la notification (défaut: false)\r\n */\r\nfunction resetAllFilters(skipNotify = false) {\r\n    const oldState = new Map(_filterState.values);\r\n\r\n    _filterState.values.forEach((value, filterId) => {\r\n        const metadata = _filterState.metadata.get(filterId);\r\n        if (!metadata) return;\r\n\r\n        // Remise à zéro selon le type\r\n        let resetValue = null;\r\n        switch (metadata.type) {\r\n            case 'multiselect':\r\n            case 'tree':\r\n            case 'tree-category':\r\n            case 'categoryTree':\r\n                resetValue = [];\r\n                break;\r\n            case 'range':\r\n                resetValue = (metadata.min + metadata.max) / 2;\r\n                break;\r\n            default:\r\n                resetValue = '';\r\n        }\r\n\r\n        _filterState.values.set(filterId, resetValue);\r\n    });\r\n\r\n    if (!skipNotify) {\r\n        _notifyObservers('reset', null, _filterState.values, oldState);\r\n    }\r\n}\r\n\r\n// ========================================\r\n//   SYSTÈME D'OBSERVATEURS\r\n// ========================================\r\n\r\n/**\r\n * Ajoute un observateur pour les changements d'état\r\n * @param {Function} callback - Fonction appelée lors des changements\r\n * @returns {Function} Fonction pour désabonner l'observateur\r\n */\r\nfunction addObserver(callback) {\r\n    if (typeof callback !== 'function') {\r\n        if (Log) Log.warn(\"[UI.FilterStateManager] Observateur doit être une fonction\");\r\n        return () => {};\r\n    }\r\n\r\n    _filterState.observers.add(callback);\r\n\r\n    // Retourne fonction de désabonnement\r\n    return function unsubscribe() {\r\n        _filterState.observers.delete(callback);\r\n    };\r\n}\r\n\r\n/**\r\n * Notifie tous les observateurs\r\n * @param {string} type - Type de changement ('init', 'change', 'reset')\r\n * @param {string|null} filterId - ID du filtre changé (null pour global)\r\n * @param {*} newValue - Nouvelle valeur\r\n * @param {*} oldValue - Ancienne valeur\r\n * @private\r\n */\r\nfunction _notifyObservers(type, filterId, newValue, oldValue) {\r\n    const event = {\r\n        type,\r\n        filterId,\r\n        newValue,\r\n        oldValue,\r\n        timestamp: Date.now(),\r\n        allValues: Object.fromEntries(_filterState.values)\r\n    };\r\n\r\n    _filterState.observers.forEach(callback => {\r\n        try {\r\n            callback(event);\r\n        } catch (error) {\r\n            if (Log) Log.error(\"[UI.FilterStateManager] Erreur dans observateur:\", error);\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Notification avec debouncing\r\n * @param {string} filterId - ID du filtre\r\n * @param {string} type - Type d'événement\r\n * @param {*} oldValue - Ancienne valeur\r\n * @param {*} newValue - Nouvelle valeur\r\n * @param {number} delay - Délai de debounce\r\n * @private\r\n */\r\nfunction _notifyWithDebounce(filterId, type, oldValue, newValue, delay) {\r\n    // Clear existing timer\r\n    if (_debounceTimers.has(filterId)) {\r\n        clearTimeout(_debounceTimers.get(filterId));\r\n    }\r\n\r\n    // Set new timer\r\n    const timer = setTimeout(() => {\r\n        _notifyObservers(type, filterId, newValue, oldValue);\r\n        _debounceTimers.delete(filterId);\r\n    }, delay);\r\n\r\n    _debounceTimers.set(filterId, timer);\r\n}\r\n\r\n// ========================================\r\n//   VALIDATION DE VALEURS\r\n// ========================================\r\n\r\n/**\r\n * Valide une valeur selon les métadonnées du filtre\r\n * @param {*} value - Valeur à valider\r\n * @param {Object} metadata - Métadonnées du filtre\r\n * @returns {*} Valeur validée ou null si invalide\r\n * @private\r\n */\r\nfunction _validateFilterValue(value, metadata) {\r\n    if (!metadata) return null;\r\n\r\n    switch (metadata.type) {\r\n        case 'select':\r\n            return typeof value === 'string' ? value : '';\r\n\r\n        case 'multiselect':\r\n            return Array.isArray(value) ? value : [];\r\n\r\n        case 'range':\r\n            const num = parseFloat(value);\r\n            if (isNaN(num)) return metadata.min || 0;\r\n            if (metadata.min !== undefined && num < metadata.min) return metadata.min;\r\n            if (metadata.max !== undefined && num > metadata.max) return metadata.max;\r\n            return num;\r\n\r\n        case 'tree':\r\n        case 'tree-category':\r\n        case 'categoryTree':\r\n            return Array.isArray(value) ? value : [];\r\n\r\n        default:\r\n            return value;\r\n    }\r\n}\r\n\r\n// ========================================\r\n//   UTILITAIRES DE REQUÊTES\r\n// ========================================\r\n\r\n/**\r\n * Vérifie si des filtres sont actuellement actifs\r\n * @returns {boolean} True si au moins un filtre est actif\r\n */\r\nfunction hasActiveFilters() {\r\n    for (const [filterId, value] of _filterState.values) {\r\n        const metadata = _filterState.metadata.get(filterId);\r\n        if (!metadata) continue;\r\n\r\n        // Vérifie selon le type si la valeur est \"active\"\r\n        switch (metadata.type) {\r\n            case 'multiselect':\r\n            case 'tree':\r\n            case 'tree-category':\r\n            case 'categoryTree':\r\n                if (Array.isArray(value) && value.length > 0) return true;\r\n                break;\r\n            case 'select':\r\n                if (value && value !== '') return true;\r\n                break;\r\n            case 'range':\r\n                // Considère actif si différent de la valeur par défaut\r\n                const defaultVal = (metadata.min + metadata.max) / 2;\r\n                if (Math.abs(value - defaultVal) > 0.01) return true;\r\n                break;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * Récupère un résumé des filtres actifs\r\n * @returns {Array} Liste des filtres actifs avec leurs valeurs\r\n */\r\nfunction getActiveFiltersSummary() {\r\n    const summary = [];\r\n\r\n    for (const [filterId, value] of _filterState.values) {\r\n        const metadata = _filterState.metadata.get(filterId);\r\n        if (!metadata) continue;\r\n\r\n        let isActive = false;\r\n        let displayValue = '';\r\n\r\n        switch (metadata.type) {\r\n            case 'multiselect':\r\n            case 'tree':\r\n            case 'tree-category':\r\n            case 'categoryTree':\r\n                if (Array.isArray(value) && value.length > 0) {\r\n                    isActive = true;\r\n                    displayValue = `${value.length} sélectionné(s)`;\r\n                }\r\n                break;\r\n            case 'select':\r\n                if (value && value !== '') {\r\n                    isActive = true;\r\n                    displayValue = value;\r\n                }\r\n                break;\r\n            case 'range':\r\n                const defaultVal = (metadata.min + metadata.max) / 2;\r\n                if (Math.abs(value - defaultVal) > 0.01) {\r\n                    isActive = true;\r\n                    displayValue = value.toString().replace('.', ',');\r\n                }\r\n                break;\r\n        }\r\n\r\n        if (isActive) {\r\n            summary.push({\r\n                id: filterId,\r\n                label: metadata.label || filterId,\r\n                value: displayValue,\r\n                type: metadata.type\r\n            });\r\n        }\r\n    }\r\n\r\n    return summary;\r\n}\r\n\r\n// ========================================\r\n//   API PUBLIQUE\r\n// ========================================\r\n\r\nconst _UIFilterStateManager = {\r\n    initializeFromProfile,\r\n    updateFilterValue,\r\n    getFilterValue,\r\n    getAllFilterValues,\r\n    getFilterMetadata,\r\n    resetAllFilters,\r\n    addObserver,\r\n    hasActiveFilters,\r\n    getActiveFiltersSummary\r\n};\r\n\r\n// Propriétés en lecture seule\r\nObject.defineProperty(_UIFilterStateManager, 'activeProfile', {\r\n    get: () => _filterState.activeProfile,\r\n    enumerable: true\r\n});\r\n\r\nObject.defineProperty(_UIFilterStateManager, 'filterCount', {\r\n    get: () => _filterState.values.size,\r\n    enumerable: true\r\n});\r\n\r\n// ── ESM Export ──\r\nexport { _UIFilterStateManager };\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf UI Module - Panel Builder\r\n * Construction de panneaux de détails POI avec layouts configurables\r\n */\r\n\r\nimport { $create } from '../utils/dom-helpers.js';\r\nimport { resolveField } from '../utils/general-utils.js';\r\n\r\n    /**\r\n     * Crée un bloc section simple (sans accordéon).\r\n     *\r\n     * @param {string} label - Titre de la section.\r\n     * @param {Node|string} innerContent - Contenu de la section (Node ou texte).\r\n     * @param {string} extraClass - Classes CSS additionnelles.\r\n     * @returns {HTMLElement} Élément section.\r\n     */\r\n    function createPlainSection(label, innerContent, extraClass) {\r\n        const section = $create(\"section\", {\r\n            className: \"gl-poi-panel__section\" + (extraClass ? \" \" + extraClass : \"\")\r\n        });\r\n\r\n        if (label) {\r\n            const header = $create(\"h3\", {\r\n                className: \"gl-poi-panel__section-title\",\r\n                textContent: label\r\n            });\r\n            section.appendChild(header);\r\n        }\r\n\r\n        const body = $create(\"div\", {\r\n            className: \"gl-poi-panel__section-body\"\r\n        });\r\n        if (innerContent instanceof Node) {\r\n            body.appendChild(innerContent);\r\n        } else if (innerContent != null) {\r\n            body.textContent = String(innerContent);\r\n        }\r\n        section.appendChild(body);\r\n\r\n        return section;\r\n    }\r\n\r\n    /**\r\n     * Crée un bloc section accordéon (panneau repliable).\r\n     *\r\n     * @param {string} label - Titre de l'accordéon.\r\n     * @param {Node|string} innerContent - Contenu de l'accordéon.\r\n     * @param {object} options - Options { defaultOpen: boolean }.\r\n     * @returns {HTMLElement} Élément section accordéon.\r\n     */\r\n    function createAccordionSection(label, innerContent, options) {\r\n        const opts = options || {};\r\n        const isOpen = Boolean(opts.defaultOpen);\r\n\r\n        const section = $create(\"section\", {\r\n            className: \"gl-accordion gl-poi-panel__section\" + (isOpen ? \" is-open\" : \"\")\r\n        });\r\n\r\n        const header = $create(\"button\", {\r\n            type: \"button\",\r\n            className: \"gl-accordion__header\"\r\n        });\r\n\r\n        const titleSpan = $create(\"span\", {\r\n            className: \"gl-accordion__title\",\r\n            textContent: label || \"\"\r\n        });\r\n        header.appendChild(titleSpan);\r\n\r\n        const iconSpan = $create(\"span\", {\r\n            className: \"gl-accordion__icon\",\r\n            attributes: { \"aria-hidden\": \"true\" },\r\n            textContent: \"▾\"\r\n        });\r\n        header.appendChild(iconSpan);\r\n\r\n        section.appendChild(header);\r\n\r\n        const body = $create(\"div\", {\r\n            className: \"gl-accordion__body\"\r\n        });\r\n\r\n        if (innerContent instanceof Node) {\r\n            body.appendChild(innerContent);\r\n        } else if (innerContent != null) {\r\n            const p = $create(\"p\", {\r\n                textContent: String(innerContent)\r\n            });\r\n            body.appendChild(p);\r\n        }\r\n\r\n        section.appendChild(body);\r\n        return section;\r\n    }\r\n\r\n    /**\r\n     * Construit le rendu d'un item de type \"text\".\r\n     *\r\n     * @param {*} value - Valeur à afficher.\r\n     * @param {string} variant - Variant (\"multiline\" ou autre).\r\n     * @returns {HTMLElement|null} Élément div ou null.\r\n     */\r\n    function renderText(value, variant) {\r\n        const div = $create(\"div\", {\r\n            className: \"gl-poi-panel__text\" +\r\n                (variant === \"multiline\" ? \" gl-poi-panel__text--multiline\" : \"\"),\r\n            textContent: String(value)\r\n        });\r\n        return div;\r\n    }\r\n\r\n    /**\r\n     * Construit le rendu d'un item de type \"list\".\r\n     *\r\n     * @param {*} value - Array ou string (lignes séparées).\r\n     * @returns {HTMLElement|null} Élément ul ou null.\r\n     */\r\n    function renderList(value) {\r\n        const items = [];\r\n\r\n        if (Array.isArray(value)) {\r\n            value.forEach(function (entry) {\r\n                if (entry == null) return;\r\n\r\n                if (typeof entry === \"string\" || typeof entry === \"number\") {\r\n                    items.push(String(entry));\r\n                } else if (typeof entry === \"object\") {\r\n                    const label =\r\n                        typeof entry.label === \"string\"\r\n                            ? entry.label\r\n                            : typeof entry.text === \"string\"\r\n                            ? entry.text\r\n                            : null;\r\n                    const val = entry.value != null ? String(entry.value) : null;\r\n\r\n                    if (label && val) {\r\n                        items.push(label + \" : \" + val);\r\n                    } else if (label) {\r\n                        items.push(label);\r\n                    } else if (val) {\r\n                        items.push(val);\r\n                    }\r\n                }\r\n            });\r\n        } else if (typeof value === \"string\") {\r\n            value.split(/\\r?\\n/).forEach(function (line) {\r\n                const trimmed = line.trim();\r\n                if (trimmed) {\r\n                    items.push(trimmed);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (!items.length) {\r\n            return null;\r\n        }\r\n\r\n        const ul = $create(\"ul\", {\r\n            className: \"gl-poi-panel__list\"\r\n        });\r\n\r\n        items.forEach(function (text) {\r\n            const li = $create(\"li\", {\r\n                className: \"gl-poi-panel__list-item\",\r\n                textContent: text\r\n            });\r\n            ul.appendChild(li);\r\n        });\r\n\r\n        return ul;\r\n    }\r\n\r\n    /**\r\n     * Construit le rendu d'un item de type \"table\".\r\n     *\r\n     * @param {Array} value - Tableau d'objets représentant les lignes.\r\n     * @param {object} item - Configuration du tableau (columns, borders).\r\n     * @returns {HTMLElement|null} Wrapper de tableau ou null.\r\n     */\r\n    function renderTable(value, item) {\r\n        if (!Array.isArray(value) || !value.length) {\r\n            return null;\r\n        }\r\n\r\n        const columns = Array.isArray(item.columns) ? item.columns : [];\r\n        if (!columns.length) {\r\n            return null;\r\n        }\r\n\r\n        const wrapper = $create(\"div\", {\r\n            className: \"gl-poi-panel__table-wrapper\"\r\n        });\r\n\r\n        const borders = item.borders || {};\r\n        const borderClasses = [];\r\n        if (borders.outer) borderClasses.push(\"gl-poi-panel__table--border-outer\");\r\n        if (borders.row) borderClasses.push(\"gl-poi-panel__table--border-row\");\r\n        if (borders.column) borderClasses.push(\"gl-poi-panel__table--border-column\");\r\n\r\n        const table = $create(\"table\", {\r\n            className: \"gl-poi-panel__table\" + (borderClasses.length ? \" \" + borderClasses.join(\" \") : \"\"),\r\n            attributes: borders.color ? { \"data-gl-border-color\": borders.color } : {}\r\n        });\r\n\r\n        // En-tête\r\n        const thead = $create(\"thead\");\r\n        const headRow = $create(\"tr\", {\r\n            className: \"gl-poi-panel__table-row gl-poi-panel__table-row--head\"\r\n        });\r\n\r\n        columns.forEach(function (col) {\r\n            const th = $create(\"th\", {\r\n                className: \"gl-poi-panel__table-cell gl-poi-panel__table-cell--head\",\r\n                textContent: col.label || col.key || \"\"\r\n            });\r\n            headRow.appendChild(th);\r\n        });\r\n\r\n        thead.appendChild(headRow);\r\n        table.appendChild(thead);\r\n\r\n        // Corps\r\n        const tbody = $create(\"tbody\");\r\n\r\n        value.forEach(function (rowObj) {\r\n            if (!rowObj || typeof rowObj !== \"object\") {\r\n                return;\r\n            }\r\n\r\n            const tr = $create(\"tr\", {\r\n                className: \"gl-poi-panel__table-row\"\r\n            });\r\n\r\n            columns.forEach(function (col) {\r\n                const cellVal = rowObj[col.key];\r\n                const td = $create(\"td\", {\r\n                    className: \"gl-poi-panel__table-cell\",\r\n                    textContent: cellVal == null ? \"\" : String(cellVal)\r\n                });\r\n\r\n                tr.appendChild(td);\r\n            });\r\n\r\n            tbody.appendChild(tr);\r\n        });\r\n\r\n        table.appendChild(tbody);\r\n        wrapper.appendChild(table);\r\n        return wrapper;\r\n    }\r\n\r\n    /**\r\n     * Construit le rendu d'un item de type \"gallery\".\r\n     *\r\n     * @param {Array} value - Tableau d'images { url, alt, caption }.\r\n     * @returns {HTMLElement|null} Container galerie ou null.\r\n     */\r\n    function renderGallery(value) {\r\n        if (!Array.isArray(value)) {\r\n            return null;\r\n        }\r\n\r\n        const container = $create(\"div\", {\r\n            className: \"gl-poi-panel__gallery\"\r\n        });\r\n\r\n        value.forEach(function (img) {\r\n            if (!img) return;\r\n\r\n            const figure = $create(\"figure\", {\r\n                className: \"gl-poi-panel__gallery-item\"\r\n            });\r\n\r\n            const imgEl = $create(\"img\", {\r\n                src: img.url || img,\r\n                alt: img.alt || \"\"\r\n            });\r\n            figure.appendChild(imgEl);\r\n\r\n            if (img.caption) {\r\n                const figCap = $create(\"figcaption\", {\r\n                    textContent: img.caption\r\n                });\r\n                figure.appendChild(figCap);\r\n            }\r\n\r\n            container.appendChild(figure);\r\n        });\r\n\r\n        return container;\r\n    }\r\n\r\n    /**\r\n     * Construit le rendu d'un item de type \"reviews\" (avis voyageurs).\r\n     *\r\n     * @param {*} value - Array ou objet avec propriété 'recent'.\r\n     * @returns {HTMLElement|null} Container d'avis ou null.\r\n     */\r\n    function renderReviews(value) {\r\n        // Si value est un objet avec une propriété 'recent', utiliser celle-ci\r\n        let reviewsArray = value;\r\n        if (value && typeof value === 'object' && !Array.isArray(value) && Array.isArray(value.recent)) {\r\n            reviewsArray = value.recent;\r\n        }\r\n\r\n        if (!Array.isArray(reviewsArray)) {\r\n            return null;\r\n        }\r\n\r\n        const container = $create(\"div\", {\r\n            className: \"gl-poi-panel__reviews gl-poi-sidepanel__reviews\"\r\n        });\r\n\r\n        reviewsArray.forEach(function (review) {\r\n            if (!review) return;\r\n\r\n            const itemEl = $create(\"article\", {\r\n                className: \"gl-poi-panel__review\"\r\n            });\r\n\r\n            const header = $create(\"header\", {\r\n                className: \"gl-poi-panel__review-header\"\r\n            });\r\n\r\n            const nameSpan = $create(\"span\", {\r\n                className: \"gl-poi-panel__review-author\",\r\n                textContent: review.authorName || \"\"\r\n            });\r\n            header.appendChild(nameSpan);\r\n\r\n            if (typeof review.rating === \"number\") {\r\n                const ratingSpan = $create(\"span\", {\r\n                    className: \"gl-poi-panel__review-rating\",\r\n                    textContent: review.rating.toFixed(1) + \"/5\"\r\n                });\r\n                header.appendChild(ratingSpan);\r\n            }\r\n\r\n            if (review.source) {\r\n                const sourceSpan = $create(\"span\", {\r\n                    className: \"gl-poi-panel__review-source\",\r\n                    textContent: review.source\r\n                });\r\n                header.appendChild(sourceSpan);\r\n            }\r\n\r\n            itemEl.appendChild(header);\r\n\r\n            if (review.title) {\r\n                const titleEl = $create(\"h4\", {\r\n                    className: \"gl-poi-panel__review-title\",\r\n                    textContent: review.title\r\n                });\r\n                itemEl.appendChild(titleEl);\r\n            }\r\n\r\n            // Gérer à la fois 'text' (ancien format) et 'comment' (nouveau format)\r\n            const reviewText = review.text || review.comment;\r\n            if (reviewText) {\r\n                const textEl = $create(\"p\", {\r\n                    className: \"gl-poi-panel__review-text\",\r\n                    textContent: reviewText\r\n                });\r\n                itemEl.appendChild(textEl);\r\n            }\r\n\r\n            // Gérer à la fois 'date' (ancien format) et 'createdAt' (nouveau format)\r\n            const reviewDate = review.date || review.createdAt;\r\n            if (reviewDate) {\r\n                const dateEl = $create(\"time\", {\r\n                    className: \"gl-poi-panel__review-date\",\r\n                    textContent: reviewDate\r\n                });\r\n                itemEl.appendChild(dateEl);\r\n            }\r\n\r\n            const footer = $create(\"footer\", {\r\n                className: \"gl-poi-panel__review-footer\"\r\n            });\r\n\r\n            if (typeof review.helpfulCount === \"number\") {\r\n                const helpfulSpan = $create(\"span\", {\r\n                    className: \"gl-poi-panel__review-helpful\",\r\n                    textContent: review.helpfulCount + \" personnes ont trouvé cet avis utile\"\r\n                });\r\n                footer.appendChild(helpfulSpan);\r\n            }\r\n\r\n            if (review.url) {\r\n                const link = $create(\"a\", {\r\n                    href: review.url,\r\n                    target: \"_blank\",\r\n                    rel: \"noopener noreferrer\",\r\n                    className: \"gl-poi-panel__review-link\",\r\n                    textContent: \"Voir l'avis\"\r\n                });\r\n                footer.appendChild(link);\r\n            }\r\n\r\n            itemEl.appendChild(footer);\r\n            container.appendChild(itemEl);\r\n        });\r\n\r\n        return container;\r\n    }\r\n\r\n    /**\r\n     * Construit le contenu interne pour un item de layout.\r\n     * Dispatcher principal vers les fonctions de rendu spécialisées.\r\n     *\r\n     * @param {object} poi - Objet POI source.\r\n     * @param {object} item - Configuration du layout item (type, field, variant, etc).\r\n     * @returns {HTMLElement|null} Élément construit ou null.\r\n     */\r\n    function buildLayoutItemContent(poi, item) {\r\n        const type = item.type;\r\n        const value = resolveField(poi, item.field);\r\n\r\n        if (value == null || value === \"\") {\r\n            if (!Array.isArray(value)) {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        // Dispatch par type\r\n        if (type === \"text\") {\r\n            return renderText(value, item.variant);\r\n        }\r\n\r\n        if (type === \"list\") {\r\n            return renderList(value);\r\n        }\r\n\r\n        if (type === \"table\") {\r\n            return renderTable(value, item);\r\n        }\r\n\r\n        if (type === \"gallery\") {\r\n            return renderGallery(value);\r\n        }\r\n\r\n        if (type === \"reviews\") {\r\n            return renderReviews(value);\r\n        }\r\n\r\n        // Fallback : texte simple\r\n        const defaultDiv = $create(\"div\", {\r\n            className: \"gl-poi-panel__text\",\r\n            textContent: String(value)\r\n        });\r\n        return defaultDiv;\r\n    }\r\n\r\n    // ── ESM Export ──\r\n\r\n    const PanelBuilder = {\r\n        resolveField,\r\n        createPlainSection,\r\n        createAccordionSection,\r\n        renderText,\r\n        renderList,\r\n        renderTable,\r\n        renderGallery,\r\n        renderReviews,\r\n        buildLayoutItemContent\r\n    };\r\n\r\n    export { PanelBuilder };\r\n","/*!\n * GeoLeaf Core\n * © 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * @module GeoLeaf.UI.ScaleControl\n * @description Contrôle d'échelle pour la carte (graphique ou numérique)\n * @version 1.0.0\n */\n\nimport { Log } from '../log/index.js';\nimport { Config } from '../config/geoleaf-config/config-core.js';\n\n    /**\n     * Module de contrôle d'échelle\n     * Affiche l'échelle de la carte en mode graphique (Leaflet) ou numérique (1:25000)\n     */\n    const ScaleControl = {\n        _map: null,\n        _control: null,\n        _scaleElement: null,\n        _options: {\n            position: \"bottomleft\",\n            scaleType: \"graphic\", // \"graphic\" (Leaflet) ou \"numeric\" (1:25000)\n            metric: true,\n            imperial: false,\n            maxWidth: 150\n        },\n\n        /**\n         * Initialise le contrôle d'échelle\n         *\n         * @param {L.Map} map - Instance de la carte Leaflet\n         * @param {Object} [options={}] - Options de configuration\n         * @param {string} [options.position='bottomleft'] - Position du contrôle\n         * @param {string} [options.scaleType='graphic'] - Type d'échelle ('graphic' ou 'numeric')\n         * @param {boolean} [options.metric=true] - Afficher échelle métrique\n         * @param {boolean} [options.imperial=false] - Afficher échelle impériale\n         * @param {number} [options.maxWidth=150] - Largeur max de l'échelle graphique\n         *\n         * @example\n         * GeoLeaf.UI.ScaleControl.init(map, {\n         *   scaleType: 'numeric',\n         *   position: 'bottomright'\n         * });\n         */\n        init(map, options = {}) {\n            const context = \"[GeoLeaf.UI.ScaleControl]\";\n            try {\n                if (!map) {\n                    throw new Error(\"Une instance de carte Leaflet est requise.\");\n                }\n                this._map = map;\n                this._options = { ...this._options, ...options };\n\n                const showScale = Config?.get(\"ui.showScale\");\n                if (showScale === false) {\n                    Log.info(`${context} Affichage de l'échelle désactivé dans la configuration.`);\n                    return;\n                }\n\n                // Récupérer le type d'échelle depuis la config\n                const scaleType = Config?.get(\"ui.scaleType\");\n                if (scaleType) {\n                    this._options.scaleType = scaleType;\n                }\n\n                this._createControl();\n                Log.info(`${context} Module initialisé avec succès (type: ${this._options.scaleType}).`);\n            } catch (err) {\n                Log.error(`${context} Erreur lors de l'initialisation :`, err.message);\n            }\n        },\n\n        _createControl() {\n            const context = \"[GeoLeaf.UI.ScaleControl]\";\n            try {\n                if (this._options.scaleType === \"numeric\") {\n                    // Créer un contrôle personnalisé pour l'échelle numérique\n                    this._createNumericScale();\n                } else {\n                    // Utiliser le contrôle Leaflet par défaut (graphique)\n                    this._control = L.control.scale({\n                        position: this._options.position,\n                        metric: this._options.metric,\n                        imperial: this._options.imperial,\n                        maxWidth: this._options.maxWidth\n                    });\n                    this._control.addTo(this._map);\n                }\n                Log.info(`${context} Contrôle d'échelle créé et ajouté à la carte.`);\n            } catch (err) {\n                Log.error(`${context} Erreur lors de la création du contrôle :`, err.message);\n            }\n        },\n\n        _createNumericScale() {\n            const NumericScaleControl = L.Control.extend({\n                options: {\n                    position: this._options.position\n                },\n\n                onAdd: (map) => {\n                    const container = L.DomUtil.create(\"div\", \"geoleaf-scale-numeric leaflet-control\");\n\n                    L.DomEvent.disableClickPropagation(container);\n                    L.DomEvent.disableScrollPropagation(container);\n\n                    // Créer un conteneur flex pour aligner échelle et zoom\n                    const flexContainer = L.DomUtil.create(\"div\", \"scale-flex-container\", container);\n                    flexContainer.style.cssText = \"display: flex; align-items: center; gap: 8px;\";\n\n                    // Élément pour l'échelle numérique (suit le thème)\n                    this._scaleElement = L.DomUtil.create(\"div\", \"scale-content gl-scale-numeric\", flexContainer);\n                    this._scaleElement.textContent = \"1:0\";\n\n                    // Élément pour le niveau de zoom (suit le thème)\n                    this._zoomElement = L.DomUtil.create(\"div\", \"zoom-level gl-zoom-badge\", flexContainer);\n                    this._zoomElement.textContent = \"Z0\";\n\n                    // MEMORY LEAK FIX (Phase 2): Store bound function references\n                    // to use same reference in onRemove\n                    this._boundUpdateNumericScale = this._updateNumericScale.bind(this);\n\n                    this._updateNumericScale();\n                    map.on(\"zoomend\", this._boundUpdateNumericScale);\n                    // Perf 6.2.1: 'moveend' instead of 'move' — fires once per pan, not per pixel\n                    map.on(\"moveend\", this._boundUpdateNumericScale);\n\n                    return container;\n                },\n\n                onRemove: (map) => {\n                    // MEMORY LEAK FIX (Phase 2): Use stored bound function references\n                    // instead of creating new bind() which would not match\n                    if (this._boundUpdateNumericScale) {\n                        map.off(\"zoomend\", this._boundUpdateNumericScale);\n                        // Perf 6.2.1: matches 'moveend' listener registered in onAdd\n                        map.off(\"moveend\", this._boundUpdateNumericScale);\n                        this._boundUpdateNumericScale = null; // Clean up reference\n                    }\n                }\n            });\n\n            this._control = new NumericScaleControl();\n            this._control.addTo(this._map);\n        },\n\n        _updateNumericScale() {\n            if (!this._scaleElement || !this._map) return;\n\n            // Obtenir le centre de la carte\n            const center = this._map.getCenter();\n            const zoom = this._map.getZoom();\n\n            // Mettre à jour le niveau de zoom\n            if (this._zoomElement) {\n                this._zoomElement.textContent = `Z${Number(zoom).toFixed(2)}`;\n            }\n\n            // Calculer la résolution en mètres par pixel au centre de la carte\n            // Formule : résolution = (40075016.686 * Math.abs(Math.cos(center.lat * Math.PI / 180))) / Math.pow(2, zoom + 8)\n            const metersPerPixel = 156543.03392 * Math.cos(center.lat * Math.PI / 180) / Math.pow(2, zoom);\n\n            // Calculer l'échelle (1 pixel écran = X mètres réels)\n            // Échelle = distance réelle / distance carte\n            // Supposons 96 DPI (standard), donc 1 pouce = 96 pixels = 0.0254 mètres\n            const scale = Math.round(metersPerPixel * 96 / 0.0254);\n\n            // Formater l'échelle de manière lisible\n            let scaleText;\n            if (scale >= 1000000) {\n                scaleText = `1:${(scale / 1000000).toFixed(1)}M`;\n            } else if (scale >= 1000) {\n                scaleText = `1:${(scale / 1000).toFixed(0)}K`;\n            } else {\n                scaleText = `1:${scale}`;\n            }\n\n            this._scaleElement.textContent = scaleText;\n        },\n\n        /**\n         * Détruit le contrôle d'échelle et libère les ressources\n         *\n         * @example\n         * GeoLeaf.UI.ScaleControl.destroy();\n         */\n        destroy() {\n            const context = \"[GeoLeaf.UI.ScaleControl]\";\n            try {\n                if (this._control && this._map) {\n                    this._map.removeControl(this._control);\n                    this._control = null;\n                }\n                this._scaleElement = null;\n                this._map = null;\n            } catch (err) {\n                Log.error(`${context} Erreur lors de la destruction :`, err.message);\n            }\n        },\n\n        /**\n         * Affiche le contrôle d'échelle (le crée s'il n'existe pas)\n         *\n         * @example\n         * GeoLeaf.UI.ScaleControl.show();\n         */\n        show() {\n            if (!this._control && this._map) {\n                this._createControl();\n            }\n        },\n\n        /**\n         * Masque le contrôle d'échelle\n         *\n         * @example\n         * GeoLeaf.UI.ScaleControl.hide();\n         */\n        hide() {\n            if (this._control && this._map) {\n                this._map.removeControl(this._control);\n                this._control = null;\n                this._scaleElement = null;\n            }\n        }\n    };\n\n// ── ESM Export ──\nexport { ScaleControl };\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf UI Module - Theme Management\r\n * Gestion du thème dark/light avec persistance localStorage\r\n */\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n// ========================================\r\n//   CONSTANTES\r\n// ========================================\r\n\r\nconst THEME_KEY = \"geoleaf_theme\";\r\nconst THEME_LIGHT = \"light\";\r\nconst THEME_DARK = \"dark\";\r\n\r\n// ========================================\r\n//   ÉTAT INTERNE\r\n// ========================================\r\n\r\n/**\r\n * Source de vérité unique pour le thème actuel\r\n * @type {string|null}\r\n * @private\r\n */\r\nlet _currentTheme = null;\r\n\r\n// ========================================\r\n//   FONCTIONS PUBLIQUES\r\n// ========================================\r\n\r\n/**\r\n * Retourne le thème courant (\"light\" ou \"dark\").\r\n * @returns {string} Theme actuel\r\n */\r\nfunction getCurrentTheme() {\r\n    // Si déjà en mémoire, retourner directement\r\n    if (_currentTheme) {\r\n        return _currentTheme;\r\n    }\r\n\r\n    // Sinon, fallback sur le DOM\r\n    if (document.body.classList.contains(\"gl-theme-dark\")) {\r\n        _currentTheme = THEME_DARK;\r\n        return THEME_DARK;\r\n    }\r\n    if (document.body.classList.contains(\"gl-theme-light\")) {\r\n        _currentTheme = THEME_LIGHT;\r\n        return THEME_LIGHT;\r\n    }\r\n\r\n    // Fallback final\r\n    _currentTheme = THEME_DARK;\r\n    return THEME_DARK;\r\n}\r\n\r\n/**\r\n * Applique un thème au <body> et synchronise le bouton.\r\n * @param {string} theme - \"light\" ou \"dark\"\r\n */\r\nfunction applyTheme(theme) {\r\n    const normalized =\r\n        theme === THEME_LIGHT || theme === THEME_DARK\r\n            ? theme\r\n            : THEME_DARK;\r\n\r\n    Log.debug('[UI.Theme] applyTheme:', theme, '→', normalized);\r\n\r\n    // Mettre à jour l'état centralisé AVANT le DOM\r\n    _currentTheme = normalized;\r\n\r\n    // Mise à jour du DOM sur body\r\n    document.body.classList.remove(\"gl-theme-light\", \"gl-theme-dark\");\r\n    document.body.classList.add(\r\n        normalized === THEME_DARK ? \"gl-theme-dark\" : \"gl-theme-light\"\r\n    );\r\n\r\n    // Appliquer aussi le thème au conteneur de carte (pour support fullscreen)\r\n    const mapContainer = document.getElementById(\"geoleaf-map\");\r\n    if (mapContainer) {\r\n        mapContainer.classList.remove(\"gl-theme-light\", \"gl-theme-dark\");\r\n        mapContainer.classList.add(\r\n            normalized === THEME_DARK ? \"gl-theme-dark\" : \"gl-theme-light\"\r\n        );\r\n    }\r\n\r\n    // Sauvegarde locale\r\n    try {\r\n        localStorage.setItem(THEME_KEY, normalized);\r\n    } catch (e) {\r\n        // Gérer explicitement l'absence de localStorage\r\n        if (Log) Log.warn(\"[UI.Theme] localStorage non disponible, thème non persisté.\");\r\n    }\r\n\r\n    // Synchronise le bouton si présent\r\n    updateToggleButton(normalized);\r\n\r\n    // Évènement global pour les autres modules\r\n    if (globalThis.dispatchEvent) {\r\n        globalThis.dispatchEvent(\r\n            new CustomEvent(\"geoleaf:ui-theme-changed\", {\r\n                detail: { theme: normalized }\r\n            })\r\n        );\r\n    }\r\n}\r\n\r\n/**\r\n * Bascule le thème courant (light <-> dark).\r\n */\r\nfunction toggleTheme() {\r\n    const current = getCurrentTheme();\r\n    const next = current === THEME_DARK ? THEME_LIGHT : THEME_DARK;\r\n    Log.debug('[UI.Theme] toggleTheme:', current, '→', next);\r\n    applyTheme(next);\r\n}\r\n\r\n/**\r\n * Détermine le thème initial :\r\n * 1) localStorage si disponible\r\n * 2) class du <body> si déjà définie\r\n * 3) sinon, \"dark\"\r\n * @returns {string} Theme initial\r\n * @private\r\n */\r\nfunction resolveInitialTheme() {\r\n    let stored = null;\r\n\r\n    try {\r\n        stored = localStorage.getItem(THEME_KEY);\r\n    } catch (e) {\r\n        stored = null;\r\n    }\r\n\r\n    if (stored === THEME_LIGHT || stored === THEME_DARK) {\r\n        return stored;\r\n    }\r\n\r\n    const bodyTheme = getCurrentTheme();\r\n    if (bodyTheme === THEME_LIGHT || bodyTheme === THEME_DARK) {\r\n        return bodyTheme;\r\n    }\r\n\r\n    return THEME_DARK;\r\n}\r\n\r\n/**\r\n * Récupère le bouton de thème dans le DOM.\r\n * Par convention on utilise l'attribut data-gl-role=\"theme-toggle\".\r\n * @returns {HTMLElement|null}\r\n * @private\r\n */\r\nfunction getToggleButton() {\r\n    return document.querySelector('[data-gl-role=\"theme-toggle\"]');\r\n}\r\n\r\n/**\r\n * Met à jour l'état visuel/ARIA du bouton de thème.\r\n * @param {string} theme - \"light\" ou \"dark\"\r\n * @private\r\n */\r\nfunction updateToggleButton(theme) {\r\n    const btn = getToggleButton();\r\n    if (!btn) return;\r\n\r\n    const isDark = theme === THEME_DARK;\r\n\r\n    btn.setAttribute(\"data-gl-theme-state\", isDark ? \"dark\" : \"light\");\r\n    btn.setAttribute(\"aria-pressed\", String(isDark));\r\n    btn.setAttribute(\r\n        \"aria-label\",\r\n        isDark ? \"Basculer en thème clair\" : \"Basculer en thème sombre\"\r\n    );\r\n    btn.title = isDark ? \"Thème clair\" : \"Thème sombre\";\r\n}\r\n\r\n/**\r\n * Initialise la gestion du bouton de thème.\r\n * @param {object} [options] - Options de configuration\r\n * @param {string} [options.buttonSelector] - Sélecteur custom du bouton\r\n * @param {boolean} [options.autoInitOnDomReady] - Si true, attend DOMContentLoaded\r\n */\r\nfunction initThemeToggle(options = {}) {\r\n    const cfg = {\r\n        buttonSelector: options.buttonSelector || '[data-gl-role=\"theme-toggle\"]',\r\n        autoInitOnDomReady:\r\n            typeof options.autoInitOnDomReady === \"boolean\"\r\n                ? options.autoInitOnDomReady\r\n                : false\r\n    };\r\n\r\n    const doInit = () => {\r\n        const initialTheme = resolveInitialTheme();\r\n        Log.debug('[UI.Theme] initThemeToggle:', initialTheme);\r\n        applyTheme(initialTheme);\r\n\r\n        const btn = document.querySelector(cfg.buttonSelector);\r\n        if (!btn) {\r\n            Log.warn('[UI.Theme] Bouton de thème introuvable:', cfg.buttonSelector);\r\n            return;\r\n        }\r\n\r\n        Log.debug('[UI.Theme] Bouton de thème trouvé');\r\n\r\n        // Accessibilité : <button> natif ou rôle \"button\"\r\n        const tag = (btn.tagName || \"\").toLowerCase();\r\n        if (tag === \"button\") {\r\n            try {\r\n                btn.type = btn.type || \"button\";\r\n            } catch (e) {\r\n                // Certains éléments custom peuvent lever une erreur\r\n            }\r\n        } else {\r\n            btn.setAttribute(\"role\", \"button\");\r\n            btn.setAttribute(\"tabindex\", \"0\");\r\n        }\r\n\r\n        // Première synchro de l'état visuel\r\n        updateToggleButton(initialTheme);\r\n\r\n        // Clic souris\r\n        btn.addEventListener(\"click\", (evt) => {\r\n            evt.preventDefault();\r\n            toggleTheme();\r\n        });\r\n\r\n        // Clavier (Enter / Space)\r\n        btn.addEventListener(\"keydown\", (evt) => {\r\n            if (evt.key === \"Enter\" || evt.key === \" \" || evt.key === \"Spacebar\") {\r\n                evt.preventDefault();\r\n                toggleTheme();\r\n            }\r\n        });\r\n    };    if (cfg.autoInitOnDomReady) {\r\n        if (document.readyState === \"loading\") {\r\n            document.addEventListener(\"DOMContentLoaded\", doInit, { once: true });\r\n        } else {\r\n            doInit();\r\n        }\r\n    } else {\r\n        doInit();\r\n    }\r\n}\r\n\r\n// ========================================\r\n//   EXPORT\r\n// ========================================\r\n\r\nconst _UITheme = {\r\n    initThemeToggle,\r\n    toggleTheme,\r\n    applyTheme,\r\n    getCurrentTheme,\r\n    // Constantes exposées\r\n    THEME_LIGHT,\r\n    THEME_DARK\r\n};\r\n\r\n// ── ESM Export ──\r\nexport { _UITheme };\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf Content Builder - Templates Module\r\n *\r\n * Centralise tous les templates HTML (14 builders) et classes CSS standards\r\n * pour les renderers (text, number, badge, rating, image, link, list, etc.).\r\n *\r\n * Organisation:\r\n * - CSS_CLASSES: Library de classes CSS standards\r\n * - Template Builders: 14 fonctions de construction HTML\r\n * - Wrappers: Fonctions utilitaires (wrapInParagraph, wrapInDiv, wrapInLink)\r\n *\r\n * @module ui/content-builder/templates\r\n * @author Assistant\r\n * @version 1.0.0\r\n * @since 2026-01-18 (Sprint 4.5 - Modularisation)\r\n *\r\n * @example\r\n * // Import des templates\r\n * const Templates = GeoLeaf._ContentBuilder.Templates;\r\n *\r\n * @example\r\n * // Utilisation CSS_CLASSES\r\n * const className = Templates.CSS_CLASSES.badge; // 'gl-poi-badge'\r\n *\r\n * @example\r\n * // Création d'un badge\r\n * const badgeHtml = Templates.createBadge(\r\n *   { displayValue: 'Restaurant', style: 'background-color: #e74c3c;' },\r\n *   'category',\r\n *   escapeHtml\r\n * );\r\n */\r\nimport { Log } from '../../log/index.js';\r\n\r\n    // ========================================\r\n    //   CLASSES CSS STANDARDS\r\n    // ========================================\r\n\r\n    const CSS_CLASSES = {\r\n        // Container classes\r\n        text: 'gl-content__text',\r\n        longtext: 'gl-content__longtext',\r\n        number: 'gl-content__number',\r\n        metric: 'gl-content__metric',\r\n        badge: 'gl-poi-badge',\r\n        rating: 'gl-content__rating',\r\n        image: 'gl-content__image',\r\n        link: 'gl-content__link',\r\n        list: 'gl-content__list',\r\n        table: 'gl-content__table',\r\n        tags: 'gl-content__tags',\r\n        tag: 'gl-content__tag',\r\n        coordinates: 'gl-content__coordinates',\r\n        gallery: 'gl-content__gallery',\r\n\r\n        // Badge variants\r\n        badgeDefault: 'gl-poi-badge--default',\r\n        badgeStatus: 'gl-poi-badge--status',\r\n        badgePriority: 'gl-poi-badge--priority',\r\n        badgeCategory: 'gl-poi-badge--category',\r\n\r\n        // Rating\r\n        star: 'gl-star',\r\n        starFull: 'gl-star--full',\r\n        starHalf: 'gl-star--half',\r\n        starEmpty: 'gl-star--empty'\r\n    };\r\n\r\n    // ========================================\r\n    //   TEMPLATE BUILDERS\r\n    // ========================================\r\n\r\n    /**\r\n     * Construit un attribut HTML class=\"...\" avec classes de base et personnalisées.\r\n     *\r\n     * Combine baseClass (obligatoire) + customClass (optionnel) en un seul attribut.\r\n     *\r\n     * @function buildClassAttr\r\n     * @param {string} baseClass - Classe CSS de base (ex: 'gl-content__badge')\r\n     * @param {string} [customClass] - Classe personnalisée optionnelle\r\n     * @returns {string} Attribut HTML class (ex: ' class=\"gl-content__badge custom\"')\r\n     *\r\n     * @example\r\n     * // Classe de base uniquement\r\n     * const attr1 = buildClassAttr('gl-content__badge');\r\n     * // Retourne: ' class=\"gl-content__badge\"'\r\n     *\r\n     * @example\r\n     * // Classe de base + classe personnalisée\r\n     * const attr2 = buildClassAttr('gl-content__badge', 'my-custom-badge');\r\n     * // Retourne: ' class=\"gl-content__badge my-custom-badge\"'\r\n     */\r\n    function buildClassAttr(baseClass, customClass) {\r\n        const classes = [baseClass];\r\n        if (customClass) classes.push(customClass);\r\n        return ' class=\"' + classes.join(' ') + '\"';\r\n    }\r\n\r\n    /**\r\n     * Construit un attribut HTML style=\"...\" si un style est fourni.\r\n     *\r\n     * Retourne une chaîne vide si style est null/undefined/vide.\r\n     *\r\n     * @function buildStyleAttr\r\n     * @param {string} [style] - Style CSS inline (ex: 'color: red; background: blue;')\r\n     * @returns {string} Attribut HTML style (ex: ' style=\"color: red;\"') ou chaîne vide\r\n     *\r\n     * @example\r\n     * // Avec style\r\n     * const attr1 = buildStyleAttr('color: red; font-weight: bold;');\r\n     * // Retourne: ' style=\"color: red; font-weight: bold;\"'\r\n     *\r\n     * @example\r\n     * // Sans style\r\n     * const attr2 = buildStyleAttr('');\r\n     * // Retourne: ''\r\n     */\r\n    function buildStyleAttr(style) {\r\n        return style ? ' style=\"' + style + '\"' : '';\r\n    }\r\n\r\n    /**\r\n     * Construit un label HTML avec gestion d'icône et échappement.\r\n     *\r\n     * Utilisé dans les templates pour afficher un label avec icône optionnelle.\r\n     *\r\n     * @function buildLabel\r\n     * @param {string} label - Texte du label (sera échappé)\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @param {string} [icon] - Icône optionnelle (HTML non échappé)\r\n     * @returns {string} HTML du label avec icône si fournie\r\n     *\r\n     * @example\r\n     * // Label simple\r\n     * const html1 = buildLabel('Restaurant', escapeHtml);\r\n     * // Retourne: '<span>Restaurant</span>'\r\n     *\r\n     * @example\r\n     * // Label avec icône\r\n     * const html2 = buildLabel('Restaurant', escapeHtml, '<i class=\"fa fa-utensils\"></i>');\r\n     * // Retourne: '<i class=\"fa fa-utensils\"></i><span>Restaurant</span>'\r\n     */\r\n    function buildLabel(label, escapeHtml, icon) {\r\n        if (!label) return '';\r\n        return '<strong>' + escapeHtml(label) + ':</strong> ';\r\n    }\r\n\r\n    /**\r\n     * Enveloppe du contenu HTML dans un paragraphe <p> avec classes.\r\n     *\r\n     * @function wrapInParagraph\r\n     * @param {string} content - Contenu HTML (déjà échappé ou non)\r\n     * @param {string} className - Classe CSS de base\r\n     * @param {string} [customClass] - Classe personnalisée optionnelle\r\n     * @returns {string} HTML paragraphe avec classes\r\n     *\r\n     * @example\r\n     * const html = wrapInParagraph('Restaurant', 'gl-content__text');\r\n     * // Retourne: '<p class=\"gl-content__text\">Restaurant</p>'\r\n     *\r\n     * @example\r\n     * const html2 = wrapInParagraph('Restaurant', 'gl-content__text', 'my-custom');\r\n     * // Retourne: '<p class=\"gl-content__text my-custom\">Restaurant</p>'\r\n     */\r\n    function wrapInParagraph(content, className, customClass) {\r\n        return '<p' + buildClassAttr(className, customClass) + '>' + content + '</p>';\r\n    }\r\n\r\n    /**\r\n     * Enveloppe du contenu HTML dans un div <div> avec classes.\r\n     *\r\n     * @function wrapInDiv\r\n     * @param {string} content - Contenu HTML (déjà échappé ou non)\r\n     * @param {string} className - Classe CSS de base\r\n     * @param {string} [customClass] - Classe personnalisée optionnelle\r\n     * @returns {string} HTML div avec classes\r\n     *\r\n     * @example\r\n     * const html = wrapInDiv('Content', 'gl-content__longtext');\r\n     * // Retourne: '<div class=\"gl-content__longtext\">Content</div>'\r\n     */\r\n    function wrapInDiv(content, className, customClass) {\r\n        return '<div' + buildClassAttr(className, customClass) + '>' + content + '</div>';\r\n    }\r\n\r\n    /**\r\n     * Crée un élément de texte simple <p> avec label optionnel.\r\n     *\r\n     * Format: <p class=\"gl-content__text\"><strong>Label:</strong> Value</p>\r\n     *\r\n     * @function createTextElement\r\n     * @param {string} value - Valeur texte (à échapper)\r\n     * @param {Object} config - Configuration renderer\r\n     * @param {string} [config.label] - Label optionnel\r\n     * @param {string} [config.className] - Classe personnalisée\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @returns {string} HTML paragraphe avec texte\r\n     *\r\n     * @example\r\n     * // Avec label\r\n     * const html1 = createTextElement('Restaurant', { label: 'Nom' }, escapeHtml);\r\n     * // Retourne: '<p class=\"gl-content__text\"><strong>Nom:</strong> Restaurant</p>'\r\n     *\r\n     * @example\r\n     * // Sans label\r\n     * const html2 = createTextElement('Restaurant', {}, escapeHtml);\r\n     * // Retourne: '<p class=\"gl-content__text\">Restaurant</p>'\r\n     */\r\n    function createTextElement(value, config, escapeHtml) {\r\n        const label = buildLabel(config.label, escapeHtml);\r\n        const content = label + escapeHtml(value);\r\n        return wrapInParagraph(content, CSS_CLASSES.text, config.className);\r\n    }\r\n\r\n    /**\r\n     * Crée un élément de texte long <div> avec label séparé.\r\n     *\r\n     * Format: <div><p><strong>Label</strong></p><p>Value</p></div>\r\n     * Utilisé pour descriptions, commentaires, textes longs.\r\n     *\r\n     * @function createLongtextElement\r\n     * @param {string} value - Valeur texte longue (à échapper)\r\n     * @param {Object} config - Configuration renderer\r\n     * @param {string} [config.label] - Label optionnel\r\n     * @param {string} [config.className] - Classe personnalisée\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @returns {string} HTML div avec texte long\r\n     *\r\n     * @example\r\n     * // Avec label\r\n     * const html1 = createLongtextElement(\r\n     *   'Une longue description...',\r\n     *   { label: 'Description' },\r\n     *   escapeHtml\r\n     * );\r\n     * // Retourne: '<div class=\"gl-content__longtext\">\r\n     * //   <p><strong>Description</strong></p>\r\n     * //   <p>Une longue description...</p>\r\n     * // </div>'\r\n     */\r\n    function createLongtextElement(value, config, escapeHtml) {\r\n        const label = config.label ? '<p><strong>' + escapeHtml(config.label) + '</strong></p>' : '';\r\n        const content = label + '<p>' + escapeHtml(value) + '</p>';\r\n        return wrapInDiv(content, CSS_CLASSES.longtext, config.className);\r\n    }\r\n\r\n    /**\r\n     * Crée un élément numérique <p> avec formatage locale FR.\r\n     *\r\n     * Formate le nombre avec toLocaleString('fr-FR').\r\n     * Supporte prefix, suffix, label.\r\n     *\r\n     * @function createNumberElement\r\n     * @param {number} value - Valeur numérique\r\n     * @param {Object} config - Configuration renderer\r\n     * @param {string} [config.label] - Label optionnel\r\n     * @param {string} [config.prefix] - Préfixe (ex: \"~\")\r\n     * @param {string} [config.suffix] - Suffixe (ex: \"m²\", \"habitants\")\r\n     * @param {string} [config.className] - Classe personnalisée\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @returns {string} HTML paragraphe avec nombre formaté\r\n     *\r\n     * @example\r\n     * // Nombre simple avec suffix\r\n     * const html1 = createNumberElement(1234567, { suffix: 'habitants' }, escapeHtml);\r\n     * // Retourne: '<p class=\"gl-content__number\">1\\u202f234\\u202f567 habitants</p>'\r\n     *\r\n     * @example\r\n     * // Avec label + prefix + suffix\r\n     * const html2 = createNumberElement(120, { label: 'Surface', prefix: '~', suffix: 'm²' }, escapeHtml);\r\n     * // Retourne: '<p class=\"gl-content__number\"><strong>Surface:</strong> ~120 m²</p>'\r\n     */\r\n    function createNumberElement(value, config, escapeHtml) {\r\n        const formatted = value.toLocaleString('fr-FR');\r\n        const label = buildLabel(config.label, escapeHtml);\r\n        const suffix = config.suffix ? ' ' + escapeHtml(config.suffix) : '';\r\n        const prefix = config.prefix ? escapeHtml(config.prefix) + ' ' : '';\r\n        const content = label + prefix + formatted + suffix;\r\n        return wrapInParagraph(content, CSS_CLASSES.number, config.className);\r\n    }\r\n\r\n    /**\r\n     * Crée un élément métrique <p> avec formatage (similaire à number).\r\n     *\r\n     * Identique à createNumberElement mais utilise CSS_CLASSES.metric.\r\n     * Utilisé pour métriques spécifiques (KPI, statistiques, etc.).\r\n     *\r\n     * @function createMetricElement\r\n     * @param {number} value - Valeur numérique\r\n     * @param {Object} config - Configuration renderer\r\n     * @param {string} [config.label] - Label optionnel\r\n     * @param {string} [config.prefix] - Préfixe (ex: \"+\", \"-\")\r\n     * @param {string} [config.suffix] - Suffixe (ex: \"%\", \"€\")\r\n     * @param {string} [config.className] - Classe personnalisée\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @returns {string} HTML paragraphe avec métrique formatée\r\n     *\r\n     * @example\r\n     * // Métrique avec pourcentage\r\n     * const html1 = createMetricElement(95.5, { label: 'Satisfaction', suffix: '%' }, escapeHtml);\r\n     * // Retourne: '<p class=\"gl-content__metric\"><strong>Satisfaction:</strong> 95,5%</p>'\r\n     */\r\n    function createMetricElement(value, config, escapeHtml) {\r\n        const formatted = value.toLocaleString('fr-FR');\r\n        const label = buildLabel(config.label, escapeHtml);\r\n        const suffix = config.suffix ? escapeHtml(config.suffix) : '';\r\n        const prefix = config.prefix ? escapeHtml(config.prefix) : '';\r\n        const content = label + prefix + formatted + suffix;\r\n        return wrapInParagraph(content, CSS_CLASSES.metric, config.className);\r\n    }\r\n\r\n    /**\r\n     * Crée un badge <span> avec variante et style inline.\r\n     *\r\n     * Variantes disponibles:\r\n     * - 'default': gl-poi-badge--default\r\n     * - 'status': gl-poi-badge--status\r\n     * - 'priority': gl-poi-badge--priority\r\n     * - 'category': gl-poi-badge--category\r\n     *\r\n     * @function createBadge\r\n     * @param {string} value - Texte du badge (à échapper)\r\n     * @param {string} [variant='default'] - Variante du badge (default, status, priority, category)\r\n     * @param {string} [style] - Style CSS inline optionnel (ex: 'background-color: #e74c3c;')\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @returns {string} HTML span badge\r\n     *\r\n     * @example\r\n     * // Badge default\r\n     * const html1 = createBadge('Restaurant', 'default', '', escapeHtml);\r\n     * // Retourne: '<span class=\"gl-poi-badge gl-poi-badge--default\">Restaurant</span>'\r\n     *\r\n     * @example\r\n     * // Badge category avec style\r\n     * const html2 = createBadge(\r\n     *   'Gastronomique',\r\n     *   'category',\r\n     *   'background-color: #e74c3c; color: white;',\r\n     *   escapeHtml\r\n     * );\r\n     * // Retourne: '<span class=\"gl-poi-badge gl-poi-badge--category\" style=\"...\">Gastronomique</span>'\r\n     */\r\n    function createBadge(value, variant, style, escapeHtml) {\r\n        variant = variant || 'default';\r\n        const badgeClass = CSS_CLASSES.badge + ' ' + CSS_CLASSES['badge' + variant.charAt(0).toUpperCase() + variant.slice(1)];\r\n        const styleAttr = buildStyleAttr(style);\r\n        return '<span class=\"' + badgeClass + '\"' + styleAttr + '>' + escapeHtml(value) + '</span>';\r\n    }\r\n\r\n    /**\r\n     * Crée une étoile <span> de notation avec classe CSS.\r\n     *\r\n     * Types disponibles:\r\n     * - 'full': gl-star--full (★ plein)\r\n     * - 'half': gl-star--half (½ étoile)\r\n     * - 'empty': gl-star--empty (☆ vide)\r\n     *\r\n     * @function createStar\r\n     * @param {string} type - Type d'étoile ('full', 'half', 'empty')\r\n     * @returns {string} HTML span étoile\r\n     *\r\n     * @example\r\n     * const html1 = createStar('full');\r\n     * // Retourne: '<span class=\"gl-star gl-star--full\">★</span>'\r\n     *\r\n     * @example\r\n     * const html2 = createStar('empty');\r\n     * // Retourne: '<span class=\"gl-star gl-star--empty\">★</span>'\r\n     */\r\n    function createStar(type) {\r\n        const starClass = CSS_CLASSES.star + ' ' + CSS_CLASSES['star' + type.charAt(0).toUpperCase() + type.slice(1)];\r\n        return '<span class=\"' + starClass + '\">★</span>';\r\n    }\r\n\r\n    /**\r\n     * Crée un élément de notation <p> avec étoiles (0-5).\r\n     *\r\n     * Génère automatiquement les étoiles pleines, demi et vides.\r\n     * Logique:\r\n     * - rating = 4.7 => 4 full + 1 half + 0 empty\r\n     * - rating = 3.2 => 3 full + 0 half + 2 empty\r\n     *\r\n     * @function createRatingElement\r\n     * @param {number} rating - Note (0-5)\r\n     * @param {Object} config - Configuration renderer\r\n     * @param {string} [config.label] - Label optionnel\r\n     * @param {number} [config.max=5] - Note maximale (généralement 5)\r\n     * @param {boolean} [config.showValue=true] - Afficher la valeur numérique\r\n     * @param {string} [config.className] - Classe personnalisée\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @returns {string} HTML paragraphe avec étoiles\r\n     *\r\n     * @example\r\n     * // Rating 4.5/5 avec label\r\n     * const html1 = createRatingElement(4.5, { label: 'Note', showValue: true }, escapeHtml);\r\n     * // Retourne: '<p class=\"gl-content__rating\">\r\n     * //   <strong>Note:</strong> ★★★★½ (4.5/5)\r\n     * // </p>'\r\n     *\r\n     * @example\r\n     * // Rating sans valeur numérique\r\n     * const html2 = createRatingElement(3, { showValue: false }, escapeHtml);\r\n     * // Retourne: '<p class=\"gl-content__rating\">★★★☆☆</p>'\r\n     */\r\n    function createRatingElement(rating, config, escapeHtml) {\r\n        let stars = '';\r\n        const fullStars = Math.floor(rating);\r\n        const hasHalfStar = (rating % 1) >= 0.5;\r\n\r\n        // Étoiles pleines\r\n        for (let i = 0; i < fullStars; i++) {\r\n            stars += createStar('full');\r\n        }\r\n\r\n        // Demi-étoile\r\n        if (hasHalfStar) {\r\n            stars += createStar('half');\r\n        }\r\n\r\n        // Étoiles vides\r\n        const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);\r\n        for (let i = 0; i < emptyStars; i++) {\r\n            stars += createStar('empty');\r\n        }\r\n\r\n        const ratingText = ' (' + rating.toFixed(1) + '/5)';\r\n        const label = buildLabel(config.label, escapeHtml);\r\n        const content = label + stars + ratingText;\r\n        return wrapInDiv(content, CSS_CLASSES.rating, config.className);\r\n    }\r\n\r\n    /**\r\n     * Crée un élément image <img> avec classe et alt.\r\n     *\r\n     * @function createImageElement\r\n     * @param {string} src - URL de l'image (sera échappée)\r\n     * @param {Object} config - Configuration renderer\r\n     * @param {string} [config.alt] - Texte alternatif optionnel\r\n     * @param {string} [config.className] - Classe personnalisée\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @returns {string} HTML img\r\n     *\r\n     * @example\r\n     * // Image avec alt\r\n     * const html1 = createImageElement(\r\n     *   'https://example.com/photo.jpg',\r\n     *   { alt: 'Photo du restaurant' },\r\n     *   escapeHtml\r\n     * );\r\n     * // Retourne: '<img class=\"gl-content__image\" src=\"https://example.com/photo.jpg\" alt=\"Photo du restaurant\">'\r\n     *\r\n     * @example\r\n     * // Image sans alt\r\n     * const html2 = createImageElement('https://example.com/photo.jpg', {}, escapeHtml);\r\n     * // Retourne: '<img class=\"gl-content__image\" src=\"https://example.com/photo.jpg\" alt=\"\">'\r\n     */\r\n    function createImageElement(src, config, escapeHtml) {\r\n        const alt = config.alt ? escapeHtml(config.alt) : '';\r\n        const classAttr = buildClassAttr(CSS_CLASSES.image, config.className);\r\n        return '<img' + classAttr + ' src=\"' + escapeHtml(src) + '\" alt=\"' + alt + '\">';\r\n    }\r\n\r\n    /**\r\n     * Crée un élément lien <a> avec target=\"_blank\" et sécurité.\r\n     *\r\n     * Sécurité: rel=\"noopener noreferrer\" pour éviter tabnabbing.\r\n     *\r\n     * @function createLinkElement\r\n     * @param {string} href - URL du lien (sera échappée)\r\n     * @param {Object} config - Configuration renderer\r\n     * @param {string} [config.text] - Texte du lien (défaut: URL)\r\n     * @param {string} [config.label] - Label optionnel\r\n     * @param {string} [config.className] - Classe personnalisée\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @returns {string} HTML paragraphe avec lien\r\n     *\r\n     * @example\r\n     * // Lien avec texte personnalisé\r\n     * const html1 = createLinkElement(\r\n     *   'https://example.com',\r\n     *   { text: 'Visiter le site', label: 'Site web' },\r\n     *   escapeHtml\r\n     * );\r\n     * // Retourne: '<p class=\"gl-content__link\">\r\n     * //   <strong>Site web:</strong>\r\n     * //   <a href=\"https://example.com\" target=\"_blank\" rel=\"noopener noreferrer\">Visiter le site</a>\r\n     * // </p>'\r\n     *\r\n     * @example\r\n     * // Lien sans texte (affiche URL)\r\n     * const html2 = createLinkElement('https://example.com', {}, escapeHtml);\r\n     * // Retourne: '<p class=\"gl-content__link\">\r\n     * //   <a href=\"https://example.com\" target=\"_blank\" rel=\"noopener noreferrer\">https://example.com</a>\r\n     * // </p>'\r\n     */\r\n    function createLinkElement(href, config, escapeHtml) {\r\n        const text = config.text ? escapeHtml(config.text) : escapeHtml(href);\r\n        const label = buildLabel(config.label, escapeHtml);\r\n        const link = '<a href=\"' + escapeHtml(href) + '\" target=\"_blank\" rel=\"noopener noreferrer\">' + text + '</a>';\r\n        const content = label + link;\r\n        return wrapInParagraph(content, CSS_CLASSES.link, config.className);\r\n    }\r\n\r\n    /**\r\n     * Crée un élément liste <ul> avec items.\r\n     *\r\n     * Convertit automatiquement les items en string via String(item).\r\n     *\r\n     * @function createListElement\r\n     * @param {Array<string|number|*>} items - Items de la liste\r\n     * @param {Object} config - Configuration renderer\r\n     * @param {string} [config.label] - Label optionnel\r\n     * @param {string} [config.className] - Classe personnalisée\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @returns {string} HTML div avec liste ul\r\n     *\r\n     * @example\r\n     * // Liste avec label\r\n     * const html1 = createListElement(\r\n     *   ['Pizza', 'Pasta', 'Risotto'],\r\n     *   { label: 'Spécialités' },\r\n     *   escapeHtml\r\n     * );\r\n     * // Retourne: '<div class=\"gl-content__list\">\r\n     * //   <p><strong>Spécialités</strong></p>\r\n     * //   <ul><li>Pizza</li><li>Pasta</li><li>Risotto</li></ul>\r\n     * // </div>'\r\n     *\r\n     * @example\r\n     * // Liste simple sans label\r\n     * const html2 = createListElement(['Item 1', 'Item 2'], {}, escapeHtml);\r\n     * // Retourne: '<div class=\"gl-content__list\"><ul><li>Item 1</li><li>Item 2</li></ul></div>'\r\n     */\r\n    function createListElement(items, config, escapeHtml) {\r\n        const label = config.label ? '<p><strong>' + escapeHtml(config.label) + '</strong></p>' : '';\r\n        let list = '<ul>';\r\n        items.forEach(item => {\r\n            list += '<li>' + escapeHtml(String(item)) + '</li>';\r\n        });\r\n        list += '</ul>';\r\n        const content = label + list;\r\n        return wrapInDiv(content, CSS_CLASSES.list, config.className);\r\n    }\r\n\r\n    /**\r\n     * Crée un élément table <table> à partir d'un objet clé/valeur.\r\n     *\r\n     * Génère une table HTML avec <th> pour les clés et <td> pour les valeurs.\r\n     *\r\n     * @function createTableElement\r\n     * @param {Object} data - Données de la table (clé/valeur)\r\n     * @param {Object} config - Configuration renderer\r\n     * @param {string} [config.label] - Label optionnel\r\n     * @param {string} [config.className] - Classe personnalisée\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @returns {string} HTML div avec table\r\n     *\r\n     * @example\r\n     * // Table avec label\r\n     * const html1 = createTableElement(\r\n     *   { 'Ouverture': '9h-18h', 'Fermeture': 'Dimanche' },\r\n     *   { label: 'Horaires' },\r\n     *   escapeHtml\r\n     * );\r\n     * // Retourne: '<div class=\"gl-content__table\">\r\n     * //   <p><strong>Horaires</strong></p>\r\n     * //   <table><tbody>\r\n     * //     <tr><th>Ouverture</th><td>9h-18h</td></tr>\r\n     * //     <tr><th>Fermeture</th><td>Dimanche</td></tr>\r\n     * //   </tbody></table>\r\n     * // </div>'\r\n     */\r\n    function createTableElement(data, config, escapeHtml) {\r\n        const label = config.label ? '<p><strong>' + escapeHtml(config.label) + '</strong></p>' : '';\r\n        let table = '<table><tbody>';\r\n\r\n        Object.keys(data).forEach(key => {\r\n            const keyLabel = escapeHtml(String(key));\r\n            const value = escapeHtml(String(data[key]));\r\n            table += '<tr><th>' + keyLabel + '</th><td>' + value + '</td></tr>';\r\n        });\r\n\r\n        table += '</tbody></table>';\r\n        const content = label + table;\r\n        return wrapInDiv(content, CSS_CLASSES.table, config.className);\r\n    }\r\n\r\n    /**\r\n     * Crée un tag <span> unique avec classe gl-content__tag.\r\n     *\r\n     * Utilisé par createTagsElement pour générer des tags individuels.\r\n     *\r\n     * @function createTag\r\n     * @param {string|number} tag - Texte du tag (à échapper)\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @returns {string} HTML span tag\r\n     *\r\n     * @example\r\n     * const html = createTag('Restaurant', escapeHtml);\r\n     * // Retourne: '<span class=\"gl-content__tag\">Restaurant</span>'\r\n     */\r\n    function createTag(tag, escapeHtml) {\r\n        return '<span class=\"' + CSS_CLASSES.tag + '\">' + escapeHtml(String(tag)) + '</span>';\r\n    }\r\n\r\n    /**\r\n     * Crée un élément cloud de tags <div> avec plusieurs tags.\r\n     *\r\n     * Génère un nuage de tags (tag cloud) avec chaque tag séparé par un espace.\r\n     *\r\n     * @function createTagsElement\r\n     * @param {Array<string|number>} tags - Liste de tags\r\n     * @param {Object} config - Configuration renderer\r\n     * @param {string} [config.className] - Classe personnalisée\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @returns {string} HTML div avec tags\r\n     *\r\n     * @example\r\n     * // Tags multiples\r\n     * const html = createTagsElement(\r\n     *   ['Pizza', 'Italien', 'Gastronomique'],\r\n     *   {},\r\n     *   escapeHtml\r\n     * );\r\n     * // Retourne: '<div class=\"gl-content__tags\">\r\n     * //   <span class=\"gl-content__tag\">Pizza</span>\r\n     * //   <span class=\"gl-content__tag\">Italien</span>\r\n     * //   <span class=\"gl-content__tag\">Gastronomique</span>\r\n     * // </div>'\r\n     */\r\n    function createTagsElement(tags, config, escapeHtml) {\r\n        let content = '';\r\n        tags.forEach(tag => {\r\n            content += createTag(tag, escapeHtml) + ' ';\r\n        });\r\n        return wrapInDiv(content.trim(), CSS_CLASSES.tags, config.className);\r\n    }\r\n\r\n    /**\r\n     * Crée un élément coordonnées <p> avec lat, lng.\r\n     *\r\n     * Formate automatiquement avec 6 décimales de précision.\r\n     *\r\n     * @function createCoordinatesElement\r\n     * @param {number} lat - Latitude (∈ [-90, 90])\r\n     * @param {number} lng - Longitude (∈ [-180, 180])\r\n     * @param {Object} config - Configuration renderer\r\n     * @param {string} [config.className] - Classe personnalisée\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @returns {string} HTML paragraphe avec coordonnées\r\n     *\r\n     * @example\r\n     * const html = createCoordinatesElement(45.7578137, 4.8320114, {}, escapeHtml);\r\n     * // Retourne: '<p class=\"gl-content__coordinates\">\r\n     * //   <strong>Coordonnées:</strong> 45.757814, 4.832011\r\n     * // </p>'\r\n     */\r\n    function createCoordinatesElement(lat, lng, config, escapeHtml) {\r\n        const latFixed = lat.toFixed(6);\r\n        const lngFixed = lng.toFixed(6);\r\n        const content = '<strong>Coordonnées:</strong> ' + latFixed + ', ' + lngFixed;\r\n        return wrapInParagraph(content, CSS_CLASSES.coordinates, config.className);\r\n    }\r\n\r\n    /**\r\n     * Crée un élément galerie <div> avec plusieurs images.\r\n     *\r\n     * Génère une galerie d'images sans balises <img> individuelles.\r\n     * Les URLs doivent être validées avant via validateImageUrl.\r\n     *\r\n     * @function createGalleryElement\r\n     * @param {Array<string>} photos - URLs des photos (déjà validées)\r\n     * @param {Object} config - Configuration renderer\r\n     * @param {string} [config.className] - Classe personnalisée\r\n     * @param {Function} escapeHtml - Fonction d'échappement HTML\r\n     * @returns {string} HTML div galerie avec images\r\n     *\r\n     * @example\r\n     * const html = createGalleryElement(\r\n     *   [\r\n     *     'https://example.com/photo1.jpg',\r\n     *     'https://example.com/photo2.jpg'\r\n     *   ],\r\n     *   {},\r\n     *   escapeHtml\r\n     * );\r\n     * // Retourne: '<div class=\"gl-content__gallery\">\r\n     * //   <img src=\"https://example.com/photo1.jpg\" alt=\"Photo\">\r\n     * //   <img src=\"https://example.com/photo2.jpg\" alt=\"Photo\">\r\n     * // </div>'\r\n     */\r\n    function createGalleryElement(photos, config, escapeHtml) {\r\n        let gallery = '';\r\n        photos.forEach(photo => {\r\n            gallery += '<img src=\"' + escapeHtml(photo) + '\" alt=\"Photo\">';\r\n        });\r\n        return wrapInDiv(gallery, CSS_CLASSES.gallery, config.className);\r\n    }\r\n\r\n    // ========================================\r\n    //   EXPORT\r\n    // ========================================\r\n\r\n    const Templates = {\r\n        // Classes CSS\r\n        CSS_CLASSES,\r\n\r\n        // Helpers de base\r\n        buildClassAttr,\r\n        buildStyleAttr,\r\n        buildLabel,\r\n        wrapInParagraph,\r\n        wrapInDiv,\r\n\r\n        // Template builders\r\n        createTextElement,\r\n        createLongtextElement,\r\n        createNumberElement,\r\n        createMetricElement,\r\n        createBadge,\r\n        createStar,\r\n        createRatingElement,\r\n        createImageElement,\r\n        createLinkElement,\r\n        createListElement,\r\n        createTableElement,\r\n        createTag,\r\n        createTagsElement,\r\n        createCoordinatesElement,\r\n        createGalleryElement\r\n    };\r\n\r\n// ── ESM Export ──\r\nexport { Templates };\r\n","/**\n * GeoLeaf UI Filter Panel - Shared Helpers\n * Fonctions utilitaires partagées pour le panneau de filtres\n *\n * @module ui/filter-panel/shared\n */\n\"use strict\";\n\nimport { getNestedValue } from '../../utils/object-utils.js';\nimport { getLog } from '../../utils/general-utils.js';\nimport { GeoJSONCore } from '../../geojson/core.js';\nimport { Config } from '../../config/geoleaf-config/config-core.js';\nconst _runtime = typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : {});\n// _runtime used only for legacy demo fallback (_runtime.cfg)\n\nconst FilterPanelShared = {};\n\n// ========================================\n//   CONVERSION DE FEATURES\n// ========================================\n\n/**\n * Convertit une feature GeoJSON Point en objet POI-like\n * @param {Object} feature - Feature GeoJSON\n * @returns {Object|null} - POI-like ou null\n */\nFilterPanelShared.featureToPoiLike = function(feature) {\n    if (!feature || !feature.geometry || !feature.properties) return null;\n\n    const geom = feature.geometry;\n    if (!geom || geom.type?.toLowerCase().indexOf(\"point\") === -1) return null;\n\n    const coords = Array.isArray(geom.coordinates) ? geom.coordinates : null;\n    const latlng = coords && coords.length >= 2 ? [coords[1], coords[0]] : null;\n    const props = feature.properties || {};\n    const poi = Object.assign({}, props);\n\n    if (!poi.title && props.name) poi.title = props.name;\n    if (!poi.id && feature.id) poi.id = feature.id;\n    if (!poi.latlng && latlng) poi.latlng = latlng;\n    if (!poi.attributes && props.attributes) poi.attributes = props.attributes;\n\n    return poi;\n};\n\n/**\n * Convertit une feature GeoJSON LineString en objet Route-like\n * @param {Object} feature - Feature GeoJSON\n * @returns {Object|null} - Route-like ou null\n */\nFilterPanelShared.featureToRouteLike = function(feature) {\n    if (!feature || !feature.geometry || !feature.properties) return null;\n\n    const geom = feature.geometry;\n    if (!geom || geom.type?.toLowerCase().indexOf(\"line\") === -1) return null;\n\n    const props = feature.properties || {};\n\n    // Exclude protected areas (aires_protégées_nationales) - they should not be treated as routes/itineraries\n    // Protected areas have minimal properties: fid, Name, region only\n    const hasOtherProperties = Object.keys(props).some(key =>\n        !['fid', 'name', 'Name', 'region', 'REGION', 'Region'].includes(key)\n    );\n    if (!hasOtherProperties && (props.fid !== undefined || props.Name)) {\n        // Likely a protected area, not an itinerary\n        return null;\n    }\n\n    const route = Object.assign({}, props);\n\n    if (!route.title && props.name) route.title = props.name;\n    if (!route.id && feature.id) route.id = feature.id;\n    route.geometry = geom;\n\n    return route;\n};\n\n// ========================================\n//   RÉCUPÉRATION DES DONNÉES\n// ========================================\n\n/**\n * Récupère tous les POI depuis les différentes sources\n * @returns {Array} - Liste des POI\n */\nFilterPanelShared.getBasePois = function() {\n    const Log = getLog();\n    const featureToPoiLike = FilterPanelShared.featureToPoiLike;\n\n    // 1) Prendre depuis GeoJSON (mode layers-only) si dispo\n    try {\n        if (GeoJSONCore && typeof GeoJSONCore.getFeatures === \"function\") {\n            const feats = GeoJSONCore.getFeatures({ geometryTypes: [\"point\"] }) || [];\n            const pois = feats.map(featureToPoiLike).filter(Boolean);\n            if (pois.length) return pois;\n        }\n    } catch (err) {\n        Log.warn(\"[GeoLeaf.UI.FilterPanel] Erreur récupération POI via GeoJSON:\", err);\n    }\n\n    // 2) Config active (legacy)\n    try {\n        if (Config) {\n            if (typeof Config.get === \"function\") {\n                const fromGet = Config.get(\"poi\");\n                if (Array.isArray(fromGet)) return fromGet;\n            }\n            if (Array.isArray(Config._activeProfileData?.poi)) {\n                return Config._activeProfileData.poi;\n            }\n        }\n    } catch (err) {\n        Log.warn(\"[GeoLeaf.UI.FilterPanel] Erreur récupération POI via Config:\", err);\n    }\n\n    // 3) Fallback démo\n    if (_runtime.cfg && Array.isArray(_runtime.cfg.poi)) {\n        return _runtime.cfg.poi;\n    }\n\n    return [];\n};\n\n/**\n * Récupère toutes les routes depuis les différentes sources\n * @returns {Array} - Liste des routes\n */\nFilterPanelShared.getBaseRoutes = function() {\n    const Log = getLog();\n    const featureToRouteLike = FilterPanelShared.featureToRouteLike;\n\n    // 1) Via GeoJSON (layers-only)\n    try {\n        if (GeoJSONCore && typeof GeoJSONCore.getFeatures === \"function\") {\n            const feats = GeoJSONCore.getFeatures({ geometryTypes: [\"line\", \"linestring\", \"multilinestring\"] }) || [];\n            const routes = feats.map(featureToRouteLike).filter(Boolean);\n            if (routes.length) return routes;\n        }\n    } catch (err) {\n        Log.warn(\"[GeoLeaf.UI.FilterPanel] Erreur récupération routes via GeoJSON:\", err);\n    }\n\n    // 2) Config active (legacy)\n    try {\n        if (Config) {\n            if (typeof Config.get === \"function\") {\n                const fromGet = Config.get(\"routes\");\n                if (Array.isArray(fromGet)) return fromGet;\n            }\n            if (Array.isArray(Config._activeProfileData?.routes)) {\n                return Config._activeProfileData.routes;\n            }\n        }\n    } catch (err) {\n        Log.warn(\"[GeoLeaf.UI.FilterPanel] Erreur récupération routes via Config:\", err);\n    }\n\n    // 3) Fallback démo\n    if (_runtime.cfg && Array.isArray(_runtime.cfg.routes)) {\n        return _runtime.cfg.routes;\n    }\n\n    return [];\n};\n\n// ========================================\n//   UTILITAIRES\n// ========================================\n\n/**\n * Retourne l'élément DOM du panneau de filtres.\n * Priorité au conteneur flottant #gl-filter-panel, puis fallback #gl-left-panel.\n * @returns {HTMLElement|null}\n */\nFilterPanelShared.getFilterPanelElement = function() {\n    let el = document.getElementById(\"gl-filter-panel\");\n    if (el) return el;\n\n    el = document.getElementById(\"gl-left-panel\");\n    if (el) return el;\n\n    const Log = getLog();\n    Log.warn(\"[GeoLeaf.UI.FilterPanel] Aucun conteneur de panneau de filtres trouvé (#gl-filter-panel / #gl-left-panel).\");\n\n    return null;\n};\n\n/**\n * Accède à une propriété imbriquée (Phase 4 dedup: delegates to Utils)\n */\nFilterPanelShared.getNestedValue = getNestedValue;\n\n/**\n * Extrait un point représentatif d'une géométrie (pour calcul de distance)\n * @param {Object} geometry - Géométrie GeoJSON\n * @returns {Object|null} - { lat, lng } ou null\n */\nFilterPanelShared.getRepresentativePoint = function(geometry) {\n    if (!geometry || !geometry.coordinates) return null;\n\n    if (geometry.type === 'Polygon' || geometry.type === 'MultiPolygon') {\n        // Pour un polygone, utiliser le premier point du premier anneau\n        const coords = geometry.type === 'Polygon'\n            ? geometry.coordinates[0][0]\n            : geometry.coordinates[0][0][0];\n        return coords ? { lng: coords[0], lat: coords[1] } : null;\n\n    } else if (geometry.type === 'LineString') {\n        // Pour une ligne, utiliser le point du milieu\n        const coords = geometry.coordinates;\n        if (coords && coords.length > 0) {\n            const midIndex = Math.floor(coords.length / 2);\n            return { lng: coords[midIndex][0], lat: coords[midIndex][1] };\n        }\n\n    } else if (geometry.type === 'MultiLineString') {\n        // Pour multi-ligne, utiliser le point du milieu de la première ligne\n        const coords = geometry.coordinates[0];\n        if (coords && coords.length > 0) {\n            const midIndex = Math.floor(coords.length / 2);\n            return { lng: coords[midIndex][0], lat: coords[midIndex][1] };\n        }\n\n    } else if (geometry.type === 'Point') {\n        return { lng: geometry.coordinates[0], lat: geometry.coordinates[1] };\n\n    } else if (geometry.type === 'MultiPoint') {\n        // Pour multi-point, utiliser le premier point\n        const coords = geometry.coordinates[0];\n        return coords ? { lng: coords[0], lat: coords[1] } : null;\n    }\n\n    return null;\n};\n\n/**\n * Collecte tous les tags uniques depuis une liste d'items\n * @param {Array} items - Liste d'items (POI, routes)\n * @returns {Array} - Tags uniques triés\n */\nFilterPanelShared.collectAllTags = function(items) {\n    const tagSet = new Set();\n\n    items.forEach(function(item) {\n        // Support GeoJSON properties.attributes.tags, item.attributes.tags, et item.tags\n        const props = item.properties || item;\n        const attrs = props.attributes || item.attributes || {};\n        const tags = attrs.tags || props.tags || item.tags;\n\n        if (Array.isArray(tags) && tags.length > 0) {\n            tags.forEach(function(t) {\n                if (t && typeof t === \"string\") {\n                    tagSet.add(t);\n                }\n            });\n        }\n    });\n\n    const arr = Array.from(tagSet);\n    arr.sort();\n    return arr;\n};\n\n\nexport { FilterPanelShared };\n","/**\n * GeoLeaf UI Filter Panel - Proximity\n * Gestion des filtres de proximité (GPS, manuel, cercle)\n *\n * @module ui/filter-panel/proximity\n */\n\"use strict\";\n\nimport { getLog } from \"../../utils/general-utils.js\";\nimport { events } from \"../../utils/event-listener-manager.js\";\nimport { Config } from \"../../config/geoleaf-config/config-core.js\";\nimport { GeoLocationState } from \"../geolocation-state.js\";\n\n// Direct ESM bindings (P3-DEAD-01 complete — module-local state + globalThis)\n// Proximity state — module-local (previously stored on GeoLeaf.UI.*)\nlet _proximityMode = false;\nlet _proximityCircle = null;\nlet _proximityMarker = null;\nlet _proximityMap = null;\nlet _proximityClickHandler = null;\n\nconst FilterPanelProximity = {};\nFilterPanelProximity._eventCleanups = [];\n\n/**\n * Initialise la fonctionnalité de proximité\n * @param {L.Map} map - Instance de carte Leaflet\n */\nFilterPanelProximity.initProximityFilter = function (map) {\n    const Log = getLog();\n\n    if (!map) {\n        Log.warn(\"[GeoLeaf.UI.FilterPanel] Carte non disponible pour le filtre de proximité\");\n        return;\n    }\n\n    // Initialiser l'état du module de proximité\n    _proximityMode = false;\n    _proximityCircle = null;\n    _proximityMarker = null;\n    _proximityMap = map;\n    _proximityClickHandler = null;\n\n    // Écouter les changements sur le slider de rayon - avec cleanup tracking\n    if (events) {\n        const inputHandler = function (evt) {\n            const slider = evt.target.closest(\"[data-filter-proximity-radius]\");\n            if (!slider) return;\n\n            const proximityControl = slider.closest(\".gl-filter-panel__proximity\");\n            if (!proximityControl) return;\n\n            const wrapper = proximityControl.closest(\"[data-gl-filter-id='proximity']\");\n            if (!wrapper) return;\n\n            const newRadius = parseFloat(slider.value);\n\n            // Mettre à jour l'attribut sur le wrapper\n            wrapper.setAttribute(\"data-proximity-radius\", newRadius);\n\n            // Si un cercle existe, le mettre à jour visuellement\n            if (_proximityCircle) {\n                const radiusMeters = newRadius * 1000;\n                _proximityCircle.setRadius(radiusMeters);\n            }\n        };\n\n        const clickHandler = function (evt) {\n            const btn = evt.target.closest(\"[data-filter-proximity-btn]\");\n            if (!btn) return;\n\n            evt.preventDefault();\n            FilterPanelProximity.toggleProximityMode(btn, map);\n        };\n\n        FilterPanelProximity._eventCleanups.push(\n            events.on(document, \"input\", inputHandler, false, \"ProximityFilter.radiusInput\")\n        );\n        FilterPanelProximity._eventCleanups.push(\n            events.on(document, \"click\", clickHandler, false, \"ProximityFilter.buttonClick\")\n        );\n    } else {\n        // Fallback sans cleanup\n        Log.warn(\n            \"[ProximityFilter] EventListenerManager not available - listeners will not be cleaned up\"\n        );\n        document.addEventListener(\"input\", function (evt) {\n            const slider = evt.target.closest(\"[data-filter-proximity-radius]\");\n            if (!slider) return;\n            const proximityControl = slider.closest(\".gl-filter-panel__proximity\");\n            if (!proximityControl) return;\n            const wrapper = proximityControl.closest(\"[data-gl-filter-id='proximity']\");\n            if (!wrapper) return;\n            const newRadius = parseFloat(slider.value);\n            wrapper.setAttribute(\"data-proximity-radius\", newRadius);\n            if (_proximityCircle) {\n                const radiusMeters = newRadius * 1000;\n                _proximityCircle.setRadius(radiusMeters);\n            }\n        });\n        document.addEventListener(\"click\", function (evt) {\n            const btn = evt.target.closest(\"[data-filter-proximity-btn]\");\n            if (!btn) return;\n            evt.preventDefault();\n            FilterPanelProximity.toggleProximityMode(btn, map);\n        });\n    }\n\n    Log.info(\"[GeoLeaf.UI.FilterPanel] Filtre de proximité initialisé\");\n};\n\n/**\n * Cleanup du filtre de proximité\n */\nFilterPanelProximity.destroy = function () {\n    const Log = getLog();\n\n    // Cleanup event listeners\n    if (FilterPanelProximity._eventCleanups && FilterPanelProximity._eventCleanups.length > 0) {\n        FilterPanelProximity._eventCleanups.forEach((cleanup) => {\n            if (typeof cleanup === \"function\") cleanup();\n        });\n        FilterPanelProximity._eventCleanups = [];\n        Log.info(\"[ProximityFilter] Event listeners cleaned up\");\n    }\n\n    // Cleanup map references\n    if (_proximityCircle) {\n        _proximityMap.removeLayer(_proximityCircle);\n        _proximityCircle = null;\n    }\n    if (_proximityMarker) {\n        _proximityMap.removeLayer(_proximityMarker);\n        _proximityMarker = null;\n    }\n\n    _proximityMap = null;\n    _proximityMode = false;\n};\n\n/**\n * Bascule le mode de proximité\n * @param {HTMLElement} btn - Bouton de proximité\n * @param {L.Map} map - Instance de carte\n */\nFilterPanelProximity.toggleProximityMode = function (btn, map) {\n    _proximityMode = !_proximityMode;\n\n    const container = btn.closest(\".gl-filter-panel__proximity\");\n    const rangeWrapper = container.querySelector(\".gl-filter-panel__proximity-range\");\n    const instruction = container.querySelector(\".gl-filter-panel__proximity-instruction\");\n\n    if (_proximityMode) {\n        btn.textContent = \"Désactiver\";\n        btn.classList.add(\"is-active\");\n        if (rangeWrapper) rangeWrapper.style.display = \"block\";\n        if (instruction) instruction.style.display = \"block\";\n\n        // Vérifier si la position GPS est disponible et récente (< 5 minutes)\n        const hasRecentGPS =\n            GeoLocationState.userPosition &&\n            Date.now() - GeoLocationState.userPosition.timestamp < 300000;\n\n        if (hasRecentGPS) {\n            FilterPanelProximity.activateGPSMode(container, map);\n        } else {\n            FilterPanelProximity.activateManualMode(container, map);\n        }\n    } else {\n        // Désactiver le mode proximité\n        FilterPanelProximity.deactivateProximityMode(btn, container, map);\n    }\n};\n\n/**\n * Active le mode GPS automatique\n * @param {HTMLElement} container - Container de proximité\n * @param {L.Map} map - Instance de carte\n */\nFilterPanelProximity.activateGPSMode = function (container, map) {\n    const Log = getLog();\n\n    Log.info(\n        \"[GeoLeaf.UI.FilterPanel] Utilisation de la position GPS pour la recherche par proximité\"\n    );\n\n    const radiusInput = container.querySelector(\"[data-filter-proximity-radius]\");\n    const radius = radiusInput ? parseFloat(radiusInput.value) : 10;\n    const radiusMeters = radius * 1000;\n\n    const wrapper = container.closest(\"[data-gl-filter-id='proximity']\");\n    if (!wrapper) {\n        Log.warn(\"[GeoLeaf.UI.FilterPanel] Wrapper proximity non trouvé\");\n        return;\n    }\n\n    // Supprimer les éléments existants\n    if (_proximityCircle) {\n        map.removeLayer(_proximityCircle);\n    }\n    if (_proximityMarker) {\n        map.removeLayer(_proximityMarker);\n    }\n\n    // Créer le cercle à la position GPS\n    const gpsLatLng = globalThis.L.latLng(\n        GeoLocationState.userPosition.lat,\n        GeoLocationState.userPosition.lng\n    );\n\n    const interactiveShapes = Config.get(\"ui.interactiveShapes\", false);\n    _proximityCircle = globalThis.L.circle(gpsLatLng, {\n        radius: radiusMeters,\n        color: \"#c2410c\",\n        fillColor: \"#c2410c\",\n        fillOpacity: 0.2,\n        weight: 2,\n        interactive: interactiveShapes,\n    }).addTo(map);\n\n    // Ne pas créer de marqueur supplémentaire si la géolocalisation est active\n    if (!GeoLocationState.active) {\n        // Mode GPS mais géolocalisation pas en tracking continu : créer un marqueur draggable\n        _proximityMarker = globalThis.L.marker(gpsLatLng, {\n            draggable: true,\n            icon: globalThis.L.divIcon({\n                className: \"gl-proximity-gps-marker\",\n                html: '<div style=\"width: 20px; height: 20px; background: #2563eb; border: 3px solid white; border-radius: 50%; box-shadow: 0 2px 4px rgba(0,0,0,0.3);\"></div>',\n                iconSize: [20, 20],\n                iconAnchor: [10, 10],\n            }),\n        }).addTo(map);\n\n        // Gérer le déplacement du marqueur\n        _proximityMarker.on(\"dragend\", function () {\n            const newLatLng = _proximityMarker.getLatLng();\n            if (_proximityCircle) {\n                _proximityCircle.setLatLng(newLatLng);\n            }\n            wrapper.setAttribute(\"data-proximity-lat\", newLatLng.lat);\n            wrapper.setAttribute(\"data-proximity-lng\", newLatLng.lng);\n            Log.info(\"[GeoLeaf.UI.FilterPanel] Point de proximité GPS déplacé:\", {\n                lat: newLatLng.lat,\n                lng: newLatLng.lng,\n                radius: radius,\n            });\n        });\n    } else {\n        _proximityMarker = null;\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Cercle de proximité affiché autour du marqueur GPS\");\n    }\n\n    // Définir les attributs sur le wrapper\n    wrapper.setAttribute(\"data-proximity-lat\", gpsLatLng.lat);\n    wrapper.setAttribute(\"data-proximity-lng\", gpsLatLng.lng);\n    wrapper.setAttribute(\"data-proximity-radius\", radius);\n    wrapper.setAttribute(\"data-proximity-active\", \"true\");\n\n    // Centrer la carte sur la position GPS\n    map.setView(gpsLatLng, Math.max(map.getZoom(), 14), {\n        animate: true,\n        duration: 0.5,\n    });\n\n    Log.info(\"[GeoLeaf.UI.FilterPanel] Point de proximité GPS défini:\", {\n        lat: gpsLatLng.lat,\n        lng: gpsLatLng.lng,\n        radius: radius,\n    });\n\n    // Pas de handler de clic nécessaire en mode GPS\n    _proximityClickHandler = null;\n};\n\n/**\n * Active le mode manuel (clic sur la carte)\n * @param {HTMLElement} container - Container de proximité\n * @param {L.Map} map - Instance de carte\n */\nFilterPanelProximity.activateManualMode = function (container, map) {\n    const Log = getLog();\n\n    Log.info(\n        \"[GeoLeaf.UI.FilterPanel] Mode manuel : cliquez sur la carte pour définir le point de recherche\"\n    );\n\n    map.getContainer().style.cursor = \"crosshair\";\n\n    // Créer le handler pour pouvoir le retirer plus tard\n    _proximityClickHandler = function (e) {\n        const radiusInput = container.querySelector(\"[data-filter-proximity-radius]\");\n        const radius = radiusInput ? parseFloat(radiusInput.value) : 10;\n        const radiusMeters = radius * 1000;\n\n        const wrapper = container.closest(\"[data-gl-filter-id='proximity']\");\n        if (!wrapper) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Wrapper proximity non trouvé\");\n            return;\n        }\n\n        if (_proximityCircle) {\n            map.removeLayer(_proximityCircle);\n        }\n        if (_proximityMarker) {\n            map.removeLayer(_proximityMarker);\n        }\n\n        const interactiveShapes = Config.get(\"ui.interactiveShapes\", false);\n        _proximityCircle = globalThis.L.circle(e.latlng, {\n            radius: radiusMeters,\n            color: \"#c2410c\",\n            fillColor: \"#c2410c\",\n            fillOpacity: 0.2,\n            weight: 2,\n            interactive: interactiveShapes,\n        }).addTo(map);\n\n        _proximityMarker = globalThis.L.marker(e.latlng, {\n            draggable: true,\n        }).addTo(map);\n\n        // Gérer le déplacement du marqueur\n        _proximityMarker.on(\"dragend\", function () {\n            const newLatLng = _proximityMarker.getLatLng();\n\n            if (_proximityCircle) {\n                _proximityCircle.setLatLng(newLatLng);\n            }\n\n            wrapper.setAttribute(\"data-proximity-lat\", newLatLng.lat);\n            wrapper.setAttribute(\"data-proximity-lng\", newLatLng.lng);\n\n            Log.info(\"[GeoLeaf.UI.FilterPanel] Point de proximité déplacé:\", {\n                lat: newLatLng.lat,\n                lng: newLatLng.lng,\n                radius: radius,\n            });\n        });\n\n        // Définir les attributs sur le wrapper\n        wrapper.setAttribute(\"data-proximity-lat\", e.latlng.lat);\n        wrapper.setAttribute(\"data-proximity-lng\", e.latlng.lng);\n        wrapper.setAttribute(\"data-proximity-radius\", radius);\n        wrapper.setAttribute(\"data-proximity-active\", \"true\");\n\n        map.getContainer().style.cursor = \"\";\n\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Point de proximité défini:\", {\n            lat: e.latlng.lat,\n            lng: e.latlng.lng,\n            radius: radius,\n        });\n\n        // Nettoyer le handler après le premier clic\n        map.off(\"click\", _proximityClickHandler);\n        _proximityClickHandler = null;\n    };\n\n    // Attacher le handler à la carte\n    map.on(\"click\", _proximityClickHandler);\n};\n\n/**\n * Désactive le mode de proximité\n * @param {HTMLElement} btn - Bouton de proximité\n * @param {HTMLElement} container - Container de proximité\n * @param {L.Map} map - Instance de carte\n */\nFilterPanelProximity.deactivateProximityMode = function (btn, container, map) {\n    const Log = getLog();\n\n    btn.textContent = \"Activer\";\n    btn.classList.remove(\"is-active\");\n\n    const rangeWrapper = container.querySelector(\".gl-filter-panel__proximity-range\");\n    const instruction = container.querySelector(\".gl-filter-panel__proximity-instruction\");\n\n    if (rangeWrapper) rangeWrapper.style.display = \"none\";\n    if (instruction) instruction.style.display = \"none\";\n\n    map.getContainer().style.cursor = \"\";\n\n    // Retirer le handler de clic\n    if (_proximityClickHandler) {\n        map.off(\"click\", _proximityClickHandler);\n        _proximityClickHandler = null;\n    }\n\n    // Retirer le cercle et le marqueur\n    if (_proximityCircle) {\n        map.removeLayer(_proximityCircle);\n        _proximityCircle = null;\n    }\n    if (_proximityMarker) {\n        map.removeLayer(_proximityMarker);\n        _proximityMarker = null;\n    }\n\n    // Retirer les attributs du wrapper\n    const wrapper = container.closest(\"[data-gl-filter-id='proximity']\");\n    if (wrapper) {\n        wrapper.removeAttribute(\"data-proximity-active\");\n        wrapper.removeAttribute(\"data-proximity-lat\");\n        wrapper.removeAttribute(\"data-proximity-lng\");\n    }\n\n    Log.info(\"[GeoLeaf.UI.FilterPanel] Mode proximité désactivé\");\n};\n\n/**\n * Réinitialise complètement le mode proximité depuis l'extérieur (ex. bouton \"Réinitialiser\").\n * Utilise les variables module-locales (_proximityMap, _proximityMarker, _proximityCircle,\n * _proximityClickHandler) migrées en P3-DEAD-01 — les anciens accès _g.GeoLeaf.UI.* sont morts.\n */\nFilterPanelProximity.resetProximity = function () {\n    if (!_proximityMap) return;\n\n    // Retirer le handler de clic sur la carte si présent\n    if (_proximityClickHandler) {\n        _proximityMap.off(\"click\", _proximityClickHandler);\n        _proximityClickHandler = null;\n    }\n\n    // Remettre le curseur par défaut\n    _proximityMap.getContainer().style.cursor = \"\";\n\n    // Retirer le cercle de la carte\n    if (_proximityCircle) {\n        _proximityMap.removeLayer(_proximityCircle);\n        _proximityCircle = null;\n    }\n\n    // Retirer le marqueur de la carte\n    if (_proximityMarker) {\n        _proximityMap.removeLayer(_proximityMarker);\n        _proximityMarker = null;\n    }\n\n    _proximityMode = false;\n};\n\nexport { FilterPanelProximity };\n","/**\r\n * GeoLeaf UI Filter Panel - State Reader\r\n * Lecture de l'état des filtres depuis le DOM\r\n *\r\n * @module ui/filter-panel/state-reader\r\n */\r\n\"use strict\";\r\n\r\nimport { FilterPanelProximity } from \"./proximity.js\";\r\n// _g.GeoLeaf.UI.* proximity globals removed — using FilterPanelProximity.resetProximity() (module-local state)\r\n\r\nconst FilterPanelStateReader = {};\r\n\r\n/**\r\n * Structure par défaut de l'état des filtres\r\n * @returns {Object}\r\n */\r\nFilterPanelStateReader.getDefaultState = function () {\r\n    return {\r\n        categoriesTree: [],\r\n        subCategoriesTree: [],\r\n        minRating: NaN,\r\n        hasMinRating: false,\r\n        selectedTags: [],\r\n        hasTags: false,\r\n        dataTypes: { poi: true, routes: true },\r\n        searchText: \"\",\r\n        hasSearchText: false,\r\n        proximity: {\r\n            active: false,\r\n            center: null,\r\n            radius: 10,\r\n        },\r\n    };\r\n};\r\n\r\n/**\r\n * Lit l'état actuel des filtres depuis le panneau DOM\r\n * @param {HTMLElement} panelEl - Élément du panneau de filtres\r\n * @returns {Object} - État des filtres\r\n */\r\nFilterPanelStateReader.readFiltersFromPanel = function (panelEl) {\r\n    const state = FilterPanelStateReader.getDefaultState();\r\n\r\n    if (!panelEl) return state;\r\n\r\n    // Types de données (POI / Routes)\r\n    const poiCheckbox = panelEl.querySelector(\"[data-gl-filter-id='dataTypes'] input[value='poi']\");\r\n    const routesCheckbox = panelEl.querySelector(\r\n        \"[data-gl-filter-id='dataTypes'] input[value='routes']\"\r\n    );\r\n    if (poiCheckbox) state.dataTypes.poi = poiCheckbox.checked;\r\n    if (routesCheckbox) state.dataTypes.routes = routesCheckbox.checked;\r\n\r\n    // Recherche textuelle\r\n    const searchInput = panelEl.querySelector(\r\n        \"[data-gl-filter-id='searchText'] input[type='text']\"\r\n    );\r\n    if (searchInput && searchInput.value.trim() !== \"\") {\r\n        state.searchText = searchInput.value.trim().toLowerCase();\r\n        state.hasSearchText = true;\r\n    }\r\n\r\n    // Proximité\r\n    const proximityContainer = panelEl.querySelector(\"[data-gl-filter-id='proximity']\");\r\n    if (proximityContainer) {\r\n        const isActive = proximityContainer.getAttribute(\"data-proximity-active\") === \"true\";\r\n        const lat = parseFloat(proximityContainer.getAttribute(\"data-proximity-lat\"));\r\n        const lng = parseFloat(proximityContainer.getAttribute(\"data-proximity-lng\"));\r\n        const radius = parseFloat(proximityContainer.getAttribute(\"data-proximity-radius\"));\r\n\r\n        if (isActive && !isNaN(lat) && !isNaN(lng) && !isNaN(radius)) {\r\n            state.proximity.active = true;\r\n            state.proximity.center = { lat: lat, lng: lng };\r\n            state.proximity.radius = radius;\r\n        }\r\n    }\r\n\r\n    // Tree-view : catégories cochées\r\n    panelEl\r\n        .querySelectorAll(\"input.gl-filter-tree__checkbox--category:checked\")\r\n        .forEach(function (input) {\r\n            const val = input.value;\r\n            if (val) {\r\n                state.categoriesTree.push(String(val));\r\n            }\r\n        });\r\n\r\n    // Tree-view : sous-catégories cochées\r\n    panelEl\r\n        .querySelectorAll(\"input.gl-filter-tree__checkbox--subcategory:checked\")\r\n        .forEach(function (input) {\r\n            const subId = input.getAttribute(\"data-gl-filter-subcategory-id\");\r\n            if (subId) {\r\n                state.subCategoriesTree.push(String(subId));\r\n            }\r\n        });\r\n\r\n    // Slider de note minimale\r\n    const ratingInput = panelEl.querySelector(\r\n        \"[data-gl-filter-id='minRating'] input[type='range']\"\r\n    );\r\n    if (ratingInput && ratingInput.value !== \"\") {\r\n        const val = parseFloat(ratingInput.value);\r\n        if (!isNaN(val)) {\r\n            state.minRating = val;\r\n            state.hasMinRating = val > 0;\r\n        }\r\n    }\r\n\r\n    // Tags sélectionnés (badges)\r\n    const tagsContainer = panelEl.querySelector(\r\n        \"[data-gl-filter-id='tags'] .gl-filter-panel__tags-container\"\r\n    );\r\n    if (tagsContainer) {\r\n        const selectedBadges = tagsContainer.querySelectorAll(\r\n            \".gl-filter-panel__tag-badge.is-selected\"\r\n        );\r\n        const selected = Array.from(selectedBadges)\r\n            .map(function (badge) {\r\n                return badge.getAttribute(\"data-tag-value\");\r\n            })\r\n            .filter(Boolean);\r\n        state.selectedTags = selected;\r\n        state.hasTags = selected.length > 0;\r\n    }\r\n\r\n    return state;\r\n};\r\n\r\n/**\r\n * Réinitialise les contrôles du panneau de filtres à leur état par défaut\r\n * @param {HTMLElement} panelEl - Élément du panneau de filtres\r\n */\r\nFilterPanelStateReader.resetControls = function (panelEl) {\r\n    if (!panelEl) return;\r\n\r\n    // Checkbox-group (POI/Routes) - reset to checked by default\r\n    const dataTypesCheckboxes = panelEl.querySelectorAll(\r\n        \"[data-gl-filter-id='dataTypes'] input[type='checkbox']\"\r\n    );\r\n    dataTypesCheckboxes.forEach(function (input) {\r\n        input.checked = true;\r\n    });\r\n\r\n    // Search text input\r\n    const searchInput = panelEl.querySelector(\r\n        \"[data-gl-filter-id='searchText'] input[type='text']\"\r\n    );\r\n    if (searchInput) {\r\n        searchInput.value = \"\";\r\n    }\r\n\r\n    // Proximité\r\n    const proximityWrapper = panelEl.querySelector(\"[data-gl-filter-id='proximity']\");\r\n    if (proximityWrapper) {\r\n        proximityWrapper.removeAttribute(\"data-proximity-active\");\r\n        proximityWrapper.removeAttribute(\"data-proximity-lat\");\r\n        proximityWrapper.removeAttribute(\"data-proximity-lng\");\r\n        proximityWrapper.removeAttribute(\"data-proximity-radius\");\r\n\r\n        const btn = proximityWrapper.querySelector(\".gl-filter-panel__proximity-btn\");\r\n        if (btn) {\r\n            btn.classList.remove(\"is-active\");\r\n            btn.textContent = btn.getAttribute(\"data-label-inactive\") || \"Activer\";\r\n        }\r\n\r\n        const rangeWrapper = proximityWrapper.querySelector(\".gl-filter-panel__proximity-range\");\r\n        if (rangeWrapper) {\r\n            rangeWrapper.style.display = \"none\";\r\n        }\r\n\r\n        const instruction = proximityWrapper.querySelector(\r\n            \".gl-filter-panel__proximity-instruction\"\r\n        );\r\n        if (instruction) {\r\n            instruction.style.display = \"none\";\r\n        }\r\n\r\n        // Supprimer le cercle, le marqueur et le handler de clic via l'état module-local\r\n        // (les anciens _g.GeoLeaf.UI._proximityMarker/Circle/Map sont morts depuis P3-DEAD-01)\r\n        FilterPanelProximity.resetProximity();\r\n    }\r\n\r\n    // Checkboxes du tree-view (catégories & sous-catégories)\r\n    panelEl.querySelectorAll(\".gl-filter-tree__checkbox\").forEach(function (input) {\r\n        input.checked = false;\r\n    });\r\n\r\n    // Tags - désélectionner tous les badges\r\n    const tagBadges = panelEl.querySelectorAll(\".gl-filter-panel__tag-badge.is-selected\");\r\n    tagBadges.forEach(function (badge) {\r\n        badge.classList.remove(\"is-selected\");\r\n    });\r\n\r\n    // Select classiques\r\n    panelEl.querySelectorAll(\"select.gl-filter-panel__control--select\").forEach(function (sel) {\r\n        if (sel.multiple) {\r\n            Array.from(sel.options).forEach(function (opt) {\r\n                opt.selected = false;\r\n            });\r\n        } else {\r\n            sel.value = \"\";\r\n        }\r\n    });\r\n\r\n    // Slider note\r\n    const ratingInput = panelEl.querySelector(\r\n        \"[data-gl-filter-id='minRating'] input[type='range']\"\r\n    );\r\n    const ratingLabel = panelEl.querySelector(\r\n        \"[data-gl-filter-id='minRating'] .gl-filter-panel__range-value\"\r\n    );\r\n    if (ratingInput) {\r\n        const min = ratingInput.min !== \"\" ? ratingInput.min : \"0\";\r\n        ratingInput.value = min;\r\n        if (ratingLabel) {\r\n            ratingLabel.textContent = String(min).replace(\".\", \",\");\r\n        }\r\n    }\r\n};\r\n\r\nexport { FilterPanelStateReader };\r\n","/**\r\n * GeoLeaf POI API (assemblage namespace POI)\r\n *\r\n * Assemble GeoLeaf.POI depuis les sous-modules refactorisés :\r\n *   - poi/core.js      : Fonctions principales (init, load, display)\r\n *   - poi/sidepanel.js : Panneau latéral\r\n *   - poi/shared.js    : État partagé et constantes\r\n *\r\n * Note : POI.Renderers est injecté séparément par globals.api.js après Object.assign.\r\n *\r\n * @module poi/poi-api\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from \"../log/index.js\";\r\nimport { POICore } from \"./core.js\";\r\nimport { POISidepanel as POISidePanel } from \"./sidepanel.js\";\r\nimport { POIShared } from \"./shared.js\";\r\n\r\n/**\r\n * API publique du module POI\r\n * Toutes les fonctions délèguent aux sous-modules appropriés\r\n */\r\n// NOTE: POI.Renderers is set explicitly by globals.js after Object.assign — do not set it here.\r\nconst POI = {\r\n    /**\r\n     * Initialise le module POI avec la carte et la configuration.\r\n     * Supporte deux signatures: init(map, config) et init({map, config}).\r\n     */\r\n    init: function (mapOrOptions, config) {\r\n        if (!POICore) {\r\n            if (Log) Log.error(\"[POI] Module Core non chargé.\");\r\n            return;\r\n        }\r\n        POICore.init(mapOrOptions, config);\r\n    },\r\n\r\n    loadAndDisplay: function () {\r\n        if (!POICore) {\r\n            if (Log) Log.error(\"[POI] Module Core non chargé.\");\r\n            return;\r\n        }\r\n        POICore.loadAndDisplay();\r\n    },\r\n\r\n    displayPois: function (pois) {\r\n        if (!POICore) {\r\n            if (Log) Log.error(\"[POI] Module Core non chargé.\");\r\n            return;\r\n        }\r\n        POICore.displayPois(pois);\r\n    },\r\n\r\n    addPoi: function (poi) {\r\n        if (!POICore) {\r\n            if (Log) Log.error(\"[POI] Module Core non chargé.\");\r\n            return null;\r\n        }\r\n        return POICore.addPoi(poi);\r\n    },\r\n\r\n    add: function (poi) {\r\n        if (!POICore) {\r\n            if (Log) Log.error(\"[POI] Module Core non chargé.\");\r\n            return false;\r\n        }\r\n        return POICore.addPoi(poi);\r\n    },\r\n\r\n    getAllPois: function () {\r\n        if (!POICore) return [];\r\n        return POICore.getAllPois();\r\n    },\r\n\r\n    getPoiById: function (id) {\r\n        if (!POICore) return null;\r\n        return POICore.getPoiById(id);\r\n    },\r\n\r\n    reload: function (pois) {\r\n        if (!POICore) {\r\n            if (Log) Log.error(\"[POI] Module Core non chargé.\");\r\n            return;\r\n        }\r\n        POICore.reload(pois);\r\n    },\r\n\r\n    showPoiDetails: async function (poi, customLayout) {\r\n        if (!POISidePanel) {\r\n            if (Log) Log.error(\"[POI] Module SidePanel non chargé.\");\r\n            return;\r\n        }\r\n        await POISidePanel.openSidePanel(poi, customLayout);\r\n    },\r\n\r\n    hideSidePanel: function () {\r\n        if (!POISidePanel) {\r\n            if (Log) Log.error(\"[POI] Module SidePanel non chargé.\");\r\n            return;\r\n        }\r\n        POISidePanel.closeSidePanel();\r\n    },\r\n\r\n    openSidePanelWithLayout: function (poi, customLayout) {\r\n        this.showPoiDetails(poi, customLayout);\r\n    },\r\n\r\n    getLayer: function () {\r\n        if (!POIShared) return null;\r\n        const state = POIShared.state;\r\n        return state.poiClusterGroup || state.poiLayerGroup;\r\n    },\r\n\r\n    getDisplayedPoisCount: function () {\r\n        if (!POICore) {\r\n            if (Log) Log.error(\"[POI] Module Core non chargé.\");\r\n            return 0;\r\n        }\r\n        return POICore.getDisplayedPoisCount();\r\n    },\r\n\r\n    /** @private */\r\n    _clearAllForTests: function () {\r\n        if (!POIShared) return;\r\n        const state = POIShared.state;\r\n        if (Log)\r\n            Log.info(\r\n                \"[POI] _clearAllForTests: Suppression de\",\r\n                state.allPois.length,\r\n                \"POI(s) et\",\r\n                state.poiMarkers.size,\r\n                \"marqueur(s)\"\r\n            );\r\n        state.allPois = [];\r\n        state.poiMarkers.clear();\r\n        if (state.poiClusterGroup) state.poiClusterGroup.clearLayers();\r\n        if (state.poiLayerGroup) state.poiLayerGroup.clearLayers();\r\n    },\r\n};\r\n\r\nexport { POI };\r\n","/*!\r\n * GeoLeaf Core – Filters / Utils\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n */\r\n\r\nimport { Log } from \"../log/index.js\";\r\n\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n\r\n/**\r\n * Extrait une valeur depuis un chemin (ex: \"attributes.shortDescription\").\r\n * @param {object} obj\r\n * @param {string} path\r\n * @returns {*}\r\n */\r\nexport function getNestedValue(obj, path) {\r\n    return path\r\n        .split(\".\")\r\n        .reduce(\r\n            (current, prop) => (current && current[prop] !== undefined ? current[prop] : null),\r\n            obj\r\n        );\r\n}\r\n\r\n/**\r\n * Récupère les champs de recherche depuis le profil actif.\r\n * Priorité : layouts (search:true) → searchFields → défauts.\r\n * @returns {Array<string>}\r\n */\r\nexport function getSearchFieldsFromProfile() {\r\n    try {\r\n        if (_g.GeoLeaf?.Config && typeof _g.GeoLeaf.Config.getActiveProfile === \"function\") {\r\n            const profile = _g.GeoLeaf.Config.getActiveProfile();\r\n            const searchableFieldsSet = new Set();\r\n\r\n            if (profile?.panels?.detail?.layout) {\r\n                profile.panels.detail.layout\r\n                    .filter((item) => item.search === true && item.field)\r\n                    .forEach((item) => searchableFieldsSet.add(item.field));\r\n            }\r\n            if (profile?.panels?.route?.layout) {\r\n                profile.panels.route.layout\r\n                    .filter((item) => item.search === true && item.field)\r\n                    .forEach((item) => searchableFieldsSet.add(item.field));\r\n            }\r\n\r\n            if (searchableFieldsSet.size > 0) {\r\n                const fields = Array.from(searchableFieldsSet);\r\n                Log.debug(\"[Filters] Champs de recherche depuis layouts (search:true):\", fields);\r\n                return fields;\r\n            }\r\n\r\n            if (Array.isArray(profile?.panels?.search?.filters)) {\r\n                const searchFilter = profile.panels.search.filters.find((f) => f.type === \"search\");\r\n                if (searchFilter?.searchFields?.length > 0) {\r\n                    Log.debug(\r\n                        \"[Filters] Champs de recherche depuis searchFields (fallback):\",\r\n                        searchFilter.searchFields\r\n                    );\r\n                    return searchFilter.searchFields;\r\n                }\r\n            }\r\n        }\r\n    } catch (err) {\r\n        Log.warn(\"[Filters] Erreur extraction searchFields du profil:\", err);\r\n    }\r\n\r\n    const defaultFields = [\"title\", \"label\", \"name\"];\r\n    Log.debug(\"[Filters] Champs de recherche par défaut:\", defaultFields);\r\n    return defaultFields;\r\n}\r\n\r\n/**\r\n * Extrait les coordonnées [lat, lng] d'un objet route (multi-format).\r\n * @param {object} route\r\n * @returns {Array<[number, number]>}\r\n */\r\nexport function extractRouteCoords(route) {\r\n    if (Array.isArray(route.geometry) && route.geometry.length > 0) {\r\n        if (Array.isArray(route.geometry[0]) && typeof route.geometry[0][0] === \"number\") {\r\n            return route.geometry.map((pair) => [pair[0], pair[1]]);\r\n        }\r\n        if (\r\n            route.geometry[0]?.type === \"LineString\" &&\r\n            Array.isArray(route.geometry[0].coordinates)\r\n        ) {\r\n            return route.geometry[0].coordinates.map((c) => [c[1], c[0]]);\r\n        }\r\n    }\r\n    if (route.geometry?.type === \"LineString\" && Array.isArray(route.geometry.coordinates)) {\r\n        return route.geometry.coordinates.map((c) => [c[1], c[0]]);\r\n    }\r\n    return [];\r\n}\r\n","/*!\r\n * GeoLeaf Core – Filters / POI Filter\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n */\r\n\r\nimport { Log } from \"../log/index.js\";\r\nimport { getNestedValue, getSearchFieldsFromProfile } from \"./utils.js\";\r\n\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n/**\r\n * Fallback Haversine distance (metres) — used when GeoLeaf.Utils is not loaded.\r\n * @param {number} lat1 @param {number} lng1 @param {number} lat2 @param {number} lng2\r\n * @returns {number}\r\n */\r\nfunction _haversine(lat1, lng1, lat2, lng2) {\r\n    const R = 6371000;\r\n    const dLat = ((lat2 - lat1) * Math.PI) / 180;\r\n    const dLng = ((lng2 - lng1) * Math.PI) / 180;\r\n    const a =\r\n        Math.sin(dLat / 2) ** 2 +\r\n        Math.cos((lat1 * Math.PI) / 180) *\r\n            Math.cos((lat2 * Math.PI) / 180) *\r\n            Math.sin(dLng / 2) ** 2;\r\n    return 2 * R * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n}\r\n/**\r\n * Extrait la note moyenne d'un objet (POI ou route).\r\n * @param {object} attrs - attributes\r\n * @param {object} item  - objet racine\r\n * @param {object} props - properties\r\n * @returns {{ avg: number, hasRating: boolean }}\r\n */\r\nfunction _extractRating(attrs, item, props) {\r\n    let avg = 0;\r\n    let hasRating = false;\r\n\r\n    const reviewsObj = attrs.reviews || item.reviews || props.reviews;\r\n    if (reviewsObj && typeof reviewsObj === \"object\" && !Array.isArray(reviewsObj)) {\r\n        if (typeof reviewsObj.rating === \"number\") {\r\n            avg = reviewsObj.rating;\r\n            hasRating = true;\r\n        }\r\n    } else if (Array.isArray(reviewsObj) && reviewsObj.length > 0) {\r\n        const sum = reviewsObj.reduce((acc, r) => acc + (Number(r.rating) || 0), 0);\r\n        avg = sum / reviewsObj.length;\r\n        hasRating = avg > 0;\r\n    } else if (typeof attrs.rating === \"number\") {\r\n        avg = attrs.rating;\r\n        hasRating = true;\r\n    } else if (typeof item.rating === \"number\") {\r\n        avg = item.rating;\r\n        hasRating = true;\r\n    } else if (typeof props.rating === \"number\") {\r\n        avg = props.rating;\r\n        hasRating = true;\r\n    }\r\n    return { avg, hasRating };\r\n}\r\n\r\n/**\r\n * Normalise un tableau de tags (string CSV, tableau ou autre).\r\n * @param {*} rawTags\r\n * @returns {string[]}\r\n */\r\nfunction _normalizeTags(rawTags) {\r\n    if (Array.isArray(rawTags)) return rawTags.map((t) => String(t).trim()).filter(Boolean);\r\n    if (typeof rawTags === \"string\")\r\n        return rawTags\r\n            .split(/[,;]+/)\r\n            .map((t) => t.trim())\r\n            .filter(Boolean);\r\n    return [];\r\n}\r\n\r\n/**\r\n * Filtre une liste de POI selon les critères fournis.\r\n * @param {Array} basePois\r\n * @param {object} filterState\r\n * @returns {Array}\r\n */\r\nexport function filterPoiList(basePois, filterState) {\r\n    const catsSel = filterState.categoriesTree || [];\r\n    const subsSel = filterState.subCategoriesTree || [];\r\n    const hasCats = catsSel.length > 0;\r\n    const hasSubs = subsSel.length > 0;\r\n    const hasMinRating = !!filterState.hasMinRating;\r\n    const minRating = filterState.minRating;\r\n    const selectedTags = filterState.selectedTags || [];\r\n    const hasTags = filterState.hasTags;\r\n    const dataTypes = filterState.dataTypes || { poi: true, routes: true };\r\n    const searchText = (filterState.searchText || \"\").toLowerCase();\r\n    const hasSearchText = filterState.hasSearchText || false;\r\n    const proximity = filterState.proximity || { active: false };\r\n\r\n    if (!Array.isArray(basePois) || basePois.length === 0) {\r\n        Log.debug(\"[Filters] Aucun POI à filtrer\");\r\n        return [];\r\n    }\r\n\r\n    Log.debug(\"[Filters] Début filtrage POI:\", {\r\n        totalPOI: basePois.length,\r\n        hasCats,\r\n        hasSubs,\r\n        hasSearchText,\r\n        proximityActive: proximity.active,\r\n    });\r\n\r\n    const getDistance = _g.GeoLeaf?.Utils?.getDistance ?? _haversine;\r\n\r\n    return basePois.filter((poi) => {\r\n        const attrs = poi.attributes || {};\r\n        const props = poi.properties || {};\r\n\r\n        // Filtre type de données\r\n        const poiType = poi.type || attrs.type || props.type || \"poi\";\r\n        if (poiType === \"route\" || poiType === \"routes\") {\r\n            if (!dataTypes.routes) return false;\r\n        } else {\r\n            if (!dataTypes.poi) return false;\r\n        }\r\n\r\n        // Filtre recherche textuelle\r\n        if (hasSearchText) {\r\n            const searchFields =\r\n                filterState.searchFields?.length > 0\r\n                    ? filterState.searchFields\r\n                    : getSearchFieldsFromProfile();\r\n            const matchFound = searchFields.some((fieldPath) => {\r\n                const value = getNestedValue(poi, fieldPath);\r\n                if (Array.isArray(value)) {\r\n                    return value.some((v) => String(v).toLowerCase().includes(searchText));\r\n                }\r\n                return value && String(value).toLowerCase().includes(searchText);\r\n            });\r\n            if (!matchFound) return false;\r\n        }\r\n\r\n        // Filtre proximité\r\n        if (proximity.active && proximity.center) {\r\n            let lat, lng;\r\n            if (poi.latlng && Array.isArray(poi.latlng) && poi.latlng.length === 2) {\r\n                [lat, lng] = poi.latlng;\r\n            } else {\r\n                lat =\r\n                    poi.lat ??\r\n                    poi.latitude ??\r\n                    attrs.latitude ??\r\n                    props.latitude ??\r\n                    poi.coordinates?.[1] ??\r\n                    poi.geometry?.coordinates?.[1];\r\n                lng =\r\n                    poi.lng ??\r\n                    poi.longitude ??\r\n                    attrs.longitude ??\r\n                    props.longitude ??\r\n                    poi.coordinates?.[0] ??\r\n                    poi.geometry?.coordinates?.[0];\r\n            }\r\n            if (lat && lng) {\r\n                if (\r\n                    getDistance(proximity.center.lat, proximity.center.lng, lat, lng) >\r\n                    proximity.radius\r\n                )\r\n                    return false;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // Résolution catégorie / sous-catégorie\r\n        const catId = String(\r\n            attrs.categoryId ??\r\n                poi.categoryId ??\r\n                poi.category ??\r\n                props.categoryId ??\r\n                props.category ??\r\n                \"\"\r\n        );\r\n        const subId = String(\r\n            attrs.subCategoryId ??\r\n                poi.subCategoryId ??\r\n                poi.subCategory ??\r\n                poi.sub_category ??\r\n                props.subCategoryId ??\r\n                props.sub_category ??\r\n                \"\"\r\n        );\r\n\r\n        if (hasCats || hasSubs) {\r\n            if (hasSubs) {\r\n                if (!subId || !subsSel.includes(subId)) return false;\r\n            } else if (hasCats) {\r\n                if (!catId || !catsSel.includes(catId)) return false;\r\n            }\r\n        }\r\n\r\n        // Filtre note minimale\r\n        if (hasMinRating) {\r\n            const { avg, hasRating } = _extractRating(attrs, poi, props);\r\n            if (!hasRating || avg < minRating) return false;\r\n        }\r\n\r\n        // Filtre tags\r\n        if (hasTags) {\r\n            const poiTags = _normalizeTags(attrs.tags ?? poi.tags ?? props.tags);\r\n            if (!selectedTags.some((tag) => poiTags.includes(tag))) return false;\r\n        }\r\n\r\n        return true;\r\n    });\r\n}\r\n","/*!\r\n * GeoLeaf Core – Filters / Route Filter\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n */\r\n\r\nimport { Log } from \"../log/index.js\";\r\nimport { getNestedValue, getSearchFieldsFromProfile, extractRouteCoords } from \"./utils.js\";\r\n\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\nfunction _haversine(lat1, lng1, lat2, lng2) {\r\n    const R = 6371000;\r\n    const dLat = ((lat2 - lat1) * Math.PI) / 180;\r\n    const dLng = ((lng2 - lng1) * Math.PI) / 180;\r\n    const a =\r\n        Math.sin(dLat / 2) ** 2 +\r\n        Math.cos((lat1 * Math.PI) / 180) *\r\n            Math.cos((lat2 * Math.PI) / 180) *\r\n            Math.sin(dLng / 2) ** 2;\r\n    return 2 * R * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n}\r\nfunction _extractRating(attrs, item, props) {\r\n    let avg = 0;\r\n    let hasRating = false;\r\n\r\n    const reviewsObj = attrs.reviews || item.reviews || props.reviews;\r\n    if (reviewsObj && typeof reviewsObj === \"object\" && !Array.isArray(reviewsObj)) {\r\n        if (typeof reviewsObj.rating === \"number\") {\r\n            avg = reviewsObj.rating;\r\n            hasRating = true;\r\n        }\r\n    } else if (Array.isArray(reviewsObj) && reviewsObj.length > 0) {\r\n        const sum = reviewsObj.reduce((acc, r) => acc + (Number(r.rating) || 0), 0);\r\n        avg = sum / reviewsObj.length;\r\n        hasRating = avg > 0;\r\n    } else if (typeof attrs.rating === \"number\") {\r\n        avg = attrs.rating;\r\n        hasRating = true;\r\n    } else if (typeof item.rating === \"number\") {\r\n        avg = item.rating;\r\n        hasRating = true;\r\n    } else if (typeof props.rating === \"number\") {\r\n        avg = props.rating;\r\n        hasRating = true;\r\n    }\r\n    return { avg, hasRating };\r\n}\r\n\r\nfunction _normalizeTags(rawTags) {\r\n    if (Array.isArray(rawTags)) return rawTags.map((t) => String(t).trim()).filter(Boolean);\r\n    if (typeof rawTags === \"string\")\r\n        return rawTags\r\n            .split(/[,;]+/)\r\n            .map((t) => t.trim())\r\n            .filter(Boolean);\r\n    return [];\r\n}\r\n\r\n/**\r\n * Filtre une liste de routes selon les critères fournis.\r\n * @param {Array} baseRoutes\r\n * @param {object} filterState\r\n * @returns {Array}\r\n */\r\nexport function filterRouteList(baseRoutes, filterState) {\r\n    const catsSel = filterState.categoriesTree || [];\r\n    const subsSel = filterState.subCategoriesTree || [];\r\n    const hasCats = catsSel.length > 0;\r\n    const hasSubs = subsSel.length > 0;\r\n    const selectedTags = filterState.selectedTags || [];\r\n    const hasTags = filterState.hasTags;\r\n    const hasMinRating = !!filterState.hasMinRating;\r\n    const minRating = filterState.minRating;\r\n    const searchText = (filterState.searchText || \"\").toLowerCase();\r\n    const hasSearchText = filterState.hasSearchText || false;\r\n    const proximity = filterState.proximity || { active: false };\r\n\r\n    if (!Array.isArray(baseRoutes) || baseRoutes.length === 0) {\r\n        Log.debug(\"[Filters] Aucune route à filtrer\");\r\n        return [];\r\n    }\r\n\r\n    Log.debug(\"[Filters] Début filtrage routes:\", {\r\n        totalRoutes: baseRoutes.length,\r\n        hasCats,\r\n        hasSubs,\r\n        hasMinRating,\r\n        minRating,\r\n        hasSearchText,\r\n        proximityActive: proximity.active,\r\n    });\r\n\r\n    const getDistance = _g.GeoLeaf?.Utils?.getDistance ?? _haversine;\r\n\r\n    return baseRoutes.filter((route) => {\r\n        const attrs = route.attributes || {};\r\n        const props = route.properties || {};\r\n\r\n        // Filtre recherche textuelle\r\n        if (hasSearchText) {\r\n            const searchFields =\r\n                filterState.searchFields?.length > 0\r\n                    ? filterState.searchFields\r\n                    : getSearchFieldsFromProfile();\r\n            const matchFound = searchFields.some((fieldPath) => {\r\n                const value = getNestedValue(route, fieldPath);\r\n                return value && String(value).toLowerCase().includes(searchText);\r\n            });\r\n            if (!matchFound) return false;\r\n        }\r\n\r\n        // Résolution catégorie / sous-catégorie\r\n        const catId = String(\r\n            attrs.categoryId ??\r\n                route.categoryId ??\r\n                route.category ??\r\n                props.categoryId ??\r\n                props.category ??\r\n                \"\"\r\n        );\r\n        const subId = String(\r\n            attrs.subCategoryId ??\r\n                route.subCategoryId ??\r\n                route.subCategory ??\r\n                route.sub_category ??\r\n                props.subCategoryId ??\r\n                props.sub_category ??\r\n                \"\"\r\n        );\r\n\r\n        if (hasCats || hasSubs) {\r\n            if (hasSubs) {\r\n                if (!subId || !subsSel.includes(subId)) return false;\r\n            } else if (hasCats) {\r\n                if (!catId || !catsSel.includes(catId)) return false;\r\n            }\r\n        }\r\n\r\n        // Filtre tags\r\n        if (hasTags) {\r\n            const routeTags = _normalizeTags(attrs.tags ?? route.tags ?? props.tags);\r\n            if (!selectedTags.some((tag) => routeTags.includes(tag))) return false;\r\n        }\r\n\r\n        // Filtre note minimale\r\n        if (hasMinRating) {\r\n            const { avg, hasRating } = _extractRating(attrs, route, props);\r\n            if (!hasRating || avg < minRating) return false;\r\n        }\r\n\r\n        // Filtre proximité (au moins un point de l'itinéraire dans le rayon)\r\n        if (proximity.active && proximity.center) {\r\n            const coords = extractRouteCoords(route);\r\n            if (coords.length === 0) return false;\r\n\r\n            const isInRadius = coords.some(\r\n                ([lat, lng]) =>\r\n                    getDistance(proximity.center.lat, proximity.center.lng, lat, lng) <=\r\n                    proximity.radius\r\n            );\r\n            if (!isInRadius) return false;\r\n        }\r\n\r\n        return true;\r\n    });\r\n}\r\n","/*!\r\n * GeoLeaf Core – Filters / Index (barrel)\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n */\r\n\r\nimport { filterPoiList } from \"./poi-filter.js\";\r\nimport { filterRouteList } from \"./route-filter.js\";\r\n\r\nexport const Filters = {\r\n    filterPoiList,\r\n    filterRouteList,\r\n};\r\n","/**\n * GeoLeaf UI Filter Panel - Applier\n * Application des filtres aux couches POI, Routes, GeoJSON\n *\n * @module ui/filter-panel/applier\n */\n\"use strict\";\n\nimport { getLog, getDistance } from '../../utils/general-utils.js';\nimport { FilterPanelShared } from './shared.js';\nimport { FilterPanelStateReader } from './state-reader.js';\nimport { Config } from '../../config/geoleaf-config/config-core.js';\nimport { POI } from '../../geoleaf.poi.js';\nimport { GeoJSONCore } from '../../geojson/core.js';\nimport { Route } from '../../geoleaf.route.js';\nimport { Filters } from '../../geoleaf.filters.js';\n\n// Direct ESM bindings (P3-DEAD-01 complete)\nconst getShared = () => FilterPanelShared;\nconst getStateReader = () => FilterPanelStateReader;\n\nconst FilterPanelApplier = {};\n\n// Cache et optimisations pour les performances\nlet _cachedFilterState = null;\nlet _lastApplyTime = 0;\nconst APPLY_DEBOUNCE_DELAY = 300; // 300ms\n\n// Fonction debounce pour l'application des filtres\nlet _applyFiltersTimeout = null;\nlet _lastSkipRoutes = false; // Store skipRoutes flag for debounced call\nconst _debouncedApplyFilters = function(panelEl, skipRoutes) {\n    if (_applyFiltersTimeout) {\n        clearTimeout(_applyFiltersTimeout);\n    }\n    _lastSkipRoutes = skipRoutes || false;\n    _applyFiltersTimeout = setTimeout(() => {\n        FilterPanelApplier._applyFiltersImmediate(panelEl, _lastSkipRoutes);\n    }, APPLY_DEBOUNCE_DELAY);\n};\n\n/**\n * MEMORY LEAK FIX (Phase 2): Cleanup timeout on destroy\n */\nFilterPanelApplier.destroy = function() {\n    if (_applyFiltersTimeout) {\n        clearTimeout(_applyFiltersTimeout);\n        _applyFiltersTimeout = null;\n    }\n};\n\n/**\n * Rafraîchit la visibilité des POI selon la liste filtrée.\n * IMPORTANT: Cette fonction filtre UNIQUEMENT les POI du système POI traditionnel.\n * Les couches GeoJSON (point, line, polygon) sont gérées par filterGeoJSONLayers().\n * On n'appelle PAS filterFeatures() ici pour éviter de masquer les couches GeoJSON.\n *\n * @param {Array} filteredPois - Liste des POI à afficher\n */\nFilterPanelApplier.refreshPoiLayer = function(filteredPois) {\n    const Log = getLog();\n\n    // Vérifier si le système POI est activé dans la config\n    const poiConfig = (typeof Config.get === 'function') ? Config.get('poiConfig') : null;\n    if (poiConfig && poiConfig.enabled === false) {\n        Log.debug(\"[GeoLeaf.UI.FilterPanel] Système POI désactivé, pas de rafraîchissement de la couche POI.\");\n        return;\n    }\n\n    if (!POI) {\n        Log.warn(\"[GeoLeaf.UI.FilterPanel] GeoLeaf.POI indisponible, pas de rafraîchissement de la couche POI.\");\n        return;\n    }\n\n    if (typeof POI._clearAllForTests === \"function\") {\n        POI._clearAllForTests();\n    } else {\n        Log.warn(\"[GeoLeaf.UI.FilterPanel] GeoLeaf.POI._clearAllForTests indisponible.\");\n    }\n\n    filteredPois.forEach(function(p) {\n        try {\n            POI.addPoi(p);\n        } catch (err) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Impossible d'ajouter un POI filtré:\", p, err);\n        }\n    });\n\n    Log.debug(`[GeoLeaf.UI.FilterPanel] refreshPoiLayer: ${filteredPois.length} POI visibles`);\n};\n\n/**\n * Applique les filtres aux couches GeoJSON (polygones et polylignes)\n * @param {Object} state - État des filtres\n */\nFilterPanelApplier.filterGeoJSONLayers = function(state) {\n    const Log = getLog();\n    const Shared = getShared();\n    const GeoJSON = GeoJSONCore;\n\n    if (!GeoJSON || typeof GeoJSON.filterFeatures !== 'function') {\n        return;\n    }\n\n    const hasCats = state.categoriesTree && state.categoriesTree.length > 0;\n    const hasSubs = state.subCategoriesTree && state.subCategoriesTree.length > 0;\n    const hasTags = state.hasTags && state.selectedTags && state.selectedTags.length > 0;\n    const selectedTags = state.selectedTags || [];\n    const hasProximity = state.proximity && state.proximity.active;\n    const hasSearchText = state.hasSearchText && state.searchText;\n    const searchText = state.searchText || '';\n    // getDistance imported from general-utils.js\n\n    // Helper pour obtenir les champs de recherche depuis la config de la couche\n    const getLayerSearchFields = (layerId) => {\n        try {\n            const layerData = GeoJSON.getLayerData(layerId);\n            if (layerData && layerData.config) {\n                // Priorité 1: search.indexingFields (format standard des configs de couches)\n                if (layerData.config.search && Array.isArray(layerData.config.search.indexingFields)) {\n                    return layerData.config.search.indexingFields;\n                }\n                // Priorité 2: indexingFields à la racine (legacy)\n                if (Array.isArray(layerData.config.indexingFields)) {\n                    return layerData.config.indexingFields;\n                }\n                // Priorité 3: searchFields (legacy)\n                if (Array.isArray(layerData.config.searchFields)) {\n                    return layerData.config.searchFields;\n                }\n            }\n        } catch (err) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Erreur récupération champs de recherche:\", err);\n        }\n\n        // Fallback: champs par défaut du profil\n        try {\n            const activeProfile = Config._activeProfileData;\n            if (activeProfile && activeProfile.search && activeProfile.search.filters) {\n                const searchFilter = activeProfile.search.filters.find(f => f.type === 'search');\n                if (searchFilter && Array.isArray(searchFilter.searchFields)) {\n                    return searchFilter.searchFields;\n                }\n            }\n        } catch (err) {\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Erreur récupération champs par défaut:\", err);\n        }\n\n        // Fallback ultime\n        return ['title', 'description', 'properties.title', 'properties.name', 'properties.description', 'attributes.nom'];\n    };\n\n    // Helper pour tester la recherche textuelle sur une feature\n    const matchesSearchText = (feature, layerId) => {\n        if (!hasSearchText) return true;\n\n        const searchFields = getLayerSearchFields(layerId);\n        const searchLower = searchText.toLowerCase();\n\n        for (let i = 0; i < searchFields.length; i++) {\n            let fieldPath = searchFields[i];\n            let value = null;\n\n            // Normaliser le chemin: si commence par \"properties.\", on le supprime\n            // puisque on va chercher directement dans feature.properties\n            let propertiesFieldPath = fieldPath;\n            if (fieldPath.startsWith('properties.')) {\n                propertiesFieldPath = fieldPath.substring('properties.'.length);\n            }\n\n            // Tester d'abord dans properties\n            if (feature.properties) {\n                value = Shared.getNestedValue(feature.properties, propertiesFieldPath);\n            }\n\n            // Si pas trouvé, tester à la racine avec le chemin original\n            if (!value) {\n                value = Shared.getNestedValue(feature, fieldPath);\n            }\n\n            if (value && String(value).toLowerCase().includes(searchLower)) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n\n    // Fonction de filtre commune pour polygones et lignes\n    const createFilterFunction = (geometryType) => (feature, layerId) => {\n        const props = feature.properties || {};\n\n        // Filtrage par recherche textuelle\n        if (hasSearchText && !matchesSearchText(feature, layerId)) {\n            return false;\n        }\n\n        // Filtrage par catégorie/sous-catégorie\n        if (hasCats || hasSubs) {\n            const catId = props.categoryId || props.category || null;\n            const subId = props.subcategoryId || props.subCategoryId || props.subcategory || props.sub_category || null;\n\n            // Si pas de catégorie sur cette feature, masquer quand filtre actif\n            if (!catId && !subId) return false;\n\n            // Si des sous-catégories sont sélectionnées\n            if (hasSubs) {\n                if (!subId || !state.subCategoriesTree.includes(String(subId))) {\n                    return false;\n                }\n            }\n\n            // Si seulement des catégories (pas de sous-cat)\n            if (hasCats && !hasSubs) {\n                if (!catId || !state.categoriesTree.includes(String(catId))) {\n                    return false;\n                }\n            }\n        }\n\n        // Filtrage par tags (au moins UN des tags sélectionnés doit être présent)\n        if (hasTags) {\n            let featureTags = props.tags || [];\n            if (!Array.isArray(featureTags)) {\n                if (typeof featureTags === 'string') {\n                    featureTags = featureTags.split(/[,;]+/);\n                } else {\n                    featureTags = [];\n                }\n            }\n            featureTags = featureTags.map(t => String(t).trim()).filter(Boolean);\n\n            const hasAtLeastOneTag = selectedTags.some(tag => featureTags.includes(tag));\n            if (!hasAtLeastOneTag) {\n                return false;\n            }\n        }\n\n        // Filtrage par proximité\n        if (hasProximity && state.proximity.center && getDistance) {\n            const point = Shared.getRepresentativePoint(feature.geometry);\n            if (point) {\n                const distance = getDistance(\n                    state.proximity.center.lat,\n                    state.proximity.center.lng,\n                    point.lat,\n                    point.lng\n                );\n                if (distance > state.proximity.radius) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    };\n\n    // Filtrer les polygones (zones)\n    GeoJSON.filterFeatures(createFilterFunction('polygon'), { geometryType: 'polygon' });\n\n    // Filtrer les polylignes (routes GeoJSON)\n    GeoJSON.filterFeatures(createFilterFunction('line'), { geometryType: 'line' });\n\n    // Filtrer les points (POI GeoJSON - MultiPoint, Point, etc.)\n    GeoJSON.filterFeatures(createFilterFunction('point'), { geometryType: 'point' });\n};\n\n/**\n * Applique tous les filtres actifs avec debounce\n * @param {HTMLElement} panelEl - Élément du panneau de filtres\n */\nFilterPanelApplier.applyFiltersNow = function(panelEl, skipRoutes) {\n    _debouncedApplyFilters(panelEl, skipRoutes);\n};\n\n/**\n * Applique tous les filtres actifs immédiatement (interne, avec protection contre les appels répétés)\n * @private\n * @param {HTMLElement} panelEl - Élément du panneau de filtres\n * @param {boolean} skipRoutes - Si true, skip le traitement des routes (preserve leurs styles)\n */\nFilterPanelApplier._applyFiltersImmediate = function(panelEl, skipRoutes) {\n    const Log = getLog();\n    const Shared = getShared();\n    const StateReader = getStateReader();\n\n    // Éviter les appels répétés trop rapprochés\n    const now = Date.now();\n    if (now - _lastApplyTime < 100) return; // 100ms minimum entre les appels\n    _lastApplyTime = now;\n\n    const basePois = Shared.getBasePois();\n    const baseRoutes = Shared.getBaseRoutes();\n    const state = StateReader.readFiltersFromPanel(panelEl);\n\n    // Filtrage des couches GeoJSON (polygones, polylignes)\n    FilterPanelApplier.filterGeoJSONLayers(state);\n\n    if (!basePois.length && !baseRoutes.length) {\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Aucun POI ni route source trouvé.\");\n        return;\n    }\n\n    // Gérer le filtrage et l'affichage des itinéraires via GeoLeaf.Route\n    if (Route && typeof Route.isInitialized === 'function' && Route.isInitialized()) {\n        if (state.dataTypes.routes) {\n            // Si skipRoutes=true, on affiche juste les routes existantes sans les recharger\n            if (skipRoutes) {\n                Route.show();\n            } else {\n                // Filtrer les routes\n                let filteredRoutes = baseRoutes;\n                filteredRoutes = Filters && typeof Filters.filterRouteList === 'function'\n                    ? Filters.filterRouteList(baseRoutes, state)\n                    : baseRoutes;\n\n                Log.info(\"[GeoLeaf.UI.FilterPanel] Filtres appliqués sur les routes.\", {\n                    total: baseRoutes.length,\n                    result: filteredRoutes.length\n                });\n\n                // Utiliser filterVisibility() si disponible pour préserver les styles\n                // Sinon, utiliser loadFromConfig() (comportement par défaut)\n                if (typeof Route.filterVisibility === 'function') {\n                    Route.filterVisibility(filteredRoutes);\n                } else if (typeof Route.loadFromConfig === 'function') {\n                    Route.loadFromConfig(filteredRoutes);\n                }\n                Route.show();\n            }\n        } else {\n            Route.hide();\n        }\n    }\n\n    // Filtrer les POI\n    const filtered = FilterPanelApplier.filterPoiList(basePois, state);\n\n    Log.info(\"[GeoLeaf.UI.FilterPanel] Filtres appliqués sur les POI.\", {\n        total: basePois.length,\n        result: filtered.length,\n        filters: state\n    });\n\n    FilterPanelApplier.refreshPoiLayer(filtered);\n};\n\n/**\n * Filtre une liste de POI selon les critères fournis\n * Délègue vers GeoLeaf.Filters.filterPoiList()\n *\n * @param {Array} basePois - Liste complète des POI\n * @param {Object} filterState - État des filtres\n * @returns {Array} POI filtrés\n */\nFilterPanelApplier.filterPoiList = function(basePois, filterState) {\n    if (Filters && typeof Filters.filterPoiList === 'function') {\n        return Filters.filterPoiList(basePois, filterState);\n    }\n\n    const Log = getLog();\n    Log.warn('[GeoLeaf.UI.FilterPanel] Module Filters non chargé, retour liste complète');\n    return basePois || [];\n};\n\n/**\n * Filtre une liste de routes selon les critères fournis\n * Délègue vers GeoLeaf.Filters.filterRouteList()\n *\n * @param {Array} baseRoutes - Liste complète des routes\n * @param {Object} filterState - État des filtres\n * @returns {Array} Routes filtrées\n */\nFilterPanelApplier.filterRouteList = function(baseRoutes, filterState) {\n    if (Filters && typeof Filters.filterRouteList === 'function') {\n        return Filters.filterRouteList(baseRoutes, filterState);\n    }\n\n    const Log = getLog();\n    Log.warn('[GeoLeaf.UI.FilterPanel] Module Filters non chargé, retour liste complète');\n    return baseRoutes || [];\n};\n\n/**\n * Applique les filtres initiaux au chargement\n */\nFilterPanelApplier.applyFiltersInitial = function() {\n    const Log = getLog();\n    const Shared = getShared();\n    const StateReader = getStateReader();\n\n    const panelEl = Shared.getFilterPanelElement();\n    if (!panelEl) {\n        Log.warn(\"[GeoLeaf.UI.FilterPanel] Panneau de filtres non trouvé, impossible d'appliquer les filtres initiaux.\");\n        return;\n    }\n\n    Log.info(\"[GeoLeaf.UI.FilterPanel] Application des filtres initiaux...\");\n\n    const state = StateReader.readFiltersFromPanel(panelEl);\n    const basePois = Shared.getBasePois();\n    const baseRoutes = Shared.getBaseRoutes();\n\n    if (!basePois.length && !baseRoutes.length) {\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Aucun POI ni route source trouvé.\");\n        return;\n    }\n\n    // Gérer les itinéraires\n    if (Route && typeof Route.isInitialized === 'function' && Route.isInitialized()) {\n        if (state.dataTypes.routes) {\n            let filteredRoutes = FilterPanelApplier.filterRouteList(baseRoutes, state);\n            if (typeof Route.loadFromConfig === 'function') {\n                Route.loadFromConfig(filteredRoutes);\n            }\n            Route.show();\n        } else {\n            Route.hide();\n        }\n    }\n\n    // Filtrer et charger les POI\n    const filtered = FilterPanelApplier.filterPoiList(basePois, state);\n    Log.info(\"[GeoLeaf.UI.FilterPanel] POI filtrés pour chargement initial.\", {\n        total: basePois.length,\n        result: filtered.length\n    });\n\n    FilterPanelApplier.refreshPoiLayer(filtered);\n};\n\n\nexport { FilterPanelApplier };\n","/**\n * GeoLeaf UI Filter Panel - SVG Helpers\n * Fonctions SVG pour les icônes du panneau de filtres\n *\n * @module ui/filter-panel/svg-helpers\n */\n\"use strict\";\n\nimport { DOMSecurity } from '../../utils/dom-security.js';\n\n/**\n * Met à jour une icône de toggle pour l'état \"panneau ouvert\" (flèche gauche)\n * @param {HTMLElement} icon - L'élément icône à mettre à jour\n */\nexport function setToggleIconOpen(icon) {\n    // SAFE: SVG statique hardcodé\n    DOMSecurity.clearElementFast(icon);\n    const svg = DOMSecurity.createSVGIcon(16, 16, 'M15 18l-6-6 6-6', {\n        stroke: 'currentColor',\n        strokeWidth: '6',\n        fill: 'none'\n    });\n    icon.appendChild(svg);\n}\n\n/**\n * Met à jour une icône de toggle pour l'état \"panneau fermé\" (flèche droite)\n * @param {HTMLElement} icon - L'élément icône à mettre à jour\n */\nexport function setToggleIconClosed(icon) {\n    // SAFE: SVG statique hardcodé\n    DOMSecurity.clearElementFast(icon);\n    const svg = DOMSecurity.createSVGIcon(16, 16, 'M9 6l6 6-6 6', {\n        stroke: 'currentColor',\n        strokeWidth: '6',\n        fill: 'none'\n    });\n    icon.appendChild(svg);\n}\n","/**\n * GeoLeaf UI Filter Panel - Lazy Loader\n * Chargement à la demande des filtres catégories et tags\n *\n * @module ui/filter-panel/lazy-loader\n */\n\"use strict\";\n\nimport { Log } from \"../../log/index.js\";\nimport { buildCategoryTreeContent, buildTagsListContent } from \"../filter-control-builder.js\";\nimport { ThemeSelector } from \"../../themes/theme-selector.js\";\nimport { GeoJSONCore } from \"../../geojson/core.js\";\n\nconst FilterPanelLazyLoader = {\n    _cache: {},\n    _openAccordions: new Set(),\n\n    /**\n     * Charge les catégories pour le thème actif\n     * @param {string} themeId - ID du thème\n     * @returns {Array} - Array de catégories avec leurs sous-catégories\n     */\n    loadCategories(themeId) {\n        const cacheKey = `categories_${themeId}`;\n\n        if (this._cache[cacheKey]) {\n            Log.debug(\"[LazyLoader] Cache HIT pour catégories:\", themeId);\n            return this._cache[cacheKey];\n        }\n\n        Log.debug(\"[LazyLoader] Cache MISS pour catégories, scan en cours...\");\n        const result = this._scanCategories(themeId);\n        this._cache[cacheKey] = result;\n        return result;\n    },\n\n    /**\n     * Charge les tags pour le thème actif\n     * @param {string} themeId - ID du thème\n     * @returns {Array} - Array de tags uniques\n     */\n    loadTags(themeId) {\n        const cacheKey = `tags_${themeId}`;\n\n        if (this._cache[cacheKey]) {\n            Log.debug(\"[LazyLoader] Cache HIT pour tags:\", themeId);\n            return this._cache[cacheKey];\n        }\n\n        Log.debug(\"[LazyLoader] Cache MISS pour tags, scan en cours...\");\n        const result = this._scanTags(themeId);\n        this._cache[cacheKey] = result;\n        return result;\n    },\n\n    /**\n     * Scanne les features pour extraire les catégories utilisées\n     * @private\n     * @param {string} themeId - ID du thème\n     * @returns {Object} - {categories: Map, usedIds: Set}\n     */\n    _scanCategories(themeId) {\n        const startTime = performance.now();\n\n        // Récupérer les couches visibles du thème\n        const visibleLayerIds = this._getVisibleLayerIds(themeId);\n\n        // Récupérer toutes les features\n        let allFeatures = [];\n        try {\n            if (GeoJSONCore && typeof GeoJSONCore.getFeatures === \"function\") {\n                allFeatures = GeoJSONCore.getFeatures() || [];\n            }\n        } catch (err) {\n            Log.warn(\"[LazyLoader] Erreur récupération features:\", err);\n            return { categories: new Map(), usedIds: new Set() };\n        }\n\n        // Filtrer par couches visibles\n        const visibleFeatures = allFeatures.filter((feature) => {\n            const layerId =\n                feature.properties?._layerId || feature.properties?.layerId || feature._layerId;\n            return visibleLayerIds.includes(layerId);\n        });\n\n        Log.debug(\n            `[LazyLoader] Scan catégories: ${visibleFeatures.length} features sur ${visibleLayerIds.length} couches actives`\n        );\n\n        // Extraire les catégories uniques (normalisation lowercase + variantes camelCase)\n        const usedCategoryIds = new Set();\n        visibleFeatures.forEach((feature) => {\n            const props = feature.properties || {};\n            if (props.categoryId) {\n                usedCategoryIds.add(props.categoryId);\n            }\n            if (props.subcategoryId) {\n                usedCategoryIds.add(props.subcategoryId);\n            }\n            // Variante camelCase (subCategoryId) présente dans certains GeoJSON\n            if (props.subCategoryId) {\n                usedCategoryIds.add(props.subCategoryId);\n            }\n        });\n\n        const elapsed = (performance.now() - startTime).toFixed(2);\n        Log.info(\n            `[LazyLoader] Scan catégories terminé en ${elapsed}ms: ${usedCategoryIds.size} catégories trouvées`\n        );\n\n        return {\n            usedIds: usedCategoryIds,\n            visibleLayerIds: visibleLayerIds,\n        };\n    },\n\n    /**\n     * Scanne les features pour extraire les tags utilisés\n     * @private\n     * @param {string} themeId - ID du thème\n     * @returns {Array} - Array de tags triés\n     */\n    _scanTags(themeId) {\n        const startTime = performance.now();\n\n        // Récupérer les couches visibles du thème\n        const visibleLayerIds = this._getVisibleLayerIds(themeId);\n\n        // Récupérer toutes les features\n        let allFeatures = [];\n        try {\n            if (GeoJSONCore && typeof GeoJSONCore.getFeatures === \"function\") {\n                allFeatures = GeoJSONCore.getFeatures() || [];\n            }\n        } catch (err) {\n            Log.warn(\"[LazyLoader] Erreur récupération features:\", err);\n            return [];\n        }\n\n        // Filtrer par couches visibles\n        const visibleFeatures = allFeatures.filter((feature) => {\n            const layerId =\n                feature.properties?._layerId || feature.properties?.layerId || feature._layerId;\n            return visibleLayerIds.includes(layerId);\n        });\n\n        // Extraire les tags uniques\n        const tagSet = new Set();\n        visibleFeatures.forEach((feature) => {\n            const props = feature.properties || {};\n            const attrs = props.attributes || {};\n            const tags = attrs.tags || props.tags;\n\n            if (Array.isArray(tags)) {\n                tags.forEach((tag) => {\n                    if (tag && typeof tag === \"string\") {\n                        tagSet.add(tag);\n                    }\n                });\n            }\n        });\n\n        const tagsArray = Array.from(tagSet).sort();\n        const elapsed = (performance.now() - startTime).toFixed(2);\n\n        Log.info(`[LazyLoader] Scan tags terminé en ${elapsed}ms:`, {\n            totalFeatures: allFeatures.length,\n            visibleFeatures: visibleFeatures.length,\n            tagsFound: tagsArray.length,\n        });\n\n        return tagsArray;\n    },\n\n    /**\n     * Récupère les IDs des couches réellement visibles sur la carte\n     * @private\n     * @param {string} _themeId - ID du thème (non utilisé, mais conservé pour compatibilité)\n     * @returns {Array} - Array d'IDs de couches avec visible: true\n     */\n    _getVisibleLayerIds(_themeId) {\n        let visibleLayerIds = [];\n\n        try {\n            if (GeoJSONCore && typeof GeoJSONCore.getAllLayers === \"function\") {\n                const allLayers = GeoJSONCore.getAllLayers();\n                // Filtrer uniquement celles qui sont visibles (ON dans layer manager)\n                visibleLayerIds = allLayers\n                    .filter((layer) => layer.visible === true)\n                    .map((layer) => layer.id);\n\n                Log.debug(\n                    `[LazyLoader] ${visibleLayerIds.length} couches visibles trouvées:`,\n                    visibleLayerIds\n                );\n            }\n        } catch (err) {\n            Log.warn(\"[LazyLoader] Erreur récupération couches visibles:\", err);\n        }\n\n        return visibleLayerIds;\n    },\n\n    /**\n     * Marque un accordéon comme ouvert\n     * @param {string} type - 'categories' ou 'tags'\n     * @param {HTMLElement} element - Element de l'accordéon\n     */\n    markAccordionOpen(type, element) {\n        this._openAccordions.add({ type, element });\n        Log.debug(`[LazyLoader] Accordéon \"${type}\" marqué comme ouvert`);\n    },\n\n    /**\n     * Marque un accordéon comme fermé\n     * @param {HTMLElement} element - Element de l'accordéon\n     */\n    markAccordionClosed(element) {\n        this._openAccordions.forEach((item) => {\n            if (item.element === element) {\n                this._openAccordions.delete(item);\n                Log.debug(`[LazyLoader] Accordéon \"${item.type}\" marqué comme fermé`);\n            }\n        });\n    },\n\n    /**\n     * Invalide le cache pour un thème spécifique\n     * @param {string} themeId - ID du thème\n     */\n    invalidateCacheForTheme(themeId) {\n        delete this._cache[`categories_${themeId}`];\n        delete this._cache[`tags_${themeId}`];\n        Log.info(`[LazyLoader] Cache invalidé pour thème: ${themeId}`);\n    },\n\n    /**\n     * Invalide tout le cache (changement de thème)\n     */\n    clearCache() {\n        this._cache = {};\n        Log.info(\"[LazyLoader] Cache complètement vidé\");\n    },\n\n    /**\n     * Rafraîchit les accordéons ouverts\n     * Utilisé après un changement de thème ou toggle de couche\n     */\n    refreshOpenAccordions() {\n        if (this._openAccordions.size === 0) {\n            Log.debug(\"[LazyLoader] Aucun accordéon ouvert à rafraîchir\");\n            return;\n        }\n\n        Log.info(\n            `[LazyLoader] Rafraîchissement de ${this._openAccordions.size} accordéon(s) ouvert(s)`\n        );\n        const currentTheme = ThemeSelector.getCurrentTheme();\n\n        if (!currentTheme) {\n            Log.warn(\"[LazyLoader] Impossible de récupérer le thème actif\");\n            return;\n        }\n\n        this._openAccordions.forEach(({ type, element }) => {\n            // Sauvegarder l'état des checkboxes / tags sélectionnés\n            const savedStates = this._saveCheckboxStates(element);\n\n            // Cibler la zone [data-lazy-type] qui reçoit le innerHTML\n            const contentArea = element.querySelector(\"[data-lazy-type]\");\n\n            if (!contentArea) {\n                Log.warn(\"[LazyLoader] Zone [data-lazy-type] introuvable dans l'accordéon\");\n                return;\n            }\n\n            // Réinitialiser le flag lazyLoaded pour permettre un futur rechargement\n            element.dataset.lazyLoaded = \"false\";\n\n            // Appeler la fonction de render appropriée\n            if (type === \"categories\") {\n                this._rerenderCategories(contentArea, currentTheme, savedStates);\n            } else if (type === \"tags\") {\n                this._rerenderTags(contentArea, currentTheme, savedStates);\n            }\n\n            // Re-marquer comme chargé après le re-render\n            element.dataset.lazyLoaded = \"true\";\n        });\n    },\n\n    /**\n     * Re-render les catégories dans un accordéon\n     * @private\n     */\n    _rerenderCategories(contentArea, themeId, savedStates) {\n        const result = this.loadCategories(themeId);\n\n        // Construction du contenu via import ESM direct (P3-DEAD-02)\n        const content = buildCategoryTreeContent(result);\n        // Les valeurs utilisateur sont échappées à la source par buildCategoryTreeContent.\n        // On utilise createContextualFragment (suppression scripts uniquement) pour préserver\n        // tous les attributs sûrs (class, data-*, type, value, name, checked) — la whitelist\n        // de sanitizeHTML supprimait <input> et <label>, cassant les checkboxes.\n        contentArea.textContent = \"\";\n        const catFrag = document\n            .createRange()\n            .createContextualFragment(content.replace(/<script[\\s\\S]*?<\\/script>/gi, \"\"));\n        contentArea.appendChild(catFrag);\n\n        // NE PAS réattacher attachCategoryTreeListeners ici :\n        // le listener sur contentArea (ajouté par _loadAccordionContentIfNeeded)\n        // survit au remplacement des enfants. Réattacher causerait des duplicatas\n        // qui annuleraient les toggles de checkbox (toggle pair = zéro net).\n\n        // Restaurer les états des checkboxes\n        this._restoreCheckboxStates(contentArea, savedStates);\n    },\n\n    /**\n     * Re-render les tags dans un accordéon\n     * @private\n     */\n    _rerenderTags(contentArea, themeId, savedStates) {\n        const tags = this.loadTags(themeId);\n\n        // Construction du contenu via import ESM direct (P3-DEAD-02)\n        const content = buildTagsListContent(tags);\n        // Les valeurs utilisateur sont échappées à la source par buildTagsListContent.\n        // On utilise createContextualFragment (suppression scripts uniquement) pour préserver\n        // class et data-tag-value sur les <span> badges — la whitelist supprimait ces attributs,\n        // rendant les tags non sélectionnables.\n        contentArea.textContent = \"\";\n        const tagFrag = document\n            .createRange()\n            .createContextualFragment(content.replace(/<script[\\s\\S]*?<\\/script>/gi, \"\"));\n        contentArea.appendChild(tagFrag);\n\n        // NE PAS réattacher attachTagsListeners ici :\n        // le listener sur contentArea (ajouté par _loadAccordionContentIfNeeded)\n        // survit au remplacement des enfants. Réattacher causerait des duplicatas\n        // qui annuleraient les toggles (toggle pair = zéro net, badge\n        // semblant inactif même après clic).\n\n        // Restaurer les états des checkboxes\n        this._restoreCheckboxStates(contentArea, savedStates);\n    },\n\n    /**\n     * Sauvegarde l'état des checkboxes avant re-render\n     * @private\n     */\n    _saveCheckboxStates(element) {\n        const states = {};\n        const checkboxes = element.querySelectorAll('input[type=\"checkbox\"]');\n\n        checkboxes.forEach((cb) => {\n            const categoryId = cb.dataset.glFilterCategoryId;\n            const subcategoryId = cb.dataset.glFilterSubcategoryId;\n            const value = cb.value;\n\n            let key;\n            if (subcategoryId) {\n                key = `${categoryId}:${subcategoryId}`;\n            } else if (categoryId) {\n                key = categoryId;\n            } else if (value) {\n                key = value;\n            }\n\n            if (key) {\n                states[key] = cb.checked;\n            }\n        });\n\n        return states;\n    },\n\n    /**\n     * Restaure l'état des checkboxes après re-render\n     * @private\n     */\n    _restoreCheckboxStates(element, savedStates) {\n        if (!savedStates || Object.keys(savedStates).length === 0) return;\n\n        const checkboxes = element.querySelectorAll('input[type=\"checkbox\"]');\n        let restoredCount = 0;\n\n        checkboxes.forEach((cb) => {\n            const categoryId = cb.dataset.glFilterCategoryId;\n            const subcategoryId = cb.dataset.glFilterSubcategoryId;\n            const value = cb.value;\n\n            let key;\n            if (subcategoryId) {\n                key = `${categoryId}:${subcategoryId}`;\n            } else if (categoryId) {\n                key = categoryId;\n            } else if (value) {\n                key = value;\n            }\n\n            if (key && savedStates[key] !== undefined) {\n                cb.checked = savedStates[key];\n                restoredCount++;\n            }\n        });\n\n        Log.debug(`[LazyLoader] ${restoredCount} états de checkbox restaurés`);\n    },\n};\n\n// Écouter les événements de changement de thème\ndocument.addEventListener(\"geoleaf:theme:applied\", () => {\n    Log.info(\"[LazyLoader] Événement theme:applied détecté — invalidation complète\");\n\n    // 1. Vider le cache de données (scan catégories/tags)\n    FilterPanelLazyLoader.clearCache();\n\n    // 2. Réinitialiser TOUS les flags data-lazy-loaded sur les accordéons\n    //    (fermés ou ouverts) pour forcer un rechargement au prochain expand\n    const allAccordions = document.querySelectorAll(\n        \".gl-filter-panel__group--accordion[data-lazy-loaded]\"\n    );\n    allAccordions.forEach((acc) => {\n        acc.dataset.lazyLoaded = \"false\";\n    });\n    Log.debug(`[LazyLoader] ${allAccordions.length} flag(s) data-lazy-loaded réinitialisé(s)`);\n\n    // 3. Rafraîchir les accordéons actuellement ouverts (re-render immédiat)\n    FilterPanelLazyLoader.refreshOpenAccordions();\n});\n\n// Écouter l'événement de changement de visibilité de couche\ndocument.addEventListener(\"geoleaf:geojson:visibility-changed\", (e) => {\n    const detail = e.detail || {};\n    Log.info(\"[LazyLoader] Visibilité couche changée:\", detail.layerId, detail.visible);\n\n    // Invalider le cache du thème actif\n    const currentTheme = ThemeSelector.getCurrentTheme();\n    if (currentTheme) {\n        FilterPanelLazyLoader.invalidateCacheForTheme(currentTheme);\n        // Rafraîchir les accordéons ouverts\n        FilterPanelLazyLoader.refreshOpenAccordions();\n    }\n});\n\nexport { FilterPanelLazyLoader };\n","/**\r\n * GeoLeaf UI Filter Panel - Renderer\r\n * Construction du panneau HTML de filtres\r\n *\r\n * @module ui/filter-panel/renderer\r\n */\r\n\"use strict\";\r\n\r\nimport { $create } from \"../../utils/dom-helpers.js\";\r\nimport { getLog, getActiveProfile } from \"../../utils/general-utils.js\";\r\nimport { setToggleIconOpen, setToggleIconClosed } from \"./svg-helpers.js\";\r\nimport {\r\n    buildCategoryTreeContent,\r\n    buildTagsListContent,\r\n    attachCategoryTreeListeners,\r\n    attachTagsListeners,\r\n    _buildFilterControl,\r\n} from \"../filter-control-builder.js\";\r\nimport { FilterPanelShared } from \"./shared.js\";\r\nimport { FilterPanelStateReader } from \"./state-reader.js\";\r\nimport { FilterPanelApplier } from \"./applier.js\";\r\nimport { FilterPanelLazyLoader } from \"./lazy-loader.js\";\r\nimport { events } from \"../../utils/event-listener-manager.js\";\r\nimport { ThemeSelector } from \"../../themes/theme-selector.js\";\r\nimport { Config } from \"../../config/geoleaf-config/config-core.js\";\r\n\r\n// Direct ESM bindings (P3-DEAD-01 complete)\r\nconst getShared = () => FilterPanelShared;\r\nconst getStateReader = () => FilterPanelStateReader;\r\nconst getApplier = () => FilterPanelApplier;\r\n\r\nconst FilterPanelRenderer = {};\r\nFilterPanelRenderer._eventCleanups = [];\r\n\r\n/**\r\n * Construit le panneau de filtres depuis la configuration du profil actif\r\n * @param {Object} options - Options\r\n * @param {HTMLElement} [options.container] - Conteneur cible\r\n */\r\nFilterPanelRenderer.buildFilterPanelFromActiveProfile = function (options) {\r\n    const Log = getLog();\r\n    const Shared = getShared();\r\n    const StateReader = getStateReader();\r\n    const Applier = getApplier();\r\n\r\n    if (Log) Log.debug(\"[FilterPanel] buildFilterPanelFromActiveProfile APPELÉ, options:\", options);\r\n\r\n    const profile = getActiveProfile();\r\n    if (Log) Log.debug(\"[FilterPanel] Profile récupéré:\", profile);\r\n\r\n    if (!profile) {\r\n        Log.warn(\"[GeoLeaf.UI.FilterPanel] Aucun profil actif trouvé\");\r\n        return;\r\n    }\r\n\r\n    Log.info(\"[GeoLeaf.UI.FilterPanel] Profil actif:\", profile.id || \"unknown\");\r\n\r\n    // Support both profile.panels.search (old) and profile.search (new)\r\n    const searchPanel = (profile.panels && profile.panels.search) || profile.search;\r\n    if (Log) Log.debug(\"[FilterPanel] searchPanel:\", searchPanel);\r\n\r\n    if (!searchPanel) {\r\n        Log.warn(\r\n            \"[GeoLeaf.UI.FilterPanel] Aucune configuration search/panels.search dans le profil\"\r\n        );\r\n        return;\r\n    }\r\n\r\n    const filters = searchPanel && Array.isArray(searchPanel.filters) ? searchPanel.filters : null;\r\n    if (Log) Log.debug(\"[FilterPanel] Filters:\", filters);\r\n\r\n    if (!filters || !filters.length) {\r\n        Log.warn(\r\n            \"[GeoLeaf.UI.FilterPanel] Aucun filtre défini dans profile.search.filters pour le profil actif. Filters:\",\r\n            filters\r\n        );\r\n        return;\r\n    }\r\n\r\n    Log.info(\"[GeoLeaf.UI.FilterPanel] Nombre de filtres trouvés:\", filters.length);\r\n\r\n    const container = (options && options.container) || Shared.getFilterPanelElement();\r\n    if (!container) {\r\n        Log.warn(\"[GeoLeaf.UI.FilterPanel] Conteneur de panneau introuvable\");\r\n        return;\r\n    }\r\n\r\n    // ---------------------------------------------------------\r\n    // Vider le conteneur existant\r\n    // ---------------------------------------------------------\r\n    while (container.firstChild) {\r\n        container.removeChild(container.firstChild);\r\n    }\r\n\r\n    container.classList.add(\"gl-filter-panel\");\r\n\r\n    // ---------------------------------------------------------\r\n    // Header\r\n    // ---------------------------------------------------------\r\n    const header = $create(\"div\", {\r\n        className: \"gl-filter-panel__header\",\r\n    });\r\n\r\n    const title = $create(\"h2\", {\r\n        className: \"gl-filter-panel__title\",\r\n        textContent: searchPanel.title || \"Filtres\",\r\n    });\r\n    header.appendChild(title);\r\n\r\n    // Bouton toggle avec flèche (comme le tableau)\r\n    const toggleBtn = $create(\"button\", {\r\n        type: \"button\",\r\n        className: \"gl-filter-panel__toggle-btn\",\r\n        attributes: {\r\n            \"data-gl-action\": \"filter-close\",\r\n            \"aria-label\": \"Fermer le panneau\",\r\n        },\r\n    });\r\n    const toggleIcon = $create(\"span\", {\r\n        className: \"gl-filter-panel__toggle-icon\",\r\n        textContent: \"◀\",\r\n    });\r\n    toggleBtn.appendChild(toggleIcon);\r\n    header.appendChild(toggleBtn);\r\n\r\n    container.appendChild(header);\r\n\r\n    // ---------------------------------------------------------\r\n    // Body : champs de filtre\r\n    // ---------------------------------------------------------\r\n    const body = $create(\"div\", {\r\n        className: \"gl-filter-panel__body\",\r\n    });\r\n\r\n    // Sprint 3.2: Use DocumentFragment for batch DOM operations\r\n    const bodyFragment = document.createDocumentFragment();\r\n\r\n    filters.forEach(function (filterDef) {\r\n        // Passer skipLabel=true pour les filtres avec accordéon (categories et tags) et proximity (qui gère son propre label)\r\n        const skipLabel =\r\n            filterDef.id === \"categories\" ||\r\n            filterDef.id === \"tags\" ||\r\n            filterDef.type === \"proximity\";\r\n        const groupEl = _buildFilterControl(filterDef, profile, skipLabel);\r\n\r\n        if (groupEl) {\r\n            // Wrapper avec accordéon pour categories et tags\r\n            if (filterDef.id === \"categories\" || filterDef.id === \"tags\") {\r\n                const accordionGroup = $create(\"div\", {\r\n                    className: \"gl-filter-panel__group--accordion\",\r\n                    attributes: { \"data-accordion-for\": filterDef.id },\r\n                });\r\n\r\n                const accordionHeader = $create(\"div\", {\r\n                    className: \"gl-filter-panel__accordion-header\",\r\n                });\r\n\r\n                const accordionTitle = $create(\"h3\", {\r\n                    className: \"gl-filter-panel__accordion-title\",\r\n                    textContent:\r\n                        filterDef.label ||\r\n                        (filterDef.id === \"categories\"\r\n                            ? \"Afficher les catégories\"\r\n                            : \"Afficher les tags\"),\r\n                });\r\n\r\n                const accordionArrow = $create(\"span\", {\r\n                    className: \"gl-filter-panel__accordion-arrow\",\r\n                    textContent: \"▶\",\r\n                });\r\n\r\n                accordionHeader.appendChild(accordionTitle);\r\n                accordionHeader.appendChild(accordionArrow);\r\n\r\n                const accordionBody = $create(\"div\", {\r\n                    className: \"gl-filter-panel__accordion-body\",\r\n                });\r\n\r\n                // Wrapper nécessaire pour la technique CSS Grid\r\n                const accordionWrapper = $create(\"div\");\r\n                accordionWrapper.appendChild(groupEl);\r\n                accordionBody.appendChild(accordionWrapper);\r\n\r\n                const accordionClickHandler = function () {\r\n                    requestAnimationFrame(function () {\r\n                        accordionGroup.classList.toggle(\"is-expanded\");\r\n\r\n                        const isExpanded = accordionGroup.classList.contains(\"is-expanded\");\r\n\r\n                        // LAZY LOADING: Charger le contenu à la demande si nécessaire\r\n                        if (isExpanded) {\r\n                            FilterPanelRenderer._loadAccordionContentIfNeeded(\r\n                                accordionGroup,\r\n                                filterDef\r\n                            );\r\n                        } else {\r\n                            // Marquer comme fermé\r\n                            const LazyLoader = FilterPanelLazyLoader;\r\n                            if (LazyLoader) {\r\n                                LazyLoader.markAccordionClosed(accordionGroup);\r\n                            }\r\n                        }\r\n                    });\r\n                };\r\n\r\n                if (events) {\r\n                    FilterPanelRenderer._eventCleanups.push(\r\n                        events.on(\r\n                            accordionHeader,\r\n                            \"click\",\r\n                            accordionClickHandler,\r\n                            false,\r\n                            \"FilterPanel.accordionToggle\"\r\n                        )\r\n                    );\r\n                } else {\r\n                    accordionHeader.addEventListener(\"click\", accordionClickHandler);\r\n                }\r\n\r\n                accordionGroup.appendChild(accordionHeader);\r\n                accordionGroup.appendChild(accordionBody);\r\n                bodyFragment.appendChild(accordionGroup);\r\n            } else {\r\n                bodyFragment.appendChild(groupEl);\r\n            }\r\n        }\r\n    });\r\n\r\n    body.appendChild(bodyFragment);\r\n\r\n    container.appendChild(body);\r\n\r\n    // ---------------------------------------------------------\r\n    // Footer : boutons Appliquer / Réinitialiser\r\n    // ---------------------------------------------------------\r\n    const footer = $create(\"div\", {\r\n        className: \"gl-filter-panel__footer\",\r\n    });\r\n\r\n    const applyBtn = $create(\"button\", {\r\n        type: \"button\",\r\n        className: \"gl-btn gl-btn--accent gl-filter-panel__btn-apply\",\r\n        textContent: (searchPanel.actions && searchPanel.actions.applyLabel) || \"Appliquer\",\r\n    });\r\n    footer.appendChild(applyBtn);\r\n\r\n    const resetBtn = $create(\"button\", {\r\n        type: \"button\",\r\n        className: \"gl-btn gl-btn--subtle gl-filter-panel__btn-reset\",\r\n        textContent: (searchPanel.actions && searchPanel.actions.resetLabel) || \"Réinitialiser\",\r\n    });\r\n    footer.appendChild(resetBtn);\r\n\r\n    container.appendChild(footer);\r\n\r\n    // ---------------------------------------------------------\r\n    // Wiring évènements (fermer / reset / appliquer)\r\n    // ---------------------------------------------------------\r\n    if (!container._glFilterHandlersBound) {\r\n        // Déclarer events une seule fois pour tout le bloc\r\n\r\n        const containerClickHandler = function (evt) {\r\n            const target = evt.target;\r\n\r\n            // Fermer le panneau (utilise closest pour gérer les clics sur les enfants du bouton)\r\n            if (target.closest(\"[data-gl-action='filter-close']\")) {\r\n                evt.preventDefault();\r\n                FilterPanelRenderer.toggleFilterPanelVisibility(false);\r\n                return;\r\n            }\r\n\r\n            // Réinitialiser les filtres + réafficher tous les POI\r\n            if (target.classList.contains(\"gl-filter-panel__btn-reset\")) {\r\n                evt.preventDefault();\r\n                StateReader.resetControls(container);\r\n                Applier.applyFiltersNow(container, true); // skipRoutes=true to preserve route styling\r\n                return;\r\n            }\r\n\r\n            // Appliquer les filtres\r\n            if (target.classList.contains(\"gl-filter-panel__btn-apply\")) {\r\n                evt.preventDefault();\r\n                Applier.applyFiltersNow(container);\r\n                return;\r\n            }\r\n        };\r\n\r\n        if (events) {\r\n            FilterPanelRenderer._eventCleanups.push(\r\n                events.on(\r\n                    container,\r\n                    \"click\",\r\n                    containerClickHandler,\r\n                    false,\r\n                    \"FilterPanel.containerClick\"\r\n                )\r\n            );\r\n        } else {\r\n            container.addEventListener(\"click\", containerClickHandler);\r\n        }\r\n\r\n        // Gestionnaire pour la touche Entrée dans l'input de recherche textuelle\r\n        const containerKeydownHandler = function (evt) {\r\n            if (evt.key === \"Enter\" || evt.keyCode === 13) {\r\n                const target = evt.target;\r\n                const searchInput = target.closest(\r\n                    \"[data-gl-filter-id='searchText'] input[type='text']\"\r\n                );\r\n                if (searchInput) {\r\n                    evt.preventDefault();\r\n                    Applier.applyFiltersNow(container);\r\n                    return;\r\n                }\r\n            }\r\n        };\r\n\r\n        if (events) {\r\n            FilterPanelRenderer._eventCleanups.push(\r\n                events.on(\r\n                    container,\r\n                    \"keydown\",\r\n                    containerKeydownHandler,\r\n                    false,\r\n                    \"FilterPanel.enterKey\"\r\n                )\r\n            );\r\n        } else {\r\n            container.addEventListener(\"keydown\", containerKeydownHandler);\r\n        }\r\n\r\n        container._glFilterHandlersBound = true;\r\n    }\r\n\r\n    // Le panneau doit être masqué par défaut au démarrage\r\n    // Il ne s'affichera que lorsque l'utilisateur cliquera sur le bouton toggle\r\n    container.classList.remove(\"is-open\");\r\n};\r\n\r\n/**\r\n * Bascule la visibilité du panneau de filtres.\r\n * @param {boolean} [forceState] - Force l'état (true = ouvert, false = fermé)\r\n */\r\nFilterPanelRenderer.toggleFilterPanelVisibility = function (forceState) {\r\n    const Shared = getShared();\r\n    const container = Shared.getFilterPanelElement();\r\n    if (!container) return;\r\n\r\n    const isOpen = container.classList.contains(\"is-open\");\r\n    let nextState;\r\n\r\n    if (typeof forceState === \"boolean\") {\r\n        nextState = forceState;\r\n    } else {\r\n        nextState = !isOpen;\r\n    }\r\n\r\n    if (nextState) {\r\n        container.classList.add(\"is-open\");\r\n    } else {\r\n        container.classList.remove(\"is-open\");\r\n    }\r\n\r\n    // Mettre à jour l'icône du bouton toggle externe\r\n    const toggleBtn = document.getElementById(\"gl-filter-toggle\");\r\n    if (toggleBtn) {\r\n        const icon = toggleBtn.querySelector(\".gl-filter-toggle__icon\");\r\n        if (icon) {\r\n            if (nextState) {\r\n                // Panneau ouvert : flèche vers la gauche (pour fermer)\r\n                setToggleIconOpen(icon);\r\n                toggleBtn.setAttribute(\"aria-label\", \"Fermer le panneau de filtres\");\r\n            } else {\r\n                // Panneau fermé : flèche vers la droite (pour ouvrir)\r\n                setToggleIconClosed(icon);\r\n                toggleBtn.setAttribute(\"aria-label\", \"Ouvrir le panneau de filtres\");\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Initialise le bouton toggle du panneau de filtres\r\n */\r\nFilterPanelRenderer.initFilterToggle = function () {\r\n    const Log = getLog();\r\n    const Shared = getShared();\r\n\r\n    const toggleBtn = document.getElementById(\"gl-filter-toggle\");\r\n    const panel = Shared.getFilterPanelElement();\r\n\r\n    if (!toggleBtn || !panel) {\r\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Bouton toggle ou panneau filtres introuvable\");\r\n        return;\r\n    }\r\n\r\n    const toggleClickHandler = function () {\r\n        const isOpen = panel.classList.contains(\"is-open\");\r\n        const icon = toggleBtn.querySelector(\".gl-filter-toggle__icon\");\r\n\r\n        if (isOpen) {\r\n            panel.classList.remove(\"is-open\");\r\n            if (icon) {\r\n                setToggleIconClosed(icon);\r\n            }\r\n            toggleBtn.setAttribute(\"aria-label\", \"Ouvrir le panneau de filtres\");\r\n        } else {\r\n            panel.classList.add(\"is-open\");\r\n            if (icon) {\r\n                setToggleIconOpen(icon);\r\n            }\r\n            toggleBtn.setAttribute(\"aria-label\", \"Fermer le panneau de filtres\");\r\n        }\r\n    };\r\n\r\n    if (events) {\r\n        FilterPanelRenderer._eventCleanups.push(\r\n            events.on(toggleBtn, \"click\", toggleClickHandler, false, \"FilterPanel.toggleButton\")\r\n        );\r\n    } else {\r\n        toggleBtn.addEventListener(\"click\", toggleClickHandler);\r\n    }\r\n\r\n    Log.info(\"[GeoLeaf.UI.FilterPanel] Bouton toggle filtres initialisé\");\r\n};\r\n\r\n/**\r\n * Rafraîchit les badges de tags dans le panneau de filtres.\r\n * Doit être appelé APRÈS que les POI ont été chargés.\r\n */\r\nFilterPanelRenderer.refreshFilterTags = function () {\r\n    const Log = getLog();\r\n    const Shared = getShared();\r\n\r\n    const container = Shared.getFilterPanelElement();\r\n    if (!container) {\r\n        Log.warn(\"[GeoLeaf.UI.FilterPanel.refreshFilterTags] Panneau de filtres non trouvé\");\r\n        return;\r\n    }\r\n\r\n    // Récupérer POI et routes\r\n    const basePois = Shared.getBasePois();\r\n    const baseRoutes = Shared.getBaseRoutes();\r\n    const allItems = basePois.concat(baseRoutes);\r\n\r\n    Log.debug(\r\n        \"[GeoLeaf.UI.FilterPanel.refreshFilterTags] Items:\",\r\n        basePois.length,\r\n        \"POI,\",\r\n        baseRoutes.length,\r\n        \"routes\"\r\n    );\r\n\r\n    // Collecter tous les tags\r\n    const allTags = Shared.collectAllTags(allItems);\r\n\r\n    // Peupler les badges\r\n    FilterPanelRenderer.populateTagsBadges(container, allTags);\r\n};\r\n\r\n/**\r\n * Peuple le conteneur de badges avec les tags fournis\r\n * @param {HTMLElement} panelEl - Élément du panneau de filtres\r\n * @param {Array} allTags - Liste des tags uniques\r\n */\r\nFilterPanelRenderer.populateTagsBadges = function (panelEl, allTags) {\r\n    const Log = getLog();\r\n    const wrapper = panelEl.querySelector(\"[data-gl-filter-id='tags']\");\r\n    if (!wrapper) {\r\n        Log.debug(\r\n            \"[GeoLeaf.UI.FilterPanel] Wrapper tags non trouvé - probablement pas utilisé dans ce profil\"\r\n        );\r\n        return;\r\n    }\r\n\r\n    const tagsContainer = wrapper.querySelector(\".gl-filter-panel__tags-container\");\r\n    if (!tagsContainer) {\r\n        Log.warn(\"[GeoLeaf.UI.FilterPanel] Container tags non trouvé\");\r\n        return;\r\n    }\r\n\r\n    // Trouver l'accordéon parent par l'attribut data-accordion-for\r\n    const accordionGroup = panelEl.querySelector(\"[data-accordion-for='tags']\");\r\n    Log.debug(\"[GeoLeaf.UI.FilterPanel] Recherche accordéon avec [data-accordion-for='tags']\");\r\n    Log.debug(\"[GeoLeaf.UI.FilterPanel] Accordéon trouvé:\", accordionGroup);\r\n\r\n    // Vider le container\r\n    while (tagsContainer.firstChild) {\r\n        tagsContainer.removeChild(tagsContainer.firstChild);\r\n    }\r\n\r\n    // Si pas de tags, cacher complètement l'accordéon parent\r\n    if (!allTags.length) {\r\n        Log.debug(\"[GeoLeaf.UI.FilterPanel] Pas de tags (count:\", allTags.length, \")\");\r\n        if (accordionGroup) {\r\n            accordionGroup.style.display = \"none\";\r\n            Log.info(\"[GeoLeaf.UI.FilterPanel] Accordéon tags CACHÉ (display: none)\");\r\n        } else {\r\n            Log.warn(\"[GeoLeaf.UI.FilterPanel] Accordéon tags non trouvé pour le cacher\");\r\n        }\r\n        return;\r\n    }\r\n\r\n    // S'il y a des tags, s'assurer que l'accordéon est visible\r\n    Log.debug(\"[GeoLeaf.UI.FilterPanel] Tags détectés (count:\", allTags.length, \")\");\r\n    if (accordionGroup) {\r\n        accordionGroup.style.display = \"\";\r\n        Log.info(\"[GeoLeaf.UI.FilterPanel] Accordéon tags AFFICHÉ\");\r\n    }\r\n\r\n    // Créer les badges\r\n    // Sprint 3.2: Use DocumentFragment for batch DOM operations\r\n    const tagsFragment = document.createDocumentFragment();\r\n\r\n    allTags.forEach(function (tag) {\r\n        const badgeClickHandler = function () {\r\n            this.classList.toggle(\"is-selected\");\r\n        };\r\n\r\n        const badge = $create(\"span\", {\r\n            className: \"gl-filter-panel__tag-badge\",\r\n            textContent: tag,\r\n            attributes: { \"data-tag-value\": tag },\r\n            onClick: badgeClickHandler,\r\n        });\r\n\r\n        if (events) {\r\n            FilterPanelRenderer._eventCleanups.push(\r\n                events.on(badge, \"click\", badgeClickHandler, false, \"FilterPanel.tagBadge\")\r\n            );\r\n        } else {\r\n            badge.addEventListener(\"click\", badgeClickHandler);\r\n        }\r\n\r\n        tagsFragment.appendChild(badge);\r\n    });\r\n\r\n    tagsContainer.appendChild(tagsFragment);\r\n};\r\n\r\n/**\r\n * Cleanup method for event listeners\r\n * Call this when destroying the filter panel\r\n * MEMORY LEAK FIX (Phase 2): Also cleanup timeouts in applier\r\n */\r\nFilterPanelRenderer.destroy = function () {\r\n    const Log = getLog();\r\n    if (Log) Log.debug(\"[FilterPanel] Cleaning up event listeners\");\r\n\r\n    if (FilterPanelRenderer._eventCleanups) {\r\n        FilterPanelRenderer._eventCleanups.forEach((cleanup) => {\r\n            if (typeof cleanup === \"function\") {\r\n                cleanup();\r\n            }\r\n        });\r\n        FilterPanelRenderer._eventCleanups = [];\r\n    }\r\n\r\n    // MEMORY LEAK FIX (Phase 2): Cleanup applier timeouts\r\n    if (FilterPanelApplier && FilterPanelApplier.destroy) {\r\n        FilterPanelApplier.destroy();\r\n    }\r\n};\r\n\r\n/**\r\n * Charge le contenu d'un accordéon à la demande (lazy loading)\r\n * @param {HTMLElement} accordionGroup - Element de l'accordéon\r\n * @param {Object} _filterDef - Définition du filtre (réservée pour usage futur)\r\n */\r\nFilterPanelRenderer._loadAccordionContentIfNeeded = function (accordionGroup, _filterDef) {\r\n    const Log = getLog();\r\n    const LazyLoader = FilterPanelLazyLoader;\r\n\r\n    if (!LazyLoader) {\r\n        Log.warn(\"[FilterPanel] LazyLoader non disponible\");\r\n        return;\r\n    }\r\n\r\n    // Vérifier si le contenu a déjà été chargé (le flag est reset à \"false\" lors d'un changement de thème)\r\n    if (accordionGroup.dataset.lazyLoaded === \"true\") {\r\n        Log.debug(\"[FilterPanel] Accordéon déjà chargé pour ce thème, skip\");\r\n        return;\r\n    }\r\n\r\n    // Trouver le container de contenu\r\n    const contentArea = accordionGroup.querySelector(\"[data-lazy-type]\");\r\n    if (!contentArea) {\r\n        Log.debug(\"[FilterPanel] Pas de zone lazy dans cet accordéon\");\r\n        return;\r\n    }\r\n\r\n    const lazyType = contentArea.dataset.lazyType;\r\n    Log.info(`[FilterPanel] Chargement lazy du contenu: ${lazyType}`);\r\n\r\n    // Récupérer le thème actif (avec fallback sur le thème par défaut du profil)\r\n    let currentTheme = ThemeSelector.getCurrentTheme();\r\n    if (!currentTheme) {\r\n        // Fallback : récupérer le thème par défaut depuis le profil\r\n        const profile =\r\n            Config && typeof Config.getActiveProfile === \"function\"\r\n                ? Config.getActiveProfile()\r\n                : null;\r\n        if (\r\n            profile &&\r\n            profile.themes &&\r\n            profile.themes.config &&\r\n            profile.themes.config.defautTheme\r\n        ) {\r\n            currentTheme = profile.themes.config.defautTheme;\r\n            Log.info(\"[FilterPanel] Fallback sur le thème par défaut:\", currentTheme);\r\n        }\r\n    }\r\n    if (!currentTheme) {\r\n        // Dernier fallback : utiliser \"defaut\" comme ID générique\r\n        currentTheme = \"defaut\";\r\n        Log.warn(\"[FilterPanel] Thème actif introuvable, utilisation de 'defaut'\");\r\n    }\r\n\r\n    // Afficher un spinner pendant le chargement\r\n    // Perf 6.2.3: Use DocumentFragment instead of innerHTML to avoid DOM re-parse\r\n    (function setLoading(area) {\r\n        while (area.firstChild) area.removeChild(area.firstChild);\r\n        const loader = document.createElement(\"div\");\r\n        loader.className = \"gl-filter-panel__loading\";\r\n        loader.textContent = \"Chargement...\";\r\n        area.appendChild(loader);\r\n    })(contentArea);\r\n\r\n    /**\r\n     * Helper: remplace le contenu d'un élément via un fragment HTML parsé et inséré.\r\n     * Le contenu est généré en interne par buildCategoryTreeContent / buildTagsListContent\r\n     * qui échappent toutes les valeurs utilisateur via Security.escapeHtml.\r\n     * On utilise createContextualFragment avec suppression des scripts (défense en profondeur)\r\n     * afin de préserver TOUS les attributs sûrs (class, data-*, type, value, name, checked)\r\n     * que la whitelist de DOMSecurity.setSafeHTML supprimait, rendant les checkboxes et\r\n     * les tags non fonctionnels.\r\n     * @param {HTMLElement} area - Conteneur cible\r\n     * @param {string} html - HTML string à insérer (déjà échappé à la source)\r\n     */\r\n    function _setHtmlContent(area, html) {\r\n        // Supprimer les scripts uniquement (les valeurs user sont déjà échappées à la source)\r\n        while (area.firstChild) area.removeChild(area.firstChild);\r\n        const safe = (typeof html === \"string\" ? html : String(html || \"\")).replace(\r\n            /<script[\\s\\S]*?<\\/script>/gi,\r\n            \"\"\r\n        );\r\n        const frag = document.createRange().createContextualFragment(safe);\r\n        area.appendChild(frag);\r\n    }\r\n\r\n    /**\r\n     * Helper: affiche un message simple (état vide, erreur)\r\n     * @param {HTMLElement} area - Conteneur cible\r\n     * @param {string} className - Classe CSS du div\r\n     * @param {string} text - Texte du message\r\n     */\r\n    function _setMessage(area, className, text) {\r\n        while (area.firstChild) area.removeChild(area.firstChild);\r\n        const div = document.createElement(\"div\");\r\n        div.className = className;\r\n        div.textContent = text;\r\n        area.appendChild(div);\r\n    }\r\n\r\n    // Charger de manière asynchrone pour ne pas bloquer l'UI\r\n    setTimeout(() => {\r\n        try {\r\n            if (lazyType === \"categories\") {\r\n                const result = LazyLoader.loadCategories(currentTheme);\r\n\r\n                // Vérifier s'il y a des catégories\r\n                if (!result.usedIds || result.usedIds.size === 0) {\r\n                    _setMessage(\r\n                        contentArea,\r\n                        \"gl-filter-panel__empty\",\r\n                        \"Aucune catégorie disponible sur les couches visibles\"\r\n                    );\r\n                    accordionGroup.dataset.lazyLoaded = \"true\";\r\n                    return;\r\n                }\r\n\r\n                // Construction ESM directe (P3-DEAD-02 — window._buildCategoryTreeContent supprimé)\r\n                const htmlContent = buildCategoryTreeContent(result);\r\n                _setHtmlContent(contentArea, htmlContent);\r\n                attachCategoryTreeListeners(contentArea);\r\n\r\n                // Marquer l'accordéon comme ouvert\r\n                LazyLoader.markAccordionOpen(\"categories\", accordionGroup);\r\n            } else if (lazyType === \"tags\") {\r\n                const tags = LazyLoader.loadTags(currentTheme);\r\n\r\n                // Vérifier s'il y a des tags\r\n                if (!tags || tags.length === 0) {\r\n                    _setMessage(\r\n                        contentArea,\r\n                        \"gl-filter-panel__empty\",\r\n                        \"Aucun tag disponible sur les couches visibles\"\r\n                    );\r\n                    accordionGroup.dataset.lazyLoaded = \"true\";\r\n                    return;\r\n                }\r\n\r\n                // Construction ESM directe (P3-DEAD-02 — window._buildTagsListContent supprimé)\r\n                const htmlContent = buildTagsListContent(tags);\r\n                _setHtmlContent(contentArea, htmlContent);\r\n                attachTagsListeners(contentArea);\r\n\r\n                // Marquer l'accordéon comme ouvert\r\n                LazyLoader.markAccordionOpen(\"tags\", accordionGroup);\r\n            }\r\n\r\n            // Marquer comme chargé\r\n            accordionGroup.dataset.lazyLoaded = \"true\";\r\n        } catch (err) {\r\n            Log.error(\"[FilterPanel] Erreur durant le chargement lazy:\", err);\r\n            _setMessage(contentArea, \"gl-filter-panel__error\", \"Erreur: \" + err.message);\r\n        }\r\n    }, 10); // 10ms delay pour laisser l'accordéon s'ouvrir\r\n};\r\n\r\nexport { FilterPanelRenderer };\r\n","/**\n * GeoLeaf UI Filter Panel - Core\n * API publique et délégation vers les sous-modules\n *\n * @module ui/filter-panel/core\n */\n\"use strict\";\n\nimport { getLog } from '../../utils/general-utils.js';\nimport { FilterPanelShared } from './shared.js';\nimport { FilterPanelStateReader } from './state-reader.js';\nimport { FilterPanelApplier } from './applier.js';\nimport { FilterPanelRenderer } from './renderer.js';\nimport { FilterPanelProximity } from './proximity.js';\n\n// Direct ESM bindings (P3-DEAD-01 complete)\nconst getShared = () => FilterPanelShared;\nconst getStateReader = () => FilterPanelStateReader;\nconst getApplier = () => FilterPanelApplier;\nconst getRenderer = () => FilterPanelRenderer;\nconst getProximity = () => FilterPanelProximity;\n\nconst FilterPanel = {};\n\n// ========================================\n//   API PUBLIQUE - Délégation vers sous-modules\n// ========================================\n\n/**\n * Construit le panneau de filtres depuis la configuration du profil actif\n * @param {Object} options - Options\n */\nFilterPanel.buildFilterPanelFromActiveProfile = function(options) {\n    const Renderer = getRenderer();\n    if (Renderer && Renderer.buildFilterPanelFromActiveProfile) {\n        return Renderer.buildFilterPanelFromActiveProfile(options);\n    }\n    getLog().error(\"[GeoLeaf.UI.FilterPanel] Module Renderer non chargé\");\n};\n\n/**\n * Bascule la visibilité du panneau de filtres\n * @param {boolean} [forceState]\n */\nFilterPanel.toggleFilterPanelVisibility = function(forceState) {\n    const Renderer = getRenderer();\n    if (Renderer && Renderer.toggleFilterPanelVisibility) {\n        return Renderer.toggleFilterPanelVisibility(forceState);\n    }\n};\n\n/**\n * Initialise le bouton toggle du panneau de filtres\n */\nFilterPanel.initFilterToggle = function() {\n    const Renderer = getRenderer();\n    if (Renderer && Renderer.initFilterToggle) {\n        return Renderer.initFilterToggle();\n    }\n};\n\n/**\n * Rafraîchit les badges de tags\n */\nFilterPanel.refreshFilterTags = function() {\n    const Renderer = getRenderer();\n    if (Renderer && Renderer.refreshFilterTags) {\n        return Renderer.refreshFilterTags();\n    }\n};\n\n/**\n * Applique les filtres initiaux\n */\nFilterPanel.applyFiltersInitial = function() {\n    const Applier = getApplier();\n    if (Applier && Applier.applyFiltersInitial) {\n        return Applier.applyFiltersInitial();\n    }\n};\n\n/**\n * Initialise le filtre de proximité\n * @param {L.Map} map\n */\nFilterPanel.initProximityFilter = function(map) {\n    const Proximity = getProximity();\n    if (Proximity && Proximity.initProximityFilter) {\n        return Proximity.initProximityFilter(map);\n    }\n};\n\n/**\n * Retourne l'élément DOM du panneau de filtres\n * @returns {HTMLElement|null}\n */\nFilterPanel._getFilterPanelElement = function() {\n    const Shared = getShared();\n    if (Shared && Shared.getFilterPanelElement) {\n        return Shared.getFilterPanelElement();\n    }\n    return null;\n};\n\n/**\n * Récupère les POI de base\n * @returns {Array}\n */\nFilterPanel._getBasePois = function() {\n    const Shared = getShared();\n    if (Shared && Shared.getBasePois) {\n        return Shared.getBasePois();\n    }\n    return [];\n};\n\n/**\n * Récupère les routes de base\n * @returns {Array}\n */\nFilterPanel._getBaseRoutes = function() {\n    const Shared = getShared();\n    if (Shared && Shared.getBaseRoutes) {\n        return Shared.getBaseRoutes();\n    }\n    return [];\n};\n\n/**\n * Lit l'état des filtres depuis le panneau\n * @param {HTMLElement} panelEl\n * @returns {Object}\n */\nFilterPanel._readFiltersFromPanel = function(panelEl) {\n    const StateReader = getStateReader();\n    if (StateReader && StateReader.readFiltersFromPanel) {\n        return StateReader.readFiltersFromPanel(panelEl);\n    }\n    return {};\n};\n\n/**\n * Filtre une liste de POI\n * @param {Array} basePois\n * @param {Object} filterState\n * @returns {Array}\n */\nFilterPanel._filterPoiList = function(basePois, filterState) {\n    const Applier = getApplier();\n    if (Applier && Applier.filterPoiList) {\n        return Applier.filterPoiList(basePois, filterState);\n    }\n    return basePois || [];\n};\n\n/**\n * Filtre une liste de routes\n * @param {Array} baseRoutes\n * @param {Object} filterState\n * @returns {Array}\n */\nFilterPanel._filterRouteList = function(baseRoutes, filterState) {\n    const Applier = getApplier();\n    if (Applier && Applier.filterRouteList) {\n        return Applier.filterRouteList(baseRoutes, filterState);\n    }\n    return baseRoutes || [];\n};\n\n/**\n * Rafraîchit la couche POI\n * @param {Array} filteredPois\n */\nFilterPanel._refreshPoiLayer = function(filteredPois) {\n    const Applier = getApplier();\n    if (Applier && Applier.refreshPoiLayer) {\n        return Applier.refreshPoiLayer(filteredPois);\n    }\n};\n\n\nexport { FilterPanel };\n","/*!\n * GeoLeaf Core\n * © 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf UI Module - Filter Panel (Aggregator)\n *\n * Ce fichier est un agrégateur pour la rétrocompatibilité.\n * La logique a été déplacée dans les sous-modules :\n * - filter-panel/shared.js       : Helpers de données partagés\n * - filter-panel/state-reader.js : Lecture de l'état des filtres\n * - filter-panel/applier.js      : Application des filtres\n * - filter-panel/renderer.js     : Construction du panneau HTML\n * - filter-panel/proximity.js    : Gestion des filtres de proximité\n * - filter-panel/core.js         : API publique et délégation\n *\n * @module ui/filter-panel\n */\n\"use strict\";\n\n// Direct ESM import (P3-DEAD-01 complete)\n// All sub-modules are loaded transitively via core.js ESM imports\nimport { FilterPanel } from './filter-panel/core.js';\n\nconst FilterPanelAggregator = FilterPanel;\nexport { FilterPanelAggregator };\n","/**\r\n * globals.ui.js — Bridge UMD/ESM : B6 + B7 + B9 — labels, legend, layer-manager, themes, ui\r\n *\r\n * @see globals.js (orchestrateur)\r\n */\r\n\r\n// B6 : labels, legend, layer-manager\r\nimport { LabelButtonManager } from \"./labels/label-button-manager.js\";\r\nimport { LabelRenderer } from \"./labels/label-renderer.js\";\r\nimport { Labels } from \"./labels/labels.js\";\r\nimport { LegendControl } from \"./legend/legend-control.js\";\r\nimport { LegendGenerator } from \"./legend/legend-generator.js\";\r\nimport { LegendRenderer } from \"./legend/legend-renderer.js\";\r\nimport { BasemapSelector } from \"./layer-manager/basemap-selector.js\";\r\nimport { CacheSection } from \"./layer-manager/cache-section.js\";\r\nimport { LMControl } from \"./layer-manager/control.js\";\r\nimport { LMRenderer } from \"./layer-manager/renderer.js\";\r\nimport { LMShared } from \"./layer-manager/shared.js\";\r\nimport { StyleSelector } from \"./layer-manager/style-selector.js\";\r\n// B7 : themes\r\nimport { ThemeCache } from \"./themes/theme-cache.js\";\r\nimport { ThemeLoader } from \"./themes/theme-loader.js\";\r\nimport { ThemeSelector } from \"./themes/theme-selector.js\";\r\nimport { ThemeApplierCore } from \"./themes/theme-applier/core.js\";\r\nimport { ThemeApplierDeferred } from \"./themes/theme-applier/deferred.js\";\r\nimport { ThemeApplierUISync } from \"./themes/theme-applier/ui-sync.js\";\r\nimport { ThemeApplierVisibility } from \"./themes/theme-applier/visibility.js\";\r\n// B9 : ui — fichiers directs\r\nimport { Branding } from \"./ui/branding.js\";\r\nimport { _UIComponents } from \"./ui/components.js\";\r\nimport { _UIControls } from \"./ui/controls.js\";\r\nimport { CoordinatesDisplay } from \"./ui/coordinates-display.js\";\r\nimport { _UIDomUtils } from \"./ui/dom-utils.js\";\r\nimport { _UIEventDelegation } from \"./ui/event-delegation.js\";\r\nimport { _buildFilterControl } from \"./ui/filter-control-builder.js\";\r\nimport { _UIFilterStateManager } from \"./ui/filter-state-manager.js\";\r\nimport { NotificationSystem, _UINotifications } from \"./ui/notifications.js\";\r\nimport { PanelBuilder } from \"./ui/panel-builder.js\";\r\nimport { ScaleControl as UIScaleControl } from \"./ui/scale-control.js\";\r\nimport { _UITheme } from \"./ui/theme.js\";\r\n// B9 : ui/content-builder/\r\nimport { ContentBuilderCore } from \"./ui/content-builder/core.js\";\r\nimport { Helpers as ContentBuilderHelpers } from \"./ui/content-builder/helpers.js\";\r\nimport { ContentBuilderShared } from \"./ui/content-builder/renderers-shared.js\";\r\nimport { Templates as ContentBuilderTemplates } from \"./ui/content-builder/templates.js\";\r\nimport { Assemblers as ContentBuilderAssemblers } from \"./ui/content-builder/assemblers.js\";\r\n// B9 : ui/filter-panel/ (ordre important : sub-modules avant aggregateurs)\r\nimport { FilterPanelShared } from \"./ui/filter-panel/shared.js\";\r\nimport { FilterPanelStateReader } from \"./ui/filter-panel/state-reader.js\";\r\nimport { FilterPanelApplier } from \"./ui/filter-panel/applier.js\";\r\nimport { FilterPanelRenderer } from \"./ui/filter-panel/renderer.js\";\r\nimport { FilterPanelProximity } from \"./ui/filter-panel/proximity.js\";\r\nimport { FilterPanelLazyLoader } from \"./ui/filter-panel/lazy-loader.js\";\r\nimport { FilterPanel } from \"./ui/filter-panel/core.js\";\r\nimport { FilterPanelAggregator } from \"./ui/filter-panel.js\";\r\n\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n\r\n_g.GeoLeaf = _g.GeoLeaf || {};\r\n\r\n// ── B6 assignations ──────────────────────────────────────────────────────────\r\n_g.GeoLeaf._LabelButtonManager = LabelButtonManager;\r\n_g.GeoLeaf._LabelRenderer = LabelRenderer;\r\n_g.GeoLeaf.Labels = Labels;\r\n_g.GeoLeaf._LegendControl = LegendControl;\r\n_g.GeoLeaf._LegendGenerator = LegendGenerator;\r\n_g.GeoLeaf._LegendRenderer = LegendRenderer;\r\n_g.GeoLeaf._LayerManagerBasemapSelector = BasemapSelector;\r\n_g.GeoLeaf._LayerManagerCacheSection = CacheSection;\r\n_g.GeoLeaf._LayerManagerControl = LMControl;\r\n_g.GeoLeaf._LayerManagerRenderer = LMRenderer;\r\n_g.GeoLeaf._LayerManagerShared = LMShared;\r\n_g.GeoLeaf._LayerManagerStyleSelector = StyleSelector;\r\n\r\n// ── B7 assignations ──────────────────────────────────────────────────────────\r\n_g.GeoLeaf.ThemeCache = ThemeCache;\r\n_g.GeoLeaf._ThemeLoader = ThemeLoader;\r\n_g.GeoLeaf.ThemeSelector = ThemeSelector;\r\n_g.GeoLeaf._ThemeApplier = Object.assign(\r\n    {},\r\n    ThemeApplierCore,\r\n    ThemeApplierDeferred,\r\n    ThemeApplierUISync,\r\n    ThemeApplierVisibility\r\n);\r\n\r\n// ── B9 assignations : ui ─────────────────────────────────────────────────────\r\nif (!_g.GeoLeaf.UI) _g.GeoLeaf.UI = {};\r\n_g.GeoLeaf.UI.Branding = Branding;\r\n_g.GeoLeaf._UIComponents = _UIComponents;\r\n_g.GeoLeaf._UIControls = _UIControls;\r\n_g.GeoLeaf.UI.CoordinatesDisplay = CoordinatesDisplay;\r\n_g.GeoLeaf._UIDomUtils = _UIDomUtils;\r\n_g.GeoLeaf._UIEventDelegation = _UIEventDelegation;\r\n_g.GeoLeaf.UI._buildFilterControl = _buildFilterControl;\r\n_g.GeoLeaf._UIFilterStateManager = _UIFilterStateManager;\r\n_g.GeoLeaf._UINotifications = _UINotifications;\r\n_g.GeoLeaf.NotificationSystem = NotificationSystem;\r\n// Alias UI.notify → _UINotifications (utilisé par boot-info.js et les intégrateurs)\r\n// GeoLeaf.UI est déjà initialisé plus haut, on complète sans écraser\r\nif (!_g.GeoLeaf.UI) _g.GeoLeaf.UI = {};\r\n_g.GeoLeaf.UI.notify = {\r\n    info: (msg, opts) => _UINotifications?.info?.(msg, opts),\r\n    warn: (msg, opts) => _UINotifications?.warn?.(msg, opts),\r\n    error: (msg, opts) => _UINotifications?.error?.(msg, opts),\r\n    success: (msg, opts) => _UINotifications?.success?.(msg, opts),\r\n    dismiss: (id) => _UINotifications?.dismiss?.(id),\r\n};\r\n_g.GeoLeaf.UI.PanelBuilder = PanelBuilder;\r\n_g.GeoLeaf.UI.ScaleControl = UIScaleControl;\r\n_g.GeoLeaf._UITheme = _UITheme;\r\n// Wire theme methods directly onto UI (geoleaf.ui.js body runs at import time,\r\n// before globals.js body assigns _g.GeoLeaf._UITheme, so its conditional block\r\n// was skipped — we re-apply here to ensure applyTheme/setTheme exist at boot)\r\n_g.GeoLeaf.UI.applyTheme = _UITheme.applyTheme;\r\n_g.GeoLeaf.UI.setTheme = _UITheme.applyTheme;\r\n_g.GeoLeaf.UI.toggleTheme = _UITheme.toggleTheme;\r\n_g.GeoLeaf.UI.initThemeToggle = _UITheme.initThemeToggle;\r\n_g.GeoLeaf.UI.getCurrentTheme = _UITheme.getCurrentTheme;\r\n// content-builder\r\nif (!_g.GeoLeaf._ContentBuilder) _g.GeoLeaf._ContentBuilder = {};\r\n_g.GeoLeaf._ContentBuilder.Core = ContentBuilderCore;\r\n_g.GeoLeaf._ContentBuilder.Helpers = ContentBuilderHelpers;\r\n_g.GeoLeaf._ContentBuilder.Shared = ContentBuilderShared;\r\n_g.GeoLeaf._ContentBuilder.Templates = ContentBuilderTemplates;\r\n_g.GeoLeaf._ContentBuilder.Assemblers = ContentBuilderAssemblers;\r\n// filter-panel\r\n_g.GeoLeaf._UIFilterPanelShared = FilterPanelShared;\r\n_g.GeoLeaf._UIFilterPanelStateReader = FilterPanelStateReader;\r\n_g.GeoLeaf._UIFilterPanelApplier = FilterPanelApplier;\r\n_g.GeoLeaf._UIFilterPanelRenderer = FilterPanelRenderer;\r\n_g.GeoLeaf._UIFilterPanelProximity = FilterPanelProximity;\r\n_g.GeoLeaf._UIFilterPanelLazyLoader = FilterPanelLazyLoader;\r\n_g.GeoLeaf._UIFilterPanel = FilterPanel;\r\n_g.GeoLeaf.FilterPanel = FilterPanelAggregator;\r\n","/*!\n * GeoLeaf Core\n * � 2026 Mattieu Pottier\n * Released under the MIT License\n * https://geoleaf.dev\n */\n\n/**\n * GeoLeaf Storage - Offline Detector Module\n *\n * D�tecte et g�re les transitions online/offline.\n * Affiche un badge UI et �met des �v�nements personnalis�s.\n *\n * @module GeoLeaf.OfflineDetector\n * @version 3.0.0\n */\n\"use strict\";\n\nimport { Log } from '../log/index.js';\nimport { ensureMap } from '../utils/general-utils.js';\nimport { events } from '../utils/event-listener-manager.js';\n\n\n\n\n\n/**\n * Module de d�tection online/offline\n */\nconst OfflineDetector = {\n    /**\n     * �tat de connexion actuel\n     * @private\n     */\n    _isOnline: navigator.onLine,\n\n    /**\n     * Badge UI (si activ�)\n     * @private\n     */\n    _badge: null,\n\n    /**\n     * Contr�le Leaflet pour le badge\n     * @private\n     */\n    _badgeControl: null,\n\n    /**\n     * Configuration\n     * @private\n     */\n    _config: {\n        showBadge: false,\n        badgePosition: 'topleft',\n        checkInterval: 30000,\n        pingUrl: null\n    },\n\n    /**\n     * Timer de v�rification p�riodique\n     * @private\n     */\n    _checkTimer: null,\n\n    /**\n     * Event cleanup functions\n     * @private\n     */\n    _eventCleanups: [],\n\n    /**\n     * Initialise le d�tecteur\n     * @param {Object} options - Options de configuration\n     * @param {boolean} options.showBadge - Afficher le badge UI\n     * @param {string} options.badgePosition - Position du badge (top-right, top-left, etc.)\n     * @param {number} options.checkInterval - Intervalle de v�rification en ms\n     * @param {string} options.pingUrl - URL pour ping de connectivit�\n     * @returns {void}\n     */\n    init(options = {}) {\n        // Fusionner config\n        this._config = { ...this._config, ...options };\n\n        Log.info(`[OfflineDetector] Initializing (badge: ${this._config.showBadge ? 'enabled' : 'disabled'})`);\n\n        // �tat initial\n        this._isOnline = navigator.onLine;\n        Log.info(`[OfflineDetector] Initial state: ${this._isOnline ? \"ONLINE\" : \"OFFLINE\"}`);\n\n        // Le badge sera cr�� de mani�re lazy :\n        // - Lors du premier �v�nement offline si showBadge=true\n        // - Ou via un appel manuel si la carte devient disponible plus tard\n\n        // �couter les �v�nements navigateur\n        this._attachEventListeners();\n\n        // V�rification p�riodique\n        this._startPeriodicCheck();\n\n        // V�rifier imm�diatement l'�tat r�el\n        this.checkConnectivity();\n    },\n\n    /**\n     * Cr�e le badge UI comme contr�le Leaflet\n     * @private\n     */\n    _createBadge() {\n        if (this._badge) return; // D�j� cr��\n\n        const map = ensureMap();\n        if (!map) {\n            Log.warn('[OfflineDetector] Cannot create badge: map not available');\n            return;\n        }\n\n        // Cr�er un contr�le Leaflet personnalis�\n        const L = globalThis.L;\n        if (!L || !L.Control) {\n            Log.warn('[OfflineDetector] Leaflet not available');\n            return;\n        }\n\n        const OfflineBadgeControl = L.Control.extend({\n            options: {\n                position: 'topleft'\n            },\n\n            onAdd: function(map) {\n                const container = L.DomUtil.create('div', 'leaflet-bar geoleaf-offline-badge-control');\n                container.style.cssText = `\n                    background: #ff6b6b;\n                    color: white;\n                    padding: 8px 16px;\n                    border-radius: 20px;\n                    font-family: system-ui, -apple-system, sans-serif;\n                    font-size: 13px;\n                    font-weight: 500;\n                    box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n                    cursor: default;\n                    display: none;\n                    white-space: nowrap;\n                    position: absolute;\n                    left: 54px;\n                    top: 0;\n                    margin: 0 !important;\n                    border: none;\n                `;\n                container.textContent = '?? Hors ligne';\n                container.title = 'Mode hors ligne actif';\n\n                // Emp�cher les �v�nements de propagation\n                L.DomEvent.disableClickPropagation(container);\n                L.DomEvent.disableScrollPropagation(container);\n\n                return container;\n            }\n        });\n\n        this._badgeControl = new OfflineBadgeControl();\n        this._badgeControl.addTo(map);\n        this._badge = this._badgeControl.getContainer();\n\n        Log.debug('[OfflineDetector] Badge control created on map');\n    },\n\n    /**\n     * Affiche le badge\n     * @private\n     */\n    _showBadge() {\n        // Cr�er le badge si pas encore cr�� (lazy creation)\n        if (!this._badge && this._config.showBadge) {\n            this._createBadge();\n        }\n\n        if (this._badge) {\n            this._badge.style.display = 'block';\n        }\n    },\n\n    /**\n     * Masque le badge\n     * @private\n     */\n    _hideBadge() {\n        if (this._badge) {\n            this._badge.style.display = 'none';\n        }\n    },\n\n    /**\n     * Attache les event listeners\n     * @private\n     */\n    _attachEventListeners() {\n        // �v�nements natifs du navigateur - avec cleanup tracking\n\n        if (events) {\n            this._eventCleanups.push(\n                events.on(\n                    window,\n                    \"online\",\n                    () => this._handleOnline(),\n                    false,\n                    'OfflineDetector.online'\n                )\n            );\n            this._eventCleanups.push(\n                events.on(\n                    window,\n                    \"offline\",\n                    () => this._handleOffline(),\n                    false,\n                    'OfflineDetector.offline'\n                )\n            );\n        } else {\n            // Fallback sans cleanup\n            Log.warn('[OfflineDetector] EventListenerManager not available - listeners will not be cleaned up');\n            window.addEventListener(\"online\", () => this._handleOnline());\n            window.addEventListener(\"offline\", () => this._handleOffline());\n        }\n\n        Log.debug(\"[OfflineDetector] Event listeners attached\");\n    },\n\n    /**\n     * Cleanup event listeners\n     */\n    destroy() {\n        // Cleanup event listeners\n        if (this._eventCleanups && this._eventCleanups.length > 0) {\n            this._eventCleanups.forEach(cleanup => {\n                if (typeof cleanup === 'function') cleanup();\n            });\n            this._eventCleanups = [];\n            Log.info('[OfflineDetector] Event listeners cleaned up');\n        }\n\n        // Clear check timer\n        if (this._checkTimer) {\n            clearInterval(this._checkTimer);\n            this._checkTimer = null;\n        }\n\n        // Remove badge control if present\n        if (this._badgeControl && this._badgeControl._map) {\n            this._badgeControl._map.removeControl(this._badgeControl);\n            this._badgeControl = null;\n        }\n        this._badge = null;\n    },\n\n    /**\n     * G�re le passage en ligne\n     * @private\n     */\n    _handleOnline() {\n        if (this._isOnline) return; // D�j� online\n\n        Log.info(\"[OfflineDetector] Connection restored ? ONLINE\");\n        this._isOnline = true;\n\n        // Masquer le badge\n        if (this._config.showBadge) {\n            this._hideBadge();\n        }\n\n        // �mettre �v�nement personnalis�\n        document.dispatchEvent(new CustomEvent(\"geoleaf:online\", {\n            detail: { timestamp: Date.now() }\n        }));\n\n        // V�rifier avec ping si n�cessaire\n        this.checkConnectivity();\n    },\n\n    /**\n     * G�re le passage hors ligne\n     * @private\n     */\n    _handleOffline() {\n        if (!this._isOnline) return; // D�j� offline\n\n        Log.warn(\"[OfflineDetector] Connection lost ? OFFLINE\");\n        this._isOnline = false;\n\n        // Afficher le badge\n        if (this._config.showBadge) {\n            this._showBadge();\n        }\n\n        // �mettre �v�nement personnalis�\n        document.dispatchEvent(new CustomEvent(\"geoleaf:offline\", {\n            detail: { timestamp: Date.now() }\n        }));\n    },\n\n    /**\n     * V�rifie la connectivit� r�elle (avec ping si configur�)\n     *\n     * @returns {Promise<boolean>}\n     * @example\n     * const isOnline = await GeoLeaf.Storage.OfflineDetector.checkConnectivity();\n     */\n    async checkConnectivity() {\n        // Si pas d'URL de ping, utiliser l'�tat navigateur\n        if (!this._config.pingUrl) {\n            return this._isOnline;\n        }\n\n        try {\n            // Tenter un ping vers l'URL configur�e\n            const controller = new AbortController();\n            const timeoutId = setTimeout(() => controller.abort(), 5000); // Timeout 5s\n\n            const response = await fetch(this._config.pingUrl, {\n                method: \"HEAD\",\n                cache: \"no-cache\",\n                signal: controller.signal\n            });\n\n            clearTimeout(timeoutId);\n\n            const isOnline = response.ok;\n\n            // Mettre � jour l'�tat si diff�rent\n            if (isOnline !== this._isOnline) {\n                if (isOnline) {\n                    this._handleOnline();\n                } else {\n                    this._handleOffline();\n                }\n            }\n\n            return isOnline;\n\n        } catch (error) {\n            // Erreur = probablement offline\n            Log.debug(`[OfflineDetector] Ping failed: ${error.message}`);\n\n            if (this._isOnline) {\n                this._handleOffline();\n            }\n\n            return false;\n        }\n    },\n\n    /**\n     * D�marre la v�rification p�riodique\n     * @private\n     */\n    _startPeriodicCheck() {\n        if (this._checkTimer) {\n            clearInterval(this._checkTimer);\n        }\n\n        this._checkTimer = setInterval(() => {\n            this.checkConnectivity();\n        }, this._config.checkInterval);\n\n        Log.debug(`[OfflineDetector] Periodic check started (every ${this._config.checkInterval}ms)`);\n    },\n\n    /**\n     * Arr�te la v�rification p�riodique\n     */\n    stopPeriodicCheck() {\n        if (this._checkTimer) {\n            clearInterval(this._checkTimer);\n            this._checkTimer = null;\n            Log.debug(\"[OfflineDetector] Periodic check stopped\");\n        }\n    },\n\n    /**\n     * Retourne l'�tat de connexion actuel\n     *\n     * @returns {boolean}\n     * @example\n     * if (GeoLeaf.Storage.OfflineDetector.isOnline()) {\n     *   // Effectuer requ�te r�seau\n     * }\n     */\n    isOnline() {\n        return this._isOnline;\n    },\n\n    /**\n     * Nettoie les ressources\n     */\n    destroy() {\n        this.stopPeriodicCheck();\n\n        // Supprimer le contr�le de la carte\n        if (this._badgeControl) {\n            const map = ensureMap();\n            if (map) {\n                map.removeControl(this._badgeControl);\n            }\n            this._badgeControl = null;\n            this._badge = null;\n        }\n\n        Log.info(\"[OfflineDetector] Destroyed\");\n    }\n};\n\n\nexport { OfflineDetector };\n","/**\r\n * @file sw-register.js\r\n * @description Service Worker registration module for GeoLeaf offline support.\r\n *              Handles SW lifecycle: register, update, unregister.\r\n *              The core/lite SW (sw-core.js) is registered unconditionally at boot.\r\n *              The premium SW (sw.js) replaces it when the Storage plugin is loaded\r\n *              and storage.enableServiceWorker = true in the profile.\r\n * @module Storage/SWRegister\r\n * @requires GeoLeaf\r\n *\r\n * Copyright (c) 2025 GeoLeaf Contributors\r\n * Licensed under the MIT License\r\n * SPDX-License-Identifier: MIT\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\n\r\n\r\n\r\n/**\r\n * Service Worker registration helper.\r\n *\r\n * @namespace GeoLeaf._SWRegister\r\n * @example\r\n * // Automatic registration via Storage.init({ enableServiceWorker: true })\r\n * // Or manual:\r\n * await GeoLeaf._SWRegister.register();\r\n */\r\nconst SWRegister = {\r\n\r\n    /** @type {ServiceWorkerRegistration|null} */\r\n    _registration: null,\r\n\r\n    /** @type {string} Default SW script path — core/lite, always registered at boot */\r\n    _swPath: \"sw-core.js\",\r\n\r\n    /**\r\n     * Register the Service Worker.\r\n     * No-op in environments that don't support Service Workers.\r\n     *\r\n     * @param {Object}  [options]\r\n     * @param {string}  [options.path=\"sw.js\"] - Path to the SW script\r\n     * @param {string}  [options.scope=\"/\"]     - SW scope\r\n     * @returns {Promise<ServiceWorkerRegistration|null>}\r\n     * @example\r\n     * const reg = await GeoLeaf._SWRegister.register();\r\n     */\r\n    async register(options = {}) {\r\n        if (!(\"serviceWorker\" in navigator)) {\r\n            Log.warn(\"[SWRegister] Service Workers not supported in this browser.\");\r\n            return null;\r\n        }\r\n\r\n        const swPath = options.path || this._swPath;\r\n        const scope  = options.scope || \"/\";\r\n\r\n        try {\r\n            const registration = await navigator.serviceWorker.register(swPath, { scope });\r\n            this._registration = registration;\r\n\r\n            Log.info(`[SWRegister] Service Worker registered (scope: ${registration.scope})`);\r\n\r\n            // Listen for updates\r\n            registration.addEventListener(\"updatefound\", () => {\r\n                const newWorker = registration.installing;\r\n                if (newWorker) {\r\n                    newWorker.addEventListener(\"statechange\", () => {\r\n                        if (newWorker.state === \"activated\") {\r\n                            Log.info(\"[SWRegister] New Service Worker activated.\");\r\n                            document.dispatchEvent(new CustomEvent(\"geoleaf:sw:updated\"));\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n            return registration;\r\n\r\n        } catch (error) {\r\n            Log.error(`[SWRegister] Registration failed: ${error.message}`);\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Force an update check on the registered Service Worker.\r\n     *\r\n     * @returns {Promise<void>}\r\n     */\r\n    async update() {\r\n        if (this._registration) {\r\n            await this._registration.update();\r\n            Log.info(\"[SWRegister] Update check triggered.\");\r\n        } else {\r\n            Log.warn(\"[SWRegister] No active registration — call register() first.\");\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Unregister the Service Worker.\r\n     *\r\n     * @returns {Promise<boolean>} true if successfully unregistered\r\n     */\r\n    async unregister() {\r\n        if (!this._registration) {\r\n            Log.warn(\"[SWRegister] No active registration to unregister.\");\r\n            return false;\r\n        }\r\n\r\n        const result = await this._registration.unregister();\r\n        if (result) {\r\n            Log.info(\"[SWRegister] Service Worker unregistered.\");\r\n            this._registration = null;\r\n        }\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * Get the current registration (if any).\r\n     *\r\n     * @returns {ServiceWorkerRegistration|null}\r\n     */\r\n    getRegistration() {\r\n        return this._registration;\r\n    }\r\n};\r\n\r\nexport { SWRegister };\r\n","/**\r\n * globals.storage.js — Core only (MIT)\r\n *\r\n * Après Phase 7 : seuls offline-detector et sw-register restent dans le core.\r\n * Tout le reste → GeoLeaf-Plugins/plugin-storage\r\n *\r\n * @see globals.js\r\n */\r\nimport { OfflineDetector } from \"./storage/offline-detector.js\";\r\nimport { SWRegister } from \"./storage/sw-register.js\";\r\n\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n\r\n_g.GeoLeaf = _g.GeoLeaf || {};\r\n\r\n_g.GeoLeaf._OfflineDetector = OfflineDetector;\r\n_g.GeoLeaf._SWRegister = SWRegister;\r\n// Namespace stub — enrichi par le plugin Storage au chargement\r\nif (!_g.GeoLeaf.Storage) _g.GeoLeaf.Storage = {};\r\n","/**\r\n * globals.poi.js — Bridge UMD/ESM : B10 — poi, add-form, renderers\r\n *\r\n * @see globals.js (orchestrateur)\r\n */\r\n\r\n// B10 : poi — direct\r\nimport { POIShared } from \"./poi/shared.js\";\r\nimport { POINormalizers } from \"./poi/normalizers.js\";\r\nimport { POIMarkers } from \"./poi/markers.js\";\r\nimport { POIPopup } from \"./poi/popup.js\";\r\nimport { POISidepanel } from \"./poi/sidepanel.js\";\r\nimport { POIRenderers } from \"./poi/renderers.js\";\r\nimport { POICore } from \"./poi/core.js\";\r\n// B10 : poi/renderers/\r\nimport { ComponentRenderers } from \"./poi/renderers/component-renderers.js\";\r\nimport { RendererCore } from \"./poi/renderers/core.js\";\r\n// FieldRenderers and MediaRenderers are imported and assigned in globals.api.js\r\nimport { LightboxManager } from \"./poi/renderers/lightbox-manager.js\";\r\nimport { RendererLinks } from \"./poi/renderers/links.js\";\r\n// MediaRenderers assigned in globals.api.js\r\nimport { SectionOrchestrator } from \"./poi/renderers/section-orchestrator.js\";\r\nimport { UIBehaviors } from \"./poi/renderers/ui-behaviors.js\";\r\nimport { POICoreContract } from \"../contracts/poi-core.contract.js\";\r\n\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n\r\n_g.GeoLeaf = _g.GeoLeaf || {};\r\n\r\n// ── B10 assignations : poi ───────────────────────────────────────────────────\r\nif (!_g.GeoLeaf.POI) _g.GeoLeaf.POI = {};\r\n_g.GeoLeaf._POIShared = POIShared;\r\n_g.GeoLeaf._POINormalizers = POINormalizers;\r\n_g.GeoLeaf._POIMarkers = POIMarkers;\r\n_g.GeoLeaf._POIPopup = POIPopup;\r\n_g.GeoLeaf._POISidePanel = POISidepanel;\r\n_g.GeoLeaf._POIRenderers = POIRenderers;\r\n_g.GeoLeaf._POICore = POICore;\r\n// poi/renderers/\r\n_g.GeoLeaf.ComponentRenderers = ComponentRenderers;\r\n_g.GeoLeaf._POIRenderersCore = RendererCore;\r\n_g.GeoLeaf.LightboxManager = LightboxManager;\r\n_g.GeoLeaf._lightboxManager = new LightboxManager();\r\n_g.GeoLeaf._POIRendererLinks = RendererLinks;\r\n_g.GeoLeaf.SectionOrchestrator = SectionOrchestrator;\r\n_g.GeoLeaf._POIUIBehaviors = UIBehaviors;\r\n\r\n// ── Enregistrer showPoiDetails dans POICoreContract (utilisé par markers.js) ──\r\n// Permet à POICoreContract.showPoiDetails(poi) de déléguer vers le side panel.\r\nPOICoreContract.register({\r\n    showPoiDetails: (poi, customLayout) => POISidepanel.openSidePanel(poi, customLayout)\r\n});\r\n","/**\n * API Controller - Sprint 4.3 (Version Robuste)\n * Orchestrateur principal pour les opérations API GeoLeaf\n * Architecture modulaire avec validation renforcée\n * @module APIController\n */\n\"use strict\";\n\nimport { Log } from '../log/index.js';\nconst _g = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : {};\n_g.GeoLeaf = _g.GeoLeaf || {};\n\n\n/**\n * Contrôleur principal pour l'API GeoLeaf\n * Gère l'orchestration des managers spécialisés\n */\nclass APIController {\n    constructor() {\n        this.isInitialized = false;\n        this.managers = {};\n        this.moduleAccessFn = null;\n\n        // État de sanité du contrôleur\n        this.healthStatus = {\n            managers: 0,\n            errors: [],\n            lastUpdate: null\n        };\n    }\n\n    /**\n     * Initialise le contrôleur et tous ses managers\n     * @returns {boolean} Succès de l'initialisation\n     */\n    init() {\n        try {\n            if (this.isInitialized) {\n                if (Log) Log.debug('[APIController] Already initialized');\n                return true;\n            }\n\n            if (Log) Log.info('[APIController] Initializing API controller (Sprint 4.3 - Robust)');\n\n            // Initialiser les managers dans l'ordre\n            this._initializeManagers();\n\n            // Configurer l'accès aux modules\n            const success = this._setupModuleAccess();\n            if (!success) {\n                throw new Error('Module access setup failed');\n            }\n\n            // Valider l'état final\n            this._validateInitialization();\n\n            this.isInitialized = true;\n            this.healthStatus.lastUpdate = new Date().toISOString();\n\n            if (Log) Log.info('[APIController] API controller initialized successfully');\n            return true;\n\n        } catch (error) {\n            this.healthStatus.errors.push({\n                message: error.message,\n                timestamp: new Date().toISOString(),\n                stack: error.stack\n            });\n\n            if (Log) Log.error('[APIController] Initialization failed:', error);\n            return false;\n        }\n    }\n\n    /**\n     * Initialise tous les managers disponibles\n     * @private\n     */\n    _initializeManagers() {\n        const managerTypes = ['module', 'initialization', 'factory'];\n\n        managerTypes.forEach(type => {\n            const ManagerClass = this._getManagerClass(type);\n            if (ManagerClass) {\n                try {\n                    this.managers[type] = new ManagerClass();\n                    this.healthStatus.managers++;\n                    if (Log) Log.debug(`[APIController] ${type} manager loaded`);\n                } catch (error) {\n                    if (Log) Log.warn(`[APIController] Failed to load ${type} manager:`, error);\n                    this.healthStatus.errors.push({\n                        manager: type,\n                        error: error.message\n                    });\n                }\n            }\n        });\n\n        if (Log) Log.info(`[APIController] Loaded ${this.healthStatus.managers} managers`);\n    }\n\n    /**\n     * Obtient la classe d'un manager\n     * @private\n     */\n    _getManagerClass(type) {\n        const classNames = {\n            module: 'APIModuleManager',\n            initialization: 'APIInitializationManager',\n            factory: 'APIFactoryManager'\n        };\n\n        const className = classNames[type];\n        return _g.GeoLeaf.API && _g.GeoLeaf.API[className] ? _g.GeoLeaf.API[className] : null;\n    }\n\n    /**\n     * Configure l'accès aux modules\n     * @private\n     */\n    _setupModuleAccess() {\n        // Le module manager doit être initialisé en premier\n        if (!this.managers.module) {\n            if (Log) Log.error('[APIController] Module manager not available');\n            return false;\n        }\n\n        // Initialiser le module manager avec les modules existants\n        const initSuccess = this.managers.module.init ? this.managers.module.init() : true;\n        if (!initSuccess) {\n            if (Log) Log.error('[APIController] Module manager initialization failed');\n            return false;\n        }\n\n        // Créer la fonction d'accès aux modules avec validation\n        this.moduleAccessFn = (name) => {\n            try {\n                if (!name || typeof name !== 'string') {\n                    if (Log) Log.warn('[APIController] Invalid module name:', name);\n                    return null;\n                }\n\n                if (this.managers.module && typeof this.managers.module.getModule === 'function') {\n                    return this.managers.module.getModule(name);\n                }\n\n                // Fallback vers l'accès global\n                if (_g.GeoLeaf && _g.GeoLeaf[name]) {\n                    return _g.GeoLeaf[name];\n                }\n\n                return null;\n            } catch (error) {\n                if (Log) Log.warn(`[APIController] Error accessing module ${name}:`, error);\n                return null;\n            }\n        };\n\n        if (Log) Log.info('[APIController] Module access configured');\n        return true;\n    }\n\n    /**\n     * Valide l'état de l'initialisation\n     * @private\n     */\n    _validateInitialization() {\n        const checks = [\n            { name: 'moduleAccessFn', value: this.moduleAccessFn, type: 'function' },\n            { name: 'managers', value: this.managers, type: 'object' },\n            { name: 'moduleManager', value: this.managers.module, type: 'object' }\n        ];\n\n        const failures = checks.filter(check => {\n            return !check.value || typeof check.value !== check.type;\n        });\n\n        if (failures.length > 0) {\n            const failureNames = failures.map(f => f.name).join(', ');\n            throw new Error(`Validation failed for: ${failureNames}`);\n        }\n\n        if (Log) Log.debug('[APIController] Validation passed');\n    }\n\n    /**\n     * _g.GeoLeaf.init() - Initialisation de carte\n     */\n    geoleafInit(options) {\n        if (!this._ensureInitialized()) return null;\n\n        try {\n            if (!this.managers.initialization) {\n                throw new Error('Initialization manager not available');\n            }\n\n            return this.managers.initialization.init(options, this.moduleAccessFn);\n        } catch (error) {\n            if (Log) Log.error('[APIController] geoleafInit failed:', error);\n            return null;\n        }\n    }\n\n    /**\n     * _g.GeoLeaf.loadConfig() - Chargement configuration\n     */\n    geoleafLoadConfig(input) {\n        if (!this._ensureInitialized()) return Promise.resolve(null);\n\n        try {\n            if (!this.managers.initialization) {\n                throw new Error('Initialization manager not available');\n            }\n\n            return this.managers.initialization.loadConfig(input, this.moduleAccessFn);\n        } catch (error) {\n            if (Log) Log.error('[APIController] geoleafLoadConfig failed:', error);\n            return Promise.resolve(null);\n        }\n    }\n\n    /**\n     * _g.GeoLeaf.setTheme() - Changement de thème\n     */\n    geoleafSetTheme(theme) {\n        if (!this._ensureInitialized()) return false;\n\n        try {\n            if (!this.managers.initialization) {\n                throw new Error('Initialization manager not available');\n            }\n\n            return this.managers.initialization.setTheme(theme, this.moduleAccessFn);\n        } catch (error) {\n            if (Log) Log.error('[APIController] geoleafSetTheme failed:', error);\n            return false;\n        }\n    }\n\n    /**\n     * _g.GeoLeaf.createMap() - Création multi-cartes\n     */\n    geoleafCreateMap(targetId, options) {\n        if (!this._ensureInitialized()) return null;\n\n        try {\n            if (!this.managers.factory) {\n                throw new Error('Factory manager not available');\n            }\n\n            return this.managers.factory.createMap(targetId, options, this.moduleAccessFn);\n        } catch (error) {\n            if (Log) Log.error('[APIController] geoleafCreateMap failed:', error);\n            return null;\n        }\n    }\n\n    /**\n     * S'assure que le contrôleur est initialisé\n     * @private\n     */\n    _ensureInitialized() {\n        if (!this.isInitialized) {\n            if (Log) Log.error('[APIController] Controller not initialized');\n            return false;\n        }\n        return true;\n    }\n\n    /**\n     * Obtient l'état de santé du contrôleur\n     */\n    getHealthStatus() {\n        return {\n            ...this.healthStatus,\n            isInitialized: this.isInitialized,\n            managersCount: Object.keys(this.managers).length,\n            hasModuleAccess: !!this.moduleAccessFn\n        };\n    }\n\n    /**\n     * Réinitialise le contrôleur\n     */\n    reset() {\n        this.isInitialized = false;\n        this.managers = {};\n        this.moduleAccessFn = null;\n        this.healthStatus = {\n            managers: 0,\n            errors: [],\n            lastUpdate: null\n        };\n\n        if (Log) Log.info('[APIController] Controller reset');\n    }\n}\n\n\n// perf 5.9 : Instanciation lazy — création au premier accès via getter\n// (évite init synchrone coûteuse de _initializeManagers à l'import)\nlet _apiControllerInstance = null;\n\nfunction _getAPIController() {\n    if (!_apiControllerInstance) {\n        _apiControllerInstance = new APIController();\n        // Init différée : les managers ne sont résolus qu'une fois le namespace GeoLeaf.API peuplé\n        _apiControllerInstance.init();\n    }\n    return _apiControllerInstance;\n}\n\nif (!Object.getOwnPropertyDescriptor(_g.GeoLeaf, '_APIController') ||\n    !Object.getOwnPropertyDescriptor(_g.GeoLeaf, '_APIController').get) {\n    Object.defineProperty(_g.GeoLeaf, '_APIController', {\n        get: _getAPIController,\n        configurable: true,\n        enumerable: true\n    });\n}\n\nexport { APIController };\n","/**\r\n * API Factory Manager - Sprint 4.3 (Version Robuste)\r\n * Gestionnaire pour la création d'instances multi-cartes\r\n * @module APIFactoryManager\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : {};\r\n_g.GeoLeaf = _g.GeoLeaf || {};\r\n\r\n\r\n/**\r\n * Gestionnaire de factory pour multi-cartes\r\n */\r\nclass APIFactoryManager {\r\n    constructor() {\r\n        this.isReady = true;\r\n        this.mapInstances = new Map();\r\n        this.stats = {\r\n            mapsCreated: 0,\r\n            errors: 0\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Initialise le gestionnaire avec la fonction d'accès aux modules\r\n     * @param {Function} getModule - Fonction d'accès aux modules\r\n     * @returns {boolean} Succès\r\n     */\r\n    init(getModule) {\r\n        try {\r\n            if (!getModule || typeof getModule !== 'function') {\r\n                throw new Error('getModule function is required');\r\n            }\r\n\r\n            this.getModule = getModule;\r\n\r\n            if (Log) Log.info('[APIFactoryManager] Factory manager initialized');\r\n            return true;\r\n\r\n        } catch (error) {\r\n            this.stats.errors++;\r\n            if (Log) Log.error('[APIFactoryManager] Initialization failed:', error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Crée une nouvelle instance de carte\r\n     * @param {string} targetId - ID de l'élément cible\r\n     * @param {Object} options - Options de configuration\r\n     * @param {Function} getModule - Fonction d'accès aux modules\r\n     * @returns {*} Instance de carte ou null\r\n     */\r\n    createMap(targetId, options, getModule) {\r\n        try {\r\n            this.stats.mapsCreated++;\r\n\r\n            if (!targetId) {\r\n                throw new Error('Target ID is required');\r\n            }\r\n\r\n            const Core = getModule('Core');\r\n            if (!Core || typeof Core.init !== 'function') {\r\n                throw new Error('Core module not available for map creation');\r\n            }\r\n\r\n            // Créer la carte avec les options fournies\r\n            const mapOptions = {\r\n                target: targetId,\r\n                ...options\r\n            };\r\n\r\n            const mapInstance = Core.init(mapOptions);\r\n\r\n            if (mapInstance) {\r\n                this.mapInstances.set(targetId, mapInstance);\r\n                if (Log) Log.info(`[APIFactoryManager] Map created for target: ${targetId}`);\r\n            }\r\n\r\n            return mapInstance;\r\n\r\n        } catch (error) {\r\n            this.stats.errors++;\r\n            if (Log) Log.error(`[APIFactoryManager] Failed to create map for ${targetId}:`, error);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Obtient une instance de carte par ID\r\n     * @param {string} targetId - ID de l'élément cible\r\n     * @returns {*} Instance de carte ou null\r\n     */\r\n    getMapInstance(targetId) {\r\n        return this.mapInstances.get(targetId) || null;\r\n    }\r\n\r\n    /**\r\n     * Obtient toutes les instances de carte\r\n     * @returns {Array} Liste des instances\r\n     */\r\n    getAllMapInstances() {\r\n        return Array.from(this.mapInstances.values());\r\n    }\r\n\r\n    /**\r\n     * Supprime une instance de carte par ID\r\n     * @param {string} targetId - ID de l'élément cible\r\n     * @returns {boolean} Succès de la suppression\r\n     */\r\n    removeMapInstance(targetId) {\r\n        if (!this.mapInstances.has(targetId)) {\r\n            if (Log) Log.warn(`[APIFactoryManager] No map instance found for: ${targetId}`);\r\n            return false;\r\n        }\r\n        this.mapInstances.delete(targetId);\r\n        if (Log) Log.info(`[APIFactoryManager] Map instance removed for: ${targetId}`);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Obtient les statistiques\r\n     */\r\n    getStats() {\r\n        return {\r\n            ...this.stats,\r\n            activeInstances: this.mapInstances.size,\r\n            isReady: this.isReady\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Réinitialise le gestionnaire\r\n     */\r\n    reset() {\r\n        this.mapInstances.clear();\r\n        this.getModule = null;\r\n        this.stats = {\r\n            mapsCreated: 0,\r\n            errors: 0\r\n        };\r\n\r\n        if (Log) Log.info('[APIFactoryManager] Manager reset');\r\n    }\r\n}\r\n\r\nexport { APIFactoryManager };\r\n","/**\r\n * API Initialization Manager - Sprint 4.3 (Version Robuste)\r\n * Gestionnaire des opérations d'initialisation GeoLeaf\r\n * @module APIInitializationManager\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : {};\r\n_g.GeoLeaf = _g.GeoLeaf || {};\r\n\r\n\r\n/**\r\n * Gestionnaire d'initialisation pour GeoLeaf\r\n */\r\nclass APIInitializationManager {\r\n    constructor() {\r\n        this.isReady = true; // Manager prêt sans init séparée\r\n        this.pendingPromise = null;\r\n        this.cancelled = false;\r\n        this.stats = {\r\n            initCalls: 0,\r\n            configLoads: 0,\r\n            errors: 0\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Initialise GeoLeaf avec les options fournies\r\n     * @param {Object} options - Options d'initialisation\r\n     * @param {Function} getModule - Fonction d'accès aux modules\r\n     * @returns {*} Résultat de l'initialisation\r\n     */\r\n    init(options, getModule) {\r\n        try {\r\n            this.stats.initCalls++;\r\n\r\n            if (Log) Log.info('[APIInitializationManager] Initializing GeoLeaf');\r\n\r\n            // Validation des paramètres\r\n            const validationResult = this._validateInitParams(options, getModule);\r\n            if (!validationResult.valid) {\r\n                throw new Error(validationResult.error);\r\n            }\r\n\r\n            // Obtenir le module Core\r\n            const Core = getModule(\"Core\");\r\n            if (!Core || typeof Core.init !== \"function\") {\r\n                throw new Error(\"[GeoLeaf.init] GeoLeaf.Core.init() is not available. Core module must be loaded before API.\");\r\n            }\r\n\r\n            // Normaliser les options\r\n            const normalizedOptions = this._normalizeInitOptions(options);\r\n            if (Log) Log.info('[APIInitializationManager] Initializing with options:', normalizedOptions);\r\n\r\n            // Appeler l'initialisation du Core\r\n            const result = Core.init(normalizedOptions);\r\n\r\n            if (Log) Log.info('[APIInitializationManager] Initialization completed successfully');\r\n            return result;\r\n\r\n        } catch (error) {\r\n            this.stats.errors++;\r\n            if (Log) Log.error('[APIInitializationManager] Initialization failed:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Charge une configuration depuis URL ou données\r\n     * @param {string|Object} input - Source de configuration\r\n     * @param {Function} getModule - Fonction d'accès aux modules\r\n     * @returns {Promise<Object>} Données de configuration\r\n     */\r\n    async loadConfig(input, getModule) {\r\n        try {\r\n            this.stats.configLoads++;\r\n\r\n            if (Log) Log.info('[APIInitializationManager] Loading configuration');\r\n\r\n            // Validation des paramètres\r\n            if (!input) {\r\n                throw new Error('Configuration input is required');\r\n            }\r\n\r\n            if (!getModule || typeof getModule !== 'function') {\r\n                throw new Error('getModule function is required');\r\n            }\r\n\r\n            // Obtenir le module Config\r\n            const Config = getModule(\"Config\");\r\n            if (!Config || typeof Config.init !== \"function\") {\r\n                throw new Error(\"[GeoLeaf.loadConfig] GeoLeaf.Config.init() is not available. Config module must be loaded.\");\r\n            }\r\n\r\n            // Normaliser les options de configuration\r\n            const options = this._normalizeConfigOptions(input);\r\n\r\n            // Annuler la requête précédente si elle existe\r\n            if (this.pendingPromise) {\r\n                this.cancelled = true;\r\n                if (Log) Log.info('[APIInitializationManager] Cancelling previous config load request');\r\n            }\r\n\r\n            this.cancelled = false;\r\n\r\n            // Charger la configuration\r\n            this.pendingPromise = Config.init(options);\r\n            const result = await this.pendingPromise;\r\n\r\n            this.pendingPromise = null;\r\n\r\n            if (this.cancelled) {\r\n                if (Log) Log.info('[APIInitializationManager] Config load was cancelled');\r\n                return null;\r\n            }\r\n\r\n            if (Log) Log.info('[APIInitializationManager] Configuration loaded successfully');\r\n            return result;\r\n\r\n        } catch (error) {\r\n            this.stats.errors++;\r\n            this.pendingPromise = null;\r\n            if (Log) Log.error('[APIInitializationManager] Config loading failed:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Change le thème de l'interface\r\n     * @param {string} theme - Nom du thème\r\n     * @param {Function} getModule - Fonction d'accès aux modules\r\n     * @returns {boolean} Succès du changement\r\n     */\r\n    setTheme(theme, getModule) {\r\n        try {\r\n            if (Log) Log.info(`[APIInitializationManager] Setting theme: ${theme}`);\r\n\r\n            // Validation\r\n            if (!theme || typeof theme !== 'string') {\r\n                throw new Error('Theme name must be a non-empty string');\r\n            }\r\n\r\n            if (!getModule || typeof getModule !== 'function') {\r\n                throw new Error('getModule function is required');\r\n            }\r\n\r\n            // Obtenir le module UI\r\n            const UI = getModule(\"UI\");\r\n            if (!UI) {\r\n                throw new Error(\"[GeoLeaf.setTheme] GeoLeaf.UI is not available. UI module must be loaded.\");\r\n            }\r\n\r\n            // Appliquer le thème - utilise applyTheme comme dans geoleaf.ui.js\r\n            let result = false;\r\n            if (typeof UI.applyTheme === 'function') {\r\n                result = UI.applyTheme(theme);\r\n            } else if (typeof UI.setTheme === 'function') {\r\n                result = UI.setTheme(theme);\r\n            } else if (typeof UI.theme === 'function') {\r\n                result = UI.theme(theme);\r\n            } else {\r\n                throw new Error('UI module does not provide applyTheme, setTheme or theme method');\r\n            }\r\n\r\n            if (Log) Log.info(`[APIInitializationManager] Theme '${theme}' applied successfully`);\r\n            return result;\r\n\r\n        } catch (error) {\r\n            this.stats.errors++;\r\n            if (Log) Log.error(`[APIInitializationManager] Failed to set theme '${theme}':`, error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Valide les paramètres d'initialisation\r\n     * @private\r\n     */\r\n    _validateInitParams(options, getModule) {\r\n        if (!options || typeof options !== \"object\") {\r\n            return { valid: false, error: \"[GeoLeaf.init] An options object is required.\" };\r\n        }\r\n\r\n        if (!getModule || typeof getModule !== 'function') {\r\n            return { valid: false, error: \"getModule function is required\" };\r\n        }\r\n\r\n        return { valid: true };\r\n    }\r\n\r\n    /**\r\n     * Normalise les options d'initialisation\r\n     * @private\r\n     */\r\n    _normalizeInitOptions(options) {\r\n        // Mode \"structuré\" (recommandé) : options.map / options.ui\r\n        let mapOpts = options.map || {};\r\n        let uiOpts = options.ui || {};\r\n\r\n        // Mode \"aplati\" (legacy) : target/mapId / center / zoom / theme à la racine\r\n        if (!options.map) {\r\n            mapOpts = {\r\n                target: options.target || options.mapId,\r\n                center: options.center,\r\n                zoom: options.zoom\r\n            };\r\n            uiOpts = {\r\n                theme: options.theme\r\n            };\r\n        }\r\n\r\n        // Validation du target\r\n        const target = mapOpts.target || mapOpts.mapId;\r\n        if (!target) {\r\n            throw new Error(\"[GeoLeaf.init] The 'map.target' (or 'target'/'mapId') option is required.\");\r\n        }\r\n\r\n        // Récupérer les constantes par défaut\r\n        const CONSTANTS = _g.GeoLeaf.CONSTANTS || {};\r\n        const center = Array.isArray(mapOpts.center) ? mapOpts.center : CONSTANTS.DEFAULT_CENTER || [0, 0];\r\n        const zoom = Number.isFinite(mapOpts.zoom) ? mapOpts.zoom : CONSTANTS.DEFAULT_ZOOM || 12;\r\n        const theme = uiOpts.theme || mapOpts.theme || \"light\";\r\n\r\n        // Adapter à la signature Core.init\r\n        return {\r\n            mapId: String(target), // Core.init attend 'mapId' pas 'target'\r\n            center,\r\n            zoom,\r\n            theme,\r\n            mapOptions: mapOpts.mapOptions || {} // Forward raw Leaflet options (maxBounds, etc.)\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Normalise les options de configuration\r\n     * @private\r\n     */\r\n    _normalizeConfigOptions(input) {\r\n        if (typeof input === 'string') {\r\n            // URL string\r\n            return {\r\n                source: 'url',\r\n                url: input,\r\n                autoEvent: true\r\n            };\r\n        } else if (input && typeof input === 'object') {\r\n            // Configuration object\r\n            return {\r\n                source: input.url ? 'url' : 'data',\r\n                url: input.url,\r\n                data: input.data,\r\n                profileId: input.profileId,\r\n                autoEvent: input.autoEvent !== false, // true par défaut\r\n                ...input\r\n            };\r\n        } else {\r\n            throw new Error('Configuration input must be a URL string or options object');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Obtient les statistiques du manager\r\n     * @returns {Object}\r\n     */\r\n    getStats() {\r\n        return {\r\n            ...this.stats,\r\n            isReady: this.isReady,\r\n            hasPendingRequest: !!this.pendingPromise\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Réinitialise le manager\r\n     */\r\n    reset() {\r\n        if (this.pendingPromise) {\r\n            this.cancelled = true;\r\n        }\r\n\r\n        this.pendingPromise = null;\r\n        this.cancelled = false;\r\n        this.stats = {\r\n            initCalls: 0,\r\n            configLoads: 0,\r\n            errors: 0\r\n        };\r\n\r\n        if (Log) Log.info('[APIInitializationManager] Manager reset');\r\n    }\r\n}\r\n\r\nexport { APIInitializationManager };\r\n","/**\r\n * API Module Manager - Sprint 4.3 (Version Robuste)\r\n * Gestionnaire centralisé d'accès aux modules GeoLeaf\r\n * @module APIModuleManager\r\n */\r\n\"use strict\";\r\n\r\nimport { Log } from '../log/index.js';\r\nconst _g = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : {};\r\n_g.GeoLeaf = _g.GeoLeaf || {};\r\n\r\n\r\n/**\r\n * Gestionnaire d'accès aux modules GeoLeaf\r\n */\r\nclass APIModuleManager {\r\n    constructor() {\r\n        this.modules = new Map();\r\n        this.aliases = new Map();\r\n        this.isInitialized = false;\r\n        this.stats = {\r\n            totalModules: 0,\r\n            accessCount: 0,\r\n            errors: 0\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Initialise le gestionnaire avec les modules existants\r\n     * @returns {boolean} Succès de l'initialisation\r\n     */\r\n    init() {\r\n        try {\r\n            if (this.isInitialized) {\r\n                if (Log) Log.debug('[APIModuleManager] Already initialized');\r\n                return true;\r\n            }\r\n\r\n            if (Log) Log.info('[APIModuleManager] Initializing module manager');\r\n\r\n            // Scanner tous les modules disponibles dans le namespace GeoLeaf\r\n            this._scanExistingModules();\r\n\r\n            // Configurer les alias pour compatibilité\r\n            this._setupAliases();\r\n\r\n            this.isInitialized = true;\r\n\r\n            if (Log) Log.info(`[APIModuleManager] Initialized with ${this.stats.totalModules} modules`);\r\n            return true;\r\n\r\n        } catch (error) {\r\n            this.stats.errors++;\r\n            if (Log) Log.error('[APIModuleManager] Initialization failed:', error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Scanner les modules existants dans GeoLeaf\r\n     * @private\r\n     */\r\n    _scanExistingModules() {\r\n        if (!_g.GeoLeaf) return;\r\n\r\n        const moduleList = [\r\n            'Core', 'UI', 'Config', 'Baselayers', 'BaseLayers',\r\n            'POI', 'GeoJSON', 'Route', 'Legend', 'LayerManager',\r\n            'Storage', 'Filters', 'Log', 'Security', 'Utils',\r\n            'Constants', 'Validators', 'Errors'\r\n        ];\r\n\r\n        moduleList.forEach(name => {\r\n            if (_g.GeoLeaf[name]) {\r\n                this.modules.set(name, _g.GeoLeaf[name]);\r\n                this.stats.totalModules++;\r\n            }\r\n        });\r\n\r\n        // Scanner les modules privés (préfixe _)\r\n        Object.keys(_g.GeoLeaf).forEach(key => {\r\n            if (key.startsWith('_') && !this.modules.has(key)) {\r\n                this.modules.set(key, _g.GeoLeaf[key]);\r\n                this.stats.totalModules++;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Configure les alias pour compatibilité\r\n     * @private\r\n     */\r\n    _setupAliases() {\r\n        const aliases = {\r\n            'Baselayers': 'BaseLayers',\r\n            'BaseLayers': 'Baselayers',\r\n            'Logger': 'Log',\r\n            'Log': 'Logger'\r\n        };\r\n\r\n        Object.entries(aliases).forEach(([alias, target]) => {\r\n            if (this.modules.has(target)) {\r\n                this.aliases.set(alias, target);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Obtient un module par nom\r\n     * @param {string} name - Nom du module\r\n     * @returns {*} Module ou null si non trouvé\r\n     */\r\n    getModule(name) {\r\n        try {\r\n            this.stats.accessCount++;\r\n\r\n            if (!name || typeof name !== 'string') {\r\n                if (Log) Log.warn(`[APIModuleManager] Invalid module name:`, name);\r\n                this.stats.errors++;\r\n                return null;\r\n            }\r\n\r\n            // Recherche directe\r\n            if (this.modules.has(name)) {\r\n                return this.modules.get(name);\r\n            }\r\n\r\n            // Recherche par alias\r\n            if (this.aliases.has(name)) {\r\n                const targetName = this.aliases.get(name);\r\n                return this.modules.get(targetName);\r\n            }\r\n\r\n            // Fallback vers accès global direct\r\n            if (_g.GeoLeaf && _g.GeoLeaf[name]) {\r\n                // Ajouter à notre cache pour les prochains accès\r\n                this.modules.set(name, _g.GeoLeaf[name]);\r\n                this.stats.totalModules++;\r\n                return _g.GeoLeaf[name];\r\n            }\r\n\r\n            // Module non trouvé\r\n            if (Log) Log.debug(`[APIModuleManager] Module '${name}' not found`);\r\n            return null;\r\n\r\n        } catch (error) {\r\n            this.stats.errors++;\r\n            if (Log) Log.error(`[APIModuleManager] Error accessing module '${name}':`, error);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Enregistre manuellement un module\r\n     * @param {string} name - Nom du module\r\n     * @param {*} module - Instance du module\r\n     */\r\n    registerModule(name, module) {\r\n        try {\r\n            if (!name || typeof name !== 'string') {\r\n                throw new Error('Module name must be a non-empty string');\r\n            }\r\n\r\n            if (!module) {\r\n                throw new Error('Module cannot be null or undefined');\r\n            }\r\n\r\n            this.modules.set(name, module);\r\n            this.stats.totalModules++;\r\n\r\n            if (Log) Log.debug(`[APIModuleManager] Module '${name}' registered`);\r\n            return true;\r\n\r\n        } catch (error) {\r\n            this.stats.errors++;\r\n            if (Log) Log.error(`[APIModuleManager] Failed to register module '${name}':`, error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Vérifie si un module existe\r\n     * @param {string} name - Nom du module\r\n     * @returns {boolean}\r\n     */\r\n    hasModule(name) {\r\n        try {\r\n            return this.modules.has(name) ||\r\n                   this.aliases.has(name) ||\r\n                   !!(_g.GeoLeaf && _g.GeoLeaf[name]);\r\n        } catch (error) {\r\n            if (Log) Log.error(`[APIModuleManager] Error checking module '${name}':`, error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Obtient la liste des modules disponibles\r\n     * @returns {Array<string>}\r\n     */\r\n    getModuleList() {\r\n        // Perf 6.3.2: O(n) via Set instead of O(n²) via Array.includes() in forEach loop\r\n        const moduleNameSet = new Set(this.modules.keys());\r\n\r\n        // Ajouter les modules du namespace global non encore dans notre cache\r\n        if (_g.GeoLeaf) {\r\n            Object.keys(_g.GeoLeaf).forEach(key => {\r\n                moduleNameSet.add(key);\r\n            });\r\n        }\r\n\r\n        return Array.from(moduleNameSet).sort();\r\n    }\r\n\r\n    /**\r\n     * Obtient les statistiques d'usage\r\n     * @returns {Object}\r\n     */\r\n    getStats() {\r\n        return {\r\n            ...this.stats,\r\n            cachedModules: this.modules.size,\r\n            aliases: this.aliases.size,\r\n            isInitialized: this.isInitialized\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Rafraîchit le cache des modules\r\n     */\r\n    refresh() {\r\n        if (Log) Log.info('[APIModuleManager] Refreshing module cache');\r\n\r\n        this.modules.clear();\r\n        this.aliases.clear();\r\n        this.stats.totalModules = 0;\r\n\r\n        this._scanExistingModules();\r\n        this._setupAliases();\r\n    }\r\n\r\n    /**\r\n     * Réinitialise le gestionnaire\r\n     */\r\n    reset() {\r\n        this.modules.clear();\r\n        this.aliases.clear();\r\n        this.isInitialized = false;\r\n        this.stats = {\r\n            totalModules: 0,\r\n            accessCount: 0,\r\n            errors: 0\r\n        };\r\n\r\n        if (Log) Log.info('[APIModuleManager] Manager reset');\r\n    }\r\n}\r\n\r\nexport { APIModuleManager };\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf Helpers - Performance optimization & DOM utilities\r\n * @module helpers/dom-helpers\r\n */\r\n\r\n\"use strict\";\r\n\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n_g.GeoLeaf = _g.GeoLeaf || {};\r\n\r\n/**\r\n * ========================================\r\n * DOM HELPERS\r\n * ========================================\r\n */\r\n\r\n/**\r\n * Safely get element by ID\r\n * @param {string} id - Element ID\r\n * @returns {HTMLElement|null}\r\n */\r\nfunction getElementById(id) {\r\n    if (!id || typeof id !== \"string\") return null;\r\n    return document.getElementById(id);\r\n}\r\n\r\n/**\r\n * Safely query selector\r\n * @param {string} selector - CSS selector\r\n * @param {HTMLElement} parent - Parent element (default: document)\r\n * @returns {HTMLElement|null}\r\n */\r\nfunction querySelector(selector, parent = document) {\r\n    if (!selector || typeof selector !== \"string\") return null;\r\n    try {\r\n        return parent.querySelector(selector);\r\n    } catch (e) {\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Safely query all selectors\r\n * @param {string} selector - CSS selector\r\n * @param {HTMLElement} parent - Parent element (default: document)\r\n * @returns {Array<HTMLElement>}\r\n */\r\nfunction querySelectorAll(selector, parent = document) {\r\n    if (!selector || typeof selector !== \"string\") return [];\r\n    try {\r\n        return Array.from(parent.querySelectorAll(selector));\r\n    } catch (e) {\r\n        return [];\r\n    }\r\n}\r\n\r\n/**\r\n * Create element with attributes and content\r\n * @param {string} tag - HTML tag name\r\n * @param {object} options - Element options\r\n * @returns {HTMLElement}\r\n */\r\nfunction createElement(tag, options = {}) {\r\n    const element = document.createElement(tag);\r\n\r\n    const {\r\n        className,\r\n        id,\r\n        attributes = {},\r\n        dataset = {},\r\n        styles = {},\r\n        textContent,\r\n        innerHTML,\r\n        children = [],\r\n        ...otherProps\r\n    } = options;\r\n\r\n    if (className) element.className = className;\r\n    if (id) element.id = id;\r\n\r\n    Object.keys(attributes).forEach((key) => {\r\n        element.setAttribute(key, attributes[key]);\r\n    });\r\n\r\n    Object.keys(dataset).forEach((key) => {\r\n        element.dataset[key] = dataset[key];\r\n    });\r\n\r\n    Object.keys(styles).forEach((key) => {\r\n        element.style[key] = styles[key];\r\n    });\r\n\r\n    Object.keys(otherProps).forEach((key) => {\r\n        if (key === \"ariaLabel\") {\r\n            element.setAttribute(\"aria-label\", otherProps[key]);\r\n        } else if (key in element) {\r\n            element[key] = otherProps[key];\r\n        } else {\r\n            element.setAttribute(key, otherProps[key]);\r\n        }\r\n    });\r\n\r\n    if (innerHTML) {\r\n        const DOMSecurity = _g.GeoLeaf?.DOMSecurity;\r\n        if (DOMSecurity && typeof DOMSecurity.setSafeHTML === \"function\") {\r\n            DOMSecurity.setSafeHTML(element, innerHTML);\r\n        } else {\r\n            const Log = _g.GeoLeaf?.Log;\r\n            if (Log)\r\n                Log.warn(\r\n                    \"[GeoLeaf.Helpers] createElement with innerHTML - DOMSecurity not available\"\r\n                );\r\n            element.innerHTML = innerHTML;\r\n        }\r\n    } else if (textContent) {\r\n        element.textContent = textContent;\r\n    }\r\n\r\n    if (children.length > 0) {\r\n        children.forEach((child) => {\r\n            if (child instanceof HTMLElement) {\r\n                element.appendChild(child);\r\n            }\r\n        });\r\n    }\r\n\r\n    return element;\r\n}\r\n\r\n/**\r\n * Add class to element\r\n */\r\nfunction addClass(element, ...classNames) {\r\n    if (!element || !element.classList) return;\r\n    const allClasses = classNames.flatMap((cn) => cn.split(\" \")).filter(Boolean);\r\n    element.classList.add(...allClasses);\r\n}\r\n\r\n/**\r\n * Remove class from element\r\n */\r\nfunction removeClass(element, ...classNames) {\r\n    if (!element || !element.classList) return;\r\n    const allClasses = classNames.flatMap((cn) => cn.split(\" \")).filter(Boolean);\r\n    element.classList.remove(...allClasses);\r\n}\r\n\r\n/**\r\n * Toggle class on element\r\n */\r\nfunction toggleClass(element, className, force) {\r\n    if (!element || !element.classList) return;\r\n    return element.classList.toggle(className, force);\r\n}\r\n\r\n/**\r\n * Check if element has class\r\n */\r\nfunction hasClass(element, className) {\r\n    if (!element || !element.classList) return false;\r\n    return element.classList.contains(className);\r\n}\r\n\r\n/**\r\n * Remove element from DOM\r\n */\r\nfunction removeElement(element) {\r\n    if (element && element.parentNode) {\r\n        element.parentNode.removeChild(element);\r\n    }\r\n}\r\n\r\n/**\r\n * ========================================\r\n * PERFORMANCE HELPERS\r\n * ========================================\r\n */\r\n\r\nfunction requestFrame(callback) {\r\n    return window.requestAnimationFrame(callback);\r\n}\r\n\r\nfunction cancelFrame(id) {\r\n    window.cancelAnimationFrame(id);\r\n}\r\n\r\n/**\r\n * ========================================\r\n * ABORT CONTROLLER HELPERS\r\n * ========================================\r\n */\r\n\r\nfunction createAbortController(timeout) {\r\n    const controller = new AbortController();\r\n    if (timeout) {\r\n        setTimeout(() => controller.abort(), timeout);\r\n    }\r\n    return controller;\r\n}\r\n\r\n/**\r\n * ========================================\r\n * LAZY LOADING HELPERS\r\n * ========================================\r\n */\r\n\r\nfunction lazyLoadImage(img, options = { threshold: 0.1 }) {\r\n    if (!(\"IntersectionObserver\" in window)) {\r\n        const src = img.dataset.src || img.getAttribute(\"data-src\");\r\n        if (src) img.src = src;\r\n        return;\r\n    }\r\n\r\n    const observer = new IntersectionObserver((entries) => {\r\n        entries.forEach((entry) => {\r\n            if (entry.isIntersecting) {\r\n                const lazyImg = entry.target;\r\n                const src = lazyImg.dataset.src || lazyImg.getAttribute(\"data-src\");\r\n                if (src) lazyImg.src = src;\r\n                observer.unobserve(lazyImg);\r\n            }\r\n        });\r\n    }, options);\r\n\r\n    observer.observe(img);\r\n}\r\n\r\nfunction lazyExecute(callback, timeout = 100) {\r\n    if (\"requestIdleCallback\" in window) {\r\n        requestIdleCallback(callback, { timeout });\r\n    } else {\r\n        setTimeout(callback, timeout);\r\n    }\r\n}\r\n\r\n/**\r\n * ========================================\r\n * MEMORY OPTIMIZATION HELPERS\r\n * ========================================\r\n */\r\n\r\nfunction clearObject(obj) {\r\n    if (!obj || typeof obj !== \"object\") return;\r\n    Object.keys(obj).forEach((key) => {\r\n        delete obj[key];\r\n    });\r\n}\r\n\r\nfunction createFragment(children = []) {\r\n    const fragment = document.createDocumentFragment();\r\n    children.forEach((child) => {\r\n        if (child instanceof HTMLElement) {\r\n            fragment.appendChild(child);\r\n        }\r\n    });\r\n    return fragment;\r\n}\r\n\r\n/**\r\n * ========================================\r\n * EVENT HELPERS\r\n * ========================================\r\n */\r\n\r\nfunction addEventListener(element, event, handler, options) {\r\n    if (!element || !event || !handler) return () => {};\r\n    element.addEventListener(event, handler, options);\r\n    return () => {\r\n        element.removeEventListener(event, handler, options);\r\n    };\r\n}\r\n\r\nfunction addEventListeners(element, events, options) {\r\n    if (!element || !events) return () => {};\r\n    const cleanups = [];\r\n    Object.keys(events).forEach((eventName) => {\r\n        cleanups.push(addEventListener(element, eventName, events[eventName], options));\r\n    });\r\n    return () => {\r\n        cleanups.forEach((cleanup) => cleanup());\r\n    };\r\n}\r\n\r\nfunction delegateEvent(parent, event, selector, handler) {\r\n    const delegatedHandler = (e) => {\r\n        const target = e.target;\r\n        if (target && target.matches && target.matches(selector)) {\r\n            handler.call(target, e);\r\n        }\r\n    };\r\n    return addEventListener(parent, event, delegatedHandler);\r\n}\r\n\r\n/**\r\n * ========================================\r\n * UTILITY HELPERS\r\n * ========================================\r\n */\r\n\r\nfunction deepClone(obj, seen = new WeakMap()) {\r\n    if (obj === null || typeof obj !== \"object\") return obj;\r\n    if (seen.has(obj)) return seen.get(obj);\r\n    if (obj instanceof Date) return new Date(obj.getTime());\r\n    if (obj instanceof RegExp) return new RegExp(obj.source, obj.flags);\r\n    if (obj instanceof Array) {\r\n        const cloned = [];\r\n        seen.set(obj, cloned);\r\n        obj.forEach((item) => cloned.push(deepClone(item, seen)));\r\n        return cloned;\r\n    }\r\n    const cloned = {};\r\n    seen.set(obj, cloned);\r\n    Object.keys(obj).forEach((key) => {\r\n        cloned[key] = deepClone(obj[key], seen);\r\n    });\r\n    return cloned;\r\n}\r\n\r\nfunction isEmpty(value) {\r\n    if (value == null) return true;\r\n    if (typeof value === \"string\") return value.trim().length === 0;\r\n    if (Array.isArray(value)) return value.length === 0;\r\n    if (typeof value === \"object\") return Object.keys(value).length === 0;\r\n    return false;\r\n}\r\n\r\nfunction wait(ms) {\r\n    return new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n\r\nasync function retryWithBackoff(fn, maxRetries = 3, delay = 1000) {\r\n    let lastError;\r\n    for (let i = 0; i < maxRetries; i++) {\r\n        try {\r\n            return await fn();\r\n        } catch (error) {\r\n            lastError = error;\r\n            if (i < maxRetries - 1) {\r\n                const backoffDelay = delay * Math.pow(2, i);\r\n                await wait(backoffDelay);\r\n            }\r\n        }\r\n    }\r\n    throw lastError;\r\n}\r\n\r\n/**\r\n * ========================================\r\n * PUBLIC API\r\n * ========================================\r\n */\r\n\r\nconst Helpers = {\r\n    // DOM Helpers\r\n    getElementById,\r\n    querySelector,\r\n    querySelectorAll,\r\n    createElement,\r\n    addClass,\r\n    removeClass,\r\n    toggleClass,\r\n    hasClass,\r\n    removeElement,\r\n\r\n    // Performance Helpers\r\n    requestFrame,\r\n    cancelFrame,\r\n\r\n    // AbortController Utilities\r\n    createAbortController,\r\n\r\n    // Lazy Loading\r\n    lazyLoadImage,\r\n    lazyExecute,\r\n\r\n    // Memory Optimization\r\n    clearObject,\r\n    createFragment,\r\n\r\n    // Event Helpers\r\n    addEventListener,\r\n    addEventListeners,\r\n    delegateEvent,\r\n\r\n    // Utility Functions\r\n    deepClone,\r\n    isEmpty,\r\n    wait,\r\n    retryWithBackoff,\r\n};\r\n\r\nexport { Helpers };\r\n","/**\n * GeoLeaf Table – Sort Utilities\n * Pure sort helpers extracted from geoleaf.table.js (Phase 8.2.2)\n *\n * @module table/sort\n */\n\"use strict\";\n\n/**\n * Trie le tableau `cachedData` en place selon `sortState`.\n * Ne fait rien si aucun champ de tri n'est défini.\n *\n * @param {Array}    cachedData      - Données GeoJSON features en cache (mutées en place)\n * @param {{field:string|null, direction:string|null}} sortState - État de tri courant\n * @param {Function} getNestedValue  - Fonction `(obj, path) => value`\n */\nexport function sortInPlace(cachedData, sortState, getNestedValue) {\n    if (!sortState.field || !sortState.direction) return;\n\n    const { field, direction } = sortState;\n\n    cachedData.sort((a, b) => {\n        const valA = getNestedValue(a, field);\n        const valB = getNestedValue(b, field);\n\n        if (valA == null && valB == null) return 0;\n        if (valA == null) return direction === \"asc\" ? 1 : -1;\n        if (valB == null) return direction === \"asc\" ? -1 : 1;\n\n        let result = 0;\n        if (typeof valA === \"number\" && typeof valB === \"number\") {\n            result = valA - valB;\n        } else {\n            result = String(valA).localeCompare(String(valB));\n        }\n\n        return direction === \"asc\" ? result : -result;\n    });\n}\n\n/**\n * Calcule le prochain état de tri d'après un clic sur une colonne.\n * Cycle : (aucun) → asc → desc → (aucun).\n *\n * @param {{field:string|null, direction:string|null}} sortState - État courant\n * @param {string} field - Champ cliqué\n * @returns {{field:string|null, direction:string|null}} Nouvel état (immutable)\n */\nexport function nextSortState(sortState, field) {\n    if (sortState.field === field) {\n        if (sortState.direction === \"asc\") return { field, direction: \"desc\" };\n        if (sortState.direction === \"desc\") return { field: null, direction: null };\n        return { field, direction: \"asc\" };\n    }\n    return { field, direction: \"asc\" };\n}\n","/**\n * GeoLeaf Table – Export Utilities\n * Pure export helpers extracted from geoleaf.table.js (Phase 8.2.2)\n *\n * @module table/export\n */\n\"use strict\";\n\n/**\n * Résout l'ID d'une feature GeoJSON de façon cohérente avec le renderer.\n * Miroir exact de la logique utilisée dans table/renderer.js.\n *\n * @param {Object} feature        - Feature GeoJSON\n * @param {number} syntheticIndex - Index de fallback (0-based)\n * @returns {string} ID résolu\n */\nexport function resolveFeatureId(feature, syntheticIndex) {\n    // 1. ID standard GeoJSON\n    if (feature.id != null && feature.id !== \"\") return String(feature.id);\n\n    const p = feature.properties;\n    if (!p) return \"__gl_row_\" + syntheticIndex;\n\n    // 2. Propriétés d'identifiant courantes\n    if (p.id      != null && p.id      !== \"\") return String(p.id);\n    if (p.fid     != null && p.fid     !== \"\") return String(p.fid);\n    if (p.osm_id  != null && p.osm_id  !== \"\") return String(p.osm_id);\n    if (p.OBJECTID!= null && p.OBJECTID!== \"\") return String(p.OBJECTID);\n    if (p.SITE_ID != null && p.SITE_ID !== \"\") return String(p.SITE_ID);\n    if (p.code    != null && p.code    !== \"\") return String(p.code);\n    if (p.IN1     != null && p.IN1     !== \"\") return String(p.IN1);\n\n    // 3. Fallback : ID synthétique\n    return \"__gl_row_\" + syntheticIndex;\n}\n\n/**\n * Construit une FeatureCollection GeoJSON à partir d'un tableau de features.\n *\n * @param {Array} features - Les features GeoJSON sélectionnées\n * @returns {{type: \"FeatureCollection\", features: Array}} FeatureCollection\n */\nexport function buildGeoJSONCollection(features) {\n    return {\n        type: \"FeatureCollection\",\n        features: features.map(f => ({\n            type: \"Feature\",\n            properties: f.properties || {},\n            geometry: f.geometry || null\n        }))\n    };\n}\n\n/**\n * Déclenche le téléchargement d'un fichier GeoJSON dans le navigateur.\n *\n * @param {Object} geojson   - Objet GeoJSON à sérialiser\n * @param {string} layerId   - ID de la couche (utilisé comme préfixe du nom de fichier)\n */\nexport function downloadGeoJSON(geojson, layerId) {\n    const json = JSON.stringify(geojson, null, 2);\n    const blob = new Blob([json], { type: \"application/geo+json\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = (layerId || \"export\") + \"_selection.geojson\";\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n}\n","/**\r\n * GeoLeaf Contract — Table (lazy-chunk boundary)\r\n *\r\n * Interface ESM pure pour que table/panel.js puisse appeler les méthodes\r\n * du module Table (geoleaf.table.js) sans couplage runtime.\r\n *\r\n * Phase 10-E — Pattern G : contrat de chunk Table.\r\n *\r\n * CYCLE ROMPU :\r\n *   geoleaf.table.js → table/panel.js (static import, inchangé)\r\n *   table/panel.js   → TableContract  (registration pattern)\r\n *   geoleaf.table.js appelle TableContract.register(Table) au chargement\r\n *\r\n * USAGE dans panel.js :\r\n *   import { TableContract } from '../../../contracts/table.contract.js';\r\n *\r\n *   if (TableContract.isAvailable()) {\r\n *       TableContract.setLayer(layerId);\r\n *   }\r\n *\r\n * REGISTRATION dans geoleaf.table.js (côté Table) :\r\n *   import { TableContract } from '../../contracts/table.contract.js';\r\n *   TableContract.register(TableModule);\r\n */\r\n\"use strict\";\r\n\r\n/** @type {Object|null} */\r\nlet _table = null;\r\n/** @type {Object|null} */\r\nlet _panel = null;\r\n\r\n/**\r\n * Contrat d'interface pour le module Table.\r\n * Permet à panel.js d'appeler les méthodes Table sans importer geoleaf.table.js\r\n * (ce qui créerait un cycle).\r\n * @namespace TableContract\r\n */\r\nconst TableContract = {\r\n    /**\r\n     * Enregistre l'instance Table (appelé par geoleaf.table.js au chargement).\r\n     * @param {Object} tableInstance\r\n     * @param {Object} [panelInstance]\r\n     */\r\n    register(tableInstance, panelInstance) {\r\n        _table = tableInstance;\r\n        if (panelInstance) _panel = panelInstance;\r\n    },\r\n\r\n    /**\r\n     * Retourne true si Table est disponible.\r\n     * @returns {boolean}\r\n     */\r\n    isAvailable() {\r\n        return !!_table;\r\n    },\r\n\r\n    /**\r\n     * @param {string} layerId\r\n     */\r\n    setLayer(layerId) {\r\n        if (_table && typeof _table.setLayer === 'function') {\r\n            _table.setLayer(layerId);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Zoom sur la sélection courante.\r\n     */\r\n    zoomToSelection() {\r\n        if (_table && typeof _table.zoomToSelection === 'function') {\r\n            _table.zoomToSelection();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @param {boolean} active\r\n     */\r\n    highlightSelection(active) {\r\n        if (_table && typeof _table.highlightSelection === 'function') {\r\n            _table.highlightSelection(active);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Export de la sélection.\r\n     */\r\n    exportSelection() {\r\n        if (_table && typeof _table.exportSelection === 'function') {\r\n            _table.exportSelection();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Toggle visibilité du tableau.\r\n     */\r\n    toggle() {\r\n        if (_table && typeof _table.toggle === 'function') {\r\n            _table.toggle();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Affiche le tableau.\r\n     */\r\n    show() {\r\n        if (_table && typeof _table.show === 'function') {\r\n            _table.show();\r\n        }\r\n    },\r\n\r\n    // ── Selection API ──\r\n\r\n    /**\r\n     * @returns {string[]}\r\n     */\r\n    getSelectedIds() {\r\n        if (_table && typeof _table.getSelectedIds === 'function') {\r\n            return _table.getSelectedIds();\r\n        }\r\n        return [];\r\n    },\r\n\r\n    /**\r\n     * @param {string[]} ids\r\n     * @param {boolean} [fireEvent]\r\n     */\r\n    setSelection(ids, fireEvent) {\r\n        if (_table && typeof _table.setSelection === 'function') {\r\n            _table.setSelection(ids, fireEvent);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Clear la sélection.\r\n     */\r\n    clearSelection() {\r\n        if (_table && typeof _table.clearSelection === 'function') {\r\n            _table.clearSelection();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @param {string} field\r\n     */\r\n    sortByField(field) {\r\n        if (_table && typeof _table.sortByField === 'function') {\r\n            _table.sortByField(field);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Met à jour les boutons toolbar du panel.\r\n     * @param {number} selectedCount\r\n     */\r\n    updateToolbarButtons(selectedCount) {\r\n        if (_panel && typeof _panel.updateToolbarButtons === 'function') {\r\n            _panel.updateToolbarButtons(selectedCount);\r\n        }\r\n    },\r\n};\r\n\r\nexport { TableContract };\r\n","/**\n * GeoLeaf Table - Panel Module\n * Construction du bottom-sheet drawer pour le tableau\n */\n\"use strict\";\n\nimport { Log } from \"../log/index.js\";\nimport { DOMSecurity } from \"../utils/dom-security.js\";\nimport { LayerVisibilityManager } from \"../shared/layer-visibility-state.js\";\nimport { GeoJSONShared } from \"../geojson/shared.js\";\nimport { events as _events } from \"../utils/event-listener-manager.js\";\nimport { TableContract } from \"../../contracts/table.contract.js\";\n\nconst _TablePanel = {};\n_TablePanel._eventCleanups = [];\n\n/**\n * Crée le conteneur principal du tableau (bottom-sheet)\n * @param {L.Map} map - Instance de la carte Leaflet\n * @param {Object} config - Configuration du tableau\n * @returns {HTMLElement} Conteneur du tableau\n */\n_TablePanel.create = function (map, config) {\n    // Vérifier si le conteneur existe déj�?\n    let container = document.querySelector(\".gl-table-panel\");\n    if (container) {\n        return container;\n    }\n\n    // Créer le conteneur principal\n    container = document.createElement(\"div\");\n    container.className = \"gl-table-panel\";\n    container.style.height = config.defaultHeight || \"40%\";\n\n    // Ajouter la barre de redimensionnement si resizable\n    if (config.resizable) {\n        const resizeHandle = createResizeHandle(container, config);\n        container.appendChild(resizeHandle);\n    }\n\n    // Créer la barre d'outils (header)\n    const toolbar = createToolbar(map, config);\n    container.appendChild(toolbar);\n\n    // Créer le wrapper du tableau avec scroll\n    const tableWrapper = document.createElement(\"div\");\n    tableWrapper.className = \"gl-table-panel__wrapper\";\n    container.appendChild(tableWrapper);\n\n    // Créer le tableau vide (sera rempli par le renderer)\n    const table = document.createElement(\"table\");\n    table.className = \"gl-table-panel__table\";\n    tableWrapper.appendChild(table);\n\n    // Ajouter au body\n    document.body.appendChild(container);\n\n    // Créer le bouton flottant pour afficher le tableau (quand masqué)\n    createFloatingShowButton();\n\n    Log.info(\"[TablePanel] Panneau créé avec succès\");\n    return container;\n};\n\n/**\n * Crée la barre de redimensionnement\n * @param {HTMLElement} container - Conteneur du tableau\n * @param {Object} config - Configuration\n * @returns {HTMLElement}\n * @private\n */\nfunction createResizeHandle(container, config) {\n    const handle = document.createElement(\"div\");\n    handle.className = \"gl-table-panel__resize-handle\";\n    const resizeBar = document.createElement(\"div\");\n    resizeBar.className = \"gl-table-panel__resize-bar\";\n    handle.appendChild(resizeBar);\n\n    let isResizing = false;\n    let startY = 0;\n    let startHeight = 0;\n\n    const events = _events;\n    const mouseDownHandler = (e) => {\n        isResizing = true;\n        startY = e.clientY;\n        startHeight = container.offsetHeight;\n        document.body.style.cursor = \"ns-resize\";\n        document.body.style.userSelect = \"none\";\n        e.preventDefault();\n    };\n\n    const mouseMoveHandler = (e) => {\n        if (!isResizing) return;\n        const delta = startY - e.clientY;\n        let newHeight = startHeight + delta;\n        const viewportHeight = window.innerHeight;\n        const minHeightPx = parseHeight(config.minHeight || \"20%\", viewportHeight);\n        const maxHeightPx = parseHeight(config.maxHeight || \"80%\", viewportHeight);\n        newHeight = Math.max(minHeightPx, Math.min(maxHeightPx, newHeight));\n        container.style.height = newHeight + \"px\";\n    };\n\n    const mouseUpHandler = () => {\n        if (isResizing) {\n            isResizing = false;\n            document.body.style.cursor = \"\";\n            document.body.style.userSelect = \"\";\n        }\n    };\n\n    if (events) {\n        _TablePanel._eventCleanups.push(\n            events.on(handle, \"mousedown\", mouseDownHandler, false, \"TablePanel.resizeMouseDown\")\n        );\n        _TablePanel._eventCleanups.push(\n            events.on(document, \"mousemove\", mouseMoveHandler, false, \"TablePanel.resizeMouseMove\")\n        );\n        _TablePanel._eventCleanups.push(\n            events.on(document, \"mouseup\", mouseUpHandler, false, \"TablePanel.resizeMouseUp\")\n        );\n    } else {\n        handle.addEventListener(\"mousedown\", mouseDownHandler);\n        document.addEventListener(\"mousemove\", mouseMoveHandler);\n        document.addEventListener(\"mouseup\", mouseUpHandler);\n    }\n\n    return handle;\n}\n\n/**\n * Parse une valeur de hauteur (%, px, vh) en pixels\n * @param {string} value - Valeur �?  parser (\"40%\", \"300px\", \"50vh\")\n * @param {number} referenceHeight - Hauteur de référence pour les %\n * @returns {number} Hauteur en pixels\n * @private\n */\nfunction parseHeight(value, referenceHeight) {\n    if (typeof value === \"number\") return value;\n    if (typeof value !== \"string\") return 300;\n\n    if (value.endsWith(\"%\")) {\n        const percent = parseFloat(value);\n        return (referenceHeight * percent) / 100;\n    } else if (value.endsWith(\"px\")) {\n        return parseFloat(value);\n    } else if (value.endsWith(\"vh\")) {\n        const vh = parseFloat(value);\n        return (window.innerHeight * vh) / 100;\n    }\n    return 300; // Défaut\n}\n\n/**\n * Crée la barre d'outils du tableau\n * @param {L.Map} map - Instance de la carte\n * @param {Object} config - Configuration\n * @returns {HTMLElement}\n * @private\n */\nfunction createToolbar(map, config) {\n    const toolbar = document.createElement(\"div\");\n    toolbar.className = \"gl-table-panel__toolbar\";\n\n    // Sélecteur de couche\n    const layerSelect = createLayerSelector();\n    toolbar.appendChild(layerSelect);\n\n    // Champ de recherche\n    const searchInput = createSearchInput();\n    toolbar.appendChild(searchInput);\n\n    // Bouton Zoom sur la sélection\n    const zoomButton = createButton(\"Zoom sur sélection\", \"zoom\", () => {\n        TableContract.zoomToSelection();\n    });\n    zoomButton.disabled = true;\n    zoomButton.setAttribute(\"data-table-btn\", \"zoom\");\n    toolbar.appendChild(zoomButton);\n\n    // Bouton Surbrillance\n    const highlightButton = createButton(\"Surbrillance\", \"highlight\", () => {\n        const isActive = highlightButton.classList.toggle(\"is-active\");\n        TableContract.highlightSelection(isActive);\n    });\n    highlightButton.disabled = true;\n    highlightButton.setAttribute(\"data-table-btn\", \"highlight\");\n    toolbar.appendChild(highlightButton);\n\n    // Bouton Export (si activé)\n    if (config.enableExportButton) {\n        const exportButton = createButton(\"Exporter\", \"export\", () => {\n            TableContract.exportSelection();\n        });\n        exportButton.disabled = true;\n        exportButton.setAttribute(\"data-table-btn\", \"export\");\n        toolbar.appendChild(exportButton);\n    }\n\n    // Spacer pour pousser le bouton toggle �?  droite\n    const spacer = document.createElement(\"div\");\n    spacer.style.flex = \"1\";\n    toolbar.appendChild(spacer);\n\n    // Bouton toggle (masquer/afficher le tableau)\n    const toggleBtn = createToggleButton();\n    toolbar.appendChild(toggleBtn);\n\n    return toolbar;\n}\n\n/**\n * Crée le sélecteur de couche\n * @returns {HTMLElement}\n * @private\n */\nfunction createLayerSelector() {\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"gl-table-panel__layer-selector\";\n\n    const select = document.createElement(\"select\");\n    select.id = \"geoleaf-table-layer-selector\";\n    select.name = \"geoleaf-table-layer-selector\";\n    select.className = \"gl-table-panel__select\";\n    select.setAttribute(\"data-table-layer-select\", \"\");\n\n    // Option par défaut\n    const defaultOption = document.createElement(\"option\");\n    defaultOption.value = \"\";\n    defaultOption.textContent = \"Sélectionner une couche...\";\n    select.appendChild(defaultOption);\n\n    // Population différée : les couches GeoJSON ne sont pas encore disponibles à la création du panel.\n    // refreshLayerSelector() est appelé via l'événement geoleaf:geojson:layers-loaded une fois\n    // le chargement asynchrone terminé.\n\n    // Événement de changement - avec cleanup tracking\n    const changeHandler = (e) => {\n        const layerId = e.target.value;\n        TableContract.setLayer(layerId);\n    };\n\n    const events = _events;\n    if (events) {\n        _TablePanel._eventCleanups.push(\n            events.on(select, \"change\", changeHandler, false, \"TablePanel.layerSelect\")\n        );\n    } else {\n        select.addEventListener(\"change\", changeHandler);\n    }\n\n    wrapper.appendChild(select);\n    return wrapper;\n}\n\n/**\n * Peuple le sélecteur avec les couches disponibles\n * @param {HTMLSelectElement} select - Élément select\n * @private\n */\nfunction populateLayerSelector(select) {\n    const allLayersMap = GeoJSONShared.getLayers();\n    if (!allLayersMap || allLayersMap.size === 0) {\n        Log.warn(\"[TablePanel] Module GeoJSON non disponible ou aucune couche\");\n        return;\n    }\n\n    const VisibilityManager = LayerVisibilityManager;\n\n    // Vérifier les options existantes pour éviter les doublons\n    const existingValues = new Set();\n    for (let i = 1; i < select.options.length; i++) {\n        existingValues.add(select.options[i].value);\n    }\n\n    let addedCount = 0;\n    allLayersMap.forEach((layerData, layerId) => {\n        if (\n            layerData &&\n            layerData.config &&\n            layerData.config.table &&\n            layerData.config.table.enabled\n        ) {\n            // Vérifier que la couche est visible sur la carte\n            let isVisible = true;\n            if (VisibilityManager && typeof VisibilityManager.getVisibilityState === \"function\") {\n                const visState = VisibilityManager.getVisibilityState(layerId);\n                isVisible = visState && visState.current === true;\n            } else if (layerData._visibility) {\n                isVisible = layerData._visibility.current === true;\n            }\n\n            if (!isVisible) {\n                return;\n            }\n\n            // N'ajouter que si pas déj�?  présent\n            if (!existingValues.has(layerId)) {\n                const option = document.createElement(\"option\");\n                option.value = layerId;\n                option.textContent = layerData.label || layerData.config?.title || layerId;\n                select.appendChild(option);\n                addedCount++;\n            }\n        }\n    });\n\n    if (addedCount > 0) {\n        Log.info(\"[TablePanel] Sélecteur de couche peuplé:\", addedCount, \"couches ajoutées\");\n    }\n}\n\n/**\n * Crée le champ de recherche\n * @returns {HTMLElement}\n * @private\n */\nfunction createSearchInput() {\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"gl-table-panel__search\";\n\n    const input = document.createElement(\"input\");\n    input.type = \"text\";\n    input.id = \"geoleaf-table-search-input\";\n    input.name = \"geoleaf-table-search-input\";\n    input.placeholder = \"Rechercher...\";\n    input.className = \"gl-table-panel__search-input\";\n    input.setAttribute(\"data-table-search\", \"\");\n\n    // Debounce la recherche pour éviter les appels trop fréquents\n    let timeout;\n    input.addEventListener(\"input\", (e) => {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => {\n            const searchText = e.target.value.trim().toLowerCase();\n            filterTableRows(searchText);\n        }, 300);\n    });\n\n    wrapper.appendChild(input);\n    return wrapper;\n}\n\n/**\n * Filtre les lignes du tableau selon le texte de recherche\n * @param {string} searchText - Texte �?  rechercher\n * @private\n */\nfunction filterTableRows(searchText) {\n    const table = document.querySelector(\".gl-table-panel__table tbody\");\n    if (!table) return;\n\n    const rows = table.querySelectorAll(\"tr\");\n    rows.forEach((row) => {\n        if (!searchText) {\n            row.style.display = \"\";\n            return;\n        }\n\n        const cells = row.querySelectorAll(\"td\");\n        let match = false;\n\n        cells.forEach((cell) => {\n            const text = cell.textContent.toLowerCase();\n            if (text.includes(searchText)) {\n                match = true;\n            }\n        });\n\n        row.style.display = match ? \"\" : \"none\";\n    });\n}\n\n/**\n * Crée un bouton générique\n * @param {string} label - Libellé du bouton\n * @param {string} icon - Classe d'icône (optionnel)\n * @param {Function} onClick - Callback au clic\n * @returns {HTMLElement}\n * @private\n */\nfunction createButton(label, icon, onClick) {\n    const button = document.createElement(\"button\");\n    button.className = \"gl-table-panel__btn\";\n    button.textContent = label;\n\n    if (icon) {\n        button.classList.add(\"gl-table-panel__btn--\" + icon);\n    }\n\n    if (onClick) {\n        if (_events) {\n            _TablePanel._eventCleanups.push(\n                _events.on(button, \"click\", onClick, false, \"TablePanel.button\")\n            );\n        } else {\n            button.addEventListener(\"click\", onClick);\n        }\n    }\n\n    return button;\n}\n\n/**\n * Cr?e le bouton toggle pour masquer le tableau (int?gr? dans le toolbar)\n * @returns {HTMLElement}\n * @private\n */\nfunction createToggleButton() {\n    const button = document.createElement(\"button\");\n    button.className = \"gl-table-panel__toggle-btn\";\n    button.title = \"Masquer le tableau\";\n    button.setAttribute(\"aria-label\", \"Masquer tableau\");\n\n    // Créer l'icône SVG (flèche vers le bas)\n    const icon = document.createElement(\"span\");\n    icon.className = \"gl-table-panel__toggle-btn__icon\";\n    // SAFE: SVG statique hardcodé, pas de données utilisateur\n    const downSvg = DOMSecurity.createSVGIcon(16, 16, \"M6 9l6 6 6-6\", {\n        stroke: \"currentColor\",\n        strokeWidth: \"6\",\n        fill: \"none\",\n    });\n    icon.appendChild(downSvg);\n    button.appendChild(icon);\n\n    const clickHandler = () => {\n        TableContract.toggle();\n    };\n\n    const events = _events;\n    if (events) {\n        _TablePanel._eventCleanups.push(\n            events.on(button, \"click\", clickHandler, false, \"TablePanel.toggleBtn\")\n        );\n    } else {\n        button.addEventListener(\"click\", clickHandler);\n    }\n\n    return button;\n}\n\n/**\n * Crée le bouton flottant pour afficher le tableau (visible quand tableau masqué)\n * @private\n */\nfunction createFloatingShowButton() {\n    const button = document.createElement(\"button\");\n    button.className = \"gl-table-panel__floating-show-btn\";\n    button.title = \"Afficher le tableau\";\n    button.setAttribute(\"aria-label\", \"Afficher tableau\");\n\n    // Créer l'icône SVG (flèche vers le haut)\n    const icon = document.createElement(\"span\");\n    icon.className = \"gl-table-panel__toggle-btn__icon\";\n    // SAFE: SVG statique hardcodé, pas de données utilisateur\n    const upSvg = DOMSecurity.createSVGIcon(16, 16, \"M18 15l-6-6-6 6\", {\n        stroke: \"currentColor\",\n        strokeWidth: \"6\",\n        fill: \"none\",\n    });\n    icon.appendChild(upSvg);\n    button.appendChild(icon);\n\n    const clickHandler = () => {\n        TableContract.show();\n    };\n\n    const events = _events;\n    if (events) {\n        _TablePanel._eventCleanups.push(\n            events.on(button, \"click\", clickHandler, false, \"TablePanel.floatingShowBtn\")\n        );\n    } else {\n        button.addEventListener(\"click\", clickHandler);\n    }\n\n    document.body.appendChild(button);\n}\n\n/**\n * Met �?  jour l'état des boutons de la toolbar selon la sélection\n * @param {number} selectedCount - Nombre d'entités sélectionnées\n */\n_TablePanel.updateToolbarButtons = function (selectedCount) {\n    const hasSelection = selectedCount > 0;\n\n    const zoomBtn = document.querySelector(\"[data-table-btn='zoom']\");\n    const highlightBtn = document.querySelector(\"[data-table-btn='highlight']\");\n    const exportBtn = document.querySelector(\"[data-table-btn='export']\");\n\n    if (zoomBtn) zoomBtn.disabled = !hasSelection;\n    if (highlightBtn) {\n        highlightBtn.disabled = !hasSelection;\n        // Si plus aucune sélection, désactiver la surbrillance\n        if (!hasSelection && highlightBtn.classList.contains(\"is-active\")) {\n            highlightBtn.classList.remove(\"is-active\");\n            TableContract.highlightSelection(false);\n        }\n    }\n    if (exportBtn) exportBtn.disabled = !hasSelection;\n};\n\n/**\n * Rafraîchit le sélecteur de couche (utile après chargement de nouvelles couches)\n */\n_TablePanel.refreshLayerSelector = function () {\n    const select = document.querySelector(\"[data-table-layer-select]\");\n    if (!select) return;\n\n    // Sauvegarder la valeur actuelle\n    const currentValue = select.value;\n\n    // Vider les options (sauf la première)\n    while (select.options.length > 1) {\n        select.remove(1);\n    }\n\n    // Re-peupler\n    populateLayerSelector(select);\n\n    // Vérifier si la valeur actuelle est toujours disponible\n    const optionValues = Array.from(select.options).map((o) => o.value);\n    if (currentValue && optionValues.includes(currentValue)) {\n        select.value = currentValue;\n    } else if (currentValue && !optionValues.includes(currentValue)) {\n        // La couche active a été retirée (masquée) �?? basculer sur la première disponible\n        if (select.options.length > 1) {\n            select.value = select.options[1].value;\n            TableContract.setLayer(select.options[1].value);\n        } else {\n            // Aucune couche visible ? vider le tableau\n            select.value = \"\";\n            TableContract.setLayer(\"\");\n        }\n    }\n\n    // Mettre �?  jour le placeholder si aucune couche visible\n    const defaultOption = select.options[0];\n    if (defaultOption) {\n        defaultOption.textContent =\n            select.options.length > 1 ? \"Sélectionner une couche...\" : \"Aucune couche visible\";\n    }\n\n    Log.info(\n        \"[TablePanel] Sélecteur de couche rafraîchi,\",\n        select.options.length - 1,\n        \"couches disponibles\"\n    );\n};\n\n/**\n * Cleanup all event listeners\n */\n_TablePanel.destroy = function () {\n    if (_TablePanel._eventCleanups && _TablePanel._eventCleanups.length > 0) {\n        _TablePanel._eventCleanups.forEach((cleanup) => {\n            if (typeof cleanup === \"function\") cleanup();\n        });\n        _TablePanel._eventCleanups = [];\n        Log.info(\"[TablePanel] Event listeners cleaned up\");\n    }\n};\n\nconst TablePanel = _TablePanel;\nexport { TablePanel };\n","/**\n * GeoLeaf Table - Renderer Module\n * Rendu des colonnes, lignes et pagination avec virtual scrolling\n */\n\"use strict\";\n\nimport { Log } from \"../log/index.js\";\nimport { $create } from \"../utils/dom-helpers.js\";\nimport { getNestedValue } from \"../utils/object-utils.js\";\nimport { DOMSecurity } from \"../utils/dom-security.js\";\nimport { GeoJSONShared } from \"../geojson/shared.js\";\nimport { events as _events } from \"../utils/event-listener-manager.js\";\nimport { TableContract } from \"../../contracts/table.contract.js\";\n\nconst _TableRenderer = {};\n_TableRenderer._eventCleanups = [];\n\n/**\n * Flush all tracked event cleanups (called before re-render and on destroy)\n */\n_TableRenderer._flushEventCleanups = function () {\n    const cleanups = this._eventCleanups;\n    for (let i = 0; i < cleanups.length; i++) {\n        if (typeof cleanups[i] === \"function\") {\n            try {\n                cleanups[i]();\n            } catch (e) {\n                /* ignore */\n            }\n        }\n    }\n    cleanups.length = 0;\n};\n\n/**\n * Destroy the table renderer and clean up all event listeners\n */\n_TableRenderer.destroy = function () {\n    this._flushEventCleanups();\n};\n\n/**\n * Rend le tableau avec les données fournies\n * @param {HTMLElement} container - Conteneur du tableau\n * @param {Object} options - Options de rendu\n * @param {string} options.layerId - ID de la couche\n * @param {Array} options.features - Features à afficher\n * @param {Set} options.selectedIds - IDs des entités sélectionnées\n * @param {Object} options.sortState - État du tri\n * @param {Object} options.config - Configuration du tableau\n */\n_TableRenderer.render = function (container, options) {\n    Log.debug(\"[TableRenderer] render() - Début, options:\", options);\n\n    if (!container) {\n        Log.error(\"[TableRenderer] Conteneur invalide\");\n        return;\n    }\n\n    // Phase 1 fix L4.4: flush previous event cleanups before re-render\n    _TableRenderer._flushEventCleanups();\n\n    // Réinitialiser le compteur d'IDs synthétiques à chaque rendu\n    _syntheticIdCounter = 0;\n\n    const { layerId, features, selectedIds, sortState } = options;\n    Log.debug(\n        \"[TableRenderer] render() - layerId:\",\n        layerId,\n        \"features:\",\n        features ? features.length : 0\n    );\n\n    const table = container.querySelector(\".gl-table-panel__table\");\n    if (!table) {\n        Log.error(\"[TableRenderer] Élément table introuvable\");\n        return;\n    }\n\n    // Si pas de layerId, vider le tableau\n    if (!layerId) {\n        // SAFE: Chaîne vide pour nettoyer le contenu\n        DOMSecurity.clearElementFast(table);\n        Log.debug(\"[TableRenderer] Tableau vidé (aucune couche sélectionnée)\");\n        return;\n    }\n\n    // Récupérer la config du layer\n    const layerData = GeoJSONShared.getLayerById(layerId);\n    const layerConfig =\n        layerData && layerData.config && layerData.config.table ? layerData.config.table : null;\n\n    if (!layerConfig || !layerConfig.columns) {\n        Log.warn(\"[TableRenderer] Aucune configuration de colonne pour\", layerId);\n        // SAFE: Chaîne vide pour nettoyer le contenu\n        DOMSecurity.clearElementFast(table);\n        return;\n    }\n\n    Log.debug(\"[TableRenderer] Colonnes:\", layerConfig.columns);\n\n    // Vider le tableau\n    // SAFE: Chaîne vide pour nettoyer le contenu avant reconstruction\n    DOMSecurity.clearElementFast(table);\n\n    // Créer le thead\n    const thead = createTableHead(layerConfig.columns, sortState);\n    table.appendChild(thead);\n\n    // Créer le tbody\n    const tbody = createTableBody(features, layerConfig.columns, selectedIds);\n    table.appendChild(tbody);\n\n    // Virtual scrolling supprimé — la pagination dans renderTable() est suffisante.\n    // TODO(v5): Réimplémenter si les datasets > 10 000 lignes deviennent courants.\n\n    Log.debug(\"[TableRenderer] Tableau rendu:\", features.length, \"lignes\");\n};\n\n/**\n * Crée l'en-tête du tableau (thead)\n * @param {Array} columns - Configuration des colonnes\n * @param {Object} sortState - État du tri actuel\n * @returns {HTMLElement}\n * @private\n */\nfunction createTableHead(columns, sortState) {\n    const thead = $create(\"thead\");\n    const tr = $create(\"tr\");\n\n    // Colonne checkbox (sélection)\n    const thCheckbox = $create(\"th\", {\n        className: \"gl-table-panel__th gl-table-panel__th--checkbox\",\n    });\n\n    const checkboxAll = $create(\"input\", {\n        type: \"checkbox\",\n        className: \"gl-table-panel__checkbox-all\",\n        title: \"Tout sélectionner / Tout désélectionner\",\n    });\n\n    const checkboxAllHandler = (e) => {\n        toggleAllRows(e.target.checked);\n    };\n\n    const events = _events;\n    if (events) {\n        _TableRenderer._eventCleanups.push(\n            events.on(checkboxAll, \"change\", checkboxAllHandler, false, \"TableRenderer.checkboxAll\")\n        );\n    } else {\n        checkboxAll.addEventListener(\"change\", checkboxAllHandler);\n    }\n\n    thCheckbox.appendChild(checkboxAll);\n    tr.appendChild(thCheckbox);\n\n    // Colonnes de données\n    columns.forEach((col) => {\n        const th = $create(\"th\", { className: \"gl-table-panel__th\" });\n        th.textContent = col.label || col.field;\n\n        if (col.width) {\n            th.style.width = col.width;\n        }\n\n        // Rendre la colonne triable (par défaut toutes les colonnes sont triables)\n        const isSortable = col.sortable !== false;\n        if (isSortable) {\n            th.classList.add(\"gl-table-panel__th--sortable\");\n            th.setAttribute(\"data-field\", col.field);\n\n            // Ajouter les indicateurs de tri\n            const sortIcon = $create(\"span\", { className: \"gl-table-panel__sort-icon\" });\n\n            if (sortState.field === col.field) {\n                if (sortState.direction === \"asc\") {\n                    sortIcon.textContent = \" ▲\";\n                    th.classList.add(\"is-sorted-asc\");\n                } else if (sortState.direction === \"desc\") {\n                    sortIcon.textContent = \" ▼\";\n                    th.classList.add(\"is-sorted-desc\");\n                }\n            } else {\n                sortIcon.textContent = \" ⇅\";\n            }\n\n            th.appendChild(sortIcon);\n\n            // Événement de tri - avec cleanup tracking\n            const sortHandler = () => {\n                TableContract.sortByField(col.field);\n            };\n\n            const events = _events;\n            if (events) {\n                _TableRenderer._eventCleanups.push(\n                    events.on(th, \"click\", sortHandler, false, \"TableRenderer.sort\")\n                );\n            } else {\n                th.addEventListener(\"click\", sortHandler);\n            }\n        }\n\n        tr.appendChild(th);\n    });\n\n    thead.appendChild(tr);\n    return thead;\n}\n\n/**\n * Crée le corps du tableau (tbody)\n * @param {Array} features - Features à afficher\n * @param {Array} columns - Configuration des colonnes\n * @param {Set} selectedIds - IDs sélectionnés\n * @returns {HTMLElement}\n * @private\n */\nfunction createTableBody(features, columns, selectedIds) {\n    Log.debug(\"[TableRenderer] createTableBody() - features:\", features.length);\n\n    const tbody = $create(\"tbody\");\n\n    // Sprint 3.2: Use DocumentFragment for batch DOM operations\n    const fragment = document.createDocumentFragment();\n\n    features.forEach((feature) => {\n        const tr = createTableRow(feature, columns, selectedIds);\n        fragment.appendChild(tr);\n    });\n\n    tbody.appendChild(fragment);\n\n    Log.debug(\"[TableRenderer] tbody créé avec\", tbody.children.length, \"lignes\");\n    return tbody;\n}\n\n/**\n * Crée une ligne du tableau\n * @param {Object} feature - Feature GeoJSON\n * @param {Array} columns - Configuration des colonnes\n * @param {Set} selectedIds - IDs sélectionnés\n * @returns {HTMLElement}\n * @private\n */\nfunction createTableRow(feature, columns, selectedIds) {\n    const tr = $create(\"tr\");\n    const featureId = getFeatureId(feature);\n    tr.setAttribute(\"data-feature-id\", featureId);\n\n    const isSelected = selectedIds.has(String(featureId));\n    if (isSelected) {\n        tr.classList.add(\"is-selected\");\n    }\n\n    // Cellule checkbox\n    const tdCheckbox = $create(\"td\", {\n        className: \"gl-table-panel__td gl-table-panel__td--checkbox\",\n    });\n\n    const checkbox = $create(\"input\", {\n        type: \"checkbox\",\n        className: \"gl-table-panel__checkbox\",\n        checked: isSelected,\n    });\n\n    const checkboxHandler = (e) => {\n        // Pour les checkboxes, toujours traiter comme multi-sélection\n        handleRowSelection(featureId, e.target.checked, false, true, true);\n    };\n\n    const events = _events;\n    if (events) {\n        _TableRenderer._eventCleanups.push(\n            events.on(checkbox, \"change\", checkboxHandler, false, \"TableRenderer.checkbox\")\n        );\n    } else {\n        checkbox.addEventListener(\"change\", checkboxHandler);\n    }\n\n    tdCheckbox.appendChild(checkbox);\n    tr.appendChild(tdCheckbox);\n\n    // Cellules de données\n    columns.forEach((col) => {\n        const td = $create(\"td\", { className: \"gl-table-panel__td\" });\n\n        const value = getNestedValue(feature, col.field);\n        const formattedValue = formatValue(value, col.type);\n\n        td.textContent = formattedValue;\n\n        // Aligner les nombres à droite\n        if (col.type === \"number\") {\n            td.classList.add(\"gl-table-panel__td--number\");\n        }\n\n        tr.appendChild(td);\n    });\n\n    // Événement clic sur la ligne (sélection simple) - avec cleanup tracking\n    const rowClickHandler = (e) => {\n        // Ignorer si c'est le checkbox qui a été cliqué\n        if (e.target.type === \"checkbox\") return;\n        const currentState = tr.classList.contains(\"is-selected\");\n        handleRowSelection(featureId, !currentState, e.shiftKey, e.ctrlKey || e.metaKey);\n    };\n\n    // Reuse EventListenerManager from outer scope\n    if (_events) {\n        _TableRenderer._eventCleanups.push(\n            _events.on(tr, \"click\", rowClickHandler, false, \"TableRenderer.rowClick\")\n        );\n    } else {\n        tr.addEventListener(\"click\", rowClickHandler);\n    }\n\n    return tr;\n}\n\n/**\n * Gère la sélection d'une ligne\n * @param {string} featureId - ID de la feature\n * @param {boolean} selected - Sélectionné ou non\n * @param {boolean} shiftKey - Touche Shift enfoncée\n * @param {boolean} ctrlKey - Touche Ctrl/Cmd enfoncée\n * @param {boolean} isCheckbox - Si l'action vient d'une checkbox\n * @private\n */\nfunction handleRowSelection(featureId, selected, shiftKey, ctrlKey, isCheckbox = false) {\n    Log.debug(\"[TableRenderer] handleRowSelection - featureId:\", featureId, \"selected:\", selected);\n\n    const currentSelection = TableContract.getSelectedIds();\n\n    if (shiftKey && currentSelection.length > 0) {\n        // Sélection par plage (Shift+clic)\n        Log.debug(\"[TableRenderer] Mode SHIFT - Sélection par plage\");\n        selectRange(featureId);\n    } else if (ctrlKey || isCheckbox) {\n        // Multi-sélection (Ctrl+clic ou checkbox)\n        Log.debug(\n            \"[TableRenderer] Mode MULTI - Multi-sélection\" +\n                (isCheckbox ? \" (checkbox)\" : \" (Ctrl)\")\n        );\n        if (selected) {\n            const newSelection = [...currentSelection, featureId];\n            TableContract.setSelection(newSelection, false);\n        } else {\n            const newSelection = currentSelection.filter((id) => id !== featureId);\n            TableContract.setSelection(newSelection, false);\n        }\n    } else {\n        // Sélection simple\n        Log.debug(\"[TableRenderer] Mode SIMPLE - Sélection unique\");\n        if (selected) {\n            TableContract.setSelection([featureId], false);\n        } else {\n            TableContract.clearSelection();\n        }\n    }\n\n    // Mettre à jour l'état des boutons\n    updateToolbarButtonsState();\n}\n\n/**\n * Sélectionne une plage de lignes (Shift+clic)\n * @param {string} targetId - ID de la feature cible\n * @private\n */\nfunction selectRange(targetId) {\n    const tbody = document.querySelector(\".gl-table-panel__table tbody\");\n    if (!tbody) return;\n\n    const rows = Array.from(tbody.querySelectorAll(\"tr\"));\n    const currentSelection = TableContract.getSelectedIds();\n    const lastSelected = currentSelection[currentSelection.length - 1];\n\n    const targetIndex = rows.findIndex((r) => r.getAttribute(\"data-feature-id\") === targetId);\n    const lastIndex = rows.findIndex((r) => r.getAttribute(\"data-feature-id\") === lastSelected);\n\n    if (targetIndex === -1 || lastIndex === -1) return;\n\n    const start = Math.min(targetIndex, lastIndex);\n    const end = Math.max(targetIndex, lastIndex);\n\n    const rangeIds = [];\n    for (let i = start; i <= end; i++) {\n        const id = rows[i].getAttribute(\"data-feature-id\");\n        if (id) rangeIds.push(id);\n    }\n\n    TableContract.setSelection(rangeIds, false);\n    updateToolbarButtonsState();\n}\n\n/**\n * Toggle toutes les lignes (checkbox \"tout sélectionner\")\n * @param {boolean} checked - État du checkbox\n * @private\n */\nfunction toggleAllRows(checked) {\n    const tbody = document.querySelector(\".gl-table-panel__table tbody\");\n    if (!tbody) return;\n\n    const rows = tbody.querySelectorAll(\"tr\");\n    const ids = [];\n\n    rows.forEach((row) => {\n        const id = row.getAttribute(\"data-feature-id\");\n        if (id) {\n            ids.push(id);\n            row.classList.toggle(\"is-selected\", checked);\n            const checkbox = row.querySelector(\".gl-table-panel__checkbox\");\n            if (checkbox) checkbox.checked = checked;\n        }\n    });\n\n    if (checked) {\n        TableContract.setSelection(ids, false);\n    } else {\n        TableContract.clearSelection();\n    }\n\n    updateToolbarButtonsState();\n}\n\n/**\n * Met à jour la sélection visuelle dans le tableau\n * @param {HTMLElement} container - Conteneur du tableau\n * @param {Set} selectedIds - IDs sélectionnés\n */\n_TableRenderer.updateSelection = function (container, selectedIds) {\n    const tbody = container.querySelector(\".gl-table-panel__table tbody\");\n    if (!tbody) return;\n\n    const rows = tbody.querySelectorAll(\"tr\");\n\n    rows.forEach((row) => {\n        const id = row.getAttribute(\"data-feature-id\");\n        const isSelected = selectedIds.has(String(id));\n\n        row.classList.toggle(\"is-selected\", isSelected);\n\n        const checkbox = row.querySelector(\".gl-table-panel__checkbox\");\n        if (checkbox) {\n            checkbox.checked = isSelected;\n        }\n    });\n\n    // Mettre à jour le checkbox \"tout sélectionner\"\n    const checkboxAll = container.querySelector(\".gl-table-panel__checkbox-all\");\n    if (checkboxAll) {\n        const totalRows = rows.length;\n        const selectedCount = selectedIds.size;\n        checkboxAll.checked = totalRows > 0 && selectedCount === totalRows;\n        checkboxAll.indeterminate = selectedCount > 0 && selectedCount < totalRows;\n    }\n\n    updateToolbarButtonsState();\n};\n\n// Virtual scrolling supprimé — la pagination dans renderTable() est suffisante.\n// TODO(v5): Réimplémenter si les datasets > 10 000 lignes deviennent courants.\n\n/**\n * Met à jour l'état des boutons de la toolbar\n * @private\n */\nfunction updateToolbarButtonsState() {\n    const selectedCount = TableContract.getSelectedIds().length;\n    TableContract.updateToolbarButtons(selectedCount);\n}\n\n/**\n * Compteur interne pour générer des IDs synthétiques\n * @type {number}\n * @private\n */\nlet _syntheticIdCounter = 0;\n\n/**\n * Récupère l'ID d'une feature de manière fiable\n * Parcourt plusieurs propriétés candidates puis génère un ID synthétique si nécessaire\n * @param {Object} feature - Feature GeoJSON\n * @returns {string}\n * @private\n */\nfunction getFeatureId(feature) {\n    // 1. ID standard GeoJSON\n    if (feature.id != null && feature.id !== \"\") return String(feature.id);\n\n    const p = feature.properties;\n    if (!p) return \"__gl_row_\" + _syntheticIdCounter++;\n\n    // 2. Propriétés d'identifiant courantes\n    if (p.id != null && p.id !== \"\") return String(p.id);\n    if (p.fid != null && p.fid !== \"\") return String(p.fid);\n    if (p.osm_id != null && p.osm_id !== \"\") return String(p.osm_id);\n    if (p.OBJECTID != null && p.OBJECTID !== \"\") return String(p.OBJECTID);\n    if (p.SITE_ID != null && p.SITE_ID !== \"\") return String(p.SITE_ID);\n    if (p.code != null && p.code !== \"\") return String(p.code);\n    if (p.IN1 != null && p.IN1 !== \"\") return String(p.IN1);\n\n    // 3. Fallback : ID synthétique basé sur un compteur\n    return \"__gl_row_\" + _syntheticIdCounter++;\n}\n\n/**\n * Formate une valeur selon son type\n * @param {*} value - Valeur à formater\n * @param {string} type - Type de données (string, number, date)\n * @returns {string}\n * @private\n */\nfunction formatValue(value, type) {\n    if (value == null || value === \"\") return \"–\";\n\n    if (type === \"number\") {\n        const num = Number(value);\n        if (isNaN(num)) return String(value);\n        // Formater avec séparateurs de milliers\n        return num.toLocaleString(\"fr-FR\");\n    }\n\n    if (type === \"date\") {\n        const date = new Date(value);\n        if (isNaN(date.getTime())) return String(value);\n        return date.toLocaleDateString(\"fr-FR\");\n    }\n\n    return String(value);\n}\n\nconst TableRenderer = _TableRenderer;\nexport { TableRenderer };\n","/** GeoLeaf Table API - implementation deplacee depuis geoleaf.table.js */\r\n/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf Table Module\r\n * Affichage tabulaire des données cartographiques avec tri, recherche et sélection\r\n * Version: 1.0.0\r\n */\r\n\r\n\"use strict\";\r\n\r\nimport { Log } from \"../log/index.js\";\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n_g.GeoLeaf = _g.GeoLeaf || {};\r\nimport { getNestedValue } from \"../utils/object-utils.js\";\r\nimport { sortInPlace, nextSortState } from \"./sort.js\";\r\nimport { resolveFeatureId, buildGeoJSONCollection, downloadGeoJSON } from \"./export.js\";\r\nimport { TablePanel as _TablePanel } from \"./panel.js\";\r\nimport { TableRenderer as _TableRenderer } from \"./renderer.js\";\r\nimport { TableContract } from \"../../contracts/table.contract.js\";\r\n\r\n/**\r\n * Module GeoLeaf.Table\r\n * Vue tabulaire complémentaire à la carte\r\n */\r\nconst TableModule = {\r\n    /**\r\n     * Référence vers la carte Leaflet\r\n     * @type {L.Map|null}\r\n     */\r\n    _map: null,\r\n\r\n    /**\r\n     * Configuration du module table depuis geoleaf.config.json\r\n     * @type {Object|null}\r\n     */\r\n    _config: null,\r\n\r\n    /**\r\n     * Couche actuellement affichée dans le tableau\r\n     * @type {string|null}\r\n     */\r\n    _currentLayerId: null,\r\n\r\n    /**\r\n     * IDs des entités sélectionnées\r\n     * @type {Set<string>}\r\n     */\r\n    _selectedIds: new Set(),\r\n\r\n    /**\r\n     * Données en cache (features filtrées)\r\n     * @type {Array}\r\n     */\r\n    _cachedData: [],\r\n\r\n    /**\r\n     * Mapping featureId → index dans _cachedData (synchronisé avec le renderer)\r\n     * @type {Map<string, number>}\r\n     */\r\n    _featureIdMap: new Map(),\r\n\r\n    /**\r\n     * Couches Leaflet de surbrillance actuellement actives\r\n     * @type {Array<L.Layer>}\r\n     */\r\n    _highlightLayers: [],\r\n\r\n    /**\r\n     * Indique si la surbrillance est activée\r\n     * @type {boolean}\r\n     */\r\n    _highlightActive: false,\r\n\r\n    /**\r\n     * État actuel du tri\r\n     * @type {Object}\r\n     */\r\n    _sortState: {\r\n        field: null,\r\n        direction: null, // 'asc' | 'desc' | null\r\n    },\r\n\r\n    /**\r\n     * Conteneur DOM du tableau\r\n     * @type {HTMLElement|null}\r\n     */\r\n    _container: null,\r\n\r\n    /**\r\n     * Indique si le tableau est visible\r\n     * @type {boolean}\r\n     */\r\n    _isVisible: false,\r\n\r\n    /**\r\n     * Initialise le module Table\r\n     * @param {Object} options - Options d'initialisation\r\n     * @param {L.Map} options.map - Instance de la carte Leaflet\r\n     * @param {Object} [options.config] - Configuration personnalisée\r\n     */\r\n    init(options) {\r\n        if (!options || !options.map) {\r\n            Log.error(\"[Table] init() nécessite une instance de carte Leaflet\");\r\n            return;\r\n        }\r\n\r\n        this._map = options.map;\r\n\r\n        // Récupérer la config depuis GeoLeaf.Config\r\n        const globalConfig = _g.GeoLeaf.Config ? _g.GeoLeaf.Config.get(\"tableConfig\") : null;\r\n        this._config = Object.assign(\r\n            {\r\n                enabled: true,\r\n                defaultVisible: false,\r\n                pageSize: 50,\r\n                maxRowsPerLayer: 1000,\r\n                enableExportButton: true,\r\n                virtualScrolling: true,\r\n                defaultHeight: \"40%\",\r\n                minHeight: \"20%\",\r\n                maxHeight: \"60%\",\r\n                resizable: false,\r\n            },\r\n            globalConfig,\r\n            options.config\r\n        );\r\n\r\n        if (!this._config.enabled) {\r\n            Log.info(\"[Table] Module désactivé via configuration\");\r\n            return;\r\n        }\r\n\r\n        Log.info(\"[Table] Initialisation du module Table\", this._config);\r\n\r\n        // Créer le panel si besoin\r\n        if (_TablePanel && typeof _TablePanel.create === \"function\") {\r\n            this._container = _TablePanel.create(this._map, this._config);\r\n        } else {\r\n            Log.error(\"[Table] Module table/panel.js non chargé\");\r\n            return;\r\n        }\r\n\r\n        // Définir la visibilité initiale\r\n        if (this._config.defaultVisible) {\r\n            this.show();\r\n        }\r\n\r\n        // Écouter les événements carte\r\n        this._attachMapEvents();\r\n\r\n        Log.info(\"[Table] Module Table initialisé avec succès\");\r\n    },\r\n\r\n    /**\r\n     * Attache les listeners d'événements Leaflet\r\n     * @private\r\n     */\r\n    _attachMapEvents() {\r\n        if (!this._map) return;\r\n\r\n        // Timer pour debounce du rafraîchissement du sélecteur\r\n        let refreshSelectorTimer = null;\r\n        const debouncedRefreshSelector = () => {\r\n            if (refreshSelectorTimer) clearTimeout(refreshSelectorTimer);\r\n            refreshSelectorTimer = setTimeout(() => {\r\n                if (_TablePanel && typeof _TablePanel.refreshLayerSelector === \"function\") {\r\n                    _TablePanel.refreshLayerSelector();\r\n                }\r\n            }, 150);\r\n        };\r\n\r\n        // Synchroniser avec les changements de filtres\r\n        this._map.on(\"geoleaf:filters:changed\", () => {\r\n            if (this._isVisible && this._currentLayerId) {\r\n                this.refresh();\r\n            }\r\n        });\r\n\r\n        // Rafraîchir le sélecteur quand les couches GeoJSON sont chargées\r\n        this._map.on(\"geoleaf:geojson:layers-loaded\", () => {\r\n            Log.debug(\"[Table] Événement layers-loaded reçu, rafraîchissement du sélecteur\");\r\n            debouncedRefreshSelector();\r\n        });\r\n\r\n        // Rafraîchir le sélecteur quand un thème est appliqué\r\n        // (c'est à ce moment que la visibilité est réellement définie)\r\n        document.addEventListener(\"geoleaf:theme:applied\", () => {\r\n            Log.debug(\"[Table] Événement theme:applied reçu, rafraîchissement du sélecteur\");\r\n            debouncedRefreshSelector();\r\n        });\r\n\r\n        // Synchroniser avec les changements de visibilité des couches\r\n        this._map.on(\"geoleaf:geojson:visibility-changed\", (e) => {\r\n            // Rafraîchir le sélecteur (debounced pour grouper les changements multiples)\r\n            debouncedRefreshSelector();\r\n\r\n            // Si la couche active est celle qui a changé de visibilité\r\n            if (this._currentLayerId === e.layerId) {\r\n                if (e.visible) {\r\n                    this.refresh();\r\n                } else {\r\n                    // La couche active a été masquée : basculer sur la première couche visible\r\n                    // Attendre le debounce pour que le sélecteur soit à jour\r\n                    setTimeout(() => {\r\n                        const available = this._getAvailableVisibleLayers();\r\n                        if (available.length > 0) {\r\n                            this.setLayer(available[0].id);\r\n                            const select = document.querySelector(\"[data-table-layer-select]\");\r\n                            if (select) select.value = available[0].id;\r\n                        } else {\r\n                            this.setLayer(\"\");\r\n                        }\r\n                    }, 200);\r\n                }\r\n            }\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Affiche le tableau\r\n     */\r\n    show() {\r\n        if (!this._container) {\r\n            Log.warn(\"[Table] Conteneur non initialisé\");\r\n            return;\r\n        }\r\n\r\n        this._container.classList.add(\"is-visible\");\r\n        this._isVisible = true;\r\n\r\n        this._fireEvent(\"table:opened\", {});\r\n        Log.debug(\"[Table] Tableau affiché\");\r\n    },\r\n\r\n    /**\r\n     * Masque le tableau\r\n     */\r\n    hide() {\r\n        if (!this._container) return;\r\n\r\n        // Nettoyer la surbrillance\r\n        this._clearHighlightLayers();\r\n        this._highlightActive = false;\r\n\r\n        this._container.classList.remove(\"is-visible\");\r\n        this._isVisible = false;\r\n\r\n        this._fireEvent(\"table:closed\", {});\r\n        Log.debug(\"[Table] Tableau masqué\");\r\n    },\r\n\r\n    /**\r\n     * Toggle la visibilité du tableau\r\n     */\r\n    toggle() {\r\n        if (this._isVisible) {\r\n            this.hide();\r\n        } else {\r\n            this.show();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Définit la couche à afficher dans le tableau\r\n     * @param {string} layerId - ID de la couche\r\n     */\r\n    setLayer(layerId) {\r\n        Log.debug(\"[Table] setLayer appelé avec:\", layerId);\r\n\r\n        // Si layerId est vide, vider le tableau\r\n        if (!layerId) {\r\n            this._currentLayerId = null;\r\n            this._selectedIds.clear();\r\n            this._clearHighlightLayers();\r\n            this._highlightActive = false;\r\n            this._featureIdMap.clear();\r\n            this._sortState = { field: null, direction: null };\r\n            this._cachedData = [];\r\n\r\n            // Vider le tableau visuellement\r\n            if (_TableRenderer && this._container) {\r\n                _TableRenderer.render(this._container, {\r\n                    layerId: null,\r\n                    features: [],\r\n                    selectedIds: this._selectedIds,\r\n                    sortState: this._sortState,\r\n                    config: this._config,\r\n                });\r\n            }\r\n\r\n            this._fireEvent(\"table:layerChanged\", { layerId: null });\r\n            Log.debug(\"[Table] Tableau vidé (aucune couche sélectionnée)\");\r\n            return;\r\n        }\r\n\r\n        const layers = this._getAvailableLayers();\r\n        const layer = layers.find((l) => l.id === layerId);\r\n\r\n        if (!layer) {\r\n            Log.warn(\"[Table] Couche introuvable ou non activée pour le tableau:\", layerId);\r\n            return;\r\n        }\r\n\r\n        this._currentLayerId = layerId;\r\n        this._selectedIds.clear();\r\n        this._clearHighlightLayers();\r\n        this._highlightActive = false;\r\n        this._sortState = { field: null, direction: null };\r\n\r\n        // Définir le tri par défaut depuis la config du layer\r\n        const layerData = _g.GeoLeaf.GeoJSON ? _g.GeoLeaf.GeoJSON.getLayerData(layerId) : null;\r\n        if (\r\n            layerData &&\r\n            layerData.config &&\r\n            layerData.config.table &&\r\n            layerData.config.table.defaultSort\r\n        ) {\r\n            this._sortState.field = layerData.config.table.defaultSort.field;\r\n            this._sortState.direction =\r\n                layerData.config.table.defaultSort.direction ||\r\n                layerData.config.table.defaultSort.order ||\r\n                \"asc\";\r\n        }\r\n\r\n        this.refresh();\r\n\r\n        this._fireEvent(\"table:layerChanged\", { layerId });\r\n        Log.debug(\"[Table] Couche changée:\", layerId);\r\n    },\r\n\r\n    /**\r\n     * Rafraîchit les données affichées dans le tableau\r\n     */\r\n    refresh() {\r\n        if (!this._currentLayerId) {\r\n            Log.debug(\"[Table] Aucune couche sélectionnée, impossible de rafraîchir\");\r\n            return;\r\n        }\r\n\r\n        // Récupérer les données depuis GeoJSON\r\n        const features = this._getLayerFeatures(this._currentLayerId);\r\n        this._cachedData = features;\r\n\r\n        // Construire le mapping ID→index (miroir de la logique du renderer)\r\n        this._featureIdMap.clear();\r\n        let syntheticCounter = 0;\r\n        features.forEach((feature, index) => {\r\n            const id = this._resolveFeatureId(feature, syntheticCounter);\r\n            if (id.startsWith(\"__gl_row_\")) syntheticCounter++;\r\n            this._featureIdMap.set(id, index);\r\n        });\r\n\r\n        Log.debug(\"[Table] Features récupérées:\", features.length);\r\n\r\n        // Appliquer le tri si défini\r\n        if (this._sortState.field && this._sortState.direction) {\r\n            this._applySorting();\r\n        }\r\n\r\n        // Rafraîchir le rendu\r\n        if (_TableRenderer && typeof _TableRenderer.render === \"function\") {\r\n            _TableRenderer.render(this._container, {\r\n                layerId: this._currentLayerId,\r\n                features: this._cachedData,\r\n                selectedIds: this._selectedIds,\r\n                sortState: this._sortState,\r\n                config: this._config,\r\n            });\r\n        } else {\r\n            Log.error(\"[Table] Renderer non disponible\");\r\n        }\r\n\r\n        Log.debug(\"[Table] Données rafraîchies:\", features.length, \"entités\");\r\n    },\r\n\r\n    /**\r\n     * Récupère les features d'une couche avec les filtres appliqués\r\n     * @param {string} layerId - ID de la couche\r\n     * @returns {Array} Features\r\n     * @private\r\n     */\r\n    _getLayerFeatures(layerId) {\r\n        if (!_g.GeoLeaf.GeoJSON || typeof _g.GeoLeaf.GeoJSON.getLayerData !== \"function\") {\r\n            Log.warn(\"[Table] Module GeoJSON non disponible\");\r\n            return [];\r\n        }\r\n\r\n        const layerData = _g.GeoLeaf.GeoJSON.getLayerData(layerId);\r\n\r\n        if (!layerData || !layerData.features) {\r\n            Log.warn(\"[Table] Aucune donnée pour la couche:\", layerId);\r\n            return [];\r\n        }\r\n\r\n        Log.debug(\"[Table] _getLayerFeatures - Nombre de features:\", layerData.features.length);\r\n\r\n        // Appliquer la limite de lignes\r\n        const maxRows = this._config.maxRowsPerLayer || 1000;\r\n        if (layerData.features.length > maxRows) {\r\n            Log.warn(\r\n                \"[Table] Données volumineuses (\" +\r\n                    layerData.features.length +\r\n                    \" entités). Limité à \" +\r\n                    maxRows\r\n            );\r\n            return layerData.features.slice(0, maxRows);\r\n        }\r\n\r\n        return layerData.features || [];\r\n    },\r\n\r\n    /**\r\n     * Récupère les couches disponibles pour le tableau (table.enabled)\r\n     * @returns {Array} Liste des couches avec table.enabled = true\r\n     * @private\r\n     */\r\n    _getAvailableLayers() {\r\n        if (!_g.GeoLeaf.GeoJSON || typeof _g.GeoLeaf.GeoJSON.getAllLayers !== \"function\") {\r\n            return [];\r\n        }\r\n\r\n        const allLayers = _g.GeoLeaf.GeoJSON.getAllLayers();\r\n        const availableLayers = [];\r\n\r\n        allLayers.forEach((layer) => {\r\n            const layerData = _g.GeoLeaf.GeoJSON.getLayerData(layer.id);\r\n            if (\r\n                layerData &&\r\n                layerData.config &&\r\n                layerData.config.table &&\r\n                layerData.config.table.enabled\r\n            ) {\r\n                availableLayers.push({\r\n                    id: layer.id,\r\n                    label: layer.label || layer.id,\r\n                    config: layerData.config.table,\r\n                });\r\n            }\r\n        });\r\n\r\n        return availableLayers;\r\n    },\r\n\r\n    /**\r\n     * Récupère les couches disponibles ET visibles pour le tableau\r\n     * @returns {Array} Liste des couches avec table.enabled = true et visibles sur la carte\r\n     * @private\r\n     */\r\n    _getAvailableVisibleLayers() {\r\n        const available = this._getAvailableLayers();\r\n        const VisibilityManager = _g.GeoLeaf._LayerVisibilityManager;\r\n\r\n        return available.filter((layer) => {\r\n            if (VisibilityManager && typeof VisibilityManager.getVisibilityState === \"function\") {\r\n                const visState = VisibilityManager.getVisibilityState(layer.id);\r\n                return visState && visState.current === true;\r\n            }\r\n            // Fallback : vérifier via layerData\r\n            const layerData = _g.GeoLeaf.GeoJSON.getLayerData(layer.id);\r\n            return layerData && layerData._visibility && layerData._visibility.current === true;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Applique le tri sur les données en cache\r\n     * @private\r\n     */\r\n    _applySorting() {\r\n        sortInPlace(this._cachedData, this._sortState, (o, p) => this._getNestedValue(o, p));\r\n        Log.debug(\"[Table] Tri appliqué:\", this._sortState.field, this._sortState.direction);\r\n    },\r\n\r\n    /**\r\n     * Change le tri sur une colonne\r\n     * @param {string} field - Chemin du champ\r\n     */\r\n    sortByField(field) {\r\n        this._sortState = nextSortState(this._sortState, field);\r\n        this.refresh();\r\n        this._fireEvent(\"table:sortChanged\", this._sortState);\r\n    },\r\n\r\n    /**\r\n     * Sélectionne ou désélectionne des entités\r\n     * @param {Array<string>} ids - IDs à sélectionner\r\n     * @param {boolean} [add=false] - Ajouter à la sélection existante ou remplacer\r\n     */\r\n    setSelection(ids, add = false) {\r\n        if (!add) {\r\n            this._selectedIds.clear();\r\n        }\r\n\r\n        ids.forEach((id) => this._selectedIds.add(String(id)));\r\n\r\n        this._fireEvent(\"table:selectionChanged\", {\r\n            layerId: this._currentLayerId,\r\n            selectedIds: Array.from(this._selectedIds),\r\n        });\r\n\r\n        // Rafraîchir le rendu pour mettre à jour les cases cochées\r\n        if (_TableRenderer && typeof _TableRenderer.updateSelection === \"function\") {\r\n            _TableRenderer.updateSelection(this._container, this._selectedIds);\r\n        }\r\n\r\n        Log.debug(\"[Table] Sélection mise à jour:\", this._selectedIds.size, \"entités\");\r\n    },\r\n\r\n    /**\r\n     * Retourne les IDs des entités sélectionnées\r\n     * @returns {Array<string>}\r\n     */\r\n    getSelectedIds() {\r\n        return Array.from(this._selectedIds);\r\n    },\r\n\r\n    /**\r\n     * Efface la sélection\r\n     */\r\n    clearSelection() {\r\n        this._selectedIds.clear();\r\n        this._fireEvent(\"table:selectionChanged\", {\r\n            layerId: this._currentLayerId,\r\n            selectedIds: [],\r\n        });\r\n\r\n        if (_TableRenderer && typeof _TableRenderer.updateSelection === \"function\") {\r\n            _TableRenderer.updateSelection(this._container, this._selectedIds);\r\n        }\r\n\r\n        Log.debug(\"[Table] Sélection effacée\");\r\n    },\r\n\r\n    /**\r\n     * Zoom sur les entités sélectionnées\r\n     */\r\n    zoomToSelection() {\r\n        if (this._selectedIds.size === 0) {\r\n            Log.warn(\"[Table] Aucune entité sélectionnée pour le zoom\");\r\n            return;\r\n        }\r\n\r\n        const selectedFeatures = this._getSelectedFeatures();\r\n        if (selectedFeatures.length === 0) {\r\n            Log.warn(\"[Table] Aucune feature trouvée pour les IDs sélectionnés\");\r\n            return;\r\n        }\r\n\r\n        const bounds = L.latLngBounds([]);\r\n\r\n        selectedFeatures.forEach((feature) => {\r\n            if (feature.geometry && feature.geometry.coordinates) {\r\n                this._extendBoundsFromGeometry(bounds, feature.geometry);\r\n            }\r\n        });\r\n\r\n        if (bounds.isValid()) {\r\n            this._map.fitBounds(bounds, { padding: [50, 50], maxZoom: 16 });\r\n            this._fireEvent(\"table:zoomToSelection\", {\r\n                layerId: this._currentLayerId,\r\n                selectedIds: Array.from(this._selectedIds),\r\n            });\r\n            Log.debug(\"[Table] Zoom sur la sélection (\", selectedFeatures.length, \"entités)\");\r\n        } else {\r\n            Log.warn(\"[Table] Bounds invalides pour la sélection\");\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Active/désactive la surbrillance des entités sélectionnées sur la carte\r\n     * @param {boolean} active - Activer ou non\r\n     */\r\n    highlightSelection(active) {\r\n        // Toujours nettoyer les anciennes surbrillances\r\n        this._clearHighlightLayers();\r\n\r\n        this._highlightActive = active;\r\n\r\n        if (!active) {\r\n            Log.debug(\"[Table] Surbrillance désactivée\");\r\n            this._fireEvent(\"table:highlightSelection\", {\r\n                layerId: this._currentLayerId,\r\n                selectedIds: Array.from(this._selectedIds),\r\n                active: false,\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (this._selectedIds.size === 0) {\r\n            Log.warn(\"[Table] Aucune entité sélectionnée pour la surbrillance\");\r\n            return;\r\n        }\r\n\r\n        const selectedFeatures = this._getSelectedFeatures();\r\n        if (selectedFeatures.length === 0) {\r\n            Log.warn(\"[Table] Aucune feature trouvée pour la surbrillance\");\r\n            return;\r\n        }\r\n\r\n        // Style de surbrillance (contour jaune épais)\r\n        const highlightStyle = {\r\n            color: \"#FFD600\",\r\n            weight: 4,\r\n            opacity: 1,\r\n            fillOpacity: 0.15,\r\n            fillColor: \"#FFD600\",\r\n            dashArray: \"\",\r\n            interactive: false,\r\n        };\r\n\r\n        selectedFeatures.forEach((feature) => {\r\n            try {\r\n                if (feature.geometry) {\r\n                    const geomType = feature.geometry.type;\r\n                    if (geomType === \"Point\") {\r\n                        // Pour les points, créer un cercle de surbrillance\r\n                        const coords = feature.geometry.coordinates;\r\n                        const circle = L.circleMarker([coords[1], coords[0]], {\r\n                            radius: 14,\r\n                            color: \"#FFD600\",\r\n                            weight: 4,\r\n                            opacity: 1,\r\n                            fillOpacity: 0.25,\r\n                            fillColor: \"#FFD600\",\r\n                            interactive: false,\r\n                        });\r\n                        circle.addTo(this._map);\r\n                        this._highlightLayers.push(circle);\r\n                    } else {\r\n                        // Pour les polygones/polylines, superposer le contour\r\n                        const highlightLayer = L.geoJSON(feature, {\r\n                            style: function () {\r\n                                return highlightStyle;\r\n                            },\r\n                            interactive: false,\r\n                            pointToLayer: function (f, latlng) {\r\n                                return L.circleMarker(latlng, highlightStyle);\r\n                            },\r\n                        });\r\n                        highlightLayer.addTo(this._map);\r\n                        this._highlightLayers.push(highlightLayer);\r\n                    }\r\n                }\r\n            } catch (e) {\r\n                Log.warn(\"[Table] Erreur surbrillance feature:\", e);\r\n            }\r\n        });\r\n\r\n        this._fireEvent(\"table:highlightSelection\", {\r\n            layerId: this._currentLayerId,\r\n            selectedIds: Array.from(this._selectedIds),\r\n            active: true,\r\n        });\r\n\r\n        Log.debug(\"[Table] Surbrillance activée pour\", selectedFeatures.length, \"entités\");\r\n    },\r\n\r\n    /**\r\n     * Supprime toutes les couches de surbrillance de la carte\r\n     * @private\r\n     */\r\n    _clearHighlightLayers() {\r\n        this._highlightLayers.forEach((layer) => {\r\n            try {\r\n                if (this._map && this._map.hasLayer(layer)) {\r\n                    this._map.removeLayer(layer);\r\n                }\r\n            } catch (e) {\r\n                // Silencieux\r\n            }\r\n        });\r\n        this._highlightLayers = [];\r\n    },\r\n\r\n    /**\r\n     * Exporte les entités sélectionnées au format GeoJSON (téléchargement)\r\n     */\r\n    exportSelection() {\r\n        if (this._selectedIds.size === 0) {\r\n            Log.warn(\"[Table] Aucune entité sélectionnée pour l'export\");\r\n            return;\r\n        }\r\n\r\n        const selectedFeatures = this._getSelectedFeatures();\r\n\r\n        if (selectedFeatures.length === 0) {\r\n            Log.warn(\"[Table] Aucune feature trouvée pour l'export\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            downloadGeoJSON(buildGeoJSONCollection(selectedFeatures), this._currentLayerId);\r\n            Log.info(\"[Table] Export GeoJSON:\", selectedFeatures.length, \"entités exportées\");\r\n        } catch (e) {\r\n            Log.error(\"[Table] Erreur lors de l'export:\", e);\r\n        }\r\n\r\n        this._fireEvent(\"table:exportSelection\", {\r\n            layerId: this._currentLayerId,\r\n            selectedIds: Array.from(this._selectedIds),\r\n            rows: selectedFeatures,\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Récupère les features sélectionnées à partir du cache via le mapping d'IDs\r\n     * @returns {Array} Features GeoJSON correspondant à la sélection\r\n     * @private\r\n     */\r\n    _getSelectedFeatures() {\r\n        const result = [];\r\n        this._selectedIds.forEach((id) => {\r\n            const index = this._featureIdMap.get(id);\r\n            if (index != null && this._cachedData[index]) {\r\n                result.push(this._cachedData[index]);\r\n            }\r\n        });\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * Résout l'ID d'une feature en miroir de la logique du renderer\r\n     * @param {Object} feature - Feature GeoJSON\r\n     * @param {number} syntheticIndex - Index pour les IDs synthétiques\r\n     * @returns {string}\r\n     * @private\r\n     */\r\n    _resolveFeatureId(feature, syntheticIndex) {\r\n        return resolveFeatureId(feature, syntheticIndex);\r\n    },\r\n\r\n    /**\r\n     * Étend les bounds à partir d'une géométrie GeoJSON\r\n     * @param {L.LatLngBounds} bounds - Bounds à étendre\r\n     * @param {Object} geometry - Géométrie GeoJSON\r\n     * @private\r\n     */\r\n    _extendBoundsFromGeometry(bounds, geometry) {\r\n        const coords = geometry.coordinates;\r\n        const type = geometry.type;\r\n\r\n        if (type === \"Point\") {\r\n            bounds.extend([coords[1], coords[0]]);\r\n        } else if (type === \"LineString\") {\r\n            coords.forEach((c) => bounds.extend([c[1], c[0]]));\r\n        } else if (type === \"MultiLineString\") {\r\n            coords.forEach((line) => line.forEach((c) => bounds.extend([c[1], c[0]])));\r\n        } else if (type === \"Polygon\") {\r\n            coords[0].forEach((c) => bounds.extend([c[1], c[0]]));\r\n        } else if (type === \"MultiPolygon\") {\r\n            coords.forEach((poly) => {\r\n                poly[0].forEach((c) => bounds.extend([c[1], c[0]]));\r\n            });\r\n        } else if (type === \"MultiPoint\") {\r\n            coords.forEach((c) => bounds.extend([c[1], c[0]]));\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Récupère une valeur imbriquée dans un objet (Phase 4 dedup: delegates to Utils)\r\n     * @private\r\n     */\r\n    _getNestedValue(obj, path) {\r\n        return getNestedValue(obj, path);\r\n    },\r\n\r\n    /**\r\n     * Émet un événement personnalisé\r\n     * @param {string} eventName - Nom de l'événement\r\n     * @param {Object} detail - Données de l'événement\r\n     * @private\r\n     */\r\n    _fireEvent(eventName, detail) {\r\n        if (this._map && typeof this._map.fire === \"function\") {\r\n            this._map.fire(\"geoleaf:\" + eventName, detail);\r\n        }\r\n\r\n        if (typeof document !== \"undefined\" && document.dispatchEvent) {\r\n            document.dispatchEvent(new CustomEvent(\"geoleaf:\" + eventName, { detail }));\r\n        }\r\n    },\r\n};\r\n\r\nconst Table = TableModule;\r\n\r\n// Register into the ESM contract so table/panel.js and table/renderer.js can call back without globalThis\r\nTableContract.register(Table, _TablePanel);\r\n\r\nexport { Table };\r\n","/** GeoLeaf UI API - implementation deplacee depuis geoleaf.ui.js */\r\n/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf UI Module - Main Orchestrator (Sprint 4.4 Refactored)\r\n * Orchestrateur principal pour l'interface utilisateur avec délégation complète vers sous-modules\r\n *\r\n * @module geoleaf.ui\r\n * @author Assistant\r\n * @version 4.4.0 - Modular Architecture\r\n *\r\n * RESPONSABILITÉS:\r\n * ✅ Exposition de l'API publique unifiée\r\n * ✅ Délégation vers sous-modules spécialisés\r\n * ✅ Initialisation et coordination des composants\r\n * ✅ Compatibility layer pour le code legacy\r\n *\r\n * MODULES DÉLÉGUÉS:\r\n * - Theme Management    → _UITheme (ui/theme.js)\r\n * - Controls            → _UIControls (ui/controls.js)\r\n * - Panel Builder       → _UIPanelBuilder (ui/panel-builder.js)\r\n * - Filter Panel        → _UIFilterPanel (ui/filter-panel.js)\r\n * - Notifications       → _UINotifications (ui/notifications.js)\r\n * - Event Delegation    → _UIEventDelegation (ui/event-delegation.js)\r\n * - Filter State Mgmt   → _UIFilterStateManager (ui/filter-state-manager.js)\r\n */\r\n\r\n\"use strict\";\r\n\r\nimport { Log } from \"../log/index.js\";\r\nimport { GeoLocationState } from \"./geolocation-state.js\";\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n_g.GeoLeaf = _g.GeoLeaf || {};\r\n\r\n// ========================================\r\n//   NAMESPACE & DEPENDENCIES\r\n// ========================================\r\n\r\n_g.GeoLeaf.UI = _g.GeoLeaf.UI || {};\r\n\r\n// Helper pour createElement unifié\r\nconst $create = (tag, props, ...children) => {\r\n    if (_g.GeoLeaf.Utils && _g.GeoLeaf.Utils.createElement) {\r\n        return _g.GeoLeaf.Utils.createElement(tag, props, ...children);\r\n    }\r\n    // Fallback to native if DomHelpers not loaded yet\r\n    const el = document.createElement(tag);\r\n    if (props) {\r\n        if (props.className) el.className = props.className;\r\n        if (props.textContent) el.textContent = props.textContent;\r\n    }\r\n    return el;\r\n};\r\n\r\n// ========================================\r\n//   MODULE AVAILABILITY CHECKS\r\n// ========================================\r\n\r\n/**\r\n * Vérifie la disponibilité des modules requis\r\n * @returns {Object} Status de disponibilité des modules\r\n */\r\nfunction checkModuleAvailability() {\r\n    const modules = {\r\n        theme: !!_g.GeoLeaf._UITheme,\r\n        controls: !!_g.GeoLeaf._UIControls,\r\n        panelBuilder: !!(_g.GeoLeaf._UIPanelBuilder || _g.GeoLeaf.UI.PanelBuilder),\r\n        filterPanel: !!_g.GeoLeaf._UIFilterPanel,\r\n        notifications: !!_g.GeoLeaf._UINotifications,\r\n        eventDelegation: !!_g.GeoLeaf._UIEventDelegation,\r\n        filterStateManager: !!_g.GeoLeaf._UIFilterStateManager,\r\n    };\r\n\r\n    const missing = Object.entries(modules)\r\n        .filter(([_name, available]) => !available)\r\n        .map(([name]) => name);\r\n\r\n    if (missing.length > 0 && Log) {\r\n        Log.warn(\"[UI.Orchestrator] Modules manquants:\", missing.join(\", \"));\r\n    }\r\n\r\n    return { modules, missing, allAvailable: missing.length === 0 };\r\n}\r\n\r\n// ========================================\r\n//   API DELEGATION - THEME MANAGEMENT\r\n// ========================================\r\n\r\nif (_g.GeoLeaf._UITheme) {\r\n    // Délégation directe des fonctions thème\r\n    _g.GeoLeaf.UI.initThemeToggle = _g.GeoLeaf._UITheme.initThemeToggle;\r\n    _g.GeoLeaf.UI.toggleTheme = _g.GeoLeaf._UITheme.toggleTheme;\r\n    _g.GeoLeaf.UI.applyTheme = _g.GeoLeaf._UITheme.applyTheme;\r\n    _g.GeoLeaf.UI.getCurrentTheme = _g.GeoLeaf._UITheme.getCurrentTheme;\r\n\r\n    // Compatibility aliases\r\n    _g.GeoLeaf.UI.setTheme = _g.GeoLeaf._UITheme.applyTheme;\r\n}\r\n\r\n// ========================================\r\n//   API DELEGATION - CONTROLS\r\n// ========================================\r\n\r\nif (_g.GeoLeaf._UIControls) {\r\n    // Délégation des contrôles Leaflet\r\n    _g.GeoLeaf.UI.initFullscreenControl = _g.GeoLeaf._UIControls.initFullscreenControl;\r\n    _g.GeoLeaf.UI.initGeolocationControl = _g.GeoLeaf._UIControls.initGeolocationControl;\r\n    _g.GeoLeaf.UI.initPoiAddControl = _g.GeoLeaf._UIControls.initPoiAddControl;\r\n    _g.GeoLeaf.UI.initScaleControl = _g.GeoLeaf._UIControls.initScaleControl;\r\n\r\n    // État géolocalisation — proxy live vers GeoLocationState (CDN backward compat)\r\n    Object.defineProperty(_g.GeoLeaf.UI, \"_geolocationActive\", {\r\n        get() {\r\n            return GeoLocationState.active;\r\n        },\r\n        set(v) {\r\n            GeoLocationState.active = v;\r\n        },\r\n        configurable: true,\r\n        enumerable: true,\r\n    });\r\n    Object.defineProperty(_g.GeoLeaf.UI, \"_geolocationWatchId\", {\r\n        get() {\r\n            return GeoLocationState.watchId;\r\n        },\r\n        set(v) {\r\n            GeoLocationState.watchId = v;\r\n        },\r\n        configurable: true,\r\n        enumerable: true,\r\n    });\r\n    Object.defineProperty(_g.GeoLeaf.UI, \"_userPosition\", {\r\n        get() {\r\n            return GeoLocationState.userPosition;\r\n        },\r\n        set(v) {\r\n            GeoLocationState.userPosition = v;\r\n        },\r\n        configurable: true,\r\n        enumerable: true,\r\n    });\r\n    Object.defineProperty(_g.GeoLeaf.UI, \"_userPositionAccuracy\", {\r\n        get() {\r\n            return GeoLocationState.userPositionAccuracy;\r\n        },\r\n        set(v) {\r\n            GeoLocationState.userPositionAccuracy = v;\r\n        },\r\n        configurable: true,\r\n        enumerable: true,\r\n    });\r\n}\r\n\r\n// ========================================\r\n//   API DELEGATION - PANEL BUILDER\r\n// ========================================\r\n\r\nif (_g.GeoLeaf._UIPanelBuilder || _g.GeoLeaf.UI.PanelBuilder) {\r\n    // Délégation vers panel builder\r\n    _g.GeoLeaf.UI.buildSidePanel =\r\n        (_g.GeoLeaf._UIPanelBuilder && _g.GeoLeaf._UIPanelBuilder.buildSidePanel) ||\r\n        (_g.GeoLeaf.UI.PanelBuilder && _g.GeoLeaf.UI.PanelBuilder.buildSidePanel);\r\n    _g.GeoLeaf.UI.renderPoiSidePanel =\r\n        (_g.GeoLeaf._UIPanelBuilder && _g.GeoLeaf._UIPanelBuilder.renderPoiSidePanel) ||\r\n        (_g.GeoLeaf.UI.PanelBuilder && _g.GeoLeaf.UI.PanelBuilder.renderPoiSidePanel);\r\n\r\n    // Legacy compatibility pour POI panels\r\n    _g.GeoLeaf.UI.renderPoiPanelWithLayout = function (poi, layout, container) {\r\n        if (_g.GeoLeaf.UI.renderPoiSidePanel) {\r\n            return _g.GeoLeaf.UI.renderPoiSidePanel(poi, layout, container);\r\n        }\r\n        if (Log)\r\n            Log.warn(\"[UI.Orchestrator] renderPoiPanelWithLayout: PanelBuilder non disponible\");\r\n    };\r\n\r\n    // Helper functions (deprecated, pour compatibilité)\r\n    _g.GeoLeaf.UI._resolveField = function (poi, fieldPath) {\r\n        if (_g.GeoLeaf._UIDomUtils && _g.GeoLeaf._UIDomUtils.resolveField) {\r\n            return _g.GeoLeaf._UIDomUtils.resolveField(poi, fieldPath);\r\n        }\r\n        return null;\r\n    };\r\n\r\n    _g.GeoLeaf.UI._createPlainSection = function (label, innerContent, extraClass) {\r\n        if (_g.GeoLeaf.UI.PanelBuilder && _g.GeoLeaf.UI.PanelBuilder.createPlainSection) {\r\n            return _g.GeoLeaf.UI.PanelBuilder.createPlainSection(label, innerContent, extraClass);\r\n        }\r\n        return $create(\"section\", { className: \"gl-poi-panel__section \" + (extraClass || \"\") });\r\n    };\r\n\r\n    _g.GeoLeaf.UI._createAccordionSection = function (label, innerContent, options) {\r\n        if (_g.GeoLeaf.UI.PanelBuilder && _g.GeoLeaf.UI.PanelBuilder.createAccordionSection) {\r\n            return _g.GeoLeaf.UI.PanelBuilder.createAccordionSection(label, innerContent, options);\r\n        }\r\n        return $create(\"section\", { className: \"gl-poi-panel__section--accordion\" });\r\n    };\r\n}\r\n\r\n// ========================================\r\n//   API DELEGATION - FILTER PANEL\r\n// ========================================\r\n\r\nif (_g.GeoLeaf._UIFilterPanel) {\r\n    // Délégation des fonctions filtres\r\n    _g.GeoLeaf.UI.buildFilterPanelFromActiveProfile =\r\n        _g.GeoLeaf._UIFilterPanel.buildFilterPanelFromActiveProfile;\r\n    _g.GeoLeaf.UI.refreshFilterTags = _g.GeoLeaf._UIFilterPanel.refreshFilterTags;\r\n    _g.GeoLeaf.UI.initFilterToggle = _g.GeoLeaf._UIFilterPanel.initFilterToggle;\r\n    _g.GeoLeaf.UI.initProximityFilter = _g.GeoLeaf._UIFilterPanel.initProximityFilter;\r\n    _g.GeoLeaf.UI._getBasePois = _g.GeoLeaf._UIFilterPanel.getBasePois;\r\n    _g.GeoLeaf.UI._getBaseRoutes = _g.GeoLeaf._UIFilterPanel.getBaseRoutes;\r\n\r\n    // Filter state integration si disponible\r\n    if (_g.GeoLeaf._UIFilterStateManager) {\r\n        // Bridge entre filter panel et state manager\r\n        _g.GeoLeaf.UI.resetAllFilters = function () {\r\n            _g.GeoLeaf._UIFilterStateManager.resetAllFilters();\r\n            if (_g.GeoLeaf._UIFilterPanel.refreshFilterTags) {\r\n                _g.GeoLeaf._UIFilterPanel.refreshFilterTags();\r\n            }\r\n        };\r\n\r\n        _g.GeoLeaf.UI.getActiveFilters = _g.GeoLeaf._UIFilterStateManager.getActiveFiltersSummary;\r\n        _g.GeoLeaf.UI.hasActiveFilters = _g.GeoLeaf._UIFilterStateManager.hasActiveFilters;\r\n    }\r\n}\r\n\r\n// ========================================\r\n//   API DELEGATION - NOTIFICATIONS\r\n// ========================================\r\n\r\nif (_g.GeoLeaf._UINotifications) {\r\n    // Créer un namespace dédié pour l'accès complet\r\n    _g.GeoLeaf.UI.Notifications = {\r\n        show: _g.GeoLeaf._UINotifications.show.bind(_g.GeoLeaf._UINotifications),\r\n        success: _g.GeoLeaf._UINotifications.success.bind(_g.GeoLeaf._UINotifications),\r\n        error: _g.GeoLeaf._UINotifications.error.bind(_g.GeoLeaf._UINotifications),\r\n        warning: _g.GeoLeaf._UINotifications.warning.bind(_g.GeoLeaf._UINotifications),\r\n        info: _g.GeoLeaf._UINotifications.info.bind(_g.GeoLeaf._UINotifications),\r\n        clearAll: _g.GeoLeaf._UINotifications.clearAll.bind(_g.GeoLeaf._UINotifications),\r\n        enable: _g.GeoLeaf._UINotifications.enable.bind(_g.GeoLeaf._UINotifications),\r\n        disable: _g.GeoLeaf._UINotifications.disable.bind(_g.GeoLeaf._UINotifications),\r\n        getStatus: _g.GeoLeaf._UINotifications.getStatus.bind(_g.GeoLeaf._UINotifications),\r\n    };\r\n\r\n    // Raccourcis globaux pour l'API publique (rétrocompatibilité)\r\n    _g.GeoLeaf.UI.showNotification = _g.GeoLeaf._UINotifications.show.bind(\r\n        _g.GeoLeaf._UINotifications\r\n    );\r\n    _g.GeoLeaf.UI.showSuccess = _g.GeoLeaf._UINotifications.success.bind(\r\n        _g.GeoLeaf._UINotifications\r\n    );\r\n    _g.GeoLeaf.UI.showError = _g.GeoLeaf._UINotifications.error.bind(_g.GeoLeaf._UINotifications);\r\n    _g.GeoLeaf.UI.showWarning = _g.GeoLeaf._UINotifications.warning.bind(\r\n        _g.GeoLeaf._UINotifications\r\n    );\r\n    _g.GeoLeaf.UI.showInfo = _g.GeoLeaf._UINotifications.info.bind(_g.GeoLeaf._UINotifications);\r\n    _g.GeoLeaf.UI.clearNotifications = _g.GeoLeaf._UINotifications.clearAll.bind(\r\n        _g.GeoLeaf._UINotifications\r\n    );\r\n}\r\n\r\n// ========================================\r\n//   EVENT DELEGATION INTEGRATION\r\n// ========================================\r\n\r\nlet _delegationInitialized = false;\r\n\r\n/**\r\n * Initialise la délégation d'événements pour l'interface\r\n * @param {Object} options - Options d'initialisation\r\n */\r\nfunction initializeEventDelegation(options = {}) {\r\n    if (_delegationInitialized || !_g.GeoLeaf._UIEventDelegation) return;\r\n\r\n    const { filterContainer } = options;\r\n\r\n    // Event listeners pour les filtres si disponible\r\n    if (filterContainer && _g.GeoLeaf._UIFilterStateManager) {\r\n        _g.GeoLeaf._UIEventDelegation.attachFilterInputEvents(filterContainer, () => {\r\n            // Callback de changement de filtre - déléguer vers FilterPanel\r\n            if (_g.GeoLeaf._UIFilterPanel && _g.GeoLeaf._UIFilterPanel.refreshFilterTags) {\r\n                _g.GeoLeaf._UIFilterPanel.refreshFilterTags();\r\n            }\r\n        });\r\n    }\r\n\r\n    // Event listeners pour les accordéons\r\n    document.addEventListener(\"DOMContentLoaded\", () => {\r\n        const accordionContainers = document.querySelectorAll(\".gl-poi-panel, .gl-filter-panel\");\r\n        accordionContainers.forEach((container) => {\r\n            _g.GeoLeaf._UIEventDelegation.attachAccordionEvents(container);\r\n        });\r\n    });\r\n\r\n    _delegationInitialized = true;\r\n    if (Log) Log.info(\"[UI.Orchestrator] Event delegation initialisée\");\r\n}\r\n\r\n// ========================================\r\n//   MAIN INITIALIZATION\r\n// ========================================\r\n\r\n/**\r\n * Point d'entrée principal pour l'initialisation UI\r\n * @param {Object} options - Options d'initialisation\r\n * @param {HTMLElement} options.map - Instance carte Leaflet\r\n * @param {HTMLElement} options.mapContainer - Conteneur DOM de la carte\r\n * @param {HTMLElement} options.filterContainer - Conteneur des filtres\r\n * @param {string} options.buttonSelector - Sélecteur du bouton thème\r\n * @param {boolean} options.autoInitOnDomReady - Auto-init au DOMContentLoaded\r\n * @param {boolean} options.enableEventDelegation - Active la délégation d'événements (défaut: true)\r\n */\r\n_g.GeoLeaf.UI.init = function (options = {}) {\r\n    const config = {\r\n        buttonSelector: options.buttonSelector || '[data-gl-role=\"theme-toggle\"]',\r\n        autoInitOnDomReady: !!options.autoInitOnDomReady,\r\n        enableEventDelegation: options.enableEventDelegation !== false,\r\n    };\r\n\r\n    // Vérification des modules\r\n    const { missing, allAvailable } = checkModuleAvailability();\r\n    if (!allAvailable && Log) {\r\n        Log.warn(\"[UI.Orchestrator] Initialisation avec modules manquants:\", missing);\r\n    }\r\n\r\n    // Initialisation du thème\r\n    if (_g.GeoLeaf.UI.initThemeToggle) {\r\n        try {\r\n            _g.GeoLeaf.UI.initThemeToggle(config);\r\n        } catch (error) {\r\n            if (Log) Log.error(\"[UI.Orchestrator] Erreur init thème:\", error);\r\n        }\r\n    }\r\n\r\n    // Initialisation des contrôles si carte disponible\r\n    if (options.map && options.mapContainer) {\r\n        // Fullscreen control\r\n        if (_g.GeoLeaf.UI.initFullscreenControl) {\r\n            try {\r\n                _g.GeoLeaf.UI.initFullscreenControl(options.map, options.mapContainer);\r\n            } catch (error) {\r\n                if (Log) Log.error(\"[UI.Orchestrator] Erreur fullscreen control:\", error);\r\n            }\r\n        }\r\n\r\n        // Geolocation control - forcer l'initialisation\r\n        if (_g.GeoLeaf.UI.initGeolocationControl) {\r\n            try {\r\n                _g.GeoLeaf.UI.initGeolocationControl(options.map, options.config);\r\n            } catch (error) {\r\n                if (Log) Log.error(\"[UI.Orchestrator] Erreur geolocation control:\", error);\r\n            }\r\n        }\r\n\r\n        // POI Add control - forcer l'initialisation\r\n        if (_g.GeoLeaf.UI.initPoiAddControl) {\r\n            try {\r\n                _g.GeoLeaf.UI.initPoiAddControl(options.map, options.config);\r\n            } catch (error) {\r\n                if (Log) Log.error(\"[UI.Orchestrator] Erreur POI add control:\", error);\r\n            }\r\n        }\r\n\r\n        // Scale control\r\n        if (_g.GeoLeaf.UI.initScaleControl) {\r\n            try {\r\n                _g.GeoLeaf.UI.initScaleControl(options.map);\r\n            } catch (error) {\r\n                if (Log) Log.error(\"[UI.Orchestrator] Erreur scale control:\", error);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Initialisation de la délégation d'événements\r\n    if (config.enableEventDelegation) {\r\n        initializeEventDelegation({\r\n            mapContainer: options.mapContainer,\r\n            filterContainer: options.filterContainer,\r\n        });\r\n    }\r\n\r\n    // Initialisation du filter state manager si profil disponible\r\n    if (_g.GeoLeaf._UIFilterStateManager && _g.GeoLeaf.Config) {\r\n        const activeProfile = _g.GeoLeaf.Config.getActiveProfile?.() || null;\r\n        if (activeProfile && activeProfile.filters) {\r\n            try {\r\n                _g.GeoLeaf._UIFilterStateManager.initializeFromProfile(activeProfile);\r\n            } catch (error) {\r\n                if (Log) Log.error(\"[UI.Orchestrator] Erreur init filter state:\", error);\r\n            }\r\n        }\r\n    }\r\n\r\n    if (Log) {\r\n        Log.info(\r\n            `[UI.Orchestrator] Initialisation terminée (modules: ${Object.keys(checkModuleAvailability().modules).length})`\r\n        );\r\n    }\r\n};\r\n\r\n// ========================================\r\n//   UTILITY & DEBUG FUNCTIONS\r\n// ========================================\r\n\r\n/**\r\n * Informations de debug sur l'état des modules\r\n * @returns {Object} Status détaillé des modules\r\n */\r\n_g.GeoLeaf.UI.getModuleStatus = function () {\r\n    return checkModuleAvailability();\r\n};\r\n\r\n/**\r\n * Nettoyage général des resources UI\r\n */\r\n_g.GeoLeaf.UI.cleanup = function () {\r\n    // Nettoyage des event listeners\r\n    if (_g.GeoLeaf._UIEventDelegation && _g.GeoLeaf._UIEventDelegation.cleanupAllListeners) {\r\n        const cleaned = _g.GeoLeaf._UIEventDelegation.cleanupAllListeners();\r\n        if (Log && cleaned > 0) {\r\n            Log.info(`[UI.Orchestrator] ${cleaned} event listeners nettoyés`);\r\n        }\r\n    }\r\n\r\n    // Reset flag délégation\r\n    _delegationInitialized = false;\r\n\r\n    if (Log) Log.info(\"[UI.Orchestrator] Nettoyage terminé\");\r\n};\r\n\r\n// ========================================\r\n//   LEGACY COMPATIBILITY LAYER\r\n// ========================================\r\n\r\n// Fonctions legacy maintenues pour compatibilité\r\n_g.GeoLeaf.UI._attachAccordionBehavior = function (container) {\r\n    if (_g.GeoLeaf._UIEventDelegation && _g.GeoLeaf._UIEventDelegation.attachAccordionEvents) {\r\n        return _g.GeoLeaf._UIEventDelegation.attachAccordionEvents(container);\r\n    }\r\n    if (Log)\r\n        Log.warn(\"[UI.Orchestrator] _attachAccordionBehavior: EventDelegation module manquant\");\r\n};\r\n\r\n_g.GeoLeaf.UI._getActiveProfileConfig = function () {\r\n    if (_g.GeoLeaf._UIDomUtils && _g.GeoLeaf._UIDomUtils.getActiveProfileConfig) {\r\n        return _g.GeoLeaf._UIDomUtils.getActiveProfileConfig();\r\n    }\r\n    return _g.GeoLeaf.Config?.getActiveProfile?.() || null;\r\n};\r\n\r\n// Version info\r\n_g.GeoLeaf.UI.VERSION = \"4.4.0\";\r\n_g.GeoLeaf.UI.BUILD = \"Sprint-4.4-Modular\";\r\n\r\nif (Log) {\r\n    Log.info(`[UI.Orchestrator] Module initialisé v${GeoLeaf.UI.VERSION}`);\r\n}\r\n\r\nconst UI = _g.GeoLeaf.UI;\r\nexport { UI };\r\n","/**\r\n * GeoLeaf — General Validators\r\n * Validation fonctions génériques (coordonnées, URL, email, etc.)\r\n *\r\n * @module validators/general-validators\r\n */\r\n\"use strict\";\r\n\r\nimport { Errors } from \"../errors/index.js\";\r\nimport { validateCoordinates as _secValidateCoordinates } from \"../security/index.js\";\r\n\r\n/**\r\n * Validate geographic coordinates\r\n * Delegates range validation to Security.validateCoordinates (canonical).\r\n * Returns a {valid, error} report object rather than throwing.\r\n */\r\nfunction validateCoordinates(lat, lng, options = {}) {\r\n    const { throwOnError = false } = options;\r\n    try {\r\n        _secValidateCoordinates(lat, lng);\r\n        return { valid: true, error: null };\r\n    } catch (err) {\r\n        const error = new Errors.ValidationError(err.message, { lat, lng });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n}\r\n\r\n/**\r\n * Validate URL\r\n */\r\nfunction validateUrl(url, options = {}) {\r\n    const {\r\n        allowedProtocols = [\"http:\", \"https:\", \"data:\"],\r\n        allowDataImages = true,\r\n        throwOnError = false,\r\n    } = options;\r\n\r\n    if (!url || typeof url !== \"string\") {\r\n        const error = new Errors.ValidationError(\"URL must be a non-empty string\", {\r\n            url,\r\n            type: typeof url,\r\n        });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message, url: null };\r\n    }\r\n\r\n    try {\r\n        const parsed = new URL(url, \"http://dummy.com\");\r\n        const protocol = parsed.protocol;\r\n\r\n        if (!allowedProtocols.includes(protocol)) {\r\n            if (protocol === \"data:\") {\r\n                if (!allowDataImages) {\r\n                    throw new Errors.SecurityError(\"Data URLs are not allowed\", { url, protocol });\r\n                }\r\n                const dataType = url.substring(5, url.indexOf(\",\") || url.indexOf(\";\"));\r\n                if (!dataType.startsWith(\"image/\")) {\r\n                    throw new Errors.SecurityError(\"Only data:image URLs are allowed\", {\r\n                        url,\r\n                        dataType,\r\n                    });\r\n                }\r\n            } else {\r\n                throw new Errors.SecurityError(`Protocol \"${protocol}\" not allowed`, {\r\n                    url,\r\n                    protocol,\r\n                    allowed: allowedProtocols,\r\n                });\r\n            }\r\n        }\r\n\r\n        return { valid: true, error: null, url: parsed.href };\r\n    } catch (err) {\r\n        if (throwOnError) throw err;\r\n        return { valid: false, error: err.message, url: null };\r\n    }\r\n}\r\n\r\n/**\r\n * Validate email address\r\n */\r\nfunction validateEmail(email, options = {}) {\r\n    const { throwOnError = false } = options;\r\n\r\n    if (!email || typeof email !== \"string\") {\r\n        const error = new Errors.ValidationError(\"Email must be a non-empty string\", {\r\n            email,\r\n            type: typeof email,\r\n        });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n        const error = new Errors.ValidationError(\"Invalid email format\", { email });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    return { valid: true, error: null };\r\n}\r\n\r\n/**\r\n * Validate phone number\r\n */\r\nfunction validatePhone(phone, options = {}) {\r\n    const { throwOnError = false } = options;\r\n\r\n    if (!phone || typeof phone !== \"string\") {\r\n        const error = new Errors.ValidationError(\"Phone must be a non-empty string\", {\r\n            phone,\r\n            type: typeof phone,\r\n        });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    const phoneRegex = /^[\\d\\s+\\-()]+$/;\r\n    if (!phoneRegex.test(phone)) {\r\n        const error = new Errors.ValidationError(\"Invalid phone format\", { phone });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    const digits = phone.replace(/\\D/g, \"\");\r\n    if (digits.length < 10) {\r\n        const error = new Errors.ValidationError(\"Phone number must contain at least 10 digits\", {\r\n            phone,\r\n            digitCount: digits.length,\r\n        });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    return { valid: true, error: null };\r\n}\r\n\r\n/**\r\n * Validate zoom level\r\n */\r\nfunction validateZoom(zoom, options = {}) {\r\n    const { min = 0, max = 20, throwOnError = false } = options;\r\n\r\n    if (typeof zoom !== \"number\") {\r\n        const error = new Errors.ValidationError(\"Zoom must be a number\", {\r\n            zoom,\r\n            type: typeof zoom,\r\n        });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    if (!Number.isFinite(zoom)) {\r\n        const error = new Errors.ValidationError(\"Zoom must be a finite number\", { zoom });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    if (zoom < min || zoom > max) {\r\n        const error = new Errors.ValidationError(`Zoom must be between ${min} and ${max}`, {\r\n            zoom,\r\n            min,\r\n            max,\r\n        });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    return { valid: true, error: null };\r\n}\r\n\r\n/**\r\n * Validate required configuration fields\r\n */\r\nfunction validateRequiredFields(config, requiredFields, options = {}) {\r\n    const { throwOnError = false } = options;\r\n\r\n    if (!config || typeof config !== \"object\") {\r\n        const error = new Errors.ConfigError(\"Config must be an object\", {\r\n            config,\r\n            type: typeof config,\r\n        });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message, missing: requiredFields };\r\n    }\r\n\r\n    const missing = requiredFields.filter(\r\n        (field) => !(field in config) || config[field] === null || config[field] === undefined\r\n    );\r\n\r\n    if (missing.length > 0) {\r\n        const error = new Errors.ConfigError(`Missing required fields: ${missing.join(\", \")}`, {\r\n            config,\r\n            missing,\r\n        });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message, missing };\r\n    }\r\n\r\n    return { valid: true, error: null, missing: [] };\r\n}\r\n\r\n/**\r\n * Validate GeoJSON object\r\n */\r\nfunction validateGeoJSON(geojson, options = {}) {\r\n    const { throwOnError = false } = options;\r\n\r\n    if (!geojson || typeof geojson !== \"object\") {\r\n        const error = new Errors.ValidationError(\"GeoJSON must be an object\", {\r\n            geojson,\r\n            type: typeof geojson,\r\n        });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    if (!geojson.type) {\r\n        const error = new Errors.ValidationError(\"GeoJSON must have a type field\", { geojson });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    const validTypes = [\r\n        \"Point\",\r\n        \"MultiPoint\",\r\n        \"LineString\",\r\n        \"MultiLineString\",\r\n        \"Polygon\",\r\n        \"MultiPolygon\",\r\n        \"GeometryCollection\",\r\n        \"Feature\",\r\n        \"FeatureCollection\",\r\n    ];\r\n\r\n    if (!validTypes.includes(geojson.type)) {\r\n        const error = new Errors.ValidationError(\"Invalid GeoJSON type\", {\r\n            type: geojson.type,\r\n            validTypes,\r\n        });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    if (geojson.type === \"Feature\" && !geojson.geometry) {\r\n        const error = new Errors.ValidationError(\"Feature must have a geometry\", { geojson });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    if (geojson.type === \"FeatureCollection\" && !Array.isArray(geojson.features)) {\r\n        const error = new Errors.ValidationError(\"FeatureCollection must have a features array\", {\r\n            geojson,\r\n        });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    return { valid: true, error: null };\r\n}\r\n\r\n/**\r\n * Validate color string (hex, rgb, rgba, named)\r\n */\r\nfunction validateColor(color, options = {}) {\r\n    const { throwOnError = false } = options;\r\n\r\n    if (!color || typeof color !== \"string\") {\r\n        const error = new Errors.ValidationError(\"Color must be a non-empty string\", {\r\n            color,\r\n            type: typeof color,\r\n        });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    // eslint-disable-next-line security/detect-unsafe-regex\r\n    const hexRegex = /^#[0-9A-Fa-f]{3}([0-9A-Fa-f]{3})?$/;\r\n    const rgbRegex = /^rgb\\(\\s*\\d+\\s*,\\s*\\d+\\s*,\\s*\\d+\\s*\\)$/;\r\n    const rgbaRegex = /^rgba\\(\\s*\\d+\\s*,\\s*\\d+\\s*,\\s*\\d+\\s*,\\s*[\\d.]+\\s*\\)$/;\r\n\r\n    const isValid =\r\n        hexRegex.test(color) ||\r\n        rgbRegex.test(color) ||\r\n        rgbaRegex.test(color) ||\r\n        (typeof CSS !== \"undefined\" && CSS.supports(\"color\", color));\r\n\r\n    if (!isValid) {\r\n        const error = new Errors.ValidationError(\"Invalid color format\", { color });\r\n        if (throwOnError) throw error;\r\n        return { valid: false, error: error.message };\r\n    }\r\n\r\n    return { valid: true, error: null };\r\n}\r\n\r\n/**\r\n * Batch validate multiple values with their validators\r\n */\r\nfunction validateBatch(validations) {\r\n    const errors = [];\r\n\r\n    for (const item of validations) {\r\n        const { value, validator, options = {}, label = \"value\" } = item;\r\n\r\n        if (typeof validator !== \"function\") {\r\n            errors.push(`Invalid validator for ${label}`);\r\n            continue;\r\n        }\r\n\r\n        const result = validator(value, { ...options, throwOnError: false });\r\n        if (!result.valid) {\r\n            errors.push(`${label}: ${result.error}`);\r\n        }\r\n    }\r\n\r\n    return { valid: errors.length === 0, errors };\r\n}\r\n\r\n// Assembled namespace\r\nconst Validators = {\r\n    validateCoordinates,\r\n    validateUrl,\r\n    validateEmail,\r\n    validatePhone,\r\n    validateZoom,\r\n    validateRequiredFields,\r\n    validateGeoJSON,\r\n    validateColor,\r\n    validateBatch,\r\n};\r\n\r\nexport {\r\n    Validators,\r\n    validateCoordinates,\r\n    validateUrl,\r\n    validateEmail,\r\n    validatePhone,\r\n    validateZoom,\r\n    validateRequiredFields,\r\n    validateGeoJSON,\r\n    validateColor,\r\n    validateBatch,\r\n};\r\n","/*!\r\n * GeoLeaf Core – API / Boot Info\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n */\r\n\r\n/**\r\n * Affiche un toast de démarrage listant la version GeoLeaf\r\n * et les plugins optionnels chargés.\r\n *\r\n * Appelé automatiquement à la fin de GeoLeaf.boot() si non désactivé.\r\n *\r\n * @module api/boot-info\r\n */\r\n\r\n/**\r\n * Détecte les plugins chargés en interrogeant window.GeoLeaf.\r\n * @param {object} GeoLeaf - Le namespace global GeoLeaf\r\n * @returns {string[]} Liste des noms de plugins actifs\r\n */\r\nfunction _detectLoadedPlugins(GeoLeaf) {\r\n    // Source principale : PluginRegistry (fiable, auto-enregistrement par chaque plugin).\r\n    // Si le registry est disponible, on s'y fie intégralement — même liste vide (Core seul).\r\n    // Ne PAS tomber en fallback duck-typing : les facades Core (Storage, Labels, LayerManager)\r\n    // existent même sans plugin premium, ce qui fausse la détection.\r\n    if (GeoLeaf.plugins?.getLoadedPlugins) {\r\n        return GeoLeaf.plugins.getLoadedPlugins().filter((n) => !['core'].includes(n));\r\n    }\r\n\r\n    // Fallback duck-typing si registry non disponible (compat ascendante)\r\n    const plugins = [];\r\n    if (GeoLeaf.Storage && typeof GeoLeaf.Storage === \"object\") {\r\n        const hasDB = GeoLeaf.Storage.DB && typeof GeoLeaf.Storage.DB === \"object\";\r\n        plugins.push(hasDB ? \"storage (offline + IndexedDB)\" : \"storage (cache)\");\r\n    }\r\n    if (GeoLeaf.POI?.AddForm && typeof GeoLeaf.POI.AddForm === \"object\") {\r\n        plugins.push(\"addpoi\");\r\n    }\r\n    if (GeoLeaf._LayerManagerControl || GeoLeaf._LMRenderer) {\r\n        plugins.push(\"layer-manager\");\r\n    }\r\n    if (GeoLeaf.Route && typeof GeoLeaf.Route.load === \"function\") {\r\n        plugins.push(\"route\");\r\n    }\r\n    if (GeoLeaf.Labels && typeof GeoLeaf.Labels.init === \"function\") {\r\n        plugins.push(\"labels\");\r\n    }\r\n    return plugins;\r\n}\r\n\r\n/**\r\n * Construit le message du toast de démarrage.\r\n * @param {object} GeoLeaf\r\n * @returns {{ title: string, message: string }}\r\n */\r\nfunction _buildBootMessage(GeoLeaf) {\r\n    const version = GeoLeaf._version || \"4.0.0\";\r\n    const plugins = _detectLoadedPlugins(GeoLeaf);\r\n\r\n    // Distinguer modules premium des modules core\r\n    const premiumKeys = [\"storage\", \"addpoi\"];\r\n    const premiumLoaded = plugins.filter((p) =>\r\n        premiumKeys.some((pk) => p.toLowerCase().startsWith(pk))\r\n    );\r\n    const coreModules = plugins.filter(\r\n        (p) => !premiumKeys.some((pk) => p.toLowerCase().startsWith(pk))\r\n    );\r\n\r\n    let message = \"\";\r\n    if (premiumLoaded.length > 0) {\r\n        message = `Core MIT • Premium: ${premiumLoaded.join(\" + \")}`;\r\n        if (coreModules.length > 0) message += ` • ${coreModules.join(\" • \")}`;\r\n    } else {\r\n        message =\r\n            plugins.length > 0 ? `Core MIT — ${coreModules.join(\" • \")}` : \"Core MIT — open source\";\r\n    }\r\n\r\n    return {\r\n        title: `GeoLeaf JS ${version}`,\r\n        message,\r\n    };\r\n}\r\n\r\n/**\r\n * Affiche le toast de démarrage.\r\n * Respecte la config `debug.showBootInfo` (défaut: true en dev, false en prod).\r\n *\r\n * @param {object} GeoLeaf - Le namespace global GeoLeaf\r\n * @param {object} [options]\r\n * @param {boolean} [options.force=false] - Forcer l'affichage même si désactivé en config\r\n * @param {number} [options.duration=4000] - Durée d'affichage en ms\r\n */\r\nexport function showBootInfo(GeoLeaf, options = {}) {\r\n    if (!GeoLeaf) return;\r\n\r\n    // Vérification config — désactivable via profil JSON : \"debug\": { \"showBootInfo\": false }\r\n    if (!options.force) {\r\n        try {\r\n            const showFlag = GeoLeaf.Config?.get?.(\"debug.showBootInfo\");\r\n            // Si explicitement désactivé, ne pas afficher\r\n            if (showFlag === false) return;\r\n        } catch (_) {\r\n            /* Config non disponible — afficher quand même */\r\n        }\r\n    }\r\n\r\n    const { title, message } = _buildBootMessage(GeoLeaf);\r\n\r\n    // Log only — toast désactivé (dev info uniquement)\r\n    console.info(`[GeoLeaf] ${title} | ${message}`);\r\n}\r\n\r\n/**\r\n * API publique exposée sur GeoLeaf.bootInfo\r\n */\r\nexport const BootInfo = {\r\n    show: showBootInfo,\r\n    detectPlugins: _detectLoadedPlugins,\r\n    buildMessage: _buildBootMessage,\r\n};\r\n","/*!\r\n * GeoLeaf Core – API / PluginRegistry\r\n * © 2026 Mattieu Pottier — MIT License\r\n */\r\n\r\n/**\r\n * Registre léger des plugins et modules GeoLeaf chargés.\r\n * Permet aux intégrateurs d'interroger les capacités disponibles.\r\n *\r\n * @module api/plugin-registry\r\n * @example\r\n * GeoLeaf.plugins.isLoaded('storage')      // → true/false\r\n * GeoLeaf.plugins.getLoadedPlugins()        // → ['core', 'storage', 'labels']\r\n * GeoLeaf.plugins.canActivate('addpoi')     // → true si dépendances OK\r\n */\r\n\r\nconst _registry = new Map(); // name → { name, version, loaded, loadedAt, metadata }\r\n\r\nconst _lazyResolvers = new Map(); // name → () => Promise<void>\r\n\r\nexport const PluginRegistry = {\r\n    /**\r\n     * Enregistre un plugin comme chargé.\r\n     * Appelé automatiquement par globals.js et les fichiers plugins.\r\n     * @param {string} name - Identifiant du plugin (ex: 'storage', 'addpoi', 'labels')\r\n     * @param {object} [metadata] - Métadonnées optionnelles { version, requires, optional }\r\n     */\r\n    register(name, metadata = {}) {\r\n        _registry.set(name, {\r\n            name,\r\n            version: metadata.version || null,\r\n            loaded: true,\r\n            loadedAt: Date.now(),\r\n            requires: metadata.requires || [],\r\n            optional: metadata.optional || [],\r\n            label: metadata.label || name,\r\n            healthCheck: metadata.healthCheck || null,\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Enregistre un resolver lazy (appelé par bundle-entry.js).\r\n     * @param {string} name\r\n     * @param {Function} resolver - () => Promise<void>\r\n     */\r\n    registerLazy(name, resolver) {\r\n        _lazyResolvers.set(name, resolver);\r\n    },\r\n\r\n    /**\r\n     * Vérifie si un plugin est actuellement chargé.\r\n     * @param {string} name\r\n     * @returns {boolean}\r\n     */\r\n    isLoaded(name) {\r\n        return _registry.has(name) && _registry.get(name).loaded === true;\r\n    },\r\n\r\n    /**\r\n     * Vérifie si un plugin peut être activé (ses dépendances `requires` sont chargées).\r\n     * @param {string} name\r\n     * @returns {boolean}\r\n     */\r\n    canActivate(name) {\r\n        const entry = _registry.get(name);\r\n        if (!entry) return _lazyResolvers.has(name);\r\n        return entry.requires.every((dep) => PluginRegistry.isLoaded(dep));\r\n    },\r\n\r\n    /**\r\n     * Charge un plugin lazy par son nom.\r\n     * @param {string} name\r\n     * @returns {Promise<void>}\r\n     */\r\n    async load(name) {\r\n        if (PluginRegistry.isLoaded(name)) return;\r\n        const resolver = _lazyResolvers.get(name);\r\n        if (!resolver)\r\n            throw new Error(\r\n                `[GeoLeaf.plugins] Module inconnu : \"${name}\". Modules disponibles : ${[..._lazyResolvers.keys()].join(\", \")}`\r\n            );\r\n        await resolver();\r\n    },\r\n\r\n    /**\r\n     * Retourne la liste des noms de plugins chargés.\r\n     * @returns {string[]}\r\n     */\r\n    getLoadedPlugins() {\r\n        return [..._registry.keys()].filter((k) => _registry.get(k).loaded);\r\n    },\r\n\r\n    /**\r\n     * Retourne la liste de tous les modules disponibles (chargés + lazy disponibles).\r\n     * @returns {string[]}\r\n     */\r\n    getAvailableModules() {\r\n        return [...new Set([..._registry.keys(), ..._lazyResolvers.keys()])];\r\n    },\r\n\r\n    /**\r\n     * Retourne les métadonnées d'un plugin.\r\n     * @param {string} name\r\n     * @returns {object|null}\r\n     */\r\n    getInfo(name) {\r\n        return _registry.get(name) || null;\r\n    },\r\n\r\n    /**\r\n     * Affiche dans la console un rapport des plugins premium chargés.\r\n     * Silencieux si aucun plugin premium n'est chargé (core seul).\r\n     */\r\n    reportPremiumPlugins() {\r\n        const CORE_MODULES = new Set([\r\n            \"core\",\r\n            \"labels\",\r\n            \"route\",\r\n            \"table\",\r\n            \"legend\",\r\n            \"layerManager\",\r\n            \"themes\",\r\n            \"basemapSelector\",\r\n            \"poiCore\",\r\n            \"poiRenderers\",\r\n            \"poiExtras\",\r\n            \"poi\",\r\n            \"basemap-selector\",\r\n        ]);\r\n        const premium = [..._registry.values()].filter(\r\n            (e) => e.loaded && !CORE_MODULES.has(e.name)\r\n        );\r\n        if (premium.length === 0) {\r\n            console.info(\"%c[PLUGINS] Core MIT — 0 plugin premium chargé\", \"color:#6b7280;font-style:italic\");\r\n            return;\r\n        }\r\n\r\n        console.groupCollapsed(\r\n            // eslint-disable-line no-console\r\n            `%c[PLUGINS] ${premium.length} plugin(s) premium chargé(s)`,\r\n            \"color:#7c3aed;font-weight:bold\"\r\n        );\r\n        for (const entry of premium) {\r\n            const healthy = typeof entry.healthCheck === \"function\" ? entry.healthCheck() : true;\r\n            const icon = healthy ? \"✅\" : \"❌\";\r\n            const color = healthy ? \"color:#16a34a\" : \"color:#dc2626\";\r\n            const label = entry.label || entry.name;\r\n            const version = entry.version ? ` v${entry.version}` : \"\";\r\n            const status = healthy ? \"OK\" : \"ERREUR — module incomplet\";\r\n            console.log(`%c  ${icon} ${label}${version}  [${status}]`, color); // eslint-disable-line no-console\r\n            if (!healthy) {\r\n                console.warn(\r\n                    // eslint-disable-line no-console\r\n                    `     [PLUGINS] ${entry.name} : healthCheck échoué — vérifiez le chargement du plugin.`\r\n                );\r\n            }\r\n        }\r\n        console.groupEnd(); // eslint-disable-line no-console\r\n    },\r\n\r\n    // Accès interne — ne pas utiliser en dehors de GeoLeaf\r\n    _registry,\r\n    _lazyResolvers,\r\n};\r\n","/**\r\n * globals.api.js — Bridge UMD/ESM : B11 — facades geoleaf.*.js + api, PluginRegistry\r\n *\r\n * @see globals.js (orchestrateur)\r\n */\r\n\r\n// B11 : facades geoleaf.*.js + api/\r\n// Note: api/ must be imported before geoleaf.api.js (controller sets up _APIController getter)\r\nimport { Log } from \"./log/index.js\";\r\nimport { APIController } from \"./api/controller.js\";\r\nimport { APIFactoryManager } from \"./api/factory-manager.js\";\r\nimport { APIInitializationManager } from \"./api/initialization-manager.js\";\r\nimport { APIModuleManager } from \"./api/module-manager.js\";\r\nimport { Baselayers } from \"./geoleaf.baselayers.js\";\r\nimport { Core } from \"./geoleaf.core.js\";\r\nimport { Filters } from \"./geoleaf.filters.js\";\r\nimport { Helpers } from \"./geoleaf.helpers.js\";\r\nimport { LayerManager } from \"./geoleaf.layer-manager.js\";\r\nimport { Legend } from \"./geoleaf.legend.js\";\r\nimport { POI } from \"./geoleaf.poi.js\";\r\nimport { Route } from \"./geoleaf.route.js\";\r\n// Storage facade lives in GeoLeaf-Plugins (Phase 7 — premium separation)\r\nimport { Table } from \"./geoleaf.table.js\";\r\nimport { UI } from \"./geoleaf.ui.js\";\r\nimport { Validators } from \"./geoleaf.validators.js\";\r\nimport { BootInfo } from \"./api/boot-info.js\";\r\nimport { PluginRegistry } from \"./api/plugin-registry.js\";\r\n// Re-import renderers to re-set them AFTER Object.assign(_g.GeoLeaf.POI, POI) (see comment below)\r\nimport { FieldRenderers } from \"./poi/renderers/field-renderers.js\";\r\nimport { MediaRenderers } from \"./poi/renderers/media-renderers.js\";\r\n// geoleaf.api.js is imported last in bundle-entry.js (requires _APIController to be set up first)\r\n\r\nconst _g =\r\n    typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : {};\r\n\r\n_g.GeoLeaf = _g.GeoLeaf || {};\r\n\r\n// ── B11 assignations : facades + api ─────────────────────────────────────────\r\nif (!_g.GeoLeaf.API) _g.GeoLeaf.API = {};\r\n_g.GeoLeaf.API.Controller = APIController;\r\n_g.GeoLeaf.API.FactoryManager = APIFactoryManager;\r\n_g.GeoLeaf.API.InitializationManager = APIInitializationManager;\r\n_g.GeoLeaf.API.ModuleManager = APIModuleManager;\r\n// Aliases expected by api/controller.js._getManagerClass() (Phase 7 key mismatch fix)\r\n_g.GeoLeaf.API.APIModuleManager = APIModuleManager;\r\n_g.GeoLeaf.API.APIInitializationManager = APIInitializationManager;\r\n_g.GeoLeaf.API.APIFactoryManager = APIFactoryManager;\r\n// Top-level facade modules\r\n_g.GeoLeaf.Baselayers = Baselayers;\r\n_g.GeoLeaf.BaseLayers = Baselayers; // alias stabilisé Phase 7\r\n_g.GeoLeaf.Core = Core;\r\n_g.GeoLeaf.Filters = Filters;\r\n_g.GeoLeaf.Helpers = Helpers;\r\n_g.GeoLeaf.LayerManager = LayerManager;\r\n_g.GeoLeaf.Legend = Legend;\r\nif (!_g.GeoLeaf.POI || !_g.GeoLeaf.POI.init)\r\n    _g.GeoLeaf.POI = Object.assign(_g.GeoLeaf.POI || {}, POI);\r\n// Renderers must be (re-)set AFTER the Object.assign above because geoleaf.poi.js\r\n// historically shipped a Renderers:{} key that would overwrite them if set earlier.\r\nif (!_g.GeoLeaf.POI.Renderers) _g.GeoLeaf.POI.Renderers = {};\r\n_g.GeoLeaf.POI.Renderers.FieldRenderers = FieldRenderers;\r\n_g.GeoLeaf.POI.Renderers.MediaRenderers = MediaRenderers;\r\n_g.GeoLeaf.Route = Route;\r\n// Storage: namespace ensured by globals.storage.js; facade methods injected by the premium plugin at runtime\r\n_g.GeoLeaf.Storage = _g.GeoLeaf.Storage || {};\r\n_g.GeoLeaf.Table = Table;\r\n// UI: geoleaf.ui.js built _g.GeoLeaf.UI directly via mutations — re-sync reference\r\n_g.GeoLeaf.UI = UI || _g.GeoLeaf.UI;\r\n// Validators: override B8 SchemaValidators with full public Validators facade\r\n_g.GeoLeaf.Validators = Validators;\r\n_g.GeoLeaf.plugins = PluginRegistry;\r\n_g.GeoLeaf.bootInfo = BootInfo;\r\n// Enregistrer le core comme chargé\r\nPluginRegistry.register(\"core\", { version: _g.GeoLeaf._version });\r\n\r\n// ── Public API entry points ──────────────────────────────────────────────────\r\n// Note: api/geoleaf-api.js is excluded by Rollup DCE in the UMD build because\r\n// Object.assign(existing, {...}) where existing = _g.GeoLeaf||{} is treated as\r\n// operating on a \"local\" object (propertyReadSideEffects:false + globalThis).\r\n// Methods are assigned directly here to guarantee inclusion in the UMD bundle.\r\n// See ROADMAP_PHASE11_LEGACY_TESTS_2026-02.md for context.\r\n\r\n_g.GeoLeaf.init = function (options) {\r\n    try {\r\n        return _g.GeoLeaf._APIController.geoleafInit(options);\r\n    } catch (error) {\r\n        if (Log) Log.error(\"[GeoLeaf.init]\", error);\r\n        throw error;\r\n    }\r\n};\r\n_g.GeoLeaf.setTheme = function (theme) {\r\n    try {\r\n        return _g.GeoLeaf._APIController.geoleafSetTheme(theme);\r\n    } catch (error) {\r\n        if (Log) Log.error(\"[GeoLeaf.setTheme]\", error);\r\n        throw error;\r\n    }\r\n};\r\n_g.GeoLeaf.loadConfig = function (input) {\r\n    if (\r\n        input === null ||\r\n        input === undefined ||\r\n        (typeof input !== \"string\" && typeof input !== \"object\")\r\n    ) {\r\n        throw new TypeError(\r\n            `[GeoLeaf.loadConfig] Invalid input: expected string URL or config object, got ${typeof input}`\r\n        );\r\n    }\r\n    try {\r\n        return _g.GeoLeaf._APIController.geoleafLoadConfig(input);\r\n    } catch (error) {\r\n        if (Log) Log.error(\"[GeoLeaf.loadConfig]\", error);\r\n        throw error;\r\n    }\r\n};\r\n_g.GeoLeaf.createMap = function (id, options) {\r\n    const ctrl = _g.GeoLeaf._APIController;\r\n    return ctrl && ctrl.geoleafCreateMap ? ctrl.geoleafCreateMap(id, options) : null;\r\n};\r\n_g.GeoLeaf.getMap = function (id) {\r\n    const ctrl = _g.GeoLeaf._APIController;\r\n    return ctrl && ctrl.managers && ctrl.managers.factory\r\n        ? ctrl.managers.factory.getMapInstance(id)\r\n        : null;\r\n};\r\n_g.GeoLeaf.getAllMaps = function () {\r\n    const ctrl = _g.GeoLeaf._APIController;\r\n    return ctrl && ctrl.managers && ctrl.managers.factory\r\n        ? ctrl.managers.factory.getAllMapInstances()\r\n        : [];\r\n};\r\n_g.GeoLeaf.removeMap = function (id) {\r\n    const ctrl = _g.GeoLeaf._APIController;\r\n    if (\r\n        ctrl &&\r\n        ctrl.managers &&\r\n        ctrl.managers.factory &&\r\n        typeof ctrl.managers.factory.removeMapInstance === \"function\"\r\n    ) {\r\n        return ctrl.managers.factory.removeMapInstance(id);\r\n    }\r\n    return false;\r\n};\r\n_g.GeoLeaf.getModule = function (name) {\r\n    const ctrl = _g.GeoLeaf._APIController;\r\n    return ctrl && ctrl.moduleAccessFn ? ctrl.moduleAccessFn(name) : null;\r\n};\r\n_g.GeoLeaf.hasModule = function (name) {\r\n    const ctrl = _g.GeoLeaf._APIController;\r\n    const mod = ctrl && ctrl.moduleAccessFn ? ctrl.moduleAccessFn(name) : null;\r\n    return !!mod;\r\n};\r\n_g.GeoLeaf.getNamespace = function (name) {\r\n    // eslint-disable-next-line security/detect-object-injection\r\n    return _g.GeoLeaf && name ? _g.GeoLeaf[name] || null : null;\r\n};\r\n_g.GeoLeaf.getHealth = function () {\r\n    const ctrl = _g.GeoLeaf._APIController;\r\n    return ctrl && ctrl.getHealthStatus ? ctrl.getHealthStatus() : null;\r\n};\r\n_g.GeoLeaf.getMetrics = function () {\r\n    return _g.GeoLeaf.getHealth();\r\n};\r\n// Alias version / CONSTANTS (set also by geoleaf-api.js for ESM — harmless duplicate)\r\nif (!_g.GeoLeaf.version) {\r\n    _g.GeoLeaf.version = (_g.GeoLeaf.CONSTANTS && _g.GeoLeaf.CONSTANTS.VERSION) || \"4.0.0\";\r\n}\r\n// geoleaf.api.js (ESM facade) also sets these; globals.api.js provides the UMD fallback.\r\n","/**\n * globals.js  Orchestrateur du bridge UMD/ESM (Phase 9  refactorisé)\n * Ce fichier délègue aux sous-modules par domaine métier.\n * Chaque sous-module importe ses propres dépendances et appende _g.GeoLeaf.\n *\n * Ordre d'exécution garanti par ESM (depth-first) :\n *   core  config  geojson  ui  storage  poi  api\n *\n *  _namespace.js supprimé en Phase 8  tous les modules utilisent Pattern A pur\n *  globals.js découpé en sous-fichiers par domaine en Phase 9 (P3-DEAD-05)\n *\n * @see ROADMAP_PHASE7_ESM.md\n * @see docs/architecture/BOOT_SEQUENCE.md\n */\n\n// B1+B2  runtime core : log, errors, constants, security, utils (DOIT être en premier)\nimport './globals.core.js';\n// B3+B4  helpers, validators, renderers, data, loaders, map, config\nimport './globals.config.js';\n// B5  geojson, route\nimport './globals.geojson.js';\n// B6+B7+B9  labels, legend, layer-manager, themes, ui\nimport './globals.ui.js';\n// B8  storage, cache, IndexedDB\nimport './globals.storage.js';\n// B10  poi, add-form, renderers\nimport './globals.poi.js';\n// B11  facades geoleaf.*.js + api/ + PluginRegistry (DOIT être en dernier)\nimport './globals.api.js';\n\n// Re-exporter _g pour les consommateurs qui l'importent directement\nconst _g = typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof window !== 'undefined' ? window : {};\n\nexport { _g };\r\n","/*!\r\n * GeoLeaf Core – App / Helpers\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf Application Helpers\r\n * Système de logs production, détection de chemin, vérification des plugins,\r\n * et helper de notification.\r\n *\r\n * Ce fichier crée le namespace partagé GeoLeaf._app utilisé par\r\n * app/init.js et app/boot.js.\r\n *\r\n * @module app/helpers\r\n */\r\nimport { _g } from '../modules/globals.js';\r\n\r\nconst GeoLeaf = _g.GeoLeaf;\r\n\r\n/**\r\n * Namespace interne pour le module Application Bootstrap.\r\n * Partagé entre app/helpers.js, app/init.js et app/boot.js.\r\n * @namespace GeoLeaf._app\r\n * @private\r\n */\r\nconst _app = GeoLeaf._app = GeoLeaf._app || {};\r\n\r\n// ============================================================\r\n// Système de logs production\r\n// ============================================================\r\n_app.AppLog = {\r\n    log(...args) {\r\n        if (location.search.includes('debug=true')) {\r\n            console.log('[GeoLeaf]', ...args);\r\n        }\r\n    },\r\n    info(...args) {\r\n        console.info('[GeoLeaf]', ...args);\r\n    },\r\n    error(...args) {\r\n        console.error('[GeoLeaf]', ...args);\r\n    },\r\n    warn(...args) {\r\n        console.warn('[GeoLeaf]', ...args);\r\n    }\r\n};\r\n\r\n// ============================================================\r\n// Détection automatique du chemin vers profiles/\r\n// ============================================================\r\n/**\r\n * Détecte automatiquement le chemin de base vers le dossier profiles/\r\n * en fonction de l'URL courante.\r\n * @returns {string} Chemin relatif vers profiles/\r\n */\r\n_app.getProfilesBasePath = function () {\r\n    const currentPath = _g.location.pathname;\r\n    if (currentPath.includes('/demo/')) {\r\n        return '../profiles/';\r\n    }\r\n    return './profiles/';\r\n};\r\n\r\n// ============================================================\r\n// Vérification des plugins au boot\r\n// ============================================================\r\n/**\r\n * Vérifie que les plugins requis par la configuration sont bien chargés\r\n * et affiche des avertissements dans la console si ce n'est pas le cas.\r\n * @param {Object} cfg - Configuration du profil actif\r\n */\r\n_app.checkPlugins = function (cfg) {\r\n    const AppLog = _app.AppLog;\r\n\r\n    // Avertissement si config attend AddPOI mais plugin non chargé\r\n    if (cfg && cfg.ui && cfg.ui.showAddPoi === true) {\r\n        if (!GeoLeaf.POI || !GeoLeaf.POI.AddForm) {\r\n            AppLog.warn(\r\n                '⚠️ Config has showAddPoi=true but AddPOI plugin is not loaded. ' +\r\n                'Load geoleaf-addpoi.plugin.js before calling GeoLeaf.boot().'\r\n            );\r\n        }\r\n    }\r\n\r\n    // Avertissement si config attend Storage mais plugin non chargé\r\n    if (cfg && cfg.storage) {\r\n        if (!GeoLeaf.Storage) {\r\n            AppLog.warn(\r\n                '⚠️ Config references storage but Storage plugin is not loaded. ' +\r\n                'Advanced features (IndexedDB, CacheManager, sync) require geoleaf-storage.plugin.js. ' +\r\n                'Basic offline caching via SW core is always available without the plugin.'\r\n            );\r\n        }\r\n\r\n        // SW lite (sw-core.js) is always registered at boot — no check needed.\r\n        // Only warn if user expects PREMIUM SW without the Storage plugin.\r\n        if (cfg.storage.enableServiceWorker && !GeoLeaf.Storage) {\r\n            AppLog.warn(\r\n                '⚠️ Config has enableServiceWorker=true but Storage plugin is not loaded. ' +\r\n                'Premium SW (IndexedDB tiles, background sync) requires geoleaf-storage.plugin.js. ' +\r\n                'Core/lite SW remains active for basic offline caching.'\r\n            );\r\n        }\r\n    }\r\n\r\n    // Avertissement si SyncHandler est chargé sans Storage\r\n    if (GeoLeaf.POI && GeoLeaf.POI.SyncHandler && !GeoLeaf.Storage) {\r\n        AppLog.warn(\r\n            '⚠️ SyncHandler loaded without Storage plugin — sync operations will be disabled. ' +\r\n            'POI add/edit/delete will work in online-only mode.'\r\n        );\r\n    }\r\n};\r\n\r\n// ============================================================\r\n// Helper : afficher une notification\r\n// ============================================================\r\n/**\r\n * Affiche une notification via le système UI de GeoLeaf.\r\n * Tente d'abord GeoLeaf.UI.Notifications, puis GeoLeaf._UINotifications.\r\n * @param {string} message - Message à afficher\r\n * @param {number} [duration=3500] - Durée d'affichage en millisecondes\r\n * @returns {boolean} true si la notification a été affichée\r\n */\r\n_app.showNotification = function (message, duration) {\r\n    duration = duration || 3500;\r\n    if (GeoLeaf.UI && GeoLeaf.UI.Notifications && typeof GeoLeaf.UI.Notifications.success === \"function\") {\r\n        try { GeoLeaf.UI.Notifications.success(message, duration); return true; } catch (e) {}\r\n    }\r\n    if (GeoLeaf._UINotifications && typeof GeoLeaf._UINotifications.success === \"function\") {\r\n        try { GeoLeaf._UINotifications.success(message, duration); return true; } catch (e) {}\r\n    }\r\n    _app.AppLog.log(message + \" (notifications indisponibles)\");\r\n    return false;\r\n};\r\n\r\n// ============================================================\r\n// Sprint 6: Lazy module loader helper\r\n// ============================================================\r\n/**\r\n * S'assure qu'un module secondaire est chargé.\r\n * En mode UMD le module est déjà disponible (inliné) → résolution immédiate.\r\n * En mode ESM, déclenche le chargement du chunk réseau si nécessaire.\r\n *\r\n * @param {string} globalName - Nom sur window.GeoLeaf (ex: 'POI', 'Route')\r\n * @param {string} chunkName  - Identifiant du chunk (ex: 'poi', 'route')\r\n * @returns {Promise<void>}\r\n */\r\n_app._ensureModule = async function(globalName, chunkName) {\r\n    if (GeoLeaf[globalName]) return; // déjà chargé (UMD ou déjà importé)\r\n    if (typeof GeoLeaf._loadModule === 'function') {\r\n        await GeoLeaf._loadModule(chunkName);\r\n    }\r\n};\r\n\r\nexport { _app };\r\n","/**\n * GeoLeaf App – Feature Module Initializers\n * Extracted from app/init.js (Phase 8.2.3)\n * Each function initializes one feature domain after secondary modules are loaded.\n *\n * @module app/init-feature-modules\n */\n\"use strict\";\n\n// Note: L (Leaflet) is a browser global accessed directly.\n\n/**\n * @typedef {Object} InitDeps\n * @property {Object} GeoLeaf  - The global GeoLeaf object\n * @property {Object} cfg      - The active profile configuration\n * @property {Object} map      - The Leaflet map instance\n * @property {Object} AppLog   - Logger instance\n * @property {Object} [_app]   - The _app namespace (required for initGeoJSON)\n */\n\n/**\n * Initialize base tile layers from profile cfg.basemaps.\n * @param {InitDeps} deps\n */\nexport function initBasemaps({ GeoLeaf, cfg, map, AppLog }) {\n    const baseLayersModule = GeoLeaf.BaseLayers || GeoLeaf.Baselayers;\n    if (!baseLayersModule || typeof baseLayersModule.init !== \"function\") {\n        AppLog.warn(\"Module BaseLayers introuvable.\");\n        return;\n    }\n\n    let activeKey = \"street\";\n    const basemapsFromConfig = {};\n    if (cfg.basemaps && typeof cfg.basemaps === \"object\") {\n        Object.keys(cfg.basemaps).forEach(function (key) {\n            const def = cfg.basemaps[key];\n            if (def.defaultBasemap === true) activeKey = def.id || key;\n            const entry = {\n                id: def.id || key,\n                label: def.label || key,\n                url: def.url || def.fallbackUrl,\n                options: {\n                    minZoom: def.minZoom || 0,\n                    maxZoom: def.maxZoom || 19,\n                    attribution: def.attribution || \"\",\n                },\n            };\n            // MapLibre vector basemap support\n            if (def.type) entry.type = def.type;\n            if (def.style) entry.style = def.style;\n            if (def.attribution) entry.attribution = def.attribution;\n            // Propagate minZoom/maxZoom at top level for MapLibre path\n            if (typeof def.minZoom === \"number\") entry.minZoom = def.minZoom;\n            if (typeof def.maxZoom === \"number\") entry.maxZoom = def.maxZoom;\n\n            basemapsFromConfig[key] = entry;\n        });\n    }\n\n    try {\n        baseLayersModule.init({\n            map: map,\n            baselayers: basemapsFromConfig,\n            activeKey: activeKey,\n            ui: cfg.ui,\n            basemaps: cfg.basemaps,\n        });\n    } catch (e) {\n        AppLog.warn(\"BaseLayers.init a levé une exception :\", e);\n    }\n}\n\n/**\n * Initialize POI markers from profile cfg.poi.\n * @param {InitDeps} deps\n */\nexport function initPOI({ GeoLeaf, cfg, map, AppLog }) {\n    const poiApi = GeoLeaf.POI;\n    if (!poiApi || typeof poiApi.add !== \"function\") {\n        AppLog.warn(\"GeoLeaf.POI.add() indisponible, aucun POI ne sera affiché.\");\n        return;\n    }\n\n    try {\n        if (typeof poiApi.init === \"function\") {\n            poiApi.init({ map: map, config: cfg.poiConfig || {} });\n\n            // Chargement des légendes POI\n            if (\n                GeoLeaf.Legend &&\n                typeof GeoLeaf.Legend.loadLayerLegend === \"function\" &&\n                cfg.layers &&\n                Array.isArray(cfg.layers)\n            ) {\n                cfg.layers.forEach(function (layerRef) {\n                    if (layerRef.id && layerRef.id.includes(\"poi\") && layerRef.configFile) {\n                        fetch(layerRef.configFile)\n                            .then((response) => response.json())\n                            .then((layerConfig) => {\n                                let styleId = \"default\";\n                                if (\n                                    layerConfig.styles &&\n                                    layerConfig.styles.available &&\n                                    layerConfig.styles.available.length > 0\n                                ) {\n                                    styleId = layerConfig.styles.available[0].id || \"default\";\n                                }\n                                GeoLeaf.Legend.loadLayerLegend(layerRef.id, styleId, layerConfig);\n                                if (typeof GeoLeaf.Legend.setLayerVisibility === \"function\") {\n                                    GeoLeaf.Legend.setLayerVisibility(layerRef.id, true);\n                                }\n                            })\n                            .catch((err) =>\n                                AppLog.warn(`Erreur chargement config couche ${layerRef.id}:`, err)\n                            );\n                    }\n                });\n            }\n        }\n    } catch (e) {\n        AppLog.warn(\"GeoLeaf.POI.init() a levé une erreur :\", e);\n    }\n\n    const showFilterPanel = cfg.ui && cfg.ui.showFilterPanel === true;\n    if (showFilterPanel) {\n        AppLog.info(\n            \"Panneau de filtres activé : les POI seront chargés via le système de filtres.\"\n        );\n        if (GeoLeaf.UI && typeof GeoLeaf.UI.applyFiltersInitial === \"function\") {\n            GeoLeaf.UI.applyFiltersInitial();\n        }\n        return;\n    }\n\n    if (!Array.isArray(cfg.poi) || cfg.poi.length === 0) {\n        return;\n    }\n\n    const bounds = [];\n    cfg.poi.forEach(function (poiItem) {\n        let latlng = null;\n        if (poiItem.latlng && Array.isArray(poiItem.latlng) && poiItem.latlng.length === 2) {\n            latlng = poiItem.latlng;\n        } else if (\n            poiItem.location &&\n            typeof poiItem.location.lat === \"number\" &&\n            typeof poiItem.location.lng === \"number\"\n        ) {\n            latlng = [poiItem.location.lat, poiItem.location.lng];\n        }\n        if (latlng) bounds.push(latlng);\n    });\n\n    if (bounds.length > 0) {\n        // fitBounds POI uniquement si pas de bounds dans le profil ET pas de couches GeoJSON\n        const hasBoundsFromProfile =\n            cfg.map && Array.isArray(cfg.map.bounds) && cfg.map.bounds.length === 2;\n        const hasGeoJSONLayers = cfg.layers && Array.isArray(cfg.layers) && cfg.layers.length > 0;\n        if (!hasBoundsFromProfile && !hasGeoJSONLayers) {\n            try {\n                map.fitBounds(L.latLngBounds(bounds), {\n                    padding: [80, 80],\n                    maxZoom: 12,\n                    animate: false,\n                });\n            } catch (e) {\n                AppLog.warn(\"Erreur lors de fitBounds :\", e);\n            }\n        }\n        if (GeoLeaf.UI && typeof GeoLeaf.UI.refreshFilterTags === \"function\") {\n            GeoLeaf.UI.refreshFilterTags();\n        }\n    }\n}\n\n/**\n * Initialize route display from profile cfg.routes.\n * @param {InitDeps} deps\n */\nexport function initRoute({ GeoLeaf, cfg, map, AppLog }) {\n    const routeApi = GeoLeaf.Route;\n    if (\n        !routeApi ||\n        typeof routeApi.init !== \"function\" ||\n        typeof routeApi.loadFromConfig !== \"function\"\n    ) {\n        return;\n    }\n    try {\n        routeApi.init({ map: map, fitBoundsOnLoad: false, maxZoomOnFit: 12 });\n    } catch (e) {\n        AppLog.warn(\"GeoLeaf.Route.init() a levé une erreur :\", e);\n        return;\n    }\n    if (Array.isArray(cfg.routes) && cfg.routes.length > 0) {\n        try {\n            routeApi.loadFromConfig(cfg.routes);\n            AppLog.log(\"Itinéraires chargés.\");\n        } catch (e) {\n            AppLog.warn(\"GeoLeaf.Route.loadFromConfig() a levé une erreur :\", e);\n        }\n    }\n}\n\n/**\n * Initialize GeoJSON layers and theme selector from profile cfg.layers.\n * @param {InitDeps} deps\n */\nexport function initGeoJSON({ GeoLeaf, _cfg, map, AppLog, _app }) {\n    const geoJsonApi = GeoLeaf.GeoJSON;\n    if (!geoJsonApi || typeof geoJsonApi.init !== \"function\") {\n        AppLog.log(\"GeoLeaf.GeoJSON.init() indisponible — pas de couches GeoJSON.\");\n        return;\n    }\n\n    try {\n        geoJsonApi.init({ map: map, fitBoundsOnLoad: false, maxZoomOnFit: 12 });\n    } catch (e) {\n        AppLog.warn(\"GeoLeaf.GeoJSON.init() a levé une erreur :\", e);\n        return;\n    }\n\n    if (map && typeof map.on === \"function\") {\n        map.on(\"geoleaf:geojson:layers-loaded\", function (event) {\n            if (event && event.detail && typeof event.detail.count === \"number\") {\n                const count = event.detail.count;\n                const message =\n                    count === 1 ? \"1 couche GeoJSON chargée\" : count + \" couches GeoJSON chargées\";\n                if (_app && typeof _app.showNotification === \"function\") {\n                    _app.showNotification(message, 3000);\n                }\n            }\n        });\n    }\n\n    // Initialisation du système de thèmes\n    // B5 [ESM-02]: IIFE remplacée par fonction nommée — scoping inutile en ESM\n    function buildLoadAllConfigsPromise() {\n        if (\n            GeoLeaf._GeoJSONLoader &&\n            typeof GeoLeaf._GeoJSONLoader.loadAllLayersConfigsForLayerManager === \"function\"\n        ) {\n            const activeProfile =\n                GeoLeaf.Config && typeof GeoLeaf.Config.getActiveProfile === \"function\"\n                    ? GeoLeaf.Config.getActiveProfile()\n                    : null;\n            if (activeProfile) {\n                return GeoLeaf._GeoJSONLoader\n                    .loadAllLayersConfigsForLayerManager(activeProfile)\n                    .catch((err) => {\n                        AppLog.warn(\"Erreur chargement configs couches:\", err);\n                        return [];\n                    });\n            }\n        }\n        return Promise.resolve();\n    }\n    const loadAllConfigsPromise = buildLoadAllConfigsPromise();\n\n    loadAllConfigsPromise.then(function () {\n        if (!GeoLeaf.ThemeSelector || typeof GeoLeaf.ThemeSelector.init !== \"function\") {\n            AppLog.warn(\"ThemeSelector non disponible\");\n            return;\n        }\n\n        let currentProfileId = null;\n        if (GeoLeaf.Config && typeof GeoLeaf.Config.getActiveProfileId === \"function\") {\n            currentProfileId = GeoLeaf.Config.getActiveProfileId();\n        }\n\n        const primaryContainer = document.getElementById(\"gl-theme-primary-container\");\n        const secondaryContainer = document.getElementById(\"gl-theme-secondary-container\");\n\n        if (!currentProfileId || !primaryContainer || !secondaryContainer) {\n            AppLog.warn(\"ThemeSelector : conteneurs ou profil manquants\");\n            return;\n        }\n\n        GeoLeaf.ThemeSelector.init({\n            profileId: currentProfileId,\n            primaryContainer: primaryContainer,\n            secondaryContainer: secondaryContainer,\n        })\n            .then(function () {\n                AppLog.log(\"ThemeSelector initialisé et thème appliqué\");\n\n                if (\n                    GeoLeaf._GeoJSONLayerManager &&\n                    typeof GeoLeaf._GeoJSONLayerManager.populateLayerManagerWithAllConfigs ===\n                        \"function\"\n                ) {\n                    const activeThemeConfig = GeoLeaf.ThemeSelector.getActiveTheme\n                        ? GeoLeaf.ThemeSelector.getActiveTheme()\n                        : null;\n                    GeoLeaf._GeoJSONLayerManager.populateLayerManagerWithAllConfigs(\n                        activeThemeConfig\n                    );\n                }\n\n                document.addEventListener(\"geoleaf:theme:applied\", function () {\n                    if (\n                        GeoLeaf._GeoJSONLayerManager &&\n                        typeof GeoLeaf._GeoJSONLayerManager.populateLayerManagerWithAllConfigs ===\n                            \"function\"\n                    ) {\n                        const activeThemeConfig = GeoLeaf.ThemeSelector.getActiveTheme\n                            ? GeoLeaf.ThemeSelector.getActiveTheme()\n                            : null;\n                        GeoLeaf._GeoJSONLayerManager.populateLayerManagerWithAllConfigs(\n                            activeThemeConfig\n                        );\n                    }\n                });\n            })\n            .catch(function (e) {\n                AppLog.warn(\"Erreur initialisation ThemeSelector:\", e);\n            });\n    });\n}\n","/*!\r\n * GeoLeaf Core – App / Init\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf Application Init\r\n * Fonction principale d'initialisation de l'application :\r\n * - Initialisation de la carte\r\n * - Chargement des modules (POI, Routes, GeoJSON, etc.)\r\n * - Configuration des composants UI\r\n * - Mécanisme de reveal (loader / spinner)\r\n *\r\n * @module app/init\r\n */\r\nimport { _g } from \"../modules/globals.js\";\r\nimport { initBasemaps, initPOI, initRoute, initGeoJSON } from \"./init-feature-modules.js\";\r\n\r\nconst GeoLeaf = _g.GeoLeaf;\r\nconst _app = (GeoLeaf._app = GeoLeaf._app || {});\r\n\r\n// ============================================================\r\n// Fonction principale : initialiser l'application\r\n// ============================================================\r\n_app.initApp = async function (cfg) {\r\n    cfg = cfg || {};\r\n    const AppLog = _app.AppLog;\r\n    // perf 5 — benchmark: mesure du démarrage\r\n    if (typeof performance !== \"undefined\" && performance.mark) {\r\n        performance.mark(\"geoleaf:initApp:start\");\r\n    }\r\n    AppLog.log(\"Initialisation avec config:\", cfg);\r\n\r\n    // Vérifier les plugins\r\n    _app.checkPlugins(cfg);\r\n\r\n    // ========================================================\r\n    // Initialisation de la carte\r\n    // La carte est créée directement sur l'emprise du profil\r\n    // (map.bounds obligatoire dans le profil).\r\n    // ========================================================\r\n    const mapTarget = (cfg.map && (cfg.map.target || cfg.map.id)) || \"geoleaf-map\";\r\n    const uiTheme = (cfg.ui && cfg.ui.theme) || \"light\";\r\n\r\n    // Bounds obligatoires — pas de fallback carte monde\r\n    if (!cfg.map || !Array.isArray(cfg.map.bounds) || cfg.map.bounds.length !== 2) {\r\n        AppLog.error(\r\n            \"[GeoLeaf] Le profil actif ne définit pas de map.bounds valide. \" +\r\n                \"L'emprise (map.bounds) est obligatoire dans le fichier profile.json. \" +\r\n                'Exemple : \"bounds\": [[43.0, 1.0], [44.0, 2.0]]'\r\n        );\r\n        return;\r\n    }\r\n\r\n    // Calculer le centre depuis les bounds pour éviter le flash carte monde\r\n    const profileBounds = cfg.map.bounds;\r\n    const profileMaxZoom = cfg.map.initialMaxZoom || cfg.map.maxZoom || 12;\r\n    const profilePadding = cfg.map.padding || [50, 50];\r\n    const mapCenter = [\r\n        (profileBounds[0][0] + profileBounds[1][0]) / 2,\r\n        (profileBounds[0][1] + profileBounds[1][1]) / 2,\r\n    ];\r\n\r\n    let map = null;\r\n\r\n    // Options Leaflet avancées (maxBounds pour positionFixed, etc.)\r\n    const mapOptions = {};\r\n    if (cfg.map.positionFixed === true) {\r\n        const boundsMargin = typeof cfg.map.boundsMargin === \"number\" ? cfg.map.boundsMargin : 0.3;\r\n        mapOptions.maxBounds = L.latLngBounds(profileBounds).pad(boundsMargin);\r\n        mapOptions.maxBoundsViscosity = 0.85;\r\n        if (typeof cfg.map.minZoom === \"number\") {\r\n            mapOptions.minZoom = cfg.map.minZoom;\r\n        } else {\r\n            mapOptions.minZoom = 3;\r\n        }\r\n    }\r\n\r\n    try {\r\n        map = GeoLeaf.init({\r\n            map: {\r\n                target: mapTarget,\r\n                center: mapCenter,\r\n                zoom: profileMaxZoom,\r\n                mapOptions: mapOptions,\r\n            },\r\n            ui: {\r\n                theme: uiTheme,\r\n            },\r\n        });\r\n    } catch (e) {\r\n        AppLog.error(\"GeoLeaf.init() a levé une erreur :\", e);\r\n        return;\r\n    }\r\n\r\n    if (!map) {\r\n        AppLog.error(\"GeoLeaf.init() n'a pas renvoyé de carte valide.\");\r\n        return;\r\n    }\r\n\r\n    // Précharger les modules secondaires le plus tôt possible pour chevaucher\r\n    // le téléchargement des chunks avec l'initialisation UI/Storage.\r\n    // On garde un await plus bas avant l'usage des modules secondaires afin de\r\n    // préserver le comportement actuel.\r\n    let secondaryModulesPromise = null;\r\n    if (typeof GeoLeaf._loadAllSecondaryModules === \"function\") {\r\n        secondaryModulesPromise = GeoLeaf._loadAllSecondaryModules();\r\n    }\r\n\r\n    // Appliquer positionFixed directement après création (filet de sécurité)\r\n    if (cfg.map.positionFixed === true) {\r\n        try {\r\n            const boundsMargin =\r\n                typeof cfg.map.boundsMargin === \"number\" ? cfg.map.boundsMargin : 0.3;\r\n            const fixedBounds = L.latLngBounds(profileBounds).pad(boundsMargin);\r\n            map.setMaxBounds(fixedBounds);\r\n            map.options.maxBoundsViscosity = 0.85;\r\n            if (typeof cfg.map.minZoom === \"number\") {\r\n                map.setMinZoom(cfg.map.minZoom);\r\n            } else {\r\n                map.setMinZoom(3);\r\n            }\r\n            AppLog.log(\r\n                \"[GeoLeaf] positionFixed activé — déplacement restreint à l'emprise du profil (marge: \" +\r\n                    boundsMargin * 100 +\r\n                    \"%).\"\r\n            );\r\n        } catch (e) {\r\n            AppLog.warn(\"[GeoLeaf] Erreur lors de l'application de positionFixed :\", e);\r\n        }\r\n    }\r\n\r\n    // Positionnement précis via fitBounds (ajuste le zoom aux dimensions réelles du conteneur)\r\n    try {\r\n        map.fitBounds(profileBounds, {\r\n            maxZoom: profileMaxZoom,\r\n            padding: profilePadding,\r\n            animate: false,\r\n        });\r\n        AppLog.log(\"Carte positionnée via map.bounds du profil.\");\r\n    } catch (e) {\r\n        AppLog.warn(\"Erreur fitBounds depuis profile.map.bounds :\", e);\r\n    }\r\n\r\n    // ========================================================\r\n    // Service Worker core/lite — enregistrement INCONDITIONNEL\r\n    // Le SW lite (sw-core.js) fait partie du core gratuit.\r\n    // Il sera remplacé par le SW premium (sw.js) si le plugin\r\n    // Storage est chargé ET enableServiceWorker = true.\r\n    // ========================================================\r\n    if (GeoLeaf._SWRegister) {\r\n        GeoLeaf._SWRegister\r\n            .register({ scope: \"./\" })\r\n            .then(() => AppLog.log(\"Service Worker (core/lite) enregistré.\"))\r\n            .catch((err) => AppLog.warn(\"Erreur enregistrement SW core:\", err.message));\r\n    }\r\n\r\n    // ========================================================\r\n    // Initialiser le Storage avec la config du profil (si plugin chargé)\r\n    // ========================================================\r\n    const storageConfig = cfg.storage || {};\r\n\r\n    if (GeoLeaf.Storage && typeof GeoLeaf.Storage.init === \"function\") {\r\n        try {\r\n            AppLog.log(\"Initialisation du Storage avec config:\", storageConfig);\r\n\r\n            GeoLeaf.Storage.init({\r\n                indexedDB: { name: \"geoleaf-db\", version: 2 },\r\n                cache: storageConfig.cache || {\r\n                    enableProfileCache: true,\r\n                    enableTileCache: true,\r\n                },\r\n                offline: {},\r\n                enableOfflineDetector: !!storageConfig.enableOfflineDetector,\r\n                enableServiceWorker: !!storageConfig.enableServiceWorker,\r\n            })\r\n                .then(() => {\r\n                    AppLog.log(\"Storage initialisé avec succès\");\r\n                })\r\n                .catch((err) => {\r\n                    AppLog.warn(\"Erreur initialisation Storage:\", err);\r\n                });\r\n        } catch (e) {\r\n            AppLog.warn(\"Erreur lors de l'initialisation du Storage:\", e);\r\n        }\r\n    } else {\r\n        AppLog.log(\"Plugin Storage non chargé — fonctionnement en mode cache navigateur standard.\");\r\n\r\n        // Initialize the Offline Detector for connectivity badge (core mode)\r\n        if (storageConfig.enableOfflineDetector && GeoLeaf._OfflineDetector) {\r\n            GeoLeaf._OfflineDetector.init({\r\n                showBadge: true,\r\n                badgePosition: \"topleft\",\r\n                checkInterval: 30000,\r\n            });\r\n            AppLog.log(\"Offline Detector initialisé (mode core).\");\r\n        }\r\n    }\r\n\r\n    // ========================================================\r\n    // Initialiser le système de notifications UI\r\n    // ========================================================\r\n    if (GeoLeaf._UINotifications && typeof GeoLeaf._UINotifications.init === \"function\") {\r\n        try {\r\n            let notificationContainer = document.getElementById(\"gl-notifications\");\r\n            if (!notificationContainer) {\r\n                notificationContainer = document.createElement(\"div\");\r\n                notificationContainer.id = \"gl-notifications\";\r\n                notificationContainer.className =\r\n                    \"gl-notifications gl-notifications--bottom-center\";\r\n                document.body.appendChild(notificationContainer);\r\n            }\r\n\r\n            GeoLeaf._UINotifications.init({\r\n                container: \"#gl-notifications\",\r\n                position: \"bottom-center\",\r\n                maxVisible: 3,\r\n                animations: true,\r\n            });\r\n\r\n            AppLog.log(\"Système de notifications initialisé\");\r\n        } catch (e) {\r\n            AppLog.warn(\"Erreur lors de l'initialisation des notifications:\", e);\r\n        }\r\n    }\r\n\r\n    // ========================================================\r\n    // Toast de chargement persistant pendant le chargement des couches\r\n    // Affiché dès que le ThemeApplier commence à charger un thème,\r\n    // fermé quand geoleaf:theme:applied est émis.\r\n    // ========================================================\r\n    let _loadingToast = null;\r\n\r\n    document.addEventListener(\"geoleaf:theme:applying\", function () {\r\n        // Afficher un toast persistant si le système de notifications est prêt\r\n        if (GeoLeaf._UINotifications && GeoLeaf._UINotifications.container) {\r\n            _loadingToast = GeoLeaf._UINotifications.info(\r\n                \"Chargement des données en cours, patientez…\",\r\n                { persistent: true, dismissible: false }\r\n            );\r\n        }\r\n    });\r\n\r\n    // ========================================================\r\n    // Écouteurs d'événements (notifications profile & theme)\r\n    // ========================================================\r\n    let pendingProfileToastDetail = null;\r\n\r\n    function notificationsReady() {\r\n        try {\r\n            if (\r\n                GeoLeaf.UI &&\r\n                GeoLeaf.UI.Notifications &&\r\n                typeof GeoLeaf.UI.Notifications.getStatus === \"function\"\r\n            ) {\r\n                return !!GeoLeaf.UI.Notifications.getStatus().initialized;\r\n            }\r\n            if (GeoLeaf._UINotifications && GeoLeaf._UINotifications.container) {\r\n                return true;\r\n            }\r\n        } catch (e) {\r\n            void e;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    function tryShowProfileToast(detail) {\r\n        if (!detail || !detail.data) return false;\r\n        const profile = detail.data.profile || {};\r\n        const profileName =\r\n            profile.label || profile.name || profile.title || detail.profileId || \"Profil\";\r\n        const message = profileName + \" chargé\";\r\n        if (!notificationsReady()) {\r\n            pendingProfileToastDetail = detail;\r\n            return false;\r\n        }\r\n        const shown = _app.showNotification(message);\r\n        if (shown) pendingProfileToastDetail = null;\r\n        else pendingProfileToastDetail = detail;\r\n        return shown;\r\n    }\r\n\r\n    document.addEventListener(\"geoleaf:profile:loaded\", function (event) {\r\n        if (event && event.detail) {\r\n            pendingProfileToastDetail = event.detail;\r\n            tryShowProfileToast(event.detail);\r\n        }\r\n    });\r\n\r\n    document.addEventListener(\"geoleaf:theme:applied\", function (event) {\r\n        // Fermer le toast de chargement persistant\r\n        if (\r\n            _loadingToast &&\r\n            GeoLeaf._UINotifications &&\r\n            typeof GeoLeaf._UINotifications.dismiss === \"function\"\r\n        ) {\r\n            GeoLeaf._UINotifications.dismiss(_loadingToast);\r\n            _loadingToast = null;\r\n        }\r\n        if (event && event.detail) {\r\n            const detail = event.detail;\r\n            _app.showNotification(\r\n                `Thème \"${detail.themeName}\" chargé (${detail.layerCount} couches visibles)`,\r\n                3500\r\n            );\r\n        }\r\n    });\r\n\r\n    // Écouter la fin de chargement pour les notifications en attente\r\n    document.addEventListener(\"geoleaf:map:ready\", function () {\r\n        if (pendingProfileToastDetail) {\r\n            tryShowProfileToast(pendingProfileToastDetail);\r\n        }\r\n    });\r\n\r\n    // ========================================================\r\n    // Thème UI via GeoLeaf.setTheme() + initialisation UI\r\n    // ========================================================\r\n    try {\r\n        if (typeof GeoLeaf.setTheme === \"function\") {\r\n            GeoLeaf.setTheme(uiTheme);\r\n        }\r\n    } catch (e) {\r\n        AppLog.warn(\"Erreur lors de l'appel à GeoLeaf.setTheme :\", e);\r\n    }\r\n\r\n    if (GeoLeaf.UI && typeof GeoLeaf.UI.init === \"function\") {\r\n        try {\r\n            const mapContainer =\r\n                document.querySelector(\".gl-main\") || document.getElementById(mapTarget);\r\n            GeoLeaf.UI.init({\r\n                buttonSelector: '[data-gl-role=\"theme-toggle\"]',\r\n                map: map,\r\n                mapContainer: mapContainer,\r\n                config: cfg,\r\n            });\r\n        } catch (e) {\r\n            AppLog.warn(\"GeoLeaf.UI.init() a levé une erreur :\", e);\r\n        }\r\n    }\r\n\r\n    // Construction du panneau de filtres\r\n    // ui.showFilterPanel === false → masquer le bouton toggle + le panel et ne pas construire\r\n    if (cfg.ui && cfg.ui.showFilterPanel === false) {\r\n        const _toggleBtn = document.getElementById(\"gl-filter-toggle\");\r\n        if (_toggleBtn) _toggleBtn.style.display = \"none\";\r\n        const _filterPanel = document.getElementById(\"gl-filter-panel\");\r\n        if (_filterPanel) _filterPanel.style.display = \"none\";\r\n    } else if (GeoLeaf.UI && typeof GeoLeaf.UI.buildFilterPanelFromActiveProfile === \"function\") {\r\n        try {\r\n            let filterContainer = document.getElementById(\"gl-filter-panel\");\r\n            if (!filterContainer) {\r\n                filterContainer = document.createElement(\"div\");\r\n                filterContainer.id = \"gl-filter-panel\";\r\n                filterContainer.setAttribute(\"data-gl-role\", \"filter-panel\");\r\n                const glMain = document.querySelector(\".gl-main\");\r\n                if (glMain) glMain.appendChild(filterContainer);\r\n                else document.body.appendChild(filterContainer);\r\n            }\r\n\r\n            GeoLeaf.UI.buildFilterPanelFromActiveProfile({ container: filterContainer });\r\n\r\n            if (typeof GeoLeaf.UI.initFilterToggle === \"function\") {\r\n                GeoLeaf.UI.initFilterToggle();\r\n            }\r\n            if (typeof GeoLeaf.UI.initProximityFilter === \"function\") {\r\n                GeoLeaf.UI.initProximityFilter(map);\r\n            }\r\n        } catch (e) {\r\n            AppLog.warn(\"Erreur lors de la construction du panneau de filtres :\", e);\r\n        }\r\n    }\r\n\r\n    // ========================================================\r\n    // Sprint 6: Chargement des modules secondaires (code splitting)\r\n    // En mode ESM → charge les chunks réseau en parallèle.\r\n    // En mode UMD → déjà inliné, résolution immédiate.\r\n    // ========================================================\r\n    if (secondaryModulesPromise) {\r\n        try {\r\n            await secondaryModulesPromise;\r\n            AppLog.log(\r\n                \"Modules secondaires chargés (POI, Route, Legend, LayerManager, Labels, Themes, Table).\"\r\n            );\r\n        } catch (e) {\r\n            AppLog.warn(\"Erreur chargement modules secondaires:\", e);\r\n        }\r\n    }\r\n\r\n    // Initialisation du module Table\r\n    // ui.showTable !== false → même pattern que showLegend / showLayerManager\r\n    if (\r\n        cfg.ui &&\r\n        cfg.ui.showTable !== false &&\r\n        GeoLeaf.Table &&\r\n        typeof GeoLeaf.Table.init === \"function\" &&\r\n        cfg.tableConfig &&\r\n        cfg.tableConfig.enabled !== false\r\n    ) {\r\n        try {\r\n            GeoLeaf.Table.init({ map: map, config: cfg.tableConfig });\r\n            AppLog.log(\"Module Table initialisé.\");\r\n        } catch (e) {\r\n            AppLog.warn(\"Erreur lors de l'initialisation du module Table :\", e);\r\n        }\r\n    }\r\n\r\n    // Initialisation du bouton de cache offline (si plugin Storage chargé)\r\n    if (GeoLeaf.UI && GeoLeaf.UI.CacheButton && typeof GeoLeaf.UI.CacheButton.init === \"function\") {\r\n        try {\r\n            GeoLeaf.UI.CacheButton.init(map, cfg);\r\n            AppLog.log(\"Bouton de cache initialisé.\");\r\n        } catch (e) {\r\n            AppLog.warn(\"Erreur lors de l'initialisation du bouton de cache :\", e);\r\n        }\r\n    }\r\n\r\n    // ========================================================\r\n    // Basemaps via GeoLeaf.BaseLayers\r\n    // ========================================================\r\n    initBasemaps({ GeoLeaf, cfg, map, AppLog });\r\n\r\n    // ========================================================\r\n    // POI via GeoLeaf.POI\r\n    // ========================================================\r\n    initPOI({ GeoLeaf, cfg, map, AppLog });\r\n\r\n    // ========================================================\r\n    // Itinéraires via GeoLeaf.Route\r\n    // ========================================================\r\n    initRoute({ GeoLeaf, cfg, map, AppLog });\r\n\r\n    // ========================================================\r\n    // Couches GeoJSON via GeoLeaf.GeoJSON\r\n    // ========================================================\r\n    initGeoJSON({ GeoLeaf, cfg, map, AppLog, _app: _app });\r\n\r\n    // ========================================================\r\n    // Branding\r\n    // ========================================================\r\n    if (GeoLeaf.UI && GeoLeaf.UI.Branding && typeof GeoLeaf.UI.Branding.init === \"function\") {\r\n        try {\r\n            GeoLeaf.UI.Branding.init(map);\r\n        } catch (e) {\r\n            AppLog.warn(\"GeoLeaf.UI.Branding.init() a levé une erreur :\", e);\r\n        }\r\n    }\r\n\r\n    // ========================================================\r\n    // Légende et gestionnaire de couches\r\n    // ========================================================\r\n    if (\r\n        cfg.ui &&\r\n        cfg.ui.showLegend !== false &&\r\n        GeoLeaf.Legend &&\r\n        typeof GeoLeaf.Legend.init === \"function\"\r\n    ) {\r\n        try {\r\n            GeoLeaf.Legend.init(map, {\r\n                position: \"bottomleft\",\r\n                collapsible: true,\r\n                collapsed: false,\r\n                title: \"Légende\",\r\n            });\r\n        } catch (e) {\r\n            AppLog.warn(\"Erreur lors de l'initialisation du module Legend:\", e);\r\n        }\r\n    }\r\n\r\n    if (\r\n        cfg.ui &&\r\n        cfg.ui.showLayerManager !== false &&\r\n        GeoLeaf.LayerManager &&\r\n        typeof GeoLeaf.LayerManager.init === \"function\"\r\n    ) {\r\n        try {\r\n            GeoLeaf.LayerManager.init({ map: map, position: \"bottomright\" });\r\n        } catch (e) {\r\n            AppLog.warn(\"GeoLeaf.LayerManager.init() a levé une erreur :\", e);\r\n        }\r\n    }\r\n\r\n    // ========================================================\r\n    // Contrôle d'échelle\r\n    // ========================================================\r\n    if (GeoLeaf.initScaleControl && typeof GeoLeaf.initScaleControl === \"function\") {\r\n        try {\r\n            GeoLeaf.initScaleControl(map);\r\n        } catch (e) {\r\n            AppLog.warn(\"GeoLeaf.initScaleControl() a levé une erreur :\", e);\r\n        }\r\n    }\r\n\r\n    // ========================================================\r\n    // Système de labels\r\n    // ========================================================\r\n    if (GeoLeaf.Labels && typeof GeoLeaf.Labels.init === \"function\") {\r\n        try {\r\n            GeoLeaf.Labels.init({ map: map });\r\n        } catch (e) {\r\n            AppLog.warn(\"GeoLeaf.Labels.init() a levé une erreur :\", e);\r\n        }\r\n    }\r\n\r\n    // ========================================================\r\n    // Affichage des coordonnées\r\n    // ========================================================\r\n    if (\r\n        cfg.ui &&\r\n        cfg.ui.showCoordinates !== false &&\r\n        GeoLeaf.UI &&\r\n        GeoLeaf.UI.CoordinatesDisplay &&\r\n        typeof GeoLeaf.UI.CoordinatesDisplay.init === \"function\"\r\n    ) {\r\n        try {\r\n            GeoLeaf.UI.CoordinatesDisplay.init(map, { position: \"bottomleft\", decimals: 6 });\r\n        } catch (e) {\r\n            AppLog.warn(\"GeoLeaf.UI.CoordinatesDisplay.init() a levé une erreur :\", e);\r\n        }\r\n    }\r\n\r\n    // ========================================================\r\n    // Révéler l'application quand les couches sont prêtes\r\n    // Le spinner #gl-loader reste opaque pendant que la carte\r\n    // et les couches GeoJSON se chargent derrière.\r\n    // On attend l'événement geoleaf:theme:applied (= toutes\r\n    // les couches visibles sont chargées) avant de révéler.\r\n    // ========================================================\r\n    let _appRevealed = false;\r\n    function revealApp(reason) {\r\n        if (_appRevealed) return;\r\n        _appRevealed = true;\r\n        const loader = document.getElementById(\"gl-loader\");\r\n        if (loader) {\r\n            loader.classList.add(\"gl-loader--fade\");\r\n            // Supprimer du DOM après la transition CSS (400ms)\r\n            // { once: true } garantit qu'on n'appelle pas hide() plusieurs fois\r\n            loader.addEventListener(\r\n                \"transitionend\",\r\n                function () {\r\n                    loader.style.display = \"none\";\r\n                },\r\n                { once: true }\r\n            );\r\n            // Fallback si transitionend ne se déclenche pas — 800ms > durée transition\r\n            // (valeur > durée transition pour laisser transitionend s'exécuter en premier)\r\n            setTimeout(function () {\r\n                loader.style.display = \"none\";\r\n            }, 800);\r\n        }\r\n\r\n        // Correctif : le loader (#gl-loader) recouvrait la carte (position: fixed; inset: 0)\r\n        // → Leaflet calculait fitBounds sur un conteneur de dimensions incorrectes.\r\n        // On recalcule après le retrait du loader.\r\n        if (map) {\r\n            map.invalidateSize({ pan: false });\r\n            setTimeout(function () {\r\n                try {\r\n                    map.fitBounds(profileBounds, {\r\n                        maxZoom: profileMaxZoom,\r\n                        padding: profilePadding,\r\n                        animate: true,\r\n                        duration: 0.6,\r\n                    });\r\n                } catch (e) {\r\n                    AppLog.warn(\"[GeoLeaf] Correctif fitBounds au reveal :\", e);\r\n                }\r\n            }, 120);\r\n        }\r\n\r\n        document.dispatchEvent(new CustomEvent(\"geoleaf:map:ready\"));\r\n        // Émettre l'événement de fin d'initialisation de l'application\r\n        // (utilisé par boot.js pour afficher le boot toast via GeoLeaf.bootInfo)\r\n        document.dispatchEvent(\r\n            new CustomEvent(\"geoleaf:app:ready\", {\r\n                detail: {\r\n                    version: GeoLeaf._version,\r\n                    timestamp: Date.now(),\r\n                },\r\n            })\r\n        );\r\n        AppLog.info(\"Application prête — \" + reason);\r\n        // perf 5 — benchmark: mesure du temps total de démarrage\r\n        if (typeof performance !== \"undefined\" && performance.mark) {\r\n            performance.mark(\"geoleaf:initApp:ready\");\r\n            try {\r\n                performance.measure(\r\n                    \"geoleaf:startup-total\",\r\n                    \"geoleaf:initApp:start\",\r\n                    \"geoleaf:initApp:ready\"\r\n                );\r\n                const entries = performance.getEntriesByName(\"geoleaf:startup-total\", \"measure\");\r\n                if (entries.length) {\r\n                    AppLog.info(\r\n                        \"[Perf] ⏱ Startup total: \" +\r\n                            entries[entries.length - 1].duration.toFixed(1) +\r\n                            \"ms\"\r\n                    );\r\n                }\r\n            } catch (error) {\r\n                void error;\r\n            }\r\n        }\r\n    }\r\n\r\n    // Attendre que toutes les couches du thème soient chargées\r\n    document.addEventListener(\r\n        \"geoleaf:theme:applied\",\r\n        function () {\r\n            revealApp(\"thème appliqué, couches chargées\");\r\n        },\r\n        { once: true }\r\n    );\r\n\r\n    // Sécurité : révéler après 5s max (réseau lent, erreur…) — perf 5.10: réduit de 15s à 5s\r\n    setTimeout(function () {\r\n        revealApp(\"timeout sécurité 5s\");\r\n    }, 5000);\r\n\r\n    AppLog.info(\"Application initialisée, chargement des couches en arrière-plan…\");\r\n};\r\n\r\nexport { _app };\r\n","/*!\r\n * GeoLeaf Core – App / Boot\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf Application Boot\r\n * Chargement de la configuration et lancement de l'initialisation.\r\n * Expose l'API publique GeoLeaf.boot().\r\n *\r\n * Usage : <script>GeoLeaf.boot();</script>\r\n *\r\n * @module app/boot\r\n */\r\nimport { _g } from \"../modules/globals.js\";\r\n\r\nconst GeoLeaf = _g.GeoLeaf;\r\nconst _app = (GeoLeaf._app = GeoLeaf._app || {});\r\n\r\n// ============================================================\r\n// Fonction startApp : chargement config + lancement initApp\r\n// ============================================================\r\n_app.startApp = async function () {\r\n    const AppLog = _app.AppLog;\r\n\r\n    if (!GeoLeaf) {\r\n        AppLog.error(\r\n            \"GeoLeaf global introuvable. Le bundle core doit être chargé avant GeoLeaf.boot().\"\r\n        );\r\n        return;\r\n    }\r\n\r\n    if (typeof GeoLeaf.loadConfig !== \"function\") {\r\n        AppLog.error(\r\n            \"GeoLeaf.loadConfig() est introuvable. Vérifiez que le bundle core est complet.\"\r\n        );\r\n        return;\r\n    }\r\n\r\n    AppLog.info(\"Démarrage de l'application...\");\r\n\r\n    // Écouter l'événement de fin d'initialisation pour afficher le boot toast\r\n    // (après que l'UI soit prête — sinon GeoLeaf.UI.notify n'existe pas encore)\r\n    document.addEventListener(\r\n        \"geoleaf:app:ready\",\r\n        function _onAppReady() {\r\n            if (GeoLeaf.bootInfo?.show) {\r\n                GeoLeaf.bootInfo.show(GeoLeaf);\r\n            }\r\n        },\r\n        { once: true }\r\n    );\r\n\r\n    let selectedProfile = null;\r\n    try {\r\n        const rawProfile = sessionStorage.getItem(\"gl-selected-profile\");\r\n        // Validate profile ID: alphanumeric, hyphens, underscores, max 50 chars\r\n        if (rawProfile && /^[a-zA-Z0-9_-]{1,50}$/.test(rawProfile)) {\r\n            selectedProfile = rawProfile;\r\n            AppLog.log(\"Profil sélectionné depuis sessionStorage:\", selectedProfile);\r\n        } else if (rawProfile) {\r\n            AppLog.warn(\r\n                \"Profil sessionStorage rejeté (format invalide):\",\r\n                rawProfile.substring(0, 20)\r\n            );\r\n        }\r\n        sessionStorage.removeItem(\"gl-selected-profile\");\r\n    } catch (e) {\r\n        AppLog.warn(\"Impossible de lire sessionStorage:\", e);\r\n    }\r\n\r\n    const profilesPath = _app.getProfilesBasePath();\r\n\r\n    // perf 5.4 : wrapper loadConfig (callback) en Promise pour pouvoir chaîner\r\n    const configPromise = new Promise((resolve, reject) => {\r\n        GeoLeaf.loadConfig({\r\n            url: profilesPath + \"geoleaf.config.json\",\r\n            profileId: selectedProfile,\r\n            autoEvent: true,\r\n            onLoaded: resolve,\r\n            onError: reject,\r\n        });\r\n    });\r\n\r\n    let cfg;\r\n    try {\r\n        cfg = await configPromise;\r\n        AppLog.log(\"Configuration chargée via GeoLeaf.loadConfig :\", cfg || {});\r\n    } catch (err) {\r\n        AppLog.error(\"Erreur chargement config via GeoLeaf.loadConfig :\", err);\r\n        return;\r\n    }\r\n\r\n    if (GeoLeaf.Config && typeof GeoLeaf.Config.getCategories === \"function\") {\r\n        try {\r\n            GeoLeaf.Config.getCategories();\r\n        } catch (e) {\r\n            AppLog.warn(\"Erreur lors de la lecture du mapping catégories :\", e);\r\n        }\r\n    }\r\n\r\n    const baseCfg = cfg || {};\r\n\r\n    if (GeoLeaf.Config && typeof GeoLeaf.Config.loadActiveProfileResources === \"function\") {\r\n        try {\r\n            const profileCfg = await GeoLeaf.Config.loadActiveProfileResources();\r\n            AppLog.info(\"Ressources du profil actif chargées.\");\r\n            _app.initApp(profileCfg || baseCfg);\r\n        } catch (err) {\r\n            AppLog.warn(\"Erreur lors du chargement des ressources de profil :\", err);\r\n            _app.initApp(baseCfg);\r\n        }\r\n    } else {\r\n        _app.initApp(baseCfg);\r\n    }\r\n};\r\n\r\n// ============================================================\r\n// Exposer GeoLeaf.boot() — API publique\r\n// ============================================================\r\n\r\n/**\r\n * Démarre l'application GeoLeaf.\r\n * Charge la configuration, initialise la carte et tous les modules.\r\n * Les plugins optionnels (Storage, AddPOI) doivent être chargés avant cet appel.\r\n *\r\n * @example\r\n * <script src=\"dist/geoleaf.umd.js\"></script>\r\n * <script src=\"dist/geoleaf-storage.plugin.js\"></script>  <!-- optionnel -->\r\n * <script src=\"dist/geoleaf-addpoi.plugin.js\"></script>   <!-- optionnel -->\r\n * <script>GeoLeaf.boot();</script>\r\n */\r\nGeoLeaf.boot = function () {\r\n    // Rapport plugins premium — silencieux si aucun chargé (core seul)\r\n    GeoLeaf.plugins?.reportPremiumPlugins?.();\r\n\r\n    if (document.readyState === \"loading\") {\r\n        document.addEventListener(\"DOMContentLoaded\", _app.startApp);\r\n    } else {\r\n        _app.startApp();\r\n    }\r\n};\r\n\r\nexport { _app };\r\n","/*!\r\n * GeoLeaf Core\r\n * © 2026 Mattieu Pottier\r\n * Released under the MIT License\r\n * https://geoleaf.dev\r\n */\r\n\r\n/**\r\n * GeoLeaf Bundle Entry Point — Phase 7 UMD Build\r\n * Point d'entrée pour la génération du bundle UMD via Rollup.\r\n *\r\n * Ce fichier est le point d'entrée EXCLUSIF pour les builds UMD (umdConfig, umdMinConfig).\r\n * Il ne doit PAS contenir de named ESM exports — ceux-ci sont dans bundle-esm-entry.js.\r\n *\r\n * Responsabilités :\r\n *   - Bootstrap applicatif (T12 : src/app/)\r\n *   - Module loader pour code splitting lazy\r\n *   - globals.js en DERNIER (side-effects window.GeoLeaf.* après tous les modules)\r\n *\r\n * @version 4.0.0\r\n * @see src/bundle-esm-entry.js pour les named exports ESM\r\n */\r\n\r\n// ── T12: Application bootstrap (ESM) ──\r\n// Ces modules importent directement leurs dépendances via ESM (Pattern A pur).\r\nimport \"./app/helpers.js\";\r\nimport \"./app/init.js\";\r\nimport \"./app/boot.js\";\r\n\r\n// ── Sprint 6 / Phase 7: Module loader pour code splitting ──\r\n// En mode ESM, ces import() produisent des chunks séparés dans dist/chunks/.\r\n// En mode UMD, Rollup les inline (bundle unique, compatible backward).\r\nconst _gl = typeof globalThis !== \"undefined\" ? globalThis : window;\r\n_gl.GeoLeaf = _gl.GeoLeaf || {};\r\n\r\n/**\r\n * Table des resolvers lazy — Map extensible des modules GeoLeaf.\r\n * Remplace le switch-case statique (C8).\r\n * En mode UMD le code est déjà inliné → résolution immédiate.\r\n * En mode ESM → chunk réseau séparé.\r\n */\r\nconst _lazyModuleResolvers = new Map([\r\n    // POI : chargement complet (core → renderers + extras en parallèle)\r\n    [\r\n        \"poi\",\r\n        async () => {\r\n            await import(\"./lazy/poi-core.js\");\r\n            await Promise.all([import(\"./lazy/poi-renderers.js\"), import(\"./lazy/poi-extras.js\")]);\r\n        },\r\n    ],\r\n    // POI sub-chunks (chargement granulaire)\r\n    [\"poiCore\", () => import(\"./lazy/poi-core.js\")],\r\n    [\"poiRenderers\", () => import(\"./lazy/poi-renderers.js\")],\r\n    [\"poiExtras\", () => import(\"./lazy/poi-extras.js\")],\r\n    [\"basemapSelector\", () => import(\"./lazy/basemap-selector.js\")],\r\n    [\"route\", () => import(\"./lazy/route.js\")],\r\n    [\"layerManager\", () => import(\"./lazy/layer-manager.js\")],\r\n    [\"legend\", () => import(\"./lazy/legend.js\")],\r\n    [\"labels\", () => import(\"./lazy/labels.js\")],\r\n    [\"themes\", () => import(\"./lazy/themes.js\")],\r\n    [\"table\", () => import(\"./lazy/table.js\")],\r\n]);\r\n\r\n// Enregistrer les resolvers dans PluginRegistry (après globals.js via ESM hoisting)\r\nif (_gl.GeoLeaf.plugins?.registerLazy) {\r\n    for (const [name, resolver] of _lazyModuleResolvers) {\r\n        _gl.GeoLeaf.plugins.registerLazy(name, resolver);\r\n    }\r\n}\r\n\r\n/**\r\n * Charge un module secondaire à la demande.\r\n * @param {string} moduleName - Nom du module ('poi','route','table','legend','layerManager','labels','themes')\r\n * @returns {Promise<void>}\r\n */\r\n_gl.GeoLeaf._loadModule = async function (moduleName) {\r\n    const resolver = _lazyModuleResolvers.get(moduleName);\r\n    if (!resolver) {\r\n        console.warn(\r\n            `[GeoLeaf] Module inconnu : \"${moduleName}\". Disponibles : ${[..._lazyModuleResolvers.keys()].join(\", \")}`\r\n        );\r\n        return;\r\n    }\r\n    try {\r\n        await resolver();\r\n        _gl.GeoLeaf.plugins?.register(moduleName, { version: _gl.GeoLeaf._version });\r\n    } catch (err) {\r\n        console.error(`[GeoLeaf] Erreur lors du chargement du module \"${moduleName}\" :`, err);\r\n        throw err;\r\n    }\r\n};\r\n\r\n/**\r\n * Charge tous les modules secondaires en parallèle.\r\n * Appelé par init.js pour pré-charger avant l'initialisation.\r\n * @returns {Promise<void>}\r\n */\r\n_gl.GeoLeaf._loadAllSecondaryModules = async function () {\r\n    // POI core en premier (poi-renderers/extras/add-form en dépendent)\r\n    await import(\"./lazy/poi-core.js\");\r\n    await Promise.all([\r\n        import(\"./lazy/poi-renderers.js\"),\r\n        import(\"./lazy/poi-extras.js\"),\r\n        import(\"./lazy/route.js\"),\r\n        import(\"./lazy/layer-manager.js\"),\r\n        import(\"./lazy/legend.js\"),\r\n        import(\"./lazy/labels.js\"),\r\n        import(\"./lazy/themes.js\"),\r\n        import(\"./lazy/table.js\"),\r\n    ]);\r\n};\r\n\r\n// Point unique compat UMD/CDN — DERNIER import (side-effects window.GeoLeaf.*)\r\n// globals.js importe tous les modules T0–T11 et les assigne sur _g.GeoLeaf.\r\nimport \"./modules/globals.js\";\r\n// geoleaf.api.js — façade ESM (named exports uniquement).\r\n// ⚠️ UMD : les méthodes publiques (loadConfig, init, setTheme, etc.) sont\r\n//    assignées directement dans globals.api.js (fin de fichier) pour éviter\r\n//    l'élimination par le DCE de Rollup (Object.assign sur objet dérivé de globalThis).\r\nimport \"./modules/geoleaf.api.js\";\r\n\r\n// Export du namespace global GeoLeaf tel qu'assemblé par globals.js\r\n// ⚠️ Ce `export default` est le SEUL export — PAS de named exports ici.\r\n//    Ainsi le bundle UMD assigne window.GeoLeaf = l'objet GeoLeaf existant (pas un wrapper).\r\nexport default typeof window !== \"undefined\" ? window.GeoLeaf : {};\r\n","/**\r\n * GeoLeaf Lazy Chunk — POI Core\r\n * Noyau du module POI : état partagé, normalisation, marqueurs, logique principale.\r\n * Chargé en premier lors du code splitting POI (les autres chunks en dépendent).\r\n * @module lazy/poi-core\r\n */\r\nimport '../modules/poi/shared.js';\r\nimport '../modules/poi/normalizers.js';\r\nimport '../modules/poi/markers.js';\r\nimport '../modules/poi/core.js';\r\nimport '../modules/geoleaf.poi.js';\r\n","/**\r\n * GeoLeaf Lazy Chunk — POI Renderers\r\n * Système de rendu du contenu POI : champs, médias, liens, lightbox, sections.\r\n * Dépend de poi-core (doit être chargé après).\r\n * @module lazy/poi-renderers\r\n */\r\nimport '../modules/renderers/abstract-renderer.js';\r\nimport '../modules/poi/renderers/field-renderers.js';\r\nimport '../modules/poi/renderers/media-renderers.js';\r\nimport '../modules/poi/renderers/lightbox-manager.js';\r\nimport '../modules/poi/renderers/ui-behaviors.js';\r\nimport '../modules/poi/renderers/component-renderers.js';\r\nimport '../modules/poi/renderers/links.js';\r\nimport '../modules/poi/renderers/section-orchestrator.js';\r\nimport '../modules/poi/renderers/core.js';\r\nimport '../modules/poi/renderers.js';\r\n","/**\r\n * GeoLeaf Lazy Chunk — POI Extras\r\n * Fonctionnalités POI complémentaires : popups, panneau latéral.\r\n * Dépend de poi-core (doit être chargé après).\r\n * Note: image-upload, sync-handler, placement-mode → GeoLeaf-Plugins/plugin-addpoi\r\n * @module lazy/poi-extras\r\n */\r\nimport \"../modules/poi/popup.js\";\r\nimport \"../modules/poi/sidepanel.js\";\r\n","/**\r\n * GeoLeaf Lazy Chunk — Basemap Selector\r\n * Sélecteur de fond de carte, chargé conditionnellement selon la configuration.\r\n * @module lazy/basemap-selector\r\n */\r\nimport '../modules/layer-manager/basemap-selector.js';\r\n","/**\r\n * GeoLeaf Lazy Chunk — Route\r\n * Chargé à la demande via import() dynamique (Sprint 6 code splitting).\r\n * @module lazy/route\r\n */\r\nimport '../modules/route/style-resolver.js';\r\nimport '../modules/route/popup-builder.js';\r\nimport '../modules/route/loaders.js';\r\nimport '../modules/route/layer-manager.js';\r\nimport '../modules/geoleaf.route.js';\r\n","/**\r\n * GeoLeaf Lazy Chunk — LayerManager\r\n * Chargé à la demande via import() dynamique (Sprint 6 code splitting).\r\n * @module lazy/layer-manager\r\n */\r\nimport '../modules/layer-manager/shared.js';\r\nimport '../modules/layer-manager/renderer.js';\r\nimport '../modules/layer-manager/cache-section.js';\r\nimport '../modules/layer-manager/basemap-selector.js';\r\nimport '../modules/layer-manager/style-selector.js';\r\nimport '../modules/layer-manager/control.js';\r\nimport '../modules/geoleaf.layer-manager.js';\r\n","/**\r\n * GeoLeaf Lazy Chunk — Legend\r\n * Chargé à la demande via import() dynamique (Sprint 6 code splitting).\r\n * @module lazy/legend\r\n */\r\nimport '../modules/legend/legend-generator.js';\r\nimport '../modules/legend/legend-renderer.js';\r\nimport '../modules/legend/legend-control.js';\r\nimport '../modules/geoleaf.legend.js';\r\n","/**\r\n * GeoLeaf Lazy Chunk — Labels\r\n * Chargé à la demande via import() dynamique (Sprint 6 code splitting).\r\n * @module lazy/labels\r\n */\r\nimport '../modules/labels/label-renderer.js';\r\nimport '../modules/labels/label-button-manager.js';\r\nimport '../modules/labels/labels.js';\r\n","/**\r\n * GeoLeaf Lazy Chunk — Themes (loader + applier + selector)\r\n * Chargé à la demande via import() dynamique (Sprint 6 code splitting).\r\n * @module lazy/themes\r\n */\r\nimport '../modules/themes/theme-loader.js';\r\nimport '../modules/themes/theme-applier/core.js';\r\nimport '../modules/themes/theme-applier/visibility.js';\r\nimport '../modules/themes/theme-applier/deferred.js';\r\nimport '../modules/themes/theme-applier/ui-sync.js';\r\nimport '../modules/themes/theme-selector.js';\r\n","/**\r\n * GeoLeaf Lazy Chunk — Table\r\n * Chargé à la demande via import() dynamique (Sprint 6 code splitting).\r\n * @module lazy/table\r\n */\r\nimport '../modules/table/panel.js';\r\nimport '../modules/table/renderer.js';\r\nimport '../modules/geoleaf.table.js';\r\n"],"names":["_g","validateUrl","validateCoordinates","validateNumber","ProfileLoader","ConfigLoader","ModularProfileLoader","_map","init","_secValidateUrl","ensureMap","resolveField","createElement","DEFAULT_CONFIG","formatNumber","getNestedValue","globalEvents","_eventBus","_gl","validateRequiredFields","_validateStyleRules","_validateScales","_validateLegend","extractCoordinates","ScaleControl","getState","_state","LayerManager","ScaleUtils","Loader","SharedModule","getContentBuilder","LayerManagerStore","LayerManagerVisibility","LayerManagerStyle","LayerManagerIntegration","LoaderConfigHelpers","LoaderData","LoaderProfile","LoaderSingleLayer","LayerVisibilityManager","_isScaleInRange","_calculateMapScale","LabelRenderer","state","getResolveField","getEscapeHtml","wrapInDiv","createBadge","Helpers","renderText","renderList","renderTable","renderGallery","renderReviews","renderItem","_resolveField","$create","ThemeApplierCore","ThemeLoader","TA","VisibilityManager","POISidePanel","_haversine","_extractRating","_normalizeTags","getShared","getStateReader","getApplier","ThemeApplierDeferred","ThemeApplierUISync","ThemeApplierVisibility","UIScaleControl","ContentBuilderHelpers","ContentBuilderTemplates","ContentBuilderAssemblers","events","_events","_TablePanel","_TableRenderer","_secValidateCoordinates","GeoLeaf","_app"],"mappings":"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A;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,SAAS,mBAAmB,CAAC,GAAG,EAAE,KAAK,EAAE;IACzC,IAAI,MAAM,MAAM,GAAG,YAAY,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IAC5C,IAAI,OAAO,MAAM,CAAC,YAAY,CAAC;IAC/B,CAAC;AACD;IACA;IACA;IACA;AACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,SAAS,YAAY,CAAC,GAAG,EAAE;IAC3B,IAAI,OAAO,GAAG,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC;AACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,SAAS,iBAAiB,CAAC,GAAG,EAAE,GAAG,EAAE,SAAS,GAAG,CAAC,EAAE;IACpD,IAAI,OAAO,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IAClE,CAAC;AACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,SAAS,YAAY,CAAC,MAAM,EAAE,SAAS,GAAG,CAAC,EAAE;IAC7C,IAAI,OAAO,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC;IAC5C,CAAC;AACD;IACA;IACA;IACA;AACA;IACA,MAAM,kBAAkB,GAAG;IAC3B;IACA,qBAAIA,iBAAe;IACnB,mBAAIC,eAAa;IACjB,IAAI,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"}